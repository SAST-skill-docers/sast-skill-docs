{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u8ba1\u7b97\u673a\u7cfb\u5b66\u751f\u79d1\u534f\u6280\u80fd\u5f15\u5bfc\u6587\u6863","text":"<p>\u672c\u6280\u80fd\u5f15\u5bfc\u6587\u6863\u7531\u6e05\u534e\u5927\u5b66\u8ba1\u7b97\u673a\u7cfb\u5b66\u751f\u79d1\u534f\u7ef4\u62a4\uff0c\u76ee\u6807\u5728\u4e8e\u8ba9\u8ba1\u7b97\u673a\u7c7b\u4e0e\u8ba1\u7b97\u673a\u7cfb\u7684\u5b66\u751f\u80fd\u591f\u5feb\u901f\u5730\u638c\u63e1\u67d0\u4e9b\u7279\u5b9a\u7684\u6280\u80fd\uff0c\u5e76\u4e14\u901a\u8fc7\u7ed9\u51fa\u8fd9\u4e9b\u6280\u80fd\u5728\u8bfe\u7a0b\u3001\u79d1\u7814\u4e0e\u5b9e\u4e60\u4e2d\u53ef\u80fd\u8fd0\u7528\u7684\u65b9\u5f0f\uff0c\u8282\u7701\u540c\u5b66\u4eec\u6536\u96c6\u76f8\u5173\u8d44\u6599\u7684\u65f6\u95f4\uff0c\u540c\u65f6\u63d0\u5347\u540c\u5b66\u4eec\u5b66\u4e60\u65b0\u6280\u80fd\u7684\u80fd\u529b\u3002</p> <p>But I can only show you the door.  You have to walk through it.</p> <p>\u6211\u4eec\u53ea\u4f1a\u4ecb\u7ecd\u4e00\u79cd\u4e3b\u9898\u6700\u57fa\u672c\u7684\u5165\u95e8\u5185\u5bb9\uff0c\u5e76\u4f1a\u5c31\u540e\u7eed\u7684\u6269\u5c55\u5b66\u4e60\u7ed9\u51fa\u4e00\u4e9b\u76f8\u5e94\u7684\u6307\u5bfc\u3002\u4e0d\u8fc7\uff0c\u4fdd\u6301\u81ea\u8eab\u5bf9\u77e5\u8bc6\u7684\u8ffd\u6c42\uff0c\u4e0d\u65ad\u953b\u70bc\u81ea\u5df1\u5229\u7528\u641c\u7d22\u5f15\u64ce\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\uff0c\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002</p> <p>\u4f7f\u7528\u672c\u6587\u6863\u4e4b\u524d\uff0c\u53ef\u4ee5\u9605\u8bfb \u8bfb\u8005\u987b\u77e5\uff0c\u4e86\u89e3\u6211\u4eec\u5e0c\u671b\u8bfb\u8005\u5982\u4f55\u5229\u7528\u597d\u8fd9\u4efd\u6587\u6863\uff0c\u4ee5\u53ca\u5982\u4f55\u5411\u6211\u4eec\u53cd\u9988\u95ee\u9898\u3002</p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u6b22\u8fce\u5c4f\u5e55\u524d\u7684\u60a8\u5bf9\u6211\u4eec\u7684\u6587\u6863\u8fdb\u884c\u8d21\u732e\u3002\u8bf7\u5728\u4ed4\u7ec6\u9605\u8bfb \u7f16\u8f91\u8005\u987b\u77e5 \u540e\uff0c\u4e3a\u6280\u80fd\u5f15\u5bfc\u6587\u6863\u7684\u5efa\u8bbe\u6dfb\u7816\u52a0\u74e6\u3002</p>"},{"location":"#_2","title":"\u6587\u6863\u67b6\u6784","text":"<p>\u6587\u6863\u76ee\u524d\u7531\u8bfe\u7a0b\u6307\u5f15\u3001\u57fa\u672c\u6280\u80fd\u3001\u7f16\u7a0b\u8bed\u8a00\u3001\u524d\u7aef\u6846\u67b6\u3001\u540e\u7aef\u6846\u67b6\u3001\u4eba\u5de5\u667a\u80fd &amp; \u673a\u5668\u5b66\u4e60\u3001\u8d44\u6e90\u94fe\u63a5\u51e0\u4e2a\u9886\u57df\u7ec4\u6210\u3002\u6bcf\u4e2a\u9886\u57df\u4e0b\u6709\u591a\u4e2a\u76f8\u5e94\u7684\u4e3b\u9898\uff0c\u8fd9\u91cc\u4e0d\u518d\u4e00\u4e00\u5217\u4e3e\u3002</p> <p>\u5bf9\u4e8e PC \u7aef\u8bfb\u8005\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u9875\u9762\u4e0a\u65b9\u7684 Navbar \u9009\u62e9\u76f8\u5e94\u9886\u57df\uff0c\u9875\u9762\u5de6\u4fa7\u7684 Sidebar \u9009\u62e9\u76f8\u5e94\u4e3b\u9898\u8fdb\u884c\u9605\u8bfb\u3002</p> <p>\u5bf9\u4e8e\u79fb\u52a8\u7aef\u8bfb\u8005\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u76ee\u5f55 Icon\uff0c\u8fdb\u800c\u70b9\u51fb\u8fd4\u56de Icon\uff0c\u7136\u540e\u9009\u62e9\u76f8\u5e94\u7684\u9886\u57df\uff0c\u8fdb\u800c\u9009\u62e9\u76f8\u5e94\u4e3b\u9898\u8fdb\u884c\u9605\u8bfb\u3002</p>"},{"location":"#_3","title":"\u81f4\u8c22","text":"<p>\u611f\u8c22\u4e3a\u8fd9\u4e00\u4efd\u6587\u6863\u505a\u51fa\u8d21\u732e\u7684\u5404\u4f4d\u3002</p> \u8d21\u732e\u8005 \u8d21\u732e\u5185\u5bb9 Ashitemaru JavaScript\u3001TypeScript  \u6587\u6863\u7ef4\u62a4 c7w Git\u3001Linux\u3001Python \u57fa\u7840  \u6587\u6863\u7ef4\u62a4 xmh Markdown  \u6587\u6863\u7ef4\u62a4 abmfy \u6587\u6863\u7ef4\u62a4 ayf Python \u722c\u866b\u3001Python \u5305\u7ba1\u7406\u3001Node.js ChrisZhang Rust livingshade \u5bf9\u6297\u641c\u7d22 lys Swift\u3001Swift UI zcy0 C++ OOP lifeihan PyTorch \u5165\u95e8 pyz Go Clever_Jimmy Java\u3001Android"},{"location":"ai-ml/","title":"\u4eba\u5de5\u667a\u80fd &amp; \u673a\u5668\u5b66\u4e60","text":"<p>\u672c\u90e8\u5206\u4e3b\u8981\u4ecb\u7ecd\u4eba\u5de5\u667a\u80fd\u9886\u57df\u76f8\u5173\u77e5\u8bc6\u4ee5\u53ca\u53ef\u80fd\u4f7f\u7528\u5230\u7684\u6846\u67b6\u3001\u5de5\u5177\u3002</p> <p>\u4e0d\u5b8c\u5584\u7684\u6761\u76ee</p> <p>\u6211\u4eec\u5e0c\u671b\u6709\u66f4\u591a\u7684\u7f16\u5199\u8005\u4e3a\u8fd9\u4e00\u90e8\u5206\u7f16\u5199\u6587\u6863\uff0c\u5c24\u5176\u662f Pytorch \u76f8\u5173\u3002</p>"},{"location":"ai-ml/NLP/","title":"NLP","text":""},{"location":"ai-ml/NLP/#0","title":"0. \u5f15\u8a00","text":"<p>\u60a8\u662f\u5426\u538c\u5026\u4e86\u4eba\u7c7b\u4e4b\u95f4\u4f7f\u7528\u79bb\u6563\u8bed\u8a00\u7684\u4f4e\u6548\u4ea4\u6d41\uff1f\u60a8\u662f\u5426\u5e0c\u671b\u5b66\u4e60\u66f4\u52a0\u62bd\u8c61\u4e14\u9ad8\u6548\u7684\u8868\u8fbe\u65b9\u5f0f\uff0c\u6216\u8005\u6e34\u671b\u4e0e\u8ba1\u7b97\u673a\u5efa\u7acb\u66f4\u52a0\u8fde\u7eed\u7684\u6c9f\u901a\uff1f\u672c\u95e8\u8bfe\u7a0b\u5c06\u4ece\u81ea\u7136\u8bed\u8a00\u4e2d\u5355\u8bcd\u7684\u6700\u57fa\u672c\u8868\u793a\u2014\u2014\u8bcd\u5411\u91cf\u5f00\u59cb\u8bb2\u8d77\uff0c\u8be6\u7ec6\u8bb2\u89e3\u5f53\u524d $ NLP$ ( Natural Language Processing, \u81ea\u7136\u8bed\u8a00\u5904\u7406) \u7684\u4e3b\u6d41\u6a21\u578b  Transformer\uff0c\u5e76\u6559\u6388\u5982\u4f55\u4f7f\u7528\u76ee\u524d\u6700\u70ed\u95e8\u7684 NLP \u6a21\u578b\u6258\u7ba1\u5e73\u53f0 Hugging Face \ud83e\udd17\u3002</p> <p>\u5982\u679c\u60a8\u89c9\u5f97\u81ea\u5df1\u7684\u8bed\u8a00\u8868\u8fbe\u8fc7\u4e8e\u79bb\u6563\uff0c\u5e0c\u671b\u5b66\u4e60\u5177\u6709\u8fde\u7eed\u6027\u7684\u8868\u8fbe\u65b9\u5f0f\uff1b\u6216\u8005\u8ba4\u4e3a\u81ea\u5df1\u7684\u8868\u8fbe\u8fc7\u4e8e\u76f4\u767d\uff0c\u7f3a\u4e4f\u9ad8\u5c42\u6b21\u7684\u62bd\u8c61\uff1b\u6216\u8005\u5e0c\u671b\u5728\u672c\u5730\u90e8\u7f72\u7c7b ChatGPT \u8bed\u8a00\u6a21\u578b\uff0c\u90a3\u4e48\u8bf7\u5c06\u672c\u8bfe\u7a0b\u538b\u5165\u60a8\u7684\u8fd0\u884c\u6808\u3002\u672c\u8bfe\u7a0b\u867d\u65e0\u76ca\u4e8e\u63d0\u5347\u60a8\u4f5c\u4e3a\u4eba\u7684\u8868\u8fbe\u80fd\u529b\uff0c\u5373\u6559\u4f1a\u60a8\u4e2a\u4eba\u4f7f\u7528\u8bcd\u5411\u91cf\u8868\u8fbe\u5e76\u5bf9\u9ad8\u5c42\u6b21\u62bd\u8c61\u8bed\u4e49\u7279\u5f81\u8fdb\u884c\u63d0\u53d6\uff0c\u4f46\u53ef\u4ee5\u4f7f\u60a8\u7684\u6a21\u578b\u5177\u6709\u66f4\u52a0\u5b8c\u5907\u7684\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u4e0e\u81ea\u7136\u8bed\u8a00\u751f\u6210\u80fd\u529b\uff0c\u4ece\u800c\u5728\u8bed\u8a00\u7c7b\u4efb\u52a1\u4e2d\u5b9e\u73b0\u5bf9\u60a8\u7684\u4ee3\u66ff\u3002 \u5728\u672c\u8bfe\u7a0b\u4e2d\uff0c\u60a8\uff08\u6216\u8005\u60a8\u7684\u6a21\u578b\uff0c\u5982\u679c\u6bd4\u60a8\u66f4\u667a\u80fd\u7684\u8bdd\uff09\u53ef\u4ee5\uff1a \u5b66\u4e60\u53d8\u5f62\u91d1\u521a\u7684\u57fa\u672c\u539f\u7406\u3001\u7ed3\u6784\uff0c\u4eb2\u624b\u7ec4\u88c5\u5e76\u8fd0\u884c\u60a8\u7684\u7b2c\u4e00\u4e2a\u53d8\u5f62\u91d1\u521a\uff08\u6a21\u5757\u65e0\u9700\u81ea\u5907\uff09\u3002\u4e86\u89e3\u5927\u89c4\u6a21\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\u7684\u9884\u8bad\u7ec3\u3001\u5fae\u8c03\u65b9\u6cd5\u3002 \u719f\u7ec3\u638c\u63e1\u62b1\u62b1\u8138\u7684\u4f7f\u7528\u573a\u666f\u4e0e\u6280\u5de7\u3002 \u5bf9\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\u8fdb\u884c\u5fae\u8c03\uff0c\u5b8c\u6210\u7b80\u5355\u7684\u6587\u672c\u4efb\u52a1\u3002\u5728\u5b66\u4e60\u5b8c\u8ba1\u7b97\u673a\u89c6\u89c9\u8bfe\u7a0b\u540e\uff0c\u5c1d\u8bd5\u4f7f\u7528\u591a\u6a21\u6001\u6a21\u578b\u5b8c\u6210\u6587\u672c &amp; \u56fe\u50cf\u4efb\u52a1\u3002</p>"},{"location":"ai-ml/NLP/#1","title":"1. \u5982\u4f55\u8868\u793a\u4e00\u4e2a\u8bcd\u7684\u542b\u4e49\uff1f","text":"<ul> <li>\u7528\u4e00\u4e2a id \u8868\u793a\u4e00\u4e2a\u8bcd\uff1f</li> </ul> <ul> <li>\u79bb\u6563\u7684 id \u578b\u8bcd\u8bed\u5982\u4f55\u8f93\u5165\u5230\u795e\u7ecf\u7f51\u7edc\u4e4b\u4e2d\uff1f</li> <li>\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u5bf9\u8c61\u901a\u5e38\u662f feature -&gt; \u6211\u4eec\u9700\u8981\u5f97\u5230\u8bcd\u7684 featurexw xw</li> </ul>"},{"location":"ai-ml/NLP/#word-embedding","title":"\ud83e\udd17Word Embedding \u8bcd\u5d4c\u5165","text":"<ul> <li>\u5c06\u4e00\u4e2a\u8bcd\u6620\u5c04\u4e3a\u4e00\u4e2a \ud835\udc52\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54 \\; dim \u7ef4\u7684\u5411\u91cf</li> <li>\u6bcf\u4e00\u7ef4\u5177\u6709\u4e00\u5b9a\u7684\u542b\u4e49\uff08\u5177\u4f53\u542b\u4e49\u53ef\u80fd\u5f88\u62bd\u8c61\uff09</li> </ul>"},{"location":"ai-ml/NLP/#word-embedding_1","title":"\ud83e\udd17\u5982\u4f55\u83b7\u53d6 Word Embedding \uff1f","text":"<ul> <li>\u624b\u5de5\u6784\u9020\uff1f</li> </ul> <p>\u2022 \u201c\u5317\u4eac\u5728\u5317\u7eac 40 \u5ea6\uff0c\u6240\u4ee5\u5fc5\u987b\u6709\u4e00\u7ef4\u5411\u91cf\u7684\u503c\u662f 40 \u201d\uff1f</p> <ul> <li>\u901a\u8fc7\u5728\u4efb\u52a1\u4e2d\u62df\u5408\u6570\u636e\u83b7\u5f97</li> </ul> <p>\u2022 \u4f8b\u5982\u5bf9\u4e8e Next\\;token\\;prediction \uff08\u6839\u636e\u524d\u7f00\u9884\u6d4b\u4e0b\u4e2a\u8bcd\uff09\u7684\u4efb\u52a1\uff1a</p> <ol> <li>\u968f\u673a\u521d\u59cb\u5316\u6240\u6709\u8bcd v \u7684 Word\\; Embedding E_v</li> <li>\u5c06\u524d\u7f00\u7684 Embedding \u6c42\u548c\u53d6\u5e73\u5747 E_{\\text{predict}} = \\frac{1}{k} \\sum_{j=0}^{k-1} E_{v_j}</li> <li>\u4e0b\u2f00\u4e2a\u8bcd\u662f Embedding \u4e0e E_{predict} \u6700\u63a5\u8fd1\u7684\u8bcd  v_{\\text{predict}} = \\max_{v_i} \\cos \\left( E_{\\text{predict}}, E_{v_i} \\right)</li> <li>\u8ba1\u7b97 loss\uff0c\u53cd\u5411\u4f20\u64ad</li> </ol>"},{"location":"ai-ml/NLP/#2","title":"2. \u5982\u4f55\u83b7\u53d6\u8bcd\u5728\u53e5\u5b50\u4e2d\u7684\u5411\u91cf\u8868\u793a\uff1f","text":"<p>An Apple a Day Keeps the Doctor Away </p> <p>\u4e00\u5929\u4e00\u90e8 Iphone \u8ba9\u6211\u4e0e\u535a\u58eb\u5b66\u4f4d\u5931\u4e4b\u4ea4\u81c2\uff1f</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u60f3\u6cd5\uff1a\u5c06\u53e5\u4e2d\u6240\u6709\u8bcd\u7684\u5411\u91cf\u52a0\u6743\u6c42\u548c\uff0c\u8868\u793a\u8bcd\u5728\u53e5\u4e2d\u7684\u542b\u4e49\u3002</p>"},{"location":"ai-ml/NLP/#skip-gram-cbow","title":"\ud83e\udd17Skip-Gram &amp; CBOW","text":"<p>\u4e00\u4e2a\u8bcd\u7684\u610f\u601d\u53d6\u51b3\u4e8e\u76f8\u90bb\u8bcd</p> <p></p>"},{"location":"ai-ml/NLP/#textcnn","title":"\ud83e\udd17TextCNN","text":"<p>\u4f7f\u7528\u5377\u79ef\u6765\u805a\u5408\u7279\u5f81</p> <p></p>"},{"location":"ai-ml/NLP/#rnn","title":"\ud83e\udd17RNN","text":"<p>\u9884\u6d4b\u4e0b\u4e00\u4e2a\u8bcd</p> <p></p>"},{"location":"ai-ml/NLP/#_1","title":"\ud83e\udd17\u957f\u8ddd\u79bb\u4f9d\u8d56\uff1f","text":""},{"location":"ai-ml/NLP/#attention-is-all-you-need","title":"\ud83e\udd17Attention is all you need!","text":""},{"location":"ai-ml/NLP/#attention-probs","title":"\ud83e\udd17Attention Probs","text":"<ul> <li> <p>\u5982\u4f55\u83b7\u53d6 \ud835\udc4e\ud835\udc61\ud835\udc61\ud835\udc52\ud835\udc5b\ud835\udc61\ud835\udc56\ud835\udc5c\ud835\udc5b\\;\ud835\udc5d\ud835\udc5f\ud835\udc5c\ud835\udc4f\ud835\udc60\uff1f\u4e24\u4e2a\u8bcd\u8d8a\u76f8\u5173\u8d8a\u5927\uff1f</p> </li> <li> <p>\u4ee5\u4e24\u4e2a\u8bcd \ud835\udc38\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54 \u7684\u4f59\u5f26\u5939\u89d2\u8868\u793a\u76f8\u4f3c\u5ea6\uff1a</p> </li> </ul> \\text{attention scores}(v_i, v_j) = \\cos \\left( E_{v_i}, E_{v_j} \\right) <ul> <li>\u4f7f\u7528 \ud835\udc46\ud835\udc5c\ud835\udc53\ud835\udc61\ud835\udc5a\ud835\udc4e\ud835\udc65 \u5f52\u4e00\u5316\uff1a</li> </ul> \\text{attention probs}(v_i, v_j) = \\frac{e^{\\text{attention scores}(v_i, v_j)}}{\\sum_{k=0}^{\\text{sequence length}} e^{\\text{attention scores}(v_i, v_k)}}  E_{v_iin\\;sentence}= \\sum_{j=0}^{\\text{seq\\;len}} \\text{attention probs}(v_i, v_j) E_j"},{"location":"ai-ml/NLP/#attention-score","title":"\ud83e\udd17\u5982\u4f55\u79d1\u5b66\u83b7\u53d6Attention Score\uff1f","text":"<ul> <li>\ud835\udc38\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54 \u7684\u4f59\u5f26\u5939\u89d2\uff1a\u4e0e \ud835\udc63_{i} \u76f8\u4f3c\u7684\u7279\u5f81\u771f\u7684\u662f \ud835\udc63_{i} \u9700\u8981\u7684\u5417\uff1f\ud83e\udd14</li> </ul> <p>\u2022 \u5047\u5982\u53e5\u5b50\u4e3a\uff1a\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4e\ud83c\udf4eare good.</p> <p>\u2022\u4e0e \ud835\udc38_{\ud83c\udf4e} \u6700\u63a5\u8fd1\u7684\u603b\u662f \ud835\udc38_{\ud83c\udf4e}\uff0c\ud835\udc38_{\ud83c\udf4ein\\;sentence}= \ud835\udc38_{\ud83c\udf4e}</p> <ul> <li> <p>\ud835\udc38\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54 \u2192 (\ud835\udc44\ud835\udc62\ud835\udc52\ud835\udc5f\ud835\udc66,\ud835\udc3e\ud835\udc52\ud835\udc66) \ud83e\udd17\ud83e\udd17\ud83e\udd17</p> </li> <li> <p>\ud835\udc44\ud835\udc62\ud835\udc52\ud835\udc5f\ud835\udc66\uff1a\u60f3\u67e5\u8be2\u7684\u7279\u5f81</p> </li> <li> <p>\ud835\udc3e\ud835\udc52\ud835\udc66\uff1a\u60f3\u88ab\u67e5\u8be2\u7684\u7279\u5f81</p> </li> </ul>   \\text{attention scores}(v_i, v_j) = \\cos \\left( E_{v_i}, E_{v_j} \\right)"},{"location":"ai-ml/NLP/#attention","title":"\ud83e\udd14 Attention","text":"\\text{Embedding}\\xrightarrow{\\text{Linear}} (\\text{Query, Key, Value})    \\text{attention scores}(v_i, v_j) = \\cos \\left( E_{v_i}, E_{v_j} \\right)   \\text{attention probs}(v_i, v_j) = \\frac{e^{\\text{attention scores}(v_i, v_j)}}{\\sum_{k=0}^{\\text{sequence length}} e^{\\text{attention scores}(v_i, v_k)}}    V_{v_iin sentence}  = \\sum_{j=0}^{\\text{seq len}} \\text{attention probs}(v_i, v_j) V_j E_{v_iin sentence}   \\xleftarrow{\\text{Linear}} V_{v_iin sentence}"},{"location":"ai-ml/NLP/#attention_1","title":"\ud83e\udd17 Attention","text":"<ul> <li> <p>Query: \u6211\u60f3\u627e\u5230\u4ed6\u7684\u540d\u5b57\u2026 </p> </li> <li> <p>Key: </p> </li> </ul> <p>\u2022 \u5c0f\u660e * \u4ed6\u7684\u540d\u5b57 = 0.8 </p> <p>\u2022 \u4ed6 * \u4ed6\u7684\u540d\u5b57 = 0.1 </p> <p>\u2022 \u5c0f\u535a\u7269\u5b66\u5bb6 * \u4ed6\u7684\u540d\u5b57 = 0.05 </p> <p>\u2022 \u2026 </p> <ul> <li>Result = 0.8 * V_{\u5c0f\u660e} + 0.1 * V_{\u4ed6} + 0.05 * V_{\u5c0f\u535a\u7269\u5b66\u5bb6} + \u2026</li> </ul>"},{"location":"ai-ml/NLP/#attention_2","title":"\ud83e\udd17 Attention","text":"<ul> <li>\\text{Input: }  \\text{Embeddings}_{\\quad \\text{shape} = (\\text{seq len}, \\text{embedding dim})}</li> <li> <p>Q = Q_{\\text{proj}}(\\text{Embeddings})_{\\quad \\text{shape} = (\\text{seq len}, \\text{query dim})} </p> </li> <li> <p>K = K_{\\text{proj}}(\\text{Embeddings}) _{\\quad \\text{shape} = (\\text{seq len}, \\text{key dim}), \\; \\text{key dim} = \\text{query dim}}</p> </li> <li> <p>V = V_{\\text{proj}}(\\text{Embeddings}) _{\\quad \\text{shape} = (\\text{seq len}, \\text{value dim}) }</p> </li> <li> <p>\\text{Attention Probs}(Q, K) = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{\\text{d}}}\\right) _{\\quad \\text{shape} = (\\text{seq len}, \\text{seq len})}</p> </li> <li> <p>\\text{Attention}(Q, K, V) = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{\\text{d}}}\\right) V _{\\quad \\text{shape} = (\\text{seq len}, \\text{value dim}) }\\\\</p> </li> <li> <p>\\text{Output} = O_{\\text{proj}}(\\text{Attention}(Q, K, V)) _{\\quad \\text{shape} = (\\text{seq len}, \\text{embedding dim})}</p> </li> </ul> <p></p>"},{"location":"ai-ml/NLP/#_2","title":"\ud83e\udd17\u5982\u4f55\u52a0\u5165\u4f4d\u7f6e\u4fe1\u606f\ud83e\udded?","text":"<ul> <li> <p>Attention \u673a\u5236\u4e2d\uff0c\u5e76\u6ca1\u6709\u8003\u8651\u5411\u91cf\u5728 sequence\u200b \u4e2d\u7684\u4f4d\u7f6e\u3002</p> </li> <li> <p>\ud835\udc43\ud835\udc5c\ud835\udc60\ud835\udc56\ud835\udc61\ud835\udc56\ud835\udc5c\ud835\udc5b \ud835\udc52\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54\uff1a\u4e3a\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u9884\u8bbe\u4e00\u4e2a\u5411\u91cf \ud835\udc43\ud835\udc38_{pos}\u200b</p> </li> </ul> <p>E_{v_iinput} = E_{v_i} + PE_{pos}</p>"},{"location":"ai-ml/NLP/#3","title":"3. \u5982\u4f55\u5728\u6a21\u578b\u4e2d\u5b58\u50a8\u77e5\u8bc6\uff1f","text":""},{"location":"ai-ml/NLP/#_3","title":"\ud83e\udd17\u6a21\u578b\u4e2d\u77e5\u8bc6\u5b58\u5728\u4f55\u5904\uff1f","text":"<ul> <li> <p>\u77e5\u8bc6\uff1aKey-Value Pair:  (K, V)</p> </li> <li> <p>Neural Memory\uff0c\u4f7f\u7528 x  \u67e5\u8be2 k_i\uff1a</p> </li> </ul> p(k_i|x) \\propto e^{k_i x} MN(x) = \\sum_{i=1}^{\\text{dim}} p(k_i|x) \\cdot v_i K = [k_i], V = [v_i] MN(x) = \\text{softmax}(xK^T)V <ul> <li>\u7528\u4e24\u4e2a\u7ebf\u6027\u5c42\u5b9e\u73b0\u524d\u9988\u795e\u7ecf\u7f51\u7edc\uff1a</li> </ul> <p>FFN(x) = f(xK^T)V</p>"},{"location":"ai-ml/NLP/#feedforward-neural-network","title":"\ud83e\udd17 Feedforward Neural Network","text":"FFN(x) = f(xK^T)V <ul> <li>\ud835\udc53 \u4e00\u822c\u4f7f\u7528 \ud835\udc5f\ud835\udc52\ud835\udc59\ud835\udc62 \u6216\u5176\u53d8\u79cd</li> <li>\u4e00\u822c inner\\;\u210e\ud835\udc56\ud835\udc51\ud835\udc51\ud835\udc52\ud835\udc5b \\;dim = 4\\;\ud835\udc52\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54\\;dim</li> <li>\u53c2\u6570\u91cf\uff1a8\u00d7\ud835\udc52\ud835\udc5a\ud835\udc4f\ud835\udc52\ud835\udc51\ud835\udc51\ud835\udc56\ud835\udc5b\ud835\udc54\ud835\udc60\\;dim^2</li> </ul>"},{"location":"ai-ml/NLP/#transformer","title":"\ud83e\udd17 Transformer","text":"<ul> <li>\u4ece Input \u5e8f\u5217\u5230 Output \u5e8f\u5217\u2014\u2014Seq2Seq</li> </ul>"},{"location":"ai-ml/NLP/#4","title":"4. \u5982\u4f55\u57fa\u4e8e\u4ee5\u4e0a\u539f\u7406\u6784\u5efa\u8bed\u8a00\u6a21\u578b\uff1f","text":"<ul> <li> <p>\u8bed\u8a00\u6a21\u578b\uff1aP_\\theta (\\text{w|context})</p> </li> <li> <p>\ud835\udc50\ud835\udc5c\ud835\udc5b\ud835\udc61\ud835\udc52\ud835\udc65\ud835\udc61\uff1a\u4e0a\u4e0b\u6587</p> </li> <li> <p>w\uff1a\u67d0\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u67d0\u4e2a\u8bcd\u7684\u6982\u7387</p> </li> <li> <p>\u81ea\u7f16\u7801\u8bed\u8a00\u6a21\u578b\uff08\u5982 BERT\uff09\uff1a</p> </li> </ul> <p>\u2022 \u201c\u5317\u4eac\u5728\u5317\u7eac[MASK]\u5ea6\u201d\uff0c\u6c42[MASK]\u586b\u8bcd\u7684\u6982\u7387\u5206\u5e03\uff1a\ud835\udc43(\u2022|\u5317\u4eac\u5728\u5317\u7eac[MASK]\u5ea6) </p> <ul> <li>\u81ea\u7f16\u7801\u8bed\u8a00\u6a21\u578b\uff08\u5982 GPT\uff09: </li> </ul> <p>\u2022 \u201c\u5317\u4eac\u5728\u5317\u201d\uff0c\u6c42\u4e0b\u4e00\u4e2a\u5b57\u7684\u6982\u7387\u5206\u5e03\uff1a\ud835\udc43(\u2022|\u5317\u4eac\u5728\u5317)</p>"},{"location":"ai-ml/NLP/#encoder-only","title":"\ud83e\udd17 Encoder Only","text":"<ul> <li>\u4ece Input \u5e8f\u5217\u5230\u5206\u7c7b\u8f93\u51fa\u2014\u2014 Classification</li> <li>\u5178\u578b\u6a21\u578b\uff1aBERT</li> </ul>"},{"location":"ai-ml/NLP/#decoder-only","title":"\ud83e\udd17 Decoder Only","text":"<ul> <li>\u4ece\u8f93\u5165\u5e8f\u5217\u5230\u8f93\u5165\u5e8f\u5217\u7684\u5ef6\u957f\u2014\u2014 $Generation $</li> <li>\u5178\u578b\u6a21\u578b\uff1aGPT</li> </ul>"},{"location":"ai-ml/NLP/#attention-types","title":"\ud83e\udd17 Attention Types","text":"<ul> <li>Self Attention: QKV \u6765\u81ea\u540c\u4e00\u5e8f\u5217</li> </ul> <ul> <li> <p>Cross Attention: QKV \u6765\u81ea\u4e0d\u540c\u5e8f\u5217 </p> </li> <li> <p>\u4e00\u79cd\u7279\u6b8a\u7684 Self Attention</p> </li> </ul> <p></p>"},{"location":"ai-ml/NLP/#multi-head-attention","title":"\ud83e\udd17 Multi Head Attention \ud83d\ude42\ud83d\ude42\ud83d\ude42","text":"<ul> <li>\\ (Q_0, Q_1, Q_2, Q_3) = Q = Q_{\\text{proj}}(\\text{Embeddings}) \\quad Q_i.\\ \\text{shape} = (\\text{seq len}, \\frac{\\text{embeddings dim}}{\\text{num head}}) \\\\\u200b</li> <li>$ (K_0, K_1, K_2, K_3) = K = K_{\\text{proj}}(\\text{Embeddings}) \\quad K_i. \\text{shape} = (\\text{seq len}, \\frac{\\text{embeddings dim}}{\\text{num head}}) $\u200b</li> <li> <p>\\ (V_0, V_1, V_2, V_3) = V = V_{\\text{proj}}(\\text{Embeddings}) \\quad V_i.\\ \\text{shape} = (\\text{seq len}, \\frac{\\text{embeddings dim}}{\\text{num head}})\u200b</p> </li> <li> <p>\\text{Output} = O_{\\text{proj}}(\\text{Concat}(\\text{Attention}(Q_i, K_i, V_i)))\u200b</p> </li> <li> <p>\u53c2\u6570\u91cf\uff1a\\ 4 \\times \\text{embeddings dim}^2\u200b</p> </li> <li>\u4e0d\u540c Head \u5173\u6ce8\u4e0d\u540c\u7684\u8bed\u4e49\u5173\u7cfb</li> </ul> <p></p>"},{"location":"ai-ml/NLP/#group-query-attention","title":"\ud83e\udd17 Group Query Attention","text":""},{"location":"ai-ml/NLP/#transformer_1","title":"\ud83e\udd17 Transformer","text":"<ul> <li>LM Head\uff1a\u4e00\u4e2a\u7ebf\u6027\u5c42\uff0c\u8f93\u5165\u7ef4\u5ea6\u4e3a embedding dim\uff1b\u8f93\u51fa\u7ef4\u5ea6\u4e3a\u8bcd\u8868\u5927\u5c0f vocab\\;size\u3002</li> <li>\u8f93\u51fa\u6bcf\u4e2a\u4f4d\u7f6e\u4e0a\u5404\u8bcd\u672a\u5f52\u4e00\u5316\u7684\u5bf9\u6570\u6982\u7387 logits:  $$ P_\\theta (\\cdot \\mid \\text{context}) = \\text{softmax}(\\text{logits}) $$</li> <li>\u5de6\u4fa7\u4e3a Encoder</li> <li>\u53f3\u4fa7\u4e3a Decoder</li> </ul>"},{"location":"ai-ml/NLP/#encoder","title":"\ud83e\udd17 Encoder","text":"<ul> <li>BERT</li> <li>\u4e00\u6b21\u524d\u5411\u4f20\u64ad\u5373\u53ef\u8ba1\u7b97\u51fa\u6240\u6709[MASK]\u7684\u6982\u7387\u5206\u5e03</li> <li>\u6587\u672c\u7406\u89e3\u4efb\u52a1</li> </ul>"},{"location":"ai-ml/NLP/#decoder","title":"\ud83e\udd17 Decoder","text":"<ul> <li>GPT</li> <li>\u81ea\u56de\u5f52\u751f\u6210\uff1a\u6bcf\u6b21\u751f\u6210\u4e0b\u4e00\u4e2a\u8bcd</li> <li>Masked Attention\uff1a\u6bcf\u4e2a\u8bcd\u505aAttention\u65f6\u53ea\u80fd\u52a0\u6743\u5230\u4e4b\u524d\u7684\u8bcd</li> <li>\u6587\u672c\u751f\u6210\u4efb\u52a1</li> </ul>"},{"location":"ai-ml/NLP/#_4","title":"\ud83e\udd17\u5982\u4f55\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\uff1f","text":"<ul> <li> <p>\u968f\u673a\u521d\u59cb\u5316\u6743\u91cd\ud835\udf03 </p> </li> <li> <p>\u53cd\u590d\u968f\u673a\u521d\u59cb\u5316\u6743\u91cd\ud835\udf03\uff0c\u76f4\u5230\u6743\u91cd\u80fd\u8f83\u597d\u5730\u5b8c\u6210\u4efb\u52a1\u274c </p> </li> <li> <p>\u4f7f\u7528\u5927\u91cf\u4eba\u5de5\u6807\u6ce8\u6587\u672c\u5bf9\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\ud83d\ude27\ud83d\ude27\ud83d\ude27 </p> </li> <li> <p>\u4f7f\u7528\u5927\u91cf\u65e0\u6807\u6ce8\u6587\u672c\u5bf9\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\ud83e\uddd0\ud83d\ude09\ud83e\udd17</p> </li> </ul>"},{"location":"ai-ml/NLP/#_5","title":"\ud83e\udd17\u9884\u8bad\u7ec3","text":"<ul> <li> <p>Mask filling or Next token prediction?</p> </li> <li> <p>Mask filling:</p> </li> </ul> <p>\u2022 \u6211\u662f[MASK]\uff0c[MASK]\u8003\u8bd5\u6ca1\u6709\u4e00\u6b21[MASK]\u3002</p> \\max_\\theta \\left( P_\\theta (\\text{\u5927\u5b66\u751f|context}) \\cdot P_\\theta (\\text{\u5e7c\u513f\u56ed|context} \\cdot P_\\theta (\\text{\u53c2\u52a0|context}) \\right) <ul> <li>Next token prediction:</li> </ul> <p>\u2022 \u6211\u662f\u5927\u5b66\u751f\uff0c</p> \\max_\\theta \\left( \\prod P_\\theta (\\text{next token} \\mid \\text{prefix}) \\right)   = \\max_\\theta \\left( P_\\theta (\\text{\u5927\u5b66\u751f|\u6211\u662f}) \\cdot P_\\theta (\\text{, |\u6211\u662f\u5927\u5b66\u751f}) \\right)"},{"location":"ai-ml/NLP/#_6","title":"\ud83e\udd17\u5982\u4f55\u4f7f\u7528\u8bed\u8a00\u6a21\u578b\u5b8c\u6210\u5177\u4f53\u4e0b\u6e38\u4efb\u52a1\uff1f","text":"<ul> <li>\u53cd\u590d\u968f\u673a\u521d\u59cb\u5316\u6743\u91cd\ud835\udf03\uff0c\u76f4\u5230\u6743\u91cd\ud835\udf03\u80fd\u8f83\u597d\u5730\u5b8c\u6210\u4efb\u52a1\u274c </li> <li>\u5728\u9884\u8bad\u7ec3\u6a21\u578b\u7684\u57fa\u7840\u4e0a\u7ee7\u7eed\u4f7f\u7528\u5927\u91cf\u65e0\u6807\u6ce8\u6587\u672c\u8bad\u7ec3\ud83d\ude1f </li> <li>\u4f7f\u7528\u5c11\u91cf\u6807\u6ce8\u6570\u636e (\ud835\udc65,\ud835\udc66) \u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\ud83e\udd17\ud83e\udd17\ud83e\udd17</li> </ul>"},{"location":"ai-ml/NLP/#_7","title":"\u4f8b\uff1a\u5206\u7c7b\u4efb\u52a1","text":"<ul> <li> <p>\u66ff\u6362\u9884\u8bad\u7ec3\u6a21\u578b\u4e2d\u7684 LM Head \u4e3a $Classification Head $</p> </li> <li> <p>Classification Head \u8f93\u5165\u7ef4\u5ea6\u4e3a embedding\\,dim</p> </li> <li> <p>\u8f93\u51fa\u7ef4\u5ea6\u4e3a\u7c7b\u522b\u6570\u76ee num\\,labels</p> </li> <li> <p>\u7136\u540e\u76f4\u63a5\u62ff\u53bb\u90e8\u7f72</p> </li> <li> <p>\u4f7f\u7528\u6807\u6ce8\u7684\u6570\u636e (\ud835\udc65,\ud835\udc66) \u8fdb\u884c\u8bad\u7ec3</p> </li> </ul> <p>\u2022 x:\u6587\u672c\uff1by:\u7c7b\u522b</p>"},{"location":"ai-ml/NLP/#_8","title":"\ud83e\udd17\u5982\u4f55\u4f7f\u7528\u6709\u9650\u7684\u786c\u4ef6\u8d44\u6e90\u8fdb\u884c\u5fae\u8c03\uff1f","text":"<ul> <li>LoRA: Low-Rank Adaptation</li> </ul>"},{"location":"ai-ml/NLP/#_9","title":"\ud83e\udd17\u5982\u4f55\u8ba9\u8bed\u8a00\u6a21\u578b\u66f4\u597d\u7684\u7406\u89e3\u4eba\u7c7b\u610f\u56fe\uff1f","text":"<ul> <li>\u6307\u4ee4\u5fae\u8c03</li> <li>\u4f7f\u7528\u4eba\u5de5\u6807\u6ce8\u7684 (prompt, response) \u5bf9\u6a21\u578b\u8fdb\u884c\u5fae\u8c03</li> <li>\u5f3a\u5316\u5b66\u4e60</li> </ul>"},{"location":"ai-ml/adversarial-search/","title":"\u5bf9\u6297\u641c\u7d22\u7b80\u4ecb","text":""},{"location":"ai-ml/adversarial-search/#_2","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u5177\u6709\u6700\u57fa\u672c\u7684\u7a0b\u5e8f\u8bbe\u8ba1\u601d\u60f3\uff0c\u5bf9\u4e8e\u6df1\u5ea6\u4f18\u5148\u641c\u7d20\u3001\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u7b49\u6700\u57fa\u672c\u7684\u641c\u7d22\u7b97\u6cd5\u6709\u7740\u4e00\u5b9a\u7684\u4e86\u89e3\u3002</li> <li>\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d Snake Go \u4f1a\u4f5c\u4e3a\u4f8b\u5b50\u51fa\u73b0\uff0c\u5176\u5177\u4f53\u89c4\u5219\u8bf7\u53c2\u7167 Saiblo \u6e38\u620f\u94fe\u63a5\u3002</li> </ul>"},{"location":"ai-ml/adversarial-search/#_3","title":"\u6982\u8ff0","text":"<p>\u5bf9\u6297\u641c\u7d22\uff08\u82f1\u8bed\uff1aAdversarial search\uff09\u662f\u4e00\u4e2a\u5728\u535a\u5f08\u4e2d\u9009\u53d6\u51b3\u7b56\u7684\u65b9\u6cd5\uff0c\u5b83\u4e0e\u535a\u5f08\u8bba\u5bc6\u5207\u76f8\u5173\u3002\u4f46\u662f\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u4ec5\u8ba8\u8bba\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\u4e0b\u7684\u6e38\u620f\uff0c\u5b83\u5177\u6709\u4ee5\u4e0b\u7279\u5f81\uff1a</p> <ul> <li>\u6e38\u620f\u6709\u4e14\u4ec5\u6709\u4e24\u4e2a\u73a9\u5bb6\u53c2\u4e0e\uff0c\u5206\u8f6e\u8fdb\u884c\uff0c\u53cc\u65b9\u8f6e\u6d41\u505a\u51fa\u51b3\u7b56\u3002</li> <li>(Fair) \u53cc\u65b9\u5747\u77e5\u9053\u6e38\u620f\u7684\u4e00\u5207\u5b8c\u6574\u4fe1\u606f\u3002</li> <li>(Markov) \u4efb\u610f\u4e00\u4e2a\u6e38\u620f\u8005\u5728\u67d0\u4e00\u8f6e\u53ef\u4ee5\u505a\u51fa\u7684\u51b3\u7b56\u53ea\u4e0e\u5f53\u524d\u8f6e\u7684\u6e38\u620f\u72b6\u6001\u6709\u5173\uff0c\u4e0e\u4e4b\u524d\u6216\u8005\u4e4b\u540e\u7684\u51b3\u7b56\u65e0\u5173\u3002</li> <li>(Finite) \u6e38\u620f\u4e00\u5b9a\u4f1a\u5728\u6709\u9650\u8f6e\u5185\u7ed3\u675f\u3002</li> <li>(Zero-Sum) \u6e38\u620f\u7ed3\u675f\u65f6\u4e00\u5b9a\u6709\u4e00\u65b9\u80dc\u5229\uff0c\u53e6\u4e00\u65b9\u5931\u8d25\uff0c\u4e0d\u5b58\u5728\u5e73\u5c40\u3002</li> <li>\u6211\u4eec\u79f0\u67d0\u65b9\u80dc\u5229\u4e86\uff0c\u5f53\u4e14\u4ec5\u5f53\u5728\u67d0\u4e00\u8f6e\u4e2d\u8f6e\u5230\u5bf9\u65b9\u884c\u52a8\uff0c\u4f46\u5bf9\u65b9\u6ca1\u6709\u5408\u6cd5\u7684\u51b3\u7b56\u3002</li> </ul> <p>\u503c\u5f97\u7279\u522b\u6307\u51fa\u7684\u662f\uff0c\u6709\u4e9b\u6e38\u620f\u53ef\u80fd\u4e0d\u6ee1\u8db3\u4ee5\u4e0a\u8981\u6c42\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5c06\u5176\u8fdb\u884c\u7b49\u4ef7\u8f6c\u5316\u6765\u5f97\u5230\u3002</p> <p>\u6bd4\u5982\u6e38\u620f Snake Go\uff0c\u5b83\u5e76\u4e0d\u6ee1\u8db3\u6700\u540e\u4e00\u6761\u3002\u4f46\u82e5\u5c06\u72b6\u6001\u5b9a\u4e49\u4e3a (\\mathrm{turn}, \\mathrm{player}, \\mathrm{context})\uff0c\u8fd9\u4e09\u5143\u7ec4\u5206\u522b\u8868\u793a\u8f6e\u6570\uff0c\u5f53\u524d\u73a9\u5bb6\u4ee5\u53ca\u6e38\u620f\u7684\u4e0a\u4e0b\u6587\u3002\u5e76\u4e14\u4e3a\u73a9\u5bb6\u6dfb\u52a0\u4e00\u4e2a\u51b3\u7b56 \\mathrm{pass}\uff0c\u5f53\u4e14\u4ec5\u5f53\u8be5\u73a9\u5bb6\u6ca1\u6709\u86c7\u65f6\u53ef\u7528\u3002\u4e3a\u73a9\u5bb6\u6dfb\u52a0\u4e00\u4e2a\u51b3\u7b56 \\mathrm{win}\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fbe\u5230\u56de\u5408\u4e0a\u9650\u65f6\u5206\u6570\u8f83\u591a\uff08\u76f8\u7b49\u65f6\u540e\u624b\uff09\u8005\u53ef\u7528\u3002\u5219\u6539\u53d8\u540e\u7684\u6e38\u620f\u6ee1\u8db3\u4ee5\u4e0a\u89c4\u5219\uff0c\u5e76\u4e14\u4e0e\u6211\u4eec\u8ba8\u8bba\u7684 Snake Go \u7b49\u4ef7\u3002</p> <p>\u5bf9\u6297\u641c\u7d22\u662f\u4e00\u79cd\u641c\u7d22\u7b97\u6cd5\uff0c\u5b83\u89e3\u51b3\u7684\u662f\u8fd9\u6837\u7684\u95ee\u9898\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u6e38\u620f\u5728\u67d0\u4e00\u8f6e\u7684\u72b6\u6001\uff0c\u5728\u4e00\u5b9a\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u9650\u5236\u4e0b\uff0c\u4e3a\u5f53\u524d\u884c\u52a8\u7684\u73a9\u5bb6\u63d0\u4f9b\u4e00\u4e2a\u51b3\u7b56\uff0c\u4f7f\u5f97\u73a9\u5bb6\u4e4b\u540e\u66f4\u6709\u53ef\u80fd\u80dc\u5229\u3002</p>"},{"location":"ai-ml/adversarial-search/#sg","title":"SG \u641c\u7d22","text":"<p>\u6211\u4eec\u9996\u5148\u8ba8\u8bba\u6700\u7b80\u5355\u7684\u60c5\u51b5\uff0c\u5982\u679c\u6211\u4eec\u6709\u5145\u8db3\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\uff0c\u7531\u4e8e\u6e38\u620f\u672c\u8eab\u662f\u6709\u9650\u7684\uff0c\u5e76\u4e14\u6e38\u620f\u662f\u516c\u5e73\u7684\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a\u7ed9\u5b9a\u7684\u72b6\u6001\uff0c\u5176\u80dc\u8005\u662f\u786e\u5b9a\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u904d\u5386\u4e86\u8fd9\u4e2a\u72b6\u6001\u53ef\u80fd\u62d3\u5c55\u51fa\u7684\u6240\u6709\u72b6\u6001\uff0c\u5c31\u53ef\u80fd\u63a8\u65ad\u51fa\u8fd9\u4e2a\u72b6\u6001\u7684\u80dc\u8005\u3002</p> <p>\u4e3a\u4e86\u7b80\u5316\u63cf\u8ff0\uff0c\u6211\u4eec\u7ed9\u51fa\u4e00\u4e9b\u5f62\u5f0f\u5316\u7684\u7b26\u53f7\u5b9a\u4e49\uff1a</p> <p>s \u8868\u793a\u6e38\u620f\u7684\u4e00\u4e2a\u72b6\u6001\uff0c\u5b83\u901a\u5e38\u662f (\\mathrm{turn}, \\mathrm{player}, \\mathrm{context}) \u7684\u4e09\u5143\u7ec4\uff0c\u5373\u6e38\u620f\u7684\u8f6e\u6570\u3001\u8be5\u8f6e\u5e94\u5f53\u884c\u52a8\u7684\u73a9\u5bb6\u4ee5\u53ca\u6e38\u620f\u7684\u5176\u4ed6\u4fe1\u606f\u3002</p> <p>\u6211\u4eec\u7528 \\mathrm{player} = 0, 1 \u6765\u5206\u522b\u8868\u793a\u4e24\u540d\u73a9\u5bb6\u3002\u4e3a\u4e86\u7b80\u5316\u63cf\u8ff0\uff0c\u6211\u4eec\u79f0 \\mathrm{player} \u4e3a\u72b6\u6001 s \u7684\u5148\u624b\uff0c\u5bf9\u5e94\u5730 \\mathrm{player} \\oplus 1 \u4e3a\u72b6\u6001 s \u7684\u540e\u624b\u3002\u8fd9\u91cc \\oplus \u8868\u793a\u5f02\u6216\u3002</p> <p>\\mathrm{action}(s) = \\{a_1, a_2, \\cdots, a_m\\} \u662f\u4e00\u4e2a\u96c6\u5408\uff0c\u7ed9\u51fa\u4e86 s \u72b6\u6001\u4e0b\u6240\u6709\u53ef\u80fd\u7684\u51b3\u7b56\u3002\u5982\u679c \\mathrm{action}(s) = \\varnothing \u5219\u8bf4\u660e s \u662f\u7ec8\u6001\uff0c\u7528 s \\in V_T \u8868\u793a\uff0c\u6b64\u65f6\u6e38\u620f\u5df2\u7ecf\u7ed3\u675f\u5e76\u4e14 \\mathrm{player} \u5931\u8d25\u4e86\u3002 </p> <p>\\delta(s, a)=s' \u662f\u8f6c\u79fb\u51fd\u6570\uff0c\u5b83\u8868\u793a\u5728\u72b6\u6001 s \u91c7\u53d6\u51b3\u7b56 a \u540e\u8f6c\u79fb\u5230\u7684\u72b6\u6001\u4e3a s'\u3002</p> <p>\u7279\u522b\u5730\uff0c\u6211\u4eec\u5b9a\u4e49 S_0 \u4e3a\u6700\u521d\u7ed9\u5b9a\u7684\u72b6\u6001\uff0c\u5373\u521d\u6001\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u72b6\u6001 s = (\\mathrm{turn}, \\mathrm{player}, \\mathrm{context}) \u662f\u80dc\u8005\u662f \\rm{player}\uff0c\u90a3\u4e48\u79f0\u5176\u662f\u5148\u624b\u5fc5\u80dc\u7684\uff0c\u5426\u5219\u79f0\u5b83\u662f\u5148\u624b\u5fc5\u8d25\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7b97\u6cd5\u6765\u786e\u5b9a\u4efb\u4f55\u4e00\u4e2a\u72b6\u6001\u7684\u80dc\u8d1f\u6027\uff1a</p> <ol> <li> <p>\u5982\u679c s \\in V_T\uff0c\u5219 s \u662f\u5148\u624b\u5fc5\u8d25\u7684\uff0c\u5426\u5219\u8003\u8651 s \u80fd\u591f\u8f6c\u79fb\u5230\u7684\u6240\u6709\u96c6\u5408\uff1a $$ \\mathrm{ch}[s] = \\{s' \\mid \\delta(s, a) = s', \\forall a \\in \\mathrm{action}(s)\\} $$</p> </li> <li> <p>\u5982\u679c \\forall t, t\\in \\mathrm{ch}[s]\uff0ct \u662f\u5148\u624b\u5fc5\u80dc\u7684\uff0c\u90a3\u4e48 s \u662f\u5148\u624b\u5fc5\u8d25\u7684\u3002</p> </li> <li> <p>\u5982\u679c \\exists t, t\\in \\mathrm{ch}[s]\uff0ct \u662f\u5148\u624b\u5fc5\u8d25\u7684\uff0c\u90a3\u4e48 s \u662f\u5148\u624b\u5fc5\u80dc\u7684\u3002</p> </li> </ol> <p>\u8be5\u7b97\u6cd5\u4ece\u76f4\u89c2\u4e0a\u4e0d\u96be\u7406\u89e3\uff1a\u8003\u8651\u5230\u7ecf\u8fc7\u4e00\u8f6e\u540e\u5148\u540e\u624b\u53d1\u751f\u6539\u53d8\uff0c\u6240\u4ee5\u5f53\u524d\u7684\u73a9\u5bb6\u53ea\u8981\u6709\u4e00\u4e2a\u51b3\u7b56\u80fd\u591f\u8f6c\u79fb\u5230\u5148\u624b\u5fc5\u8d25\u7684\u72b6\u6001\uff0c\u90a3\u4e48\u5b83\u5c31\u53ef\u4ee5\u9009\u62e9\u8fd9\u4e2a\u51b3\u7b56\u8ba9\u5bf9\u65b9\u5fc5\u8d25\uff0c\u4ece\u800c\u8fbe\u5230\u81ea\u5df1\u5fc5\u80dc\u3002\u53cd\u4e4b\u4ea6\u7136\u3002</p>"},{"location":"ai-ml/adversarial-search/#nim","title":"\u4f8b\u5b50\uff1aNim \u6e38\u620f","text":"<p>\u6709 n \u5806\u77f3\u5b50\uff0c\u6bcf\u5806\u6709 a_i &gt; 0 \u4e2a\u77f3\u5b50\u3002\u53cc\u65b9\u8f6e\u6d41\u53d6\u4e00\u5806\u77f3\u5b50\u4e2d\u4efb\u610f\u6570\u91cf\u7684\u77f3\u5b50\uff0c\u4f46\u4e0d\u80fd\u4e0d\u53d6\u3002\u4e0d\u80fd\u884c\u52a8\u8005\u5931\u8d25\u3002</p> <p>\u7b80\u5355\u8d77\u89c1\uff0c\u5047\u8bbe n = 3 \u5e76\u5047\u8bbe\u77f3\u5b50\u6570\u91cf\u4e3a (1, 2, 1)\uff0c\u8fd9\u91cc \\rm{turn} \u548c \\rm{player} \u5e76\u4e0d\u91cd\u8981\uff0c\u6211\u4eec\u5c06\u5176\u4ece\u72b6\u6001\u8868\u793a\u4e2d\u7701\u7565\u3002</p> <p>\u4f7f\u7528\u4e4b\u524d\u7684\u65b9\u6cd5\u786e\u5b9a\u72b6\u6001\u7684\u80dc\u8d1f\u6027\uff1a</p> <ul> <li>\u57fa\u7840\uff1a(0,0,0) \u662f\u5148\u624b\u5fc5\u8d25\u72b6\u6001\u3002</li> <li>(1,0,0),(0,1,0),(0,0,1),(0,2,0) \u662f\u5148\u624b\u5fc5\u80dc\u72b6\u6001\uff0c\u56e0\u4e3a\u53ef\u4ee5\u8f6c\u79fb\u5230 (0,0,0)\u3002</li> <li>(1,1,0),(0,1,1),(1,0,1) \u662f\u5148\u624b\u5fc5\u8d25\u72b6\u6001\uff0c\u56e0\u4e3a\u53ea\u80fd\u8f6c\u79fb\u5230\u4e0a\u4e00\u884c\u7684\u72b6\u6001\u4e2d\u3002</li> <li>(1,1,1),(1,2,0),(0,2,1) \u662f\u5148\u624b\u5fc5\u80dc\u72b6\u6001\uff0c\u56e0\u4e3a\u53ef\u4ee5\u8f6c\u79fb\u5230\u4e0a\u4e00\u884c\u7684\u72b6\u6001\u4e2d\u3002</li> <li>(1,2,1) \u662f\u5148\u624b\u5fc5\u80dc\u72b6\u6001\uff0c\u56e0\u4e3a\u53ef\u4ee5\u8f6c\u79fb\u5230 (1,0,1)\u3002</li> </ul> <p>\u8fd9\u6837\uff0c\u5982\u679c\u6211\u4eec\u8bbe\u72b6\u6001 (a_1, a_2, \\cdots, a_n) = 1 \u8868\u793a\u5148\u624b\u5fc5\u80dc\uff0c= 0 \u8868\u793a\u5148\u624b\u5fc5\u8d25\u3002\u5219\u53ef\u4ee5\u7528\u4ee5\u4e0b\u4f2a\u4ee3\u7801\u8fdb\u884c\u641c\u7d22\u3002</p> <pre><code>int sg(int a[], int n) {\n    int ret = 0\n    for (int i = 0; i &lt; n; ++i) {\n        if (a[i] &gt; 0)\n            for (int j = 1; j &lt; a[i] + 1; ++j)\n                b[] = a[], b[i] = a[i] - j\n                ret |= !sg(b, n)                  \n    }\n    return ret\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u4f7f\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u53ef\u4ee5\u5728 O\\left(\\prod a_i\\right) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5185\u5f97\u5230\u7b54\u6848\u3002</p> <p>\u6ce8\uff1a\u5229\u7528\u535a\u5f08\u8bba\u7684\u77e5\u8bc6\uff0cNim \u6e38\u620f\u53ef\u4ee5\u5728 O(n) \u7684\u65f6\u95f4\u5185\u901a\u8fc7\u8ba1\u7b97\u5f02\u6216\u548c\u5f97\u5230\u7b54\u6848\u3002\u4f46\u8fd9\u8d85\u51fa\u4e86\u672c\u7bc7\u6587\u7ae0\u7684\u8303\u56f4\u3002\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u53c2\u8003 OI Wiki \u4e2d\u5173\u4e8e\u535a\u5f08\u8bba\u7684\u8d44\u6599\u3002</p>"},{"location":"ai-ml/adversarial-search/#min-max","title":"Min-Max \u641c\u7d22","text":"<p>SG \u641c\u7d22\u56fa\u7136\u786e\u5b9a\u5730\u5f97\u5230\u6b63\u786e\u7b54\u6848\uff0c\u4f46\u662f\u65f6\u95f4\u590d\u6742\u5ea6\u4e0e\u72b6\u6001\u6570\u76f8\u5173\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u95ee\u9898\uff0c\u7531\u4e8e\u5404\u79cd\u9650\u5236\u6211\u4eec\u5f80\u5f80\u4e0d\u80fd\u904d\u5386\u6240\u6709\u53ef\u80fd\u72b6\u6001\uff0c\u56e0\u6b64\u6211\u4eec\u6216\u8bb8\u53ef\u4ee5\u901a\u8fc7\u727a\u7272\u6b63\u786e\u6027\u6765\u6362\u53d6\u53ef\u884c\u6027\u3002</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u60f3\u6cd5\u662f\u5f15\u5165\u4f30\u4ef7\u51fd\u6570\uff08\u82f1\u8bed\uff1autility function, power function, heuristic function\uff09f: S\\to \\mathbb{R} \u7ed9\u51fa\u5bf9\u4e8e\u67d0\u4e2a\u72b6\u6001\u7684\u8bc4\u4f30\u3002\u6211\u4eec\u4eba\u4e3a\u7684\u89c4\u5b9a\u5bf9\u4e8e\u5c40\u9762 s' = \\delta(s, a)\uff0cf(s') \u7ed9\u51fa\u76f8\u5bf9\u4e8e\u72b6\u6001 s \u5148\u624b\u7684\u4f30\u503c\uff08\u6ce8\u610f\u4e0d\u662f s'\uff09\uff0c\u8fd9\u4e2a\u503c\u8d8a\u5927\u5219\u8ba4\u4e3a\u5c40\u9762\u8d8a\u201c\u4f18\u201d\u3002\u7279\u522b\u7684\uff0c\u5982\u679c\u5c40\u9762 s' \u662f\u5148\u624b\u5fc5\u8d25\u7684\uff08\u8fd9\u610f\u5473\u7740\u5bf9\u4e8e s \u800c\u8a00\u662f\u5148\u624b\u5fc5\u80dc\u7684\uff09\uff0c\u5219\u5176\u4f30\u503c\u53ef\u4ee5\u8bbe\u4e3a +\\infty\u3002</p> <p>\u5728\u6211\u4eec\u8fd9\u79cd\u5b9a\u4e49\u4e0b\uff0c\u5148\u624b\u4f1a\u627e\u5230\u4f30\u4ef7\u51fd\u6570\u503c\u6700\u5927\u7684\u72b6\u6001\uff0c\u7136\u540e\u9009\u62e9\u80fd\u591f\u8f6c\u79fb\u5230\u8fd9\u4e2a\u72b6\u6001\u7684\u51b3\u7b56\u3002\u5f53\u7136\uff0c\u8fd9\u79cd\u65b9\u6cd5\u7684\u6709\u6548\u6027\u6781\u5927\u7684\u4f9d\u8d56\u4e8e\u4f30\u4ef7\u51fd\u6570\u662f\u5426\u5408\u7406\u3002</p> <p>\u6211\u4eec\u5c06\u8fd9\u79cd\u60f3\u6cd5\u4e00\u822c\u5316\uff0c\u5982\u679c\u641c\u7d22\u591a\u5c42\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5bf9\u72b6\u6001\u6240\u6784\u6210\u7684\u641c\u7d22\u6811\u5b9e\u65bd\u7c7b\u4f3c SG \u641c\u7d22\u7684\u505a\u6cd5\uff0c\u53ea\u4e0d\u8fc7\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4e0d\u518d\u662f\u5fc5\u80dc\u4e0e\u5fc5\u8d25\u5173\u7cfb\u7684\u8f6c\u79fb\uff0c\u800c\u662f\u4f30\u503c\u7684\u8f6c\u79fb\uff1a</p> <ol> <li>\u8bbe\u6839\u8282\u70b9 S_0 \u7684\u6df1\u5ea6\u4e3a 0\uff0c\u6bcf\u8fdb\u884c\u4e00\u6b21\u641c\u7d22\u6df1\u5ea6\u52a0\u4e00\u3002</li> <li>\u5bf9\u4e8e\u53f6\u8282\u70b9 l\uff0c\u5176\u4f30\u503c w_l = f(l)\u3002</li> <li>\u5bf9\u4e8e\u6df1\u5ea6\u4e3a d \u7684\u975e\u53f6\u8282\u70b9 n\uff1a<ul> <li>\u5982\u679c d \u662f\u5076\u6570\uff0c\u5219 w_n = \\max_{s\\in \\mathrm{ch}[n]}(w_s)\uff0c\u5373\u5176\u6240\u6709\u5b69\u5b50\u4f30\u503c\u7684\u6700\u5927\u503c\u3002</li> <li>\u5982\u679c d \u662f\u5947\u6570\uff0c\u5219 w_n = \\min_{s\\in \\mathrm{ch}[n]}(w_s)\uff0c\u5373\u5176\u6240\u6709\u5b69\u5b50\u4f30\u503c\u7684\u6700\u5c0f\u503c\u3002</li> </ul> </li> </ol> <p>\u76f4\u89c2\u4e0a\u7406\u89e3\u662f\u7c7b\u4f3c\u7684\uff1a\u7ecf\u8fc7\u4e00\u8f6e\u540e\u5148\u540e\u624b\u53d1\u751f\u6539\u53d8\uff0c\u800c\u6211\u4eec\u7684\u4f30\u503c\u51fd\u6570\u662f\u6839\u636e\u4e8e\u6839\u8282\u70b9 S_0 \u7684\u5148\u624b\u72b6\u6001\u786e\u5b9a\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u56e0\u4e3a\u6e38\u620f\u662f\u96f6\u548c\u7684\uff0c\u6240\u4ee5\u4e00\u4e2a\u72b6\u6001\u5bf9\u5e94\u5148\u624b\u5728\u4f30\u503c\u51fd\u6570 f \u4e0b\u4f30\u503c\u7684\u6700\u5927\u503c\uff0c\u90a3\u4e48\u5bf9\u4e8e\u540e\u624b\u6700\u4f18\u7684\u4e5f\u5e94\u5f53\u662f f \u4e0b\u7684\u6700\u5c0f\u503c\u3002 </p> <p></p> <p>\u5982\u56fe\uff0c\u6b64\u65f6\u5148\u624b\u9009\u62e9\u4e86 A\\to B \u4f5c\u4e3a\u51b3\u7b56\u3002\u56fe\u6e90\uff1aStuart Russell, Peter Norvig: Artificial Intelligence A Modern Approach\u3002</p> <p>\u8bf7\u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\u8fd9\u6837\u505a\u6bd4\u76f4\u63a5\u8ba1\u7b97 f(S_0) \u80fd\u66f4\u51c6\u786e\u8861\u91cf\u5c40\u9762\u7684\u4ef7\u503c\u3002</p>"},{"location":"ai-ml/adversarial-search/#alpha-beta","title":"Alpha-Beta \u526a\u679d","text":"<p>\u5728 Min-Max \u641c\u7d22\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u8fdb\u884c\u526a\u679d\uff0c\u4f46\u8fd9\u4e0d\u662f\u672c\u6587\u7684\u91cd\u70b9\u3002\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u53c2\u8003 OI Wiki \u4e0a\u7684\u8d44\u6599\u3002</p>"},{"location":"ai-ml/adversarial-search/#_4","title":"\u968f\u673a\u5316\u4f30\u503c\u51fd\u6570","text":"<p>\u6839\u636e\u524d\u6587\u7684\u8ba8\u8bba\uff0c\u4e0d\u96be\u53d1\u73b0\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7684 AI \u7684\u597d\u574f\u4e25\u91cd\u4f9d\u8d56\u4e8e\u4f30\u503c\u51fd\u6570 f \u7684\u6784\u9020\u3002\u5bf9\u4e8e\u8f83\u4e3a\u590d\u6742\u7684\u6e38\u620f\uff08\u5982 Snake Go\uff09\uff0c\u4eba\u5de5\u6784\u9020\u4e00\u4e2a\u4f30\u503c\u51fd\u6570\u53ef\u80fd\u662f\u8f83\u4e3a\u56f0\u96be\u7684\u3002\u57fa\u4e8e\u8fd9\u4e9b\u8003\u8651\uff0c\u6211\u4eec\u5c1d\u8bd5\u968f\u673a\u5316\u65b9\u6cd5\u3002</p> <p>\u4e00\u4e2a\u8f83\u4e3a\u76f4\u63a5\u7684\u4f30\u503c\u51fd\u6570\u662f\u8fd9\u6837\u7684\uff0c\u5bf9\u4e8e\u641c\u7d22\u6811\u7684\u6240\u6709\u53f6\u8282\u70b9\u91c7\u7528\u9ed8\u8ba4\u51b3\u7b56\u6a21\u62df N \u6b21\uff0c\u5c06\u5176\u4e2d\u76f8\u5bf9\u4e8e S_0 \u7684\u80dc\u7387\u4f5c\u4e3a\u4f30\u503c\u51fd\u6570\u3002\u8fd9\u91cc\u201c\u4ee5\u9ed8\u8ba4\u51b3\u7b56\u6a21\u62df\u201d\u6307\u7684\u662f\u4ee5\u8be5\u5c31\u53f6\u8282\u70b9\u4e3a\u65b0\u7684\u521d\u6001\uff0c\u4e0d\u65ad\u5730\u968f\u673a\u9009\u62e9\u4efb\u610f\u4e00\u4e2a\u53ef\u80fd\u7684\u51b3\u7b56\u8fdb\u884c\u8fed\u4ee3\uff0c\u76f4\u5230\u8fbe\u5230\u67d0\u4e2a\u7ec8\u6001\uff0c\u5e76\u5224\u65ad\u5176\u76f8\u5bf9\u4e8e\u53f6\u8282\u70b9\u7684\u80dc\u8d1f\u6027\u3002</p> <p>\u6ce8\u610f\u5230\u6574\u4e2a\u7b97\u6cd5\u672c\u8eab\u4e0e\u524d\u6587\u7684 Min-Max \u641c\u7d22\u662f\u5b8c\u5168\u4e00\u81f4\u7684\uff0c\u6211\u4eec\u53ea\u662f\u5c06\u4f30\u503c\u51fd\u6570 f \u6362\u6210\u4e86\u968f\u673a\u6a21\u62df\u7684\u80dc\u7387\u3002\u663e\u7136\uff0c\u8fd9\u79cd\u505a\u6cd5\u7684\u6b63\u786e\u6027\u4f9d\u8d56\u4e8e\u6982\u7387\u8bba\u4e2d\u7684\u6781\u9650\u5b9a\u7406\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6a21\u62df\u7684\u6b21\u6570 N \u8d8a\u5927\uff0c\u6211\u4eec\u5f97\u5230\u7684\u7ed3\u679c\u8d8a\u6709\u8bf4\u670d\u529b\u3002</p>"},{"location":"ai-ml/adversarial-search/#monte-carlo","title":"Monte-Carlo \u6811\u641c\u7d22","text":"<p>\u4e0a\u6587\u7684\u968f\u673a\u5316\u601d\u60f3\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u53ef\u80fd\u5e76\u4e0d\u7406\u60f3\uff0c\u8fd9\u4e3b\u8981\u662f\u56e0\u4e3a\u5b83\u9759\u6001\u7684\u5c06\u6240\u6709\u7684\u53f6\u8282\u70b9\u641c\u7d22\u51fa\u6765\uff0c\u5e76\u4e14\u628a\u5b83\u4eec\u89c6\u4e3a\u7b49\u540c\u7684\u8fdb\u884c\u6a21\u62df\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u5728\u6a21\u62df\u8fc7\u7a0b\u4e2d\u5c3d\u53ef\u80fd\u7684\u5229\u7528\u5148\u524d\u6a21\u62df\u7684\u4fe1\u606f\u4ee5\u52a0\u5feb\u6536\u655b\u7684\u901f\u5ea6\u3002</p> <p>\u57fa\u4e8e\u4ee5\u4e0a\u8003\u91cf\uff0c\u6211\u4eec\u7ed9\u51fa Monte-Carol \u6811\u641c\u7d22\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u4ee5\u4e00\u4e2a\u521d\u59cb\u72b6\u6001 S_0 \u4f5c\u4e3a\u8f93\u5165\uff0c\u4e0d\u65ad\u7684\u8fdb\u884c\u62d3\u5c55\u6700\u521d\u53ea\u6709\u4e00\u4e2a\u6839\u8282\u70b9 S_0 \u7684\u641c\u7d22\u6811\uff0c\u641c\u7d22\u6811\u8282\u70b9\u7ef4\u62a4\u72b6\u6001\u4e3a (s, w, n) \u5206\u522b\u8868\u793a\u5bf9\u5e94\u7684\u72b6\u6001\u3001\u6743\u503c\u3001\u88ab\u8bbf\u95ee\u6b21\u6570\u3002</p> <p>\u5176\u4e3b\u8981\u8fc7\u7a0b\u53ef\u4ee5\u5206\u56db\u6b65\uff1a</p> <ol> <li>\u9009\u62e9<ul> <li>\u4ece S_0 \u51fa\u53d1\uff0c\u9009\u62e9\u4e00\u4e2a\u53ef\u62d3\u5c55\u7684\u8282\u70b9 s \u5e76\u968f\u673a\u7684\u62d3\u5c55\u5176\u4e00\u4e2a\u5b50\u8282\u70b9\u3002\u4e00\u4e2a\u8282\u70b9\u662f\u53ef\u62d3\u5c55\u7684\uff0c\u5f53\u4e14\u4ec5\u5f53\u5176\u5bf9\u5e94\u7684\u72b6\u6001 s \u4e0d\u662f\u7ec8\u6001\u5e76\u4e14\u5b58\u5728 t\\in \\mathrm{ch}[s]\uff0c\u4e14 t \u4e0d\u5728\u641c\u7d22\u6811\u4e2d\u3002</li> </ul> </li> <li>\u62d3\u5c55<ul> <li>\u5047\u8bbe\u9009\u62e9\u62d3\u5c55 t\\in \\mathrm{ch}[s], \u90a3\u4e48\u5728\u641c\u7d22\u6811\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u72b6\u6001\u4e3a t \u7684\u8282\u70b9\uff0c\u5e76\u8bbe\u5176\u4e3a s \u7684\u5b50\u8282\u70b9\u3002</li> </ul> </li> <li>\u6a21\u62df<ul> <li>\u4ee5 t \u4e3a\u521d\u6001\u5b9e\u65bd\u9ed8\u8ba4\u7b56\u7565\uff0c\u8ba1\u7b97\u9ed8\u8ba4\u7b56\u7565\u7684\u6743\u503c\u589e\u91cf \\Delta\u3002</li> <li>\u5982\u679c\u9ed8\u8ba4\u7b56\u7565\u4e2d\u76f8\u5bf9\u4e8e S_0 \u80dc\u5229\uff0c\u5219 \\Delta = 1\uff0c\u5426\u5219 \\Delta = 0\u3002</li> </ul> </li> <li>\u56de\u6eaf<ul> <li>\u8bbe S_0 \u5230 t \u7684\u8def\u5f84\u4e0a\u6240\u6709\u8282\u70b9\u4e3a s_1, s_2, \\cdots, t \u4f9d\u6b21\u66f4\u65b0\u5176\u72b6\u6001\uff1a<ul> <li>\u5982\u679c\u8282\u70b9 N \u7684\u6df1\u5ea6\u4e0e L \u540c\u5947\u5076\uff0c\u66f4\u65b0\u4e3a (s, w, n)\\to (s, w + \\Delta, n + 1)\u3002</li> <li>\u5982\u679c\u8282\u70b9 N \u7684\u6df1\u5ea6\u4e0e L \u4e0d\u540c\u5947\u5076\uff0c\u66f4\u65b0\u4e3a (s, w, n)\\to (s, w + 1 - \\Delta, n + 1)\u3002</li> </ul> </li> <li>\u5982\u679c\u65f6\u95f4\u8db3\u591f\uff0c\u56de\u5230\u201c\u9009\u62e9\u201d\u90e8\u5206\u91cd\u590d\u3002</li> </ul> </li> </ol> <p>\u6700\u540e\uff0c\u6bcf\u4e2a\u8282\u70b9\u7684\u4f30\u503c\u5373\u4e3a\u80dc\u7387 p = \\dfrac{w}{n}\uff0c\u6839\u8282\u70b9\u9009\u62e9\u4f30\u503c\u6700\u5927\u7684\u8282\u70b9\u5bf9\u5e94\u7684\u51b3\u7b56\u3002</p> <p></p> <p>\u4e0a\u56fe\u8f83\u4e3a\u5f62\u8c61\u7684\u8868\u793a\u4e86 Monte-Carlo \u6811\u641c\u7d22\u7684\u56db\u6b65\u6d41\u7a0b\u3002</p>"},{"location":"ai-ml/adversarial-search/#_5","title":"\u7f6e\u4fe1\u4e0a\u754c\u6811","text":"<p>\u5148\u524d\u7b97\u6cd5\u5b58\u5728\u4e24\u4e2a\u4e0d\u8db3\u4e4b\u5904\uff1a</p> <ul> <li>\u5728 Min-Max \u641c\u7d22\u4e2d\uff0c\u6211\u4eec\u6700\u7ec8\u53ea\u4f1a\u9009\u62e9\u6bcf\u5c42\u8282\u70b9\u4e2d\u6700\u5927\u6216\u6700\u5c0f\u7684\u8282\u70b9\u8fdb\u884c\u51b3\u7b56\uff0c\u56e0\u6b64\u5bf9\u4e8e\u5176\u201c\u5e73\u5eb8\u201d\u7684\u5144\u5f1f\u5e76\u4e0d\u5173\u5fc3\uff0c\u800c\u6734\u7d20\u7684\u7b97\u6cd5\u662f\u8fdb\u884c\u7b49\u6982\u7387\u7684\u968f\u673a\u9009\u62e9\u3002</li> <li>\u6211\u4eec\u9700\u8981\u8003\u8651\u6a21\u62df\u6b21\u6570\u5bf9\u4e8e\u4f30\u503c\u7684\u5f71\u54cd\uff0c\u4e00\u4e2a\u6a21\u62df 1 \u6b21\u80dc\u7387\u4e3a 0% \u7684\u8282\u70b9\uff0c\u4e0d\u4e00\u5b9a\u6bd4\u6a21\u62df 100 \u6b21\u80dc\u7387\u4e3a 10% \u7684\u8282\u70b9\u5dee\u3002</li> </ul> <p>\u6211\u4eec\u91c7\u53d6\u6240\u8c13\u7684\u7f6e\u4fe1\u4e0a\u754c\u7b97\u6cd5\uff08\u82f1\u8bed\uff1aUpper Confidence Bounds\uff09\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>UCB \u7684\u60f3\u6cd5\u662f\u6539\u5584\u9009\u62e9\u62d3\u5c55\u8282\u70b9\u7684\u65b9\u6848\uff0c\u8fd9\u4e2a\u65b9\u6848\u5e94\u8be5\u5177\u6709\u4e24\u65b9\u9762\u7684\u5355\u8c03\u6027\uff1a\u76f8\u540c\u6a21\u62df\u6b21\u6570\u4e0b\uff0c\u80dc\u7387\u9ad8\u7684\u8282\u70b9\u5e94\u8be5\u66f4\u591a\u7684\u88ab\u8bbf\u95ee\uff1b\u76f8\u540c\u80dc\u7387\u4e0b\uff0c\u6a21\u62df\u6b21\u6570\u5c11\u7684\u4f30\u503c\u5e94\u5f53\u66f4\u591a\u7684\u88ab\u8bbf\u95ee\u3002</p> <p>\u8003\u8651\u5230\u8fd9\u4e9b\u6761\u4ef6\uff0c\u7ecf\u8fc7\u4e00\u4e9b\u6570\u5b66\u63a8\u5bfc\uff0c\u8bbe\u6839\u8282\u70b9\u4e3a (S_0, w_0, N) \u6211\u4eec\u5b9a\u4e49\u8282\u70b9 (s, w, n) \u7684\u7f6e\u4fe1\u4e0a\u754c I(s)\uff1a</p>  I(s) = \\frac{w}{n} + C\\sqrt{\\frac{2\\ln(N)}{n}}  <p>\u5176\u4e2d C \u662f\u53ef\u4ee5\u8c03\u8282\u7684\u5e38\u6570\u3002</p> <p>\u6539\u8fdb\u540e\u7684\u7b97\u6cd5\u88ab\u79f0\u4e3a\u7f6e\u4fe1\u4e0a\u754c\u6811\uff08UCT\uff09\u7b97\u6cd5\uff0c\u6211\u4eec\u6b64\u65f6\u4e0d\u518d\u968f\u673a\u9009\u62e9\u62d3\u5c55\u7684\u8282\u70b9\uff0c\u800c\u662f\u9009\u62e9\u5176\u7f6e\u4fe1\u4e0a\u754c\u6700\u5927\u7684\u8fdb\u884c\u62d3\u5c55\u3002</p> <p>\u5728\u6700\u7ec8\u51b3\u7b56\u65f6\uff0c\u4ee5\u7f6e\u4fe1\u4e0a\u754c\u6700\u5927\uff08\u80dc\u7387\u6700\u9ad8\u3001\u6700\u591a\u8bbf\u95ee\u6b21\u6570\u7b49\u6307\u6807\u5747\u53ef\uff09\u7684\u8282\u70b9\u4f5c\u4e3a\u51b3\u7b56\uff0c\u7b97\u6cd5\u7684\u7ec6\u8282\u89c1\u4e0b\u65b9 Python \u4f2a\u4ee3\u7801\u3002</p> <pre><code>\"\"\"\nUCT_search algorithm\n\"\"\"\nC = some configurable value\n\ndef getinfo(v) # \u8f93\u5165\u4e00\u4e2a\u8282\u70b9 v\uff0c\u8fd4\u56de\u8282\u70b9\u5bf9\u5e94\u7684 (s, w, n)\ndef update(v, dw) # \u66f4\u65b0\u8282\u70b9\u7684 v \u5bf9\u5e94\u7684\u72b6\u6001 w = w + dw, n = n + 1\n\ndef UCT_search(S0):\n    root = create_tree(S0)\n    while \u65f6\u95f4\u8db3\u591f:\n        v = select(v0)\n        dw = default_policy(v)\n        back_propagate(v, dw)\n    return best_child(root)\n\ndef select(u):\n    while u \u4e0d\u662f\u7ec8\u6b62\u8282\u70b9:\n        if u \u662f\u53ef\u62d3\u5c55\u7684:\n            return expand(u)\n        else:\n           u = best_child(u)\n    return u\n\ndef expand(u):\n    s, _, _ = getinfo(u)\n    for t in ch[s]:\n        if t \u672a\u88ab\u52a0\u5165\u6811\u4e2d:\n            return t\n\ndef best_child(u):\n    _, _, N = getinfo(u)\n    I_max = -inf\n    r = None\n    for v in u.children:\n        _, w, n = getinfo(v)\n        I = w / n + sqrt(2 * ln(N) / n)\n        if I &gt; I_max:\n            I_max = I\n            r = v\n    return r\n\ndef default_policy(u):\n    s, _, _ = getinfo(u)\n    while s \u4e0d\u662f\u7ec8\u6001:\n        a = \u968f\u673a\u9009\u53d6\u4e00\u4e2a\u884c\u52a8\n        s = delta(s, a)\n    if u \u4e0e root \u6df1\u5ea6\u540c\u5947\u5076:\n        return 1\n    else:\n        return 0\n\ndef back_propagate(u, dw):\n    while u != root:\n        update(u, dw)\n        dw = 1 - dw\n        u = u.parent\n</code></pre>"},{"location":"ai-ml/adversarial-search/#_6","title":"\u5b9e\u73b0\u6280\u5de7","text":"<p>\u7ec8\u5c40\u7279\u5224</p> <p>\u5728\u9ed8\u8ba4\u51b3\u7b56\u4e0b\u80dc\u7387\u9ad8\u5e76\u4e0d\u4e00\u5b9a\u610f\u5473\u7740\u8fd9\u4e2a\u5c40\u9762\u4e00\u5b9a\u662f\u5fc5\u80dc\u5c40\u9762\u3002</p> <p>\u5047\u8bbe S \u9700\u8981\u8ddd\u79bb\u5230\u8fbe\u7ec8\u5c40\u53ea\u9700\u8981\u5e38\u6570\u6b65\uff0c\u5b83\u53ef\u4ee5\u5230\u8fbe N \u4e2a\u7ec8\u5c40\uff0c\u5176\u4e2d\u53ea\u6709 1 \u4e2a\u662f\u5148\u624b\u5fc5\u8d25\u6001\uff0c\u5176\u4f59\u5168\u662f\u5148\u624b\u5fc5\u80dc\u6001\u3002\u90a3\u4e48\u5b9e\u9645\u4e0a S \u662f\u5148\u624b\u5fc5\u80dc\u6001\uff0c\u4e00\u4e2a\u51c6\u786e\u7684\u4f30\u503c\u5e94\u8be5\u5f88\u5927\u3002\u4f46\u662f\u6211\u4eec\u7684\u9ed8\u8ba4\u7b56\u7565\u662f\u968f\u673a\u51b3\u7b56\uff0c\u90a3\u4e48\u6700\u540e\u8282\u70b9\u7684\u80dc\u7387\u4ece\u7406\u8bba\u4e0a\u5e94\u5f53\u5728 1/N \u9644\u8fd1\u3002\u5f53 N \u8f83\u5927\u65f6\u6211\u4eec\u7684\u9ed8\u8ba4\u51b3\u7b56\u5f97\u4e0d\u5230\u597d\u7684\u7ed3\u679c\u3002\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u662f\uff0c\u5bf9\u4e8e\u63a5\u8fd1\u7ec8\u5c40\u7684\u60c5\u51b5\u4e0d\u518d\u8fdb\u884c\u6a21\u62df\uff0c\u800c\u662f\u76f4\u63a5\u5168\u90e8\u641c\u7d22\u3002\u8fd9\u6837\u5f97\u5230\u7684\u7ed3\u679c\u66f4\u52a0\u51c6\u786e\uff0c\u4f46\u6b65\u6570\u8d8a\u591a\uff0c\u65f6\u95f4\u6d88\u8017\u4e5f\u8d8a\u5927\u3002\u56e0\u6b64\u8981\u8fdb\u884c\u6743\u8861\u3002</p> <p>\u5bf9\u4e8e Snake Go \u800c\u8a00\uff0c\u4e00\u4e2a\u5bf9\u5e94\u7684\u7b80\u5355\u4f18\u5316\u5c31\u662f\u5728\u9ed8\u8ba4\u7b56\u7565\u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u7b56\u7565\u5bfc\u81f4\u4e86\u81ea\u5df1\u7684\u86c7\u81ea\u6740\u6d88\u5931\uff0c\u90a3\u4e48\u663e\u7136\u662f\u4e0d\u4f1a\u9009\u7684\uff0c\u6240\u4ee5\u5e94\u5f53\u5c06\u5176\u5254\u9664\u3002</p>"},{"location":"ai-ml/adversarial-search/#_7","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u5bf9\u6297\u641c\u7d22\u662f\u5728\u7528\u201c\u4eba\u5de5\u667a\u80fd\u201d\u7684\u601d\u60f3\u53bb\u89e3\u51b3\u535a\u5f08\u8bba\u95ee\u9898\u3002\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u53bb\u4e86\u89e3\u5bf9\u5e94\u7684\u77e5\u8bc6\u3002</p> <p>\u4e0e\u5bf9\u6297\u641c\u7d22\u76f8\u5173\u7684\u8bfe\u7a0b\uff1a</p> <ul> <li>\u4eba\u5de5\u667a\u80fd\u5bfc\u8bba</li> </ul>"},{"location":"ai-ml/adversarial-search/#_8","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>OI Wiki \u4e2d\u5173\u4e8e\u535a\u5f08\u8bba\u7684\u76f8\u5173\u4ecb\u7ecd https://oi-wiki.org/math/game-theory/impartial-game/</li> </ul>"},{"location":"ai-ml/pytorch/","title":"\u5982\u4f55\u6210\u4e3a\u4e00\u540d\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u5e08","text":"<p>Credit: \u539f\u4f5c\u8005 lifeihan</p>"},{"location":"ai-ml/pytorch/#_2","title":"\u4e00\u3001\u57fa\u672c\u95e8\u69db","text":"<p>(1) \u5177\u6709\u4e00\u5b9a\u7684\u6570\u5b66\u57fa\u7840\uff1a\u4e00\u5b9a\u8981\u5bf9\u5fae\u79ef\u5206\u3001\u7ebf\u6027\u4ee3\u6570\u5177\u6709\u8f83\u597d\u7684\u638c\u63e1\uff0c\u4f5c\u4e3a\u57fa\u7840\u4e2d\u7684\u57fa\u7840\u3002\u5927\u4e00\u4e0a\u7684\u540c\u5b66\u53ef\u4ee5\u63d0\u524d\u5b66\u4e60\u5fae\u79ef\u5206\u4e0b\u518c\u7684\u591a\u5143\u51fd\u6570\u5fae\u5206\u3001\u504f\u5bfc\u76f8\u5173\u5185\u5bb9\uff0c\u76f8\u8f83\u4e0a\u518c\u65e0\u96be\u5ea6\u63d0\u5347\uff0c\u5728\u5176\u57fa\u7840\u4e0a\u7b80\u8981\u9605\u8bfb\u5373\u53ef\u4e86\u89e3\u5e76\u638c\u63e1\u3002\u6b64\u5916\uff0c\u6709\u4f59\u529b\u8005\u53ef\u4ee5\u5b66\u4e60\u6982\u7387\u8bba\u4e0e\u6570\u7406\u7edf\u8ba1\u7684\u76f8\u5173\u5185\u5bb9\u3002\u6b64\u90e8\u5206\u4e0d\u5efa\u8bae\u81ea\u884c\u7cfb\u7edf\u5b66\u4e60\u76f8\u5173\u8bfe\u672c\u7b49\u5185\u5bb9\uff0c\u800c\u662f\u5728 AI \u5b66\u4e60\u9047\u5230\u65f6\u518d\u8fdb\u884c\u67e5\u8be2\u5b66\u4e60\u3002</p> <p>(2) \u638c\u63e1 Python \u8bed\u8a00\uff1a\u6b64\u5904\u53ef\u53c2\u7167\u9152\u4e95\u6691\u57f9 3.0 \u7cfb\u5217\u8bfe\u7a0b\uff5e</p> <ul> <li>\u9152\u4e95\u79d1\u534f\u6691\u57f9 3.0 \u57fa\u7840 + \u4eba\u5de5\u667a\u80fd</li> <li>\u5efa\u8bae\u4e0d\u8981\u6b7b\u5543\u77e5\u8bc6\u70b9\uff0c\u638c\u63e1\u6700\u57fa\u7840\u7684\u77e5\u8bc6\u540e\u5c1d\u8bd5\u8ddf\u7740\u6559\u7a0b\u5199\u4e00\u4e2a\u5c0f\u6e38\u620f\u6216\u8005\u8bf8\u5982\u9b54\u65b9\u6c42\u89e3\u4e00\u7c7b\u7684\u5de5\u5177\u6027\u7a0b\u5e8f\uff0c\u9047\u5230\u4e0d\u61c2\u7684\u8fdb\u884c\u67e5\u8be2\u5b66\u4e60\uff0c\u800c\u975e\u5728\u5168\u9762\u638c\u63e1\u77e5\u8bc6\u70b9\u540e\u518d\u5f00\u59cb\u5199\u7a0b\u5e8f\u3002\u7136\u540e\u518d\u81ea\u884c\u5199\u4e00\u4e9b\u5c0f\u578b\u7a0b\u5e8f\u8fdb\u884c\u5de9\u56fa\uff0c\u8fd9\u6837\u624d\u662f\u6700\u5feb\u638c\u63e1 Python \u8bed\u8a00\u7684\u65b9\u6cd5\u3002</li> </ul> <p>(3) \u5bf9\u4e00\u4e9b\u5e38\u7528\u5de5\u5177\u8fdb\u884c\u7b80\u8981\u7684\u5b66\u4e60\u638c\u63e1\uff1a\u5982 Vim\u3001Git\u3001Linux\u2026\u2026\u6b64\u90e8\u5206\u53ef\u53c2\u7167\u5927\u91cf\u7f51\u7edc\u6559\u7a0b\u6216\u9152\u4e95\u6691\u57f9\u8d44\u6599\uff0c\u6b64\u5904\u4e0d\u505a\u8fc7\u591a\u8d58\u8ff0\u3002</p>"},{"location":"ai-ml/pytorch/#pytorch","title":"\u4e8c\u3001\u5165\u95e8 PyTorch \u7684\u57fa\u7840\u77e5\u8bc6\u5b66\u4e60","text":"<p>(1) \u673a\u5668\u5b66\u4e60\u76f8\u5173\u57fa\u7840\u77e5\u8bc6\uff1a \u673a\u5668\u5b66\u4e60\u7684\u90e8\u5206\u77e5\u8bc6\u53ea\u4f5c\u4e3a\u7406\u89e3\u6df1\u5ea6\u5b66\u4e60\u77e5\u8bc6\u7684\u57fa\u7840\uff0c\u4e0d\u5fc5\u5728\u4e00\u4e9b\u76f8\u8f83\u4e4b\u4e0b\u66f4\u6df1\u5165\u7684\u77e5\u8bc6\u4e0a\u8fdb\u884c\u7ea0\u7ed3\uff0c\u56e0\u4e3a\u6211\u5b66\u5b8c\u4e86\u56de\u5934\u4e0d\u7528\u4e5f\u5fd8\u4e86\u3002\u540c\u65f6\u5982\u679c\u4ee5 PyTorch \u5165\u95e8\uff0c\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\u4e3a\u76ee\u7684\uff0c\u4e0d\u5fc5\u8fdb\u884c\u76f8\u5e94\u7684\u4ee3\u7801\u8bad\u7ec3\uff0c\u800c\u638c\u63e1\u77e5\u8bc6\u70b9\u5373\u53ef\u3002\u6b64\u5904\u5bf9\u5e94\u8be5\u638c\u63e1\u7684\u673a\u5668\u5b66\u4e60\u57fa\u7840\u77e5\u8bc6\u505a\u4e00\u63d0\u7eb2\uff0c\u53ef\u5bf9\u7167\u7740\u67e5\u7f3a\u8865\u6f0f\uff1a</p> <ul> <li>\u6570\u636e\u9884\u5904\u7406\uff1a\u6570\u636e\u6e05\u6d17\u3001\u6570\u636e\u53d8\u6362<ul> <li>\u603b\u7ed3\uff1a\u6570\u636e\u6e05\u6d17\u7684\u4e00\u4e9b\u603b\u7ed3</li> <li>\u673a\u5668\u5b66\u4e60\u6570\u636e\u9884\u5904\u7406\u4ee3\u7801\u6c47\u603b</li> <li>\u8bfb\u5b8c\u672c\u6587\uff0c\u8ba9\u4f60\u5feb\u901f\u638c\u63e1\u6570\u636e\u9884\u5904\u7406\uff5c\u673a\u5668\u5b66\u4e60</li> </ul> </li> <li>\u7279\u5f81\u5de5\u7a0b\uff1a<ul> <li>\u7279\u5f81\u5de5\u7a0b</li> </ul> </li> <li>\u76d1\u7763\u5b66\u4e60\uff1a<ul> <li>\u5206\u7c7b\u7b97\u6cd5\uff1aK-\u8fd1\u90bb\u7b97\u6cd5\uff0c\u51b3\u7b56\u6811\uff0c\u6734\u7d20\u8d1d\u53f6\u65af\uff0cLogistic \u56de\u5f52\uff0cSVM\uff0cSoftmax \u56de\u5f52</li> <li>\u56de\u5f52\u7b97\u6cd5\uff1a\u7ebf\u6027\u56de\u5f52\uff0c\u5c40\u90e8\u52a0\u6743\u7ebf\u6027\u56de\u5f52</li> </ul> </li> <li>\u65e0\u76d1\u7763\u5b66\u4e60\uff1a<ul> <li>K-means\uff0c\u5c42\u6b21\u805a\u7c7b\uff0cDBSCAN</li> </ul> </li> <li>\u6a21\u578b\u8bc4\u4f30\u65b9\u6cd5\uff1a\u51c6\u786e\u7387\uff0c\u53ec\u56de\u7387\uff0cP-R \u66f2\u7ebf\uff0cROC\uff0cAUC\uff0cMSE<ul> <li>\u673a\u5668\u5b66\u4e60\u6a21\u578b\u8bc4\u4f30\u7684\u65b9\u6cd5\u603b\u7ed3\uff08\u56de\u5f52\u3001\u5206\u7c7b\u6a21\u578b\u7684\u8bc4\u4f30\uff09</li> </ul> </li> </ul> <p>\u7b97\u6cd5\u90e8\u5206\u5b66\u4e60\u8d44\u6599\u63a8\u8350\uff1a</p> <ol> <li>\u89c6\u9891\u63a8\u8350\uff1a\u5434\u6069\u8fbe\u7684\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b\uff08B \u7ad9\u641c\u7d22\u5373\u53ef\uff09\uff0c\u53ef\u4ee5\u9ad8\u500d\u901f\u8fc7\u4e00\u904d\uff0c\u5bf9\u76f8\u5173\u5185\u5bb9\u6709\u4e00\u5b9a\u57fa\u7840\u7684\u7406\u89e3\uff0c\u4f46\u662f\u5176\u4e0d\u6d89\u53ca\u51e0\u4e4e\u4efb\u4f55\u6570\u5b66\u63a8\u5bfc\uff0c\u800c\u662f\u50bb\u74dc\u5f0f\u7684\u544a\u8bc9\u4f60\u5982\u4f55\u4f7f\u7528\uff0c\u8fd9\u4e0d\u662f\u6211\u4eec\u5b66\u4e60\u7684\u76ee\u7684\uff0c\u66f4\u5efa\u8bae\u5728\u89c2\u770b\u5b8c\u524d\u51e0\u8282\u8bfe\u6709\u4e86\u4e00\u5b9a\u4e86\u89e3\u540e\u8f6c 2\u3002</li> <li>\u5bf9\u7740\u77e5\u8bc6\u63d0\u7eb2\u540d\u5b57\u9010\u4e2a\u5728 CSDN/\u77e5\u4e4e/StackOverflow \u641c\u7d22\u8fdb\u884c\u5b66\u4e60\uff0c\u800c\u975e\u5543\u4e66\u6216\u8005\u770b\u89c6\u9891\uff0c\u6548\u7387\u66f4\u9ad8\u3002</li> <li>\u5982\u679c\u60f3\u5bf9\u77e5\u8bc6\u6709\u66f4\u6df1\u5165\u7684\u7406\u89e3\uff0c\u5efa\u8bae\u9605\u8bfb\u674e\u822a\u7684\u300a\u7edf\u8ba1\u5b66\u4e60\u65b9\u6cd5\u300b\u4e00\u4e66\uff0c\u76f8\u5173\u77e5\u8bc6\u70b9\u5543\u4e00\u904d\u540e\u6536\u83b7\u9887\u4e30\u3002\uff08\u5468\u5fd7\u534e\u7684\u300a\u673a\u5668\u5b66\u4e60\u300b\u4e5f\u79f0\u897f\u74dc\u4e66\u4e5f\u53ef\u8003\u8651\uff0c\u7b14\u8005\u6709\u4f46\u6ca1\u9605\u8bfb\u8fc7\u6545\u4e0d\u505a\u63a8\u8350\uff0c\u6b64\u4e66\u98ce\u8bc4\u4e5f\u4e0d\u9519\uff5e\uff09</li> </ol> <p>(2) \u6df1\u5ea6\u5b66\u4e60\u76f8\u5173\u57fa\u7840\u77e5\u8bc6\uff1a\u6b64\u90e8\u5206\u77e5\u8bc6\u5efa\u8bae\u9996\u5148\u4ee5\u89c6\u9891\u8d44\u6599\u4e3a\u8d77\u59cb\u8fdb\u884c\u4e86\u89e3\u5b66\u4e60\uff0c\u7136\u540e\u6839\u636e\u63d0\u7eb2\u8fdb\u884c\u62d3\u5c55\u8865\u5145\uff0c\u67e5\u7f3a\u8865\u6f0f\uff5e</p> <ul> <li> <p>\u89c6\u9891\u8d44\u6599\u63a8\u8350\uff1a\u674e\u5b8f\u6bc5\u7684\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b\uff08\u867d\u7136\u53eb\u673a\u5668\u5b66\u4e60\uff0c\u5b9e\u5219\u6db5\u76d6\u7740\u5927\u91cf\u7684\u6df1\u5ea6\u5b66\u4e60\u5185\u5bb9\uff09\uff0c\u8001\u5e08\u98ce\u8da3\u5e7d\u9ed8\uff0c\u540c\u65f6\u9488\u5bf9\u77e5\u8bc6\u6709\u7740\u7b80\u660e\u6613\u61c2\u7684\u8bb2\u89e3\uff0c\u4e5f\u4e0d\u4e4f\u6570\u5b66\u63a8\u5bfc\u7684\u81ea\u613f\u5b66\u4e60\uff1b\u9488\u5bf9\u4e00\u4e9b\u5ef6\u4f38\u5185\u5bb9\u4e5f\u6709\u52a9\u6559\u505a\u4e86\u76f8\u5173\u7684\u5b66\u4e60\u8bb2\u89e3\uff0c\u975e\u5e38\u63a8\u8350\uff5e</p> <ul> <li>\u8bfe\u7a0b\u642c\u8fd0\u89c6\u9891\u94fe\u63a5\uff1a\u674e\u5b8f\u6bc5 2021/2022 \u6625\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b</li> <li>\u8bfe\u7a0b\u4e3b\u9875\uff08\u4f5c\u4e1a\u94fe\u63a5\uff0c\u8bb2\u4e49\u4e0b\u8f7d\u4f7f\u7528\uff09\uff1aMachine Learning 2021 Spring \u6ce8\uff1a\u8bfe\u7a0b\u524d 27 \u8bb2\u9488\u5bf9\u57fa\u7840\uff0c\u52a1\u5fc5\u770b\u5b8c\uff1b\u800c\u540e\u4e0d\u4e00\u5b9a\u8981\u5c06\u540e\u7eed\u6240\u6709\u8bfe\u7a0b\u5b66\u5b8c\uff0c\u5efa\u8bae\u5148\u884c\u5b66\u4e60\u6bd4\u8f83\u5e38\u89c1\u4e14\u57fa\u7840\u7684 CNN\uff0cSelf-Attention\uff0cTransformer\uff0cRNN \u90e8\u5206\uff0c\u800c\u4f59\u4e0b\u7684\u5185\u5bb9\u6709\u4f59\u529b\u53ef\u4ee5\u5168\u90e8\u5b66\u4e60\uff0c\u5426\u5219\u5728\u4ee5\u540e\u9700\u8981\u65f6\u518d\u89c2\u770b\u5b66\u4e60\u66f4\u4f73\u3002</li> </ul> </li> <li> <p>\u77e5\u8bc6\u63d0\u7eb2\uff1a</p> <ul> <li>\u6570\u636e\u9884\u5904\u7406 &amp; \u6570\u636e\u589e\u5f3a\uff1a <ul> <li>\u56fe\u50cf\u526a\u88c1\uff1a\u4e2d\u5fc3\u526a\u88c1\uff0c\u968f\u673a\u526a\u88c1\uff0c\u968f\u673a\u957f\u5bbd\u6bd4\u526a\u88c1</li> <li>\u7ffb\u8f6c\u548c\u65cb\u8f6c\uff1a\u6982\u7387\u6c34\u5e73\u7ffb\u8f6c\uff0c\u6982\u7387\u5782\u76f4\u65cb\u8f6c\uff0c\u968f\u673a\u65cb\u8f6c</li> <li>\u56fe\u50cf\u53d8\u6362\uff1aResize\uff0c\u6807\u51c6\u5316\uff0c\u586b\u5145\uff0c\u7070\u5ea6\u5316\uff0c\u7ebf\u6027\u53d8\u5316\uff0c\u4eff\u5c04\u53d8\u6362\uff0cTensor</li> </ul> </li> <li>\u5c42\u6b21\u7ed3\u6784\uff1a<ul> <li>\u5377\u79ef\u5c42\uff1a\u6807\u51c6\u5377\u79ef\uff0c\u7a7a\u6d1e\u5377\u79ef\uff0c\u5206\u7ec4\u5377\u79ef\uff0c\u53ef\u53d8\u5f62\u5377\u79ef\uff0c\u53ef\u5206\u79bb\u5377\u79ef</li> <li>\u6fc0\u52b1\u5c42\uff1asigmoid\uff0ctanh\uff0cReLU\uff0cLeaky ReLU\uff0cELU\uff0cSELU</li> <li>\u6c60\u5316\u5c42\uff1a\u5e73\u5747\u6c60\u5316\uff0c\u6700\u5927\u6c60\u5316\uff0c\u968f\u673a\u6c60\u5316\uff0c\u5168\u5c40\u5e73\u5747\u6c60\u5316</li> <li>\u4e0a\u91c7\u6837\u5c42\uff1a\u53cc\u7ebf\u6027\u63d2\u503c\uff0c\u53cd\u5377\u79ef\uff0c\u53cd\u6c60\u5316</li> </ul> </li> <li>\u635f\u5931\u51fd\u6570\uff1azero one loss\uff0ccross entropy loss\uff0cMSE loss\uff0cfocal loss\uff0clogistic loss\uff0ccenter loss\uff0cwing loss\uff0cdice loss\uff0chinge loss\uff0carcface loss</li> <li>\u4f18\u5316\u7b97\u6cd5\uff1aBCD\uff0cSGD\uff0cMBGD\uff0cMomentum\uff0cRMSProp\uff0cAdaGrad\uff0cAdam</li> <li>\u6743\u91cd\u521d\u59cb\u5316\uff1a\u96f6\u521d\u59cb\u5316\uff0c\u968f\u673a\u521d\u59cb\u5316\uff0cXavier \u521d\u59cb\u5316\uff0cHe \u521d\u59cb\u5316\uff0c\u9884\u8bad\u7ec3\u6a21\u578b</li> <li>\u5b66\u4e60\u7387\u8c03\u6574\uff1aLamdalLR\uff0cMultiplicativeLR\uff0cStepLR\uff0cMultiStepLR\uff0cExponentialLR\uff0cCosineAnnealingLR\uff0cCyclicLR\uff0cOneCycleLR\uff0cWarmup</li> </ul> </li> </ul>"},{"location":"ai-ml/pytorch/#pytorch_1","title":"\u4e09\u3001\u5165\u95e8 PyTorch \u5de5\u5177","text":"<p>\u5165\u95e8\u5de5\u5177\u7684\u8fc7\u7a0b\u4e5f\u662f\u953b\u70bc\u7801\u529b\u7684\u8fc7\u7a0b\uff0c\u6b64\u5904\u63a8\u8350\u4ee5\u4e0b\u8def\u7ebf:</p> <ul> <li>\u89c2\u770b\u5b98\u65b9\u6587\u6863\u7684\u7b80\u5355\u793a\u4f8b\u5e76\u8ddf\u968f\u5199\u4ee3\u7801\u4f5c\u4e3a\u6700\u57fa\u7840\u7684\u5165\u95e8 \uff1a<ul> <li>PyTorch \u4e2d\u6587\u5b98\u65b9\u6559\u7a0b 1.7</li> </ul> </li> <li>\u5bfb\u627e Kaggle \u7f51\u7ad9\u7684\u51e0\u4e2a\u6700\u57fa\u7840\u793a\u4f8b\u6bd4\u8d5b\uff08\u5982 MNIST \u5e93\u7684\u8bc6\u522b\uff09\uff0c\u5728\u5176 Code \u4e2d\u5bfb\u627e\u57fa\u7840\u7684\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u6479\u5199\u5b66\u4e60\uff1a<ul> <li>Kaggle</li> </ul> </li> <li>\u5b8c\u6210\u674e\u5b8f\u6bc5\u8bfe\u7a0b\u4f5c\u4e1a\uff0c\u8ddf\u968f\u516c\u5e03\u7684\u6700\u4f73\u65b9\u6848\u8fdb\u884c\u4e00\u904d\u6479\u5199\uff0c\u9047\u5230\u4e0d\u61c2\u7684\u51fd\u6570/\u5904\u7406\u8fdb\u884c\u641c\u7d22\u5f15\u64ce\u641c\u7d22\u8865\u5145\u5b66\u4e60\uff0c\u66f4\u597d\u7684\u505a\u6cd5\u662f\u5b66\u4f1a\u67e5\u8be2\u5b98\u65b9\u7684\u51fd\u6570\u5e93\u8bcd\u5178\uff1aTorch</li> <li>\u5c1d\u8bd5\u5728 Kaggle \u4e0a\u81ea\u884c\u5bfb\u627e\u6709\u5f00\u6e90 Code \u7684\u6bd4\u8d5b\u81ea\u884c\u64b0\u5199\u5e76\u63d0\u4ea4\u770b\u770b\u7ed3\u679c\uff0c\u5b66\u4e60\u4ed6\u4eba\u7ecf\u9a8c\u3002</li> </ul>"},{"location":"ai-ml/pytorch/#_3","title":"\u56db\u3001\u5bfb\u627e\u9002\u5408\u81ea\u5df1\u7684\u9886\u57df\uff0c\u8fdb\u884c\u6df1\u5165\u5b66\u4e60\u4e0e\u79d1\u7814","text":"<p>\u6df1\u5ea6\u5b66\u4e60\u4e0d\u662f\u96e8\u9732\u5747\u6cbe\u7684\u5b66\u79d1\uff0c\u5efa\u8bae\u627e\u5230\u81ea\u5df1\u611f\u5174\u8da3\u7684\u65b9\u5411\uff0c\u5982 NLP\u3001CV\u3001\u8ba1\u7b97\u4f18\u5316\u7b49\u7b49\u5927\u65b9\u5411\uff0c\u53ca\u5176\u4e0b\u7684\u7ec6\u5206\u9886\u57df\u8fdb\u884c\u5b66\u4e60\uff0c\u548c\u81ea\u8eab\u7684\u5b9e\u9a8c\u5ba4/SRT \u79d1\u7814\u8fdb\u884c\u7ed3\u5408\u627e\u5230\u81ea\u5df1\u611f\u5174\u8da3\u7684\u70b9\uff0c\u8fdb\u884c\u5b66\u4e60\uff0c\u57fa\u672c\u7684\u5b66\u4e60\u601d\u8def\u5982\u4e0b\uff1a</p> <ul> <li>\u53d1\u73b0\u5174\u8da3\uff0c\u627e\u5230\u65b9\u5411\uff0c\u4e0e\u5b66\u957f\u8001\u5e08\u4ea4\u6d41\u6b64\u65b9\u5411\u7684\u524d\u666f\uff0c\u5377\u4e0d\u5377\uff0c\u5b66\u4e60\u4e0e\u5165\u95e8\u65b9\u6cd5\uff1b</li> <li>\u5bf9\u6b64\u9886\u57df\u7684\u5f00\u5c71\u4e4b\u4f5c\uff0c\u4e00\u76f4\u5230\u6700\u8fd1\u9876\u4f1a\u7684\u9ad8\u5f71\u54cd\u529b\u8bba\u6587\u8fdb\u884c\u9605\u8bfb\u5b66\u4e60\uff0c\u517b\u6210\u505a\u7b14\u8bb0\u7684\u597d\u4e60\u60ef\uff0c\u4e3b\u8981\u8bb0\u5f55\u6a21\u578b\u601d\u8def\uff0c\u4f18\u7f3a\u70b9\uff1b</li> <li>\u4e86\u89e3\uff0c\u5b66\u4e60\u5e76\u9010\u6e10\u638c\u63e1\uff0c\u719f\u7ec3\u8fd0\u7528\u6b64\u65b9\u5411\u7684\u5e38\u7528\u5f00\u6e90\u6a21\u578b\u6846\u67b6\uff0c\u80fd\u591f\u66f4\u6362\u81ea\u5df1\u7684\u6570\u636e\u96c6\uff0c\u4f5c\u51fa\u7b80\u8981\u6539\u9020\u7b49\uff0c\u8dd1\u8d77\u6765\u6a21\u578b\uff1b</li> <li>\u5bf9\u6a21\u578b\u53c2\u6570\uff0c\u6a21\u578b\u7ed3\u6784\u6709\u81ea\u5df1\u6df1\u523b\u7684\u8ba4\u8bc6\uff0c\u80fd\u591f\u6839\u636e\u8fd0\u7b97\u7ed3\u679c\u505a\u51fa\u5408\u7406\u7684\u8c03\u6574\u5e76\u83b7\u53d6\u8fdb\u4e00\u6b65\u4f18\u5316\u7684\u7ed3\u679c\uff1b</li> <li>\u80fd\u591f\u81ea\u884c\u6539\u53d8\u6a21\u578b\u7ed3\u6784\uff0c\u5229\u7528\u81ea\u8eab\u7406\u89e3\u5bf9\u6570\u636e\u5904\u7406\uff0c\u6a21\u578b\u8ba1\u7b97\u7b49\u591a\u65b9\u9762\u505a\u51fa\u4f18\u5316\uff0c\u5728\u9886\u57df\u7fd8\u695a\u6a21\u578b\u7684\u57fa\u7840\u4e0a\u521b\u9020\u6027\u6539\u9020\u4ee5\u83b7\u53d6\u66f4\u597d\u7684\u7ed3\u679c\uff0c\u751a\u81f3\u8fdb\u884c\u521b\u9020\u6027\u7684\u7a81\u7834\u3002</li> </ul>"},{"location":"ai-ml/pytorch/#_4","title":"\u4e94\u3001\u7ed3\u8bed","text":"<p>\u5feb\u9003\uff09\u795d\u5927\u5bb6\u80fd\u591f\u575a\u6301\u4e0b\u6765\u627e\u5230\u81ea\u5df1\u559c\u6b22\u7684\u65b9\u5411\u5e76\u5c3d\u5feb\u5165\u95e8\u8fd9\u4e00\u5e74\u8f7b\u7684\u5b66\u79d1\uff5e</p>"},{"location":"ai-ml/pytorch/#_5","title":"\u53ef\u7528\u94fe\u63a5","text":"<p>\u8bfb\u8005\u53ef\u4ee5\u5c1d\u8bd5\u9605\u8bfb\u4e0b\u5217\u6587\u6863\u5b66\u4e60 PyTorch \u6846\u67b6\uff1a</p> <ul> <li>\u52a8\u624b\u5b66\u6df1\u5ea6\u5b66\u4e60</li> </ul>"},{"location":"ai-ml/pytorch/#2025","title":"2025\u5e74\u65b0\u589e\u5185\u5bb9","text":"<p>\u8bfe\u7a0b\u6750\u6599\u4ed3\u5e93\uff1a https://github.com/sast-summer-training-2024/sast2024-DP-and-Pytorch.git</p> <p>https://www.bilibili.com/video/BV1FSYueTEWw/?share_source=copy_web&amp;vd_source=5f41358f46c6dc60e03c3ff6ca5a8520</p>"},{"location":"ai-ml/pytorch/#pytorch99","title":"Pytorch\u7684\u8bad\u7ec3\u65b9\u6cd5\u7c7b\u4f3c\u516b\u80a1\u6587\uff0c\u767e\u5206\u4e4b99\u7684\u6a21\u578b\u90fd\u662f\u8fd9\u4e48\u8bad\u7ec3\u7684","text":"<ul> <li>\u51c6\u5907\u6570\u636e\u96c6</li> <li>\u5b9a\u4e49\u6a21\u578b</li> <li>\u5b9a\u4e49\u635f\u5931\u51fd\u6570\u4e0e\u4f18\u5316\u5668</li> <li>\u5728\u6a21\u578b\u4e0a\u8fdb\u884c\u8bad\u7ec3</li> <li>\u5b58\u50a8\u6a21\u578b\u53c2\u6570</li> </ul> <p>https://www.bilibili.com/video/BV1FSYueTEWw/?share_source=copy_web&amp;vd_source=5f41358f46c6dc60e03c3ff6ca5a8520 \u7ed9\u51fa\u4e86\u4e00\u4e2a\u5177\u4f53\u7684\u8bad\u7ec3\u5b9e\u4f8b\uff0c\u5efa\u8bae\u5bf9\u7167\u7740\u89c6\u9891\u94fe\u63a5\u9010\u6b65\u64cd\u4f5c\u3002\u4e00\u4e9b\u8981\u70b9\u5982\u4e0b\u3002</p>"},{"location":"ai-ml/pytorch/#_6","title":"\u4e00\u4e9b\u8981\u70b9","text":""},{"location":"ai-ml/pytorch/#_7","title":"\u6a21\u578b\u5b9a\u4e49","text":"<p>\u5728PyTorch\u4e2d\u5b9a\u4e49\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u9700\u8981\u7ee7\u627f<code>torch.nn.Module</code>\u7c7b\uff0c\u5e76\u5b9e\u73b0\u4ee5\u4e0b\u4e24\u4e2a\u6838\u5fc3\u65b9\u6cd5\uff1a <pre><code>class TestModel(torch.nn.Module):\n    def __init__(self):\n        super().__init__()  # \u5fc5\u987b\u8c03\u7528\u7236\u7c7b\u521d\u59cb\u5316\n        self.layer = torch.nn.Linear(5, 2)  # \u5b9a\u4e49\u5168\u8fde\u63a5\u5c42\n\n    def forward(self, data):\n        return self.layer(data)  # \u5b9a\u4e49\u524d\u5411\u4f20\u64ad\u903b\u8f91\n</code></pre> - <code>__init__</code>\u65b9\u6cd5\u7528\u4e8e\u5b9a\u4e49\u7f51\u7edc\u5c42\u7ed3\u6784 - <code>forward</code>\u65b9\u6cd5\u5b9e\u73b0\u5177\u4f53\u7684\u524d\u5411\u8ba1\u7b97\u8fc7\u7a0b</p>"},{"location":"ai-ml/pytorch/#pytorch_2","title":"PyTorch\u68af\u5ea6\u8ba1\u7b97\u4e0e\u6a21\u578b\u4f18\u5316","text":"<p>\u68af\u5ea6\u8ba1\u7b97\u793a\u4f8b\uff1a <pre><code>test_model = TestModel()\noptimizer = torch.optim.SGD(test_model.parameters(), lr=1)\nloss_fn = torch.nn.MSELoss()\n\n# \u524d\u5411\u8ba1\u7b97\ndata = torch.rand((1, 5))\ny = test_model(data)\n\n# \u53cd\u5411\u4f20\u64ad\nloss = loss_fn(torch.randn((1, 2)), y)\nloss.backward()  # \u81ea\u52a8\u8ba1\u7b97\u68af\u5ea6\n\n# \u53c2\u6570\u66f4\u65b0\noptimizer.step()  # \u5e94\u7528\u68af\u5ea6\u66f4\u65b0\noptimizer.zero_grad()  # \u6e05\u7a7a\u68af\u5ea6\u7f13\u5b58\n\n# \u65e0\u68af\u5ea6\u8ba1\u7b97\u6a21\u5f0f\nwith torch.no_grad():\n    loss = loss_fn(...)  # \u4e0d\u8bb0\u5f55\u8ba1\u7b97\u56fe\n</code></pre> \u5173\u952e\u70b9\uff1a - <code>loss.backward()</code>\u81ea\u52a8\u8ba1\u7b97\u68af\u5ea6\u5e76\u5b58\u50a8\u5728Parameter.grad\u4e2d - \u4f18\u5316\u5668\u901a\u8fc7<code>step()</code>\u65b9\u6cd5\u66f4\u65b0\u53c2\u6570 - <code>zero_grad()</code>\u9632\u6b62\u68af\u5ea6\u7d2f\u52a0 - <code>torch.no_grad()</code>\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7528\u4e8e\u63a8\u7406\u9636\u6bb5</p>"},{"location":"ai-ml/pytorch/#pytorch_3","title":"PyTorch\u6570\u636e\u96c6\u5904\u7406","text":"<p>\u81ea\u5b9a\u4e49\u6570\u636e\u96c6\u5b9e\u73b0\uff1a <pre><code>class MyDataSet(Dataset):\n    def __init__(self, file: str):\n        self.data = []\n        # \u591a\u7ebf\u7a0b\u6570\u636e\u9884\u5904\u7406\n        with open(file) as fin:\n            inputlist = list(fin)\n            tlist = [threading.Thread(target=deal_segment, \n                     args=(inputlist[1000*i:1000*(i+1)], self.data)) \n                    for i in range(math.ceil(len(inputlist)/1000))]\n            for t in tqdm(tlist):  # \u542f\u52a8\u6240\u6709\u7ebf\u7a0b\n                t.start()\n            for t in tlist:  # \u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\n                t.join()\n\n    def __getitem__(self, index):\n        return self.data[index]  # \u8fd4\u56de\u5355\u4e2a\u6837\u672c\n\n    def __len__(self):\n        return len(self.data)\n</code></pre> \u6570\u636e\u52a0\u8f7d\u5668\u4f7f\u7528\uff1a <pre><code>train_loader = DataLoader(\n    dataset=train_set,\n    batch_size=32,\n    shuffle=True  # \u8bad\u7ec3\u96c6\u9700\u8981\u6253\u4e71\u987a\u5e8f\n)\n</code></pre></p>"},{"location":"ai-ml/pytorch/#_8","title":"\u8bad\u7ec3\u5b9e\u4f8b","text":"<p>\u6a21\u578b\u5b9a\u4e49\uff1a <pre><code>class MyModel(nn.Module):\n    def __init__(self):\n        super().__init__()\n        self.emb = nn.Embedding(50000, 64)  # \u8bcd\u5d4c\u5165\u5c42\n        self.layer1 = nn.Linear(256*64, 64*128)\n        self.ac1 = nn.ReLU()  # \u6fc0\u6d3b\u51fd\u6570\n        self.layer2 = nn.Linear(64*128, 16*16)\n        self.out = nn.Linear(16*16, 2)  # \u8f93\u51fa\u5c42\n\n    def forward(self, data):\n        hidden = self.emb(data).view(-1, 64*256)\n        return self.out(self.ac2(...))\n</code></pre></p> <p>\u8bad\u7ec3\u6d41\u7a0b\uff1a <pre><code># \u521d\u59cb\u5316\u8bad\u7ec3\u7ec4\u4ef6\nmodel = MyModel().cuda()\nloss_fn = nn.CrossEntropyLoss()\noptimizer = SGD(model.parameters(), lr=1e-3)\n\n# \u8bad\u7ec3\u5faa\u73af\nfor epoch in range(EPOCHS):\n    for batch, (X, y) in enumerate(train_loader):\n        pred = model(X.cuda())\n        loss = loss_fn(pred, y.cuda())\n\n        loss.backward()\n        optimizer.step()\n        optimizer.zero_grad()\n\n        # \u8bb0\u5f55\u8bad\u7ec3\u6307\u6807\n        if batch % 20 == 0:\n            wandb.log({\n                \"loss\": loss,\n                \"acc\": accuracy...\n            })\n\n    # \u4fdd\u5b58\u6a21\u578b\n    torch.save(model.state_dict(), \"model.pt\")\n</code></pre></p>"},{"location":"ai-ml/pytorch/#_9","title":"\u6a21\u578b\u63a8\u7406","text":"<pre><code>model = MyModel()\nmodel.load_state_dict(torch.load('model.pt'))\nmodel.eval()  # \u8bbe\u7f6e\u8bc4\u4f30\u6a21\u5f0f\n\nwith torch.no_grad():  # \u7981\u7528\u68af\u5ea6\u8ba1\u7b97\n    ids = torch.tensor(tokenizer.encode(sentence).ids)\n    out = torch.nn.functional.softmax(model(ids), dim=-1)\n    print(\"\u9884\u6d4b\u6982\u7387:\", out)\n    print(\"\u9884\u6d4b\u7c7b\u522b:\", torch.argmax(out).item())\n</code></pre>"},{"location":"ai-ml/pytorch/#_10","title":"\u4f5c\u4e1a\u8981\u6c42","text":"<p>\u5b9e\u73b0RNN\u6587\u672c\u5206\u7c7b\u4efb\u52a1\uff1a 1. \u4f7f\u7528GRU/LSTM\u5355\u5143\uff08\u53ef\u624b\u5199\u6216\u4f7f\u7528\u5185\u7f6e\u7c7b\uff09 2. \u652f\u6301\u53ef\u53d8\u957f\u5ea6\u8f93\u5165\uff08\u6839\u636e\u5b9e\u9645\u8f93\u5165\u957f\u5ea6\u5faa\u73af\uff09 3. \u5206\u7c7b\u51c6\u786e\u7387\u8d85\u8fc780% 4. \u4f7f\u7528\u53ef\u89c6\u5316\u5de5\u5177\u7ed8\u5236\u8bad\u7ec3\u66f2\u7ebf</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/","title":"\u73b0\u4ee3\u6982\u7387\u673a\u5668\u5b66\u4e60\u521d\u6b65","text":""},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#1","title":"1 \u5f15\u8a00","text":"<p>\u5f53\u4e0b\uff0c\u751f\u6210\u5f0f\u4eba\u5de5\u667a\u80fd (AGI) \u5e7f\u53d7\u5173\u6ce8\uff0c\u5728\u6587\u672c\u3001\u56fe\u50cf\u3001\u89c6\u9891\u751f\u6210\u7b49\u9886\u57df\u5747\u6709\u4e0d\u8db3\u8868\u73b0\u3002\u5176\u4e2d\uff0c\u5728\u56fe\u50cf\u751f\u6210\u3001\u89c6\u9891\u751f\u6210\u7b49\u4efb\u52a1\u4e2d\uff0c\u76ee\u524d\u6548\u679c\u6700\u4f73\u7684\u6280\u672f\u8def\u7ebf\u4e3a\u6269\u6563\u6a21\u578b (Diffusion Model,DM)\uff0c\u4f8b\u5982 OpenAI \u7684 Sora \u6a21\u578b\u3002\u5c3d\u7ba1\u4eba\u5de5\u667a\u80fd\u4e00\u5411\u88ab\u5927\u591a\u6570\u4eba\u89c6\u4f5c\u4e0d\u53ef\u89e3\u91ca\u7684\u201c\u9ed1\u7bb1\u201d\uff0c\u4f46\u5177\u4f53\u5230\u6269\u6563\u6a21\u578b\uff0c\u5374\u6709\u7740\u6781\u5176\u6e05\u6670\u3001\u6df1\u523b\u7684\u6570\u5b66\u672c\u8d28\uff1a\u53ef\u4ee5\u8bf4\u5728\u6570\u5b66\u89c6\u89d2\u4e0b\uff0c\u5176\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u7edf\u8ba1\u6a21\u578b\u3002\u672c\u6587\u5c1d\u8bd5\u57fa\u4e8e\u6982\u7387\u7edf\u8ba1\u7406\u8bba\uff0c\u4ee5\u4e25\u683c\u7684\u6570\u5b66\u8bed\u8a00\uff0c\u5bf9\u6269\u6563\u6a21\u578b\u539f\u7406\u8fdb\u884c\u8be6\u7ec6\u7684\u63a8\u5bfc\u4e0e\u603b\u7ed3\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u524d\u6269\u6563\u6a21\u578b\u7684\u7406\u8bba\u7814\u7a76\uff0c\u66f4\u591a\u5df2\u4ece\u521d\u7b49\u6982\u7387\u8bba\u89c6\u89d2\u6f14\u53d8\u5230\u968f\u673a\u5206\u6790\u89c6\u89d2\uff0c\u901a\u8fc7\u8fd0\u7528 ODE\u3001SDE \u7b49\u5de5\u5177\uff0c\u5c06\u6a21\u578b\u672c\u8d28\u62bd\u8c61\u5230\u66f4\u52a0\u9ad8\u7b49\u7684\u6570\u5b66\u4e2d\u3002\u4f46\u7531\u4e8e\u672c\u8bfe\u7a0b\u7684\u6838\u5fc3\u5185\u5bb9\u4e0d\u6d89\u53ca\u968f\u673a\u5206\u6790\uff0c\u6545\u672c\u6587\u4ec5\u4ece\u521d\u7b49\u6982\u7387\u8bba\u4e0e\u7edf\u8ba1\u89c6\u89d2\u51fa\u53d1\uff0c\u4ee5\u6269\u6563\u6a21\u578b\u7684\u201c\u5f00\u5c71\u4e4b\u4f5c\u201d\u2014\u2014Jonathan Ho \u7b49\u4e8e 2020 \u5e74\u53d1\u8868\u7684 \u53bb\u566a\u6269\u6563\u6982\u7387\u6a21\u578b (Denoising Diffusion Probabilistic Models,DDPM)\u53ca\u5176\u5ef6\u4f38\u8bdd\u9898\u4e3a\u8ba8\u8bba\u5bf9\u8c61\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u8bba\u6587\u6ca1\u6709\u4ee5\u6570\u5b66\u7684\u601d\u8def\u6765\u63d0\u51fa\u3001\u6574\u7406\u547d\u9898\uff0c\u5e76\u4e14\u8f83\u591a\u7ed3\u8bba\u6ca1\u6709\u7ed9\u51fa\u8bc1\u660e\uff08\u8fd9\u662f\u56e0\u4e3a\u8bba\u6587\u4f5c\u8005\u8ba4\u4e3a\u8bc1\u660e\u8f83\u4e3a\u7b80\u5355\uff0c\u4e0d\u4fbf\u5360\u7528\u8fc7\u591a\u7bc7\u5e45\uff09\uff0c\u56e0\u6b64\u672c\u6587\u4e0d\u4f1a\u7b80\u5355\u5730\u91cd\u590d\u8be5\u8bba\u6587\u7684\u601d\u8def\u4e0e\u7ed3\u6784\uff0c\u800c\u662f\u5c1d\u8bd5\u6574\u7406\u5176\u524d\u56e0\u540e\u679c\uff0c\u5bf9\u5176\u4e2d\u51fa\u73b0\u7684\u7ed3\u8bba\u52a0\u4ee5\u6570\u5b66\u5316\u7684\u6574\u7406\u4e0e\u8868\u8fbe\u3002</p> <p>\u672c\u6587\u5c06\u5148\u4ecb\u7ecd\u673a\u5668\u5b66\u4e60\u4e2d\uff0c\u751f\u6210\u5f0f\u6a21\u578b\u7684\u666e\u904d\u6027\u6982\u5ff5\uff0c\u518d\u5177\u4f53\u63a2\u8ba8\u6269\u6563\u6a21\u578b\u7684\u6570\u5b66\u5185\u6db5\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#_2","title":"\u7b26\u53f7\u542b\u4e49\u4e0e\u5176\u4ed6\u8bf4\u660e","text":"<ol> <li>\u5bf9\u968f\u673a\u5411\u91cf (X_1, X_2, ..., X_n)^T\uff0c\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5c06\u4e4b\u8bb0\u4f5c X\u3002</li> <li>\u5bf9\u968f\u673a\u5411\u91cf X = [x_1, x_2, ..., x_n]^T\uff0cdX := dx_1 dx_2 ... dx_n\u3002</li> <li>p(X) \u4e0e q(X) \u8868\u793a\u968f\u673a\u53d8\u91cf\uff08\u5411\u91cf\uff09X \u7684 PDF\u3002</li> <li>p_{data}(X) \u8868\u793a\u6570\u636e\u5b9e\u9645\u670d\u4ece\u7684\u5206\u5e03\uff1bp_{model}(X) \u8868\u793a\u5efa\u6a21\u5f97\u5230\u7684\u5206\u5e03\u3002</li> <li>\u5982\u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u672c\u6587\u7684\u6240\u6709\u968f\u673a\u53d8\u91cf\uff08\u5411\u91cf\uff09\u7684\u5206\u5e03\u5747\u4e3a\u8fde\u7eed\u5206\u5e03\uff0c\u4e14\u5176 PDF \u5747\u8fde\u7eed\u3002</li> </ol>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#2","title":"2 \u751f\u6210\u5f0f\u6a21\u578b\u7684\u57fa\u672c\u6982\u5ff5","text":"<p>\u673a\u5668\u5b66\u4e60\u7684\u4e24\u79cd\u5efa\u6a21\u65b9\u5f0f\u5206\u522b\u4e3a\u5224\u522b\u5f0f\u5efa\u6a21 (discriminative modeling) \u548c\u751f\u6210\u5f0f\u5efa\u6a21 (generative modeling)\uff0c\u6269\u6563\u6a21\u578b\u5373\u5c5e\u4e8e\u540e\u8005\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5148\u6765\u63a2\u8ba8\u751f\u6210\u5f0f\u6a21\u578b\u7684\u57fa\u672c\u6982\u5ff5\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#21","title":"2.1 \u751f\u6210\u5f0f\u6a21\u578b","text":"<p>\u6211\u4eec\u5148\u4ee5\u56fe\u50cf\u751f\u6210\u4e3a\u4f8b\u52a0\u4ee5\u8bf4\u660e\u3002\u8ba1\u7b97\u673a\u5c06\u56fe\u50cf\u8868\u793a\u6210\u8bb8\u591a\u50cf\u7d20\uff0c\u5982\u679c\u5c06\u6bcf\u4e2a\u50cf\u7d20\u89c6\u4f5c\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u90a3\u4e48\u6574\u5f20\u56fe\u7247\u4fbf\u53ef\u4ee5\u770b\u505a\u4e00\u4e2a\u968f\u673a\u5411\u91cf X\u3002\u6839\u636e \u6570\u636e\u6d41\u5f62\u7684\u5206\u5e03\u5047\u8bbe\uff0c\u6709\u610f\u4e49\u7684\u56fe\u50cf\uff08\u5373\u73b0\u5b9e\u751f\u6d3b\u4e2d\u80fd\u591f\u51fa\u73b0\u7684\u56fe\u50cf\uff09\u670d\u4ece\u67d0\u79cd\u6982\u7387\u5206\u5e03\uff0c\u5373 X \\sim P_{data}(X)\u3002\u6211\u4eec\u7684\u76ee\u7684\u662f\uff0c\u901a\u8fc7\u5bf9\u73b0\u5b9e\u6570\u636e\u7684\u7edf\u8ba1\u65b9\u6cd5\u5efa\u7acb\u4e00\u4e2a\u7edf\u8ba1\u6a21\u578b P_{model}(X)\uff0c\u6765\u6a21\u62df P_{data}(X)\uff0c\u8fd9\u5c31\u5f15\u51fa\u4e86\u751f\u6210\u5f0f\u6a21\u578b\u7684\u6982\u5ff5\uff1a</p> <p>\u5b9a\u4e49 1\uff08\u751f\u6210\u5f0f\u6a21\u578b\uff09\uff1a\u7ed9\u5b9a\u7279\u5f81\u7a7a\u95f4 R^d \u4e0a\u7684\u6570\u636e\u5206\u5e03 P_{data}(X)\uff0c\u751f\u6210\u5f0f\u6a21\u578b\u662f\u7531\u53c2\u6570\u7a7a\u95f4 \\Theta \u4e2d\u53c2\u6570 \\theta \u5b9a\u4e49\u7684\u4e00\u4e2a\u53c2\u6570\u6a21\u578b\uff0c\u4f7f\u5f97\u6a21\u578b\u5206\u5e03 P_{model}(X) \u8fd1\u4f3c\u4e8e P_{data}(X)\uff0c\u5e76\u53ef\u4ee5\u4ece P_{model}(X) \u4e2d\u91c7\u6837\uff0c\u4ece\u800c\u751f\u6210\u65b0\u7684\u6570\u636e\u3002</p> <p>\u751f\u6210\u5f0f\u6a21\u578b\u7684\u4e00\u4e2a\u91cd\u8981\u4f5c\u7528\uff0c\u5728\u4e8e\u6a21\u578b\u5206\u5e03\u5982\u80fd\u8db3\u591f\u8fd1\u4f3c\u771f\u5b9e\u6570\u636e\u5206\u5e03\uff0c\u5219\u901a\u8fc7\u4ece\u6a21\u578b\u5206\u5e03\u4e2d\u91c7\u6837\uff0c\u53ef\u4ee5\u751f\u6210\u8fd1\u4f3c\u670d\u4ece\u771f\u5b9e\u5206\u5e03\u7684\u6570\u636e\uff0c\u4ece\u800c\u5b9e\u73b0\u5168\u65b0\u6570\u636e\u7684\u83b7\u5f97\u3002\u4f8b\u5982\uff0c\u5728\u5b8c\u6210\u56fe\u50cf\u751f\u6210\u6a21\u578b\u7684\u8bad\u7ec3\u540e\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u6e90\u6e90\u4e0d\u65ad\u5730\u83b7\u53d6\u5fc3\u76ee\u4e2d\u9ad8\u8d28\u91cf\u7684\u56fe\u7247\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#22","title":"2.2 \u751f\u6210\u5f0f\u6a21\u578b\u7684\u4e24\u5927\u4efb\u52a1","text":"<p>\u6839\u636e\u4e0a\u8ff0\u6982\u5ff5\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u751f\u6210\u5f0f\u6a21\u578b\u7684\u4e24\u4e2a\u4efb\u52a1\uff1a 1. \u5c3d\u91cf\u7cbe\u786e\u5730\u62df\u5408\u771f\u5b9e\u5206\u5e03 P_{data}(X)\uff0c\u6211\u4eec\u5c06\u6b64\u79f0\u4f5c \u8bad\u7ec3\uff1b 2. \u4ece\u6a21\u578b\u5206\u5e03\u4e2d\u91c7\u6837\uff0c\u4ee5\u4fbf\u751f\u6210\u65b0\u7684\u6570\u636e\uff0c\u6211\u4eec\u5c06\u6b64\u79f0\u4f5c \u63a8\u7406\u3002\u5bf9\u8bad\u7ec3\u800c\u8a00\uff0c\u8981\u4f30\u8ba1 P_{data}(X)\uff0c\u6211\u4eec\u6709\u5f88\u591a\u65b9\u6cd5\uff0c\u6b64\u5904\u4ee5\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u4e3a\u4f8b\u3002\u7ed9\u5b9a\u6570\u636e\u6837\u672c \\{X_1, X_2, ..., X_n\\}\uff0c\u8bad\u7ec3\u6240\u5f97\u53c2\u6570\u4e3a [ \\theta^* = \\argmax_{\\theta} \\sum_{i=1}^{n} \\log p_{model}(X_i). ]</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#23","title":"2.3 \u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b","text":"<p>\u5728\u660e\u786e\u57fa\u672c\u6982\u5ff5\u540e\uff0c\u6211\u4eec\u6765\u8003\u8651\u5982\u4f55\u5177\u4f53\u53c2\u6570\u5316 P_{model}(X)\u3002\u5f53\u524d\uff0c\u5305\u62ec\u6269\u6563\u6a21\u578b\u5728\u5185\u7684\u4e3b\u6d41\u751f\u6210\u6a21\u578b\uff0c\u5747\u4e3a \u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b\u3002\u4ee5\u4e0b\u5c06\u5bf9\u6b64\u52a0\u4ee5\u89e3\u91ca\uff1a</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#_3","title":"\u9690\u53d8\u91cf","text":"<p>\u9996\u5148\u660e\u786e \u9690\u53d8\u91cf\u7684\u6982\u5ff5\u3002\u9690\u53d8\u91cf\uff08latent variable\uff09\u662f\u4e0d\u80fd\u76f4\u63a5\u89c2\u6d4b\u5230\u7684\u968f\u673a\u53d8\u91cf\uff0c\u5b83\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u751f\u6210\u8fc7\u7a0b\u4e2d\u7684\u672a\u77e5\u56e0\u7d20\u3002\u4e3e\u4f8b\u800c\u8a00\uff0c\u5728\u7edf\u8ba1\u201c\u5317\u4eac\u5e02\u5e02\u6c11\u662f\u5426\u652f\u6301\u4e94\u73af\u4ee5\u5185\u9650\u884c\u201d\u95ee\u9898\u65f6\uff0c\u6211\u4eec\u83b7\u5f97\u7684\u6570\u636e\u53ea\u6709\u201c\u652f\u6301\u8fd8\u662f\u53cd\u5bf9\u201d\u7684\u4fe1\u606f\uff08\u8fd9\u5c31\u662f\u6240\u8c13\u201c\u89c2\u6d4b\u53d8\u91cf\u201d\uff09\uff0c\u800c\u8fd9\u4e9b\u8c03\u67e5\u5bf9\u8c61\u7684\u5e74\u9f84\u3001\u5c45\u4f4f\u5730\u7b49\u4fe1\u606f\uff0c\u5bf9\u4e8e\u6211\u4eec\u6765\u8bf4\u4e0d\u53ef\u77e5\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u56e0\u7d20\u5374\u6df1\u5207\u5f71\u54cd\u4e86\u201c\u662f\u5426\u652f\u6301\u201d\u8fd9\u4e00\u89c2\u6d4b\u53d8\u91cf\uff0c\u6211\u4eec\u79f0\u8fd9\u4e9b\u56e0\u7d20\u4e3a\u201c\u9690\u53d8\u91cf\u201d\u3002</p> <p>\u7136\u540e\u5b9a\u4e49\u201c\u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b\u201d\uff1a</p> <p>\u5b9a\u4e49 2\uff08\u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b\uff09\uff1a\u5bf9\u4e8e\u67d0\u4e2a\u751f\u6210\u6a21\u578b\uff0c\u8bbe\u968f\u673a\u5411\u91cf X \u4e3a\u89c2\u6d4b\u53d8\u91cf\uff0cZ \u4e3a\u9690\u53d8\u91cf\uff0c\u82e5 p_z(z), p_{x|z}(x|z) \u662f\u53c2\u6570\u6a21\u578b\uff0c\u5219\u79f0\u8fd9\u4e00\u6a21\u578b\u4e3a\u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b\u3002</p> <p>\u6ce8 1\uff1a\u901a\u5e38\uff0c\u9690\u53d8\u91cf\u8fb9\u7f18\u5206\u5e03 p_z(z) \u662f\u5df2\u77e5\u7684\u6216\u4eba\u4e3a\u8bbe\u5b9a\u7684\u5148\u9a8c\u5206\u5e03\uff0c\u5982\u6807\u51c6\u6b63\u6001\u5206\u5e03\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6a21\u578b\u4e2d\u552f\u4e00\u672a\u5b9a\u53c2\u6570\u662f p_{x|z}(x|z) \u4e2d\u7684\u53c2\u6570\u3002\u4e8e\u662f\uff0c\u53c2\u6570\u4f30\u8ba1\uff08\u53ca\u6a21\u578b\u8bad\u7ec3\uff09\u7684\u4efb\u52a1\u5c31\u8f6c\u5316\u6210\uff1a\u6839\u636e\u6837\u672c\uff0c\u4f7f\u7528 MLE \u65b9\u6cd5\uff0c\u786e\u5b9a p_{x|z}(x|z) \u7684\u53c2\u6570\u3002</p> <p>\u6211\u4eec\u6765\u7a0d\u4f5c\u89e3\u91ca\u3002\u4e3a\u4f55\u8981\u5f15\u5165\u9690\u53d8\u91cf\uff1f\u8fd9\u53ef\u4ee5\u5927\u5927\u63d0\u5347\u6a21\u578b\u7684\u8868\u8fbe\u80fd\u529b\uff0c\u4fbf\u4e8e\u53c2\u6570\u5316\uff0c\u6709\u5229\u4e8e\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u4e88\u4ee5\u62df\u5408\u3002\u4e3e\u4e00\u4e2a\u5177\u4f53\u4f8b\u5b50\uff1a</p> <p>\u4f8b 1\uff08\u53d8\u5206\u81ea\u7f16\u7801\u5668\u7684\u8bd1\u7801\u5668\u6a21\u578b\uff0cDecoder of VAE\uff09\uff1a\u8bbe\u9690\u53d8\u91cf Z \\sim N(Z;0,I)\uff0c\u7279\u5f81\u53d8\u91cf\uff08\u5982\u56fe\u50cf\u50cf\u7d20\uff09\u4e3a X\uff0c\u5b9a\u4e49 p_{x|z}(x|z) = N(x;\\mu(z),\\sigma^2(z)I)\uff0c\u5176\u4e2d \\mu(z),\\sigma(z) \u5747\u4e3a z \u7684\u51fd\u6570\u3002\u5219 X \u7684\u6a21\u578b\u5206\u5e03\u4e3a P_{model}(x) = \\int p_z(z)p_{x|z}(x|z) dz\u3002\uff08\u6ce8\uff1a\u9ad8\u7ef4\u6b63\u6001\u5206\u5e03\u7684\u523b\u753b\u6d89\u53ca\u534f\u65b9\u5dee\u77e9\u9635\uff0c\u6b64\u5904\u662f\u5176\u534f\u65b9\u5dee\u9635\u4e3a\u4e00\u4e2a\u5bf9\u89d2\u9635 \\sigma^2(z)I\u3002\u4e0b\u6587\u82e5\u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u6240\u6d89\u53ca\u7684\u6b63\u6001\u5206\u5e03\u5747\u4e3a\u9ad8\u7ef4\u6b63\u6001\u5206\u5e03\uff09</p> <p>\u5bf9\u4e8e\u4e0a\u4f8b\uff0c\u6211\u4eec\u7528\u795e\u7ecf\u7f51\u7edc\u6765\u62df\u5408 \\mu(z), \\sigma(z) \u4e24\u4e2a\u51fd\u6570\u3002\u5047\u8bbe \\mu(z) = f(z; \\theta_1, \\theta_2, ..., \\theta_k)\uff0c\u5176\u4e2d \\theta_i \u4e3a\u53c2\u6570\uff0c\u5219\u7ed9\u5b9a\u6570\u636e\u6837\u672c \\{x_1, x_2, ..., x_n\\}\uff0c\u795e\u7ecf\u7f51\u7edc\u7684\u8bad\u7ec3\u76ee\u6807\u662f\uff1a</p>  \\theta_i^* = \\argmax_{\\theta_i} \\left( \\sum_{i=1}^n \\log p_{model}(x_i) \\right)   (1)   = \\argmax_{\\theta_i} \\left( \\sum_{i=1}^n \\log \\int p(x_i, z) dz \\right)   (2)   = \\argmax_{\\theta_i} \\left( \\sum_{i=1}^n \\log \\int p_z(z) p_{X|Z}(x_i|z) dz \\right)    (3)   = \\argmax_{\\theta_i} \\left( \\sum_{i=1}^n \\log \\int N(z; 0, I) N(x_i; \\mu(z), \\sigma^2(z)I) dz \\right)    (4)  <p>\u5176\u4e2d N(z; 0, I) \u8868\u793a\u5c06 z \u4ee3\u5165\u6807\u51c6\u6b63\u6001\u5206\u5e03 N(0, I) PDF \u540e\u6240\u5f97\u7ed3\u679c\uff0cN(x_i; \\mu(z), \\sigma^2(z)I) \u8868\u793a\u5c06 x_i \u4ee3\u5165\u6b63\u6001\u5206\u5e03 N(x; \\mu(z), \\sigma^2(z)I) \u7684 PDF \u540e\u6240\u5f97\u7ed3\u679c\u3002</p> <p>\u663e\u7136\uff0c\u76f8\u8f83\u4e8e\u76f4\u63a5\u5047\u8bbe p_{model}(X) \u662f\u6b63\u6001\u5206\u5e03 N(\\mu, \\sigma^2 I)\uff0c\u9690\u53d8\u91cf\u6a21\u578b\u7684\u53c2\u6570\u66f4\u591a\uff08\u76f4\u63a5\u5047\u8bbe\uff0c\u5219\u53c2\u6570\u53ea\u6709 \\mu, \\Sigma \u4e24\u4e2a\u5e38\u6570\uff0c\u800c\u9690\u53d8\u91cf\u6a21\u578b\u5219\u53ef\u4ee5\u5c06 \\mu(z), \\sigma^2(z) \u89c6\u4f5c\u51fd\u6570\uff0c\u7528\u795e\u7ecf\u7f51\u7edc\u7684\u8bb8\u591a\u53c2\u6570\u6765\u62df\u5408\u5b83\u4eec\u3002\u6211\u4eec\u6709\u7406\u7531\u8ba4\u4e3a\uff0c\u53c2\u6570\u8d8a\u591a\uff0c\u6a21\u578b\u7684\u8868\u8fbe\u80fd\u529b\u8d8a\u5f3a\uff08\u4e5f\u5c31\u662f\u80fd\u591f\u66f4\u52a0\u903c\u8fd1\u771f\u5b9e\u7684\u6570\u636e\u5206\u5e03 P_{data}(X)\uff09\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#24","title":"2.4 \u9690\u53d8\u91cf\u6a21\u578b\u7684\u53d8\u5206\u63a8\u65ad","text":"<p>\u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b\u7684\u8bad\u7ec3\u5177\u4f53\u5e94\u600e\u4e48\u64cd\u4f5c\uff1f\u6211\u4eec\u6b64\u5904\u4e00\u76f4\u5047\u5b9a\u91c7\u7528 MLE \u65b9\u6cd5\u3002\u6cbf\u7528\u4e0a\u8ff0\u4f8b\u5b50\uff0c\u5982\u4f55\u6765\u5177\u4f53\u6c42\u51fa</p>  \\theta_i^* = \\argmax_{\\theta_i} \\left( \\sum_{i=1}^n \\log \\int p_z(z) p_{X|Z}(x_i|z) dz \\right)     (5)   = \\argmax_{\\theta_i} \\left( \\sum_{i=1}^n \\log p_X(x_i) \\right)    (6)  <p>\u662f\u4e00\u4e2a\u5173\u952e\u95ee\u9898\u3002\u663e\u7136\uff0c\u60f3\u8981\u76f4\u63a5\u6c42\u5bfc\u6570\u505a\u6700\u5927\u4f3c\u7136\uff0c\u5c31\u9700\u8981\u6c42\u51fa\u4e0a\u8ff0\u79ef\u5206\u7684\u4e00\u4e2a\u89e3\u6790\u89e3\uff0c\u8fd9\u65e0\u7591\u975e\u5e38\u56f0\u96be\u3002\u6362\u8a00\u4e4b\uff0c\u9690\u53d8\u91cf\u53c2\u6570\u6a21\u578b\u7684\u8bad\u7ec3\uff0c\u4e0d\u80fd\u76f4\u63a5\u91c7\u7528\u5bf9\u6570\u4f3c\u7136\u6765\u505a MLE\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5f15\u5165 \u53d8\u5206\u63a8\u65ad \u7684\u65b9\u6cd5\uff0c\u4ee5\u5b9e\u73b0 MLE \u7684\u5177\u4f53\u64cd\u4f5c\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#1_1","title":"\u547d\u9898 1\uff08\u5bf9\u6570\u4f3c\u7136\u7684\u53d8\u5206\u4e0b\u754c\uff09","text":"<p>\u8bb0\u5bf9\u6570\u4f3c\u7136 L(\\theta) := \\sum_{i=1}^n \\log p_X(x_i)\uff0cq(z|x; \\phi) \u4e3a\u53e6\u4e00\u4e2a\u5206\u5e03\uff0c\u5176\u4e2d \\phi \u662f\u53c2\u6570\u3002\u5219\uff1a</p>  L(\\theta) \\geq \\sum_{i=1}^n E_q [\\log p(z, x_i; \\theta) - \\log q(z|x_i; \\phi)] := L(\\theta, \\phi),    (7)  <p>\u4e14\u82e5 q \u7684\u51fd\u6570\u5f62\u5f0f\u4e0e \\phi \u7684\u5177\u4f53\u53d6\u503c\u5747\u65e0\u4efb\u4f55\u9650\u5236\uff0c\u5219\u5bf9\u4efb\u610f\u786e\u5b9a\u7684 p \u4e0e \\theta\uff0c\u90fd\u5b58\u5728\u4e00\u4e2a q \u7684\u51fd\u6570\u5f62\u5f0f\u4e0e \\phi \u7684\u53d6\u503c\uff0c\u4f7f\u5f97 L(\\theta, \\phi) = L(\\theta)\u3002</p> <p>\u6839\u636e\u6b64\u547d\u9898\uff0c\u53ef\u77e5 \\max_{\\theta} L(\\theta, \\phi) = \\max_{\\theta} L(\\theta)\uff0c\u4ece\u800c \\argmax_{\\theta} (\\max_{\\theta} L(\\theta, \\phi)) = \\argmax_{\\theta} (L(\\theta))\uff0c\u56e0\u6b64\u5bf9 L(\\theta, \\phi) \u505a MLE \u6765\u4f30\u8ba1 \\theta^*\uff0c\u7b49\u4ef7\u4e8e\u5bf9 L(\\theta) \u505a MLE\u3002</p> <p>\u57fa\u4e8e\u6b64\uff0c\u6211\u4eec\u5bf9 q(z|x;\\phi) \u505a\u4e00\u4e9b\u9884\u8bbe\uff08\u4f8b\u5982\uff0c\u786e\u5b9a q \u7684\u51fd\u6570\u5f62\u5f0f\uff0c\u786e\u5b9a\u5176\u53c2\u6570\u4e2a\u6570\uff09\uff0c\u4f7f\u5f97 L(\\theta,\\phi) \u6613\u4e8e\u5b9e\u9645\u8ba1\u7b97\uff0c\u90a3\u4e48\u6211\u4eec\u4fbf\u5c06\u96be\u4ee5\u5b9e\u9645\u64cd\u4f5c\u7684 L(\\theta) MLE \u8f6c\u6362\u6210\u65b9\u4fbf\u8ba1\u7b97\u7684 L(\\theta,\\phi) MLE\u3002</p> <p>\u5f53\u7136\uff0c\u7531\u4e8e\u4e3a\u4e86\u4fbf\u4e8e\u8ba1\u7b97\uff0c\u6211\u4eec\u5bf9 q(z|x;\\phi) \u505a\u4e86\u4e00\u4e9b\u9884\u8bbe\uff0c\u8fd9\u4e9b\u9650\u5236\u53ef\u80fd\u5bfc\u81f4\u4e0a\u8ff0\u7684\u53d6\u7b49\u65e0\u6cd5\u5b9e\u73b0\u3002\u4f46\u4e8b\u5b9e\u4e0a\uff0c\u5373\u4f7f\u4e0d\u80fd\u53d6\u7b49\uff0c\u4e8c\u8005\u7684\u5dee\u5f02\u4e5f\u76f8\u5bf9\u8f83\u5c0f\u3002\u56e0\u6b64\uff0c\u8fd9\u79cd\u65b9\u6cd5\u662f\u8fdb\u884c MLE \u7684\u53ef\u884c\u65b9\u5f0f\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u5c31\u662f\u6240\u8c13 \u53d8\u5206\u63a8\u65ad \u7684\u57fa\u672c\u601d\u60f3\uff0c\u6269\u6563\u6a21\u578b\u6b63\u662f\u57fa\u4e8e\u8fd9\u4e00\u601d\u8def\u8fdb\u884c\u53c2\u6570\u4f30\u8ba1\uff08\u4e5f\u5373\u6240\u8c13\u201c\u8bad\u7ec3\u201d\uff09\u7684\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u6b63\u5f0f\u8fdb\u5165\u5bf9\u6269\u6563\u6a21\u578b\u7684\u8ba8\u8bba\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#3","title":"3 \u6269\u6563\u6a21\u578b\uff1a\u57fa\u4e8e\u6982\u7387\u7edf\u8ba1\u7684\u6570\u5b66\u672c\u8d28","text":"<p>\u6269\u6563\u6a21\u578b\u662f\u4e00\u4e2a \u591a\u9690\u53d8\u91cf\u751f\u6210\u6a21\u578b\uff0c\u5728\u4e0a\u6587\u9690\u53d8\u91cf\u6a21\u578b\u7684\u57fa\u7840\u4e0a\uff0c\u5f15\u5165\u4e86\u591a\u4e2a\u9690\u53d8\u91cf\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u66f4\u4f18\u7684\u8868\u8fbe\u80fd\u529b\u3002\u4e0b\u9762\u5148\u4ecb\u7ecd\u6a21\u578b\u7684\u53c2\u6570\u5316\u5f62\u5f0f\uff0c\u968f\u540e\u5728\u6b64\u57fa\u7840\u4e0a\u8bf4\u660e\u53c2\u6570\u4f30\u8ba1\uff08\u5373\u201c\u6a21\u578b\u8bad\u7ec3\u201d\uff09\u7684\u5177\u4f53\u65b9\u6cd5\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#31","title":"3.1 \u6a21\u578b\u7684\u53c2\u6570\u5316\u5f62\u5f0f","text":""},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#2_1","title":"\u5b9a\u4e49 2 (\u53bb\u566a\u6269\u6563\u6982\u7387\u6a21\u578b)","text":"<p>\u8bbe\u968f\u673a\u5411\u91cf X_0, X_1, ..., X_T \\in R^d\uff0c\u5176\u4e2d R^d \u4e3a\u7279\u5f81\u7a7a\u95f4\uff0cX_0 \u4e3a\u89c2\u6d4b\u53d8\u91cf\uff08eg. \u56fe\u50cf\u50cf\u7d20\u7ec4\u6210\u7684\u968f\u673a\u5411\u91cf\uff09\uff0cX_1, ..., X_T \u4e3a\u9690\u53d8\u91cf\u3002\u5b9a\u4e49\u9690\u53d8\u91cf X_i(i=1,2,...,T) \u670d\u4ece\u7684\u771f\u5b9e\u5206\u5e03\u4e3a</p>  q_{X_0}(x_0) = p_{data}(x_0),    (8)   q_{X_i|X_{i-1}}(x_i|x_{i-1}) = N(x_i; \\sqrt{1-\\beta_i}x_{i-1}, \\beta_i I),    (9)   q_{X_i|X_{i-1},...,X_0}(x_i|x_{i-1},...,x_0) = q_{X_i|X_{i-1}}(x_i|x_{i-1}), \\quad i=1,2,...,T,    (10)  <p>\u6a21\u578b\u5206\u5e03\u4e3a</p>  p_{X_T}(x_T) = N(x_T; 0,I),   (11)   p_{X_{t-1}|X_t}(x_{t-1}|x_t) = N(x_{t-1}; \\mu(x_t,t),\\sigma_t^2 I),  (12)   p_{X_{t-1}|X_t,...,X_T}(x_{t-1}|x_t,...,x_T) = p_{X_{t-1}|X_t}(x_{t-1}|x_t), \\quad t=1,2,...,T, (13)  <p>\u5176\u4e2d \\sigma_t \u662f\u9884\u8bbe\u5e38\u6570\uff08\u662f\u4e0d\u53ef\u5b66\u4e60\u7684\u5b9a\u503c\uff09\uff0c\\mu(x_t,t) \u662f\u5173\u4e8e x_t \u4e0e t \u7684\u51fd\u6570\uff0c\u4f7f\u7528\u795e\u7ecf\u7f51\u7edc\u8fdb\u884c\u6a21\u62df\u3002\u4ee5\u8fd9\u4e2a\u795e\u7ecf\u7f51\u7edc\u4e2d\u7684\u53c2\u6570\u4f5c\u4e3a\u4f30\u8ba1\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u6a21\u578b\u79f0\u4f5c \u53bb\u566a\u6269\u6563\u6982\u7387\u6a21\u578b (Denoising Diffusion Probabilistic Model, DDPM)\u3002</p> <p>\u4e0b\u9762\u5bf9\u6b64\u6982\u5ff5\u8fdb\u884c\u4e00\u4e9b\u76f4\u89c2\u7684\u89e3\u91ca\u3002X_0 \u662f\u6570\u636e\u7279\u5f81\u53d8\u91cf\uff0c\u4f8b\u5982\u4e00\u5f20 256*256\uff0c\u7531\u4e09\u539f\u8272\u7ec4\u6210\u7684\u56fe\u50cf\uff0c\u5219\u5176\u4e2d\u6240\u6709\u50cf\u7d20\u6784\u6210\u4e86 X_0 \\in R^{256\\times256\\times3}\u3002\u9690\u53d8\u91cf X_1,...,X_T \u662f\u4eba\u4e3a\u5f15\u5165\u7684\u53d8\u91cf\uff0c\u800c\u65e2\u7136\u662f\u4eba\u4e3a\u5f15\u5165\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u4eba\u4e3a\u6307\u5b9a\u5b83\u4eec\u7684\u5206\u5e03\u5f62\u5f0f\uff0c\u5177\u4f53\u800c\u8a00\uff0cq_{X_i|X_{i-1}}(x_i|x_{i-1}) = N(x_i; \\sqrt{1-\\beta_i}x_{i-1}, \\beta_i I) \u8fd9\u4e00\u6761\u4ef6\u5206\u5e03\uff0c\u6307\u660e\u4e86 X_i \u7684\u6784\u9020\u65b9\u6cd5\uff1a\u6839\u636e\u6b63\u6001\u5206\u5e03\u6027\u8d28\uff0c\u8054\u7cfb\u4e0a\u5f0f\uff0c\u6211\u4eec\u6709</p>  X_t = \\sqrt{1-\\beta_t}X_{t-1} + \\sqrt{\\beta_t}\\epsilon, \\quad \\epsilon \\sim N(0,I).    (14)  <p>\u6362\u8a00\u4e4b\uff0cX_t \u5176\u5b9e\u5c31\u662f\u5bf9 X_{t-1} \u4e0e\u6807\u51c6\u6b63\u6001 \\epsilon \u7684\u7ebf\u6027\u7ec4\u5408\u3002\u7531\u4e8e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u662f\u4e0d\u542b\u6709\u6548\u4fe1\u606f\u7684\u9ad8\u65af\u566a\u58f0\uff0c\u56e0\u6b64\u83b7\u5f97 X_t \u7684\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u5c31\u76f8\u5f53\u4e8e\u5411 X_{t-1} \u6dfb\u52a0\u4e00\u4e9b\u201c\u566a\u58f0\u201d\u3002\u56e0\u6b64\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4f5c \u201c\u52a0\u566a\u8fc7\u7a0b\u201d\uff08\u4e5f\u79f0\u201c\u524d\u5411\u8fc7\u7a0b\u201d\uff09\u3002\u4e3a\u63d0\u9ad8\u6a21\u578b\u8868\u8fbe\u80fd\u529b\uff0cT \u5f80\u5f80\u5f88\u5927\uff0c\u5982 T = 1000\u3002\u81f3\u4e8e 10 \u5f0f\u6240\u89c4\u5b9a\u7684\u9a6c\u5c14\u53ef\u592b\u6027\uff0c\u5219\u5176\u5b9e\u4e5f\u80fd\u53cd\u5e94\u5728\u5f0f 14 \u4e2d\uff0c\u5373\uff1a\u9690\u53d8\u91cf\u7684\u5206\u5e03\u4ec5\u53d6\u51b3\u4e8e\u5b83\u7684\u76f4\u63a5\u524d\u9a71\uff0c\u4e0e\u65f6\u95f4\u5e8f\u5217\u4e2d\u7684\u5176\u4ed6\u7956\u5148\u65e0\u5173\u3002</p> <p>\u7c7b\u4f3c\u5730\uff0c\u6211\u4eec\u5b9a\u4e49\u7684\u6a21\u578b\u5206\u5e03 p_{X_{t-1}|X_t}(x_{t-1}|x_t) = N(x_{t-1}; \\mu(x_t, t), \\sigma^2_t I) (t = 1, 2, ..., T) \u53ef\u4ee5\u7406\u89e3\u6210\u4ece\u4e00\u4e2a\u6807\u51c6\u6b63\u6001\u5206\u5e03\u51fa\u53d1\u4e0d\u65ad\u8fed\u4ee3\uff0c\u7528\u8bb8\u591a\u6b63\u6001\u5206\u5e03\u7684\u201c\u590d\u5408\u201d\u6765\u8fd1\u4f3c\u771f\u5b9e\u7684\u6570\u636e\u5206\u5e03\u3002\u5177\u4f53\u800c\u8a00\uff1a</p>  p_{model}(x_0) = p_{X_0}(x_0)    (15)   = \\int p(x_0, x_1, ..., x_T)dx_1...dx_T     (16)   = \\int p_{X_T}(x_T) \\prod_{t=1}^T p_{X_{t-1}|X_t}(x_{t-1}|x_t)dx_1...dx_T,    (17)  <p>\u5176\u4e2d 16 \u5f0f\u5230 17 \u5f0f\u7684\u7b49\u53f7\u5229\u7528\u4e86 13 \u5f0f\u89c4\u5b9a\u7684\u9a6c\u5c14\u53ef\u592b\u6027\u3002</p> <p>\u6362\u8a00\u4e4b\uff0c\u53ea\u8981\u6211\u4eec\u80fd\u591f\u786e\u5b9a p_{X_{t-1}|X_t}(x_{t-1}|x_t)\uff0c\u6211\u4eec\u4fbf\u7406\u8bba\u4e0a\u83b7\u5f97\u4e86\u6a21\u578b\u5206\u5e03 p_{model}(x_0)\u3002\u5f53\u7136\uff0c\u5373\u4f7f\u786e\u5b9a\u4e86\u8fd9\u4e9b\u53c2\u6570\uff0c\u7531\u4e8e\u8ba1\u7b97\u7684\u590d\u6742\u6027\uff0c\u6211\u4eec\u8fd8\u662f\u4e0d\u53ef\u80fd\u76f4\u63a5\u79ef\u5206\u6c42 p_{model}(x_0)\uff0c\u5177\u4f53\u5982\u4f55\u6839\u636e\u8fd9\u4e9b\u9690\u53d8\u91cf\u6761\u4ef6\u5206\u6790\u6765\u5b9e\u73b0\u4ece p_{model}(x_0) \u4e2d\u91c7\u6837\uff0c\u6211\u4eec\u5c06\u5728\u540e\u6587\u7565\u4f5c\u8ba8\u8bba\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4ece\u201c\u751f\u6210\u6a21\u578b\u7684\u4e24\u4e2a\u4efb\u52a1\u201d\uff08\u89c1 2.2\uff09\uff0c\u5373\u8bad\u7ec3\u4e0e\u63a8\u7406\u4e24\u65b9\u9762\u5c55\u5f00\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#32","title":"3.2 \u6269\u6563\u6a21\u578b\u7684\u8bad\u7ec3\uff08\u6a21\u578b\u53c2\u6570\u4f30\u8ba1\uff09","text":"<p>\u6ce8\uff1a\u5728\u5b9e\u9645\u5e94\u7528\u795e\u7ecf\u7f51\u7edc\u8fdb\u884c\u8bad\u7ec3\u65f6\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u51cf\u5c0f\u8bef\u5dee\u3001\u66f4\u6613\u62df\u5408\uff0c\u539f\u8bba\u6587\u5e76\u672a\u76f4\u63a5\u62df\u5408 \\mu(x_t, t)\uff0c\u800c\u662f\u91c7\u7528\u4e86\u4e00\u4e2a\u7b49\u4ef7\u5f62\u5f0f\u3002\u7136\u800c\u7531\u4e8e\u5176\u6570\u5b66\u672c\u8d28\u6ca1\u6709\u533a\u522b\uff0c\u66f4\u591a\u662f\u5de5\u7a0b\u4e0a\u7684\u6280\u5de7\uff0c\u56e0\u6b64\u4e3a\u4e86\u4f7f\u8868\u8fbe\u7b80\u6d01\u800c\u4e0d\u5197\u6742\uff0c\u672c\u6587\u4ecd\u76f4\u63a5\u7528 \\mu(x_t, t) \u7684\u62df\u5408\u6765\u63a8\u5bfc\u539f\u7406\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#321","title":"3.2.1 \u5bf9\u6570\u4f3c\u7136\u53ca\u5176\u53d8\u5206\u4e0b\u754c","text":"<p>\u6211\u4eec\u7684\u76ee\u6807\u662f\u901a\u8fc7 \u6700\u5927\u4f3c\u7136\u4f30\u8ba1 \u6765\u505a\u53c2\u6570\u4f30\u8ba1\u3002\u4f46\u662f\uff0c\u6cbf\u7528 2.4 \u63d0\u51fa\u7684\u89c2\u70b9\uff0c\u7531\u4e8e\u76f4\u63a5\u8ba1\u7b97\u8fb9\u9645\u5206\u5e03\u9700\u8981\u79ef\u5206\uff0c\u4f46\u6b64\u79ef\u5206\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\u51e0\u4e4e\u4e0d\u53ef\u79ef\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u8fd0\u7528 17 \u5f0f\uff0c\u6c42\u51fa p(X_0) \u4e4b\u540e\u505a MLE\uff0c\u800c\u8be5\u4f7f\u7528 \u53d8\u5206\u63a8\u65ad \u7684\u65b9\u6cd5\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8bbe\u8bad\u7ec3\u96c6\u4e3a \\{x_{01}, x_{02}, ..., x_{0N}\\}\uff0c\u9690\u53d8\u91cf X_{ti} (t = 1, ..., T) \u662f\u4ee5 X_{0i} \u4e3a\u57fa\u7840\uff0c\u6839\u636e\u52a0\u566a\u8fc7\u7a0b\u6784\u9020\u7684\uff08\u6ce8\uff1a\u9488\u5bf9\u8bad\u7ec3\u96c6\u7684\u6bcf\u4e2a X_{0i}\uff0c\u6211\u4eec\u6784\u9020\u8bb8\u591a X_{ti}\uff0c\u4ee5\u589e\u5f3a\u8bad\u7ec3\u6548\u679c\uff09\u3002\u7528\u4e0a\u8ff0 X_{ti}, ..., X_{Ti} \u4ee3\u5165\u5f0f 7 \u4e2d\u7684\u9690\u53d8\u91cf z\uff0c\u53ef\u5f97\uff1a</p>  \\sum_{i=1}^{N} \\log p_{X_0}(x_{0i}) \\geq \\sum_{i=1}^{N} E_q(x_{1i}, ..., x_{Ti}) \\left[ \\log p(x_{1i}, x_{2i}, ..., x_{Ti}, x_{0i}; \\theta) - \\log q(x_{1i}, x_{2i}, ..., x_{Ti}|x_{0i}) \\right],  (18)  <p>\u8fd9\u91cc RHS \u662f\u5bf9 X_1, ..., X_T \u6c42\u671f\u671b\u3002\u5f53 N \u6781\u5927\u65f6\uff0c\u7531\u5927\u6570\u5b9a\u5f8b\uff0c\u8be5\u5f0f\u8fd1\u4f3c\u4e3a</p>  E_{q(X_0)} \\log p_{X_0}(x_0) \\geq E_{q(X_0,X_1,...,X_T)} \\left[ \\log p(x_1,x_2,...,x_T,x_0;\\theta) - \\log q(x_1,x_2,...,x_T|x_0) \\right], (19)  <p>\u8fd9\u91cc LHS \u662f\u5bf9 X_0 \u6c42\u671f\u671b\uff0cRHS \u662f\u5bf9 X_0,X_1,...,X_T \u6c42\u671f\u671b\u3002\u7531\u4e8e\u5b9e\u9645\u8bad\u7ec3\u7684 N \u975e\u5e38\u5927\uff0c\u56e0\u6b64\u4e0b\u6587\u9ed8\u8ba4\u91c7\u7528\u6b64\u5f0f\u3002</p> <p>\u4e8e\u662f\uff0cMLE \u4e2d\u7684</p>  \\theta^* = \\argmax_{\\theta} E_{q_{X_0}(X_0)} \\log p_{X_0}(x_0),   (20)  <p>\u53ef\u4ee5\u6839\u636e 2.4 \u800c\u8fd1\u4f3c\u4e3a</p>  \\theta^* = \\argmax_{\\theta} E_{q(X_0,X_1,...,X_T)} \\left[ \\log p(x_1,x_2,...,x_T,x_0;\\theta) - \\log q(x_1,x_2,...,x_T|x_0) \\right], (21)  <p>\u6839\u636e\u673a\u5668\u5b66\u4e60\u7684\u4f18\u5316\u4e60\u60ef\uff0c\u6211\u4eec\u5e0c\u671b\u6700\u5c0f\u5316\u76ee\u6807\u51fd\u6570\uff0c\u6545\u6b64\u5bf9\u4e0a\u5f0f\u53d6\u53cd\uff1a</p>  \\theta^* = \\argmin_{\\theta} E_{q(X_0,X_1,...,X_T)} \\left[ \\log q(x_1,x_2,...,x_T|x_0) - \\log p(x_1,x_2,...,x_T,x_0;\\theta) \\right]. (22)  <p>\u6839\u636e\u6761\u4ef6\u6982\u7387\u5b9a\u4e49\uff0c\u8054\u7cfb 10.13 \u4e24\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u628a 22 \u5f0f\u5c55\u5f00\u4e3a</p>  \\theta^* = \\argmin_{\\theta} E_{q(X_0,X_1,...,X_T)} \\left[ - \\log p_{X_T}(X_T) - \\sum_{t \\geq 1} \\log \\frac{p_{X_{t-1}|X_t}(x_{t-1}|x_t)}{q_{X_t|X_{t-1}}(x_t|x_{t-1})} \\right]   (23)   := \\argmin_{\\theta} L.  (24)  <p>\u4e0b\u9762\u6765\u6700\u5c0f\u5316 L\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#322","title":"3.2.2 \u53c2\u6570\u4f30\u8ba1\u7684\u5177\u4f53\u76ee\u6807\u63a8\u5bfc","text":""},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#2_2","title":"\u547d\u9898 2","text":"L = E_q \\left[ KL(q(x_T|x_0)||p(x_T)) + \\sum_{t&gt;1} KL(q(x_{t-1}|x_t,x_0)||p(x_{t-1}|x_t)) - \\log p(x_0|x_1) \\right], (25)  <p>\u5176\u4e2d</p>  KL(p(x)||q(x)) := E_{p(x)} \\left[ \\log \\frac{p(x)}{q(x)} \\right], (26)  <p>\u79f0\u4e3a\u4e24\u4e2a\u5206\u5e03\u4e4b\u95f4\u7684 KL \u6563\u5ea6\u3002\uff08\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u4e0a\u8ff0\u547d\u9898\u5c06\u5f62\u5982 p_{X|Y}(x|y) \u7684\u6761\u4ef6\u6982\u7387\u7b26\u53f7\u8bb0\u4f5c p(x|y) \u7701\u7565\u4e86\u4e0b\u6807\uff09</p> <p>\u8003\u5bdf 25 \u5f0f\u4e2d\u7684\u4e09\u4e2a\u52a0\u9879\uff0c\u5c06\u4e4b\u5206\u522b\u8bb0\u4f5c</p>  L_T := E_q[KL(q(x_T|x_0)||p(x_T))], (27)   L_{t-1} := E_q[KL(q(x_{t-1}|x_t,x_0)||p(x_{t-1}|x_t))],  (28)   L_0 := E_q[- \\log p(x_0|x_1)],   (29)  <p>\u5219</p>  L = L_T + \\sum_{t&gt;1} L_{t-1} + L_0, (30)  <p>\u6211\u4eec\u5bf9\u8fd9\u4e09\u9879\u9010\u4e00\u52a0\u4ee5\u63a2\u8ba8\u3002</p> <p>(i). \u7b2c\u4e00\u90e8\u5206: \u8003\u5bdf L_T</p> <p>\u8003\u8651\u5982\u4e0b\u547d\u9898\uff1a</p> <p>\u547d\u98983\uff1a\u52a0\u566a\u8fc7\u7a0b\u4e2d\uff0c</p>  q_{X_T|X_0}(x_T|x_0) = N(x_T; \\sqrt{\\alpha_T} x_0, (1 - \\alpha_T)I), (31)  <p>\u5176\u4e2d \\alpha_T := \\prod_{i=1}^T (1 - \\beta_i)\u3002</p> <p>\u6839\u636e\u547d\u98983\uff0c\u6211\u4eec\u53d1\u73b0 q_{X_T|X_0}(x_T|x_0) \u662f\u4e00\u4e2a\u4e0d\u542b\u53ef\u5b66\u4e60\u53c2\u6570\u7684\u5206\u5e03\uff08\u5982\u4e0a\u6587\u6240\u8ff0\uff0c\\beta_i \u9884\u5148\u56fa\u5b9a\uff09\uff0c\u800c p_{X_T}(x_T) \u4e5f\u662f\u4eba\u4e3a\u9884\u8bbe\u7684 N(0,I)\uff0c\u56e0\u6b64 L_T \u6ca1\u6709\u53ef\u4ee5\u63a8\u65ad\u7684\u53c2\u6570\uff0c\u662f\u4e00\u4e2a\u5e38\u6570\u3002</p> <p>(ii). \u7b2c\u4e8c\u90e8\u5206: \u8003\u5bdf L_0</p> <p>\u7531\u4e8e\u76f8\u8f83\u4e8e T = 1000 \u8fd9\u6837\u5e9e\u5927\u7684\u6570\u5b57\uff0c\u8fd9\u4e00\u9879\u5bf9\u6574\u4f53\u4f18\u5316\u5f71\u54cd\u5f88\u5c0f\uff0c\u4e14\u5728\u5b9e\u8df5\u4e2d\u53d1\u73b0\u4f18\u5316\u6b64\u9879\u5e26\u6765\u7684\u6027\u80fd\u63d0\u5347\u6781\u5c11\uff0c\u56e0\u6b64\u6211\u4eec\u6682\u4e0d\u8003\u8651 L_0 \u7684\u4f18\u5316\uff08\u4e8b\u5b9e\u4e0a DDPM \u7684\u539f\u59cb\u8bba\u6587\u4e5f\u672a\u66fe\u8003\u5bdf\u6b64\u9879\uff09\u3002</p> <p>(iii). \u7b2c\u4e09\u90e8\u5206: \u8003\u5bdf L_{t-1}</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u6700\u5c0f\u5316 \\sum_{t&gt;1} L_t\uff0c\u6211\u4eec\u8fd9\u91cc\u5c1d\u8bd5\u5bf9\u6bcf\u4e00\u4e2a t \\in \\{2,3,4,...,T\\}\uff0c\u90fd\u6700\u5c0f\u5316 L_{t-1}\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u6837\u505a\u4f1a\u81ea\u7136\u5730\u5f15\u53d1\u4e00\u4e2a\u95ee\u9898\uff0c\u5373\uff1a\u8fd9\u4e9b L_{t-1} \u662f\u5426\u80fd\u591f\u540c\u65f6\u53d6\u6700\u5c0f\u503c\uff1f\u5047\u82e5\u4e0d\u80fd\uff0c\u90a3\u4e48\u5206\u522b\u53d6\u6700\u5c0f\uff0c\u5c31\u4e0d\u80fd\u786e\u4fdd\u6574\u4f53\u4e4b\u548c\u6700\u5c0f\u3002\u6240\u4ee5\uff0c\u7531\u4e8e\u6211\u4eec\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u62df\u5408 \\mu(x,t) \u51fd\u6570\u4e2d\u7684\u7ecf\u9a8c\u6761\u4ef6\u7684\u53c2\u6570\uff0c\u800c\u795e\u7ecf\u7f51\u7edc\u53ea\u8981\u8db3\u591f\u6df1\uff0c\u62df\u5408\u80fd\u529b\u4fbf\u76f8\u5f53\u4e4b\u5f3a\uff0c\u56e0\u6b64\u8db3\u4ee5\u5b9e\u62df\u5408\u5bf9\u6bcf\u4e2a t \u90fd\u53d6 \\min L_{t-1} \u7684 \\mu(x,t)\u3002</p> <p>\u5148\u8003\u8651\u5982\u4e0b\u4e24\u4e2a\u547d\u9898\uff1a</p> <p>\u547d\u98984 (\u79bb\u6563\u5f62\u5f0f\u7684\u5e03\u6717\u6865)\uff1a\u52a0\u566a\u8fc7\u7a0b\u4e2d\uff0c</p>  q(x_{t-1}|x_t,x_0) = N(x_{t-1}; \\hat{\\mu}_t(x_0,x_t), \\hat{\\beta}_tI),  (32)  <p>\u5176\u4e2d</p>  \\hat{\\mu}_t(x_0,x_t) := \\frac{\\sqrt{\\alpha_{t-1}}\\beta_t}{1-\\alpha_t}x_0 + \\frac{\\sqrt{1-\\beta_t}(1-\\alpha_{t-1})}{1-\\alpha_t}x_t,  (33)   \\hat{\\beta}_t := \\frac{1-\\alpha_{t-1}}{1-\\alpha_t}\\beta_t.  (34)  <p>\u547d\u98985 (\u6b63\u6001\u5206\u5e03\u4e4b\u95f4\u7684 KL \u6563\u5ea6\u516c\u5f0f)\uff1a\u8bbe\u968f\u673a\u53d8\u91cf X \\in R^d\uff0c\u6982\u7387\u5bc6\u5ea6\u51fd\u6570</p>  p_1(x) = N(\\mu_1, \\sigma_1^2 I), \\quad p_2(x) = N(\\mu_2, \\sigma_2^2 I),   <p>\u5219\u8fd9\u4e24\u4e2a\u6b63\u6001\u5206\u5e03\u4e4b\u95f4\u7684 KL \u6563\u5ea6\u4e3a</p>  KL(p_1(x)||p_2(x)) = \\frac{1}{2} \\log \\left( \\frac{\\sigma_1^2}{\\sigma_2^2} \\right)^d + \\frac{\\sigma_1^2 + ||\\mu_1 - \\mu_2||^2}{2\\sigma_2^2} - \\frac{d}{2}.  (35)  <p>\u8fd9\u91cc\u4ec5\u7ed9\u51fa\u4e86\u6b63\u6001\u5206\u5e03\u7684\u534f\u65b9\u5dee\u9635\u662f\u5bf9\u89d2\u9635\u7684\u60c5\u51b5\uff0c\u4e0d\u8fc7\u5bf9\u6211\u4eec\u7684\u8bdd\u9898\u5df2\u7ecf\u8db3\u591f\u3002</p> <p>\u6839\u636e\u547d\u9898 4\u3001\u547d\u9898 5\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 L_{t-1} \u5316\u7b80\uff1a</p>  L_{t-1} = E_q[KL(q(x_{t-1}|x_t,x_0)||p(x_{t-1}|x_t))] (36)   = E_q \\left[ KL \\left( N(x_{t-1}; \\hat{\\mu}_t(x_0,x_t), \\hat{\\beta}_tI) || N(x_{t-1}; \\mu(x_t,t), \\sigma_t^2I) \\right) \\right]   (37)   = E_q \\left[ \\frac{1}{2} \\log \\left( \\frac{\\hat{\\beta}_t}{\\sigma_t^2} \\right)^d + \\frac{\\hat{\\beta}_t + ||\\hat{\\mu}_t(x_0,x_t) - \\mu(x_t,t)||^2}{2\\sigma_t^2} - \\frac{d}{2} \\right] (38)  <p>38 \u5f0f\u4e2d\uff0c\\hat{\\beta}_t \u4ec5\u53d6\u51b3\u4e8e x_0, x_t\uff0c\u800c\u8fd9\u4e24\u4e2a\u53d8\u91cf\u662f\u8bad\u7ec3\u6570\u636e\uff0c\u56e0\u6b64\u662f\u5e38\u6570\uff1b\\sigma_t \u662f\u9884\u8bbe\u5e38\u6570\uff1bd \u662f\u7279\u5f81\u7a7a\u95f4\u7ef4\u5ea6\uff0c\u4e5f\u662f\u5e38\u6570\u3002\u56e0\u6b64\uff0c\u60f3\u8981\u6700\u5c0f\u5316 L_{t-1}\uff0c\u53ef\u4f18\u5316\u4e4b\u5904\u53ea\u6709 ||\\hat{\\mu}_t(x_0,x_t) - \\mu(x_t,t)||^2\u3002\u56e0\u6b64\uff1a</p>  \\theta_{t-1}^* = \\argmin L_{t-1} (39)   = \\argmin E_q \\left[ \\frac{1}{2} \\log \\left( \\frac{\\hat{\\beta}_t}{\\sigma_t^2} \\right)^d + \\frac{\\hat{\\beta}_t + ||\\hat{\\mu}_t(x_0,x_t) - \\mu(x_t,t)||^2}{2\\sigma_t^2} - \\frac{d}{2} \\right]  (40)   = \\argmin E_q \\left[ ||\\hat{\\mu}_t(x_0,x_t) - \\mu(x_t,t)||^2 \\right] (41)  <p>\u81f3\u6b64\uff0c\u6211\u4eec\u7ec8\u4e8e\u5f97\u5230\u4e86\u53c2\u6570 \\theta \u7684\u8868\u8fbe\u5f0f\uff08\u4ea6\u5373\u53c2\u6570\u4f30\u8ba1\u65b9\u6cd5\uff09\uff1a</p>  \\theta_{t-1}^* = \\argmin E_q \\left[ ||\\hat{\\mu}_t(x_0,x_t) - \\mu(x_t,t)||^2 \\right] (42)  <p>\u6709\u4e86\u8fd9\u4e2a\u89e3\u6790\u5f0f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u91c7\u7528\u68af\u5ea6\u4e0b\u964d\u7b49\u65b9\u6cd5\u4e0d\u65ad\u4f18\u5316\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\uff08\u5373 \\mu(x_t,t)\uff09\uff0c\u4ece\u800c\u5b8c\u6210\u8bad\u7ec3\u3002</p> <p>\u5c0f\u7ed3\uff1a\u56de\u987e\u4e0a\u8ff0\u63a8\u5bfc\u8fc7\u7a0b\uff0c\u6211\u4eec\u4ece\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u51fa\u53d1\uff0c\u7531\u4e8e\u5bf9\u6570\u4f3c\u7136\u5305\u542b\u590d\u6742\u79ef\u5206\u3001\u4e0d\u80fd\u76f4\u63a5\u8ba1\u7b97\uff0c\u56e0\u6b64\u6211\u4eec\u4f7f\u7528\u53d8\u5206\u63a8\u65ad\uff0c\u901a\u8fc7\u5f15\u5165\u5bf9\u6570\u4f3c\u7136\u7684\u53d8\u5206\u4e0b\u754c\uff0c\u5c06 MLE \u7684\u76ee\u6807\u8f6c\u6362\u6210 \\argmin L\u3002\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u901a\u8fc7\u547d\u9898 2\uff08\u5f0f 25\uff09\uff0c\u5c06 L \u62c6\u5206\u6210 L_T, \\sum_{t&gt;1}L_{t-1}, L_0 \u4e09\u90e8\u5206\uff0c\u8bc1\u660e\u4e86 L_T \u662f\u5e38\u6570\uff0c\u4e8e\u662f L_0 \u7684\u5f71\u54cd\u6781\u5c0f\uff0c\u53ef\u4ee5\u5ffd\u7565\u7684\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u7684 MLE \u7b49\u4ef7\u4e8e\u6700\u5c0f\u5316 \\sum_{t&gt;1}L_{t-1}\u3002\u7531\u4e8e\u795e\u7ecf\u7f51\u7edc\u6781\u5f3a\u7684\u62df\u5408\u80fd\u529b\uff0c\u8fd9\u4e00\u76ee\u6807\u53ef\u4ee5\u901a\u8fc7\u4ee4\u6240\u6709 L_t \u540c\u65f6\u53d6\u6700\u5c0f\u5b9e\u73b0\u3002\u901a\u8fc7\u8bc1\u660e L_t \u6240\u6d89\u53ca\u7684\u4e24\u4e2a\u5206\u5e03\u5747\u4e3a\u6b63\u6001\u5206\u5e03\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u6b63\u6001\u5206\u5e03\u4e4b\u95f4\u7684 KL \u6563\u5ea6\u516c\u5f0f\u6765\u5f97\u5230 \\min L_t \u7684\u7b49\u4ef7\u7684\u3001\u53ef\u64cd\u4f5c\u7684\u5f62\u5f0f\u3002\u7531\u6b64\uff0c\u6211\u4eec\u6700\u7ec8\u627e\u5230\u4e86\u4e00\u4e2a\u53ef\u64cd\u4f5c\u7684\u53c2\u6570\u4f30\u8ba1\u65b9\u6cd5\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#33","title":"3.3 \u6269\u6563\u6a21\u578b\u7684\u63a8\u7406\uff08\u4ece\u5206\u5e03\u4e2d\u91c7\u6837\uff09","text":"<p>\u65e2\u5df2\u786e\u5b9a\u53c2\u6570\uff0c\u6211\u4eec\u4e0b\u9762\u5c31\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u6a21\u578b\u6765\u8fdb\u884c\u751f\u6210\u3002\u6b63\u5982\u4e0a\u6587\uff083.1\uff09\u6240\u8ff0\uff0c\u5728\u786e\u5b9a P_{X_{t-1}|X_t}(x_{t-1}|x_t) \u540e\uff0c\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u901a\u8fc7 17 \u5f0f\u79ef\u5206\u6765\u83b7\u5f97 P_{model}(x_0)\u3002\u4f46\u662f\u6211\u4eec\u4e4b\u6240\u4ee5\u8981\u8bad\u7ec3\u8fd9\u6837\u4e00\u4e2a\u6a21\u578b\uff0c\u6b63\u662f\u4e3a\u4e86\u80fd\u591f\u4ece P_{model}(x_0) \u4e2d\u91c7\u6837\uff0c\u4ee5\u4fbf\u83b7\u5f97\u65b0\u6570\u636e\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u91c7\u7528\u5982\u4e0b\u7684\u91c7\u6837\u65b9\u6cd5\uff1a</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#1-ddpm-sampler","title":"\u7b97\u6cd5 1 (DDPM Sampler)","text":"<ol> <li>\u4ece N(0,I) \u91c7\u6837 X_T\uff1b</li> <li>\u904d\u5386 t=T,...,1\uff0c\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</li> <li>(i). \u4ece N(0,I) \u91c7\u6837 z_t\uff1b</li> <li>(ii). \u8ba1\u7b97 X_{t-1} = \\mu(X_t,t) + \\sigma_t z_t\uff1b</li> <li>\u83b7\u5f97 X_0 \\sim P_{model}(X_0)\u3002</li> </ol> <p>\u8fd9\u5176\u5b9e\u5c31\u662f\u5229\u7528\u6b63\u6001\u5206\u5e03\u7684\u6027\u8d28\u628a p_{X_{t-1}|X_t}(x_{t-1}|x_t) = N(x_{t-1}; \\mu(x_t, t), \\sigma^2_t I) \u91cd\u5199\u4e00\u904d\uff0c\u4f46\u597d\u5904\u662f\u8fd9\u6210\u4e3a\u4e86\u4e00\u4e2a\u53ef\u4ee5\u5b9e\u9645\u64cd\u4f5c\u7684\u7b97\u6cd5\u3002\u8fd9\u4e2a\u7b97\u6cd5\u7684\u6267\u884c\u8fc7\u7a0b\uff0c\u7531\u4e8e\u662f\u4ece\u9ad8\u65af\u566a\u58f0\u51fa\u53d1\uff0c\u9010\u6e10\u83b7\u5f97\u4e00\u4e2a\u6e05\u6670\u7684\u56fe\u7247\uff0c\u56e0\u6b64\u88ab\u79f0\u4f5c\u201c\u53bb\u566a\u8fc7\u7a0b\u201d\uff08\u6216\u53cd\u5411\u8fc7\u7a0b\uff09\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5b9e\u9645\u5e94\u7528\u4e2d T \u6781\u5927\uff08eg.1000\uff09\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u6781\u591a\u7684\u8fed\u4ee3\u6b65\u6570\uff0c\u8fd9\u65e0\u7591\u5bfc\u81f4\u4e86\u6a21\u578b\u751f\u6210\u901f\u5ea6\u7684\u4e0b\u964d\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u5404\u79cd\u91c7\u6837\u52a0\u901f\u7b97\u6cd5\u4e0d\u65ad\u63d0\u51fa\uff0c\u5982 DDIM, DPM-Solver \u7b49\u7b49\u3002\u7bc7\u5e45\u6240\u9650\uff0c\u4e0d\u52a0\u9648\u8ff0\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#4","title":"4 \u672a\u5c3d\u8bdd\u9898\u4e0e\u7ed3\u8bed","text":"<p>\u5c3d\u7ba1\u672c\u6587\u5bf9\u6269\u6563\u6a21\u578b\u7684\u57fa\u672c\u6982\u5ff5\u8fdb\u884c\u4e86\u4e00\u4e9b\u8ba8\u8bba\uff0c\u5c1d\u8bd5\u63a8\u5bfc\u4e86\u4e00\u4e9b\u516c\u5f0f\uff0c\u4f46\u672c\u6587\u628a\u6269\u6563\u6a21\u578b\u7684\u5168\u8c8c\u4ecd\u76f8\u5dee\u4e0d\u591a\uff0c\u6709\u592a\u591a\u7684\u672a\u5c3d\u8bdd\u9898\u503c\u5f97\u601d\u8003\uff1a\u4f8b\u5982\uff0c\u4e0a\u6587\u7684\u63a2\u8ba8\u6709\u610f\u56de\u907f\u4e86\u201c\u6761\u4ef6\u751f\u6210\u201d\u7684\u6982\u5ff5\uff0c\u6a21\u578b\u6240\u751f\u6210\u7684\u5185\u5bb9\u53ef\u80fd\u662f\u4efb\u4f55\u4e00\u79cd\u7269\u4f53\uff0c\u5982\u4f55\u63a7\u5236\u6a21\u578b\u751f\u6210\u6211\u4eec\u60f3\u8981\u7684\u5185\u5bb9\uff1f\uff08\u4f8b\u5982\uff0c\u5982\u4f55\u7528\u6587\u5b57\u63a7\u5236\u6a21\u578b\u7684\u751f\u6210\u5185\u5bb9\uff0ceg. \u8f93\u5165\u201c\u4e00\u6761\u72d7\u8ffd\u9010\u4e00\u53ea\u732b\u201d\u7684\u6587\u5b57\uff0c\u8981\u6c42\u6a21\u578b\u6210\u529f\u5e94\u5bf9\u5185\u5bb9\u7684\u56fe\u50cf\uff09\u8fd9\u79cd\u6761\u4ef6\u751f\u6210\u7684\u6982\u5ff5\uff0c\u6b63\u662f\u9887\u5177\u70ed\u5ea6\u7684\u6587\u751f\u56fe\u3001\u6587\u751f\u89c6\u9891\u7b49\u6a21\u578b\u5fc5\u4e0d\u53ef\u5c11\u7684\u57fa\u7840\u3002\u53c8\u5982\uff0c\u4e0a\u6587\u63a8\u5bfc\u57fa\u7840\u539f\u7406\u65f6\uff0c\u66fe\u5c06\u52a0\u566a\u8fc7\u7a0b\u4e2d\u7684\u65b9\u5dee\u5f3a\u884c\u56fa\u5b9a\uff0c\u90a3\u4e48\u662f\u5426\u5b58\u5728\u6570\u5b66\u4e0a\u7684\u6700\u4f18\u89e3\uff0c\u80fd\u591f\u89e3\u6790\u5730\u786e\u5b9a\u6700\u4f18\u65b9\u5dee\uff1f\u518d\u5982\uff0c\u5982\u4e0a\u6587\u6240\u8ff0\uff0c\u91c7\u6837\u9636\u6bb5\u7684\u8fd1\u4e00\u5343\u6b65\u8fed\u4ee3\u5c06\u5927\u5927\u964d\u4f4e\u91c7\u6837\u901f\u7387\uff0c\u8fd9\u52bf\u5fc5\u5bfc\u81f4\u5e94\u7528\u4e0a\u7684\u6781\u5927\u4e0d\u4fbf\uff0c\u5982\u4f55\u5b9e\u73b0\u65e2\u52a0\u901f\u91c7\u6837\uff0c\u53c8\u4fdd\u8bc1\u751f\u6210\u8d28\u91cf\uff0c\u8fd9\u4e9b\u6539\u8fdb\u7684\u80cc\u540e\u53c8\u6709\u7740\u600e\u6837\u7684\u6570\u5b66\u672c\u8d28\uff1f\u8fd9\u4e9b\u95ee\u9898\u5f15\u51fa\u7684\u6770\u51fa\u5de5\u4f5c\uff0c\u90fd\u66fe\u5927\u653e\u5f02\u5f69\u3002\u81f3\u4e8e\u5982\u4f55\u5c06\u6a21\u578b\u80cc\u540e\u7684\u6570\u5b66\u672c\u8d28\u63d0\u9ad8\u5230\u66f4\u52a0\u9ad8\u7b49\u7684\u9886\u57df\uff0c\u5982\u4f55\u5c06\u8fd9\u4e9b\u79bb\u6563\u7684\u52a0\u566a\u3001\u53bb\u566a\u8fc7\u7a0b\u8f6c\u6362\u6210\u8fde\u7eed\u8fc7\u7a0b\uff0c\u8fd9\u4e00\u95ee\u9898\u5f15\u51fa\u4e86 Score Matching SDE \u53ca\u4e0e\u4e4b\u7b49\u4ef7\u7684 ODE\uff0c\u8fd9\u4e9b\u89c6\u89d2\u752b\u4e00\u63d0\u51fa\uff0c\u4fbf\u6210\u4e3a\u7406\u8bba\u7814\u7a76\u9886\u57df\u4e0d\u53ef\u6216\u7f3a\u7684\u51fa\u53d1\u70b9\u3002\u65f6\u81f3\u4eca\u65e5\uff0c\u6269\u6563\u6a21\u578b\u7684\u7406\u8bba\u65e5\u8d8b\u5b8c\u5907\uff0c\u5982\u4f55\u8bbe\u8ba1\u795e\u7ecf\u7f51\u7edc\u7684\u5177\u4f53\u7ed3\u6784\uff0c\u5982\u4f55\u63d0\u9ad8\u6a21\u578b\u7684\u751f\u6210\u8d28\u91cf\uff0c\u5219\u6210\u4e3a\u5de5\u4e1a\u754c\u6700\u4e3a\u5173\u5fc3\u7684\u8bdd\u9898\u3002\u9650\u4e8e\u7bc7\u5e45\uff0c\u672c\u6587\u4ec5\u63a2\u8ba8\u4e86\u6269\u6563\u6a21\u578b\u7684\u201c\u5f00\u5c71\u4e4b\u4f5c\u201d\uff0c\u672a\u66fe\u6d89\u53ca\u8fd9\u4e9b\u7cbe\u5f69\u7eb7\u5448\u7684\u540e\u7eed\u5185\u5bb9\u3002\u7136\u800c\u7ba1\u4e2d\u7aa5\u8c79\uff0c\u53ef\u89c1\u4e00\u6591\uff0c\u901a\u8fc7\u5bf9\u5176\u6570\u5b66\u672c\u8d28\u7684\u63a2\u8ba8\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u4ee3\u4eba\u5de5\u667a\u80fd\u5e76\u975e\u6beb\u65e0\u7406\u8bba\u7684\u201c\u9ed1\u76d2\u201d\uff0c\u5176\u80cc\u540e\u7684\u7edf\u8ba1\u673a\u5668\u5b66\u4e60\u539f\u7406\u4e4b\u6df1\u523b\u7cbe\u5f69\uff0c\u6210\u4e3a\u52a8\u4eba\u5fc3\u9b44\u3002</p>"},{"location":"ai-ml/%E7%8E%B0%E4%BB%A3%E6%A6%82%E7%8E%87%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%AD%A5/#_4","title":"\u7ec3\u4e60\u4f5c\u4e1a","text":"<p>https://github.com/sast-summer-training-2024/sast2024-diffusion</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/","title":"\u795e\u7ecf\u7f51\u7edc","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_1","title":"\u4ec0\u4e48\u662f\u795e\u7ecf\u7f51\u7edc","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_2","title":"\u795e\u7ecf\u7f51\u7edc\u7684\u7b80\u5355\u5b9a\u4e49","text":"<p>\u795e\u7ecf\u7f51\u7edc\u662f\u7531\u5305\u542b\u6216\u4e0d\u5305\u542b\u53c2\u6570\u7684\u7b80\u5355\u5904\u7406\u5355\u5143\u76f8\u4e92\u8fde\u63a5\u6784\u6210\u7684\u5927\u89c4\u6a21\u7ed3\u6784\u3002\u5b83\u80fd\u591f\u5c06\u6570\u636e\u7ecf\u8fc7\u7531\u8fde\u63a5\u548c\u53c2\u6570\u51b3\u5b9a\u7684\u6d41\u7a0b\u8fdb\u884c\u8ba1\u7b97\uff0c\u5c06\u8f93\u5165\u6620\u5c04\u5230\u8f93\u51fa\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_3","title":"\u795e\u7ecf\u7f51\u7edc\u80fd\u591f\u5904\u7406\u7684\u95ee\u9898","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_4","title":"\u795e\u7ecf\u7f51\u7edc\u65b9\u6cd5\u5728\u4eba\u5de5\u667a\u80fd\u9886\u57df\u7684\u5b9a\u4f4d","text":"<pre><code>graph LR\nA(\u4eba\u5de5\u667a\u80fd) --&gt; B(\u673a\u5668\u5b66\u4e60)\nB --&gt; C(\u795e\u7ecf\u7f51\u7edc)\n</code></pre>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_5","title":"\u795e\u7ecf\u7f51\u7edc\u5e38\u7528\u6765\u5904\u7406\u4ec0\u4e48\u6837\u7684\u95ee\u9898","text":"<ul> <li>\u4ece\u6570\u636e\u4e2d\u83b7\u53d6\u5e76\u4fdd\u5b58\u4fe1\u606f\uff08\u6570\u636e\u9a71\u52a8\u4efb\u52a1\uff09</li> <li>\u62e5\u6709\u7ed3\u6784\u5316\u7684\u3001\u76f8\u5bf9\u5927\u91cf\u7684\u7ed3\u6784\u5316\u8f93\u5165-\u8f93\u51fa\u5bf9\u6570\u636e</li> <li>\u6709\u660e\u786e\u3001\u53ef\u8ba1\u7b97\u7684\u6027\u80fd\u8bc4\u4f30\u6307\u6807</li> <li>\u5e38\u89c1\u7684\u6709\u5206\u7c7b\u3001\u9884\u6d4b\u3001\u751f\u6210\u4efb\u52a1</li> </ul>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_6","title":"\u795e\u7ecf\u7f51\u7edc\u7684\u4f18\u70b9","text":"<ul> <li>\u53ef\u4ee5\u5f62\u6210\u62e5\u6709\u5927\u89c4\u6a21\u53c2\u6570\u7684\u7ed3\u6784\uff1a\u4fe1\u606f\u63d0\u53d6\u548c\u4fdd\u5b58\u80fd\u529b\u5f3a\uff0c\u6cdb\u5316\u6027\u80fd\u597d</li> <li>\u53ef\u6269\u5c55\u6027\uff1a\u7ed3\u6784\u5316\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u4fbf\u4e8e\u6269\u5c55\u548c\u590d\u7528</li> <li>\u975e\u7ebf\u6027\uff1a\u4ece\u8f93\u5165\u7279\u5f81\u7a7a\u95f4\u5230\u8f93\u51fa\u7279\u5f81\u7a7a\u95f4\u7684\u6620\u5c04\u662f\u975e\u7ebf\u6027\u7684</li> </ul>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_7","title":"\u5b66\u4e60\u4efb\u52a1\u7684\u7ec4\u6210","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_8","title":"\u5b66\u4e60\u4efb\u52a1","text":"<p>\u5b66\u4e60\u4efb\u52a1\u662f\u7531\u6a21\u578b M\u3001\u7ecf\u9a8c E\u3001\u4efb\u52a1 T\u3001\u6027\u80fd\u91cf\u5ea6 P \u7ec4\u6210\u7684\u3002\u6a21\u578b\u7684\u5b66\u4e60\u662f\u6307 \u6a21\u578b M \u901a\u8fc7\u5f97\u5230\u7ecf\u9a8c E\uff0c\u5728\u6027\u80fd\u91cf\u5ea6 P \u610f\u4e49\u4e0b\u76f8\u5bf9\u5f97\u5230\u7ecf\u9a8c E \u5e76\u8fd0\u884c\u5b66\u4e60\u7b97\u6cd5\u524d\u5728\u4efb\u52a1 T \u4e0a\u6709\u6240\u6539\u8fdb\u3002</p> <p>\u5bf9\u4e8e\u795e\u7ecf\u7f51\u7edc\u800c\u8a00\uff0c\u6a21\u578b M \u5373\u4e3a\u795e\u7ecf\u7f51\u7edc\u672c\u8eab\uff0c\u7ecf\u9a8c E \u4e3a\u6570\u636e\uff0c\u6027\u80fd\u91cf\u5ea6 P \u4e3a\u635f\u5931\u51fd\u6570\uff0c\u800c\u4efb\u52a1 T \u5373\u4e3a\u5e0c\u671b\u4f7f\u7528\u795e\u7ecf\u7f51\u7edc\u89e3\u51b3\u7684\u673a\u5668\u5b66\u4e60\u95ee\u9898\u3002</p> <p>\u4f8b\u5982\uff1a\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u7684\u5b66\u4e60\u4efb\u52a1\u662f\u6307\u8be5\u795e\u7ecf\u7f51\u7edc\u5728\u56fe\u50cf\u5206\u7c7b\u4efb\u52a1\u4e0a\u8fdb\u884c\u5b66\u4e60\uff0c\u5728\u83b7\u5f97\u6807\u6ce8\u540e\u7684\u56fe\u7247\u5206\u7c7b\u6570\u636e\u5e76\u8fdb\u884c\u8bad\u7ec3\u540e\uff0c\u5728\u5206\u7c7b\u51c6\u786e\u7387\u6807\u51c6\u4e0b\u76f8\u8f83\u4e8e\u8bad\u7ec3\u524d\u6709\u6240\u63d0\u5347\u3002</p> <p>\u5728\u795e\u7ecf\u7f51\u7edc\u5b66\u4e60\u4efb\u52a1\u4e2d\uff0c\u6211\u4eec\u79f0\u4f7f\u7528\u6570\u636e\u4f5c\u4e3a\u7ecf\u9a8c E\uff0c\u5bf9\u795e\u7ecf\u7f51\u7edc\u4f7f\u7528\u5b66\u4e60\u7b97\u6cd5\u8fdb\u884c\u4f18\u5316\u7684\u8fc7\u7a0b\u4e3a\u8bad\u7ec3\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_9","title":"\u6570\u636e\u4e0e\u7ecf\u9a8c","text":"<p>\u5bf9\u4efb\u52a1 T \u8fdb\u884c\u6570\u5b66\u5efa\u6a21\uff1a</p> <p>\u5bf9\u4e8e\u67d0\u4e2a\u6837\u672c\u7a7a\u95f4\u5df2\u77e5\u800c\u6982\u7387\u672a\u77e5\u7684\u6982\u7387\u7a7a\u95f4 (\\Omega, \\cal{F}, \\cal{P})\uff0c\u5e0c\u671b\u901a\u8fc7\u72ec\u7acb\u540c\u5206\u5e03\u7684\u91c7\u6837\u7ed3\u679c\\{X_i\\} \\sim \\mathcal{P}(x) \u4f30\u8ba1\u5206\u5e03 \\mathcal{P}\u3002\u6211\u4eec\u79f0\u91c7\u6837\u7ed3\u679c \\{X_i\\} \u4e3a\u6570\u636e</p> <p>\u4ece\u4e2d\u53ef\u4ee5\u5f97\u5230\u51e0\u4e2a\u6570\u636e\u9a71\u52a8\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u7684\u7ecf\u5178\u5047\u8bbe\uff1a</p> <ol> <li>\u771f\u5b9e\u5206\u5e03\u5047\u8bbe\uff1a\u8ba4\u4e3a\u6570\u636e\u7b26\u5408\u67d0\u4e2a\u786e\u5b9a\u7684\u771f\u5b9e\u5206\u5e03</li> <li>\u72ec\u7acb\u540c\u5206\u5e03\u5047\u8bbe\uff1a\u8ba4\u4e3a\u6570\u636e\u662f\u4ece\u771f\u5b9e\u5206\u5e03\u4e2d\u72ec\u7acb\u540c\u5206\u5e03\u91c7\u6837\u7684</li> <li>\u4f4e\u7ef4\u6d41\u5f62\u5047\u8bbe\uff1a\u81ea\u7136\u7684\u539f\u59cb\u6570\u636e\u662f\u4f4e\u7ef4\u7684\u6d41\u5f62\u5d4c\u5165\u4e8e\u539f\u59cb\u6570\u636e\u6240\u5728\u7684\u9ad8\u7ef4\u7a7a\u95f4\uff08\u56e0\u4e3a\u6211\u4eec\u65e0\u6cd5\u901a\u8fc7\u6709\u9650\u7a7a\u95f4\u548c\u65f6\u95f4\u4f30\u8ba1\u65e0\u7a77\u7ef4\u6837\u672c\u7a7a\u95f4\u4e0a\u7684\u6982\u7387\u5206\u5e03\uff09</li> </ol>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_10","title":"\u635f\u5931\u51fd\u6570\u4e0e\u6027\u80fd\u91cf\u5ea6","text":"<p>\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u80fd\u591f\u4e0d\u9700\u8981\u4eba\u7c7b\u53c2\u4e0e\u7684\u6027\u80fd\u5ea6\u91cf\u7b97\u6cd5\uff0c\u4ee5\u4fbf\u795e\u7ecf\u7f51\u7edc\u81ea\u884c\u8fed\u4ee3\u800c\u65e0\u9700\u4eba\u7c7b\u7684\u5e72\u9884\uff0c\u4ece\u800c\u663e\u8457\u63d0\u5347\u6548\u7387\u3002</p> <p>\u901a\u5e38\u6765\u8bf4\uff0c\u6027\u80fd\u91cf\u5ea6 P \u662f\u7279\u5b9a\u4e8e\u4efb\u52a1 T \u800c\u8a00\u7684\u3002\u800c\u7531\u4e8e\u4eba\u7c7b\u7ecf\u9a8c\u7684\u590d\u6742\u6027\uff0c\u6211\u4eec\u901a\u5e38\u53ea\u80fd\u591f\u8fd1\u4f3c\u5730\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd\u3002\u5728\u795e\u7ecf\u7f51\u7edc\u5b66\u4e60\u4efb\u52a1\u4e2d\uff0c\u6027\u80fd\u91cf\u5ea6 P \u88ab\u79f0\u4e3a\u635f\u5931\u51fd\u6570\uff1a</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_11","title":"\u635f\u5931\u51fd\u6570","text":"<p>\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u6a21\u578b M\uff0c\u548c\u7ed9\u5b9a\u7684\u7ecf\u9a8c E\uff0c\u635f\u5931\u51fd\u6570\u5b9a\u4e49\u4e3a\u51fd\u6570 $$ \\mathcal{L}:(M, E) \\to \\mathbb{R}. $$ \u635f\u5931\u51fd\u6570\u503c\u8d8a\u5927\uff0c\u4ee3\u8868\u4eba\u7c7b\u8ba4\u4e3a\u6a21\u578b M \u5728\u4efb\u52a1 T \u4e0a\u7684\u8868\u73b0\u4e0e\u7ecf\u9a8c E \u7684\u8868\u73b0\u5dee\u8ddd\u8d8a\u5927\u3002</p> <p>\u6bd4\u5982\uff0c\u5728\u56fe\u50cf\u5206\u7c7b\u4efb\u52a1\u4e2d\uff0c\\mathcal{L}(M,E) \u53ef\u4ee5\u4e3a\u5728\u67d0\u4e00\u7ec4\u6807\u6ce8\u597d\u7c7b\u522b\u56fe\u50cf\u6570\u636e\u4e0a\uff0c\u6a21\u578b\u5728\u9884\u6d4b\u8fd9\u7ec4\u56fe\u50cf\u7c7b\u522b\u65f6\u7684\u9519\u8bef\u7387\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_12","title":"\u8bad\u7ec3\u96c6\u4e0e\u6d4b\u8bd5\u96c6","text":"<p>\u5728\u795e\u7ecf\u7f51\u7edc\u7684\u8bc4\u4f30\u4e2d\uff0c\u4e00\u4e2a\u91cd\u8981\u7684\u6307\u6807\u662f\u5176\u6cdb\u5316\u80fd\u529b\uff0c\u5373\u5bf9\u4e8e\u5728\u7ecf\u9a8cE\u6ca1\u6709\u6d89\u53ca\u7684\u3001\u540c\u65f6\u4f4d\u4e8e\u4efb\u52a1T\u7684\u6837\u672c\u7a7a\u95f4\u8303\u56f4\u5185\u7684\u70b9\u7684\u4f30\u8ba1\u6548\u679c\u3002\u901a\u5e38\u6211\u4eec\u4f1a\u4ece\u8bad\u7ec3\u6570\u636e\u4e2d\u5355\u72ec\u5206\u51fa\u4e00\u5c0f\u90e8\u5206\uff0c\u5728\u8bad\u7ec3\u65f6\u4e0d\u4f5c\u4e3a\u6837\u672c\u5bf9\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\uff0c\u5e76\u8bc4\u4f30\u6a21\u578b\u5728\u8fd9\u4e9b\u6837\u672c\u4e0a\u7684\u6027\u80fd\u3002</p> <p>\u6211\u4eec\u79f0\u5728\u8bad\u7ec3\u65f6\u4f5c\u4e3a\u6837\u672c\u5bf9\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\u7684\u6570\u636e\u96c6\u5408\u4e3a\u6570\u636e\u96c6\uff0c\u5206\u51fa\u6765\u7684\u90a3\u4e00\u5c0f\u90e8\u5206\u4e3a\u6d4b\u8bd5\u96c6\u3002\u901a\u5e38\uff0c\u4e3a\u4e86\u5f97\u77e5\u6a21\u578b\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u6027\u80fd\u53d8\u5316\u8d8b\u52bf\uff0c\u6211\u4eec\u8fd8\u4f1a\u4ece\u6d4b\u8bd5\u96c6\u4e2d\u5206\u51fa\u4e00\u5c0f\u90e8\u5206\u4f5c\u4e3a\u9a8c\u8bc1\u96c6\uff0c\u5728\u8bad\u7ec3\u4e2d\u9014\u591a\u6b21\u5728\u9a8c\u8bc1\u96c6\u4e0a\u6d4b\u8bd5\u6a21\u578b\u7684\u6027\u80fd\u8868\u73b0\u3002\u6ce8\u610f\uff0c\u5728\u8bad\u7ec3\u4ee5\u53ca\u9a8c\u8bc1\u8fc7\u7a0b\u4e2d\uff0c\u6a21\u578b\u6c38\u8fdc\u4e0d\u5e94\u8be5\u63a5\u89e6\u6d4b\u8bd5\u96c6\u7684\u6570\u636e\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_13","title":"\u795e\u7ecf\u7f51\u7edc\u7684\u6784\u6210","text":"<p>\u6211\u4eec\u5728\u7b2c\u4e00\u8282\u5f3a\u8c03\u4e86\u795e\u7ecf\u7f51\u7edc\u6784\u6210\u7684\u4e24\u4e2a\u90e8\u5206\uff1a\u5e26\u53c2\u6570\u6216\u4e0d\u5e26\u53c2\u6570\u7684\u7b80\u5355\u7ed3\u6784\uff0c\u4ee5\u53ca\u5b83\u4eec\u7684\u8fde\u63a5\u3002\u5728\u672c\u8282\u4e2d\u5c06\u4f7f\u7528\u611f\u77e5\u673a\u7684\u4f8b\u5b50\u8be6\u7ec6\u8bf4\u660e\u8fd9\u4e24\u90e8\u5206\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_14","title":"\u611f\u77e5\u673a","text":"<p>\u7ebf\u6027\u611f\u77e5\u673a\u7b97\u6cd5\uff08PLA\uff091957 \u5e74\u7531 Frank Rosenblatt \u63d0\u51fa\u3002\u611f\u77e5\u673a\u662f\u4e8c\u5206\u7c7b\u7684\u7ebf\u6027\u5206\u7c7b\u6a21\u578b\uff0c\u5176\u8f93\u5165\u4e3a\u5b9e\u4f8b\u7684\u7279\u5f81\u5411\u91cf\uff0c\u8f93\u51fa\u4e3a\u5b9e\u4f8b\u7684\u7c7b\u522b\uff0c\u53d6\u503c\u4e3a +1 \u548c -1\u3002</p> <p>perceptron:  $$  f(\\vec{x}) = sign(\\vec{w}^T \\vec{x} + b)  $$\uff0cwhere w\uff0cx \\in \\mathbb{R}^n\uff0cb \\in \\mathbb{R}</p> <p>\u663e\u7136\uff0c\u8fd9\u662f\u4e00\u4e2a\u542b\u53c2\u6570w\u7684\uff0c\u4e14\u80fd\u591f\u5c06\u8f93\u5165\u6839\u636e\u53c2\u6570w\u552f\u4e00\u6620\u5c04\u5230\u8f93\u51fa\u7684\u7b80\u5355\u7ed3\u6784\u3002</p> <p>\u611f\u77e5\u673a\u662f\u795e\u7ecf\u7f51\u7edc\u4e2d\u6700\u5e38\u4f7f\u7528\u3001\u6700\u7b80\u5355\u7684\u542b\u53c2\u7ed3\u6784\u3002\u867d\u7136\u611f\u77e5\u673a\u53ea\u80fd\u8fdb\u884c\u7b80\u5355\u7684\u7ebf\u6027\u53ef\u5206\u5206\u7c7b\u95ee\u9898\uff0c\u4f46\u901a\u8fc7\u8fde\u63a5\u5927\u91cf\u611f\u77e5\u673a\uff0c\u4ee5\u53ca\u66f4\u6362\u7b26\u53f7\u51fd\u6570\u4e3a\u5176\u4ed6\u975e\u7ebf\u6027\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u51fa\u590d\u6742\u7684\u7ed3\u6784\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#mlp","title":"\u591a\u5c42\u611f\u77e5\u673aMLP","text":"<p>\u591a\u5c42\u611f\u77e5\u673a\u662f\u901a\u8fc7\u611f\u77e5\u673a\u7684\u62fc\u63a5\u7ec4\u6210\u7684\u7ed3\u6784\u3002\u5b83\u662f\u6700\u7b80\u5355\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u3002\u8fd9\u4e2a\u7ed3\u6784\u5728\u51e0\u4e4e\u6240\u6709\u7684\u73b0\u4ee3\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u4e2d\u90fd\u5b58\u5728\u3002</p> <p>multiple layer perceptron:  $$ f(\\vec{x}) = f_N \\circ \\dots \\circ f_0 $$ $$ f_i(\\vec{x}) = \\sigma_i(W \\vec{x} + \\vec{b}) $$ \uff0cwhere W \\in \\mathbb{R}^{n_i \\times n_{i+1}}\uff0cb \\in \\mathbb{R}^n_{i+1}\uff0ci \\in \\{0\uff0c\\dots \uff0cN\\}</p> <p>\u5176\u7ed3\u6784\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a  \u5176\u4e2d\u7684h_i\u3001o_i\u4ee3\u8868\u4e00\u4e2a\u5c06\u7b26\u53f7\u51fd\u6570\u66ff\u6362\u4e3a\u975e\u7ebf\u6027\u6fc0\u6d3b\u51fd\u6570\u7684\u611f\u77e5\u673a\u3002\uff08\u5c1d\u8bd5\u6839\u636e\u56fe\u4e2d\u7ed9\u51fa\u7684\u7ed3\u6784\uff0c\u63a8\u5bfc\u4e0a\u9762\u7ed9\u51fa\u7684\u516c\u5f0f\u3002\u8fdb\u4e00\u6b65\u7684\uff0c\u5199\u51faW_1\uff0cW_2\u4e0e\u5404\u611f\u77e5\u673a\u53c2\u6570\u4e4b\u95f4\u7684\u5173\u7cfb\uff09</p> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u4ec5\u901a\u8fc7\u8fde\u63a5\u611f\u77e5\u673a\uff0c\u6211\u4eec\u5c31\u83b7\u5f97\u4e86\u4e00\u4e2a\u53ef\u4ee5\u4efb\u610f\u589e\u5927\u89c4\u6a21\u800c\u57fa\u7840\u7ed3\u6784\u76f8\u540c\u7684\uff0c\u4ece\u4efb\u610f\u7ef4\u6b27\u5f0f\u7a7a\u95f4\u5411\u4efb\u610f\u7ef4\u6b27\u5f0f\u7a7a\u95f4\u6620\u5c04\u7684\u7ed3\u6784\u3002 \u6ce8\u610f\u5230\uff0c\u7531\u4e8e\u5f15\u5165\u4e86\u975e\u7ebf\u6027\u6fc0\u6d3b\u51fd\u6570\uff08\u8bd5\u60f3\u5982\u679c\u4f7f\u7528\u7ebf\u6027\u6fc0\u6d3b\u51fd\u6570\u4f1a\u600e\u6837\uff1f\uff09\uff0c\u8fd9\u4e2a\u7ed3\u6784\u8fd8\u53ef\u4ee5\u8868\u793a\u975e\u7ebf\u6027\u7684\u6620\u5c04\u3002\u4e8e\u662f\u6211\u4eec\u83b7\u5f97\u4e86\u4e00\u4e2a\u5178\u578b\u7684\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_15","title":"\u795e\u7ecf\u7f51\u7edc\u7684\u5b66\u4e60\u7b97\u6cd5","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_16","title":"\u795e\u7ecf\u7f51\u7edc\u7684\u4f18\u5316","text":"<p>\u5728\u7b2c\u4e8c\u8282\u6211\u4eec\u63a2\u8ba8\u4e86\u5b66\u4e60\u4efb\u52a1\uff0c\u5e76\u5b9a\u4e49\u4e86\u795e\u7ecf\u7f51\u7edc\u4e2d\u7684\u6027\u80fd\u91cf\u5ea6\u2014\u2014\u635f\u5931\u51fd\u6570\u3002\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u83b7\u5f97\u4e86\u4e00\u4e2a\u5178\u578b\u7684\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u3002\u5728\u8fd9\u4e00\u7ae0\uff0c\u6211\u4eec\u81ea\u7136\u9700\u8981\u8ba8\u8bba\u5982\u4f55\u901a\u8fc7\u4f7f\u7528\u7ecf\u9a8cE\uff0c\u5373\u6570\u636e\uff0c\u4f7f\u5f97\u795e\u7ecf\u7f51\u7edc\u5728\u635f\u5931\u51fd\u6570\u610f\u4e49\u4e0b\u83b7\u5f97\u6027\u80fd\u63d0\u5347\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_17","title":"\u6700\u5c0f\u5316\u635f\u5931\u51fd\u6570","text":"<p>\u6ce8\u610f\u5230\u635f\u5931\u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u5047\u5b9a\u4e86\u6a21\u578b\u6027\u80fd\u8d8a\u5dee\uff0c\u635f\u5931\u51fd\u6570\u8d8a\u5927\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ea\u9700\u8981\u53cd\u8fc7\u6765\u901a\u8fc7\u8c03\u6574M\uff0c\u5728\u7ecf\u9a8cE\u4e0a\u6700\u5c0f\u5316\u635f\u5931\u51fd\u6570\uff0c\u5c31\u80fd\u8fbe\u5230\u63d0\u9ad8\u6a21\u578bM\u5728\u4efb\u52a1T\u4e0a\u8868\u73b0\u7684\u76ee\u7684\u3002 \u4e8e\u662f\uff0c\u795e\u7ecf\u7f51\u7edc\u7684\u4f18\u5316\u4efb\u52a1\u53ef\u4ee5\u5982\u4e0b\u5f62\u5f0f\u5316\u5b9a\u4e49\uff1a</p>   \\theta^* = \\arg \\min_\\theta \\cal{L}(M_\\theta\uff0cE)   <p>\u5176\u4e2d\\theta\u6240\u6709\u7684\u53ef\u8c03\u6574\u53c2\u6570\u3002\u901a\u8fc7\u635f\u5931\u51fd\u6570\uff0c\u6211\u4eec\u6210\u529f\u5c06\u4e3b\u89c2\u7684\u6027\u80fd\u8bc4\u4f30\u548c\u6539\u8fdb\u95ee\u9898\uff0c\u8f6c\u5316\u4e3a\u4e86\u8ba1\u7b97\u548c\u4f18\u5316\u635f\u5931\u51fd\u6570\u7684\u95ee\u9898\uff0c\u8fdb\u800c\u53ef\u4ee5\u901a\u8fc7\u6570\u503c\u65b9\u6cd5\u89e3\u51b3\u3002\u53ef\u4ee5\u8ba4\u4e3a\uff0c\u901a\u8fc7\u8bbe\u8ba1\u635f\u5931\u51fd\u6570\uff0c\u6211\u4eec\u5c06\u4e3b\u89c2\u6027\u8f6c\u79fb\u81f3\u4e86\u635f\u5931\u51fd\u6570\u4e2d\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_18","title":"\u57fa\u4e8e\u68af\u5ea6\u7684\u4f18\u5316\u65b9\u6cd5","text":"<p>\u5728\u6570\u503c\u8ba1\u7b97\u9886\u57df\uff0c\u4f18\u5316\u95ee\u9898\u7684\u6700\u5e38\u7528\u3001\u6548\u679c\u6700\u597d\u7684\u7b97\u6cd5\u7edd\u5927\u90e8\u5206\u662f\u57fa\u4e8e\u68af\u5ea6\u7684\u7b97\u6cd5\u3002\u7531\u4e8e\u795e\u7ecf\u7f51\u7edc\u7684\u7b80\u5355\u57fa\u672c\u7ed3\u6784\u7684\u53ef\u5bfc\u6027\u4ee5\u53ca\u53c2\u6570\u7a7a\u95f4\u7684\u8fde\u7eed\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u5730\u4f7f\u7528\u68af\u5ea6\u6cd5\u4f5c\u4e3a\u4f18\u5316\u65b9\u6cd5\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_19","title":"\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5","text":"<p>\u57fa\u4e8e\u68af\u5ea6\u7684\u4f18\u5316\u65b9\u6cd5\u4e2d\u6700\u6613\u7406\u89e3\u7684\u662f\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\uff1a</p> <p>\u4ee4 $$ \\theta_{n+1} = \\theta_n - \\eta \\frac{\\partial \\cal{L}(M_{\\theta_n}\uff0cE)}{\\partial \\theta_n} $$ \u5219\u5bf9\u4e8e\u4e00\u7c7b\u6027\u8d28\u8f83\u597d\u7684\\cal{L}\u548cM_\\theta\uff0c\u6211\u4eec\u6709 $$ \\lim_{\\eta \\rightarrow 0\uff0cn \\rightarrow \\infty}\\theta_n = \\theta^* $$</p> <p>\u6211\u4eec\u77e5\u9053\u68af\u5ea6\u7684\u53cd\u5411\u662f\u8be5\u70b9\u90bb\u57df\u4e2d\u51fd\u6570\u503c\u4e0b\u964d\u6700\u5feb\u7684\u65b9\u5411\uff0c\u56e0\u6b64\u5f53\u51fd\u6570\u4e0d\u592a\u5dee\u65f6\uff0c\u6cbf\u68af\u5ea6\u7684\u53cd\u5411\u8fdb\u884c\u53c2\u6570\u7684\u66f4\u65b0\u90fd\u6709\u673a\u4f1a\u8fbe\u5230\u51fd\u6570\u7684\u6700\u5c0f\u503c\u3002</p> <p>\u7136\u800c\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u6709\u4e24\u4e2a\u7f3a\u70b9\u3002\u9996\u5148\uff0c\u8be5\u65b9\u6cd5\u5bf9\u4e8e\u51fd\u6570\u7684\u6027\u8d28\u6709\u8981\u6c42\uff0c\u5426\u5219\u5bf9\u4e8e\u53c2\u6570\u7684\u521d\u503c\u8f83\u4e3a\u654f\u611f\uff0c\u5bb9\u6613\u9677\u5165\u5c40\u90e8\u6781\u5c0f\u503c\u3002(\u8003\u8651\u6709\u4e24\u4e2a\u8c37\u7684\u51fd\u6570)\u3002\u5176\u6b21\uff0c\u8be5\u65b9\u6cd5\u9700\u8981\u5728\u5168\u90e8\u6837\u672c\u4e0a\u8ba1\u7b97\u51fa\u68af\u5ea6\uff0c\u5e76\u6c42\u5e73\u5747\u3002\u8fd9\u6781\u5927\u7684\u964d\u4f4e\u4e86\u68af\u5ea6\u4e0b\u964d\u7684\u6548\u7387\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#sgd","title":"\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5(SGD)","text":"<p>\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u662f\u76ee\u524d\u51e0\u4e4e\u6240\u6709\u795e\u7ecf\u7f51\u7edc\u7684\u5b66\u4e60\u7b97\u6cd5\u3002\u76ee\u524d\u5df2\u77e5\u7684\u7edd\u5927\u591a\u6570\u7b97\u6cd5\u90fd\u662f\u57fa\u4e8e\u8fd9\u4e2a\u65b9\u6cd5\u7684\u4f18\u5316\u6216\u5fae\u8c03\u3002\u6216\u8005\u8bf4\uff0c\u4eca\u5929\u6211\u4eec\u6240\u8bb2\u7684\u795e\u7ecf\u7f51\u7edc\u5c31\u662f\u6307\u80fd\u591f\u4f7f\u7528\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u8fdb\u884c\u8bad\u7ec3\u7684\u795e\u7ecf\u7f51\u7edc\u3002</p> <p>\u4ee4 $$ \\theta_{n+1} = \\theta_{n} - \\eta \\frac{\\partial\\cal{L}(M_{\\theta_n}\uff0c{X_i} \\subset E)}{\\partial \\theta_n} $$ \u5219\u5bf9\u4e8e\u5927\u591a\u6570\\cal{L}\u548cM_{\\theta}\uff0c\u6211\u4eec\u6709 $$ \\lim_{\\eta \\rightarrow 0\uff0cn \\rightarrow \\infty}\\theta_n = \\theta^* $$</p> <p>\u8fd9\u4e2a\u7b97\u6cd5\u7684\u8bc1\u660e\u8bbe\u8ba1\u5230\u4e00\u4e9b\u7edf\u8ba1\u77e5\u8bc6\uff0c\u5728\u6b64\u6682\u4e14\u4e0d\u8bc1\u660e\u3002(\u5982\u6709\u5174\u8da3\uff0c\u53ef\u4ee5\u8003\u8651: 1.\u68af\u5ea6\u5728\u6837\u672c\u5206\u5e03\u4e0b\u7684\u65e0\u504f\u4f30\u8ba1\u662f\u4ec0\u4e48? 2.\u8003\u8651\u4f7f\u7528\u90e8\u5206\u6837\u672c\u8fdb\u884c\u68af\u5ea6\u8ba1\u7b97\u65f6\u5f15\u5165\u7684\u566a\u58f0\\epsilon\u3002\u8fd9\u5bf9\u4e8e\u5904\u4e8e\u5c40\u90e8\u6781\u5c0f\u503c\u7684\u53c2\u6570\u7684\u68af\u5ea6\u8ba1\u7b97\u6709\u4ec0\u4e48\u5f71\u54cd?)</p> <p>\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5\u4f7f\u5f97\u795e\u7ecf\u7f51\u7edc\u80fd\u591f\u901a\u8fc7\u6bcf\u6b21\u9009\u53d6\u90e8\u5206\u6570\u636e\u8ba1\u7b97\u68af\u5ea6\uff0c\u5373\u53ef\u6839\u636e\u5b66\u4e60\u7387\\eta \u66f4\u65b0\u7f51\u7edc\u53c2\u6570</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_20","title":"\u68af\u5ea6\u7684\u8ba1\u7b97\u65b9\u6cd5","text":"<p>\u7406\u8bba\u4e0a\uff0c\u7ed9\u5b9a\u4efb\u4f55\u786e\u5b9a\u7684\u7f51\u7edc\u7ed3\u6784\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5199\u51fa\u68af\u5ea6\u7684\u89e3\u6790\u8868\u8fbe\u3002\u7136\u800c\u5f53\u7f51\u7edc\u89c4\u6a21\u589e\u5927\u65f6\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u5b9e\u73b0\u7684\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5bfb\u627e\u6570\u503c\u65b9\u6cd5\u8ba1\u7b97\u53c2\u6570\u7684\u68af\u5ea6\u3002</p> <p>1.\u6570\u503c\u5fae\u5206\u6cd5</p>  \\hat{\\theta}_{n+1,i} = \\hat{\\theta}_{n,i} - \\eta\\frac{\\cal{L}(M_{\\hat{\\theta}_{n,i} + \\epsilon}\uff0c{X_i}) - \\cal{L}(M_{\\hat{\\theta}_{n,i} - \\epsilon}\uff0c{X_i})}{2\\epsilon}  <p>\u8be5\u65b9\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\cal{O}(N) \\times \\cal{O}(forward)\uff0cN\u662f\u53c2\u6570\u89c4\u6a21\u3002\u901a\u5e38\u6765\u8bf4\uff0c\\cal{O}(forward) \u4e0e\u53c2\u6570\u91cf\u6210\u8fd1\u4f3c\u7ebf\u6027\u5173\u7cfb\uff0c\u56e0\u6b64\u603b\u7684\u590d\u6742\u5ea6\u4e3a\\cal{O}(N^2)\u3002\u8fd9\u4e2a\u590d\u6742\u5ea6\u5728\u53c2\u6570\u91cf\u5f88\u5927(\u73b0\u4ee3\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u7684\u53c2\u6570\u91cf\u901a\u5e38\u5728\u5343\u4e07\u5230\u767e\u4ebf\u7ea7\u522b)\u65f6\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u3002</p> <p>\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u5728\u8fdb\u884c\u7f51\u7edc\u4e2d\u9760\u8fd1\u8f93\u51fa\u90e8\u5206\u7684\u53c2\u6570\u7684\u68af\u5ea6\u8ba1\u7b97\u65f6\uff0c\u4e24\u6b21\u6b63\u5411\u4f20\u64ad\u4e2d\u6709\u5927\u91cf\u7684\u91cd\u590d\u8ba1\u7b97\u3002\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u5bfb\u627e\u4e00\u79cd\u80fd\u591f\u590d\u7528\u8ba1\u7b97\u7ed3\u679c\u7684\u65b9\u6cd5\u6765\u964d\u4f4e\u91cd\u590d\u8ba1\u7b97\u7684\u5f00\u9500\u3002</p> <p>2.\u53cd\u5411\u4f20\u64ad \u53cd\u5411\u4f20\u64ad\u6cd5\u662f\u73b0\u6709\u7684\u795e\u7ecf\u7f51\u7edc\u8ba1\u7b97\u68af\u5ea6\u7684\u6700\u4f18\u65b9\u6cd5\u3002\u73b0\u4ee3\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u6846\u67b6\u5168\u90e8\u4f7f\u7528\u53cd\u5411\u4f20\u64ad\u8fdb\u884c\u68af\u5ea6\u8ba1\u7b97\u3002</p> <ul> <li>\u94fe\u5f0f\u6cd5\u5219 \u56de\u987e\u5fae\u79ef\u5206\u4e2d\u7684\u94fe\u5f0f\u6cd5\u5219\u3002 <p>\u4ee4 $$ f: \\mathbb{R}^a \\rightarrow \\mathbb{R}^b \uff0cg: \\mathbb{R}^b \\rightarrow \\mathbb{R}^c \uff0cc \\in \\mathbb{R}^a $$ \uff0c\u5219\u6709</p>  \\frac{\\partial g^i \\circ \\vec{f}}{\\partial x^j} = \\sum_{t = 1}^{b} \\frac{\\partial g^i(f^1\uff0c...\uff0cf^b)}{\\partial f^t} \\times \\frac{\\partial f^t}{\\partial x^j}  </li> </ul> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4efb\u4f55\u5b8c\u5168\u7531\u590d\u5408\u51fd\u6570\u6784\u6210\u7684\u51fd\u6570\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5c06\u5176\u5206\u4e3a\u4e24\u90e8\u5206\u8fdb\u884c\u8ba1\u7b97\uff0c\u8fd9\u4e24\u90e8\u5206\u90fd\u4ec5\u4e0e\u6784\u6210\u590d\u5408\u51fd\u6570\u7684\u90e8\u5206\u81ea\u8eab\u76f8\u5173\u3002\u56de\u987e\u795e\u7ecf\u7f51\u7edc\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u53d1\u73b0\u795e\u7ecf\u7f51\u7edc\u786e\u5b9e\u7531\u8fd9\u6837\u53ef\u5bfc\u7684\u7b80\u5355\u90e8\u5206\u76f8\u4e92\u8fde\u63a5(\u5373\u590d\u5408)\u6784\u6210\u7684\u3002\u8fd9\u8868\u660e\u6211\u4eec\u5bf9\u4e8e\u795e\u7ecf\u7f51\u7edc\u7684\u4efb\u610f\u5206\u5272\uff0c\u90fd\u53ef\u4ee5\u5206\u522b\u8ba1\u7b97\u5b83\u4eec\u5404\u81ea\u7684\u53c2\u6570\u7684\u68af\u5ea6\uff0c\u518d\u5c06\u5176\u6309\u7167\u7f51\u7edc\u7ed3\u6784\u7684\u8fde\u63a5\u5173\u7cfb\u8fdb\u884c\u7ec4\u5408\u5f97\u5230\u6574\u4e2a\u7f51\u7edc\u7684\u53c2\u6570\u7684\u68af\u5ea6\u3002</p> <ul> <li>\u8ba1\u7b97\u56fe \u8ba1\u7b97\u56fe\u662f\u4e00\u79cd\u6709\u5411\u65e0\u73af\u56fe\uff0c\u5176\u4e2d\u8282\u70b9\u8868\u793a\u8ba1\u7b97\u64cd\u4f5c\uff0c\u8fb9\u8868\u793a\u6570\u636e\u6d41\u3002\u8ba1\u7b97\u56fe\u63d0\u4f9b\u4e86\u4e00\u79cd\u6e05\u6670\u7684\u65b9\u5f0f\u6765\u8868\u793a\u590d\u6742\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u5e76\u5141\u8bb8\u65b9\u4fbf\u7684\u4f7f\u7528\u4f7f\u7528\u94fe\u5f0f\u6cd5\u5219\u6765\u8ba1\u7b97\u68af\u5ea6</li> </ul> <p>\u8ba1\u7b97\u56fe\u7531\u4e24\u90e8\u5206\u7ec4\u6210: \u8282\u70b9\u4e0a\u7684\u8fd0\u7b97(\u901a\u5e38\u7528\u5708\u8868\u793a)\uff0c\u4ee5\u53ca\u590d\u5408\u5173\u7cfb(\u901a\u5e38\u7528\u7bad\u5934\u8868\u793a)\u3002\u4e00\u4e2a\u795e\u7ecf\u7f51\u7edc\u552f\u4e00\u5bf9\u5e94\u4e86\u4e00\u4e2a\u8ba1\u7b97\u56fe\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u5178\u578b\u7684\u8ba1\u7b97\u56fe: </p> <p>\u8ba1\u7b97\u56fe\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\u5b9e\u73b0\u4e86\u5c40\u90e8\u8ba1\u7b97: \u5bf9\u4e8e\u6bcf\u4e2a\u8282\u70b9\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u5b58\u6b63\u5411\u8fc7\u7a0b\u7684\u8f93\u5165\uff0c\u5e76\u4e14\u83b7\u5f97\u4e0b\u4e00\u7ea7\u8282\u70b9\u7684\u68af\u5ea6\uff0c\u5c31\u53ef\u4ee5\u51fd\u6570\u5173\u4e8e\u672c\u8282\u70b9\u7684\u68af\u5ea6\u3002</p> <ul> <li>\u53cd\u5411\u4f20\u64ad\u7b97\u6cd5</li> </ul> <p>\u53cd\u5411\u4f20\u64ad\u7b97\u6cd5\u4f7f\u7528\u8ba1\u7b97\u56fe\u6765\u7ec4\u7ec7\u548c\u7ba1\u7406\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u4ece\u800c\u6709\u6548\u7684\u8ba1\u7b97\u68af\u5ea6\u3002\u53cd\u5411\u4f20\u64ad\u901a\u8fc7\u4ece\u8ba1\u7b97\u56fe\u7684\u8f93\u51fa\u8282\u70b9\u5f00\u59cb\u8ba1\u7b97\u51fa\u8bef\u5dee\u7684\u68af\u5ea6\uff0c\u5e76\u6cbf\u7740\u8ba1\u7b97\u56fe\u5c06\u5176\u9010\u5c42\u4f20\u9012\u5230\u8f93\u5165\u8282\u70b9\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u68af\u5ea6\u7684\u53cd\u5411\u4f20\u64ad\u3002\u901a\u8fc7\u4e00\u6b21\u4ece\u8f93\u51fa\u5230\u8f93\u5165\u7684\u5b8c\u6574\u53cd\u5411\u4f20\u64ad\u8fc7\u7a0b\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u83b7\u5f97\u6240\u6709\u53c2\u6570\u5173\u4e8e\u635f\u5931\u51fd\u6570\u7684\u68af\u5ea6\u3002</p> <ul> <li>\u5c40\u90e8\u8ba1\u7b97\u4e0e\u5b9e\u73b0\u7684\u7b80\u4fbf\u6027</li> </ul> <p>\u5c40\u90e8\u8ba1\u7b97\u9664\u4e86\u901a\u8fc7\u4fe1\u606f\u7684\u590d\u7528\u663e\u8457\u964d\u4f4e\u4e86\u68af\u5ea6\u6c42\u89e3\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4ee5\u5916\uff0c\u4e5f\u65b9\u4fbf\u4e86\u4f7f\u7528\u73b0\u4ee3\u7f16\u7a0b\u8bed\u8a00\u5b9e\u73b0\u795e\u7ecf\u7f51\u7edc\u3002\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u7684\u5c06\u6bcf\u4e2a\u8ba1\u7b97\u8282\u70b9\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u76f8\u4e92\u4e0d\u8026\u5408\u7684\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u7684\u4f20\u9012\u5b8c\u6210\u4e00\u4e2a\u5b8c\u6574\u795e\u7ecf\u7f51\u7edc\u7684\u529f\u80fd\u3002\u4e0b\u9762\u7ed9\u51fa\u4e0a\u65b9\u8ba1\u7b97\u56fe\u7684\u5b9e\u73b0\uff0c\u4ee5\u53ca\u5176\u5bf9\u5e94\u7684\u795e\u7ecf\u7f51\u7edc\u5728\u67d0\u4e2a\u8bad\u7ec3\u96c6\u4e0a\u7684\u8bad\u7ec3\u8fc7\u7a0b\u3002\u6211\u4eec\u5047\u8bbe\u8fd9\u4e2a\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u662fa\uff0c\u8f93\u51fa\u4e3a\u4e58\u6cd5\u8282\u70b9\u7684\u8f93\u51fa\uff0c\u5373ab\u3002\u8be5\u795e\u7ecf\u7f51\u7edc\u53ea\u542b\u6709\u4e00\u4e2a\u53c2\u6570b\u3002\u6211\u4eec\u9009\u7528\u7684\u635f\u5931\u51fd\u6570\u4e3a\\cal{L}(out, label) = 3(label+out)\u3002\uff08\u8bf7\u81ea\u884c\u9a8c\u8bc1\u8be5\u795e\u7ecf\u7f51\u7edc\u7684\u8ba1\u7b97\u8fc7\u7a0b\u7b26\u5408\u4e0a\u65b9\u8ba1\u7b97\u56fe\uff09\u3002\u6211\u4eec\u7ed9\u51fa\u4ee5\u4e0b\u5b9e\u73b0\uff1a <pre><code>class MulNode:  \n    def __init__(self):\n        self.x = None\n        self.y = None\n\n    def forward(self, x, y):\n        self.x = x\n        self.y = y\n        return x * y\n\n    def backward(self, d_next):\n        return self.y, self.x\n\nclass AddNode:\n    def forward(self, x, y):\n        return x + y\n\n    def backward(self, d_next):\n        return d_next, d_next\n\nclass MyNetwork:\n    def __init__(self):\n        self.node1 = MulNode()\n        self.node2 = AddNode()\n        self.node3 = MulNode()\n\n    def forward(self, a, b, c):\n        h1 = self.node1.forward(b, c)\n        h2 = self.node2.forward(a, h1)\n        return self.node3.forward(3, h2)\n\n    def backward(self, d_out):\n        _, d_h2 = self.node3.backward(d_out)\n        d_a, d_h1 = self.node2.backward(d_h2)\n        d_b, d_c = self.node1.backward(d_h1)\n        return d_a, d_b, d_c\n\nmodel = MyNetwork()\nlr = 1e-1\nparameter = 0\nfor data, label in dataset:\n    loss = model.forward(label, parameter, data)\n    _, d_parameter, _ = model.backward(1)\n    parameter -= lr * d_parameter\n    print(parameter, loss)\n</code></pre></p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_21","title":"\u795e\u7ecf\u7f51\u7edc\u7684\u6cdb\u5316\u6027\u95ee\u9898","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_22","title":"\u51b3\u5b9a\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u6548\u679c\u7684\u8bc4\u4ef7\u6307\u6807","text":""},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_23","title":"\u673a\u5668\u5b66\u4e60\u6a21\u578b\u7684\u6cdb\u5316\u95ee\u9898","text":"<p>\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u5047\u8bbe\u635f\u5931\u51fd\u6570\u80fd\u591f\u5b8c\u5168\u53cd\u6620\u6a21\u578b\u6027\u80fd\u6765\u5bf9\u6a21\u578b\u8fdb\u884c\u6539\u8fdb\u3002\u7136\u800c\u5728\u5b9e\u9645\u60c5\u51b5\u4e2d\u5e76\u4e0d\u5982\u6b64\u3002\u9996\u5148\uff0c\u635f\u5931\u51fd\u6570\u5e76\u4e0d\u4e00\u5b9a\u80fd\u5b8c\u5168\u53cd\u6620\u6a21\u578b\u6027\u80fd\uff0c\u4f8b\u5982\u5728\u751f\u6210\u6a21\u578b\u4e2d\u5f88\u96be\u627e\u5230\u4e00\u4e2a\u5408\u9002\u7684\u5b8c\u5168\u53cd\u6620\u751f\u6210\u8d28\u91cf\u7684\u635f\u5931\u51fd\u6570\u3002\u5176\u6b21\uff0c\u5728\u795e\u7ecf\u7f51\u7edc\u5b66\u4e60\u4efb\u52a1\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u6700\u5c0f\u5316\u8bad\u7ec3\u96c6\u4e0a\u7684\u8bef\u5dee\uff08\u901a\u5e38\u88ab\u79f0\u4e3a\u8bad\u7ec3\u8bef\u5dee\uff09\u6765\u8bad\u7ec3\u6a21\u578b\u3002\u800c\u673a\u5668\u5b66\u4e60\u95ee\u9898\u548c\u4f18\u5316\u95ee\u9898\u7684\u4e0d\u540c\u5728\u4e8e\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u6cdb\u5316\u8bef\u5dee\uff08\u4e5f\u88ab\u79f0\u4e3a\u6d4b\u8bd5\u8bef\u5dee\uff09\u5f88\u4f4e\u3002</p> <p>\u6cdb\u5316\u80fd\u529b\u662f\u6307\u6a21\u578b\u5728\u65b0\u6570\u636e\u4e0a\u7684\u8868\u73b0\u80fd\u529b\uff0c\u5373\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u4e4b\u5916\u7684\u6570\u636e\u4e0a\u4ecd\u80fd\u4fdd\u6301\u826f\u597d\u6027\u80fd\u7684\u80fd\u529b\u3002\u4e00\u4e2a\u7406\u60f3\u7684\u673a\u5668\u5b66\u4e60\u6a21\u578b\u4e0d\u4ec5\u5728\u8bad\u7ec3\u96c6\u4e0a\u8868\u73b0\u4f18\u5f02\uff0c\u8fd8\u80fd\u5728\u6d4b\u8bd5\u96c6\u4e0a\u53d6\u5f97\u4f4e\u8bef\u5dee\u3002\u901a\u8fc7\u524d\u9762\u7684\u7edf\u8ba1\u5b66\u4e60\u7684\u6570\u636e\u751f\u6210\u8fc7\u7a0b\u5047\u8bbe\u4e2d\u7684\u72ec\u7acb\u540c\u5206\u5e03\u5047\u8bbe\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\u8bad\u7ec3\u8bef\u5dee\u7684\u671f\u671b\u548c\u6d4b\u8bd5\u8bef\u5dee\u7684\u671f\u671b\u5728\u7406\u8bba\u4e0a\u662f\u76f8\u540c\u7684\u3002\u7136\u800c\u7531\u4e8e\u8868\u793a\u80fd\u529b\u7684\u4e0d\u540c\uff0c\u5728\u8bad\u7ec3\u96c6\u4e0a\u7684\u8868\u73b0\u5e76\u4e0d\u4e00\u5b9a\u4e0e\u6d4b\u8bd5\u96c6\u4e0a\u76f8\u540c\u3002\u6a21\u578b\u7684\u6cdb\u5316\u80fd\u529b\u9762\u4e34\u4e24\u4e2a\u4e3b\u8981\u6311\u6218\uff1a\u6b20\u62df\u5408\u548c\u8fc7\u62df\u5408\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_24","title":"\u6b20\u62df\u5408\u548c\u8fc7\u62df\u5408","text":"<p>\u6b20\u62df\u5408\uff08Underfitting\uff09\u662f\u6307\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u4e0a\u7684\u8868\u73b0\u4e0d\u4f73\uff0c\u5373\u6a21\u578b\u65e0\u6cd5\u6355\u6349\u5230\u8bad\u7ec3\u6570\u636e\u4e2d\u7684\u4e3b\u8981\u6a21\u5f0f\u6216\u7ed3\u6784\u3002\u8fd9\u901a\u5e38\u662f\u7531\u4e8e\u6a21\u578b\u8fc7\u4e8e\u7b80\u5355\uff0c\u65e0\u6cd5\u6709\u6548\u5b66\u4e60\u6570\u636e\u4e2d\u7684\u590d\u6742\u5173\u7cfb\u6240\u81f4\u3002\u4f8b\u5982\uff0c\u7ebf\u6027\u6a21\u578b\u5728\u5904\u7406\u975e\u7ebf\u6027\u6570\u636e\u65f6\u5f80\u5f80\u4f1a\u6b20\u62df\u5408\u3002\u6b20\u62df\u5408\u7684\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u90fd\u4f1a\u6709\u8f83\u9ad8\u7684\u8bef\u5dee\u3002</p> <p>\u8fc7\u62df\u5408\uff08Overfitting\uff09\u662f\u6307\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u4e0a\u8868\u73b0\u4f18\u5f02\uff0c\u4f46\u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0\u8f83\u5dee\u3002\u8fc7\u62df\u5408\u7684\u6a21\u578b\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u8fc7\u4e8e\u201c\u8bb0\u4f4f\u201d\u8bad\u7ec3\u6570\u636e\u4e2d\u7684\u566a\u58f0\u548c\u7ec6\u8282\uff0c\u800c\u5ffd\u7565\u4e86\u6570\u636e\u7684\u6574\u4f53\u7ed3\u6784\u3002\u8fd9\u5bfc\u81f4\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u4e0a\u53d6\u5f97\u6781\u4f4e\u7684\u8bef\u5dee\uff0c\u4f46\u5728\u65b0\u6570\u636e\u4e0a\u8bef\u5dee\u5f88\u9ad8\u3002\u8fc7\u62df\u5408\u901a\u5e38\u53d1\u751f\u5728\u6a21\u578b\u8fc7\u4e8e\u590d\u6742\u6216\u8bad\u7ec3\u6570\u636e\u4e0d\u8db3\u7684\u60c5\u51b5\u4e0b\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_25","title":"\u7f51\u7edc\u7ed3\u6784\u4e0e\u5047\u8bbe\u7a7a\u95f4","text":"<p>\u9996\u5148\u6211\u4eec\u9700\u8981\u660e\u786e\u795e\u7ecf\u7f51\u7edc\u7684\u7ed3\u6784\u5f71\u54cd\u4e86\u54ea\u4e9b\u56e0\u7d20\u3002\u8003\u8651\u8f93\u5165n\u7ef4\uff0c\u8f93\u51fam\u7ef4\u7684\u795e\u7ecf\u7f51\u7edc\u3002\u4ece\u795e\u7ecf\u7f51\u7edc\u7684\u6570\u5b66\u63cf\u8ff0\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5bf9\u4e8e\u4efb\u610f\u7ed3\u6784\uff0c\u4efb\u610f\u7ed9\u5b9a\u53c2\u6570\u7684\u795e\u7ecf\u7f51\u7edc\uff0c\u5176\u90fd\u662f\u4ece\\mathbb{R}^n\u5230\\mathbb{R}^m\u7684\u51fd\u6570\u7a7a\u95f4\u7684\u5143\u7d20\u3002\u4e8e\u662f\uff0c\u5bf9\u4e8e\u62e5\u6709k\u4e2a\u53ef\u53d8\u53c2\u6570\u7684\u795e\u7ecf\u7f51\u7edc\uff0c\u5176\u80fd\u8868\u8fbe\u7684\u51fd\u6570\u4e3a\\{F_\\theta|\\theta \\in \\mathbb{R}^k\\}\u3002\u8fd9\u662f\u4e0a\u8ff0\u51fd\u6570\u7a7a\u95f4\u7684\u4e00\u4e2a\u5b50\u96c6\u3002\u6211\u4eec\u53d1\u73b0\uff0c\u4e0d\u540c\u7ed3\u6784\u7684\u795e\u7ecf\u7f51\u7edc\u5b9e\u9645\u4e0a\u662f\u4e0a\u8ff0\u51fd\u6570\u7a7a\u95f4\u7684\u4e0d\u540c\u5b50\u96c6\u3002\u8be5\u7a7a\u95f4\u79f0\u4e3a\u795e\u7ecf\u7f51\u7edc\u7684\u5047\u8bbe\u7a7a\u95f4\u3002</p> <p>\u901a\u8fc7\u8c03\u6574\u795e\u7ecf\u7f51\u7edc\u7684\u7ed3\u6784\uff0c\u6211\u4eec\u53ef\u4ee5\u8c03\u6574\u795e\u7ecf\u7f51\u7edc\u7684\u5047\u8bbe\u7a7a\u95f4\uff0c\u8fdb\u800c\u8c03\u6574\u5176\u8868\u8fbe\u80fd\u529b\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#mlp_1","title":"MLP\u7684\u8868\u793a\u80fd\u529b\u4e0e\u5965\u5361\u59c6\u5243\u5200\u539f\u5219","text":"<p>\u4e3a\u4e86\u7406\u89e3\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1\u7684\u76ee\u7684\uff0c\u6211\u4eec\u9996\u5148\u5f15\u5165\u8868\u8ff0MLP\u8868\u8fbe\u80fd\u529b\u7684\u4e00\u4e2a\u5b9a\u7406\uff1a</p>  \\forall f \\in L(\\mathbb{R}^n), \\forall \\epsilon&gt;0, \\exists F_\\theta \\in MLP, \\forall x \\in \\mathbb{R}^n , s.t. |F_\\theta (x)-f(x)|&lt;\\epsilon  <p>\u8fd9\u8868\u660e\u53c2\u6570\u91cf\u8db3\u591f\u5927\u7684MLP\u53ef\u4ee5\u4ee5\u4efb\u610f\u7cbe\u5ea6\u903c\u8fd1\u4efb\u4f55\u53ef\u6d4b\u51fd\u6570\u3002\u8fd9\u662f\u5426\u610f\u5473\u7740\u6211\u4eec\u5bf9\u4e8e\u4efb\u4f55\u5b66\u4e60\u4efb\u52a1\u90fd\u53ef\u4ee5\u76f4\u63a5\u9009\u53d6\u4e00\u4e2a\u8db3\u591f\u5927\u7684MLP\u5728\u8bad\u7ec3\u96c6\u4e0a\u8fdb\u884c\u8bad\u7ec3\u5462\uff1f\u7b54\u6848\u663e\u7136\u662f\u5426\u5b9a\u7684\u3002\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u662f\u8fd9\u6837\u7684\uff0c\u6a21\u578b\u53ea\u9700\u8981\u8868\u8fbe\u80fd\u529b\u8db3\u591f\u5f3a\u5c31\u53ef\u4ee5\u4e86\uff0c\u800c\u6211\u4eec\u8ba9\u6a21\u578b\u8fdb\u884c\u5b66\u4e60\u9700\u8981\u8003\u8651\u7684\u5c31\u5f88\u591a\u4e86\uff0c\u68af\u5ea6\u4e0b\u964d\u80fd\u4e0d\u80fd\u627e\u5230\u6700\u4f18\u89e3\uff0c\u5728\u8bad\u7ec3\u96c6\u4e0a\u8bad\u7ec3\u540e\u662f\u5426\u4f1a\u8fc7\u62df\u5408\uff0c\u90fd\u9700\u8981\u6df1\u601d\u719f\u8651\u3002\u4f8b\u5982\uff0c\u4e25\u683c\u6765\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u80fd\u591f\u5b8c\u5168\u62df\u5408\u8bad\u7ec3\u96c6\u5206\u5e03\uff0c\u90a3\u4e48\u6211\u4eec\u4f1a\u5f97\u5230\u4e00\u4e2a\u591a\u70b9\u79bb\u6563\u5206\u5e03\u3002\u8fd9\u662f\u79bb\u6563\u5316\u91c7\u6837\u5e26\u6765\u7684\u5fc5\u7136\u7ed3\u679c\u3002\u4f46\u8fd9\u4e2a\u4f30\u8ba1\u663e\u7136\u662f\u4e0d\u5408\u7406\u7684\uff0c\u4f8b\u5982\u6211\u4eec\u5982\u679c\u5728\u56fe\u50cf\u751f\u6210\u4efb\u52a1\u4e0a\u5b8c\u5168\u62df\u5408\u8bad\u7ec3\u96c6\uff0c\u90a3\u4e48\u4f7f\u7528\u8bad\u7ec3\u540e\u7684\u6a21\u578b\u751f\u6210\u56fe\u7247\u5c31\u53d8\u6210\u4e86\u4ece\u8bad\u7ec3\u96c6\u4e2d\u968f\u673a\u6311\u9009\u4e00\u5f20\u56fe\u7247\u3002\u57fa\u4e8e\u8fd9\u4e00\u70b9\u518d\u6b21\u5f3a\u8c03\uff0c\u673a\u5668\u5b66\u4e60\u95ee\u9898\u548c\u4f18\u5316\u95ee\u9898\u7684\u6839\u672c\u533a\u522b\u5728\u4e8e\uff0c\u9664\u4e86\u5e0c\u671b\u8bad\u7ec3\u8bef\u5dee\u5f88\u4f4e\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u6cdb\u5316\u8bef\u5dee\u5f88\u4f4e\u3002</p> <p>\u7136\u800c\u4ece\u7406\u8bba\u4e0a\u6765\u8bf4\uff0c\u4ec5\u901a\u8fc7\u79bb\u6563\u5316\u91c7\u6837\uff0c\u6211\u4eec\u6c38\u8fdc\u65e0\u6cd5\u5b8c\u6574\u5f97\u77e5\u771f\u5b9e\u5206\u5e03\u3002\u6211\u4eec\u9700\u8981\u4ece\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u53ef\u80fd\u7684\u5206\u5e03\u4e2d\u9009\u53d6\u4e00\u4e2a\u3002\u5965\u5361\u59c6\u5243\u5200\u539f\u5219\uff08Occam\u2019s Razor\uff09\u5728\u903b\u8f91\u5b66\u4e2d\u662f\u4e00\u6761\u91cd\u8981\u7684\u6307\u5bfc\u539f\u5219\u3002\u8be5\u539f\u5219\u9648\u8ff0\u4e3a\u5982\u679c\u5173\u4e8e\u540c\u4e00\u4e2a\u95ee\u9898\u6709\u8bb8\u591a\u79cd\u7406\u8bba\uff0c\u6bcf\u4e00\u79cd\u90fd\u80fd\u4f5c\u51fa\u540c\u6837\u51c6\u786e\u7684\u9884\u8a00\uff0c\u90a3\u4e48\u5e94\u8be5\u6311\u9009\u5176\u4e2d\u6700\u7b80\u5355\u7684\u3002\u5c3d\u7ba1\u8d8a\u590d\u6742\u7684\u65b9\u6cd5\u901a\u5e38\u80fd\u505a\u51fa\u8d8a\u597d\u7684\u9884\u8a00\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u5f15\u5165\u5916\u90e8\u56e0\u7d20\u66f4\u5c11\u7684\u65b9\u6cd5\u3002\u4f8b\u5982\u7ed9\u5b9a\u6570\u636e\u96c6{(0,0), (1,1), (2,2)}\uff0c\u6211\u4eec\u6700\u597d\u4f7f\u7528y=a x\u4f5c\u4e3a\u6a21\u578b\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u62df\u5408\uff0c\u800c\u975ey = \\sum_{k=1}^{\\infty} a_k x^k.</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_26","title":"\u95ee\u9898\u7ed3\u6784\u4e0e\u7f51\u7edc\u7ed3\u6784","text":"<p>\u6839\u636e\u5965\u5361\u59c6\u5243\u5200\u539f\u5219\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u5f97\u6a21\u578b\u7684\u5047\u8bbe\u7a7a\u95f4\u5728\u5305\u542b\u7b26\u5408\u5148\u9a8c\u4fe1\u606f\u7684\u6240\u6709\u53ef\u80fd\u5047\u8bbe\u7684\u60c5\u51b5\u4e0b\u5c3d\u53ef\u80fd\u5c0f\u3002\u8fd9\u8868\u660e\u6211\u4eec\u9700\u8981\u5bf9\u795e\u7ecf\u7f51\u7edc\u7684\u7ed3\u6784\u8fdb\u884c\u5408\u7406\u7684\u8bbe\u8ba1\uff0c\u6392\u9664\u6389\u4e0d\u7b26\u5408\u5148\u9a8c\u4fe1\u606f\u7684\u5047\u8bbe\uff0c\u8fdb\u800c\u63d0\u9ad8\u795e\u7ecf\u7f51\u7edc\u7684\u6cdb\u5316\u80fd\u529b\u3002\u5982\u679c\u4f60\u5bf9\u795e\u7ecf\u7f51\u7edc\u7684\u7b80\u5316\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0\u3002</p> <p>\u7136\u800c\uff0c\u5148\u9a8c\u4fe1\u606f\u901a\u5e38\u5f88\u96be\u6709\u663e\u5f0f\u7684\u8868\u8fbe\uff0c\u5e76\u4e14\u5bf9\u4e8e\u5404\u7c7b\u4e0d\u540c\u4efb\u52a1\uff0c\u5148\u9a8c\u4fe1\u606f\u4e5f\u5927\u76f8\u5f84\u5ead\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u7684\u76f8\u5f53\u4e00\u90e8\u5206\u7814\u7a76\u90fd\u662f\u901a\u8fc7\u7814\u7a76\u751a\u81f3\u731c\u6d4b\u5148\u9a8c\u4fe1\u606f\u7684\u7ed3\u6784\uff0c\u8fdb\u800c\u8bbe\u8ba1\u51fa\u7b26\u5408\u7279\u5b9a\u95ee\u9898\u7684\u7f51\u7edc\u7ed3\u6784\uff0c\u6216\u8c03\u6574\u95ee\u9898\u7ed3\u6784\u4f7f\u5f97\u95ee\u9898\u7b26\u5408\u795e\u7ecf\u7f51\u7edc\u7684\u5047\u8bbe\u7a7a\u95f4\u3002\u795e\u7ecf\u7f51\u7edc\u7684\u7ed3\u6784\u8bbe\u8ba1\u4e00\u5b9a\u4f9d\u8d56\u4e8e\u5bf9\u4e8e\u7279\u5b9a\u95ee\u9898\u7ed3\u6784\u7684\u7814\u7a76\u3002</p> <p>\u6211\u4eec\u9700\u8981\u7262\u8bb0\uff0c\u673a\u5668\u5b66\u4e60\u7684\u7814\u7a76\u5e76\u975e\u4ec5\u4ec5\u5e0c\u671b\u627e\u5230\u67d0\u4e2a\u6a21\u578b\u4f7f\u5f97\u5176\u5177\u6709\u4f18\u826f\u7684\u6027\u8d28\u6216\u5f3a\u5927\u7684\u8868\u8fbe\u80fd\u529b\uff0c\u800c\u662f\u5728\u7279\u5b9a\u95ee\u9898\u4e0a\u4f18\u5316\u5b66\u4e60\u6a21\u578b\u4f7f\u5f97\u5176\u80fd\u591f\u5728\u8be5\u95ee\u9898\u4e2d\u8fbe\u5230\u66f4\u4f18\u826f\u7684\u8868\u73b0\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_27","title":"\u4e0d\u53d8\u6027\u4e0e\u7f51\u7edc\u7ed3\u6784\u7684\u8bbe\u8ba1","text":"<p>\u4e0d\u53d8\u6027\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u95ee\u9898\u7ed3\u6784\u3002\u901a\u8fc7\u4e0d\u53d8\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u89e3\u51b3\u5168\u5c40\u95ee\u9898\u7f29\u5c0f\u4e3a\u89e3\u51b3\u7ed3\u6784\u76f8\u4f3c\u7684\u5c40\u90e8\u95ee\u9898\uff0c\u518d\u901a\u8fc7\u5c40\u90e8\u95ee\u9898\u7684\u89e3\u5f97\u5230\u5168\u5c40\u95ee\u9898\u7684\u89e3\u3002\u4e0b\u9762\u9610\u8ff0\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u4e2d\u7684\u4e0d\u53d8\u6027\uff0c\u4ee5\u53ca\u5176\u5bf9\u5e94\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_28","title":"\u5e73\u79fb\u4e0d\u53d8\u6027\u4e0e\u5377\u79ef\u795e\u7ecf\u7f51\u7edc","text":"<p>\u5e73\u79fb\u4e0d\u53d8\u6027\u662f\u6307\u7cfb\u7edf\u5728\u53d7\u5230\u5e73\u79fb\u64cd\u4f5c\u65f6\uff0c\u5176\u6027\u8d28\u4fdd\u6301\u4e0d\u53d8\u3002\u8fd9\u79cd\u4e0d\u53d8\u6027\u5728\u56fe\u50cf\u5904\u7406\u3001\u8bed\u97f3\u8bc6\u522b\u7b49\u9886\u57df\u4e2d\u975e\u5e38\u5e38\u89c1\u3002\u4f8b\u5982\uff0c\u5f53\u6211\u4eec\u5904\u7406\u56fe\u50cf\u65f6\uff0c\u65e0\u8bba\u56fe\u50cf\u4e2d\u7684\u7269\u4f53\u5728\u4ec0\u4e48\u4f4d\u7f6e\uff0c\u6211\u4eec\u90fd\u5e0c\u671b\u6a21\u578b\u80fd\u591f\u8bc6\u522b\u51fa\u76f8\u540c\u7684\u7269\u4f53\u3002\u6216\u8005\uff0c\u5f53\u6211\u4eec\u5904\u7406\u8bed\u97f3\u65f6\uff0c\u65e0\u8bba\u67d0\u4e2a\u97f3\u8282\u51fa\u73b0\u5728\u97f3\u9891\u7684\u54ea\u4e00\u65f6\u523b\uff0c\u6211\u4eec\u90fd\u5e0c\u671b\u8bc6\u522b\u51fa\u76f8\u540c\u7684\u97f3\u8282\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u5e73\u79fb\u4e0d\u53d8\u6027\u95ee\u9898\uff0c\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff08Convolutional Neural Network, CNN\uff09 \u88ab\u5e7f\u6cdb\u5e94\u7528\u3002CNN\u901a\u8fc7\u4f7f\u7528\u4e00\u7ec4\u7279\u5b9a\u7684\u7684\u5377\u79ef\u6838\u5728\u8f93\u5165\u4e0a\u8fdb\u884c\u5377\u79ef\u64cd\u4f5c\uff0c\u4f7f\u5f97\u7f51\u7edc\u80fd\u591f\u63d0\u53d6\u5e73\u79fb\u4e0d\u53d8\u7684\u7279\u5f81\u3002</p> <p>\u5377\u79ef\u64cd\u4f5c\u662fCNN\u7684\u6838\u5fc3\uff0c\u901a\u8fc7\u5728\u8f93\u5165\u4e0a\u5e94\u7528\u5377\u79ef\u6838\u6765\u63d0\u53d6\u5c40\u90e8\u7279\u5f81\u3002\u6bcf\u4e2a\u5377\u79ef\u6838\u626b\u63cf\u6574\u4e2a\u8f93\u5165\uff0c\u751f\u6210\u4e00\u4e2a\u7279\u5f81\u5f20\u91cf\u3002\u8fd9\u4e9b\u7279\u5f81\u5f20\u91cf\u80fd\u591f\u6355\u6349\u4e0d\u540c\u5c42\u6b21\u7684\u7279\u5f81\uff0c\u5982\u8fb9\u7f18\u3001\u7eb9\u7406\u3001\u5f62\u72b6\u7b49\u3002\u5377\u79ef\u64cd\u4f5c\u53ef\u4ee5\u8868\u793a\u4e3a\u5982\u4e0b\u5f62\u5f0f\uff1a</p> <p>$$ h_(i \\dots j) = \\sum_m \\dots \\sum_n x_{i+m, \\dots, j+n} w_{m \\dots n}  $$\u5176\u4e2dh\u4e3a\u8f93\u51fa\u7684\u7279\u5f81\uff0cx\u662f\u8f93\u5165\uff0cw\u662f\u5377\u79ef\u6838\u3002</p> <p>\u4e00\u4e2a\u4e8c\u7ef4\u5377\u79ef\u7684\u8fc7\u7a0b\u53ef\u4ee5\u53ef\u89c6\u5316\u4e3a\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5377\u79ef\u6240\u5f97\u7ed3\u679c\u4e2d\uff0c\u6bcf\u4e2a\u7279\u5f81\u56fe\u50cf\u7d20\u70b9\u53d6\u503c\u4f9d\u8d56\u4e8e\u8f93\u5165\u56fe\u50cf\u4e2d\u7684\u67d0\u4e2a\u533a\u57df\uff0c\u8be5\u533a\u57df\u88ab\u79f0\u4e3a\u611f\u53d7\u91ce\u3002\u5728\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u4e2d\uff0c\u611f\u53d7\u91ce\u662f\u7279\u5f81\u56fe\u4e0a\u7684\u70b9\u5bf9\u5e94\u8f93\u5165\u56fe\u50cf\u4e0a\u7684\u533a\u57df\u3002\u611f\u53d7\u91ce\u5185\u6bcf\u4e2a\u5143\u7d20\u6570\u503c\u7684\u53d8\u52a8\uff0c\u90fd\u4f1a\u5f71\u54cd\u8f93\u51fa\u70b9\u7684\u6570\u503c\u53d8\u5316\u3002\u5f53\u589e\u52a0\u5377\u79ef\u7f51\u7edc\u6df1\u5ea6\u7684\u540c\u65f6\uff0c\u611f\u53d7\u91ce\u5c06\u4f1a\u589e\u5927\uff08\u8bf7\u81ea\u884c\u63a8\u5bfc\uff09\uff0c\u8f93\u51fa\u7279\u5f81\u56fe\u4e2d\u7684\u4e00\u4e2a\u50cf\u7d20\u70b9\u5c06\u4f1a\u5305\u542b\u66f4\u591a\u7684\u56fe\u50cf\u8bed\u4e49\u4fe1\u606f\u3002</p> <p>\u524d\u9762\u4ecb\u7ecd\u7684\u5377\u79ef\u8ba1\u7b97\u8fc7\u7a0b\u6bd4\u8f83\u7b80\u5355\uff0c\u5b9e\u9645\u5e94\u7528\u65f6\uff0c\u5904\u7406\u7684\u95ee\u9898\u8981\u590d\u6742\u7684\u591a\u3002\u4f8b\u5982\uff1a\u5bf9\u4e8e\u5f69\u8272\u56fe\u7247\u6709RGB\u4e09\u4e2a\u901a\u9053\uff0c\u9700\u8981\u5904\u7406\u591a\u8f93\u5165\u901a\u9053\u7684\u573a\u666f\uff0c\u76f8\u5e94\u7684\u8f93\u51fa\u7279\u5f81\u56fe\u5f80\u5f80\u4e5f\u4f1a\u5177\u6709\u591a\u4e2a\u901a\u9053\u3002\u800c\u4e14\u5728\u795e\u7ecf\u7f51\u7edc\u7684\u8ba1\u7b97\u4e2d\u5e38\u5e38\u662f\u628a\u4e00\u4e2a\u6279\u6b21\u7684\u6837\u672c\u653e\u5728\u4e00\u8d77\u8ba1\u7b97\uff0c\u6240\u4ee5\u5377\u79ef\u7b97\u5b50\u9700\u8981\u5177\u6709\u6279\u91cf\u5904\u7406\u591a\u8f93\u5165\u548c\u591a\u8f93\u51fa\u901a\u9053\u6570\u636e\u7684\u529f\u80fd\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c\u4e00\u7247\u201d\u8f93\u5165\u548c\u201c\u4e00\u7247\u201d\u5377\u79ef\u6838\u83b7\u5f97\u201c\u4e00\u7247\u201d\u7279\u5f81\u56fe\u3002\u663e\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8f93\u5165\u548c\u5377\u79ef\u6838\u7684\u6392\u5217\u7ec4\u5408\u8fbe\u5230\u591a\u901a\u9053\u8f93\u5165\u8f93\u51fa\u7684\u76ee\u7684\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#embedding","title":"\u7279\u5f81\u7a7a\u95f4\u4e0d\u53d8\u6027\u4e0e embedding","text":"<p>\u56de\u987e\u5148\u524d\u63d0\u5230\u7684\u4f4e\u7ef4\u6d41\u5f62\u5047\u8bbe\uff1a\u81ea\u7136\u7684\u539f\u59cb\u6570\u636e\u662f\u4f4e\u7ef4\u7684\u6d41\u5f62\u5d4c\u5165\u4e8e\u539f\u59cb\u6570\u636e\u6240\u5728\u7684\u9ad8\u7ef4\u7a7a\u95f4\u3002\u4e00\u4e2a\u663e\u7136\u7684\u95ee\u9898\u662f\uff0c\u6211\u4eec\u80fd\u5426\u4f7f\u7528\u4f4e\u7ef4\u63cf\u8ff0\u8868\u793a\u8fd9\u4e2a\u6d41\u5f62\uff1f\u8003\u8651\u53ef\u7ef4\u6d41\u5f62\u7684\u6027\u8d28\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5b66\u4e60\u4e00\u4e2a\u4ece\u9ad8\u7ef4\u6b27\u7a7a\u95f4\u5230\u4f4e\u7ef4\u6b27\u7a7a\u95f4\u7684\u53ef\u5fae\u6620\u5c04\u6765\u8868\u793a\u8be5\u6d41\u5f62\u3002\u6211\u4eec\u79f0\u8be5\u95ee\u9898\u4e3a\u5d4c\u5165\uff08embedding\uff09 \u95ee\u9898\u3002</p> <p>\u5d4c\u5165\u8fc7\u7a0b\u8981\u6c42\u4fdd\u6301\u7279\u5f81\u7a7a\u95f4\u7684\u4e0d\u53d8\u6027\uff0c\u5373\u5728\u4f4e\u7ef4\u7a7a\u95f4\u4e2d\u4fdd\u7559\u539f\u59cb\u6570\u636e\u7684\u7279\u5f81\u7ed3\u6784\u548c\u76f8\u4f3c\u6027\uff1a</p> <p>\u8bbe  f: \\cal{X} \\rightarrow \\mathbb{R}^d  \u662f\u4ece\u9ad8\u7ef4\u7a7a\u95f4\u5230\u4f4e\u7ef4\u7a7a\u95f4\u7684\u5d4c\u5165\u6620\u5c04\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4efb\u610f\u4e24\u4e2a\u6570\u636e\u70b9 x_i, x_j \\in \\cal{X} \uff0c\u5b83\u4eec\u5728\u4f4e\u7ef4\u7a7a\u95f4\u4e2d\u7684\u8ddd\u79bb\u6216\u76f8\u4f3c\u6027 |f(x_i) - f(x_j)| \u5e94\u8be5\u4e0e\u5b83\u4eec\u5728\u9ad8\u7ef4\u7a7a\u95f4\u4e2d\u7684\u8ddd\u79bb\u6216\u76f8\u4f3c\u6027|x_i - x_j|  \u4fdd\u6301\u4e00\u81f4\u6216\u8fd1\u4f3c\u4e00\u81f4\u3002</p> <p>\u7279\u5f81\u7a7a\u95f4\u4e2d\u7684\u70b9\u901a\u5e38\u5305\u542b\u8db3\u591f\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u751a\u81f3\u80fd\u591f\u4ec5\u901a\u8fc7\u7279\u5f81\u7a7a\u95f4\u8fd8\u539f\u539f\u59cb\u6570\u636e\u3002\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u7ecf\u8fc7\u964d\u7ef4\u5904\u7406\uff0c\u7279\u5f81\u7a7a\u95f4\u4e2d\u7684\u8868\u793a\u4ecd\u7136\u5e94\u4fdd\u7559\u539f\u59cb\u6570\u636e\u7684\u5173\u952e\u7279\u5f81\u548c\u6a21\u5f0f\u3002\u540c\u65f6\uff0c\u7279\u5f81\u7a7a\u95f4\u7684\u7ef4\u5ea6\u901a\u5e38\u8fdc\u5c0f\u4e8e\u539f\u59cb\u6570\u636e\u7a7a\u95f4\u7684\u7ef4\u5ea6\u3002\u901a\u8fc7\u964d\u4f4e\u7ef4\u5ea6\uff0c\u53bb\u9664\u6570\u636e\u4e2d\u7684\u5197\u4f59\u4fe1\u606f\uff0c\u63d0\u53d6\u51fa\u5bf9\u6570\u636e\u63cf\u8ff0\u6700\u91cd\u8981\u7684\u7279\u5f81\u3002\u8fd9\u79cd\u4f4e\u7ef4\u8868\u793a\u6709\u52a9\u4e8e\u51cf\u5c11\u8ba1\u7b97\u590d\u6742\u5ea6\u548c\u5b58\u50a8\u9700\u6c42\u3002</p> <p>\u81ea\u56de\u5f52\u7f16\u7801\u5668\uff08Autoencoder, AE\uff09 \u662f\u4e00\u79cd\u7528\u4e8e\u65e0\u76d1\u7763\u5b66\u4e60\u7684\u6570\u636e\u964d\u7ef4\u548c\u7279\u5f81\u63d0\u53d6\u7684\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u3002\u8fd9\u79cd\u7ed3\u6784\u7684\u8bbe\u8ba1\u5229\u7528\u4e86\u7279\u5f81\u7a7a\u95f4\u4e0d\u53d8\u6027\u3002</p> <p>\u81ea\u56de\u5f52\u7f16\u7801\u5668\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u751f\u6210\u6a21\u578b\u3002\u5b83\u7531\u4e24\u4e2a\u4e3b\u8981\u90e8\u5206\u7ec4\u6210\uff1a\u7f16\u7801\u5668\uff08Encoder\uff09\u548c\u89e3\u7801\u5668\uff08Decoder\uff09\u3002\u7f16\u7801\u5668\u5c06\u9ad8\u7ef4\u8f93\u5165\u6570\u636e\u6620\u5c04\u5230\u4f4e\u7ef4\u7279\u5f81\u7a7a\u95f4\uff0c\u800c\u89e3\u7801\u5668\u5219\u4ece\u4f4e\u7ef4\u7279\u5f81\u7a7a\u95f4\u4e2d\u91cd\u6784\u51fa\u539f\u59cb\u6570\u636e\u3002</p> <p>\u7f16\u7801\u5668\uff1az = f(x) \uff0c\u89e3\u7801\u5668\uff1a\\hat{x} = g(z)\uff0c\u5176\u4e2dx \\in \\cal{X}, z \\in \\mathbb{R}^d</p> <p>\u7279\u5f81\u7a7a\u95f4\u4e0d\u53d8\u6027\u8981\u6c42\u7f16\u7801\u5668\u5c06\u539f\u59cb\u6570\u636e\u6620\u5c04\u5230\u7279\u5f81\u7a7a\u95f4\u4e2d\u65f6\uff0c\u80fd\u591f\u4fdd\u7559\u6570\u636e\u7684\u5173\u952e\u7279\u5f81\u548c\u7ed3\u6784\u3002\u81ea\u56de\u5f52\u7f16\u7801\u5668\u901a\u8fc7\u4fdd\u8bc1\u80fd\u591f\u4ec5\u901a\u8fc7\u7279\u5f81\u7a7a\u95f4\u4e2d\u7684\u7f16\u7801\u5411\u91cf\u8fd8\u539f\u539f\u59cb\u6570\u636e\u6765\u4fdd\u8bc1\u7279\u5f81\u7a7a\u95f4\u4e0d\u53d8\u6027\u3002</p> <p>\u81ea\u56de\u5f52\u7f16\u7801\u5668\u901a\u8fc7\u6700\u5c0f\u5316\u91cd\u6784\u8bef\u5dee\u6765\u786e\u4fdd\u7279\u5f81\u7a7a\u95f4\u4e2d\u7684\u70b9\u80fd\u591f\u6709\u6548\u5730\u8868\u793a\u539f\u59cb\u6570\u636e\u3002\u91cd\u6784\u8bef\u5dee\u901a\u5e38\u901a\u8fc7\u5747\u65b9\u8bef\u5dee\u6765\u8861\u91cf\uff1a</p>  \\cal{L}(x, \\hat{x}) = |x - \\hat{x}|^2  <p>\u901a\u8fc7\u6700\u5c0f\u5316\u91cd\u6784\u8bef\u5dee\uff0c\u6211\u4eec\u80fd\u591f\u8ba9\u7f16\u7801\u5668\u5728\u5b66\u4e60\u5230\u4ece\u539f\u7a7a\u95f4\u5230\u4f4e\u7ef4\u6d41\u5f62\u7684\u6620\u5c04\u7684\u540c\u65f6\u4f7f\u89e3\u7801\u5668\u5b66\u4e60\u5230\u4ece\u4f4e\u7ef4\u6d41\u5f62\u5230\u539f\u7a7a\u95f4\u7684\u6620\u5c04\u3002\u7f16\u7801\u5668\u548c\u89e3\u7801\u5668\u901a\u5e38\u5177\u6709\u5bf9\u79f0\u7684\u7ed3\u6784\uff0c\u4ee5\u786e\u4fdd\u7279\u5f81\u7a7a\u95f4\u4e2d\u70b9\u7684\u8868\u793a\u548c\u539f\u59cb\u6570\u636e\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>\u201c\u5d4c\u5165\u201d\u5728\u73b0\u4ee3\u795e\u7ecf\u7f51\u7edc\u8bbe\u8ba1\u4e2d\u5177\u6709\u6781\u4e3a\u91cd\u8981\u7684\u5730\u4f4d\u3002\u5b9e\u9645\u4e0a\uff0c\u5d4c\u5165\u5c31\u662f\u6570\u636e\u5728\u7279\u5f81\u7a7a\u95f4\u4e2d\u7684\u8868\u793a\u3002\u8fd9\u4f7f\u5f97\u5d4c\u5165\u5177\u6709\u7ed3\u6784\u548c\u8868\u793a\u4e0a\u7684\u6781\u4e3a\u4f18\u826f\u7684\u6027\u8d28\u3002\u4f8b\u5982\uff0c\u8bcd\u5411\u91cf\u7684\u201c\u53ef\u52a0\u6027\u201d\u6b63\u662f\u6765\u6e90\u4e8e\u7279\u5f81\u7a7a\u95f4\u7684\u4e0d\u53d8\u6027\u3002\u5173\u4e8e\u8bcd\u5411\u91cf\u53ef\u52a0\u6027\u7684\u63cf\u8ff0\u53ef\u4ee5\u53c2\u8003\u8be5blog</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_29","title":"\u8f6c\u79fb\u6982\u7387\u4e0d\u53d8\u6027\u4e0e\u5faa\u73af\u795e\u7ecf\u7f51\u7edc","text":"<p>\u5e8f\u5217\u5904\u7406\u95ee\u9898\u5e7f\u6cdb\u5b58\u5728\u4e8e\u8bb8\u591a\u9886\u57df\uff0c\u5305\u62ec\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u65f6\u95f4\u5e8f\u5217\u9884\u6d4b\u3001\u8bed\u97f3\u8bc6\u522b\u7b49\u3002\u8fd9\u4e9b\u95ee\u9898\u901a\u5e38\u6d89\u53ca\u4ece\u8f93\u5165\u5e8f\u5217\u4e2d\u63d0\u53d6\u4fe1\u606f\uff08\u5e8f\u5217\u8bc6\u522b\uff09\u6216\u751f\u6210\u65b0\u7684\u5e8f\u5217\uff08\u5e8f\u5217\u751f\u6210\uff09\u3002\u5e8f\u5217\u4fe1\u606f\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u65f6\u95f4\u5e8f\u5217\u5904\u7406\u3001\u8bed\u97f3\u5904\u7406\u95ee\u9898\u662f\u975e\u5e38\u5e38\u89c1\u7684\u4fe1\u606f\u3002</p> <p>\u5728\u5e8f\u5217\u5904\u7406\u95ee\u9898\u4e2d\uff0c\u8f6c\u79fb\u6982\u7387\u4e0d\u53d8\u6027\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\u3002\u5b83\u6307\u7684\u662f\u5728\u5e8f\u5217\u7684\u4e0d\u540c\u65f6\u95f4\u6b65\u4e4b\u95f4\uff0c\u72b6\u6001\u8f6c\u79fb\u7684\u6982\u7387\u4fdd\u6301\u4e0d\u53d8\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6a21\u578b\u5728\u6bcf\u4e2a\u65f6\u95f4\u6b65\u7684\u72b6\u6001\u8f6c\u79fb\u89c4\u5219\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u65f6\u95f4\u6b65\u7684\u5177\u4f53\u4f4d\u7f6e\u3002\u8fd9\u4e00\u6027\u8d28\u786e\u4fdd\u4e86\u6a21\u578b\u80fd\u591f\u4e00\u81f4\u5730\u5904\u7406\u6574\u4e2a\u5e8f\u5217\u4e2d\u7684\u6570\u636e\uff0c\u65e0\u8bba\u5e8f\u5217\u7684\u957f\u5ea6\u6216\u4f4d\u7f6e\u5982\u4f55\u3002\u6211\u4eec\u53ef\u4ee5\u5f62\u5f0f\u5316\u5730\u8868\u8ff0\u8fd9\u4e00\u70b9\uff1a</p> <p>\u8bbeh_t \\in \\mathbb{R}^d\u8868\u793a\u65f6\u95f4\u6b65t\u7684\u9690\u85cf\u72b6\u6001(h\u662f\u7279\u5f81\u7a7a\u95f4\u4e2d\u7684\u5411\u91cf)\uff0cx_t\u8868\u793a\u65f6\u95f4\u6b65t\u7684\u8f93\u5165\u6570\u636e\uff0c\u90a3\u4e48\u9690\u85cf\u72b6\u6001\u7684\u66f4\u65b0\u89c4\u5219\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a $$ h_t = f(h_{t-1}, x_t, t) $$ \u5176\u4e2df\u662f\u72b6\u6001\u8f6c\u79fb\u51fd\u6570\u3002</p> <p>\u8fd9\u610f\u5473\u7740\uff0c\u5bf9\u4e8e\u6240\u6709\u7684t\uff0c\u72b6\u6001\u8f6c\u79fb\u51fd\u6570f\u7684\u5f62\u5f0f\u548c\u53c2\u6570\u90fd\u4e0d\u53d8\u3002</p> <p>\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08Recurrent Neural Network, RNN\uff09 \u662f\u4e00\u7c7b\u9002\u5408\u5904\u7406\u5e8f\u5217\u6570\u636e\u7684\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u3002RNN\u7684\u8bbe\u8ba1\u57fa\u4e8e\u7279\u5f81\u7a7a\u95f4\u4e0d\u53d8\u6027\u548c\u8f6c\u79fb\u6982\u7387\u4e0d\u53d8\u6027\uff0c\u80fd\u591f\u6709\u6548\u6355\u6349\u5e8f\u5217\u6570\u636e\u7684\u52a8\u6001\u7279\u5f81\u548c\u65f6\u95f4\u4f9d\u8d56\u6027\u3002</p> <p>RNN\u7531\u4e00\u7cfb\u5217\u9012\u5f52\u5355\u5143\u7ec4\u6210\uff0c\u6bcf\u4e2a\u5355\u5143\u5728\u6bcf\u4e2a\u65f6\u95f4\u6b65\u63a5\u6536\u5f53\u524d\u8f93\u5165\u548c\u524d\u4e00\u4e2a\u65f6\u95f4\u6b65\u7684\u9690\u85cf\u72b6\u6001\uff0c\u5e76\u8f93\u51fa\u65b0\u7684\u9690\u85cf\u72b6\u6001\u3002\u8fd9\u79cd\u7ed3\u6784\u53ef\u4ee5\u5982\u4e0b\u5f62\u5f0f\u5316\u8868\u793a\uff1a</p>  h_t = \\sigma(W_h h_{t-1} + W_x x_t + W_t t + b_h) $$  $$ y_t = \\sigma(W_y h_t + b_y)  <p></p> <p>\u5728RNN\u4e2d\uff0c\u7279\u5f81\u7a7a\u95f4\u4e0d\u53d8\u6027\u901a\u8fc7\u4e24\u5904\u8bbe\u8ba1\u6765\u5b9e\u73b0\u3002\u9996\u5148\u662f\u5171\u4eab\u6743\u91cd\uff1aRNN\u5728\u6bcf\u4e2a\u65f6\u95f4\u6b65\u4f7f\u7528\u76f8\u540c\u7684\u6743\u91cd\uff0c\u786e\u4fdd\u6240\u6709\u65f6\u95f4\u6b65\u7684\u8f93\u5165\u548c\u9690\u85cf\u72b6\u6001\u90fd\u5728\u76f8\u540c\u7684\u7279\u5f81\u7a7a\u95f4\u4e2d\u5904\u7406\u3002\u5176\u4e8c\u662f\u9690\u85cf\u72b6\u6001\u7684\u8fde\u7eed\u6027\uff1a\u9690\u85cf\u72b6\u6001\u5728\u65f6\u95f4\u5e8f\u5217\u4e2d\u8fde\u7eed\u4f20\u9012\uff0c\u786e\u4fdd\u6bcf\u4e2a\u65f6\u95f4\u6b65\u7684\u7279\u5f81\u8868\u793a\u4e0e\u524d\u540e\u65f6\u95f4\u6b65\u7684\u7279\u5f81\u8868\u793a\u4e4b\u95f4\u7684\u5173\u7cfb\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>hint:\u5982\u679c\u4f60\u5bf9RNN\u7684\u68af\u5ea6\u8ba1\u7b97\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u53c2\u8003</p> <p>\u5982\u679c\u4f60\u5bf9 RNN \u6709\u8fdb\u4e00\u6b65\u5174\u8da3\uff0c\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3 LSTM\u3001GRU\uff0c\u751a\u81f3\u8fd1\u671f\u7684 Mamba\u3001TTT \u7b49\u6a21\u578b\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_30","title":"\u603b\u7ed3","text":"<p>\u795e\u7ecf\u7f51\u7edc\u7b97\u6cd5\u662f\u5178\u578b\u7684\u7edf\u8ba1\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\uff1a\u4ece\u6570\u636e\u4e2d\u83b7\u53d6\u4fe1\u606f\uff0c\u8fdb\u800c\u5b9e\u73b0\u7279\u5b9a\u4efb\u52a1\u3002\u901a\u8fc7\u4f7f\u7528\u57fa\u4e8e\u68af\u5ea6\u7684\u4f18\u5316\u7b97\u6cd5\uff0c\u6211\u4eec\u5728\u6570\u636e\u4e0a\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\uff0c\u4f7f\u5176\u5728\u4efb\u52a1\u4e0a\u5177\u6709\u66f4\u597d\u7684\u8868\u73b0\u3002\u901a\u8fc7\u4e00\u4e9b\u5bf9\u4e8e\u6570\u636e\u548c\u771f\u5b9e\u5206\u5e03\u6027\u8d28\u7684\u5047\u5b9a\uff0c\u6211\u4eec\u671f\u671b\u795e\u7ecf\u7f51\u7edc\u80fd\u591f\u62e5\u6709\u8d85\u8d8a\u7ecf\u5178\u4f18\u5316\u95ee\u9898\u7684\u7279\u70b9\u2014\u2014\u6cdb\u5316\u6027\u3002</p> <p>\u540c\u65f6\uff0c\u901a\u8fc7\u7814\u7a76\u95ee\u9898\u3001\u6570\u636e\u4e0e\u4fe1\u606f\u7684\u7ed3\u6784\uff0c\u6211\u4eec\u8bbe\u8ba1\u548c\u6539\u8fdb\u795e\u7ecf\u7f51\u7edc\u7684\u7ed3\u6784\uff0c\u8fdb\u800c\u63d0\u9ad8\u795e\u7ecf\u7f51\u7edc\u7684\u8bad\u7ec3\u548c\u6cdb\u5316\u6027\u80fd\u3002</p> <p>\u5e0c\u671b\u5927\u5bb6\u80fd\u591f\u4f53\u4f1a\u5230\u673a\u5668\u5b66\u4e60\u7684\u6838\u5fc3\uff1a\u6570\u636e\u4e0e\u4fe1\u606f\uff0c\u4efb\u52a1\u4e0e\u6a21\u578b\uff0c\u8fdb\u800c\u7406\u89e3\u5e76\u9002\u5f53\u4f7f\u7528\u795e\u7ecf\u7f51\u7edc\u8fd9\u4e00\u5f3a\u5927\u7684\u5de5\u5177\u3002</p>"},{"location":"ai-ml/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/#_31","title":"\u8d44\u6e90","text":"<p>\u8bb2\u4e49pdf\u7248\u548cslides\u4f4d\u4e8e\u6b64\u4ed3\u5e93</p>"},{"location":"backend/","title":"\u540e\u7aef\u6846\u67b6","text":"<p>\u672c\u90e8\u5206\u4e3b\u8981\u4ecb\u7ecd\u540e\u7aef\u5f00\u53d1\u65f6\u53ef\u80fd\u4f7f\u7528\u5230\u7684\u5404\u7c7b\u6846\u67b6\u3002</p>"},{"location":"backend/crawler/crawler/","title":"\u722c\u866b","text":"\u524d\u7f6e\u77e5\u8bc6 <p>\u6211\u4eec\u671f\u5f85\u60a8\u5df2\u7ecf\u4e86\u89e3\u5e76\u638c\u63e1\u4e86 Python/JavaScript \u7684\u57fa\u7840\u8bed\u6cd5\u4ee5\u53ca Web \u76f8\u5173\u77e5\u8bc6\uff0c\u5982\u679c\u60a8\u5bf9\u6b64\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u53ef\u4ee5\u53c2\u8003\uff1a</p> <ul> <li>\u79d1\u534f\u6280\u80fd\u5f15\u5bfc\u6587\u6863 Python \u90e8\u5206</li> <li>\u79d1\u534f\u6280\u80fd\u5f15\u5bfc\u6587\u6863 JavaScript \u90e8\u5206</li> <li>\u79d1\u534f\u6280\u80fd\u5f15\u5bfc\u6587\u6863 Web \u90e8\u5206</li> </ul> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b HTTP \u76f8\u5173\u77e5\u8bc6\u4ee5\u4f9b\u53c2\u8003\uff1a</p> <ul> <li>HTTP \u534f\u8bae\u7684\u5386\u53f2\u6f14\u53d8\u548c\u8bbe\u8ba1\u601d\u8def</li> <li>HTTP \u6709\u54ea\u4e9b\u65b9\u6cd5\u53ef\u4f9b\u6211\u4eec\u8c03\u7528\uff1f</li> <li>HTTP \u5404\u79cd\u54cd\u5e94\u72b6\u6001\u7801\u7684\u542b\u4e49</li> <li>HTTP \u7684 Cookie \u662f\u4ec0\u4e48\uff1f\u4ed6\u6709\u600e\u6837\u7684\u7ed3\u6784\uff1f</li> </ul> <p>\u5982\u679c\u60a8\u5728\u9605\u8bfb\u672c\u6587\u6863\u65f6\u9047\u5230\u4e86\u4efb\u4f55\u56f0\u96be\u6216\u7591\u95ee\uff0c\u6b22\u8fce\u5728\u4e0b\u65b9\u8bc4\u8bba\u533a\u63d0\u95ee\u8ba8\u8bba\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u67e5\u8be2\u76f8\u5173\u5b98\u65b9\u6587\u6863\u6216\u8005\u9009\u62e9\u5c1d\u8bd5\u5411 ChatGPT \u63d0\u95ee\u3002</p> Python \u76f8\u5173\u5e93 <p>\u6211\u4eec\u5efa\u8bae\u60a8\u4f7f\u7528 3.10 \u7248\u672c\u7684 Python\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 pip \u5305\u7ba1\u7406\u5de5\u5177\u6765\u5b89\u88c5\u672c\u6587\u6863\u6240\u9700\u5e93\u3002\u5982\u679c\u60a8\u6b64\u524d\u6ca1\u6709\u63a5\u89e6\u8fc7 pip\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u9605\u8bfb Python \u5305\u7ba1\u7406 \u8fd9\u7bc7\u6587\u7ae0\u6765\u8fdb\u884c\u5b66\u4e60\u3002\u4ee5\u4e0b\u662f\u672c\u6587\u6863\u6240\u9700\u7684\u5e93\uff1a</p> <pre><code>beautifulsoup4\nrequests\nlxml\ntqdm\nnotebook\njupyter\nwebdriver-manager\nselenium\nscrapy\n</code></pre> <p>\u8bfb\u524d\u987b\u77e5\u4e0e\u53e0\u7532</p> <ol> <li>\u6211\u4eec\u5efa\u8bae\u60a8\u5148\u8fdb\u884c\u914d\u7f6e\u597d\u73af\u5883\u518d\u8fdb\u884c\u5e93\u4f7f\u7528\u548c\u5b9e\u6218\u7ec3\u4e60\u7b49\u6a21\u5757\u7684\u9605\u8bfb\u3002\u4e00\u4e2a\u57fa\u7840\u7684\u73af\u5883\u914d\u7f6e\u65b9\u6848\u53ef\u4ee5\u53c2\u8003 \u6b64\u4ed3\u5e93\u3002</li> <li>\u672c\u6587\u4e2d\u5b9e\u6218\u6837\u4f8b\u7684\u7f16\u7a0b\u8bed\u8a00\u4e3a Python\uff0c\u5982\u60f3\u83b7\u53d6 JavaScript \u7684\u722c\u866b demo\uff0c\u540c\u6837\u53ef\u53c2\u8003\u4e0a\u8ff0\u4ed3\u5e93\u3002</li> <li>\u7531\u4e8e\u672c\u6587\u6863\u6240\u6d89\u53ca\u5230\u7684\u6240\u6709\u5e93\u4ee5\u53ca\u6240\u6709\u7f51\u9875\u76ee\u524d\u4ecd\u5728\u4e0d\u65ad\u66f4\u65b0\u8fed\u4ee3\uff0c\u5b83\u4eec\u7684\u5404\u9879\u89c4\u8303\u4ee5\u53ca\u7ec4\u7ec7\u7ed3\u6784\u53ef\u80fd\u56e0\u65f6\u800c\u5f02\uff0c\u56e0\u6b64\u672c\u6587\u6863\u4e2d\u7684\u6240\u6709\u793a\u4f8b\u6587\u4ef6\u3001\u4ee3\u7801\u548c\u56fe\u7247\u4ec5\u5bf9\u7b14\u8005\u673a\u5668\u5728\u5f53\u524d\u65f6\u95f4\u8282\u70b9\uff082025\u5e742\u6708\uff09\u7684\u7ed3\u679c\u8d1f\u8d23\u3002\u6211\u4eec\u76f8\u4fe1\uff0c\u6839\u636e\u672c\u6587\u6863\u7684\u6559\u5b66\uff0c\u5728\u53d1\u73b0\u672c\u5730\u8fd0\u884c\u7ed3\u679c\u4e0e\u672c\u6587\u6863\u4e0d\u540c\u65f6\uff0c\u60a8\u6709\u80fd\u529b\u8fa8\u522b\u6b63\u8bef\u5e76\u5bf9\u672c\u6587\u6863\u4e2d\u7684\u793a\u4f8b\u8fdb\u884c\u66f4\u6b63\u3002\u6211\u4eec\u4e5f\u683c\u5916\u6b22\u8fce\u60a8\u5728\u8bc4\u8bba\u533a\u53ca\u65f6\u53cd\u9988\u7531\u4e8e\u4e0a\u8ff0\u66f4\u65b0\u6240\u5e26\u6765\u7684\u95ee\u9898\u3002</li> </ol>"},{"location":"backend/crawler/crawler/#_2","title":"\u73af\u5883\u914d\u7f6e","text":"<p>\u672c\u6587\u6863\u4e2d\u4e3b\u8981\u4f7f\u7528\u4e86\u4ee5\u4e0b Python \u7b2c\u4e09\u65b9\u5e93\uff1a</p> <ul> <li>requests\uff1a\u63d0\u4f9b\u4e86\u4e00\u4e9b Python \u4e2d\u6613\u4e8e\u8c03\u7528\u7684 HTTP \u8bf7\u6c42\u63a5\u53e3\u3002</li> <li>beautifsoup4\uff1a\u63d0\u4f9b\u4e86\u4e00\u4e9b\u89e3\u6790\u548c\u904d\u5386 HTML/XML \u7ed3\u6784\u7684\u63a5\u53e3\uff0c\u4fbf\u4e8e\u63d0\u53d6\u6240\u9700\u6570\u636e\u3002</li> <li>selenium\u4e0ewebdriver-manager\uff1a\u6a21\u62df\u7528\u6237\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u64cd\u4f5c\u3002</li> </ul>"},{"location":"backend/crawler/crawler/#_3","title":"\u4ec0\u4e48\u662f\u722c\u866b\uff1f","text":"<p>\u5728\u89e3\u91ca\u4ec0\u4e48\u662f\u722c\u866b\u4e4b\u524d\uff0c\u8bf7\u5148\u8ba9\u6211\u4eec\u641e\u660e\u767d\u4ec0\u4e48\u662f\u4e0a\u7f51\u3002\u4e0a\u7f51\u53ef\u4ee5\u88ab\u7b80\u5355\u5730\u8ba4\u4e3a\u662f\u201c\u6d4f\u89c8\u5668\u6309\u7167\u7528\u6237\u610f\u613f\uff0c\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u7cfb\u5217\u8bf7\u6c42\uff0c\u5e76\u5c06\u670d\u52a1\u5668\u7684\u54cd\u5e94\u5448\u73b0\u7ed9\u7528\u6237\u201d\u3002</p> \u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50 <p>\u60a8\u6d4f\u89c8\u672c\u6587\u6863\u65f6\u5c31\u5728\u4e0a\u7f51\uff0c\u800c\u8fd9\u4e00\u8fc7\u7a0b\u6240\u505a\u7684\u65e0\u975e\u662f\u60a8\u901a\u8fc7\u6d4f\u89c8\u5668\u5411\u6211\u4eec\u7684\u670d\u52a1\u5668\u53d1\u51fa\u5982\u4e0b\u8bf7\u6c42\uff1a\u201c\u6211\u60f3\u8981\u5b66\u4e60\u722c\u866b\u76f8\u5173\u5185\u5bb9\uff0c\u8bf7\u628a\u76f8\u5173\u6559\u7a0b\u53d1\u9001\u5230\u6211\u7684\u8bbe\u5907\u4e0a\u3002\u201d</p> <p>\u5728\u63a5\u6536\u5230\u60a8\u7684\u8bf7\u6c42\u540e\uff0c\u670d\u52a1\u5668\u4f1a\u4f20\u56de\u4e00\u4e2a HTML \u6587\u4ef6\u4ee5\u53ca\u4e00\u4e9b\u5176\u4ed6\u9644\u5c5e\u6587\u4ef6\uff0c\u6700\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u5c55\u73b0\u4e3a\u60a8\u73b0\u5728\u6240\u9605\u8bfb\u7684\u6587\u6863\u3002</p> <p>\u722c\u866b\u662f\u4e00\u79cd\u53ef\u4ee5\u6a21\u62df\u7f51\u9875\u6d4f\u89c8\u5668\u5411\u7f51\u7ad9\u53d1\u9001\u5e76\u5904\u7406\u8bf7\u6c42\u7684\u81ea\u52a8\u5316\u811a\u672c\uff0c\u5e2e\u52a9\u6211\u4eec\u83b7\u5f97\u670d\u52a1\u5668\u7684\u6570\u636e\uff0c\u8fdb\u800c\u7528\u4e8e\u5176\u4ed6\u9700\u6c42\u3002\u501f\u52a9\u4e8e\u722c\u866b\uff0c\u7406\u8bba\u4e0a\u6211\u4eec\u53ef\u4ee5\u4f9d\u7167\u9700\u6c42\u5904\u7406\u4e00\u5207\u4e0e\u7f51\u7edc\u8bf7\u6c42\u6709\u5173\u7684\u5185\u5bb9\uff0c\u6bd4\u5982\u5b9e\u73b0\u67d0\u67d0\u7f51\u7ad9\u7684\u62a2\u7968\u3001\u5b9e\u73b0\u67d0\u67d0\u7f51\u7ad9\u97f3\u89c6\u9891\u53ca\u6587\u5b57\u7684\u6279\u91cf\u83b7\u53d6\u3002</p>"},{"location":"backend/crawler/crawler/#_4","title":"\u722c\u524d\u987b\u77e5","text":"<p>\u622a\u81f3\u76ee\u524d\uff0c\u6211\u4eec\u5df2\u7ecf\u641e\u6e05\u695a\u4e86\u4f55\u4e3a\u722c\u866b\u4ee5\u53ca\u4e3a\u4f55\u722c\u866b\u3002\u4f46\u5728\u6b63\u5f0f\u5f00\u59cb\u722c\u866b\u7684\u6559\u5b66\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u8981\u4e86\u89e3\u4ec0\u4e48\u4e0d\u53ef\u4e3a\u4ee5\u53ca\u4ec0\u4e48\u53ef\u4e3a\u3002</p>"},{"location":"backend/crawler/crawler/#_5","title":"\u4e0d\u53ef\u4e3a","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u722c\u53d6\u7684\u6570\u636e\u6765\u81ea\u4e92\u8054\u7f51\uff0c\u800c\u4e92\u8054\u7f51\u4e2d\u5b58\u50a8\u7740\u5927\u91cf\u7684\u4e2a\u4eba\u7528\u6237\u4fe1\u606f\u3001\u4f01\u4e1a\u4fe1\u606f\u3002\u7406\u8bba\u4e0a\u53ea\u8981\u6211\u4eec\u7684\u722c\u866b\u6280\u672f\u8db3\u591f\u9ad8\u8d85\uff0c\u6211\u4eec\u5c31\u80fd\u83b7\u5f97\u4e92\u8054\u7f51\u4e0a\u5b58\u50a8\u7684\u4efb\u4f55\u4fe1\u606f\u3002\u7136\u800c\u5bf9\u4e8e\u7528\u6237\u672a\u6388\u6743\u6570\u636e\u7684\u722c\u53d6\u662f\u8fdd\u53cd\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u722c\u53d6\u6570\u636e\u524d\u4e00\u5b9a\u8981\u786e\u4fdd\u81ea\u8eab\u884c\u4e3a\u7684\u5408\u6cd5\u6027\u3002</p> \u722c\u866b\u867d\u597d\uff0c\u4f46\u4e0d\u8981\u8d2a\u722c\u54df <p>\u7535\u5f71\u300a\u5b64\u6ce8\u4e00\u63b7\u300b\u4e2d\u7684\u7a0b\u5e8f\u5458\u7537\u4e3b\u88ab\u7f05\u5317\u7535\u8bc8\u96c6\u56e2\u5f3a\u8feb\u4ece\u4e8b\u975e\u6cd5\u722c\u866b\u4e0e\u7f51\u7edc\u5165\u4fb5\uff0c\u4e3a\u72af\u7f6a\u5206\u5b50\u63d0\u4f9b\u4e86\u5de8\u989d\u975e\u6cd5\u6536\u5165\u3002\u201c\u53ea\u8981\u722c\u866b\u6280\u672f\u9ad8\uff0c\u85aa\u8d44\u5343\u4e07\u4e0d\u7528\u6101\u3002\u201d\u4f46\u9762\u5bf9\u91d1\u94b1\u5229\u76ca\u8bf1\u60d1\uff0c\u6211\u4eec\u4e00\u5b9a\u8981\u5b88\u4f4f\u6cd5\u5f8b\u4e0e\u9053\u5fb7\u5e95\u7ebf\u3002</p> <p>\u5176\u6b21\uff0c\u7531\u4e8e\u722c\u866b\u662f\u9ad8\u6548\u7684\u81ea\u52a8\u5316\u811a\u672c\uff0c\u5176\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u7684\u9891\u7387\u53ef\u80fd\u8fdc\u8d85\u666e\u901a\u4eba\u7c7b\u6b63\u5e38\u4f7f\u7528\u670d\u52a1\u6240\u80fd\u4ea7\u751f\u7684\u8bf7\u6c42\u9891\u7387\u3002\u5728\u8fd9\u79cd\u9ad8\u9891\u8bf7\u6c42\u4e0b\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u4f1a\u9762\u4e34\u4e00\u4e9b\u653b\u51fb\uff1a</p> <ul> <li>DoS (Denial of Service) attack\uff1a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u901a\u8fc7\u6784\u9020\u5927\u91cf\u7684\uff08\u5c24\u5176\u662f\u7e41\u91cd\u7684\uff0c\u4e5f\u5c31\u662f CC \u653b\u51fb\uff09\u8bf7\u6c42\u4f7f\u5f97\u670d\u52a1\u5668\u201c\u5fd9\u4e0d\u8fc7\u6765\u201d\uff0c\u8ba9\u670d\u52a1\u5668\u65e0\u6cd5\u6b63\u5e38\u670d\u52a1\u3002</li> <li>DDoS (Distributed Denial of Service) attack\uff1a\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u5728 DoS \u653b\u51fb\u7684\u57fa\u7840\u4e0a\u6539\u4e3a\u591a\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u5bf9\u76ee\u6807\u7f51\u7ad9\u53d1\u8d77\u5927\u91cf\u8bf7\u6c42\u3002</li> </ul> \u7b80\u5355\u7684\u4f8b\u5b50 <p>\u5c3d\u7ba1\u8c08\u8bba\u653b\u51fb\u8fd8\u6bd4\u8f83\u9065\u8fdc\uff0c\u4f46\u6211\u4eec\u4e0d\u59a8\u8003\u8651\u4ee5\u4e0b\u65e5\u5e38\u751f\u6d3b\u573a\u666f\uff1a</p> <ul> <li>\u5f53\u60a8\u5728\u9ad8\u8003\u6210\u7ee9\u67e5\u8be2\u7f51\u7ad9\u4e0a\u51c6\u65f6\u67e5\u8be2\u65f6\u3002</li> <li>\u53cc\u5341\u4e00\u5348\u591c\u5341\u4e8c\u70b9\uff0c\u5f53\u60a8\u5728\u67d0\u7f51\u8d2d\u5e73\u53f0\u4e0a\u4e0b\u5355\u65f6\u3002</li> <li>\u5468\u56db\u4e0b\u5348\u4e00\u70b9\uff0c\u5f53\u60a8\u5728\u201c\u65b0\u6e05\u534e\u5b66\u5802\u201d\u516c\u4f17\u53f7\u4e0a\u62a2 40 \u5143\u524d\u6392\u5b66\u751f\u7968\u65f6\u3002</li> <li>\u4e8c\u5b57\u73ed\u79d1\u534f\u8fce\u65b0\u4f1a\u4e0a\uff0c\u5f53\u60a8\u6ca1\u641e\u61c2\u5982\u4f55\u62a2\u7b54\uff0c\u4e8e\u662f\u53cd\u590d\u63d0\u4ea4\u7b54\u6848\u5bfc\u81f4\u62a2\u7b54\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u8fc7\u9ad8\u7684\u670d\u52a1\u5668\u88ab\u5e72\u7206\u65f6\u3002</li> </ul> <p>\u5982\u679c\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\u7684\u80fd\u529b\u8f83\u5dee\uff0c\u77ed\u65f6\u95f4\u5185\u7684\u5927\u91cf\u8bf7\u6c42\u53ef\u80fd\u5bfc\u81f4\u670d\u52a1\u5668\u762b\u75ea\uff0c\u5bf9\u670d\u52a1\u63d0\u4f9b\u8005\u9020\u6210\u7ecf\u6d4e\u635f\u5931\u3002\u6545\u610f\u653b\u51fb\u670d\u52a1\u5668\u7684\u884c\u4e3a\u662f\u8fdd\u53cd\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u7684\uff0c\u6211\u4eec\u8981\u65f6\u523b\u907f\u514d\u8fd9\u79cd\u73b0\u8c61\u7684\u53d1\u751f\u3002</p>"},{"location":"backend/crawler/crawler/#requests-headers","title":"Requests Headers","text":"<p>\u4e0a\u9762\u7b80\u5355\u4ecb\u7ecd\u4e86\u4ec0\u4e48\u4e0d\u53ef\u4e3a\uff0c\u63a5\u4e0b\u6765\u4ecb\u7ecd\u4e00\u4e0b\u6211\u4eec\u5e94\u600e\u6837\u77e5\u9053\u4ec0\u4e48\u662f\u53ef\u4e3a\u7684\u3002\u4f46\u5728\u8fd9\u4e4b\u524d\uff0c\u6211\u4eec\u8981\u5148\u4e86\u89e3\u4e00\u4e0b Requests Headers \u76f8\u5173\u5185\u5bb9\u3002</p> <p>\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u722c\u866b\u662f\u5411\u670d\u52a1\u5668\u53d1\u9001\u7279\u5b9a\u7f51\u7edc\u8bf7\u6c42\u5e76\u63a5\u6536\u54cd\u5e94\u7684\u81ea\u52a8\u5316\u9ad8\u6548\u811a\u672c\u3002\u901a\u5e38\u6765\u8bf4\uff0c\u4e00\u6b21\u7f51\u7edc\u8bf7\u6c42\u7684\u4e3b\u8981\u5185\u5bb9\u5305\u62ec\uff1a</p> <ul> <li>\u4f60\u662f\u8c01\uff1aUser-Agent \u4e0e Cookie \u3002</li> <li>\u4f60\u4ece\u54ea\u91cc\u6765\uff1aIP \uff08\u4e0d\u5305\u542b\u5728 Requests Headers \u4e2d\uff0c\u800c\u662f\u5305\u542b\u5728 TCP/IP \u534f\u8bae\u6808\u4e2d\u7684 IP \u6570\u636e\u5305\u4e2d\uff0c\u8fd9\u91cc\u6211\u4eec\u7565\u8fc7\uff09\u3002</li> <li>\u4f60\u6765\u8fd9\u91cc\u5e72\u4ec0\u4e48\uff1aMethod \u4e0e Parameter \uff08\u5982\u679c\u662f POST \u8bf7\u6c42\u7684\u8bdd\u8fd8\u4f1a\u6709\u66f4\u591a\u5185\u5bb9\uff0c\u4f46\u662f\u4f5c\u4e3a\u722c\u866b\u7684\u8bdd\u53ef\u4ee5\u7565\u5fae\u7b80\u5316\uff09\u3002</li> </ul> <p>User-Agent \u7528\u4e8e\u6807\u8bc6\u53d1\u8d77\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u6216\u8bbe\u5907\u7684\u4fe1\u606f\u3002\u5b83\u63d0\u4f9b\u4e86\u5173\u4e8e\u5ba2\u6237\u7aef\u7684\u4e00\u4e9b\u57fa\u672c\u4fe1\u606f\uff0c\u4f8b\u5982\u6d4f\u89c8\u5668\u7c7b\u578b\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u7248\u672c\u53f7\u7b49\uff0c\u4ee5\u4fbf\u670d\u52a1\u5668\u80fd\u591f\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u63d0\u4f9b\u9002\u5f53\u7684\u54cd\u5e94\u3002\u4ee5\u4e0b\u662f\u51e0\u4e2a\u4f8b\u5b50\uff1a</p> <ul> <li>\u6211\u7684\u8fd9\u53f0 Windows \u673a\u5668\u4e0a Edge \u6d4f\u89c8\u5668\u7684 User-Agent\uff1a <code>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36</code> \u3002</li> <li>Python requests \u5e93\u9ed8\u8ba4\u7684 User-Agent\uff1a <code>python-requests/{version}</code>\uff0c\u5176\u4e2d <code>version</code> \u4e3a Python \u7684\u7248\u672c\u53f7\u3002 </li> <li>Postman \u9ed8\u8ba4\u7684 User-Agent\uff1a <code>PostmanRuntime/{version}</code>\uff0c\u5176\u4e2d <code>version</code> \u4e3a Postman \u7684\u7248\u672c\u53f7\u3002</li> </ul> \u4ec0\u4e48\u662f Postman \uff1f <p>\u4ee5\u4e0b\u5185\u5bb9\u6765\u81ea ChatGPT\uff1a</p> <p>Postman \u662f\u4e00\u79cd\u7528\u4e8e\u6d4b\u8bd5\u548c\u5f00\u53d1 API \u7684\u5de5\u5177\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7528\u6237\u53cb\u597d\u7684\u754c\u9762\uff0c\u4f7f\u5f00\u53d1\u4eba\u5458\u80fd\u591f\u8f7b\u677e\u5730\u521b\u5efa\u3001\u53d1\u9001\u548c\u8c03\u8bd5 HTTP \u8bf7\u6c42\uff0c\u5e76\u67e5\u770b\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002Postman \u652f\u6301\u591a\u79cd HTTP \u8bf7\u6c42\u65b9\u6cd5\uff0c\u5982GET\u3001POST\u3001PUT\u3001DELETE \u7b49\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u4f53\u548c\u53c2\u6570\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528Postman\u6765\u6d4b\u8bd5API\u7684\u529f\u80fd\u3001\u9a8c\u8bc1\u5176\u6b63\u786e\u6027\uff0c\u5e76\u8fdb\u884c\u6027\u80fd\u6d4b\u8bd5\u3002</p> <p>\u9664\u4e86\u53d1\u9001\u8bf7\u6c42\u548c\u63a5\u6536\u54cd\u5e94\u5916\uff0cPostman \u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u529f\u80fd\uff0c\u5982\u81ea\u52a8\u5316\u6d4b\u8bd5\u3001\u65ad\u8a00\u9a8c\u8bc1\u3001\u73af\u5883\u53d8\u91cf\u7ba1\u7406\u3001\u534f\u4f5c\u548c\u7248\u672c\u63a7\u5236\u7b49\u3002\u5b83\u8fd8\u652f\u6301\u96c6\u6210\u5230\u5f00\u53d1\u6d41\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u4e0e\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u548c\u6301\u7eed\u96c6\u6210\u5de5\u5177\u8fdb\u884c\u96c6\u6210\uff0c\u4ee5\u4fbf\u56e2\u961f\u534f\u4f5c\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5\u3002</p> <p>Postman\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e91\u5e73\u53f0\uff0c\u5141\u8bb8\u56e2\u961f\u6210\u5458\u5171\u4eab API \u6587\u6863\u3001\u6d4b\u8bd5\u96c6\u5408\u548c\u73af\u5883\u914d\u7f6e\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u534f\u4f5c\u548c\u7ba1\u7406 API \u5f00\u53d1\u8fc7\u7a0b\u3002</p> <p>\u603b\u800c\u8a00\u4e4b\uff0cPostman \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 API \u5f00\u53d1\u548c\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u66f4\u9ad8\u6548\u5730\u6d4b\u8bd5\u3001\u8c03\u8bd5\u548c\u7ba1\u7406 API\u3002</p> <p>Cookie \u662f\u4e00\u79cd\u5728\u5ba2\u6237\u7aef\uff08\u901a\u5e38\u662f Web \u6d4f\u89c8\u5668\uff09\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u9012\u7684\u5c0f\u578b\u6570\u636e\u6587\u4ef6\u3002\u5b83\u7531\u670d\u52a1\u5668\u5728 HTTP \u54cd\u5e94\u4e2d\u8bbe\u7f6e\uff0c\u5e76\u5728\u968f\u540e\u7684\u8bf7\u6c42\u4e2d\u7531\u5ba2\u6237\u7aef\u5305\u542b\u5728 HTTP \u6807\u5934\u4e2d\u53d1\u9001\u56de\u670d\u52a1\u5668\u3002Cookie \u4e2d\u5f80\u5f80\u8bb0\u5f55\u4e86\u8bf8\u5982\u7528\u6237\u767b\u5f55\u72b6\u6001\u3001\u4e2a\u6027\u5316\u8bbe\u7f6e\u3001\u4f1a\u8bdd\u8bb0\u5f55\u7b49\u5185\u5bb9\u3002\u4ee5\u4f17\u591a\u7f51\u7ad9\u7684\u81ea\u52a8\u767b\u5f55\u4e3a\u4f8b\uff0c\u670d\u52a1\u5668\u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u51fa\u7684 Cookie \uff0c\u7136\u540e\u4e0e\u670d\u52a1\u5668\u4e0a\u5b58\u50a8\u7684\u7528\u6237\u4fe1\u606f\u8fdb\u884c\u67e5\u627e\u6821\u9a8c\uff0c\u9009\u53d6\u7b26\u5408\u7684\u7528\u6237\u4fe1\u606f\u514d\u5bc6\u767b\u5f55\u3002</p> <p>Method \u662f HTTP \u8bf7\u6c42\u4e2d\u7684\u65b9\u6cd5\uff0cParameter \u662f\u8fd9\u4e00\u8fc7\u7a0b\u4f20\u5165\u7684\u53c2\u6570\u3002\u6211\u4eec\u53ef\u4ee5\u8c03\u7528\u7684 Method \u8bf8\u5982 GET, POST, DELETE \u7b49\u3002</p>"},{"location":"backend/crawler/crawler/#_6","title":"\u4f55\u53ef\u4e3a","text":"<p>\u901a\u8fc7 Requests Headers \uff0c\u670d\u52a1\u5668\u53ef\u4ee5\u5927\u6982\u4e86\u89e3\u53d1\u9001\u8bf7\u6c42\u7684\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u3002\u670d\u52a1\u5668\u53ef\u4ee5\u7f16\u5199 <code>robots.txt</code> \u6587\u4ef6\u6765\u89c4\u5b9a\u4e0d\u540c\u7684\u722c\u866b\u5bf9\u4e8e\u7f51\u9875\u4e0a\u5404\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650\u3002\u4f46\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4efd <code>robots.txt</code> \u6587\u4ef6\u53ea\u662f\u4e00\u4efd\u201c\u541b\u5b50\u534f\u8bae\u201d\uff0c\u5e76\u6ca1\u6709\u4e25\u683c\u7684\u9650\u5236\uff0c\u7f51\u7ad9\u4f1a\u91c7\u53d6\u5176\u4ed6\u624b\u6bb5\u9632\u6b62\u6076\u610f\u653b\u51fb\u3002</p> <p>\u901a\u8fc7\u5728\u7f51\u7ad9\u57df\u540d\u540e\u52a0 <code>/robots.txt</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbf\u95ee\u8be5\u7f51\u7ad9\u7684 <code>robots.txt</code> \u6587\u4ef6\u3002\u4f46\u8bf7\u6ce8\u610f\uff0c\u5b50\u57df\u540d\u7684 <code>robots.txt</code> \u672a\u5fc5\u4e0e\u4e3b\u57df\u540d\u7684\u76f8\u7b26\u3002</p> <p>\u6211\u4eec\u5efa\u8bae\u60a8\u9605\u8bfb Google for developers \u5bf9\u4e8e robots.txt \u6587\u4ef6\u7684\u8bf4\u660e \u6765\u8fdb\u884c\u7b80\u5355\u7684\u4e86\u89e3\u3002\u8fd9\u91cc\u6211\u4eec\u4ec5\u8bb2\u89e3\u51e0\u4e2a\u4f8b\u5b50\u3002</p> <ul> <li>\u767e\u5ea6</li> </ul> <pre><code>User-agent: Baiduspider\nDisallow: /baidu\nDisallow: /s?\nDisallow: /ulink?\nDisallow: /link?\nDisallow: /home/news/data/\nDisallow: /bh\n\nUser-agent: Googlebot\nDisallow: /baidu\nDisallow: /s?\nDisallow: /shifen/\nDisallow: /homepage/\nDisallow: /cpro\nDisallow: /ulink?\nDisallow: /link?\nDisallow: /home/news/data/\nDisallow: /bh\n\n# \u6b64\u5904\u7565\u53bb\u90e8\u5206\u5185\u5bb9\n\nUser-agent: *\nDisallow: /\n</code></pre> <p>\u89e3\u8bfb\uff1a\u4e00\u5f8b\u7981\u6b62\u9664\u4e86\u6211\u6307\u5b9a\u7684\u722c\u866b\u5916\u7684\u6240\u6709\u722c\u866b\u3002\u800c\u5bf9\u4e8e\u6211\u6307\u5b9a\u7684\u722c\u866b\uff0c\u6709\u4e9b\u6587\u4ef6\u4e5f\u662f\u4e0d\u80fd\u8bbf\u95ee\u7684\u3002</p> <ul> <li>\u6dd8\u5b9d </li> </ul> <pre><code>User-agent: Baiduspider\nDisallow: /\n\nUser-agent: baiduspider\nDisallow: /\n</code></pre> <p>\u89e3\u8bfb\uff1a\u4e00\u5f8b\u7981\u6b62\u767e\u5ea6\u722c\u866b\u5bf9\u4efb\u4f55\u6587\u4ef6\u7684\u8bbf\u95ee\u3002</p> <ul> <li>\u5929\u732b </li> </ul> <pre><code>User-agent: * \nDisallow: /\n</code></pre> <p>\u89e3\u8bfb\uff1a\u4e00\u5f8b\u7981\u6b62\u6240\u6709\u722c\u866b\u5bf9\u4efb\u4f55\u6587\u4ef6\u7684\u8bbf\u95ee\u3002</p> <ul> <li>\u864e\u6251\u4f53\u80b2</li> </ul> <pre><code>User-agent: *\nAllow: /\n\nSitemap: https://bbs.hupu.com/sitemap_index.xml\nSitemap: https://bbs.hupu.com/sitemap/sitemap_boards.xml\nSitemap: https://voice.hupu.com/sitemap_index.xml\nSitemap: https://nba.hupu.com/players/index.xml\n</code></pre> <p>\u89e3\u8bfb\uff1a\u6b22\u8fce\u4efb\u4f55\u722c\u866b\u6765\u722c\u6211\u3002\u6b64\u5916\uff0c\u6211\u8fd8\u63d0\u4f9b\u4e86 Sitemap\uff08\u7ad9\u70b9\u5730\u56fe\uff09\u6765\u4e3a\u722c\u53d6\u63d0\u4f9b\u4fbf\u5229\u3002</p> \u4ec0\u4e48\u662f Sitemap\uff1f <p>\u8bf7\u53c2\u8003 Google for developers \u5bf9\u4e8e Sitemap \u7684\u89e3\u91ca</p> <ul> <li>\u864e\u6251\u793e\u533a</li> </ul> <pre><code>User-agent: *\nRequest-rate: 1/1\nDisallow: /api/\nDisallow: /ajax/\nDisallow: /profile.php?*\nDisallow: /hack/\nDisallow: /template/\nDisallow: /attachment/\nDisallow: /gearfeedback/\nDisallow: /*_*.html$\n\nSitemap: https://bbs.hupu.com/pc-sitemap.xml\n</code></pre> <p>\u89e3\u8bfb\uff1a\u6ce8\u610f\u8fd9\u91cc\u5c31\u53d1\u751f\u4e86\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u8fc7\u7684\u5b50\u57df\u540d\u4e0e\u4e3b\u57df\u540d <code>robots.txt</code> \u53ef\u80fd\u4e0d\u76f8\u540c\u7684\u60c5\u51b5\u3002\u5728\u8fd9\u91cc\uff0c\u864e\u6251\u793e\u533a\u9650\u5236\u5bf9\u4e8e\u6240\u6709\u722c\u866b\uff0c\u6bcf\u79d2\u8bbf\u95ee\u6b21\u6570\u4e0d\u53ef\u8d85\u8fc7\u4e00\u6b21\uff0c\u4e14\u7981\u6b62\u4e86\u5bf9\u4e8e\u90e8\u5206\u6587\u4ef6\u7684\u8bbf\u95ee\u3002</p>"},{"location":"backend/crawler/crawler/#_7","title":"\u5982\u4f55\u6784\u5efa\u722c\u866b\uff1f","text":"<p>\u6784\u5efa\u722c\u866b\u7684\u5173\u952e\u5728\u4e8e\u5206\u6790\u670d\u52a1\u5668\u8bf7\u6c42\u3002\u6211\u4eec\u9700\u8981\u5206\u6790\u671f\u671b\u83b7\u5f97\u7684\u6570\u636e\u5728\u54ea\u4e9b\u8bf7\u6c42\u4e2d\uff0c\u8fdb\u800c\u6784\u5efa \u201cAPI Chains\u201d\u3002\u7ecf\u8fc7\u5206\u6790\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u6784\u5efa\u722c\u866b\u4e86\u3002</p> <p>\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u5229\u7528 HTTP \u5e93\uff08\u672c\u6587\u4f7f\u7528 requests\uff09\u53d1\u51fa\u8bf7\u6c42\uff0c\u7136\u540e\u5229\u7528\u89e3\u6790\u5e93\uff08\u672c\u6587\u4f7f\u7528 BeautifulSoup\uff09\u89e3\u6790 HTML/XML\uff0c\u7528 json \u5305\u89e3\u6790 JSON\uff0c\u6700\u540e\u5f97\u5230\u60f3\u8981\u7684\u6570\u636e\uff1b\u53e6\u4e00\u79cd\u662f\u5229\u7528 selenium \u7684 webdriver\uff0c\u6a21\u62df\u7528\u6237\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u884c\u4e3a\uff0c\u4ece\u800c\u83b7\u53d6\u6570\u636e\u3002</p> <p>\u5728\u672c\u6587\u7684\u6700\u540e\uff0c\u8fd8\u4f1a\u7b80\u5355\u4ecb\u7ecd\u5229\u7528 Scrapy \u6846\u67b6\u8fdb\u884c\u722c\u866b\u7684\u65b9\u6cd5\uff0c\u4f46\u4e0d\u4f5c\u4e3a\u672c\u6587\u7684\u91cd\u70b9\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e09\u79cd\u5178\u578b\u7684\u7f51\u7edc\u8bf7\u6c42\u7684\u54cd\u5e94\u4ee5\u53ca\u6211\u4eec\u89e3\u6790\u4ed6\u4eec\u7684\u624b\u6bb5\u3002</p> <ul> <li>JSON\uff1a\u5229\u7528 Python \u5185\u90e8\u5e93 json \u5bf9\u6587\u4ef6\u76f4\u63a5\u89e3\u6790\u3002</li> <li>HTML\uff1a\u4f7f\u7528 BeautifulSoup \u8fdb\u884c\u89e3\u6790\u3002</li> <li>\u4e8c\u8fdb\u5236\u6587\u4ef6\uff1a\u76f4\u63a5\u4fdd\u5b58\u3002</li> </ul>"},{"location":"backend/crawler/crawler/#http","title":"\u4f7f\u7528 HTTP \u5e93\u548c\u89e3\u6790\u5e93","text":""},{"location":"backend/crawler/crawler/#requests","title":"requests \u5165\u95e8","text":"<p>\u9996\u5148\uff0c\u8ba9\u6211\u4eec\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b requests\u3002requests \u7528\u4e8e\u53d1\u9001 HTTP \u8bf7\u6c42\u548c\u5904\u7406\u54cd\u5e94\uff0c\u5b83\u63d0\u4f9b\u4e86\u7b80\u5355\u4e14\u76f4\u89c2\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\uff0c\u6bd4\u5982 <code>get</code>\u3001<code>post</code>\u3001<code>put</code>\u3001<code>delete</code> \u7b49\u7b49\u3002\u5bf9\u4e8e\u722c\u866b\u6765\u8bf4\uff0c\u6211\u4eec\u5e38\u7528\u7684\u65b9\u6cd5\u662f <code>get</code> \u548c <code>post</code>\u3002</p> <p>\u4f7f\u7528\u4ed6\u4eec\u7684\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u4ee5 <code>get</code> \u4e3a\u4f8b\uff0c<code>r = requests.get(\"https://docs.net9.org\")</code> \u53ef\u6784\u5efa\u4e00\u4e2a\u5411\u672c\u6307\u5f15\u6587\u6863\u7f51\u7ad9\u53d1\u51fa <code>GET</code> \u8bf7\u6c42\u7684 <code>requsets</code> \u5bf9\u8c61 <code>r</code>\u3002\u5f53\u7136\uff0c\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5b57\u5178\u7684\u5f62\u5f0f\u4f20\u53c2\uff0c\u6bd4\u5982\uff1a</p> <pre><code>&gt;&gt;&gt; payload = {'key1': 'value1', 'key2': 'value2'}\n&gt;&gt;&gt; r = requests.get('https://httpbin.org/get', params=payload)\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>r</code> \u7684 <code>url</code> \u5c5e\u6027\u6765\u67e5\u770b\u7ed3\u679c\uff1a</p> <pre><code>&gt;&gt;&gt; print(r.url)\nhttps://httpbin.org/get?key2=value2&amp;key1=value1\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u6210\u529f\u901a\u8fc7 <code>params</code> \u5b8c\u6210\u4e86\u4f20\u53c2\u7684\u9700\u6c42\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5229\u7528\u5b57\u5178\u5185\u5d4c\u5957\u5217\u8868\u6765\u8fdb\u884c\u4f20\u53c2\uff0c\u5177\u4f53\u7559\u7ed9\u8bfb\u8005\u5c1d\u8bd5\u3002</p> <p>\u83b7\u53d6\u54cd\u5e94\u7684 <code>requests</code> \u5bf9\u8c61 <code>r</code> \u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5176 <code>text</code>\u3001<code>content</code>\u3001<code>raw</code> \u5c5e\u6027\u6216 <code>json</code> \u65b9\u6cd5\u6765\u83b7\u53d6\u54cd\u5e94\u7ed3\u679c\u3002\u5176\u4e2d <code>raw</code> \u5c5e\u6027\u6211\u4eec\u4f7f\u7528\u8f83\u5c11\u3002</p> <ul> <li><code>text</code> \u5c5e\u6027\u8fd4\u56de\u54cd\u5e94\u5185\u5bb9\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u4ed6\u4f1a\u81ea\u52a8\u5bf9\u54cd\u5e94\u5185\u5bb9\u8fdb\u884c\u89e3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 <code>r.encoding</code> \u6765\u8bbe\u7f6e\u5176\u7f16\u7801\uff0c\u5982 <code>r.encoding = \"utf-8\"</code>\u3002\u7531\u4e8e\u5176\u80fd\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u9002\u5f53\u7684\u89e3\u7801\uff0c\u901a\u5e38\u88ab\u7528\u6765\u89e3\u6790 HTML \u9875\u9762\u6216\u7eaf\u6587\u672c\u5185\u5bb9\u3002</li> <li><code>content</code> \u5c5e\u6027\u8fd4\u56de\u54cd\u5e94\u5185\u5bb9\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u4e0d\u4f1a\u5bf9\u54cd\u5e94\u5185\u5bb9\u8fdb\u884c\u89e3\u7801\uff0c\u591a\u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5982\u56fe\u50cf\u7b49\u3002</li> <li><code>json</code> \u65b9\u6cd5\u5c1d\u8bd5\u5c06\u54cd\u5e94\u5185\u5bb9\u89e3\u6790\u4e3a JSON \u683c\u5f0f\uff0c\u5e76\u8fd4\u56de\u89e3\u6790\u540e\u7684 Python \u5bf9\u8c61\u3002</li> <li><code>raw</code> \u5c5e\u6027\u8fd4\u56de\u5e95\u5c42\u7684\u539f\u59cb\u54cd\u5e94\u5185\u5bb9\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a <code>HTTPResponse</code> \u5bf9\u8c61\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u76f4\u63a5\u8bbf\u95ee <code>raw</code> \u5c5e\u6027\uff0c\u9664\u975e\u9700\u8981\u5904\u7406\u975e\u6587\u672c\u6216\u975e JSON \u7684\u7279\u6b8a\u54cd\u5e94\u6570\u636e\u3002</li> </ul> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5728\u53d1\u9001\u8bf7\u6c42\u65f6\u8981\u9644\u5e26 headers \u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u5b57\u5178\u6765\u4f20\u9012\uff0c\u6bd4\u5982\uff1a</p> <pre><code>&gt;&gt;&gt; url = 'https://api.github.com/some/endpoint'\n&gt;&gt;&gt; headers = {'user-agent': 'my-app/0.0.1'}\n&gt;&gt;&gt; r = requests.get(url, headers=headers)\n</code></pre>"},{"location":"backend/crawler/crawler/#headers","title":"headers \u7684\u91cd\u8981\u6027","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u51e0\u4e2a\u5b9e\u9a8c\u6765\u4e86\u89e3 headers \u7684\u91cd\u8981\u6027\u3002\u6211\u4eec\u5229\u7528 Postman\uff0c\u4f7f\u7528\u9ed8\u8ba4 headers \u5bf9 \u77e5\u4e4e\u70ed\u699c \u53d1\u8d77 GET \u8bf7\u6c42\uff0c\u53d1\u73b0\u8fd4\u56de\u7684\u54cd\u5e94\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u9700\u8981\u8f93\u5165\u8d26\u53f7\u5bc6\u7801\u767b\u5f55\u624d\u53ef\u4ee5\u67e5\u770b\u77e5\u4e4e\u5185\u5bb9\u3002\u5982\u679c\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u66fe\u767b\u5f55\u8fc7\u77e5\u4e4e\u8d26\u53f7\uff0c\u518d\u6b21\u8fdb\u884c\u8bbf\u95ee\u65f6\u5c31\u53ef\u4ee5\u81ea\u52a8\u767b\u5f55\u3002\u4e3a\u4e86\u5b9e\u73b0\u81ea\u52a8\u767b\u5f55\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u5728 headers \u4e2d\u6dfb\u52a0 cookie \u6765\u4f20\u9012\u7528\u6237\u767b\u5f55\u4fe1\u606f\u3002</p> <p>cookie \u7684\u83b7\u53d6\u53ef\u4ee5\u501f\u52a9\u6d4f\u89c8\u5668\u4e2d\u7684\u68c0\u67e5\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u53f3\u952e\u6253\u5f00\u68c0\u67e5\u9875\u9762\u3002\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7684 F12 \u5feb\u6377\u952e\u3002\u968f\u540e\u6211\u4eec\u627e\u5230\u7f51\u7edc\u90e8\u5206\uff0c\u91cd\u65b0\u8bbf\u95ee\u77e5\u4e4e\uff0c\u53ef\u4ee5\u770b\u5230\u65f6\u95f4\u7ebf\u6700\u9760\u524d\u7684\u6587\u4ef6\u4e3a <code>hot</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u627e\u5230\u8bf7\u6c42\u6807\u5934\u4e2d\u7684 cookie \u90e8\u5206\u5185\u5bb9\uff0c\u8fd9\u5176\u4e2d\u8bb0\u5f55\u4e86\u6211\u4eec\u7684\u767b\u5f55\u72b6\u6001\u3002</p> <p>\u65b0\u5efa Postman headers \u952e\u503c\u5bf9\uff0c\u5176\u4e2d key \u4e3a cookie\uff0cvalue \u4e3a \u521a\u521a\u627e\u5230\u7684 cookie\u3002\u91cd\u65b0\u53d1\u9001 GET \u8bf7\u6c42\uff0c\u5f97\u5230\u5982\u4e0b\u54cd\u5e94\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u5f53\u6211\u4eec\u5728 headers \u4e2d\u52a0\u5165\u9002\u5f53 cookie \u5c31\u53ef\u4ee5\u5b9e\u73b0\u514d\u5bc6\u767b\u5f55\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u518d\u770b\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002\u5728 Python \u4e2d\u5c1d\u8bd5\u4f7f\u7528 requests \u9ed8\u8ba4 headers \u8bbf\u95ee \u5317\u4eac\u536b\u5065\u59d4\u3002</p> <pre><code>&gt;&gt;&gt; url = \"https://wjw.beijing.gov.cn/\"\n&gt;&gt;&gt; response = requests.get(url=url)\n&gt;&gt;&gt; print(response.status_code)\n403\n</code></pre> <p>\u6211\u4eec\u53d1\u73b0\u54cd\u5e94\u7684\u72b6\u6001\u7801\u4e3a 403\uff0c\u8bc1\u660e\u670d\u52a1\u5668\u7531\u4e8e\u5ba2\u6237\u7aef\u539f\u56e0\u62d2\u7edd\u4e86\u6211\u4eec\u7684\u8bbf\u95ee\u3002\u5176\u5b9e\u62d2\u7edd\u8bbf\u95ee\u7684\u539f\u56e0\u662f\u6211\u4eec\u5728\u5229\u7528 requests \u7684\u9ed8\u8ba4 headers \u8fdb\u884c GET \u8bf7\u6c42\u65f6\uff0c\u7f51\u7ad9\u901a\u8fc7\u6211\u4eec\u7684 User-Agent \u76f4\u63a5\u53d1\u73b0\u4e86\u6211\u4eec\u722c\u866b\u7684\u8eab\u4efd\uff0c\u4e8e\u662f\u62d2\u7edd\u4e86\u6211\u4eec\u7684\u8bbf\u95ee\u3002\u4e0b\u9762\u6211\u4eec\u5c1d\u8bd5\u5c06 requests \u7684 headers\uff08\u7ec4\u7ec7\u5f62\u5f0f\u4e3a\u5b57\u5178\uff09 \u4e2d\u7684 User-Agent \u4fee\u6539\u4e3a\u6211\u4eec\u6d4f\u89c8\u5668\u7684 User-Agent\uff08\u67e5\u627e\u672c\u5730\u6d4f\u89c8\u5668 User-Agent \u7684\u65b9\u6cd5\u4e0e\u4e0a\u8ff0\u67e5\u627e cookie \u7684\u65b9\u6cd5\u7c7b\u4f3c\uff09\u3002</p> fake-useragent \u7b2c\u4e09\u65b9\u5e93 <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u5229\u7528 fake-useragent \u7b2c\u4e09\u65b9\u5e93\u751f\u6210\u968f\u673a\u7684 User-Agent \u5b57\u7b26\u4e32\uff0c\u4ee5\u6a21\u62df\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u548c\u8bbe\u5907\u6765\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u7a81\u7834\u67d0\u4e9b\u7f51\u7ad9\u7684\u53cd\u722c\u673a\u5236\u3002\u672c\u6587\u6863\u4ec5\u4f5c\u5165\u95e8\u6559\u5b66\uff0c\u8bbe\u8ba1\u6837\u4f8b\u65e0\u9700\u501f\u52a9 fake-useragent\uff0c\u7ed3\u5408\u7bc7\u5e45\u539f\u56e0\u4e0d\u591a\u8d58\u8ff0\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u9605\u8bfb fake-useragent\u5b98\u65b9\u6587\u6863 \u81ea\u884c\u5b66\u4e60\u3002</p> <pre><code>&gt;&gt;&gt; headers = {\n...     \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36\",\n... }\n&gt;&gt;&gt; response = requests.get(url=url, headers=headers)\n&gt;&gt;&gt; print(response.status_code)\n200\n</code></pre> <p>\u6b64\u65f6\u54cd\u5e94\u7684\u72b6\u6001\u7801\u4e3a 200\uff0c\u8bc1\u660e\u6b64\u65f6\u6211\u4eec\u6210\u529f\u8bbf\u95ee\u4e86\u8be5\u7f51\u7ad9\u3002</p> <p>\u7efc\u4e0a\uff0c\u5408\u7406\u4fee\u6539 headers \u65e2\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u514d\u5bc6\u767b\u5f55\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u6211\u4eec\u7684\u8eab\u4efd\u7531\u722c\u866b\u53d8\u4e3a\u6d4f\u89c8\u5668\uff0c\u4ece\u800c\u907f\u514d\u88ab\u90e8\u5206\u7f51\u7ad9\u62d2\u7edd\u8bbf\u95ee\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee3\u7406 IP \u7b49\u624b\u6bb5\u6765\u7a81\u7834\u67d0\u4e9b\u7f51\u7ad9\u7684\u53cd\u722c\u673a\u5236\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u5b66\u4e60\u3002</p>"},{"location":"backend/crawler/crawler/#beautiful-soup","title":"Beautiful Soup \u5165\u95e8","text":"<p>\u6700\u540e\uff0c\u5728\u5f00\u59cb\u6b63\u5f0f\u722c\u866b\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u8981\u7b80\u5355\u5b66\u4e60\u4e00\u4e0b Beautiful Soup\uff08\u4ee5\u4e0b\u7b80\u79f0\u4e3a BS\uff09\u3002BS \u5c06\u590d\u6742\u7684 HTML \u6587\u6863\u8f6c\u6362\u6210\u4e00\u4e2a\u590d\u6742\u7684\u7531 Python \u5bf9\u8c61\u6784\u6210\u7684\u6811\u5f62\u7ed3\u6784\uff0cBS \u5305\u542b 4 \u79cd\u7c7b\u578b\u7684\u5bf9\u8c61: <code>Tag</code>\u3001<code>NavigableString</code>\u3001<code>BeautifulSoup</code> \u548c <code>Comment</code>\u3002</p> <p>Tag</p> <p><code>Tag</code> \u4e0e HTML/XML \u4e2d\u7684 tag \u7c7b\u4f3c\uff0c\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002</p> <ul> <li><code>name</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684\u540d\u79f0\uff0c\u5373\u6807\u7b7e\u7684\u7c7b\u578b\u3002</li> <li><code>attrs</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178\uff0c\u5305\u542b\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u548c\u5bf9\u5e94\u7684\u503c\u3002</li> <li><code>text</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u5185\u7684\u6587\u672c\u5185\u5bb9\uff0c\u4e0d\u5305\u62ec\u5b50\u6807\u7b7e\u7684\u6587\u672c\u3002</li> <li><code>string</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u5185\u7684\u6587\u672c\u5185\u5bb9\uff0c\u5305\u62ec\u5b50\u6807\u7b7e\u7684\u6587\u672c\uff08\u5176\u5b9e\u8fd4\u56de\u4e86\u4e00\u4e2a <code>NavigableString</code> \u5bf9\u8c61\uff09\u3002</li> <li><code>parent</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684\u7236\u6807\u7b7e\u3002</li> <li><code>contents</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u4ee5\u5217\u8868\u5f62\u5f0f\u8fd4\u56de\u3002</li> <li><code>next_sibling</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684\u4e0b\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\u3002</li> <li><code>previous_sibling</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684\u4e0a\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0b\u4f8b\u5b50\uff0c\u60a8\u53ef\u4ee5\u5927\u81f4\u4e86\u89e3\u4ed6\u4eec\u4e0e HTML/XML \u4e2d tag \u7684\u5bf9\u5e94\u5173\u7cfb\u3002</p> <p>\u8fd9\u91cc\u7528\u5230\u4e86 <code>BeautifulSoup</code> \u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u89e3\u6790 HTML \u4ece\u800c\u83b7\u5f97 <code>Tag</code> \u5bf9\u8c61\u3002\u6709\u5173\u524d\u8005\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u7a0d\u540e\u4f1a\u63d0\u53ca\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5ffd\u7565\u7ec6\u8282\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>BeautifulSoup.new_tag(name, attrs, **kwargs)</code> \u6765\u6784\u9020\u4e00\u4e2a <code>Tag</code> \u5bf9\u8c61\u3002</p> <pre><code>&gt;&gt;&gt; html = \"\"\"\n... &lt;html&gt;\n...     &lt;p id=\"welcome\"&gt;Hello, world!&lt;/p&gt;\n...     &lt;div class=\"CST\" id=\"9#\"&gt;\n...         &lt;p&gt;\u4e0b\u9762\u662f\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9&lt;/p&gt;\n...         &lt;a href=\"https://docs.net9.org\"&gt;\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9&lt;/a&gt;\n...         &lt;p&gt;\u4e0a\u9762\u662f\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9&lt;/p&gt;\n...     &lt;/div&gt;\n... &lt;/html&gt;\n... \"\"\"\n&gt;&gt;&gt; bs = BS(html)\n&gt;&gt;&gt; tag_p = bs.p\n&gt;&gt;&gt; tag_div = bs.div\n&gt;&gt;&gt; print(tag_p)\n&lt;p id=\"welcome\"&gt;Hello, world!&lt;/p&gt;\n&gt;&gt;&gt; print(tag_div)\n&lt;div class=\"CST\" id=\"9#\"&gt;\n&lt;p&gt;\u4e0b\u9762\u662f\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9&lt;/p&gt;\n&lt;a href=\"https://docs.net9.org\"&gt;\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9&lt;/a&gt;\n&lt;p&gt;\u4e0a\u9762\u662f\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9&lt;/p&gt;\n&lt;/div&gt;\n&gt;&gt;&gt; print(tag_p.name)\np\n&gt;&gt;&gt; print(tag_div.name)\ndiv\n&gt;&gt;&gt; print(tag_p.attrs)\n{'id': 'welcome'}\n&gt;&gt;&gt; print(tag_div.attrs)\n{'class': ['CST'], 'id': '9#'}\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u8f93\u51fa\u7ed3\u679c\u6211\u4eec\u6ce8\u610f\u5230\uff0c<code>Tag</code> \u5bf9\u8c61 <code>attrs</code> \u4e2d\u7684 <code>class</code> \u5c5e\u6027\u662f\u4e00\u4e2a\u5217\u8868\u3002\u8fd9\u662f\u56e0\u4e3a\u4ece HTML4 \u5f00\u59cb\uff0c\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u503c\u7684\u5c5e\u6027\uff0c\u800c <code>class</code> \u5c31\u662f\u6700\u5e38\u89c1\u7684\u591a\u503c\u5c5e\u6027\u3002BS \u9009\u62e9\u628a HTML \u4e2d\u7684\u591a\u503c\u5c5e\u6027\u8f6c\u5316\u4e3a Python \u4e2d\u7684\u5217\u8868\u3002</p> <p>\u5bf9 <code>Tag</code> \u7684 <code>attrs</code> \u5c5e\u6027\u7684\u64cd\u4f5c\u4e0e\u5b57\u5178\u76f8\u540c\uff0c\u4e5f\u5373\u60a8\u53ef\u4ee5\u76f4\u63a5\u5229\u7528 <code>Tag[attr]</code> \u6765\u8bbf\u95ee <code>Tag</code> \u7684\u67d0\u4e2a <code>attr</code> \u5c5e\u6027\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>&gt;&gt;&gt; print(tag_div[\"class\"])\n['CST']\n&gt;&gt;&gt; tag_div[\"style\"] = \"font-size: 2em\"\n&gt;&gt;&gt; print(tag_div.attrs)\n{'class': ['CST'], 'id': '9#', 'style': 'font-size: 2em'}\n</code></pre> <p>\u5bf9\u4e8e <code>text</code> \u548c <code>string</code> \u7684\u63cf\u8ff0\u53ef\u80fd\u6709\u4e9b\u4ee4\u4eba\u8ff7\u60d1\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u80fd\u5f88\u597d\u5730\u5e2e\u52a9\u60a8\u7406\u89e3\u5b83\u4eec\u7684\u533a\u522b\u3002</p> <pre><code>&gt;&gt;&gt; print(tag_p.text)\nHello, world!\n&gt;&gt;&gt; print(tag_div.text)\n\n\u4e0b\u9762\u662f\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9\n\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9\n\u4e0a\u9762\u662f\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f docs9 \u7f51\u7ad9\n&gt;&gt;&gt; print(tag_p.string)\nHello, world!\n&gt;&gt;&gt; print(tag_div.string)\nNone\n</code></pre> <p>\u7b80\u5355\u6765\u8bf4\uff0c<code>text</code> \u5c5e\u6027\u53ef\u4ee5\u8ba4\u4e3a\u662f\u9012\u5f52\u8fd4\u56de\u8be5 <code>Tag</code> \u53ca\u5176\u540e\u4ee3\u8282\u70b9\u4e2d\u7684\u6240\u6709\u6587\u672c\u5185\u5bb9\uff0c\u800c <code>string</code> \u5c5e\u6027\u4ec5\u8fd4\u56de\u8be5\u8282\u70b9\u81ea\u8eab\u7684\u6587\u672c\u5185\u5bb9\u3002</p> <p>\u5176\u4f59\u7684\u5c5e\u6027\u4e0d\u96be\u7406\u89e3\u5176\u542b\u4e49\uff0c\u672c\u6587\u5c31\u4e0d\u5217\u51fa\u76f8\u5173\u4f8b\u5b50\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u3002</p> <p>\u6b64\u5916\uff0c<code>Tag</code> \u8fd8\u6709\u4ee5\u4e0b\u65b9\u6cd5,\u6211\u4eec\u5efa\u8bae\u60a8\u7565\u8bfb\u4ee5\u4e0b\u90e8\u5206\u5373\u53ef\u3002</p> <p>\u60a8\u53ef\u4ee5\u6ce8\u610f\u5230\uff0c\u4e0b\u6587\u4e2d\u6709 \u201cfind\u201d \u5b57\u773c\u7684\u65b9\u6cd5\u7684\u8bf4\u660e\u90fd\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u7a0d\u540e\u6211\u4eec\u4f1a\u4ee5 <code>find_all()</code> \u4e3a\u4ee3\u8868\u4f5c\u7b80\u5355\u4ecb\u7ecd\u3002\u6b64\u5916\uff0c\u4e0b\u6587\u4e2d\u6240\u63d0\u5230\u7684\u201c\u751f\u6210\u5668\u201d\u6307\u7684\u662f BS \u4e2d\u7684\u4e00\u4e2a\u53ef\u8fed\u4ee3\u7ed3\u679c\u96c6 <code>ResultSet</code>\uff08\u60a8\u53ef\u4ee5\u8ba4\u4e3a\u5b83\u4e0e Python \u5185\u7f6e\u7684\u5217\u8868\u7c7b\u4f3c\uff09\u3002</p> <ul> <li><code>find_all(name, attrs, recursive, text, limit, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u7684\u540e\u4ee3\u8282\u70b9\u4e2d\u67e5\u627e\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u6240\u6709\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u3002</li> <li><code>find(name, attrs, recursive, text, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u7684\u540e\u4ee3\u8282\u70b9\u4e2d\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002\u53ef\u4ee5\u8ba4\u4e3a\u662f <code>limit</code> \u4e3a 1 \u7684 <code>find_all()</code>\uff0c\u53ea\u4e0d\u8fc7 <code>find()</code> \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5143\u7d20\u800c\u4e0d\u662f\u4e00\u4e2a\u751f\u6210\u5668\u3002</li> <li><code>find_parent(name, attrs, text, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u7684\u7236\u8282\u70b9\u4e2d\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002</li> <li><code>find_all_next(name, attrs, text, limit, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u540e\u67e5\u627e\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u6240\u6709\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u3002</li> <li><code>find_next(name, attrs, text, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u540e\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002</li> <li><code>find_all_previous(name, attrs, text, limit, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u524d\u67e5\u627e\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u6240\u6709\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u3002</li> <li><code>find_previous(name, attrs, text, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u524d\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002</li> <li><code>find_all_next_sibling(name, attrs, text, limit, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u540e\u7684\u5144\u5f1f\u8282\u70b9\u4e2d\u67e5\u627e\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u6240\u6709\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u3002</li> <li><code>find_next_sibling(name, attrs, text, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u540e\u7684\u5144\u5f1f\u8282\u70b9\u4e2d\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002</li> <li><code>find_all_previous_sibling(name, attrs, text, limit, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u524d\u7684\u5144\u5f1f\u8282\u70b9\u4e2d\u67e5\u627e\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u6240\u6709\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u3002</li> <li><code>find_previous_sibling(name, attrs, text, **kwargs)</code>\uff1a\u5728\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u4e4b\u524d\u7684\u5144\u5f1f\u8282\u70b9\u4e2d\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002</li> <li><code>append(element)</code>\uff1a\u5c06\u6307\u5b9a\u7684\u5143\u7d20\u4f5c\u4e3a\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u7684\u5b50\u8282\u70b9\u8ffd\u52a0\u5230\u672b\u5c3e\u3002</li> <li><code>insert(position, element)</code>\uff1a\u5728\u6307\u5b9a\u7684\u4f4d\u7f6e\u5c06\u6307\u5b9a\u7684\u5143\u7d20\u4f5c\u4e3a\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u7684\u5b50\u8282\u70b9\u63d2\u5165\u3002</li> <li><code>extract()</code>\uff1a\u4ece\u6587\u6863\u4e2d\u63d0\u53d6\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u4ece\u6587\u6863\u6811\u4e2d\u79fb\u9664\u3002</li> <li><code>replace_with(new_tag)</code>\uff1a\u4f7f\u7528\u65b0\u7684\u6807\u7b7e\u66ff\u6362\u5f53\u524d <code>Tag</code> \u5bf9\u8c61\u3002</li> </ul> <p><code>find_all()</code> \u65b9\u6cd5\u63a5\u53d7\u4ee5\u4e0b\u53c2\u6570\uff1a</p> <ul> <li><code>name</code>\uff1a\u6307\u5b9a\u8981\u5339\u914d\u7684\u5143\u7d20 HTML \u6807\u7b7e\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u5217\u8868\uff0c\u53ef\u4ee5\u7701\u7565\u3002</li> <li><code>attrs</code>\uff1a\u4ee5\u5b57\u5178\u5f62\u5f0f\u6307\u5b9a\u8981\u5339\u914d\u7684\u5143\u7d20\u5c5e\u6027\uff0c\u53ef\u4ee5\u7701\u7565\u3002</li> <li><code>class_</code>\uff1a\u6307\u5b9a\u8981\u5339\u914d\u7684\u5143\u7d20\u7684 CSS class\uff08\u6ce8\u610f\u8fd9\u91cc\u4e3a\u4e86\u907f\u514d\u4e0e Python <code>class</code> \u91cd\u590d\uff0c\u53c2\u6570\u540d\u4e3a <code>class_</code>\uff09\uff0c\u53ef\u4ee5\u7701\u7565\u3002</li> <li><code>string</code>\uff1a\u6307\u5b9a\u8981\u5339\u914d\u7684\u5143\u7d20\u6240\u5305\u542b\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u7701\u7565\u3002</li> <li><code>limit</code>\uff1a\u6307\u5b9a\u6700\u591a\u5339\u914d\u51e0\u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u663e\u793a\u5168\u90e8\u5339\u914d\u7ed3\u679c\u3002</li> <li><code>recursive</code>\uff1a\u6307\u5b9a\u662f\u5426\u9012\u5f52\u641c\u7d22\u5b50\u8282\u70b9\uff0c\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>True</code>\u3002</li> <li><code>**kwargs</code>\uff1a\u5176\u4ed6\u5173\u952e\u5b57\u53c2\u6570\uff0c\u7528\u4e8e\u8fdb\u4e00\u6b65\u7b5b\u9009\u5143\u7d20\uff0c\u53ef\u4ee5\u7701\u7565\u3002</li> </ul> <p>\u5e26\u6709 \u201cfind\u201d \u5b57\u773c\u7684\u65b9\u6cd5\u662f\u722c\u866b\u6700\u5e38\u7528\u5230\u7684\u3002\u7531\u4e8e\u5176\u4ed6\u65b9\u6cd5\u6bd4\u8f83\u597d\u7406\u89e3\u4e14\u672c\u6587\u6863\u4e0d\u4f1a\u7528\u5230\uff0c\u56e0\u6b64\u4e0d\u4f5c\u4ecb\u7ecd\uff0c\u4f9b\u611f\u5174\u8da3\u7684\u8bfb\u8005\u81ea\u884c\u4e86\u89e3\u3002</p> <p>NavigableString</p> <p><code>NavigableString</code> \u4e3b\u8981\u662f\u901a\u8fc7\u5176\u4ed6\u5bf9\u8c61\u7684 <code>string</code> \u5c5e\u6027\u5f97\u5230\u7684\uff0c\u4e3a\u53ef\u5bfc\u822a\u5b57\u7b26\u4e32\u3002\u5f53\u7136\u60a8\u4e5f\u53ef\u4ee5\u5229\u7528\u5176\u81ea\u8eab\u6784\u9020\u51fd\u6570 <code>NavigableString(string)</code> \u6765\u8fdb\u884c\u6784\u9020\u3002\u5b83\u7ee7\u627f\u81ea Python \u7684\u5b57\u7b26\u4e32\u7c7b\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u6765\u64cd\u4f5c\u548c\u8bbf\u95ee\u6587\u672c\u5185\u5bb9\u3002\u5176\u6574\u4f53\u4e0a\u7684\u65b9\u6cd5\u4e0e <code>Tag</code> \u7c7b\u4f3c\uff0c\u8bfb\u8005\u53ef\u4ee5\u7c7b\u6bd4\u81ea\u884c\u5b66\u4e60\u3002</p> <p>BeautifulSoup</p> <p><code>BeautifulSoup</code> \u5bf9\u8c61\u662f BS \u4e2d\u7684\u6838\u5fc3\u5bf9\u8c61\uff0c\u7528\u4e8e\u8868\u793a\u89e3\u6790\u540e\u7684 HTML/XML\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 <code>BeautifulSoup(markup, parser)</code> \u6765\u8fdb\u884c\u6784\u9020\u3002\u5176\u4e2d <code>markup</code> \u662f\u8981\u89e3\u6790\u7684 HTML/XML \u5b57\u7b26\u4e32\uff0c\u800c <code>parser</code> \u662f\u89e3\u6790\u5668\u7684\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a Python \u5e93\u4e2d\u7684 HTML \u89e3\u6790\u5668 <code>\"html.parser\"</code>\uff0c\u5f53\u7136\u60a8\u4e5f\u53ef\u4ee5\u9009\u62e9 <code>\"lxml\"</code>\uff0c<code>\"xml\"</code> \u7b49\u89e3\u6790\u5668\u3002</p> <p><code>BeautifulSoup</code> \u5bf9\u8c61\u4e0e <code>Tag</code> \u5bf9\u8c61\u5f88\u76f8\u4f3c\uff0c\u4f46\u5bf9\u6bd4\u6765\u770b\uff0c\u5b83\u5904\u7406\u7684\u662f HTML/XML \u6587\u6863\uff0c\u800c <code>Tag</code> \u5904\u7406\u7684\u5219\u662f HTML/XML \u4e2d\u7684\u67d0\u4e2a tag\u3002\u5b83\u7684\u5c5e\u6027\u4e0e\u63a5\u53e3\u4e5f\u4e0e <code>Tag</code> \u7c7b\u4f3c\uff0c\u8bf7\u8bfb\u8005\u7c7b\u6bd4\u81ea\u884c\u5b66\u4e60\u3002</p> <p>\u4e0d\u8fc7\u9700\u8981\u989d\u5916\u6307\u51fa\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee <code>BeautifulSoup</code> \u7684\u6807\u7b7e\u5c5e\u6027\u6765\u5f97\u5230\u8be5\u5bf9\u8c61\u4e2d\u7684\u7b26\u5408\u8981\u6c42\u7684\u7b2c\u4e00\u4e2a <code>Tag</code> \u5bf9\u8c61\uff0c\u8fd9\u4e0e <code>find()</code> \u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u662f\u7b49\u6548\u7684\uff0c\u4f46\u8fd9\u53ea\u80fd\u9002\u7528\u4e8e\u67e5\u627e\u7279\u5b9a\u6807\u7b7e\u7c7b\u578b\u7684\u60c5\u51b5\u3002\u6211\u4eec\u6b63\u662f\u5982\u6b64\u83b7\u5f97\u4e0a\u6587\u4e2d\u7684 <code>tag_p</code> \u4e0e <code>tag_div</code> \u7684\u3002</p> <p>Comment</p> <p><code>Comment</code> \u7528\u4e8e\u8868\u793a HTML/XML \u4e2d\u7684\u6ce8\u91ca\u5185\u5bb9\uff0c\u4f7f\u7528\u5f88\u7b80\u5355\uff0c\u4e5f\u4e0e\u4e0a\u8ff0\u7c7b\u4f3c\uff0c\u672c\u6587\u4e0d\u4f5c\u8d58\u8ff0\u3002</p>"},{"location":"backend/crawler/crawler/#_8","title":"\u5b9e\u6218\u7ec3\u4e60","text":"<p>\u81f3\u6b64\uff0c\u5229\u7528 HTTP \u5e93\u548c\u89e3\u6790\u5e93\u8fdb\u884c\u722c\u866b\u7684\u57fa\u672c\u5de5\u5177\u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u4e86\uff0c\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\u8fdb\u884c\u5b66\u4e60\u3002\u672c\u6587\u6863\u51c6\u5907\u4e86\u4e24\u4e2a\u5b9e\u8df5\u8303\u4f8b\u4ee5\u4f9b\u5927\u5bb6\u5b66\u4e60\uff0c\u4e00\u4e2a\u662f\u722c\u53d6\u77e5\u4e4e\u70ed\u699c\u94fe\u63a5\uff0c\u53e6\u4e00\u4e2a\u662f\u722c\u53d6\u77e5\u4e4e\u67d0\u95ee\u9898\u4e0b\u7684\u6240\u6709\u56de\u7b54\u3002</p>"},{"location":"backend/crawler/crawler/#_9","title":"\u722c\u53d6\u77e5\u4e4e\u70ed\u699c\u94fe\u63a5","text":"<p>\u6211\u4eec\u5e73\u5e38\u5728\u6d4f\u89c8\u5668\u4e2d\u770b\u5230\u7684\u7f51\u9875\u4e3b\u8981\u662f\u901a\u8fc7 HTML \u6e32\u67d3\u5f97\u5230\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u70b9\u51fb\u68c0\u67e5\u754c\u9762\u4e2d\u7684\u5728\u9875\u9762\u4e2d\u9009\u62e9\u4e00\u4e2a\u5143\u7d20\u4ee5\u8fdb\u884c\u68c0\u67e5\u6216\u4f7f\u7528\u5feb\u6377\u952e Ctrl + Shift + C\uff0c\u7136\u540e\u70b9\u51fb\u7f51\u9875\u4e2d\u7684\u5143\u7d20\u4ee5\u5feb\u901f\u627e\u5230\u76f8\u5e94\u5143\u7d20\u5728 HTML \u4e2d\u7684\u4f4d\u7f6e\u3002</p> <p>\u6211\u4eec\u9700\u8981\u83b7\u53d6\u70ed\u699c\u4e2d\u6bcf\u4e2a\u8bdd\u9898\u5bf9\u5e94\u7684\u8be6\u60c5\u9875\u8fde\u63a5\uff0c\u800c\u6839\u636e\u5e38\u8bc6\uff0c\u70b9\u51fb\u6807\u9898\u5c31\u53ef\u4ee5\u8df3\u8f6c\u5230\u8be6\u60c5\u9875\uff0c\u4e8e\u662f\u5229\u7528\u4e0a\u8ff0\u65b9\u6cd5\u67e5\u627e\u5373\u53ef\u627e\u5230\u70ed\u699c\u8bdd\u9898\u6240\u5bf9\u5e94\u7684\u94fe\u63a5\u3002</p> <p></p> <p>\u8fdb\u884c\u7c7b\u4f3c\u5206\u6790\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u70ed\u699c\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6761\u76ee\u90fd\u88ab\u5c01\u88c5\u5728\u4e00\u4e2a <code>class</code> \u4e3a <code>HotItem-content</code> \u7684\u5bb9\u5668\u4e2d\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5229\u7528 BS \u6765\u7b5b\u9009\u8be5 HTML \u4e2d\u7279\u5b9a\u7c7b\u7684\u5bb9\u5668\u4ece\u800c\u83b7\u53d6\u5230\u70ed\u699c\u94fe\u63a5\u3002</p> <p>\u6211\u4eec\u5148\u7ed9\u51fa\u4ee3\u7801\uff0c\u968f\u540e\u4f5c\u4ee5\u89e3\u91ca\u3002</p> <pre><code>import requests\nfrom bs4 import BeautifulSoup as BS\nimport json\nfrom typing import List\n\ndef get_zhihu_hot_urls() -&gt; List[str]:\n    \"\"\"\n    Get the hot urls list of zhihu\n\n    Returns:\n        The hot urls list of zhihu\n    \"\"\"\n    url = \"https://www.zhihu.com/hot\"\n    headers = {}\n    with open(\"config.json\", \"r\") as f: # you should create your \"config.json\" according to your User-Agent and cookie\n        config = json.load(f)\n    headers[\"User-Agent\"] = config[\"User-Agent\"]\n    headers[\"cookie\"] = config[\"cookie\"]\n\n    resp = requests.get(url=url, headers=headers)\n    soup = BS(resp.text) # you can parse another parser like lxml instead\n    hot_list = []\n    for item in soup.find_all(\"div\", class_=\"HotItem-content\"):\n        tag = item.find(\"a\")\n        hot_list.append(tag[\"href\"])\n    return hot_list\n</code></pre> <p>\u7531\u4e8e\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u9a8c\u8bc1\uff0c\u82e5\u60f3\u6d4f\u89c8\u77e5\u4e4e\u5185\u5bb9\u5fc5\u987b\u8981\u8fdb\u884c\u767b\u5f55\uff0c\u56e0\u6b64\u9700\u8981\u5728 <code>headers</code> \u4e2d\u6dfb\u52a0 <code>\"cookie\"</code> \u5b9e\u73b0\u7528\u6237\u767b\u5f55\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u4fee\u6539 <code>\"User-Agent\"</code> \u4e3a\u6211\u4eec\u6d4f\u89c8\u5668\u7684 User-Agent \u4ece\u800c\u5c3d\u91cf\u907f\u514d\u88ab\u8bc6\u522b\u4e3a\u722c\u866b\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528 <code>requests.get(url, headers)</code> \u6765\u5411\u77e5\u4e4e\u70ed\u699c\u53d1\u51fa\u8bf7\u6c42\uff0c\u5e76\u5c06\u54cd\u5e94\u7ed3\u679c\u5b58\u50a8\u5728 <code>resp</code> \u4e2d\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u8981\u89e3\u6790\u7684\u662f\u54cd\u5e94\u4e2d\u7684 HTML\uff0c\u56e0\u6b64\u8c03\u7528 <code>resp.text</code> \u4ece\u800c\u83b7\u5f97\u54cd\u5e94\u7684\u6587\u672c\u5b57\u7b26\u4e32\uff0c\u628a\u4ed6\u6784\u9020\u4e3a <code>BeautifulSoup</code> \u5bf9\u8c61 <code>soup</code>\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8c03\u7528 <code>soup.find_all()</code> \u4ece\u800c\u627e\u5230\u6240\u6709\u6807\u7b7e\u540d\u4e3a <code>div</code> \u4e14 CSS class \u4e3a <code>HotItem-content</code> \u7684 <code>Tag</code> \u5bf9\u8c61\u3002\u968f\u540e\u6211\u4eec\u904d\u5386\u521a\u521a\u5f97\u5230\u7684\u751f\u6210\u5668\u4e2d\u7684\u5143\u7d20 <code>item</code>\uff0c\u8c03\u7528\u5176 <code>find()</code> \u65b9\u6cd5\u4ece\u800c\u627e\u5230\u6240\u6709\u6807\u7b7e\u540d\u4e3a <code>a</code> \u7684 <code>Tag</code>\uff0c\u4e5f\u5373\u8bdd\u9898 url \u6240\u5728\u7684\u6807\u7b7e\u3002\u5bf9\u4e8e\u521a\u521a\u88ab\u627e\u5230\u7684 <code>tag</code> \u5bf9\u8c61\uff0c\u6211\u4eec\u76f4\u63a5\u628a\u5b83\u7684 <code>attrs</code> \u4e2d\u7684 <code>href</code> \u5c5e\u6027\u52a0\u5165 <code>hot_list</code>\u3002\u6700\u540e\u5728\u904d\u5386\u5b8c\u6210\u540e\uff0c\u8fd4\u56de <code>hot_list</code> \u5373\u53ef\u5b9e\u73b0\u77e5\u4e4e\u70ed\u699c\u94fe\u63a5\u7684\u722c\u53d6\u3002</p>"},{"location":"backend/crawler/crawler/#_10","title":"\u722c\u53d6\u77e5\u4e4e\u67d0\u95ee\u9898\u4e0b\u7684\u6240\u6709\u56de\u7b54","text":"<p>\u8fd9\u4e00\u90e8\u5206\u6211\u4eec\u4ee5\u7f16\u53f7\u4e3a 632832873 \u7684 \u8bdd\u9898 \u4e3a\u4f8b\u8fdb\u884c\u793a\u8303\u3002</p> <p>\u9996\u5148\u6211\u4eec\u4eff\u7167\u4e0a\u4e00\u4e2a\u793a\u4f8b\uff0c\u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\uff08<code>headers</code> \u7684\u914d\u7f6e\u4e0e\u4e0a\u76f8\u540c\uff09\u3002</p> <pre><code>&gt;&gt;&gt; url = \"https://www.zhihu.com/question/632832873\"\n&gt;&gt;&gt; resp = requests.get(url=url, headers=headers)\n&gt;&gt;&gt; file = open(\"resp.html\", \"w\")\n&gt;&gt;&gt; file.write(resp.text)\n</code></pre> <p>\u968f\u540e\u6211\u4eec\u68c0\u67e5 <code>resp.html</code> \u4e2d\u7684\u5185\u5bb9\uff0c\u53d1\u73b0\u5176\u4e2d\u5e76\u6ca1\u6709\u5305\u542b\u8be5\u8bdd\u9898\u4e0b\u7684\u6240\u6709\u56de\u7b54\uff0c\u800c\u53ea\u662f\u90e8\u5206\u56de\u7b54\u3002\u8fd9\u91cc\u9700\u8981\u8003\u8651\u5230 Web \u76f8\u5173\u7684\u5f02\u6b65\u8bf7\u6c42\u54cd\u5e94\u7684\u5185\u5bb9\u3002</p> <p>\u5f53\u6211\u4eec\u8bbf\u95ee\u4e00\u4e2a\u8bdd\u9898\u4e0b\u7684\u56de\u7b54\u65f6\uff0c\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u628a\u6240\u6709\u56de\u7b54\u90fd\u4f5c\u4e3a\u54cd\u5e94\u8fd4\u56de\u7ed9\u7528\u6237\uff0c\u800c\u662f\u4ec5\u8fd4\u56de\u4e86\u90e8\u5206\u56de\u7b54\u3002\u5f53\u6211\u4eec\u5411\u4e0b\u6ed1\u52a8\uff0c\u76f4\u5230\u5c55\u793a\u4e86\u6240\u6709\u670d\u52a1\u5668\u8fd4\u56de\u7684\u56de\u7b54\u540e\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u518d\u6b21\u5411\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\u83b7\u53d6\u66f4\u591a\u7684\u56de\u7b54\u3002\u5982\u6b64\u8003\u8651\u540e\uff0c\u5c31\u4e0d\u96be\u7406\u89e3\u4e3a\u4ec0\u4e48\u7b80\u5355\u5730\u8c03\u7528\u4e00\u6b21 <code>requests.get()</code> \u662f\u4e0d\u80fd\u5c55\u73b0\u6240\u6709\u56de\u7b54\u7684\u4e86\u3002</p> \u5f02\u6b65\u8bf7\u6c42\u54cd\u5e94 <p>\u5f02\u6b65\u8bf7\u6c42\u54cd\u5e94\u8fd9\u9879\u6280\u672f\u76ee\u524d\u88ab\u5404\u7c7b\u7f51\u9875\u5e7f\u6cdb\u4f7f\u7528\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u4f8b\u5b50\u3002</p> <ul> <li>\u5f53\u60a8\u5728 B \u7ad9 \u9996\u9875\u4e0a\u5c1d\u8bd5\u5237\u5230\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f\u7684\u89c6\u9891\u65f6\uff0c\u60a8\u8981\u4e0d\u65ad\u5411\u4e0b\u6ed1\u52a8\uff0c\u7136\u800c\u6bcf\u6b21\u90fd\u53ea\u80fd\u83b7\u53d6\u4e0d\u8d85\u8fc7\u6307\u5b9a\u6570\u76ee\u7684\u89c6\u9891\u3002</li> <li>\u5f53\u60a8\u5728 \u4eca\u65e5\u5934\u6761 \u9996\u9875\u4e0a\u5c1d\u8bd5\u5237\u5230\u6e05\u534e\u5927\u5b66\u76f8\u5173\u5185\u5bb9\u65f6\uff0c\u60a8\u8981\u4e0d\u65ad\u5411\u4e0b\u6ed1\u52a8\uff0c\u7136\u800c\u6bcf\u6b21\u90fd\u53ea\u80fd\u83b7\u53d6\u4e0d\u8d85\u8fc7\u6307\u5b9a\u6570\u76ee\u7684\u5185\u5bb9\u3002</li> <li>\u5f53\u60a8\u5728 QQ \u7fa4\u201c28\u5c4a\u667a\u80fd\u4f53\u539f\u6cb9\u4f1a\u201d\u4e2d\u7ffb\u9605\u5386\u53f2\u804a\u5929\u8bb0\u5f55\u60f3\u8981\u770b\u770b\u7fa4\u53cb\u804a\u4e86\u4ec0\u4e48\u7684\u65f6\u5019\uff0c\u60a8\u8981\u4e0d\u65ad\u5411\u4e0a\u6ed1\u52a8\uff0c\u7136\u800c\u6bcf\u6b21\u90fd\u53ea\u80fd\u83b7\u53d6\u4e0d\u8d85\u8fc7\u6307\u5b9a\u6570\u76ee\u7684\u804a\u5929\u8bb0\u5f55\u3002\uff08QQ \u5176\u5b9e\u662f\u4e00\u4e2a\u5185\u5d4c\u6d4f\u89c8\u5668\u7684 app\uff0c\u5f53\u60a8\u5728\u4f7f\u7528 QQ \u65f6\uff0c\u5927\u90e8\u5206\u65f6\u95f4\u60a8\u5176\u5b9e\u90fd\u5728\u4e0d\u65ad\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u5e76\u63a5\u6536\u54cd\u5e94\uff09</li> </ul> <p>\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u83b7\u53d6\u6240\u6709\u56de\u7b54\u5462\uff1f\u6211\u4eec\u5df2\u7ecf\u660e\u786e\uff0c\u6b63\u662f\u56e0\u4e3a\u5f02\u6b65\u8bf7\u6c42\u54cd\u5e94\uff0c\u6211\u4eec\u624d\u4e0d\u80fd\u4e00\u6b21\u6027\u83b7\u53d6\u67d0\u4e2a\u8bdd\u9898\u4e0b\u7684\u5168\u90e8\u56de\u7b54\u3002\u800c\u5f02\u6b65\u8bf7\u6c42\u54cd\u5e94\u7684\u6587\u4ef6\u4e00\u822c\u5728 XHR \u4e2d\uff0c\u90a3\u4e48\u8fd9\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u8ffd\u8e2a XHR \u6765\u5c1d\u8bd5\u627e\u5230\u7a81\u7834\u53e3\u3002</p> <p>\u8fd9\u65f6\u53c8\u8981\u7528\u5230\u4e4b\u524d\u63d0\u5230\u8fc7\u7684\u6d4f\u89c8\u5668\u4e2d\u7684\u68c0\u67e5\u3002\u7531\u4e8e\u6211\u4eec\u8981\u8ffd\u8e2a\u7684\u662f\u201c\u52a0\u8f7d\u56de\u7b54\u201d\u7684\u54cd\u5e94\uff0c\u56e0\u6b64\u5728\u7b2c\u4e00\u6b21\u5f97\u5230\u54cd\u5e94\u540e\u8981\u5148\u6e05\u9664\u7f51\u7edc\u65e5\u5fd7\uff0c\u6211\u4eec\u53ef\u4ee5\u70b9\u51fb\u68c0\u67e5\u9875\u9762\u4e2d\u7684\u76f8\u5e94\u56fe\u6807\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528\u5feb\u6377\u952e Ctrl + L \u6765\u5b8c\u6210\u3002</p> <p></p> <p>\u968f\u540e\u5411\u4e0b\u6ed1\u52a8\uff0c\u76f4\u81f3\u51fa\u73b0\u52a0\u8f7d\u65b0\u95ee\u9898\u7684\u754c\u9762\uff0c\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u53bb\u5b9a\u4f4d\u7a76\u7adf\u662f\u54ea\u4e2a XHR \u6587\u4ef6\u53ef\u80fd\u4f5c\u4e3a\u8fd9\u4e9b\u56de\u7b54\u6570\u636e\u7684\u8f7d\u4f53\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u5982\u4e0b\u7b80\u6d01\u7684\u65b9\u6cd5\uff1a\u5148\u5728\u68c0\u67e5\u9875\u9762\u4e2d\u7b5b\u9009 Fetch/XHR \uff0c\u7136\u540e\u4f7f\u7528\u5feb\u6377\u952e Ctrl + F \u6253\u5f00\u641c\u7d22\u5de5\u5177\u6765\u641c\u7d22\u7f51\u9875\u4e2d\u7684\u67d0\u6bb5\u6587\u5b57\u51fa\u73b0\u5728\u54ea\u4e2a XHR \u6587\u4ef6\u4e2d\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002</p> <p></p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u76f8\u5173\u56de\u7b54\u7684\u6570\u636e\u88ab\u4fdd\u5b58\u5728\u5305\u542b \u201cfeeds\u201d \u5b57\u773c\u7684 Feeds \u6587\u4ef6\u4e2d\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5728\u7b5b\u9009\u5668\u4e2d\u7b5b\u9009\u5305\u542b \u201cfeeds\u201d \u5b57\u773c\u7684\u6587\u4ef6\u3002</p> \u4ec0\u4e48\u662f Feeds\uff1f <p>Feeds \u662f\u4e00\u79cd\u5e38\u89c1\u7684\u6570\u636e\u6e90\u683c\u5f0f\uff0c\u7528\u4e8e\u83b7\u53d6\u548c\u8ddf\u8e2a\u7f51\u7ad9\u4e0a\u7684\u5185\u5bb9\u66f4\u65b0\u3002Feeds \u6587\u4ef6\u901a\u5e38\u4ee5 RSS \u6216 Atom \u683c\u5f0f\u63d0\u4f9b\uff0c\u5305\u542b\u4e86\u53d1\u5e03\u8005\u7684\u6587\u7ae0\u3001\u65b0\u95fb\u3001\u535a\u5ba2\u7b49\u66f4\u65b0\u7684\u6458\u8981\u6216\u5168\u6587\u5185\u5bb9\u3002</p> <p>\u7531\u4e8e\u672c\u6587\u53ea\u4f5c\u5165\u95e8\u8bb2\u89e3\uff0c\u6211\u4eec\u53ea\u9700\u7b80\u5355\u8ba4\u4e3a Feeds \u6587\u4ef6\u662f\u4e00\u79cd\u5305\u542b\u53d1\u5e03\u8005\u5185\u5bb9\u66f4\u65b0\u6458\u8981\u6216\u5168\u6587\u7684\u683c\u5f0f\uff0c\u7528\u4e8e\u5e2e\u52a9\u722c\u866b\u8ddf\u8e2a\u548c\u83b7\u53d6\u7f51\u7ad9\u4e0a\u7684\u6700\u65b0\u5185\u5bb9\u3002</p> <p></p> <p>\u5927\u81f4\u89c2\u5bdf\u7b5b\u9009\u5f97\u5230\u7684\u54cd\u5e94\u6587\u4ef6\uff0c\u53d1\u73b0\u4ed6\u4eec\u7684\u7ec4\u7ec7\u5f62\u5f0f\u7c7b\u4f3c\uff0c\u90fd\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u8be5\u5b57\u5178\u5171\u6709 3 \u4e2a <code>key</code>\uff1a</p> <ul> <li><code>data</code>\uff1a\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u63a8\u6d4b\u6bcf\u4e2a\u5b57\u5178\u4e2d\u5b58\u50a8\u7740\u6bcf\u4e2a\u56de\u7b54\u7684\u76f8\u5173\u4fe1\u606f\u3002</li> <li><code>session</code>\uff1a\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u4ec5\u5305\u542b\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u5176\u4e2d <code>key</code> \u4e3a <code>\"id\"</code>\uff0c\u800c <code>value</code> \u4e3a\u4e00\u6bb5\u6570\u5b57\u5b57\u7b26\u4e32\u3002</li> <li><code>paging</code>\uff1a\u4e5f\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5305\u542b\u4e09\u4e2a\u952e\u503c\u5bf9\u3002<code>page</code> \u5bf9\u5e94\u4e00\u4e2a\u6b63\u6574\u6570\uff0c<code>is_end</code> \u5bf9\u5e94\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c<code>next</code> \u5bf9\u5e94\u4e00\u4e2a url \u5b57\u7b26\u4e32\u3002\u63a8\u6d4b\u4e0a\u8ff0\u4e09\u4e2a <code>key</code> \u5206\u522b\u4ee3\u8868\u5f53\u524d\u56de\u7b54\u6240\u5728\u9875\u3001\u662f\u5426\u5230\u8fbe\u9875\u5c3e\u3001\u4e0b\u4e00\u6b21\u53d1\u9001\u8bf7\u6c42\u7684 url\u3002</li> </ul> <p></p> <p>\u6211\u4eec\u4e0a\u9762\u8fdb\u884c\u4e86\u56db\u4e2a\u63a8\u6d4b\u3002</p> <p>\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u63a8\u6d4b\uff0c\u6211\u4eec\u7b80\u5355\u6bd4\u5bf9\u6587\u4ef6\u4e0e\u7f51\u9875\u663e\u793a\u5185\u5bb9\u5373\u53ef\u9a8c\u8bc1\u3002</p> <p>\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u63a8\u6d4b\uff0c\u6211\u4eec\u4e5f\u8fdb\u884c\u76f8\u5e94\u6bd4\u5bf9\uff0c\u53d1\u73b0 <code>page</code> \u8f83\u5927\u7684\u6587\u4ef6\u4e2d\u5bf9\u5e94\u7684 <code>data</code> \u5185\u90e8\u7684\u56de\u7b54\u4e00\u5b9a\u5904\u4e8e\u76f8\u5bf9\u9760\u540e\u7684\u4f4d\u7f6e\uff0c\u4e5f\u5f97\u4ee5\u9a8c\u8bc1\u3002</p> <p>\u800c\u5bf9\u4e8e\u8be5\u8bdd\u9898\uff0c\u6211\u4eec\u4e0d\u65b9\u4fbf\u9a8c\u8bc1\u7b2c\u4e09\u4e2a\u63a8\u6d4b\uff0c\u56e0\u4e3a\u8be5\u95ee\u9898\u4e0b\u6709\u592a\u591a\u56de\u7b54\uff0c\u60f3\u8981\u627e\u5230\u6700\u540e\u4e00\u6761\u56de\u7b54\u662f\u6bd4\u8f83\u9ebb\u70e6\u7684\u3002\u4e8e\u662f\u6211\u4eec\u8003\u8651\u56de\u7b54\u76f8\u5bf9\u8f83\u5c11\u7684 \u8be5\u95ee\u9898\u3002\u4e0d\u65ad\u5411\u4e0b\u6ed1\u52a8\uff0c\u7b5b\u9009 Feeds \u6587\u4ef6\u54cd\u5e94\uff0c\u53d1\u73b0\u5f53\u6ed1\u52a8\u5230\u56de\u7b54\u5e95\u90e8\u540e\uff0c\u5df2\u63a5\u6536\u7684 Feeds \u6587\u4ef6\u54cd\u5e94\u4e2d\u6709\u4e00\u4e2a\u6587\u4ef6\u6070\u597d\u5bf9\u5e94\u56de\u7b54\u7684\u6700\u540e\u4e00\u9875\uff0c\u5176 <code>page</code> \u4e3a 7\uff0c<code>is_end</code> \u4e3a <code>true</code>\u3002\u56e0\u6b64\u7b2c\u4e09\u4e2a\u63a8\u6d4b\u4e5f\u5f97\u4ee5\u9a8c\u8bc1\u3002</p> <p></p> <p>\u81f3\u4e8e\u7b2c\u56db\u4e2a\u63a8\u6d4b\uff0c\u6211\u4eec\u53ef\u4ee5\u89c2\u5bdf\u6587\u4ef6\u540d\u3001<code>page</code>\u3001<code>next</code> \u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u53ef\u4ee5\u53d1\u73b0\u6bcf\u4e2a <code>next</code> \u4e2d\u5305\u542b\u4e00\u6bb5\u5f62\u5982 <code>feeds?cursor={x}</code> \u7684\u5b57\u6bb5\uff0c\u5176\u4e2d <code>x</code> \u4e3a\u67d0\u4e00\u6570\u5b57\u5e8f\u5217\uff0c\u800c <code>feeds?cursor={x}</code> \u6b63\u4e0e\u4ed6\u4eec\u7684\u6587\u4ef6\u540d\u5f00\u5934\u683c\u5f0f\u76f8\u4f3c\u3002\u518d\u8003\u8651 <code>page</code>\uff0c\u53d1\u73b0\u5bf9\u4e8e <code>page</code> \u4e3a <code>k</code> \u7684\u6587\u4ef6\u54cd\u5e94\uff0c\u4ed6\u7684 <code>next</code> \u4e2d\u7684 <code>feeds?cursor={x}</code> \u5b57\u6bb5\u5373\u4e3a <code>page</code> \u4e3a <code>k + 1</code> \u7684\u6587\u4ef6\u540d\u5f00\u5934\u5b57\u6bb5\u7684\u4e00\u90e8\u5206\u3002\u56e0\u6b64\u7b2c\u56db\u4e2a\u63a8\u6d4b\u4e5f\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5f97\u5230\u4e86\u9a8c\u8bc1\u3002</p> cursor \u662f\u4ec0\u4e48\uff1f <p>\u5728 Web \u5f00\u53d1\u4e2d\uff0ccursor \u4e00\u822c\u7528\u6765\u6807\u8bb0\u7f51\u9875\u5f53\u524d\u6ed1\u52a8\u7684\u4f4d\u7f6e\u3002\u5176\u5177\u4f53\u8ba1\u7b97\u4e0e\u89e3\u6790\u7684\u89c4\u5219\u4e00\u822c\u4e0e\u670d\u52a1\u5668\u7684\u540e\u7aef\u6709\u5173\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u4f5c\u6df1\u5165\u4e86\u89e3\u3002</p> <p></p> <p>\u201c\u731c\u201d\u7684\u827a\u672f</p> <p>\u60a8\u53ef\u80fd\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u5728\u722c\u866b\u65f6\u7ecf\u5e38\u901a\u8fc7\u201c\u731c\u201d\u6765\u5c1d\u8bd5\u83b7\u53d6\u76f8\u5173\u4fe1\u606f\u3002\u8fd9\u79cd\u611f\u89c9\u662f\u6b63\u786e\u7684\uff0c\u6211\u4eec\u5728\u8fdb\u884c API \u5206\u6790\u65f6\u5e38\u5e38\u9700\u8981\u6839\u636e\u6587\u4ef6\u540d\u3001\u53d8\u91cf\u540d\u7b49\u5185\u5bb9\u6765\u731c\u6d4b\u4ed6\u4eec\u7684\u542b\u4e49\uff0c\u7136\u540e\u8fdb\u884c\u7b80\u5355\u7684\u5b9e\u9a8c\u5373\u53ef\u9a8c\u8bc1\u3002</p> <p>\u60a8\u53ef\u4ee5\u5728\u5b9e\u8df5\u7684\u8fc7\u7a0b\u4e2d\u627e\u5bfb\u8fd9\u79cd\u201c\u731c\u201d\u7684\u611f\u89c9\uff0c\u4f53\u4f1a\u8fd9\u95e8\u827a\u672f\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u5927\u6982\u7406\u89e3\u4e86 <code>data</code> \u548c <code>paging</code> \u7684\u542b\u4e49\uff0c\u7136\u800c <code>session[\"id\"]</code> \u7684\u542b\u4e49\u6211\u4eec\u5c1a\u4e0d\u660e\u4e86\u3002</p> <p>\u9996\u5148\u6211\u4eec\u8981\u9a8c\u8bc1\u5176\u662f\u5426\u6709\u7528\u3002\u901a\u8fc7\u6bd4\u5bf9\u4e0d\u540c\u4e0a\u8ff0\u6587\u4ef6\u54cd\u5e94\uff0c\u53d1\u73b0\u4ed6\u4eec\u7684 <code>session[\"id\"]</code> \u662f\u76f8\u540c\u7684\uff0c\u5e76\u4e14\u4f5c\u4e3a\u53c2\u6570\u88ab\u5305\u542b\u5728 <code>paging[\"next\"]</code> \u4e2d\u3002\u90a3\u662f\u5426\u610f\u5473\u7740\u8fd9\u6bb5\u6570\u636e\u662f\u65e0\u7528\u7684\u5462\uff1f\u5728\u521a\u521a\u63a5\u89e6\u8fd9\u4e2a\u95ee\u9898\u65f6\u6211\u4eec\u5f88\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u65e0\u7528\u7684\uff0c\u4f46\u662f\u5728\u540e\u7eed\u8fc7\u7a0b\u4e2d\u5bb9\u6613\u53d1\u73b0\uff0c\u5f53\u6211\u4eec\u8fc7\u4e00\u6bb5\u65f6\u95f4\u6216\u8005\u662f\u6362\u4e00\u4e2a\u6d4f\u89c8\u5668\u518d\u6b21\u53d1\u51fa\u8bf7\u6c42\u65f6\uff0c<code>session[\"id\"]</code> \u4e5f\u4f1a\u968f\u4e4b\u53d1\u751f\u6539\u53d8\u3002\u56e0\u6b64\u6211\u4eec\u63a8\u6d4b\u5176\u5f88\u53ef\u80fd\u4e0e <code>cookie</code> \u6709\u7740\u7c7b\u4f3c\u7684\u6548\u679c\uff0c\u4e8e\u662f\u5728\u7b2c\u4e00\u6b21\u6784\u9020 url \u8bf7\u6c42\u65f6\uff0c\u6211\u4eec\u9700\u8981\u63d0\u524d\u83b7\u53d6 <code>session[\"id\"]</code>\u3002</p> <p>\u5728\u83b7\u53d6 <code>sessionId</code> \u65f6\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u60f3\u5230\u53ef\u4ee5\u5229\u7528\u4e0a\u8ff0 Feeds \u6587\u4ef6\u4ece\u800c\u89e3\u6790\u83b7\u5f97\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u5728\u6211\u4eec\u83b7\u53d6\u67d0\u4e2a\u95ee\u9898\u4e0b\u7684\u54cd\u5e94\u65f6\uff0c\u8be5\u6587\u4ef6\u5e76\u4e0d\u4f1a\u76f4\u63a5\u53d1\u9001\u7ed9\u6211\u4eec\uff0c\u800c\u662f\u5f53\u6211\u4eec\u5411\u4e0b\u6ed1\u52a8\u52a0\u8f7d\u66f4\u591a\u56de\u7b54\u65f6\u624d\u4f1a\u4ece\u670d\u52a1\u5668\u63a5\u6536\u76f8\u5e94\u5185\u5bb9\u3002\u56e0\u6b64\u6211\u4eec\u5c31\u9700\u8981\u5c1d\u8bd5\u4ece\u5176\u4ed6\u89d2\u5ea6\u6765\u83b7\u53d6\u76f8\u5173\u4fe1\u606f\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4e0d\u59a8\u4ece HTML \u5165\u624b\uff0c\u8003\u8651\u5176\u4e2d\u662f\u5426\u5305\u542b <code>sessionId</code> \u4fe1\u606f\u3002\u6211\u4eec\u5148\u5411\u4e0b\u6ed1\u52a8\u4ee5\u83b7\u53d6 Feeds \u6587\u4ef6\uff0c\u7136\u540e\u5728\u5176\u4e2d\u627e\u5230 <code>session[\"id\"]</code> \u5e76\u590d\u5236\u4e0b\u6765\uff0c\u5229\u7528 Ctrl + F \u6765\u68c0\u7d22\u5305\u542b\u8be5\u4e32\u6570\u5b57\u7684\u6587\u4ef6\u3002\u53d1\u73b0\u9664\u4e86 Feeds \u6587\u4ef6\u4ee5\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a HTML \u6587\u4ef6\u4e2d\u4e5f\u5305\u542b\u4e86\u8fd9\u6bb5\u6570\u5b57\uff0c\u4e14\u8fd9\u4e2a HTML \u6587\u4ef6\u662f\u5728\u5411\u4e0b\u6ed1\u52a8\u524d\u5230\u8fbe\u6d4f\u89c8\u5668\u7684\u3002\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u5148\u5229\u7528 BS \u6765\u89e3\u6790\u8be5 HTML\uff0c\u7136\u540e\u5229\u7528 Python \u5185\u7f6e\u6b63\u5219\u8868\u8fbe\u5f0f\u5e93\u6765\u83b7\u5f97 <code>sessionId</code>\u3002</p> <p></p> <p>\u5728\u6784\u9020\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684 url \u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4e0d\u65ad\u901a\u8fc7 <code>requests.get()</code> \u6765\u83b7\u53d6\u54cd\u5e94\u3002\u7136\u540e\u628a\u54cd\u5e94\u8f6c\u5316\u4e3a <code>json</code> \u5bf9\u8c61\u8fdb\u884c\u89e3\u6790\uff0c\u628a\u5176\u4e2d <code>data</code> \u5c5e\u6027\u52a0\u5165 <code>answers</code> \u5217\u8868\u3002\u4e0d\u65ad\u91cd\u590d\u4e0a\u8ff0\u5185\u5bb9\uff0c\u76f4\u5230 <code>paging[\"is_end\"]</code> \u4e3a <code>true</code>\uff0c\u5373\u5230\u8fbe\u5c3e\u9875\u3002\u4e0b\u9762\u63d0\u4f9b\u4e00\u4efd\u4ee3\u7801\u793a\u4f8b\u4ee5\u4f9b\u53c2\u8003\u5b66\u4e60\u3002</p> <pre><code>import requests\nimport json\nfrom typing import List, Dict\nfrom bs4 import BeautifulSoup as BS\nimport re\n\ndef get_all_answers(qid: str) -&gt; List[Dict]:\n    \"\"\"\n    Get all answers of a question\n\n    Args:\n        qid: The id of the question\n\n    Returns:\n        The list of all answers\n    \"\"\"\n    headers = {}\n    with open(\"config.json\", \"r\") as f: # you should create your \"config.json\" according to your User-Agent and cookie\n        config = json.load(f)\n    headers[\"User-Agent\"] = config[\"User-Agent\"]\n    headers[\"cookie\"] = config[\"cookie\"]\n\n    url = f\"https://www.zhihu.com/question/{qid}\"\n    resp = requests.get(url=url, headers=headers)\n    soup = BS(resp.text)\n    sessionId = soup.find(\"script\", id=\"js-initialData\").text\n    sessionId = re.findall(r'\"sessionId\":\"(.*?)\"', sessionId)[0]\n    url = f\"https://www.zhihu.com/api/v4/questions/{qid}/feeds?include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cattachment%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Crelevant_info%2Cquestion%2Cexcerpt%2Cis_labeled%2Cpaid_info%2Cpaid_info_content%2Creaction_instruction%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cvip_info%2Cbadge%5B%2A%5D.topics%3Bdata%5B%2A%5D.settings.table_of_content.enabled&amp;limit=5&amp;offset=0&amp;order=default&amp;platform=desktop&amp;session_id={sessionId}\"\n    answers = []\n    while True:\n        resp = requests.get(url=url, headers=headers)\n        data = resp.json()[\"data\"]\n        answers.extend(data)\n        if resp.json()[\"paging\"][\"is_end\"]:\n            break\n        url = resp.json()[\"paging\"][\"next\"]\n    return answers\n</code></pre>"},{"location":"backend/crawler/crawler/#selenium-webdriver","title":"\u4f7f\u7528 Selenium \u548c WebDriver","text":"<p>\u8fd9\u4e00\u90e8\u5206\u7684\u5185\u5bb9\u6211\u4eec\u9009\u62e9\u7ed3\u5408\u5b9e\u9645\u4f8b\u5b50\u6765\u8fdb\u884c\u8bb2\u89e3\uff0c\u5176\u4e2d\u4f8b\u5b50\u4ecd\u4e3a \u722c\u53d6\u77e5\u4e4e\u67d0\u95ee\u9898\u4e0b\u7684\u6240\u6709\u56de\u7b54\u3002</p> <p>\u4ec0\u4e48\u662f Selenium \u548c WebDriver\uff1f</p> <p>\u4ee5\u4e0b\u5185\u5bb9\u6765\u81ea ChatGPT\u3002</p> <p>Selenium \u662f\u4e00\u4e2a\u7528\u4e8e\u81ea\u52a8\u5316 Web \u6d4f\u89c8\u5668\u64cd\u4f5c\u7684\u5f00\u6e90\u5de5\u5177\u96c6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u7ec4 API \u548c\u5de5\u5177\uff0c\u53ef\u7528\u4e8e\u7f16\u5199\u81ea\u52a8\u5316\u6d4b\u8bd5\u811a\u672c\u3001\u6267\u884c\u6d4f\u89c8\u5668\u64cd\u4f5c\u3001\u6a21\u62df\u7528\u6237\u884c\u4e3a\u4ee5\u53ca\u4ece Web \u5e94\u7528\u7a0b\u5e8f\u4e2d\u63d0\u53d6\u6570\u636e\u3002</p> <p>WebDriver \u662f Selenium \u7684\u4e00\u4e2a\u7ec4\u6210\u90e8\u5206\uff0c\u5b83\u662f\u7528\u4e8e\u63a7\u5236\u548c\u64cd\u4f5c Web \u6d4f\u89c8\u5668\u7684\u63a5\u53e3\u3002WebDriver \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u65b9\u6cd5\u548c\u547d\u4ee4\uff0c\u53ef\u4ee5\u4e0e\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u8fdb\u884c\u4ea4\u4e92\uff0c\u5e76\u6a21\u62df\u7528\u6237\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u884c\u4e3a\uff0c\u5982\u70b9\u51fb\u3001\u586b\u5199\u8868\u5355\u3001\u5bfc\u822a\u7b49\u3002</p> <p>\u4ee5\u4e0b\u662f\u5173\u4e8e Selenium \u548c WebDriver \u7684\u4e00\u4e9b\u8981\u70b9\uff1a</p> <ul> <li>\u8de8\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\uff1aSelenium WebDriver \u652f\u6301\u591a\u79cd\u4e3b\u6d41 Web \u6d4f\u89c8\u5668\uff08\u5982 Chrome\u3001Firefox\u3001Safari\u3001Edge \u7b49\uff09\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u4e0a\u6267\u884c\u76f8\u540c\u7684\u6d4b\u8bd5\u811a\u672c\u3002</li> <li>\u7f16\u7a0b\u8bed\u8a00\u652f\u6301\uff1aSelenium WebDriver \u53ef\u4e0e\u5404\u79cd\u7f16\u7a0b\u8bed\u8a00\u4e00\u8d77\u4f7f\u7528\uff0c\u5305\u62ec Java\u3001Python\u3001C# \u7b49\uff0c\u4f7f\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u9009\u62e9\u6700\u9002\u5408\u4ed6\u4eec\u7684\u8bed\u8a00\u6765\u7f16\u5199\u81ea\u52a8\u5316\u6d4b\u8bd5\u811a\u672c\u3002</li> <li>\u529f\u80fd\u4e30\u5bcc\u7684API\uff1aWebDriver \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684API\uff0c\u7528\u4e8e\u63a7\u5236\u6d4f\u89c8\u5668\uff0c\u5305\u62ec\u9875\u9762\u5bfc\u822a\u3001\u5143\u7d20\u5b9a\u4f4d\u3001\u5143\u7d20\u64cd\u4f5c\u3001\u8868\u5355\u586b\u5199\u3001JavaScript \u6267\u884c\u7b49\u3002</li> <li>\u5143\u7d20\u5b9a\u4f4d\uff1aWebDriver \u652f\u6301\u5404\u79cd\u5143\u7d20\u5b9a\u4f4d\u65b9\u5f0f\uff0c\u5982\u901a\u8fc7 ID\u3001\u7c7b\u540d\u3001\u6807\u7b7e\u540d\u3001XPath\u3001CSS \u9009\u62e9\u5668\u7b49\uff0c\u53ef\u4ee5\u7cbe\u786e\u5b9a\u4f4d\u9875\u9762\u4e2d\u7684\u5143\u7d20\u6765\u6267\u884c\u64cd\u4f5c\u3002</li> <li>\u5e76\u884c\u6d4b\u8bd5\uff1aSelenium WebDriver \u652f\u6301\u5e76\u884c\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u5728\u591a\u4e2a\u6d4f\u89c8\u5668\u5b9e\u4f8b\u4e2d\u540c\u65f6\u6267\u884c\u6d4b\u8bd5\u811a\u672c\uff0c\u63d0\u9ad8\u6d4b\u8bd5\u6548\u7387\u3002</li> <li>\u81ea\u52a8\u5316\u573a\u666f\uff1a\u9664\u4e86\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0cSelenium WebDriver \u8fd8\u53ef\u7528\u4e8e\u5176\u4ed6\u81ea\u52a8\u5316\u573a\u666f\uff0c\u5982\u6570\u636e\u6293\u53d6\u3001\u7f51\u7ad9\u76d1\u63a7\u3001\u8868\u5355\u586b\u5199\u3001\u6a21\u62df\u7528\u6237\u767b\u5f55\u7b49\u3002</li> </ul> <p>\u5728\u5f00\u59cb\u8bb2\u89e3\u524d\uff0c\u8bf7\u5f15\u5165\u5982\u4e0b\u5fc5\u987b\u5e93\u3002</p> <pre><code>import json\nfrom selenium.webdriver.chrome.service import Service as ChromeService\nfrom webdriver_manager.chrome import ChromeDriverManager\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait as wdw\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.chrome.options import Options as ChromeOptions\nimport selenium\n</code></pre> <p>WebDriver \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5de5\u5177\u3002\u51ed\u501f\u4e8e\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7801\u6765\u63a7\u5236\u6d4f\u89c8\u5668\u7684\u884c\u4e3a\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528 <code>selenium.webdriver.Chrome()</code> \u6765\u521b\u5efa\u4e00\u4e2a\u6d4f\u89c8\u5668\u5b9e\u4f8b <code>driver</code>\u3002\u8be5\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7 <code>service</code> \u53c2\u6570\uff0c\u8fd9\u91cc\u6211\u4eec\u5c06\u5176\u4f20\u4e3a <code>ChromeService(ChromeDriverManager().install())</code>\uff0c\u4e5f\u5373\u6839\u636e\u672c\u5730\u5df2\u5b89\u88c5\u7684\u6d4f\u89c8\u5668\u914d\u7f6e\u6587\u4ef6\u6765\u66f4\u65b0\u5176\u914d\u7f6e\u6587\u4ef6\u3002\u8fd9\u91cc\u7684\u7ec6\u8282\u65e0\u9700\u8fc7\u591a\u6ce8\u610f\uff0c\u53ef\u4ee5\u9009\u62e9\u7565\u8fc7\u3002\u4e8e\u662f\u6211\u4eec\u5c31\u6210\u529f\u5229\u7528 Python \u521b\u5efa\u4e86\u4e00\u4e2a Chrome \u6d4f\u89c8\u5668\u5b9e\u4f8b\u3002</p> <p>\u60a8\u53ef\u4ee5\u968f\u65f6\u8c03\u7528 <code>driver.quit()</code> \u6765\u7ec8\u6b62\u8be5\u5b9e\u4f8b\u3002</p> <p>\u5f53\u7136\uff0c\u60a8\u53ef\u4e5f\u53ef\u4ee5\u5c06\u5176\u66ff\u6362\u4e3a\u5176\u4ed6\u6d4f\u89c8\u5668\uff0c\u5177\u4f53\u5b9e\u73b0\u90fd\u662f\u7c7b\u4f3c\u7684\uff0c\u8be6\u7ec6\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003 Selenium \u5b98\u65b9\u6587\u6863\u3002\u4e0d\u8fc7\u5728\u5229\u7528 WebDriver \u521b\u5efa\u6d4f\u89c8\u5668\u5b9e\u4f8b\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u8fc7\u76f8\u5e94\u6d4f\u89c8\u5668\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u5229\u7528 <code>get(url)</code> \u65b9\u6cd5\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u76f8\u5e94\u7f51\u9875\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u4ee5\u4e0a\u4e00\u8282\u4e2d\u7684 \u95ee\u9898 \u6765\u4f5c\u5b9e\u4f8b\u3002\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>&gt;&gt;&gt; url = \"https://www.zhihu.com/question/632832873\"\n&gt;&gt;&gt; driver = selenium.webdriver.Chrome(service=ChromeService(ChromeDriverManager().install()))\n&gt;&gt;&gt; driver.get(url=url)\n</code></pre> <p>\u8fd0\u884c\u5982\u4e0a\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u770b\u5230\u5982\u4e0b\u754c\u9762\u3002</p> <p></p> <p>\u8fd9\u91cc\u53c8\u51fa\u73b0\u4e86\u6211\u4eec\u4e4b\u524d\u9047\u5230\u8fc7\u7684\u767b\u5f55\u754c\u9762\u3002\u5728\u4e0a\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u4fee\u6539 cookie \u6765\u5b8c\u6210\u767b\u5f55\u3002\u7136\u800c\u7531\u4e8e\u4e0d\u540c\u8d26\u53f7\u6bcf\u4e00\u6b21\u767b\u5f55\u65f6\u6240\u4ea7\u751f\u7684 cookie \u5f88\u53ef\u80fd\u4e0d\u540c\uff0c\u6211\u4eec\u9700\u8981\u66f4\u65b0\u6bcf\u6b21\u8bbf\u95ee\u65f6\u7684 cookie\uff0c\u8fc7\u7a0b\u7a0d\u663e\u590d\u6742\u3002\u800c\u5728\u8fd9\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u4f9d\u9760 WebDriver\uff0c\u53ef\u4ee5\u8f83\u4e3a\u65b9\u4fbf\u5730\u5b9e\u73b0\u5143\u7d20\u67e5\u627e\u4e0e\u5143\u7d20\u4ea4\u4e92\u3002 </p> <p>WebDriver \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86 <code>find_element()</code> \u65b9\u6cd5\u6765\u8fdb\u884c\u5143\u7d20\u7684\u67e5\u627e\u3001 <code>send_keys()</code> \u65b9\u6cd5\u6765\u8fdb\u884c\u8f93\u5165\u6846\u7684\u8f93\u5165\u3001<code>click()</code> \u65b9\u6cd5\u6765\u8fdb\u884c\u6309\u94ae\u7684\u70b9\u51fb \u00b7\u00b7\u00b7\u00b7\u00b7\u00b7 </p> <p><code>selenium.webdriver.common.by</code> \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u67e5\u627e\u5143\u7d20\u7684\u65b9\u6cd5\uff0c\u5982 <code>By.CLASS_NAME</code>\uff0c<code>By.CSS_CELECTOR</code>\uff0c<code>By.ID</code>\uff0c<code>By.NAME</code>\uff0c<code>By.XPATH</code> \u7b49\u7b49\u3002</p> <p>\u4ec0\u4e48\u662f XPath\uff1f</p> <p>\u4ee5\u4e0b\u5185\u5bb9\u6765\u81ea ChatGPT\uff0c\u5176\u4e2d\u5220\u9664\u4e86\u6709\u5173 XPath \u8bed\u6cd5\u7b49\u5185\u5bb9\u4ecb\u7ecd\u3002\u5728\u540e\u7eed\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u60a8\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u4e0d\u4f1a\u4e3b\u52a8\u6784\u5efa XPath \u8868\u8fbe\u5f0f\uff0c\u800c\u662f\u76f4\u63a5\u901a\u8fc7\u6d4f\u89c8\u5668\u4e2d\u7684\u68c0\u67e5\u6765\u83b7\u53d6 XPath\u3002</p> <p>XPath\uff08XML Path Language\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5728 XML \u6587\u6863\u4e2d\u5b9a\u4f4d\u548c\u9009\u62e9\u8282\u70b9\u7684\u67e5\u8be2\u8bed\u8a00\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u6d01\u800c\u5f3a\u5927\u7684\u65b9\u5f0f\u6765\u4ece XML \u6587\u6863\u4e2d\u63d0\u53d6\u6570\u636e\u3002XPath \u4f7f\u7528\u8def\u5f84\u8868\u8fbe\u5f0f\uff08Path Expression\uff09\u6765\u6307\u5b9a\u8282\u70b9\u7684\u4f4d\u7f6e\uff0c\u7c7b\u4f3c\u4e8e\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u8def\u5f84\u3002</p> <p>XPath \u7684\u4e3b\u8981\u5e94\u7528\u662f\u5728 XML/HTML \u6587\u6863\u4e2d\u8fdb\u884c\u8282\u70b9\u7684\u5bfc\u822a\u548c\u9009\u62e9\u3002\u5b83\u53ef\u4ee5\u901a\u8fc7\u8282\u70b9\u540d\u79f0\u3001\u5c5e\u6027\u3001\u5c42\u7ea7\u5173\u7cfb\u548c\u5176\u4ed6\u6761\u4ef6\u6765\u7b5b\u9009\u548c\u5b9a\u4f4d\u7279\u5b9a\u7684\u8282\u70b9\u3002XPath \u8868\u8fbe\u5f0f\u53ef\u4ee5\u7528\u4e8e\u67e5\u627e\u5355\u4e2a\u8282\u70b9\u3001\u591a\u4e2a\u8282\u70b9\u6216\u8282\u70b9\u7684\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u5185\u7f6e\u51fd\u6570\u6765\u6267\u884c\u66f4\u590d\u6742\u7684\u64cd\u4f5c\u3002</p> <p>XPath \u53ef\u4ee5\u5728\u5404\u79cd\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4f7f\u7528\uff0c\u5982 Python\u3001Java \u548c JavaScript\u3002\u5728\u722c\u866b\u548c\u6570\u636e\u63d0\u53d6\u4efb\u52a1\u4e2d\uff0cXPath \u5e38\u7528\u4e8e\u4ece HTML/XML \u4e2d\u63d0\u53d6\u6240\u9700\u7684\u6570\u636e\u3002\u8bb8\u591a\u89e3\u6790\u5e93\u548c\u5de5\u5177\u63d0\u4f9b\u4e86 XPath \u7684\u652f\u6301\uff0c\u4f7f\u5f97\u8282\u70b9\u9009\u62e9\u548c\u6570\u636e\u63d0\u53d6\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u548c\u7075\u6d3b\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u9009\u62e9 <code>By.XPATH</code> \u4f5c\u4e3a\u8bb2\u89e3\u8303\u4f8b\u3002\u5176\u4ed6\u90e8\u5206\u6ca1\u6709\u592a\u9ad8\u96be\u5ea6\uff0c\u6211\u4eec\u5e0c\u671b\u8bfb\u8005\u81ea\u884c\u5b66\u4e60\uff0c\u6211\u4eec\u4e5f\u9f13\u52b1\u8bfb\u8005\u91c7\u7528\u5176\u4ed6\u65b9\u6cd5\u4eff\u7167 <code>By.XPATH</code> \u6765\u67e5\u627e\u5143\u7d20\u3002</p> <p>\u4e3a\u4ec0\u4e48\u9009\u62e9 XPath\uff1f</p> <p>\u4ee5\u4e0b\u5185\u5bb9\u6765\u81ea ChatGPT\u3002\u672c\u6587\u4f7f\u7528 XPath \u4e3b\u8981\u662f\u56e0\u4e3a\u5176\u83b7\u53d6\u8f83\u4e3a\u7b80\u5355\uff0c\u4f46\u5bf9\u4e8e\u66f4\u5e7f\u6cdb\u7684\u60c5\u51b5\uff0cXPath \u53ef\u80fd\u6ca1\u6709\u4f18\u52bf\u3002</p> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528 XPATH \u6765\u5b9a\u4f4d\u5143\u7d20\u7684\u60c5\u51b5\u5305\u62ec\uff1a</p> <ul> <li>\u5143\u7d20\u6ca1\u6709\u552f\u4e00\u7684\u6807\u8bc6\uff1a\u5982\u679c\u5143\u7d20\u6ca1\u6709\u72ec\u7279\u7684 ID\u3001\u7c7b\u540d\u6216\u5176\u4ed6\u5c5e\u6027\u53ef\u4ee5\u76f4\u63a5\u5b9a\u4f4d\uff0c\u53ef\u4ee5\u4f7f\u7528 XPath \u6765\u63cf\u8ff0\u5143\u7d20\u7684\u8def\u5f84\u6216\u5176\u4ed6\u5c5e\u6027\u6765\u5b9a\u4f4d\u5b83\u3002</li> <li>\u9700\u8981\u6839\u636e\u5143\u7d20\u7684\u5c42\u7ea7\u5173\u7cfb\u5b9a\u4f4d\uff1a\u5f53\u5143\u7d20\u7684\u5b9a\u4f4d\u4f9d\u8d56\u4e8e\u5176\u7236\u5143\u7d20\u3001\u5b50\u5143\u7d20\u6216\u5176\u4ed6\u76f8\u5bf9\u5173\u7cfb\u65f6\uff0cXPath \u53ef\u4ee5\u901a\u8fc7\u63cf\u8ff0\u5143\u7d20\u7684\u5c42\u7ea7\u5173\u7cfb\u6765\u5b9a\u4f4d\u5b83\u3002</li> <li>\u9700\u8981\u6839\u636e\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9\u8fdb\u884c\u5b9a\u4f4d\uff1a\u5982\u679c\u9700\u8981\u6839\u636e\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9\u6765\u5b9a\u4f4d\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528 XPath \u7684\u6587\u672c\u5339\u914d\u529f\u80fd\u6765\u9009\u62e9\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u3002</li> <li>\u9700\u8981\u4f7f\u7528\u9ad8\u7ea7\u5b9a\u4f4d\u529f\u80fd\uff1aXPath \u63d0\u4f9b\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u5b9a\u4f4d\u529f\u80fd\uff0c\u5982\u903b\u8f91\u8fd0\u7b97\u7b26\u3001\u7d22\u5f15\u9009\u62e9\u3001\u5c5e\u6027\u8fc7\u6ee4\u7b49\uff0c\u53ef\u4ee5\u66f4\u7cbe\u786e\u5730\u5b9a\u4f4d\u5143\u7d20\u3002</li> </ul> <p>\u5f53 <code>find_element()</code> \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u88ab\u4f20\u4e3a <code>By.XPATH</code> \u65f6\uff0c\u5b83\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63a5\u53d7\u4e00\u4e2a XPath \u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u68c0\u7d22\u6761\u4ef6\u3002\u56e0\u6b64\u6211\u4eec\u5728\u5b9a\u4f4d\u4e00\u4e2a\u5143\u7d20\u7684\u65f6\u5019\uff0c\u53ea\u9700\u8981\u8bbe\u6cd5\u627e\u5230\u4ed6\u7684 XPath \u5373\u53ef\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u68c0\u67e5\u4e2d\u7684\u5728\u9875\u9762\u4e2d\u9009\u62e9\u4e00\u4e2a\u5143\u7d20\u4ee5\u8fdb\u884c\u68c0\u67e5\u6216\u4f7f\u7528\u5feb\u6377\u952e Ctrl + Shift + C\uff0c\u5148\u5b9a\u4f4d\u5230\u4e00\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u53f3\u952e HTML \u4e2d\u7684\u76f8\u5e94 tag\uff0c\u9009\u62e9\u590d\u5236\uff0c\u518d\u70b9\u51fb\u590d\u5236\u5b8c\u6574\u7684 XPath \u5373\u53ef\u83b7\u53d6\u5bf9\u5e94\u5143\u7d20\u7684 XPath \u4e86\u3002</p> <p>\u5bf9\u4e8e\u672c\u4f8b\uff0c\u6211\u4eec\u9009\u62e9\u5bc6\u7801\u767b\u5f55\u800c\u975e\u9a8c\u8bc1\u7801\u767b\u5f55\u3002\u539f\u56e0\u662f\u663e\u7136\u7684\uff0c\u5411\u624b\u673a\u53d1\u9001\u9a8c\u8bc1\u7801\u5e76\u81ea\u52a8\u83b7\u53d6\u9a8c\u8bc1\u7801\u7684\u7a0b\u5e8f\u663e\u7136\u662f\u8981\u6bd4\u76f4\u63a5\u901a\u8fc7\u5bc6\u7801\u767b\u5f55\u8981\u590d\u6742\u7684\u3002\u4f46\u8fdb\u5165\u7f51\u9875\u540e\u9ed8\u8ba4\u7684\u767b\u5f55\u65b9\u5f0f\u662f\u9a8c\u8bc1\u7801\u767b\u5f55\uff0c\u4e8e\u662f\u6211\u4eec\u5148\u8981\u627e\u5230\u5bc6\u7801\u767b\u5f55\u6309\u94ae\u7684 XPath\u3002</p> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u4e00\u4e2a\u6309\u94ae\u5f88\u53ef\u80fd\u662f\u88ab\u5305\u88c5\u8d77\u6765\u7684\uff0c\u6bd4\u5982\u5176\u4e2d\u9664\u4e86\u6700\u5173\u952e\u7684\u6309\u94ae\u7ec4\u4ef6\u5916\uff0c\u8fd8\u5f88\u53ef\u80fd\u6709\u56fe\u7247\u90e8\u5206\uff0c\u6587\u5b57\u90e8\u5206\u3002\u7136\u800c\u5982\u679c\u6211\u4eec\u5b9a\u4f4d\u5230\u4e86\u975e\u6309\u94ae\u7ec4\u4ef6\u7684\u5143\u7d20\uff0c\u90a3\u4e48\u6b64\u65f6\u8c03\u7528 <code>click()</code> \u5c31\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u4ed6\u4eec\u4e0d\u662f\u53ef\u4ea4\u4e92\u7684\u5143\u7d20\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5728\u5229\u7528\u4e0a\u8ff0\u65b9\u6cd5\u5b9a\u4f4d\u65f6\uff0c\u5c31\u8981\u5173\u6ce8\u76f8\u5e94 tag \u4e2d\u662f\u5426\u5305\u542b \u201cbutton\u201d \u7684\u5b57\u773c\u3002\u4e0b\u56fe\u4f5c\u4e3a\u4e00\u4e2a\u793a\u4f8b\u3002</p> <p></p> <p></p> <p>\u5982\u6b64\u6211\u4eec\u4fbf\u83b7\u5f97\u4e86\u5bc6\u7801\u767b\u5f55\u6309\u94ae\u7684 XPath\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\u6765\u8fdb\u884c\u767b\u5f55\u65b9\u5f0f\u7684\u5207\u6362\u3002</p> <pre><code>&gt;&gt;&gt; button = driver.find_element(By.XPATH, '/html/body/div[5]/div/div/div/div[2]/div/div/div/div[2]/div[1]/div[2]/div/div[1]/div/form/div[1]/div[2]')\n&gt;&gt;&gt; button.click()\n</code></pre> <p>\u8fd0\u884c\u540e\u53ef\u4ee5\u770b\u5230\uff0c\u786e\u5b9e\u53d1\u751f\u4e86\u6309\u94ae\u70b9\u51fb\uff0c\u767b\u5f55\u65b9\u5f0f\u6210\u529f\u5207\u6362\u3002</p> <p></p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u8fd0\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u627e\u5230\u624b\u673a\u53f7\u6216\u90ae\u7bb1\u8f93\u5165\u6846\u3001\u5bc6\u7801\u8f93\u5165\u6846\u4ee5\u53ca\u767b\u5f55\u6309\u94ae\u3002\u6ce8\u610f\u8fd9\u91cc\u5728\u5b9a\u4f4d\u8f93\u5165\u6846\u65f6\u4e5f\u8981\u6ce8\u610f\u5305\u88c5\u7684\u60c5\u51b5\uff0c\u4e00\u5b9a\u8981\u5b9a\u4f4d\u5230\u5305\u542b\u6709 \u201cinput\u201d \u5b57\u773c\u7684 tag\u3002\u4e0b\u9762\u662f\u4ee3\u7801\u793a\u4f8b\u3002</p> <pre><code>&gt;&gt;&gt; with open(\"config.json\", \"r\") as f: # create your \"config.json\" according to your username and password\n... config = json.load(f)\n&gt;&gt;&gt; username = driver.find_element(By.XPATH, '/html/body/div[5]/div/div/div/div[2]/div/div/div/div[2]/div[1]/div[2]/div/div[1]/div/form/div[2]/div/label/input')\n&gt;&gt;&gt; username.send_keys(config[\"username\"])\n&gt;&gt;&gt; password = driver.find_element(By.XPATH, '/html/body/div[5]/div/div/div/div[2]/div/div/div/div[2]/div[1]/div[2]/div/div[1]/div/form/div[3]/div/label/input')\n&gt;&gt;&gt; password.send_keys(config[\"password\"])\n&gt;&gt;&gt; login = driver.find_element(By.XPATH, '/html/body/div[5]/div/div/div/div[2]/div/div/div/div[2]/div[1]/div[2]/div/div[1]/div/form/button')\n&gt;&gt;&gt; login.click()\n</code></pre> <p>Note</p> <p>\u76ee\u524d\u6211\u4eec\u5b8c\u6210\u4e86\u5229\u7528 Selenium + WebDriver \u7684\u767b\u5f55\u3002\u5f53\u7136\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u6211\u4eec\u53ea\u8fdb\u884c\u6570\u636e\u7684\u8bfb\u5165\u800c\u4e0d\u8fdb\u884c\u5199\u5165\uff0c\u56e0\u6b64\u4e0d\u767b\u5f55\u8d26\u53f7\uff0c\u76f4\u63a5\u5173\u95ed\u767b\u5f55\u6846\u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u7c7b\u4f3c\u5730\u5904\u7406\uff0c\u627e\u5230\u767b\u5f55\u6846\u7684 \u201cX\u201d \uff08\u53d6\u6d88\uff09\u6309\u94ae\u7684 XPath\uff0c\u7136\u540e\u5b9a\u4f4d\u8be5\u5143\u7d20\u5e76\u8c03\u7528 <code>click()</code> \u5373\u53ef\u3002\u8fd9\u4e00\u5185\u5bb9\u6211\u4eec\u7559\u7ed9\u8bfb\u8005\u81ea\u884c\u5c1d\u8bd5\u3002</p> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u5728\u767b\u5f55\u7edd\u5927\u591a\u6570\u7f51\u7ad9\u65f6\uff0c\u60a8\u5f88\u53ef\u80fd\u4f1a\u9047\u5230\u673a\u5668\u4eba\u68c0\u6d4b\u7684\u9a8c\u8bc1\u73af\u8282\u3002\u5bf9\u4e8e\u6709\u4e9b\u9a8c\u8bc1\u7a0b\u5e8f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u65b9\u5f0f\u6765\u7ed5\u8fc7\u68c0\u6d4b\uff0c\u4f46\u5bf9\u4e8e\u5f88\u591a\u7a0b\u5e8f\uff0c\u6211\u4eec\u90fd\u5f88\u96be\u7ed5\u8fc7\u68c0\u6d4b\u3002\u7531\u4e8e\u5176\u5185\u5bb9\u8f83\u4e3a\u6df1\u5165\uff0c\u672c\u8282\u5bf9\u4e8e\u8be5\u90e8\u5206\u4e0d\u4f5c\u6269\u5c55\u3002</p> \u673a\u5668\u4eba\u68c0\u6d4b <p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7f51\u7edc\u89c6\u9891\u4f9b\u60a8\u5bf9\u5176\u8fdb\u884c\u4e86\u89e3\u3002</p> <ul> <li>\u4e3a\u4ec0\u4e48\u673a\u5668\u4eba\u4e0d\u80fd\u52fe\u9009\u201c\u6211\u4e0d\u662f\u673a\u5668\u4eba\u201d\uff1f</li> <li>\u201c\u9a8c\u8bc1\u7801\u6218\u4e89\u201d\u4e8c\u5341\u5e74\uff0c\u6700\u53d7\u4f24\u7684\u5374\u662f\u6211\u4eec</li> <li>\u9a8c\u8bc1\u7801\u5927\u6218AI\uff1a\u795e\u4ed9\u6253\u67b6\uff0c\u6211\u4eec\u906d\u6b83\uff0c\u9a8c\u8bc1\u7801\u8fd8\u80fd\u53d8\u7b80\u5355\u5417\uff1f</li> </ul> <p>\u76f4\u81f3\u76ee\u524d\uff0c\u60a8\u53ef\u80fd\u4f1a\u89c9\u5f97 Selenium \u548c WebDriver \u53cd\u800c\u6bd4\u4f7f\u7528 HTTP \u5e93\u548c\u89e3\u6790\u5e93\u7684\u65b9\u6cd5\u8981\u66f4\u52a0\u590d\u6742\u3002\u4f46\u5f88\u5feb\u6211\u4eec\u5c31\u4f1a\u770b\u5230\u524d\u8005\u7684\u4f18\u52bf\u3002</p> <p>\u8ba9\u6211\u4eec\u56de\u5fc6\u4e00\u4e0b\uff0c\u5728\u4e0a\u4e00\u8282\u7684\u540c\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u8981\u8fdb\u884c\u590d\u6742\u7684 API \u5206\u6790\u4ee5\u53ca\u63a8\u6d4b\u3001\u9a8c\u8bc1\uff0c\u5728\u8fd9\u4e4b\u540e\u8fd8\u8981\u4e0d\u65ad\u5b9a\u4f4d\u5173\u952e\u4fe1\u606f\u4f4d\u7f6e\uff0c\u5229\u7528\u89e3\u6790\u5e93\u8fdb\u884c\u68c0\u7d22\u3002\u7136\u800c\u501f\u52a9\u4e8e Selenium \u548c WebDriver\uff0c\u6211\u4eec\u5c31\u80fd\u7701\u53bb\u8fd9\u4e9b\u5de5\u4f5c\u3002</p> <p>\u8fd8\u8bb0\u5f97\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u5982\u6b64\u7e41\u7410\u7684 API \u5206\u6790\u5417\uff1f\u6ca1\u9519\uff0c\u56e0\u4e3a\u6211\u4eec\u96be\u4ee5\u76f4\u63a5\u5728 HTTP \u5e93\u4e2d\u5b8c\u6210\u6ed1\u52a8\u7684\u64cd\u4f5c\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5229\u7528 <code>driver.execute_script(string)</code> \u6765\u6267\u884c\u4e00\u4e9b\u6307\u4ee4\u4ece\u800c\u5b9e\u73b0\u6ed1\u52a8\u7684\u64cd\u4f5c\u3002</p> <p>\u7531\u4e8e\u7bc7\u5e45\u539f\u56e0\uff0c\u6211\u4eec\u8fd9\u91cc\u76f4\u63a5\u7ed9\u51fa\u9700\u8981\u7528\u5230\u7684\u65b9\u6cd5\u3002</p> <ul> <li><code>driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")</code>\uff1a\u5411\u4e0b\u6ed1\u52a8\u76f4\u5230\u7f51\u9875\u5e95\u90e8\u3002</li> <li><code>driver.execute_script(\"window.scrollBy(0, -10);\")</code>\uff1a\u5411\u4e0a\u6ed1\u52a8 10 \u4e2a\u5355\u4f4d\u3002</li> </ul> <p>\u6211\u4eec\u8981\u5b9e\u73b0\u7684\u64cd\u4f5c\u5176\u5b9e\u5c31\u662f\u4e0d\u65ad\u6ed1\u52a8\u5230\u7f51\u9875\u5e95\u90e8\uff0c\u76f4\u5230\u5c55\u793a\u4e86\u6240\u6709\u56de\u7b54\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5faa\u73af\u8c03\u7528 <code>driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")</code> \u6765\u5b9e\u73b0\u6b64\u3002\u4f46\u662f\u5728\u8fd9\u4e00\u8fc7\u7a0b\u4e2d\u6709\u53ef\u80fd\u51fa\u73b0\u6ed1\u52a8\u901f\u5ea6\u8fc7\u5feb\uff0c\u670d\u52a1\u5668\u6ca1\u80fd\u53ca\u65f6\u6355\u83b7\u5230\u201c\u7f51\u9875\u5df2\u8fbe\u5e95\u90e8\u201d\u7684\u6761\u4ef6\uff0c\u56e0\u6b64\u8fd9\u91cc\u9009\u62e9\u5728\u6bcf\u6b21\u5faa\u73af\u4e2d\u5148\u8c03\u7528 <code>driver.execute_script(\"window.scrollBy(0, -10);\")</code> \u4ece\u800c\u786e\u4fdd\u670d\u52a1\u5668\u80fd\u4e0d\u65ad\u52a0\u8f7d\u51fa\u56de\u7b54\u3002\u6700\u540e\uff0c\u6211\u4eec\u8981\u660e\u786e\u5982\u4f55\u5224\u65ad\u6240\u6709\u56de\u7b54\u5df2\u7ecf\u88ab\u5c55\u793a\u4e86\u3002\u901a\u8fc7\u7814\u7a76\u4e00\u4e9b\u56de\u7b54\u76f8\u5bf9\u8f83\u5c11\u7684\u8bdd\u9898\uff0c\u6211\u4eec\u53d1\u73b0\u53ef\u4ee5\u7528\u5199\u56de\u7b54\u6309\u94ae\u7684\u51fa\u73b0\u6765\u6807\u8bb0\u6240\u6709\u56de\u7b54\u5df2\u88ab\u52a0\u8f7d\u5b8c\u6210\u3002</p> <p></p> <p>\u901a\u8fc7\u4e4b\u524d\u63d0\u5230\u8fc7\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u5c31\u80fd\u83b7\u5f97\u8fd9\u4e2a\u6309\u94ae\u7684 XPath\uff0c\u4ece\u800c\u5728\u6bcf\u6b21\u5faa\u73af\u4e2d\u68c0\u7d22\u8be5\u5143\u7d20\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5df2\u7ecf\u51fa\u73b0\uff0c\u90a3\u4e48\u9000\u51fa\u5faa\u73af\u5373\u4ee3\u8868\u6240\u6709\u56de\u7b54\u5df2\u88ab\u52a0\u8f7d\u3002\u4e0b\u9762\u7ed9\u51fa\u8fd9\u90e8\u5206\u5185\u5bb9\u7684\u793a\u4f8b\u4ee3\u7801\u3002</p> <pre><code>&gt;&gt;&gt; while True:\n&gt;&gt;&gt; driver.execute_script(\"window.scrollBy(0, -10);\")\n&gt;&gt;&gt; driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n&gt;&gt;&gt; if driver.find_elements(By.XPATH, '/html/body/div[1]/div/main/div/div/div[3]/div[1]/div/div[2]/a/button'):\n...     break\n</code></pre> <p>\u5728\u5c55\u793a\u6240\u6709\u56de\u7b54\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528 <code>driver.find_elements()</code> \u6765\u76f4\u63a5\u7b5b\u9009\u60f3\u8981\u7684\u5185\u5bb9\u4e86\u3002\u4e0b\u9762\u662f\u7b5b\u9009\u4f5c\u8005\u540d\u79f0\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u5c1d\u8bd5\u66f4\u591a\u5185\u5bb9\u7684\u722c\u53d6\uff0c\u4f8b\u5982\u8d5e\u540c\u6570\u3001\u8bc4\u8bba\u6570\u3001\u8bc4\u8bba\u5185\u5bb9\u7b49\u3002</p> <pre><code>&gt;&gt;&gt; authors = [item.text for item in driver.find_elements(By.CLASS_NAME, 'UserLink-link')]\n&gt;&gt;&gt; authors = [item for item in authors if item != '']\n</code></pre> <p>\u4ee5\u4e0a\u4fbf\u662f Selenium \u548c WebDriver \u7684\u5165\u95e8\u4ecb\u7ecd\uff0c\u51fa\u53bb\u4e0a\u8ff0\u5185\u5bb9\u5916\uff0c\u5b83\u4eec\u8fd8\u6709\u5f88\u591a\u6709\u8da3\u5b9e\u7528\u7684\u65b9\u6cd5\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4ee5\u4e0b\u5217\u51fa\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u5bf9\u6240\u611f\u5174\u8da3\u7684\u5185\u5bb9\u8fdb\u884c\u5c1d\u8bd5\u3002</p> <ul> <li>\u7b49\u5f85\u5230\u67d0\u4e2a\u5143\u7d20\u52a0\u8f7d\u5b8c\u6210\u3002</li> <li>Action \u94fe\u3002</li> <li>\u952e\u76d8\u7ec4\u5408\u952e\u3002</li> <li>\u51e0\u4e4e\u4e00\u5207\u5728\u4f7f\u7528\u6d4f\u89c8\u5668\u4e2d\u4f1a\u7528\u5230\u7684\u64cd\u4f5c\u3002</li> <li>\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7</li> </ul>"},{"location":"backend/crawler/crawler/#scrapy","title":"scrapy \u7b80\u4ecb","text":""},{"location":"backend/crawler/crawler/#_11","title":"\u6574\u4f53\u6846\u67b6","text":"<p>scrapy \u7684\u6574\u4f53\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u6846\u67b6\u7684\u7ec4\u4ef6\u5305\u62ec\uff1a</p> <ul> <li>Scrapy Engine\uff1ascrapy \u5f15\u64ce\uff0c\u8c03\u8282\u5176\u4f59\u5404\u7ec4\u4ef6\uff0c\u63a7\u5236\u6570\u636e\u6d41\u3002</li> <li>Scheduler\uff1a\u8c03\u5ea6\u5668\uff0c\u7ec4\u7ec7\u4e3a\u4f18\u5148\u961f\u5217\uff0c\u8c03\u5ea6 requests\u3002</li> <li>Downloader\uff1a\u4e0b\u8f7d\u5668\uff0c\u5411\u7f51\u7edc\u53d1\u9001\u8bf7\u6c42\u3002</li> <li>Spider\uff1a\u81ea\u5b9a\u4e49\u7c7b\uff0c\u4e3b\u7c7b\uff0c\u89e3\u6790 responses\uff0c\u6784\u5efa items \u7b49\u3002</li> <li>Item Pipeline\uff1a\u7ba1\u9053\uff0c\u5728 Spider \u751f\u6210 Item \u540e\uff0c\u5728\u8be5\u7ec4\u4ef6\u4e2d\u6267\u884c\u540e\u7eed\u5de5\u4f5c\uff0c\u4f8b\u5982\u9a8c\u8bc1\uff0c\u52a0\u5165\u6570\u636e\u5e93\u7b49\u3002</li> <li>Downloader Middlewares\uff1a\u4e2d\u95f4\u4ef6\u3002</li> <li>Spider Middlewares\uff1a\u4e2d\u95f4\u4ef6\u3002</li> </ul>"},{"location":"backend/crawler/crawler/#_12","title":"\u8fd0\u4f5c\u6d41\u7a0b","text":"<p>\u4e0a\u8ff0\u6846\u67b6\u7ec4\u4ef6\u7684\u63cf\u8ff0\u53ef\u80fd\u4f1a\u8ba9\u4eba\u4e00\u5934\u96fe\u6c34\uff0c\u4e0b\u9762\u7684\u4e00\u6bb5\u62df\u4eba\u5bf9\u8bdd\u53ef\u80fd\u80fd\u5e2e\u52a9\u60a8\u5bf9\u4ed6\u4eec\u5404\u81ea\u4f5c\u7528\u7684\u7406\u89e3\u3002</p> <ol> <li>Engine\uff1aHi\uff01Spider, \u4f60\u8981\u5904\u7406\u54ea\u4e00\u4e2a\u7f51\u7ad9\uff1f</li> <li>Spider\uff1a\u8001\u5927\u8981\u6211\u5904\u7406 xxxx.com\u3002</li> <li>Engine\uff1a\u4f60\u628a\u7b2c\u4e00\u4e2a\u9700\u8981\u5904\u7406\u7684 URL \u7ed9\u6211\u5427\u3002</li> <li>Spider\uff1a\u7ed9\u4f60\uff0c\u7b2c\u4e00\u4e2a URL \u662f xxxxxxx.com\u3002</li> <li>Engine\uff1aHi\uff01Scheduler\uff0c\u6211\u8fd9\u6709 request \u8bf7\u6c42\u4f60\u5e2e\u6211\u6392\u5e8f\u5165\u961f\u4e00\u4e0b\u3002</li> <li>Scheduler\uff1a\u597d\u7684\uff0c\u6b63\u5728\u5904\u7406\u4f60\u7b49\u4e00\u4e0b\u3002</li> <li>Engine\uff1aHi\uff01Scheduler\uff0c\u628a\u4f60\u5904\u7406\u597d\u7684 request \u8bf7\u6c42\u7ed9\u6211\u3002</li> <li>Scheduler\uff1a\u7ed9\u4f60\uff0c\u8fd9\u662f\u6211\u5904\u7406\u597d\u7684 request\u3002</li> <li>Engine\uff1aHi\uff01Downloader\uff0c\u4f60\u6309\u7167\u8001\u5927\u7684 Downloader MiddleWares \u7684\u8bbe\u7f6e\u5e2e\u6211\u4e0b\u8f7d\u4e00\u4e0b\u8fd9\u4e2a request \u8bf7\u6c42\u3002</li> <li>Downloader\uff1a\u597d\u7684\uff01\u7ed9\u4f60\uff0c\u8fd9\u662f\u4e0b\u8f7d\u597d\u7684\u4e1c\u897f\u3002\uff08\u5982\u679c\u5931\u8d25\uff1asorry\uff0c\u8fd9\u4e2a request \u4e0b\u8f7d\u5931\u8d25\u4e86\u3002\u7136\u540e Engine \u544a\u8bc9 Scheduler\uff0c\u8fd9\u4e2a request \u4e0b\u8f7d\u5931\u8d25\u4e86\uff0c\u4f60\u8bb0\u5f55\u4e00\u4e0b\uff0c\u6211\u4eec\u5f85\u4f1a\u513f\u518d\u4e0b\u8f7d\u3002\uff09</li> <li>Engine\uff1aHi\uff01Spider\uff0c\u8fd9\u662f\u4e0b\u8f7d\u597d\u7684\u4e1c\u897f\uff0c\u5e76\u4e14\u5df2\u7ecf\u6309\u7167\u8001\u5927\u7684 Downloader MiddleWares \u5904\u7406\u8fc7\u4e86\uff0c\u4f60\u81ea\u5df1\u5904\u7406\u4e00\u4e0b\uff08\u6ce8\u610f\uff01\u8fd9\u91cc responses \u9ed8\u8ba4\u662f\u4ea4\u7ed9 def parse()\u8fd9\u4e2a\u51fd\u6570\u5904\u7406\u7684\uff09</li> <li>Spider\uff1a\uff08\u5904\u7406\u5b8c\u6bd5\u6570\u636e\u4e4b\u540e\u5bf9\u4e8e\u9700\u8981\u8ddf\u8fdb\u7684 URL\uff09\uff0cHi\uff01Engine\uff0c\u6211\u8fd9\u91cc\u6709\u4e24\u4e2a\u7ed3\u679c\uff0c\u8fd9\u4e2a\u662f\u6211\u9700\u8981\u8ddf\u8fdb\u7684 URL\uff0c\u8fd8\u6709\u8fd9\u4e2a\u662f\u6211\u83b7\u53d6\u5230\u7684 Item \u6570\u636e\u3002</li> <li>Engine\uff1aHi \uff01Pipeline \u6211\u8fd9\u513f\u6709\u4e2a Item\uff0c\u4f60\u5e2e\u6211\u5904\u7406\u4e00\u4e0b\uff01Scheduler\uff01\u8fd9\u662f\u9700\u8981\u8ddf\u8fdb URL\uff0c\u4f60\u5e2e\u6211\u5904\u7406\u4e0b\u3002\u7136\u540e\u4ece\u7b2c\u56db\u6b65\u5f00\u59cb\u5faa\u73af\uff0c\u76f4\u5230\u83b7\u53d6\u5b8c\u8001\u5927\u9700\u8981\u5168\u90e8\u4fe1\u606f\u3002</li> <li>Pipeline &amp; Scheduler\uff1a\u597d\u7684\uff0c\u73b0\u5728\u5c31\u505a\uff01</li> </ol>"},{"location":"backend/crawler/crawler/#_13","title":"\u793a\u4f8b","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5c1d\u8bd5\u5148\u722c\u53d6\u77e5\u4e4e\u70ed\u699c\u56de\u7b54\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u56de\u7b54\uff0c\u722c\u53d6\u4ed6\u6240\u5c5e\u7684\u95ee\u9898\u7f16\u53f7\u3001\u4f5c\u8005\u540d\u79f0\u4ee5\u53ca\u70b9\u8d5e\u6570\u76ee\u3002</p> <p>\u521b\u5efa\u9879\u76ee\uff08scrapy startproject\uff09</p> <p>\u6211\u4eec\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c\u547d\u4ee4 <code>scrapy startproject $project name$</code> \u5373\u53ef\u5728\u8be5\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>$project name$</code> \u7684 scrapy \u9879\u76ee\u3002\u8fd9\u91cc\u6211\u4eec\u4ee5 <code>zhihu</code> \u4e3a\u9879\u76ee\u540d\uff0c\u6267\u884c\u8be5\u547d\u4ee4\u540e\uff0cscrapy \u4f1a\u81ea\u52a8\u4e3a\u6211\u4eec\u5728\u8be5\u76ee\u5f55\u4e0b\u521b\u5efa\u4ee5\u4e0b\u7684\u6587\u4ef6\u7ed3\u6784\u3002</p> <pre><code>zhihu/\n    zhihu/\n        spiders/\n            __init__.py\n        __init__.py\n        items.py\n        middlewares.py\n        pipelines.py\n        settings.py\n    scrapy.cfg\n</code></pre> <p>\u8fd9\u4e9b\u6587\u4ef6\u5206\u522b\u662f:</p> <ul> <li><code>scrapy.cfg</code>: \u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>zhihu/</code>: \u9879\u76ee\u7684 Python \u6a21\u5757\uff0c\u5c06\u4f1a\u4ece\u8fd9\u91cc\u5f15\u7528\u4ee3\u7801\u3002</li> <li><code>zhihu/items.py</code>: \u9879\u76ee\u7684\u76ee\u6807\u6587\u4ef6\u3002</li> <li><code>zhihu/pipelines.py</code>: \u9879\u76ee\u7684\u7ba1\u9053\u6587\u4ef6\u3002</li> <li><code>zhihu/settings.py</code>: \u9879\u76ee\u7684\u8bbe\u7f6e\u6587\u4ef6\u3002</li> <li><code>zhihu/spiders/</code>: \u5b58\u50a8\u722c\u866b\u4ee3\u7801\u76ee\u5f55\u3002</li> </ul> <p>\u660e\u786e\u76ee\u6807\uff08zhihu/items.py\uff09</p> <p>\u6211\u4eec\u6253\u7b97\u6293\u53d6\u591a\u4e2a\u95ee\u9898\u4e0b\u7684\u56de\u7b54\u6240\u5c5e\u7684\u95ee\u9898\u7f16\u53f7\u3001\u4f5c\u8005\u540d\u79f0\u4ee5\u53ca\u70b9\u8d5e\u6570\u76ee\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u6765\u6784\u5efa <code>Items</code> \u7c7b\u4ece\u800c\u65b9\u4fbf\u6570\u636e\u7684\u722c\u53d6\u3002</p> <ol> <li>\u6253\u5f00 <code>zhihu</code> \u76ee\u5f55\u4e0b\u7684 <code>items.py</code>\u3002</li> <li><code>Item</code> \u5b9a\u4e49\u7ed3\u6784\u5316\u6570\u636e\u5b57\u6bb5\uff0c\u7528\u6765\u4fdd\u5b58\u722c\u53d6\u5230\u7684\u6570\u636e\uff0c\u6709\u70b9\u50cf Python \u4e2d\u7684\u5b57\u5178\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u4fdd\u62a4\u51cf\u5c11\u9519\u8bef\u3002</li> <li>\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a <code>scrapy.Item</code> \u7c7b\uff0c \u5e76\u4e14\u5b9a\u4e49\u7c7b\u578b\u4e3a <code>scrapy.Field</code> \u7684\u7c7b\u5c5e\u6027\u6765\u5b9a\u4e49\u4e00\u4e2a <code>Item</code>\uff08\u53ef\u4ee5\u7406\u89e3\u6210\u7c7b\u4f3c\u4e8e <code>ORM</code> \u7684\u6620\u5c04\u5173\u7cfb\uff09\u3002</li> </ol> <p>\u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u4e00\u4e2a <code>ZhihuItem</code> \u7c7b\uff0c\u548c\u6784\u5efa <code>item</code> \u6a21\u578b\uff08model\uff09\u3002</p> <pre><code>import scrapy\n\nclass ZhihuItem(scrapy.Item):\n    question_id = scrapy.Field()\n    author_name = scrapy.Field()\n    like_count = scrapy.Field()\n</code></pre> <p>\u5236\u4f5c\u722c\u866b\uff08spiders/hotpage.py\uff09</p> <p>\u56de\u5fc6\u7b2c\u4e00\u6b65\u64cd\u4f5c\uff0c\u5728\u6267\u884c <code>scrapy startproject zhihu</code> \u547d\u4ee4\u540e\uff0cscrapy \u7ed9\u4e86\u6211\u4eec\u5982\u4e0b\u5efa\u8bae\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f9d\u7167\u4ed6\u7684\u6307\u793a\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c\u5982\u4e0b\u4ee3\u7801\u3002</p> <pre><code>cd zhihu\nscrapy genspider hotpage www.zhihu.com/hot\n</code></pre> <p>\u63a5\u4e0b\u6765 scrapy \u5c31\u4f1a\u4e3a\u6211\u4eec\u5728 <code>spiders/</code> \u4e0b\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Python \u6587\u4ef6 <code>hotpage.py</code>\uff0c\u5176\u4e2d\u9ed8\u8ba4\u5185\u5bb9\u5982\u4e0b\u3002<code>name</code> \u5373\u4e3a\u8be5\u722c\u866b\u540d\u79f0\uff0c<code>allowed_domains</code> \u4e3a\u722c\u53d6\u94fe\u63a5\u57df\u540d\uff0c<code>start-urls</code> \u4e3a\u8d77\u59cb\u94fe\u63a5\u5217\u8868\u3002</p> <pre><code>import scrapy\n\n\nclass HotpageSpider(scrapy.Spider):\n    name = \"hotpage\"\n    allowed_domains = [\"www.zhihu.com\"]\n    start_urls = [\"https://www.zhihu.com/hot\"]\n\n    def parse(self, response):\n        pass\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c <code>scrapy crawl hotpage</code> \u6765\u8fd0\u884c\u722c\u866b\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u7684\u8d77\u59cb\u884c\u4e3a\u662f\u904d\u5386 <code>starts_urls</code> \u6765\u6267\u884c\u8bbf\u95ee\uff0c\u5f53\u7136\u60a8\u4e5f\u53ef\u4ee5\u7f16\u5199 <code>start_requests(self)</code> \u6765\u4fee\u6539\u9ed8\u8ba4\u884c\u4e3a\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4fee\u6539\u4e0a\u8ff0\u6587\u4ef6\u5982\u4e0b\u3002\u6211\u4eec\u5229\u7528 <code>logging.info</code> \u6765\u6253\u5370\u722c\u53d6\u5f97\u5230\u7684 URL\uff0c\u7136\u540e\u5229\u7528\u4e0e\u4e4b\u524d\u7c7b\u4f3c\u7684 XPath \u6765\u722c\u53d6\u76f8\u5e94\u7684\u94fe\u63a5\u3002\u6211\u4eec\u5229\u7528 <code>yield</code> \u6765\u8fd4\u56de <code>Request</code> \u5bf9\u8c61\uff0c\u5176\u4e2d <code>url</code> \u4ee3\u8868\u8bf7\u6c42\u8fde\u63a5\uff0c<code>callback</code> \u4ee3\u8868\u5904\u7406\u65b9\u6cd5\u3002</p> <pre><code>import scrapy\nimport logging\nfrom scrapy.http import Request\nimport re\n\nclass HotpageSpider(scrapy.Spider):\n    name = \"hotpage\"\n    allowed_domains = [\"www.zhihu.com\"]\n    start_urls = [\"https://www.zhihu.com/hot\"]\n\n    def parse(self, response):\n        logging.info(response.url)\n        for item in response.xpath(\"//div[@class='HotItem-content']\"):\n            yield Request(\n                url=item.xpath(\"./a/@href\").extract_first(), callback=self.parse_detail\n            )\n            break\n\n    def parse_detail(self, response):\n        logging.info(response.url)\n        question_id = re.findall(r\"question/(\\d+)\", response.url)[0]\n        items = response.xpath(\n            '//*[@id=\"QuestionAnswers-answers\"]//*[@class=\"List-item\"]'\n        )\n        logging.info(f\"question_id: {question_id}, items: {len(items)}\")\n        for item in items:\n            author_name = item.xpath(\n                './/div[@class=\"AuthorInfo\"]//meta[@itemprop=\"name\"]/@content'\n            ).extract_first()\n            try:\n                like_num = item.xpath(\n                    './/div[@class=\"ContentItem-actions Richcontent-actions\"]/span[1]/button[1]/@aria-label'\n                ).extract_first()[3:-1]\n            except Exception:\n                like_num = item.xpath(\n                    './/div[@class=\"ContentItem-actions\"]/span[1]/button[1]/@aria-label'\n                ).extract_first()[3:-1]\n            yield {\n                \"question_id\": question_id,\n                \"author_name\": author_name,\n                \"like_num\": like_num,\n            }\n</code></pre> <p>\u4fee\u6539\u4e2d\u95f4\u4ef6\uff08zhihu/middlewares.py\uff09</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u4fee\u6539 <code>ZhihuDownloaderMiddleware</code> \u7c7b\u4e2d\u7684 <code>process_request(self, request, spider)</code> \u65b9\u6cd5\u3002\u7531\u4e8e\u5176\u4e0e\u4e4b\u524d selenium \u90e8\u5206\u4ecb\u7ecd\u7684\u7c7b\u4f3c\uff0c\u8fd9\u4e00\u90e8\u5206\u5c31\u4e0d\u7ed9\u51fa\u5177\u4f53\u8bb2\u89e3\u4e86\u3002</p> <pre><code>from selenium.webdriver.chrome.service import Service as ChromService\nfrom webdriver_manager.chrome import ChromeDriverManager\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.chrome.options import Options as ChromeOptions\nfrom selenium.webdriver.support.ui import WebDriverWait as wdw\nfrom selenium.webdriver.support import expected_conditions as EC\nimport selenium\nimport scrapy\nimport re\nimport logging\n\nclass ZhihuDownloaderMiddleware:\n    @classmethod\n    def process_request(self, request, spider):\n        # Called for each request that goes through the downloader\n        # middleware.\n\n        # Must either:\n        # - return None: continue processing this request\n        # - or return a Response object\n        # - or return a Request object\n        # - or raise IgnoreRequest: process_exception() methods of\n        #   installed downloader middleware will be called\n        if not re.match(r\"https://www.zhihu.com/question/\\d+\", request.url):\n            return None\n\n        chrome_options = ChromeOptions()\n        chrome_options.binary_location = \"blabla\" # the location of your chrome\n        chrome_options.add_argument(\"--headless\") # runs in the background\n        driver = selenium.webdriver.Chrome(service=ChromService(ChromeDriverManager().install()), options=chrome_options)\n        driver.get(request.url)\n\n        wdw(driver, 10).until(EC.presence_of_all_elements_located(By.XPATH, '/html/body/div[5]/div/div/div/div[2]/button'))\n        button_quit = driver.find_element(By.XPATH, '/html/body/div[5]/div/div/div/div[2]/button')\n        button_quit.click()\n\n        while True:\n            driver.execute_script(\"window.scrollBy(0, -10);\")\n            driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n            if driver.find_elements(By.XPATH, '/html/body/div[1]/div/main/div/div/div[3]/div[1]/div/div[2]/a/button'):\n                break\n\n        logging.info(\"finefine\")\n\n        response = scrapy.http.HtmlResponse(url=request.url, body=driver.page_source, encoding=\"utf-8\", request=request)\n\n        driver.quit()\n\n        return response\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\uff08zhihu/settings.py\uff09</p> <p>\u56de\u5fc6\u6211\u4eec\u4e4b\u524d\u7684\u5b66\u4e60\uff0c\u6211\u4eec\u5728\u6784\u5efa\u8bf7\u6c42\u65f6\u9700\u8981\u4fee\u6539 cookies\u3002\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u5229\u7528 scrapy \u9ed8\u8ba4\u7684 cookie \u7ba1\u7406\u5668\u6765\u5b9e\u73b0\u3002\u4f46\u6211\u4eec\u6709\u66f4\u52a0\u7b80\u6613\u7684\u65b9\u5f0f\uff0c\u5373\u76f4\u63a5\u4fee\u6539 <code>settings.py</code> \u4e2d\u7684 <code>DEFAULT_REQUEST_HEADERS</code>\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u9700\u8981\u628a <code>COOKIES_ENABLED</code> \u7f6e\u4e3a <code>False</code>\uff0c\u5373\u7981\u6b62 scrapy \u4e3a\u6211\u4eec\u7ba1\u7406 cookie\u3002</p> <p>\u6b64\u5916\uff0c\u7531\u4e8e\u6211\u4eec\u8981\u4e0d\u65ad\u6253\u5370 <code>INFO</code> \u7c7b\u578b\u7684\u65e5\u5fd7\uff0c\u6211\u4eec\u8fd8\u8981\u4fee\u6539 <code>LOG_LEVEL</code> \u4e3a <code>\"INFO\"</code>\u3002\u7531\u4e8e\u6211\u4eec\u5229\u7528\u4e86 <code>Downloader Middlewares</code>\uff0c\u6211\u4eec\u8981\u89e3\u9664 <code>DOWNLOADER_MIDDLEWARES</code> \u7684\u6ce8\u91ca\u3002\u8fd9\u91cc\u6ce8\u610f\u5230\u5b57\u5178\u5185\u6709\u76f8\u5e94\u7684\u6570\u5b57\uff0c\u60a8\u53ef\u4ee5\u8ba4\u4e3a\u5176\u662f\u4e2d\u95f4\u4ef6\u7684\u4f4d\u7f6e\uff0c\u5373\u5176\u8d8a\u5c0f\uff0c<code>request</code> \u5904\u7406\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c<code>response</code> \u5904\u7406\u4f18\u5148\u7ea7\u8d8a\u4f4e\u3002</p> <p>\u622a\u81f3\u8fd9\u91cc\uff0c\u7406\u8bba\u4e0a\u6211\u4eec\u5c31\u53ef\u4ee5\u8fd0\u884c\u8be5\u722c\u866b\u7a0b\u5e8f\u4e86\u3002\u4f46\u662f\u8fd0\u884c\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\u5e76\u6ca1\u6709\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002\u8fd9\u65f6\u56de\u5fc6\u65e9\u4e9b\u65f6\u5019\u63d0\u5230\u7684\u7f51\u9875\u4e2d\u7684 <code>robots.txt</code> \u6587\u4ef6\u3002\u6ce8\u610f\u5230\u77e5\u4e4e\u7684 <code>robots.txt</code> \u4e2d\u6709\u5982\u4e0b\u5185\u5bb9\u3002</p> <pre><code># \u6b64\u5904\u7565\u53bb\u90e8\u5206\u5185\u5bb9\n\nUser-Agent: *\nDisallow: /\n</code></pre> <p>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\u77e5\u4e4e\u62d2\u7edd\u4e86\u5927\u90e8\u5206 User-Agent \u7684\u8bbf\u95ee\u3002\u800c scrapy \u9ed8\u8ba4\u4f1a\u9075\u5faa <code>robots.txt</code> \u7684\u9650\u5236\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u5229\u7528 scrapy \u6765\u53bb\u722c\u53d6\u77e5\u4e4e\u7684\u5185\u5bb9\u65f6\u5c31\u4f1a\u722c\u53d6\u5931\u8d25\u3002\u4e8e\u662f\u6211\u4eec\u4fee\u6539 <code>ROBOTSTXT_OBEY</code> \u4e3a <code>False</code> \u5373\u53ef\u6210\u529f\u722c\u53d6\u3002</p>"},{"location":"backend/crawler/crawler/#_14","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u60a8\u53ef\u4ee5\u5229\u7528\u4e0a\u8ff0\u63d0\u5230\u7684\u4efb\u610f\u65b9\u6cd5\u6765\u5b9e\u73b0\u6e05\u534e\u5927\u5b66\u8ba1\u7b97\u673a\u7cfb Python \u590f\u5b63\u5b66\u671f\u7684\u722c\u866b\u90e8\u5206\u5b9e\u9a8c\u3002\u60a8\u53ef\u4ee5\u5728 \u7a0b\u5e8f\u8bbe\u8ba1\u8bad\u7ec3\u6587\u6863 \u4e2d\u4e86\u89e3\u5230\u8be6\u7ec6\u7684\u8981\u6c42\u3002\u5176\u4e2d\u5305\u542b\u4e86\u8bfe\u7a0b\u52a9\u6559\u6240\u7f16\u5199\u7684\u4e00\u4e9b\u8bfe\u7a0b\u6307\u5f15\uff0c\u6b22\u8fce\u5927\u5bb6\u9605\u8bfb\u5b66\u4e60\u3002</p> <p>\u6b64\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u5b8c\u6210 \u8ba1\u7b97\u673a\u7cfb 2023 \u5e74\u79d1\u534f\u6691\u57f9 \u722c\u866b\u90e8\u5206\u4f5c\u4e1a\u3002</p>"},{"location":"backend/crawler/crawler/#_15","title":"\u8d44\u6e90\u94fe\u63a5","text":"<p>\u9664\u4e86\u672c\u6587\u6863\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u53c2\u8003\uff1a</p> <ul> <li>2024\u5e74\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f\u6691\u57f9 \u722c\u866b\u8bb2\u4e49 \u4ee5\u53ca \u8bfe\u7a0b\u56de\u653e\u3002</li> <li>2023\u5e74\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f\u6691\u57f9 \u722c\u866b\u90e8\u5206 \u4ee5\u53ca \u8bfe\u7a0b\u56de\u653e\u3002</li> <li>2021\u5e74\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f\u6691\u57f9 \uff08\u8bf7\u5728\u5b66\u5802\u5728\u7ebf\u4e0a\u52a0\u5165\u5b66\u4e60\uff09\u3002</li> <li>\u8d75\u6668\u9633\u5b66\u957f\u7ec4\u7ec7\u7f16\u5199\u7684\u4e3a\u4e00\u5b57\u73ed\u540c\u5b66\u63d0\u4f9b\u7684 Python \u5c0f\u5b66\u671f\u9884\u4e60\u6750\u6599\u3002</li> <li>Python requests \u5e93\u5b98\u65b9\u6587\u6863</li> <li>Python selenium \u5e93\u5b98\u65b9\u6587\u6863</li> <li>Python BeautifulSoup4 \u5e93\u5b98\u65b9\u6587\u6863</li> <li>Python scrapy \u5e93\u5b98\u65b9\u6587\u6863</li> <li>Node.js \u5b98\u65b9\u7f51\u7ad9</li> <li>Postman \u5b98\u65b9\u7f51\u7ad9</li> </ul> \u5199\u7ed9\u8ba1\u7b97\u673a\u7cfb\u5927\u4e00\u540c\u5b66 <p>\u4e00\u822c\u6765\u8bb2\uff0c\u8fd1\u51e0\u5e74\u5927\u4e00\u5c0f\u5b66\u671f\u53ef\u9009\u8bed\u8a00\u4e3a\uff1a</p> <ul> <li>Java\uff1a\u5229\u7528\u8001\u5e08\u63d0\u4f9b\u7684\u65b0\u95fb\u6570\u636e\uff0c\u7f16\u5199\u4e00\u4e2a\u8fd0\u884c\u5728\u5b89\u5353\u5e73\u53f0\u4e0a\u7684\u65b0\u95fb app\uff0c\u9700\u8981\u5b9e\u73b0\u7684\u53ef\u80fd\u6709\uff1a\u9996\u9875\u968f\u673a\u751f\u6210\u65b0\u95fb\u3001\u65b0\u95fb\u641c\u7d22\u3001\u65b0\u95fb\u5206\u7c7b\u3001\u6d4f\u89c8\u8bb0\u5f55\u3001\u6536\u85cf\u7b49\u7b49\u3002</li> <li>Python\uff1a\u7b2c\u4e00\u6b21\u5927\u4f5c\u4e1a\u662f\u5148\u5229\u7528\u722c\u866b\u722c\u53d6\u8db3\u591f\u6570\u91cf\u7684\u67d0\u65b0\u95fb\u7f51\u9875\u4e0a\u7684\u65b0\u95fb\uff0c\u7136\u540e\u57fa\u4e8e Django \u642d\u5efa\u524d\u540e\u7aef\uff0c\u5229\u7528\u4e4b\u524d\u722c\u53d6\u5f97\u5230\u7684\u6570\u636e\u7f16\u5199\u4e00\u4e2a\u90e8\u7f72\u5728\u672c\u5730\u7684\u65b0\u95fb\u7f51\u9875\uff0c\u9700\u8981\u5b9e\u73b0\u7684\u53ef\u80fd\u6709\uff1a\u9996\u9875\u968f\u673a\u751f\u6210\u65b0\u95fb\u3001\u65b0\u95fb\u641c\u7d22\u3001\u65b0\u95fb\u5206\u7c7b\u3001\u6dfb\u52a0\u8bc4\u8bba\u7b49\u3002\u7b2c\u4e8c\u6b21\u5927\u4f5c\u4e1a\u662f\u8bad\u7ec3\u4e00\u4e2a LLM\uff0c\u4e3b\u8981\u4efb\u52a1\u662f\u57fa\u4e8e\u5df2\u6709\u6a21\u578b\u8fdb\u884c\u5c11\u91cf\u4ee3\u7801\u8865\u5168\u4ee5\u53ca\u6784\u5efa\u6d4b\u8bd5\u96c6\u8fdb\u884c\u8bad\u7ec3\u3002</li> <li>Rust\uff1a\u642d\u5efa\u4e00\u4e2a OJ \u5e73\u53f0\u3002</li> </ul> <p>\u5982\u679c\u60a8\u6253\u7b97\u9009\u4fee Python \u5c0f\u5b66\u671f\uff0c\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u60a8\u53c2\u52a0\u5bf9\u5e94\u5e74\u5ea6\u8ba1\u7b97\u673a\u7cfb\u79d1\u534f\u4e3e\u529e\u7684\u6691\u57f9\uff0c\u63d0\u524d\u9884\u4e60 Web\u3001\u722c\u866b\u4e0e Django \u76f8\u5173\u5185\u5bb9\u4ee5\u51cf\u8f7b\u5c0f\u5b66\u671f\u7684\u5b66\u4e1a\u538b\u529b\u3002\u6b64\u5916\uff0c\u6211\u4eec\u4e5f\u5efa\u8bae\u60a8\u9605\u8bfb \u79d1\u534f\u6280\u80fd\u5f15\u5bfc\u6587\u6863 Django \u90e8\u5206\u3002\u4e0d\u8fc7\u4e5f\u65e0\u9700\u592a\u8fc7\u62c5\u5fc3\uff0c\u5c0f\u5b66\u671f\u7684\u7ed9\u5206\u76f8\u5bf9\u4e0d\u4f1a\u592a\u5dee\u3002\u53ea\u8981\u8ba4\u771f\u6309\u65f6\u5b8c\u6210\u5927\u4f5c\u4e1a\uff0c\u90fd\u80fd\u53d6\u5f97\u4e0d\u9519\u7684\u5206\u6570\u3002</p>"},{"location":"backend/django/django/","title":"Django","text":""},{"location":"backend/django/django/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u5b66\u4e60Django\u9700\u8981\u5bf9python\u6709\u4e00\u5b9a\u7684\u4e86\u89e3\u3002</li> <li>\u9700\u8981\u5bf9Web\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u57fa\u7840\uff08\u5305\u62ecHTML\u7b49\uff09\u6709\u4e00\u5b9a\u7684\u4e86\u89e3</li> </ul>"},{"location":"backend/django/django/#_2","title":"\u7b80\u4ecb","text":"<p>Django\u662fPython\u8bed\u8a00\u4e2d\u5f53\u4e0b\u8f83\u70ed\u95e8\u7684Web\u6846\u67b6\u4e4b\u4e00\uff0c\u5176\u529f\u80fd\u5f3a\u5927\uff0c\u7ec4\u4ef6\u7e41\u591a\uff0c\u4fbf\u4e8e\u4e2a\u4eba\u4f7f\u7528\u8005\u6216\u5c0f\u56e2\u961f\u5728\u77ed\u65f6\u95f4\u5185\u642d\u5efa\u4e00\u4e2aWeb\u5e94\u7528\uff0c\u662f\u4e00\u4e2a\u9002\u5408\u521d\u5b66\u8005\u5165\u95e8\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u8303\u5f0f\u7684\u5f00\u53d1\u6846\u67b6\uff0c\u6b64\u5916\uff0c\u5176\u4e2d\u7684\u6a21\u7248\u529f\u80fd\u8fd8\u63d0\u4f9b\u4e86\u524d\u540e\u7aef\u4e0d\u5206\u79bb\u7684\u5f00\u53d1\u6846\u67b6\u3002\u672c\u6587\u5c06\u4ece\u4e94\u4e2a\u90e8\u5206\uff08\u6587\u4ef6\u6811\u7ed3\u6784\uff0c\u8def\u7531\uff0c\u6a21\u578b\uff0c\u89c6\u56fe\uff0c\u5355\u5143\u6d4b\u8bd5\uff09\u6765\u4ecb\u7ecdDjango\uff0c\u9605\u8bfb\u540e\u4f60\u5c06\u638c\u63e1\u72ec\u7acb\u5f00\u53d1\u7b80\u5355web\u5e94\u7528\u7684\u80fd\u529b\u3002</p>"},{"location":"backend/django/django/#_3","title":"\u6587\u4ef6\u6811\u7ed3\u6784","text":"<p>\u5728\u5b89\u88c5\u4e86 Django \u5e93\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>django-admin startproject &lt;\u9879\u76ee\u540d&gt;</code> \u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\u3002\u5728\u65b0\u5efa\u9879\u76ee\u540e\uff0c\u6211\u4eec\u8fdb\u5165\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u7684\u6587\u4ef6\u6811\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 manage.py  # \u4f7f\u7528\u547d\u4ee4\u884c\u64cd\u4f5c\u540e\u7aef\u7684\u4e3b\u5165\u53e3\n\u2514\u2500\u2500 &lt;Project Name&gt;\n    \u251c\u2500\u2500 __init__.py  \n    \u251c\u2500\u2500 settings.py  # \u540e\u7aef\u542f\u52a8\u65f6\u5e94\u7528\u7684\u8bbe\u7f6e\n    \u251c\u2500\u2500 urls.py  # \u4e3b\u8def\u7531\u5165\u53e3\n    \u251c\u2500\u2500 asgi.py  # \u4ee5 asgi \u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\u7684\u914d\u7f6e\u6587\u4ef6\n    \u2514\u2500\u2500 wsgi.py  # \u4ee5 wsgi \u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\u7684\u914d\u7f6e\u6587\u4ef6\n</code></pre> <p>\u9879\u76ee\u90e8\u7f72\u7684\u90e8\u5206\u662f\u5c0f\u4f5c\u4e1a\u90e8\u7f72\u9636\u6bb5\uff08CI/CD \u90e8\u5206\uff09\u7684\u4e3b\u8981\u5185\u5bb9\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u8be6\u7ec6\u5c55\u5f00\u3002</p> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>python3 manage.py startapp &lt;\u5e94\u7528\u540d&gt;</code> \u6765\u65b0\u5efa\u4e00\u4e2a\u5e94\u7528\u3002\u4e00\u4e2a Django \u9879\u76ee\u4e2d\u53ef\u4ee5\u540c\u65f6\u5b58\u5728\u591a\u4e2a\u5e94\u7528\uff0c\u4e00\u4e2a\u5e94\u7528\u662f\u5177\u6709\u5b8c\u6210\u67d0\u4e2a\u72ec\u7acb\u529f\u80fd\u4f5c\u7528\u7684\u6a21\u5757\uff0c\u8fd9\u4e4b\u540e\u4f60\u5e94\u8be5\u770b\u5230\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 app1  # \u4f60\u521b\u5efa\u7684\u5e94\u7528\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 apps.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations  # \u5e94\u7528\u5bf9\u6570\u636e\u5e93\u8868\u53ca\u8868\u5c5e\u6027\u7684\u4fee\u6539\u5386\u53f2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py  # \u5e94\u7528\u7684\u201c\u6a21\u578b\u201d\u5b9a\u4e49\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests.py  # \u5e94\u7528\u7684\u201c\u5355\u5143\u6d4b\u8bd5\u201d\u5b9a\u4e49\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py  # \u5e94\u7528\u7684\u201c\u89c6\u56fe\u201d\u5b9a\u4e49\n\u251c\u2500\u2500 manage.py\n\u2514\u2500\u2500 &lt;Project Name&gt;\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 asgi.py\n    \u251c\u2500\u2500 settings.py\n    \u251c\u2500\u2500 urls.py\n    \u2514\u2500\u2500 wsgi.py\n</code></pre> <p>\u8fd9\u65f6\uff0c\u4f60\u4e00\u822c\u9700\u8981\u5728 <code>&lt;project&gt;/settings.py</code> \u4e2d\u7684 <code>INSTALLED_APPS</code> \u5b57\u6bb5\u4e2d\u6ce8\u518c\u8be5\u5e94\u7528\u3002\u63a5\u4e0b\u6765\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u7406\u89e3\u4e0b\u8ff0\u76ee\u5f55\u7ed3\u6784\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 DjangoHW  # \u6211\u4eec\u7684\u9879\u76ee\u540d\u4e3a DjangoHW\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 asgi.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.py\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 board  # \u6211\u4eec\u65b0\u5efa\u4e86\u4e00\u4e2a\u5e94\u7528\u53eb\u505a board\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 apps.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0001_initial.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0002_remove_board_deleted_remove_user_deleted.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 db.sqlite3  # \u672c\u5730\u6570\u636e\u5e93\u5b58\u50a8\n\u251c\u2500\u2500 manage.py\n\u251c\u2500\u2500 requirements.txt\n\u2514\u2500\u2500 utils  # \u64b0\u5199\u7684\u529f\u80fd\u51fd\u6570\uff0c\u53ef\u4ee5\u653e\u5728\u5e94\u7528\u4e2d\u4e5f\u53ef\u4ee5\u653e\u5728\u6839\u76ee\u5f55\u4e0b\uff0c\u4fdd\u8bc1\u5f15\u7528\u8def\u5f84\u6b63\u786e\u5373\u53ef\n    \u251c\u2500\u2500 utils_request.py\n    \u251c\u2500\u2500 utils_require.py\n    \u2514\u2500\u2500 utils_time.py\n</code></pre> <p>Note</p> <p>\u672c\u8282\u5bf9\u5e94\u5b98\u65b9\u6587\u6863 \u201c\u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2a Django \u5e94\u7528\uff0c\u7b2c 1 \u90e8\u5206\u201d \u4e2d\u201c\u521b\u5efa\u9879\u76ee\u201d\u3001\u201c\u7528\u4e8e\u5f00\u53d1\u7684\u7b80\u6613\u670d\u52a1\u5668\u201d\u3001\u201c\u521b\u5efa\u6295\u7968\u5e94\u7528\u201d\u8282\u3002</p>"},{"location":"backend/django/django/#routing","title":"\u8def\u7531\uff08Routing\uff09","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u6765\u89e3\u51b3\u540e\u7aef\u6536\u5230\u8bf7\u6c42\u65f6\uff0c\u540e\u7aef\u4f1a\u5c06\u8bf7\u6c42\u4ea4\u7ed9\u54ea\u4e2a\u5e94\u7528\u7684\u54ea\u4e2a\u89c6\u56fe\u51fd\u6570\u5904\u7406\u7684\u95ee\u9898\u3002\u548c\u8fd9\u4e2a\u529f\u80fd\u6709\u5173\u7684\u6587\u4ef6\u4e3b\u8981\u5305\u62ec <code>&lt;\u9879\u76ee\u540d&gt;/urls.py</code> \u548c <code>&lt;\u5e94\u7528\u540d&gt;/urls.py</code>\u3002</p> <p>\u5047\u5982\u6211\u4eec\u7684\u540e\u7aef\u90e8\u7f72\u5728 <code>my-backend.com</code>\uff0c\u6211\u4eec\u5728\u8bbf\u95ee <code>my-backend.com/board/restart</code> \u65f6\uff0c\u540e\u7aef\u4f1a\u9996\u5148\u5728 <code>&lt;\u9879\u76ee\u540d&gt;/urls.py</code> \u4e2d\u4ee5 <code>board/restart</code> \u5f00\u59cb\u641c\u7d22\u3002\u5047\u8bbe <code>&lt;\u9879\u76ee\u540d&gt;/urls.py</code> \u4e2d\u914d\u7f6e\u4e3a\uff1a</p> <pre><code>from django.urls import path, include\n\nurlpatterns = [\n    path('board/', include(\"board.urls\")),\n]\n</code></pre> <p>\u6211\u4eec\u4f1a\u5339\u914d\u6389\u5b57\u7b26\u4e32 <code>'board/'</code>\uff0c\u7136\u540e\u5c06\u5269\u4e0b\u7684\u8bf7\u6c42 <code>restart</code> \u4ea4\u7ed9 <code>board/urls.py</code> \u5904\u7406\uff0c\u8fd9\u4e5f\u662f\u8fd9\u91cc <code>include</code> \u7684\u4f5c\u7528\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u5b50\u5e94\u7528\u7684\u8def\u7531\u8868\u5904\u7406\u3002</p> <p>\u7136\u540e\uff0c\u5047\u8bbe\u6211\u4eec\u5728 <code>board/urls.py</code> \u4e2d\u914d\u7f6e\u4e3a\uff1a</p> <pre><code>from django.urls import path, include\nimport board.views as views\n\nurlpatterns = [\n    path('restart', views.restart_board),\n]\n</code></pre> <p>\u8fd9\u65f6\u5269\u4f59\u8bf7\u6c42 <code>restart</code> \u5339\u914d\u5230\u7b2c\u4e00\u6761\u89c4\u5219\u540e\uff0c\u4ea4\u7531 <code>board/views.py</code> \u4e2d\u7684 <code>restart_board</code> \u51fd\u6570\u8fdb\u884c\u5904\u7406\uff0c\u5373\u540e\u7aef\u4f1a\u5e2e\u52a9\u6211\u4eec\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u5e76\u628a\u8bf7\u6c42\u4f53\uff08\u548c\u8bf7\u6c42\u6709\u5173\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u65b9\u6cd5\u3001\u8bf7\u6c42\u6570\u636e\u7b49\u7b49\uff09\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9\u8fd9\u4e2a\u51fd\u6570\u3002</p> <p>\u6b64\u5916\u8fd8\u6709\u66f4\u591a\u548c\u8def\u7531\u6709\u5173\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u5728\u8def\u5f84\u4e2d\u89e3\u6790\u53d8\u91cf\u7b49\uff0c\u8bf7\u9605\u8bfb\u5b98\u65b9\u6587\u6863\u3002</p> <p>Question</p> <p>\u5047\u5982 <code>&lt;project&gt;/urls.py</code> \u8981\u628a\u6240\u6709\u7684\u8bf7\u6c42\u90fd\u8f6c\u53d1\u7ed9 <code>api/urls.py</code>\uff0c<code>&lt;project&gt;/urls.py</code> \u4e2d <code>path</code> \u5e94\u5982\u4f55\u586b\u5199\uff1f</p>"},{"location":"backend/django/django/#django-mvc","title":"Django \u4e2d\u7684 MVC \u6846\u67b6","text":"<p>\u6211\u4eec\u8ba4\u4e3a, MVC \u4e2d\u7684 M \u5bf9\u5e94 <code>Model</code>, V \u5bf9\u5e94 <code>Template</code>, C \u5bf9\u5e94 <code>View</code>.</p>"},{"location":"backend/django/django/#models","title":"\u6a21\u578b\uff08Models\uff09","text":"<p>Note</p> <p>\u5982\u679c\u4f60\u5bf9\u8bb0\u5f55\u3001\u4e3b\u952e\u3001\u5916\u952e\u3001\u7d22\u5f15\u3001\u8054\u5408\u4e3b\u952e\u8fd9\u4e9b\u6982\u5ff5\u5e76\u4e0d\u719f\u6089\uff0c\u4f60\u53ef\u4ee5\u9605\u8bfb \u8fd9\u7bc7\u6587\u6863 \u5feb\u901f\u5165\u95e8\u3002\u5728\u5b9e\u9645\u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u4e9b\u5143\u6570\u636e\u5bf9\u4e8e\u6570\u636e\u8868\u7684\u8bbe\u8ba1\u4ee5\u53ca\u6570\u636e\u5e93\u4f7f\u7528\u8d77\u6765\u7684\u6027\u80fd\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002</p> <p>Model \u662f\u540e\u7aef\u7684\u6838\u5fc3: \u5176\u5b9a\u4e49\u4e86\u5982\u4f55\u9ad8\u6548\u4fdd\u5b58\u6570\u636e, \u4f7f\u5f97\u5e94\u7528\u8fd0\u884c\u65f6\u7684\u4efb\u610f\u4e0e\u6570\u636e\u5e93\u6709\u5173\u7684\u64cd\u4f5c\u7684\u590d\u6742\u5ea6\u80fd\u63a7\u5236\u5728\u53ef\u4ee5\u63a5\u53d7\u7684\u8303\u56f4\u5185</p> <p>\u5728 Django \u4e2d\uff0c\u6a21\u578b\u7528\u4e8e\u6570\u636e\u5e93\u4e2d\u6570\u636e\u8868\u7684\u7ed3\u6784\u8bbe\u8ba1\u4ee5\u53ca\u6570\u636e\u8868\u7684\u5143\u6570\u636e\uff08\u5982\u4e3b\u952e\u3001\u5916\u952e\u3001\u7d22\u5f15\u7b49\uff09\u7ba1\u7406\u3002\u6211\u4eec\u4f7f\u7528 Django \u63d0\u4f9b\u7684 ORM \u673a\u5236\u6765\u8fdb\u884c\u5bf9\u6570\u636e\u8868\u548c\u6570\u636e\u8868\u5217\u5c5e\u6027\u7684\u7ba1\u7406\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728 <code>&lt;app&gt;/models.py</code> \u4e2d\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u7ee7\u627f <code>django.db.models.Model</code> \u5373\u53ef\uff0c\u6bd4\u5982\u5b98\u65b9\u6587\u6863\u4e2d\u7ed9\u51fa\u7684\u5b9a\u4e49\uff1a</p> <pre><code>from django.db import models\n\nclass Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField()\n\nclass Choice(models.Model):\n    question = models.ForeignKey(Question, on_delete=models.CASCADE)\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n</code></pre> <p>\u5728\u4f60\u4fee\u6539\u5b8c\u5e94\u7528\u7684 <code>models.py</code> \u4e4b\u540e\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u53bb\u751f\u6210\u4fee\u6539\u6570\u636e\u8868\u7ed3\u6784\u4e0e\u5c5e\u6027\u7684\u8bed\u53e5\uff1a</p> <pre><code>python3 manage.py makemigrations &lt;app_name&gt;\n</code></pre> <p>\u6ce8\u610f\u8bf7 \u4e0d\u8981 \u5c06 migrations \u6587\u4ef6\u5939\u7eb3\u5165\u5230 .gitignore \u6587\u4ef6\u4e2d (\u6b64\u65f6\u5728\u4f60\u66f4\u6539\u6570\u636e\u5e93\u4e4b\u540e\u4f60\u5e94\u8be5\u8fd0\u884c makemigrations, \u8fd9\u4f1a\u5b9a\u4e49\u5982\u4f55\u5c06\u4e4b\u524d\u7684\u6570\u636e\u5e93\u6b63\u786e\u8fc1\u79fb\u5230\u65b0\u7684\u6570\u636e\u8868\u7ed3\u6784\u4e2d, \u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u7684\u8fde\u7eed\u6027)\u3002\u8fdb\u800c\uff0c\u6bcf\u6b21\u5728\u670d\u52a1\u7aef\u90e8\u7f72\u65f6\uff0c\u5728\u5176\u8fd0\u884c\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684\u90e8\u7f72\u811a\u672c\u4f1a\u6267\u884c\uff1a</p> <pre><code>python3 manage.py migrate\n</code></pre> <p>\u5c06\u4e0a\u6761\u547d\u4ee4\u751f\u6210\u7684\u4fee\u6539\u8868\u5c5e\u6027\u7684\u8bed\u53e5\u5e94\u7528\u5230\u8be5\u90e8\u7f72\u6240\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u4e2d\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u53ea\u662f\u8fdb\u884c\u672c\u5730\u6d4b\u8bd5\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u5728\u672c\u5730\u8fde\u7eed\u5730\u8f93\u5165\u8fd9\u4e24\u6761\u6307\u4ee4\uff0c\u672c\u5730\u7684\u6570\u636e\u5e93\u4f1a\u5b58\u50a8\u5728 <code>db.sqlite3</code> \u6587\u4ef6\u4e2d\u3002 </p> <p>Question</p> <p>\u8bf7\u67e5\u9605\u6587\u6863\uff0c\u4e3b\u952e\u3001\u5916\u952e\u3001\u8054\u5408\u4e3b\u952e\u3001\u552f\u4e00\u6027\u7ea6\u675f\u3001\u7d22\u5f15\u8fd9\u4e9b\u5143\u6570\u636e\u90fd\u5e94\u8be5\u5982\u4f55\u521b\u5efa\uff1f</p> <p>Tip</p> <p>\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u5b9a\u4e49\u4e3b\u952e, Django \u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>id</code> \u7684\u4e3b\u952e, \u4e14\u4f1a\u81ea\u52a8\u589e\u52a0 <code>unique=True</code> \u7ea6\u675f. \u4f60\u53ef\u4ee5\u901a\u8fc7 <code>primary_key=True</code> \u6765\u663e\u5f0f\u5b9a\u4e49\u4e3b\u952e.</p> <p>Note</p> <p>\u672c\u8282\u5bf9\u5e94\u5b98\u65b9\u6587\u6863 \u201c\u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2a Django \u5e94\u7528\uff0c\u7b2c 2 \u90e8\u5206\u201d \u4e2d\u201c\u6570\u636e\u5e93\u914d\u7f6e\u201d\u3001\u201c\u521b\u5efa\u6a21\u578b\u201d\u3001\u201c\u6fc0\u6d3b\u6a21\u578b\u201d\u8282\u3002</p> <p>\u5173\u4e8e\u66f4\u591a\u5b57\u6bb5\u7c7b\u578b, \u53c2\u9605 Django Model Field Reference.</p> <p>Warning</p> <p>Django \u7684\u4e0d\u540c ORM \u540e\u7aef\u53ef\u80fd\u5e26\u6765\u4e0d\u4e00\u6837\u7684\u7279\u6027! \u5982\u5728 SQLite \u4e2d, \u4ee5\u4e0b\u5b9a\u4e49</p> <pre><code>id = models.CharField(max_length=10, primary_key=True)\n</code></pre> <p>\u4e2d\u867d\u7136 <code>id</code> \u7684 <code>max_length</code> \u662f 10, \u4f60\u4f9d\u7136\u53ef\u4ee5\u5b58\u4e00\u4e2a\u957f\u5ea6\u5927\u4e8e 10 \u7684\u5b57\u7b26\u4e32\u8fdb\u53bb\u800c\u4e0d\u5f15\u53d1\u9519\u8bef. \u4f46\u8fd9\u5e76\u4e0d\u4ee3\u8868\u7740\u5728 \u4efb\u610f DB Backend \u4e2d\u90fd\u53ef\u4ee5\u8fd9\u6837! \u6362\u53e5\u8bdd\u8bf4, Django \u53ef\u80fd\u5e76\u4e0d\u80fd\u5b8c\u6574\u6821\u9a8c\u4f60\u7684\u6570\u636e, \u5bfc\u81f4\u4f60\u7684\u4ee3\u7801\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u540e\u7aef\u4e2d\u53ef\u80fd\u4f1a\u6709\u4e0d\u540c\u7684\u884c\u4e3a. \u6240\u4ee5 \u4f60\u9700\u8981\u5728\u4ee3\u7801\u4e2d\u663e\u5f0f\u6821\u9a8c\u4f60\u7684\u6570\u636e</p> <p>\u5728\u5b8c\u6210\u5b57\u6bb5\u5b9a\u4e49\u4e4b\u540e, \u53ef\u4ee5\u4f7f\u7528 <code>Question.objects</code> \u8fd9\u4e2a\u5168\u5c40\u7684\u5bf9\u8c61\u6765\u64cd\u4f5c\u6570\u636e\u5e93. \u8fd9\u662f\u4e00\u4e2a <code>&lt;django.db.models.manager.Manager object at 0x7dd182ee0ec0&gt;</code> \u5bf9\u8c61, \u63d0\u4f9b\u4e86\u589e (create) / \u5220 (delete) / \u6539 (update) / \u67e5 (filter / get) \u7b49\u7b49\u64cd\u4f5c. \u540c\u65f6, \u4f60\u4e5f\u53ef\u4ee5\u62ff\u5230\u5b9e\u4f8b\u4e4b\u540e\u548c\u4fee\u6539 Python \u5bf9\u8c61\u4e00\u6837\u4fee\u6539\u8fd9\u4e2a\u5b9e\u4f8b, \u7136\u540e\u8c03\u7528 <code>save()</code> \u65b9\u6cd5\u6765\u4fdd\u5b58\u4fee\u6539.</p> <pre><code># Create\nQuestion.objects.create(question_text=\"Q1\")\n\n# or\nq = Question(question_text=\"Q2\")\nq.save() # This line raises if any constraints fail\n\n# Query\nQuestion.objects.filter(question_text='1')\n\n# or\nq = Question.objects.get(id=1) # This line raises if none match / multiple items match\n\n# Update\nQuestion.objects.filter(id=1).update(question_text='Q?')\n# Returns the number of items updated\n\n# or\nq = Question.objects.get(id=1)\nq.question_text = \"Updated Text\"\nq.save()\n\n# Delete\nQuestion.objects.filter(id=1).delete()\n</code></pre> <p>\u66f4\u8fdb\u9636\u7684\u7528\u6cd5\u53ef\u4ee5\u53c2\u8003 Django ORM. \u6211\u53ea\u60f3\u5728\u6b64\u6307\u51fa, \u7531\u4e8e\u8fd9\u4e9b\u64cd\u4f5c \u90fd\u662f\u52a8\u6001\u5b8c\u6210\u7684 (IDE \u6ca1\u6cd5\u5e2e\u4f60\u68c0\u67e5), \u6240\u4ee5\u5728\u66f4\u6539 Model \u7684\u5b57\u6bb5\u540d\u79f0\u65f6, \u9700\u8981\u683c\u5916\u5c0f\u5fc3\u68c0\u67e5\u662f\u5426\u6240\u6709\u9759\u6001\u548c\u52a8\u6001\u5f15\u7528\u90fd\u5f97\u5230\u4e86\u6b63\u786e\u7684\u66f4\u65b0.</p>"},{"location":"backend/django/django/#_4","title":"\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027","text":"<p>\u5728 Django \u4e2d, \u9664\u4e86\u90e8\u5206\u64cd\u4f5c (create / update / delete) \u4e4b\u5916, \u5bf9 object \u7684\u4fee\u6539\u5fc5\u987b\u901a\u8fc7\u8c03\u7528 <code>save()</code> \u6765\u4fdd\u5b58; \u800c\u4ee5\u4e0a\u7684\u64cd\u4f5c\u90fd\u662f\u5b9e\u65f6\u5199\u5165 DB \u7684 (Auto-Commit).</p> <p>\u6570\u636e\u5e93\u6709\u5173\u7684\u64cd\u4f5c\u90fd\u4e0d\u53ef\u907f\u514d\u5730\u5b58\u5728\u53ef\u80fd\u7684\u5f02\u5e38, \u4e0d\u7ba1\u662f\u7531\u4e8e\u7f51\u7edc\u95ee\u9898, \u7531\u4e8e\u81ea\u8eab\u7684\u6570\u636e\u6821\u9a8c\u95ee\u9898, \u6216\u8005\u5e76\u53d1\u95ee\u9898. \u5982\u679c\u5728\u90e8\u5206\u64cd\u4f5c\u5df2\u7ecf\u5199\u5165\u6570\u636e\u5e93\u65f6\u51fa\u73b0\u5f02\u5e38, \u5219\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5e93\u4e0d\u4e00\u81f4.</p> <p>Note</p> <p>\u4e3e\u4e2a\u4f8b\u5b50, \u5982\u679c\u4f60\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d, \u5148\u521b\u5efa\u4e86\u4e00\u4e2a User, \u7136\u540e\u521b\u5efa\u4e86\u4e00\u4e2a Profile, \u5982\u679c\u5728\u521b\u5efa Profile \u65f6\u51fa\u73b0\u5f02\u5e38, \u5219\u6570\u636e\u5e93\u4e2d\u4f1a\u6709\u4e00\u4e2a User, \u4f46\u662f\u6ca1\u6709\u5bf9\u5e94\u7684 Profile. \u8fd9\u79cd\u60c5\u51b5\u4e0b, \u6570\u636e\u5e93\u5c31\u662f\u4e0d\u4e00\u81f4\u7684.</p> <p>\u6570\u636e\u5e93\u4e0d\u4e00\u81f4\u4f1a\u5bfc\u81f4\u4f60\u7684\u5e94\u7528\u51fa\u73b0\u5404\u79cd\u5947\u602a\u7684\u95ee\u9898, \u56e0\u4e3a\u5728\u7f16\u5199\u4ee3\u7801\u65f6\u6211\u4eec\u5e38\u5e38\u5047\u5b9a\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u662f\u6b63\u786e\u7684. \u6bd4\u5982\u5728\u4f7f\u7528 User \u7684 Profile \u65f6, \u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u989d\u5916\u68c0\u67e5 User \u662f\u5426\u5b58\u5728 Profile, \u800c\u662f\u627e\u5230 User \u540e\u76f4\u63a5\u67e5\u8be2 Profile.</p> <p>\u56e0\u6b64, \u671f\u671b\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u5e94\u8be5\u662f \u539f\u5b50\u7684 (Atomic), \u5373\u8981\u4e48\u5168\u90e8\u6210\u529f, \u8981\u4e48\u5168\u90e8\u5931\u8d25. \u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u81ea\u5df1\u5199 Revert \u903b\u8f91, \u4e5f\u53ef\u4ee5\u901a\u8fc7 Django \u63d0\u4f9b\u7684 <code>transaction.atomic</code> \u6765\u5b9e\u73b0.</p> <p>\u5728 <code>atomic</code> \u5757\u4e2d\u7684\u6240\u6709\u6570\u636e\u5e93\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6210\u529f; \u8981\u4e48\u5168\u90e8\u5931\u8d25. \u5982\u679c\u5728 <code>atomic</code> \u5757\u4e2d\u7684\u67d0\u4e2a\u5730\u65b9\u629b\u51fa\u5f02\u5e38, \u6570\u636e\u5e93\u4f1a\u56de\u6eda\u5230 <code>atomic</code> \u5757\u5f00\u59cb\u7684\u72b6\u6001. \u8fd9\u6709\u6548\u89e3\u51b3\u4e86\u56e0\u4e3a\u5947\u602a\u95ee\u9898\u5bfc\u81f4\u7684\u6570\u636e\u5e93\u4e0d\u4e00\u81f4\u9519\u8bef.</p> <pre><code># All operations in this block are atomic\nwith transaction.atomic():\n    u = User.objects.create(username='john')\n    p = Profile.objects.create(user=u)\n</code></pre>"},{"location":"backend/django/django/#admin","title":"Admin \u7ba1\u7406\u9762\u677f","text":"<p>Django \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5185\u5efa\u7684\u7ba1\u7406\u9762\u677f\u4ee5\u65b9\u4fbf\u7ba1\u7406\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e.</p> <p>\u901a\u8fc7\u4e00\u4e24\u53e5\u8bdd (\u6b64\u5904\u4ee5\u53e6\u4e00\u4e2a\u5c0f\u9879\u76ee\u4f5c\u4e3a\u4f8b\u5b50)</p> <pre><code>from .models import Student, Course\n\nadmin.site.register(Student)\nadmin.site.register(Course)\n</code></pre> <p>\u4f60\u5c31\u53ef\u4ee5\u5728\u7ba1\u7406\u9762\u677f\u4e2d\u5bf9\u8fd9\u4e9b Model \u8fdb\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u4e86. \u4f46\u9996\u5148, \u4f60\u9700\u8981\u7528</p> <pre><code>./manage.py createsuperuser\n</code></pre> <p>\u6765\u521b\u5efa\u4e00\u4e2a\u8d85\u7ea7\u7528\u6237, \u7136\u540e\u7528\u8fd9\u4e2a\u8d85\u7ea7\u7528\u6237\u767b\u5f55\u7ba1\u7406\u9762\u677f.</p> <p></p> <p></p> <p>Django Admin \u53ef\u4ee5\u8ba9\u4f60\u5728\u751f\u4ea7\u73af\u5883\u7206\u70b8\u7684\u65f6\u5019\u8fc5\u901f\u4fee\u6570\u636e\u5e93 (x)</p>"},{"location":"backend/django/django/#views","title":"\u89c6\u56fe\uff08Views\uff09","text":"<p>\u6211\u4eec\u63a5\u4e0b\u6765\u4ecb\u7ecd\u89c6\u56fe\u51fd\u6570\u3002\u89c6\u56fe\u51fd\u6570\u662f\u540e\u7aef\u903b\u8f91\u7684\u4e3b\u5165\u53e3\uff0c\u5176\u63a5\u53d7\u7ecf\u8fc7\u8def\u7531\u4e4b\u540e\u7684 <code>HttpRequest</code> \u7c7b\u578b\u7684\u8bf7\u6c42\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a <code>HttpResponse</code> \u7c7b\u578b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u54cd\u5e94\u3002\u4f60\u53ef\u4ee5\u5728\u4e0a\u8ff0\u94fe\u63a5\u4e2d\u67e5\u627e\u8fd9\u4e24\u4e2a\u7c7b\u5206\u522b\u6709\u54ea\u4e9b\u6210\u5458\u53d8\u91cf\u53ef\u4ee5\u4f9b\u4f60\u4f7f\u7528\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728 <code>&lt;app&gt;/views.py</code> \u4e2d\u5b9a\u4e49\u4e00\u4e2a\u5e94\u7528\u6240\u5177\u6709\u7684\u89c6\u56fe\u51fd\u6570\u3002\u6211\u4eec\u5728\u8fd9\u91cc\u4e3e\u4e00\u4e2a\u7559\u8a00\u677f\u5e94\u7528\u201c\u83b7\u53d6\u4e0e\u521b\u5efa\u7559\u8a00\u201d\u7684\u89c6\u56fe\u51fd\u6570\u4f5c\u4e3a\u4f8b\u5b50\uff1a</p> <pre><code>def message(request):  # \u8fd9\u91cc request \u662f HttpRequest \u7c7b\u578b\u7684\u5bf9\u8c61\n    # \u529f\u80fd\u51fd\u6570\uff0c\u5feb\u901f\u521b\u5efa\u5177\u6709\u7279\u5b9a\u72b6\u6001\u7801\u7684\u54cd\u5e94\n    def gen_response(code: int, data: str):\n        return JsonResponse({\n            'code': code,\n            'data': data\n        }, status=code)  # JsonResponse \u662f HttpResponse \u7684\u5b50\u7c7b\n                         # \u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a dict \u8f6c\u6362\u6210 JSON \u54cd\u5e94\n\n    if request.method == 'GET':\n        limit = request.GET.get('limit', default='100')\n        offset = request.GET.get('offset', default='0')\n        if not limit.isdigit():\n            return gen_response(400, f'{limit} is not a number')\n        if not offset.isdigit():\n            return gen_response(400, f'{offset} is not a number')\n\n        return gen_response(200, [\n                {\n                    'title': msg.title,\n                    'content': msg.content,\n                    'user': msg.user.name,\n                    'timestamp': int(msg.pub_date.timestamp())\n                }\n                for msg in Message.objects.all()\\\n                            .order_by('-pub_date')\\\n                            [int(offset):int(offset)+int(limit)]\n            ])\n\n    elif request.method == 'POST':\n        # \u4ece cookie \u4e2d\u83b7\u5f97 user \u7684\u540d\u5b57\uff0c\u5982\u679c user \u4e0d\u5b58\u5728\u5219\u65b0\u5efa\u4e00\u4e2a\n        # \u5982\u679c cookie \u4e2d\u6ca1\u6709 user \u5219\u4f7f\u7528 \"Unknown\" \u4f5c\u4e3a\u9ed8\u8ba4\u7528\u6237\u540d\n        name = request.COOKIES['user']\\\n                if 'user' in request.COOKIES else 'Unknown'\n        user = User.objects.filter(name=name).first()\n        if not user:\n            user = User(name = name)\n            try:\n                user.full_clean()\n                user.save()\n            except ValidationError as e:\n                return gen_response(400, \n                                    f\"Validation Error of user: {e}\")\n\n\n        # \u9a8c\u8bc1\u8bf7\u6c42\u7684\u6570\u636e\u683c\u5f0f\u662f\u5426\u7b26\u5408 json \u89c4\u8303\uff0c\u5982\u679c\u4e0d\u7b26\u5408\u5219\u8fd4\u56de 400\n        try:\n            data = json.loads(request.body.decode(\"utf-8\"))\n        except:\n            return gen_response(400, \n                            \"Exception occurred in request body parsing.\")\n\n        # \u9a8c\u8bc1\u8bf7\u6c42\u6570\u636e\u662f\u5426\u6ee1\u8db3\u63a5\u53e3\u8981\u6c42\uff0c\u82e5\u901a\u8fc7\u6240\u6709\u7684\u9a8c\u8bc1\uff0c\u5219\u5c06\u65b0\u7684\u6d88\u606f\u6dfb\u52a0\u5230\u6570\u636e\u5e93\u4e2d\n        # PS: {\"title\": \"something\", \"content\": \"someting\"} \n        # \u8fd9\u91cc title \u548c content \u5747\u6709\u6700\u5927\u957f\u5ea6\u9650\u5236\n        try:\n            title = data['title']\n            content = data['content']\n            obj = Message(user=user, title=title, content=content)\n            obj.full_clean()\n            obj.save()\n        except:\n            return gen_response(400, \n                                \"Requested data failed verification.\")\n\n        # \u6dfb\u52a0\u6210\u529f\u8fd4\u56de code 201\n        return gen_response(201, \n                            \"Message received successfully\")\n\n    else:\n        return gen_response(405, \n                            f'Method {request.method} not allowed')\n</code></pre> <p>\u8fd9\u662f\u4e2a\u7ecf\u5178\u7684\u89c6\u56fe\u51fd\u6570\uff0c\u9762\u5bf9 GET \u65b9\u6cd5\u8fd4\u56de\u6570\u636e\u5e93\u4e2d\u7684\u76f8\u5e94\u4fe1\u606f\uff0c\u9762\u5bf9 POST / PUT / DELETE \u65b9\u6cd5\u5728\u505a\u68c0\u67e5\u4e4b\u540e\u53bb\u4fee\u6539\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u5185\u5bb9\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a <code>JsonResponse</code> \u5bf9\u8c61\u8bf4\u660e\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u4ee5 HTTP \u72b6\u6001\u7801\u6765\u533a\u5206\u64cd\u4f5c\u7684\u72b6\u6001\u3002</p> <p>Note</p> <p>\u672c\u8282\u5bf9\u5e94\u5b98\u65b9\u6587\u6863 \u201c\u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2a Django \u5e94\u7528\uff0c\u7b2c 1 \u90e8\u5206\u201d \u4e2d\u201c\u7f16\u5199\u7b2c\u4e00\u4e2a\u89c6\u56fe\u201d\u8282\uff0c\u201c\u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2a Django \u5e94\u7528\uff0c\u7b2c 3 \u90e8\u5206\u201d\u4e2d\u201c\u7f16\u5199\u66f4\u591a\u89c6\u56fe\u201d\u3001\u201c\u5199\u4e00\u4e2a\u771f\u6b63\u6709\u7528\u7684\u89c6\u56fe\u201d\u3001\u201c\u629b\u51fa 404 \u9519\u8bef\u201d\u8282\u3002</p>"},{"location":"backend/django/django/#unit-tests","title":"\u5355\u5143\u6d4b\u8bd5\uff08Unit Tests\uff09","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u4ecb\u7ecd\u5355\u5143\u6d4b\u8bd5\u3002\u5728\u8bfe\u7a0b\u4e2d\u6211\u4eec\u5b66\u8fc7\uff0c\u5bf9\u6a21\u5757\u8fdb\u884c\u6d4b\u8bd5\uff0c\u76f8\u6bd4\u5bf9\u6a21\u5757\u62fc\u63a5\u8d77\u6765\u7684\u7cfb\u7edf\u76f4\u63a5\u6d4b\u8bd5\u6240\u4ed8\u51fa\u7684\u4ee3\u4ef7\u8981\u5c0f\u5f97\u591a\u3002\u5728\u771f\u6b63\u7684\u8f6f\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5355\u5143\u6d4b\u8bd5\u73af\u8282\u5c31\u662f\u8981\u5bf9\u6211\u4eec\u6240\u5f00\u53d1\u7684\u6a21\u5757\u8fdb\u884c\u81ea\u52a8\u5316\u7684\u6d4b\u8bd5\u3002\u5728 Django \u4e2d\uff0c\u6d4b\u8bd5\u5de5\u7a0b\u5e08\u4f1a\u5c06\u5f00\u53d1\u5de5\u7a0b\u5e08\u6240\u7f16\u5199\u7684\u8def\u7531\u4e0e\u89c6\u56fe\u89c6\u4e3a\u9ed1\u76d2\uff0c\u901a\u8fc7 <code>django.test.TestCase</code> \u7c7b\u4e0e <code>django.test.Client</code> \u7c7b\u6765\u6a21\u62df\u524d\u7aef\u4e0e\u5f00\u53d1\u5de5\u7a0b\u5e08\u6240\u64b0\u5199\u7684\u540e\u7aef\u4ea4\u4e92\uff0c\u5e76\u901a\u8fc7\u5176\u63d0\u4f9b\u7684\u65ad\u8a00\u51fd\u6570\u6765\u65ad\u8a00\u54cd\u5e94\u6240\u5e94\u8be5\u5177\u6709\u7684\u5c5e\u6027\u6216\u662f\u6570\u636e\u5e93\u5e94\u88ab\u5982\u4f55\u4fee\u6539\u3002\u4ee5\u4e0a\u8ff0\u7684\u7559\u8a00\u677f\u5e94\u7528\u7684\u89c6\u56fe\u51fd\u6570\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u64b0\u5199\u5982\u4e0b\u6d4b\u8bd5\uff1a</p> <pre><code>from django.test import TestCase, Client\nfrom .models import Message, User  # Defined in models.py\n\nclass MessageModelTests(TestCase):\n    def setUp(self):  # Preparation\n        alice = User.objects.create(name=\"Alice\")\n        bob = User.objects.create(name=\"Bob\")\n        Message.objects.create(user=alice, \n                               title=\"Hi\", \n                               content=\"Hello World!\")\n        Message.objects.create(user=bob, \n                               title=\"This is a title\", \n                               content=\"This is my content\")\n\n\n    # \u6d4b\u8bd5 POST \u65b9\u6cd5\n    def test_add_new_message(self):\n        # \u6a21\u62df\u524d\u7aef\u8bf7\u6c42\n        title, content = \"Title\", \"Message\"\n        user = \"student\"\n        payload = {\n            'title': title,\n            'content': content,\n        }\n        self.client.cookies['user'] = user\n\n        response = self.client.post('/api/message', \n                                data=payload,\n                                content_type=\"application/json\")\n\n        # \u65ad\u8a00\u54cd\u5e94\u7684\u5c5e\u6027\n        self.assertJSONEqual(response.content, \n                             {\n                                 'code': 201, \n                                 'data': \"Message received successfully\"}\n                            )\n        # \u65ad\u8a00\u6570\u636e\u5e93\u7684\u5c5e\u6027\n        self.assertTrue(User.objects.filter(name=user).exists())\n        self.assertTrue(Message.objects.filter(\n            title=title, content=content).exists())\n\n\n    # \u6d4b\u8bd5 GET \u65b9\u6cd5\n    def test_message_can_be_fetched(self):  \n        offset, limit = 0, 100  \n        response_data = [\n                {\n                    'title': msg.title,\n                    'content': msg.content,\n                    'user': msg.user.name,\n                    'timestamp': int(msg.pub_date.timestamp())\n                }\n                for msg in Message.objects.all()\\\n                            .order_by('-pub_date')\\\n                            [int(offset):int(offset)+int(limit)]\n            ]\n        response = self.client.get(\"/api/message\")\n        self.assertEqual(response.status_code, 200)\n        self.assertEqual(response.json()['data'], response_data)\n\n\n    # \u6d4b\u8bd5 Corner Case\uff08\u5982\u4e0d\u5b58\u5728 Title \u5b57\u6bb5\uff09\n    def test_add_new_message_title_not_exists(self):\n        content = \"Message\"\n        user = \"student\"\n        payload = {\n            'content': content,\n        }\n        self.client.cookies['user'] = user\n\n        response = self.client.post('/api/message', \n                                data=payload,\n                                content_type=\"application/json\")\n\n        self.assertEqual(response.status_code, 400)\n</code></pre> <p>Note</p> <p>\u672c\u8282\u5bf9\u5e94\u5b98\u65b9\u6587\u6863 \u201c\u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2a Django \u5e94\u7528\uff0c\u7b2c 5 \u90e8\u5206\u201d \u4e2d\u7684\u6240\u6709\u8282\u3002</p>"},{"location":"backend/django/django/#template","title":"\u6a21\u677f\uff08Template\uff09","text":"<p>\u4ee5\u4e0a\u4e3aDjango\u5728\u524d\u540e\u7aef\u5206\u79bb\u65f6\u7684\u9002\u7528\u65b9\u6cd5\uff0c\u6700\u540e\u6211\u4eec\u8bb2\u8bb2\u5982\u4f55\u4f7f\u7528\u6a21\u7248\u8fdb\u884c\u524d\u540e\u7aef\u4e0d\u5206\u79bb\u7684\u5f00\u53d1\u3002\u5728Django\u4e2d\uff0c\u6a21\u677f\u662f\u6700\u5e38\u89c1\u7684\u52a8\u6001\u751f\u6210HTML\u7684\u4e00\u79cd\u8f83\u4e3a\u65b9\u4fbf\u7684\u65b9\u5f0f\u3002\u4e00\u4e2a\u6a21\u677f\u5305\u542b\u4e86\u6240\u9700HTML\u8f93\u51fa\u7684\u9759\u6001\u90e8\u5206\uff0c\u4ee5\u53ca\u4e00\u4e9b\u63cf\u8ff0\u63d2\u5165\u7684\u52a8\u6001\u5185\u5bb9\u7684\u8bed\u6cd5\u3002 \u4e3a\u4e86\u4f7f\u7528\u6a21\u677f\uff0c\u6211\u4eec\u9700\u8981\u5728\u5e94\u7528\u7684\u6587\u4ef6\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2atemplates\u76ee\u5f55\uff0c\u7136\u540e\u518d\u5728templates\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u4e0e\u5e94\u7528\u540d\u76f8\u540c\u7684\u76ee\u5f55\uff0c\u5e76\u5728\u8be5\u76ee\u5f55\u4e0b\u5b58\u653eHTML\u6a21\u677f\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u6587\u4ef6\u6811\u3002 <pre><code>.\n\u251c\u2500\u2500 DjangoHW  # \u6211\u4eec\u7684\u9879\u76ee\u540d\u4e3a DjangoHW\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 asgi.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.py\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 board  # \u6211\u4eec\u65b0\u5efa\u4e86\u4e00\u4e2a\u5e94\u7528\u53eb\u505a board\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 apps.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0001_initial.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0002_remove_board_deleted_remove_user_deleted.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502   \u2514\u2500\u2500 board\n\u2502\u00a0\u00a0 \u2502       \u2514\u2500\u2500 index.html # HTML\u6a21\u677f\u5b58\u653e\u7684\u4f4d\u7f6e\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 db.sqlite3  # \u672c\u5730\u6570\u636e\u5e93\u5b58\u50a8\n\u251c\u2500\u2500 manage.py\n\u251c\u2500\u2500 requirements.txt\n\u2514\u2500\u2500 utils  # \u64b0\u5199\u7684\u529f\u80fd\u51fd\u6570\uff0c\u53ef\u4ee5\u653e\u5728\u5e94\u7528\u4e2d\u4e5f\u53ef\u4ee5\u653e\u5728\u6839\u76ee\u5f55\u4e0b\uff0c\u4fdd\u8bc1\u5f15\u7528\u8def\u5f84\u6b63\u786e\u5373\u53ef\n    \u251c\u2500\u2500 utils_request.py\n    \u251c\u2500\u2500 utils_require.py\n    \u2514\u2500\u2500 utils_time.py\n</code></pre></p> <p>!!! question \u601d\u8003\u9898 \u4e3a\u4ec0\u4e48\u4e0d\u8bb2\u6a21\u677f\u76f4\u63a5\u653e\u5728templates\u76ee\u5f55\u4e0b\u5462\uff1f</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u8c03\u7528\u6a21\u677f\u7684views.py\u548cindex.html\u4e2d\u7684\u90e8\u5206\u5b98\u65b9\u4ee3\u7801\u793a\u4f8b\u3002 <pre><code>from django.shortcuts import render\n\nfrom .models import Question\n\n\ndef index(request):\n    latest_question_list = Question.objects.order_by(\"-pub_date\")[:5]\n    context = {\"latest_question_list\": latest_question_list}\n    return render(request, \"polls/index.html\", context)\n</code></pre> <pre><code>{% if latest_question_list %}\n    &lt;ul&gt;\n    {% for question in latest_question_list %}\n        &lt;li&gt;&lt;a href=\"/polls/{{ question.id }}/\"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n{% else %}\n    &lt;p&gt;No polls are available.&lt;/p&gt;\n{% endif %}\n</code></pre> !!! note \u53c2\u8003\u8d44\u6599 \u672c\u8282\u5bf9\u5e94\u5b98\u65b9\u6587\u6863 \u201c\u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2a Django \u5e94\u7528\uff0c\u7b2c 3 \u90e8\u5206\u201d \u4e2d\u7684\u201c\u5199\u4e00\u4e2a\u771f\u6b63\u6709\u7528\u7684\u89c6\u56fe\u201d\u548c\u201c\u4f7f\u7528\u6a21\u677f\u7cfb\u7edf\u201d\u3002</p>"},{"location":"backend/django/django/#_5","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>\u300a\u8f6f\u4ef6\u5de5\u7a0b\u300b\u8bfe\u7a0b\u5c0f\u4f5c\u4e1a\u8bb2\u7a3f\u4e0e\u6587\u6863</li> <li>Django \u5b98\u65b9\u6587\u6863</li> <li>2024 \u79d1\u534f\u6691\u57f9\u6587\u6863</li> </ul>"},{"location":"backend/expressjs/express-js/","title":"ExpressJS","text":"<p>Express \u662f\u4e00\u4e2a\u7b80\u6d01\u800c\u7075\u6d3b\u7684 Node.js Web \u5e94\u7528\u6846\u67b6, \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5f3a\u5927\u7279\u6027\u5e2e\u52a9\u4f60\u521b\u5efa\u5404\u79cd Web \u5e94\u7528\uff0c\u548c\u4e30\u5bcc\u7684 HTTP \u5de5\u5177\u3002</p> <p>\u4f7f\u7528 Express \u53ef\u4ee5\u5feb\u901f\u5730\u642d\u5efa\u4e00\u4e2a\u5b8c\u6574\u529f\u80fd\u7684\u7f51\u7ad9\uff0c\u4f46\u662f\uff0c\u6211\u4eec\u4e00\u822c\u66f4\u503e\u5411\u4e8e\u4f7f\u7528 Express \u6765\u5feb\u901f\u642d\u5efa\u7f51\u7ad9\u540e\u7aef\u3002</p> <p>\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u4e0e\u5ba2\u6237\u7aef\u6e32\u67d3</p> <p>\u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u4eec\u5c06\u7f51\u7ad9\u5206\u4e3a\u524d\u7aef\u548c\u540e\u7aef\uff0c\u4e8b\u5b9e\u4e0a\u4e0e\u6211\u4eec\u5728\u300a\u7a0b\u5e8f\u8bbe\u8ba1\u8bad\u7ec3\u300b\u8bfe\u7a0b\u4e2d\u5bf9\u4e8e\u4f7f\u7528 Django \u6765\u642d\u5efa\u7f51\u7ad9\u7684\u65b9\u5f0f\u4e0d\u540c\u3002Django \u7684\u9875\u9762\u6e32\u67d3\u662f\u670d\u52a1\u5668\u7aef\u6e32\u67d3\uff08Server-side Rendering\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u6536\u5230\u7528\u6237\u53d1\u6765\u7684\u8bf7\u6c42\u540e\uff0c\u670d\u52a1\u5668\u7aef\u6309\u7167\u8bbe\u8ba1\u7684\u903b\u8f91\u8bfb\u53d6\u76f8\u5e94\u7684\u9875\u9762\u6a21\u677f\uff0c\u5728\u5b8c\u6210\u9875\u9762\u6e32\u67d3\uff08\u4e5f\u5c31\u662f\u5728\u9875\u9762\u6a21\u677f\u7684\u5bf9\u5e94\u5904\u586b\u5145\u5bf9\u5e94\u5b57\u6bb5\uff09\u540e\uff0c\u5c06\u6e32\u67d3\u540e\u7684 HTML \u9875\u9762\u76f4\u63a5\u53d1\u7ed9\u7528\u6237\u3002</p> <p>\u800c\u8fd9\u91cc\u6211\u4eec\u5c06\u7f51\u7ad9\u5206\u4e3a\u201c\u524d\u7aef\u201d\u548c\u201c\u540e\u7aef\u201d\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u548c\u4e0a\u8ff0\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u6709\u672c\u8d28\u7684\u533a\u522b\uff0c\u6211\u4eec\u4e00\u822c\u79f0\u4e3a\u5ba2\u6237\u7aef\u6e32\u67d3\uff08Client-side Rendering\uff09\u3002\u5176\u8fd0\u4f5c\u6a21\u5f0f\u662f\uff0c\u7f51\u7ad9\u63d0\u4f9b\u670d\u52a1\u5668\u76f4\u63a5\u5c06\u672a\u6e32\u67d3\u7684 HTML \u6a21\u677f\uff08\u6211\u4eec\u79f0\u4e3a\u201c\u524d\u7aef\u4ee3\u7801\u201d\uff09\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u800c\u8fd9\u6a21\u677f\u4e2d\u5305\u542b\u4e86\u7c7b\u4f3c\u4e8e <code>fetch</code> \u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u5c06\u5176\u6e32\u67d3\u65f6\u5411\u6211\u4eec\u7684\u201c\u540e\u7aef\u201d\u53d1\u9001\u8bf7\u6c42\u3002\u201c\u540e\u7aef\u201d\u5728\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u4e00\u822c\u4ee5 Json \u683c\u5f0f\u8fd4\u56de\u6240\u8bf7\u6c42\u7684\u6570\u636e\uff0c\u524d\u7aef\u518d\u901a\u8fc7 Javascript \u811a\u672c\u5c06\u6536\u5230\u7684\u6570\u636e\u6e32\u67d3\u5728\u9875\u9762\u4e0a\u3002</p> <p>\u5728\u300a\u8f6f\u4ef6\u5de5\u7a0b\u300b\u8bfe\u7a0b\u4e2d\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u540e\u8005\u8fd9\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5373\u8fdb\u884c\u524d\u540e\u7aef\u5206\u79bb\u3002\u867d\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u7ee7\u7eed\u5229\u7528 Django \u6765\u4f5c\u4e3a\u540e\u7aef\uff0c\u4f46\u662f\u6211\u4eec\u8fd9\u91cc\u7ed9\u5927\u5bb6\u63d0\u4f9b\u4e00\u79cd\u4e1a\u754c\u4e5f\u5f88\u5e38\u7528\u7684\u9009\u9879 \u2014\u2014 Express\u3002\u5176\u4f18\u70b9\u5728\u4e8e\uff0c\u76f8\u6bd4\u4e8e Django \u800c\u8a00\uff0c\u5176\u7f16\u5199\u8d77\u6765\u66f4\u52a0\u65b9\u4fbf\uff0c\u4e5f\u66f4\u52a0\u5feb\u6377\u3002\u800c\u4e14\uff0c\u540e\u7aef\u66f4\u52a0\u9760\u8fd1 <code>npm</code> \u8fd9\u4e2a\u8f6e\u5b50\u5de5\u5382\uff0c\u5bf9\u4e8e\u6211\u4eec\u8fdb\u884c\u5927\u8c03\u5e93\u4e5f\u66f4\u52a0\u7684\u65b9\u4fbf\u3002\u5f53\u7136\uff0c\u56e0\u4e3a Javascript \u4ee4\u4eba**\u7684\u8bbe\u8ba1\uff0c\u4e5f\u4f1a\u6536\u83b7\u66f4\u52a0\u9178\u723d\u7684 Debug \u4f53\u9a8c\u3002</p> <p>\u672c\u6587\u6211\u4eec\u4fa7\u91cd\u4ecb\u7ecd\u5982\u4f55\u914d\u7f6e\u4e00\u4e2a Express \u9879\u76ee\uff0c\u5e76\u5b8c\u6210\u4e00\u4e2a\u6700\u57fa\u672c\u7684\u4e0e\u540e\u7aef\u6570\u636e\u5e93\u901a\u4fe1\u7684\u589e\u5220\u67e5\u6539\u529f\u80fd.</p>"},{"location":"backend/expressjs/express-js/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>JavaScript \u8bed\u8a00</li> <li>Node.js \u76f8\u5173\u77e5\u8bc6\uff0c\u5305\u62ec npm / yarn \u7684\u4f7f\u7528</li> <li>RESTful API \u7684\u6709\u5173\u77e5\u8bc6\uff08\u4e8b\u5b9e\u4e0a\u540e\u6587\u4e5f\u6709\u4ecb\u7ecd\uff09 https://www.runoob.com/nodejs/nodejs-restful-api.html</li> <li>\uff08\u81f3\u5c11\u4e00\u79cd\uff09\u6570\u636e\u5e93\u7684\u4f7f\u7528\u64cd\u4f5c</li> <li>\u53ef\u4ee5\u662f\u76f4\u63a5\u4f7f\u7528 SQL \u8bed\u53e5\u64cd\u4f5c</li> <li>\u53ef\u4ee5\u662f\u4f7f\u7528 ORM \u6765\u64cd\u4f5c</li> </ul>"},{"location":"backend/expressjs/express-js/#_2","title":"\u521d\u59cb\u5316\u9879\u76ee","text":"<p>\u641c\u7d22\u7ed3\u679c\u53ef\u4ee5\u627e\u5230\u7684\u5927\u591a\u6570\u7f16\u5199\u6559\u7a0b\u5747\u662f\u57fa\u4e8e <code>CommonJS</code> \u89c4\u8303\uff08\u4ee5 <code>require</code> \u548c <code>define</code> \u4e3a\u7279\u70b9\uff09\uff0c\u800c <code>Node.js</code> \u5219\u63a8\u51fa\u4e86\u57fa\u4e8e\u8bed\u8a00\u5c42\u9762\u652f\u6301\u7684 <code>ES6 Module</code> \u89c4\u8303\uff08\u4ee5 <code>import</code> \u548c <code>export</code> \u4e3a\u7279\u70b9\uff09\u3002\u540e\u8005\u5fc5\u5c06\u6210\u4e3a\u4eca\u540e\u8f83\u4e3a\u5e38\u7528\u7684\u7f16\u5199\u89c4\u8303\u3002\u5982\u679c\u60f3\u4e86\u89e3\u66f4\u591a\u5173\u4e8e Javascript \u6a21\u5757\u5316\u5f00\u53d1\u7684\u6709\u5173\u77e5\u8bc6\uff0c\u53ef\u4ee5\u53c2\u8003\u672c\u6587\u521d\u7a3f\u4f5c\u8005\u7684\u8fd9\u7bc7\u535a\u5ba2\u3002</p> <p>\u540c\u6837\uff0c\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u66f4\u4e3a\u5e7f\u6cdb\u4f7f\u7528\u7684 <code>yarn</code> \u6765\u8fdb\u884c\u5305\u7ba1\u7406\u3002\u5176\u5b89\u88c5\u5728 Node.js \u7b80\u4ecb\u53ca npm \u7684\u4ecb\u7ecd\u4e2d\u5df2\u7ed9\u51fa\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u9996\u5148\u6211\u4eec\u5148\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\u3002\uff08\u8fd9\u91cc\u91c7\u7528 Windows \u7684 CMD \u8fdb\u884c\u64cd\u4f5c\uff0cLinux \u7684\u64cd\u4f5c\u7c7b\u4f3c\uff0c\u4e0b\u540c\uff09</p> <pre><code>D:\\Coding&gt;cd D:\\Coding\\MyDashBoardBackend\n\nD:\\Coding\\MyDashBoardBackend&gt;yarn init\nyarn init v1.22.17\nquestion name (MyDashBoardBackend):\nquestion version (1.0.0):\nquestion description: A sample backend project.\nquestion entry point (index.js):\nquestion repository url:\nquestion author:\nquestion license (MIT):\nquestion private:\nsuccess Saved package.json\nDone in 20.93s.\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5b89\u88c5 express \u6a21\u5757\uff1a</p> <pre><code>yarn add express\n</code></pre> <p>\u4e3a\u4e86\u4f7f\u7528 <code>ES6 Module</code> \u89c4\u8303\uff0c\u6211\u4eec\u914d\u7f6e <code>package.json</code>\uff0c\u5728\u5176\u4e2d\u52a0\u5165 <code>\"type\": \"module\"</code> \u5b57\u6bb5\uff1a</p> <pre><code>{\n  \"name\": \"MyDashBoardBackend\",\n  \"version\": \"1.0.0\",\n  \"type\": \"module\",\n  \"description\": \"A sample backend project.\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"express\": \"^4.17.2\"\n  }\n}\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u5728\u6839\u76ee\u5f55\u65b0\u5efa <code>index.js</code>\uff0c\u5199\u5165\u5982\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>import express from \"express\";\nconst app = express()\n\napp.get('/', (req, res) =&gt; {\n    res.send('Hello, baka c7w!')\n})\n\napp.listen(3000);\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u8fd0\u884c <code>node index.js</code>\uff0c\u7136\u540e\u524d\u5f80\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://localhost:3000/</code>\uff0c\u4fbf\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u8f93\u51fa\u7684\u6b22\u8fce\u4fe1\u606f\u3002</p> <p>\u82e5\u662f\u611f\u89c9\u5982\u6b64\u903c\u683c\u8fd8\u4e0d\u591f\u9ad8\uff0c\u4e0d\u8981\u7d27\uff0c\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff1a</p> <p>\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u4fee\u6539 <code>package.json</code>\uff0c\u5411\u5176\u4e2d\u52a0\u5165\u4f7f\u7528 <code>yarn start</code> \u5f00\u542f\u670d\u52a1\u7aef\u7684\u914d\u7f6e\uff1a</p> <pre><code>{\n  \"name\": \"MyDashBoardBackend\",\n  \"version\": \"1.0.0\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"start\": \"node index.js\"\n  },\n  \"description\": \"A sample backend project.\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"express\": \"^4.17.2\"\n  }\n}\n</code></pre> <p>\u4e4b\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>yarn start</code> \u6765\u5f00\u542f\u670d\u52a1\u7aef\u4e86\u3002</p>"},{"location":"backend/expressjs/express-js/#routing","title":"\u8def\u7531 Routing","text":"<p>\u6ca1\u9519\uff0c\u76f8\u4fe1\u4f60\u5df2\u7ecf\u731c\u5230\u4e86\uff0c\u6211\u4eec\u540e\u7aef\u7f51\u7ad9\u7684\u8def\u7531\u4fbf\u662f\u4e3b\u8981\u901a\u8fc7 <code>app.get</code> \u548c <code>app.post</code> \u4e24\u4e2a\u65b9\u6cd5\u6765\u5b9a\u4e49\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u4f60\u5bf9 HTTP \u8bf7\u6c42\u65b9\u6cd5\u4e86\u89e3\u7684\u66f4\u591a\u4e9b\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li><code>app.get()</code></li> <li><code>app.post()</code></li> <li><code>app.put()</code></li> <li><code>app.delete()</code></li> </ul> <p>\u4e8b\u5b9e\u4e0a\u8fd8\u6709\u66f4\u591a\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u518d\u4e00\u4e00\u5217\u51fa\uff0c\u5982\u6b32\u4e86\u89e3\u53ef\u4ee5\u501f\u52a9\u5b98\u65b9\u7684 Docs\u3002</p> <p>\u6211\u4eec\u8fd9\u91cc\u7ed9\u51fa\u4e00\u4e9b\u793a\u4f8b\u5199\u6cd5\uff1a</p> <pre><code>import express from \"express\";\nconst app = express()\n\napp.get('/', (req, res) =&gt; {\n    res.send('Hello, baka c7w!');\n})\n\napp.get('/item', (req, res) =&gt; {\n    res.send('GET method to /item');\n})\n\napp.post('/item', (req, res) =&gt; {\n    res.send('POST method to /item');\n})\n\n// Regular Expression!\napp.get('/item/*', (req, res) =&gt; {\n    console.debug(req.path); // `/item/1`\n    console.debug(req.params); // undefined\n    res.send(\"Item/*\")\n})\n\n\n// Variables!\napp.get('/item2/:item/', (req, res) =&gt; {\n    console.debug(req.path); // `/item2/1`\n    console.debug(req.params); // { item: '1' }\n    res.send(\"Item/*\")\n})\n\n// Even ReExp + Variables!\napp.get(\"/item3/:item(\\\\d+)\", (req, res) =&gt; {\n    console.debug(req.path); // `/item3/1`\n    console.debug(req.params); // { item: '1' }\n    res.send(\"Item/*\")\n})\n\napp.listen(3000);\n</code></pre>"},{"location":"backend/expressjs/express-js/#route-handler","title":"Route Handler","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u8003\u8651\u4ee5\u4e0b\u60c5\u666f\uff1a\u6211\u4eec\u8981\u6839\u636e\u7528\u6237\u8eab\u4efd\uff08\u8fd9\u91cc\u505a\u7b80\u8981\u7b80\u5316\uff0c\u5047\u8bbe\u7528\u6237\u8eab\u4efd\u901a\u8fc7 Routing \u4f20\u5165\uff09\uff0c\u5206\u522b\u5c55\u793a\u4e0d\u540c\u7684\u9875\u9762\u3002\u4e8b\u5b9e\u4e0a\u8fd9\u79cd\u60c5\u666f\u5f88\u5e38\u89c1\uff0c\u6bd4\u5982\u4e00\u4e2a\u7f51\u7ad9\u7684\u7ba1\u7406\u5458\u767b\u5165\u535a\u5ba2\u770b\u5230\u7684\u5e94\u8be5\u662f\u7ba1\u7406\u9875\u9762\uff0c\u800c\u767b\u5f55\u4f5c\u8005\u770b\u5230\u7684\u5e94\u8be5\u662f\u5199\u4f5c\u9875\u9762\uff0c\u666e\u901a\u7528\u6237\u770b\u5230\u7684\u5c31\u662f\u6d4f\u89c8\u9875\u9762\u3002\u4f46\u662f\u8fd9\u4e9b\u9875\u9762\u4e2d\u53c8\u4f1a\u6709\u4e00\u4e9b\u8026\u5408\u7684\u5143\u7d20\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u80fd\u4e0d\u80fd\u91c7\u7528 OOP \u8bfe\u7a0b\u4e2d\u7b56\u7565\u6a21\u5f0f\u7684\u601d\u60f3\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f</p> <pre><code>const logger = (req, res, next) =&gt; { // Logger \u90e8\u4ef6\uff0c\u8bb0\u5f55\u7528\n    console.debug(req.params.user + ' tried to visit...');\n    next();\n}\n\nconst main = (req, res, next) =&gt; {\n    if(req.params.user == \"c7w\") {\n        res.result = \"Welcome!&lt;br /&gt;\";\n        next();\n    } else {\n        res.send(\"Permission Denied\")\n    }\n}\n\nconst footer = (req, res) =&gt; {\n    res.result += ('&lt;br /&gt;&lt;br /&gt;' + new Date());\n    res.send(res.result)\n}\n\n\napp.get(\"/user/:user\", [logger, main, footer])\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u8fd9\u79cd Handler \u201c\u6570\u7ec4\u201d\u6765\u5b9a\u4e49\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\u7684\u5148\u540e\u987a\u5e8f\u3002\u5982\u679c\u5728\u524d\u9762\u7684\u67d0\u4e2a Handler \u8c03\u7528\u4e86 <code>next()</code>\uff0c\u90a3\u4e48\u4fbf\u4f1a\u6267\u884c\u4e0b\u4e00\u4e2a <code>Handler</code>\u3002</p>"},{"location":"backend/expressjs/express-js/#req-res","title":"req \u4e0e res","text":"<p>\u8fd9\u91cc\u6211\u4eec\u4ecb\u7ecd\u4e0b <code>req</code> \u548c <code>res</code> \u4e24\u4e2a\u53c2\u6570\u7684\u4e3b\u8981\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p>"},{"location":"backend/expressjs/express-js/#req","title":"<code>req</code>","text":"Property Description req.query \u5728\u8bf7\u6c42\u540e\u4ee5 <code>?</code> \u548c <code>&amp;</code> \u8fde\u63a5\u7684\u952e\u503c\u5bf9 req.body \u8bf7\u6c42\u4f53\u7684\u5185\u5bb9 req.cookies Cookies \u4e2d\u7684\u5185\u5bb9 <p>\u66f4\u591a\u8be6\u89c1\uff1ahttps://expressjs.com/en/4x/api.html#req</p>"},{"location":"backend/expressjs/express-js/#res","title":"<code>res</code>","text":"Method Description res.download() Prompt a file to be downloaded. res.end() End the response process. res.json() Send a JSON response. res.redirect() Redirect a request. res.render() Render a view template. res.send() Send a response of various types. res.sendFile() Send a file as an octet stream. res.sendStatus() Set the response status code and send its string representation as the response body. <p>\u66f4\u591a\u8be6\u89c1\uff1ahttps://expressjs.com/en/4x/api.html#res</p>"},{"location":"backend/expressjs/express-js/#middleware","title":"Middleware","text":"<p>Middleware\uff08\u4e2d\u95f4\u4ef6\u51fd\u6570\uff09\u7684\u6982\u5ff5\u5176\u5b9e\u5f88\u597d\u7406\u89e3\u3002\u5c31\u50cf\u662f\u6211\u4eec\u4e0a\u9762\u4e3e\u7684\u90a3\u4e2a\u4f8b\u5b50\uff0c<code>logger</code> \u548c <code>main</code> \u5c31\u53ef\u4ee5\u7406\u89e3\u6210\u662f Middleware functions\u3002\u4e2d\u95f4\u4ef6\u51fd\u6570\u662f\u5e26\u6709\u4e86 <code>req, res, next</code> \u4e3a\u7b7e\u540d\u7684\u51fd\u6570\uff0c\u5728 Express \u5904\u7406\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4e8b\u5b9e\u4e0a\u4f1a\u5c06\u67d0\u4e2a\u5730\u5740\u5bf9\u5e94\u7684\u8def\u7531\u7684\u6240\u6709\u4e2d\u95f4\u4ef6\u7ec4\u7ec7\u6210\u4e00\u4e2a\u7c7b\u4f3c\u94fe\u8868\u7684\u7ed3\u6784\uff0c\u968f\u7740 <code>next()</code> \u7684\u8c03\u7528\u5728\u4e2d\u95f4\u4ef6\u95f4\u987a\u5e8f\u6267\u884c\u3002\u800c\u4e14\uff0c\u4e2d\u95f4\u4ef6\u90fd\u662f\u6709\u4fee\u6539 <code>req</code> \u548c <code>res</code> \u7684\u6240\u6709\u5c5e\u6027\u7684\u80fd\u529b\u7684\u3002</p> <p>\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u70b9\u662f\uff0c\u5982\u679c\u4e2d\u95f4\u4ef6\u51fd\u6570\u6ca1\u6709\u4f7f\u7528\u7c7b\u4f3c\u4e8e <code>res.send()</code> \u7684\u65b9\u6cd5\u5c06\u4e00\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684\u8bdd\uff0c\u5fc5\u987b\u8981\u8c03\u7528 <code>next()</code> \u51fd\u6570\uff0c\u4e0d\u7136\u5373\u4f7f\u8fd9\u4e2a\u4e2d\u95f4\u4ef6\u51fd\u6570\u6267\u884c\u5230\u672b\u5c3e\uff0c\u4e5f\u4e0d\u4f1a\u81ea\u52a8\u8df3\u8f6c\u3002\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u201c\u5047\u6b7b\u201d\u7684\u73b0\u8c61\u3002</p>"},{"location":"backend/expressjs/express-js/#middleware_1","title":"\u5168\u5c40 Middleware","text":"<p>\u4f7f\u7528 <code>app.use([path], &lt;middleware function&gt;)</code> \u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u4f9b\u5168\u5c40\u4f7f\u7528\u7684 Middleware \u51fd\u6570\uff08Application-level middleware\uff09\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>import express from \"express\";\nconst app = express()\n\nconst logger = (req, res, next) =&gt; { // Logger \u90e8\u4ef6\uff0c\u8bb0\u5f55\u7528\n    console.debug(`[${new Date()}] ${req.method} ${req.originalUrl}`);\n    next();\n}\n\n\n\napp.get('/', (req, res) =&gt; {\n    res.send('Hello, baka c7w!');\n})\n\napp.get('/item', (req, res) =&gt; {\n    res.send('GET method to /item');\n})\n\napp.post('/item', (req, res) =&gt; {\n    res.send('POST method to /item');\n})\n\napp.get('/item/*', (req, res) =&gt; {\n    console.debug(req.path); // `/item/1`\n    console.debug(req.params); // undefined\n    res.send(\"Item/*\")\n})\n\napp.get('/item2/:item/', (req, res) =&gt; {\n    console.debug(req.path); // `/item2/1`\n    console.debug(req.params); // { item: '1' }\n    res.send(\"Item/*\")\n})\n\napp.get(\"/item3/:item(\\\\d+)\", (req, res) =&gt; {\n    console.debug(req.path); // `/item3/1`\n    console.debug(req.params); // { item: '1' }\n    res.send(\"Item/*\")\n})\n\napp.use(logger)\n\napp.listen(3000);\n</code></pre> <pre><code>[Tue Feb 08 2022 22:16:18 GMT+0800 (China Standard Time)] GET /user/123\n[Tue Feb 08 2022 22:16:20 GMT+0800 (China Standard Time)] GET /user/123\n[Tue Feb 08 2022 22:16:22 GMT+0800 (China Standard Time)] GET /user/123/123\n</code></pre>"},{"location":"backend/expressjs/express-js/#middleware_2","title":"\u5f02\u5e38\u5904\u7406 Middleware","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u5904\u7406\u5f02\u5e38\u7684\u4e2d\u95f4\u4ef6\u51fd\u6570\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>app.use(function (err, req, res, next) {\n  console.error(err.stack)\n  res.status(500).send('Sorry, but fatal error occurred meanwhile.')\n})\n</code></pre>"},{"location":"backend/expressjs/express-js/#middleware_3","title":"\u5185\u7f6e Middleware","text":"<p>Express \u5185\u7f6e\u4e86\u4ee5\u4e0b\u4e2d\u95f4\u4ef6\uff1a</p> <ul> <li>express.static \u7528\u4e8e\u63d0\u4f9b\u9759\u6001\u6587\u4ef6\uff0c\u6bd4\u5982\u56fe\u7247\uff0c\u6587\u4ef6\u7b49\u7b49</li> <li>express.json \u5c06 req.body \u5904\u7406\u4e3a json (Available with Express 4.16.0+)</li> <li>express.urlencoded</li> </ul> <p>\u5bf9\u4e8e POST \u8bf7\u6c42\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u540e\u4e24\u4e2a\u4e2d\u95f4\u4ef6\u3002</p>"},{"location":"backend/expressjs/express-js/#crud","title":"CRUD \u7684\u5b9e\u73b0","text":"<p>RESTful API</p> <p>\u9996\u5148\u6211\u4eec\u5148\u7b80\u5355\u5730\u4ecb\u7ecd\u4e00\u4e0b RESTful API \u662f\u4ec0\u4e48\u3002</p> <p>RESTful API \u662f\u76ee\u524d\u6bd4\u8f83\u6210\u719f\u7684\u4e00\u5957\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\u7684 API \u8bbe\u8ba1\u7406\u8bba\u3002\u53ef\u4ee5\u53c2\u8003 https://www.ruanyifeng.com/blog/2014/05/restful_api.html\u3002</p> <p>TL; DR: \u6309\u7167\u4e00\u5b9a\u7ea6\u5b9a\u4fd7\u6210\u7684\u8bbe\u8ba1\uff0c\u5bf9\u4e8e\u6211\u4eec\u6240\u5173\u5fc3\u7684\u6d89\u53ca\u7684\u8d44\u6e90\uff0c\u8fdb\u884c\u589e\u5220\u67e5\u6539\u7684\u64cd\u4f5c\u3002RESTful API \u66f4\u591a\u7684\u662f\u5173\u6ce8\u5728\u201c\u8bbe\u8ba1\u201d\u8fd9\u4e00\u5c42\u9762\u3002</p> <p>\u4f5c\u4e3a\u4eca\u5929\u7684\u6559\u7a0b\uff0c\u6211\u4eec\u53ea\u8981\u7406\u89e3\uff0c\u6211\u4eec\u8bbe\u8ba1\u51fa\u4e00\u4e2a\u540e\u7aef\uff0c\u80fd\u8ba9\u5b83\u548c\u6211\u4eec\u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5b8c\u6210\u589e\u5220\u67e5\u6539\uff08Create, Read, Update, Delete\uff09\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4f5c\u4e3a\u8f6e\u5b50\u5de5\u5382\uff0c\u6211\u4eec\u7ecf\u8fc7\u7b80\u5355\u7684\u641c\u7d22\u5c31\u80fd\u627e\u5230 JavaScript \u4e0e mysql \u8fde\u63a5\u7684\u5de5\u5177\uff0c\u5176\u4f7f\u7528\u6559\u7a0b\u53ef\u4ee5\u89c1\u6b64\u3002</p> <p>ORM</p> <p>\u76f4\u63a5\u64b0\u5199 SQL \u8bed\u53e5\u56fa\u7136\u5728\u5e94\u7528\u4e0a\u662f\u9ad8\u6548\u7684\uff0c\u4f46\u662f\u5207\u6362\u7f16\u7a0b\u8bed\u8a00\u6216\u8005\u627e\u4e00\u4e9b\u81ea\u52a8\u751f\u6210 SQL \u67e5\u8be2\u8bed\u53e5\u7684\u5de5\u5177\u4e5f\u4f1a\u964d\u4f4e\u6211\u4eec\u7684\u7f16\u7a0b\u6548\u7387\u3002\u5728\u6211\u4eec\u5e76\u4e0d\u662f\u5f88\u5728\u610f\u67e5\u8be2\u6548\u7387\u7684\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u4e0d\u7981\u56de\u5fc6\u8d77 Django \u4e2d\u7528\u7c7b\u64b0\u5199 Model \u7684\u6a21\u5f0f\uff0c\u5f53\u65f6\u53ef\u662f\u5341\u5206\u8282\u7701\u6211\u4eec\u7684\u529b\u6c14\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u5341\u5206\u5e38\u89c1\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u53eb\u505a ORM\uff08Object\u2013relational mapping\uff09\u3002\u4e4b\u524d\u6211\u4eec\u53ef\u4ee5\u5c06\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u4e2a\u8868\u770b\u505a\u662f\u4e00\u5f20 Excel \u8868\uff0c\u800c\u8868\u5934\u89c4\u5b9a\u4e86\u8fd9\u4e2a\u8868\u7684\u6bcf\u884c\u8bb0\u5f55\u6240\u5e94\u8be5\u6709\u7684\u5c5e\u6027\u3002\u800c\u5982\u679c\u6211\u4eec\u628a\u8fd9\u5f20\u8868\u4e2d\u7684\u8868\u5934\uff0c\u89c6\u4e3a\u662f\u4e00\u4e2a\u7c7b\u5728\u89c4\u5b9a\u5b83\u5e94\u8be5\u5177\u6709\u7684\u5c5e\u6027\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd9\u5f20\u8868\u7684\u6bcf\u884c\u8bb0\u5f55\uff0c\u4e8b\u5b9e\u4e0a\u5c31\u662f\u8fd9\u4e2a\u7c7b\u6240\u5b9e\u4f8b\u5316\u51fa\u6765\u7684\u5bf9\u8c61\u3002\u8fd9\u6b63\u662f Django \u7684 db.models \u6240\u91c7\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002</p> <p>\u518d\u4e00\u6b21\uff0c\u4f5c\u4e3a\u8f6e\u5b50\u5de5\u5382\uff0c\u53ea\u9700\u8981\u7b80\u5355\u7684\u641c\u7d22\uff0c\u6211\u4eec\u4fbf\u80fd\u627e\u5230\u5b9e\u73b0\u4e0e\u6570\u636e\u5e93\u4e4b\u95f4 ORM \u8bbe\u8ba1\u7684\u5e93\uff0c\u8fd9\u91cc\u6211\u4eec\u4ee5 Sequelize \u4e3a\u4f8b\u3002\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u4fbf\u643a\u7684 <code>sqlite3</code> \u4f5c\u4e3a\u6211\u4eec\u7684\u6570\u636e\u5e93\u3002</p> <p>\u5b9e\u73b0\u540e\u7684\u7b80\u5355\u9879\u76ee\u5f52\u6863\u4e8e\uff1ahttps://github.com/c7w/MyDashboardBackend</p>"},{"location":"backend/expressjs/express-js/#_3","title":"\u540e\u7eed\u62d3\u5c55","text":"<ul> <li>\u4e86\u89e3\u66f4\u591a ExpressJS \u7684\u4e2d\u95f4\u4ef6</li> <li>\u4e86\u89e3 ExpressJS \u7684\u6a21\u677f\u6e32\u67d3\u673a\u5236</li> <li>\u6362\u7528\u5176\u4ed6\u6570\u636e\u5e93\u5c1d\u8bd5\uff0c\u5305\u62ec fs\uff08\u672c\u5730\u5b58\u50a8\uff09\uff0cMySQL\uff0c\u4ee5\u53ca\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93 PostgreSQL</li> </ul> <p>\u53ef\u4ee5\u5e94\u7528 ExpressJS \u7684\u8bfe\u7a0b\uff1a</p> <ul> <li>\u300a\u8f6f\u4ef6\u5de5\u7a0b\u300b</li> </ul>"},{"location":"backend/expressjs/express-js/#_4","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>ExpressJS \u5b98\u7f51 https://expressjs.com/</li> <li>ExpressJS \u4e2d\u6587\u7f51 https://expressjs.com/zh-cn/</li> <li>\u83dc\u9e1f\u6559\u7a0b https://www.runoob.com/nodejs/nodejs-express-framework.html</li> <li>MDN \u6559\u7a0b https://developer.mozilla.org/zh-CN/docs/Learn/Server-side/Express_Nodejs/skeleton_website</li> </ul>"},{"location":"backend/go/go/","title":"Go","text":"<p>Go \u8bed\u8a00\u662f\u4e00\u95e8\u7531 Google \u5f00\u53d1\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\u3002\u5176\u8bed\u6cd5\u4e0e C \u8f83\u4e3a\u63a5\u8fd1\uff0cOOP \u6c34\u5e73\u4ecb\u4e8e C \u548c C++ \u4e4b\u95f4\uff0c\u7279\u70b9\u662f\u80fd\u6bd4\u8f83\u8f7b\u6613\u5730\u8fdb\u884c\u5e76\u884c\u7f16\u7a0b\u3002Go \u88ab\u5e7f\u6cdb\u5730\u7528\u4e8e\u540e\u7aef\u5f00\u53d1\u4e2d\uff0c\u76f8\u6bd4 Python\u3001JavaScript \u7b49\u89e3\u91ca\u578b\u8bed\u8a00\u5f80\u5f80\u62e5\u6709\u66f4\u9ad8\u7684\u8fd0\u884c\u6548\u7387\u3002</p> <p>\u672c\u6587\u6211\u4eec\u4fa7\u91cd\u4ecb\u7ecd\u5982\u4f55\u7528 Go \u642d\u5efa\u4e00\u4e2a\u7b80\u6613\u7684 Web \u670d\u52a1\u5668\uff0c\u5e76\u4e14\u5b8c\u6210\u4e0e\u540e\u7aef\u6570\u636e\u5e93\u901a\u4fe1\u7684\u589e\u5220\u67e5\u6539\u529f\u80fd\uff0c\u5bf9\u5e76\u53d1\u5b89\u5168\u7684\u5185\u5bb9\u4ea6\u4f1a\u7a0d\u6709\u4ecb\u7ecd\u3002</p> <p>Credit: \u57fa\u4e8e @pyz \u7684 2022 \u6691\u57f9\u8bb2\u7a3f\uff0c\u5c11\u91cf\u4fee\u6539\u800c\u6210\u3002</p>"},{"location":"backend/go/go/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u4e00\u79cd C-family \u8bed\u8a00\u7684\u4f7f\u7528\u7ecf\u9a8c</li> <li>MySQL \u6570\u636e\u5e93\u7684\u57fa\u7840\u64cd\u4f5c</li> <li>\u5bf9\u524d\u540e\u7aef\u5206\u79bb\u67b6\u6784\u7684\u521d\u6b65\u4e86\u89e3</li> </ul>"},{"location":"backend/go/go/#_2","title":"\u73af\u5883\u914d\u7f6e","text":""},{"location":"backend/go/go/#1-go","title":"1. Go \u8bed\u8a00\u7f16\u8bd1\u5668\u5b89\u88c5","text":"<p>\u63a8\u8350\u8bbf\u95ee Go \u8bed\u8a00\u5b98\u65b9\u7f51\u7ad9\u7684\u4e0b\u8f7d\u9875\u3002\u5728 Go install \u7684\u9009\u9879\u6846\u91cc\u9009\u62e9\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4e0b\u8f7d\u6253\u5305\u597d\u7684\u5b89\u88c5\u6587\u4ef6\u5e76\u5b89\u88c5\u3002\u4e0d\u63a8\u8350 install from source\uff0c\u8f83\u4e3a\u7e41\u7410\u3002</p> <p>\u5b89\u88c5\u63d0\u793a</p> <p>\u5982\u679c\u672c\u5730\u5df2\u7ecf\u5b89\u88c5\u4e86 Go \u7f16\u8bd1\u5668\uff0c\u8bf7\u68c0\u67e5\u5927\u7248\u672c\u662f\u5426\u5927\u4e8e\u7b49\u4e8e <code>1.18</code> \u3002\u672c\u6587\u7ae0\u5185\u5bb9\u5168\u90e8\u57fa\u4e8e <code>1.18.3</code> \u7248\u672c\u7684 Go\u3002</p> <p>Linux \u7528\u6237\u4e0d\u8981\u7528 yum\u3001apt \u7b49\u65b9\u5f0f\u5b89\u88c5 golang\uff0c\u53ef\u80fd\u7531\u4e8e\u56fd\u5185\u6362\u6e90\u7684\u539f\u56e0\u5bfc\u81f4\u6240\u5b89\u88c5\u7684\u7248\u672c\u5f88\u4f4e\u3002</p> <p>Windows \u7528\u6237\u4e0d\u8981\u5b89\u88c5\u5728\u9700\u8981\u7ba1\u7406\u5458\u6743\u9650\u7684\u6587\u4ef6\u5939\u4e0b (\u8fd9\u4f1a\u5728\u540e\u7eed\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6)\u3002\u5efa\u8bae D \u76d8\u6216 E \u76d8\u5f00\u4e00\u4e2a D:\\Golang \u4e4b\u7c7b\u7684\u6587\u4ef6\u5939\u7528\u4e8e\u5b89\u88c5 Golang \u4ee5\u53ca\u540e\u7eed\u4e0b\u8f7d\u7684\u7b2c\u4e09\u65b9 package\u3002</p> <p>\u786e\u8ba4\u81ea\u5df1\u6210\u529f\u5b89\u88c5\u7684\u65b9\u5f0f\u662f\u5728\u547d\u4ee4\u884c\u8fd0\u884c <code>go version</code>\uff0c\u67e5\u770b\u662f\u5426\u6709\u63d0\u793a\u7248\u672c\u4fe1\u606f\u3002</p>"},{"location":"backend/go/go/#2-ide","title":"2. IDE \u9009\u62e9","text":"<p>\u63a8\u8350\u4f7f\u7528 JetBrains \u516c\u53f8\u7684 GoLand \u4f5c\u4e3a IDE\uff0c\u5bf9\u4e8e\u5927\u5b66\u751f\u800c\u8a00\uff0c\u53ef\u4ee5\u83b7\u53d6\u514d\u8d39\u7684\u5b66\u751f\u7248\u3002\u4e5f\u53ef\u4f7f\u7528 VSCode + Go \u8bed\u8a00\u63d2\u4ef6\u3002</p> <p>\u9a8c\u8bc1\u5b66\u751f\u8eab\u4efd</p> <p>\u5bf9\u4e8e\u6e05\u534e\u5927\u5b66\u7684\u5b66\u751f\uff0c\u5728\u4f7f\u7528\u6821\u56ed\u90ae\u7bb1\u9a8c\u8bc1 JetBrains \u5b66\u751f\u8eab\u4efd\u65f6\uff0c\u8bf7\u5c06\u90ae\u7bb1\u540e\u7f00\u66ff\u6362\u4e3a <code>@mails.thu.edu.cn</code>\u3002</p> <p>Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u5b98\u65b9\u7684\u4ee3\u7801\u98ce\u683c\u6574\u7406\u5668 gofmt\uff0c\u7b80\u5355\u914d\u7f6e GoLand \u53ef\u4ee5\u5b8c\u6210\u81ea\u52a8\u683c\u5f0f\u5316\u4ee3\u7801\u3002</p>"},{"location":"backend/go/go/#go_1","title":"Go \u57fa\u672c\u8bed\u6cd5","text":"<p>\u672c\u8282\u5c06\u4f1a\u7528\u51e0\u4e2a\u793a\u4f8b\u7a0b\u5e8f\u6765\u5c55\u793a Golang \u7684\u8bed\u6cd5\uff0c\u5e76\u5bf9\u5176\u52a0\u4ee5\u8bb2\u89e3\u3002\u8bf7\u8ba4\u771f\u9605\u8bfb\u6b64\u5904\u7684\u4ee3\u7801\uff0c\u5e76\u5c1d\u8bd5\u5728\u7535\u8111\u4e0a\u8fd0\u884c\u5b83\u4eec\uff0c\u8fd9\u4f1a\u8ba9\u4f60\u5bf9\u8fd9\u95e8\u8bed\u8a00\u6709\u6700\u57fa\u672c\u7684\u4e86\u89e3\u548c\u76f4\u89c2\u611f\u53d7\u3002</p>"},{"location":"backend/go/go/#1-hello-world","title":"1. Hello, world!","text":"<pre><code>// \u58f0\u660e\u4e00\u4e2a\u540d\u53eb main \u7684 package\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    fmt.Println(\"Hello world\")\n}\n</code></pre> <p>\u5728\u6587\u4ef6\u6240\u5728\u8def\u5f84\u4e0b\u4f7f\u7528\u547d\u4ee4 <code>go run &lt;\u6587\u4ef6\u540d&gt;.go</code>\uff0c\u5373\u53ef\u8fd0\u884c\u7a0b\u5e8f\u3002</p> <p>\u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u6587\u4ef6\u662f main.go \u8fd9\u4e00\u6bb5\u4ee3\u7801\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u987a\u5e8f\u662f\u4e0d\u53ef\u8c03\u6362\u7684\uff0c\u4e00\u822c\u800c\u8a00\u4e00\u6bb5\u53ef\u8fd0\u884c\u7684 Go \u7a0b\u5e8f\u90fd\u662f\u7531\u8fd9\u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u4e0b\u9762\u8bb2\u89e3\u5b83\u4eec\u7684\u610f\u4e49\u3002</p> <ul> <li> <p>Package \u58f0\u660e\u90e8\u5206</p> <p>Package \u662f Go \u8bed\u8a00\u7ba1\u7406\u4ee3\u7801\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u4e00\u822c\u628a package \u79f0\u4e3a\u201c\u5305\u201d\u3002Package \u548c\u5176\u5b83\u8bed\u8a00\u4e2d\u7684\u5e93\u6216\u8005\u6a21\u5757 (module) \u7684\u5730\u4f4d\u7c7b\u4f3c\u3002\u4e00\u822c\u800c\u8a00\uff0c\u4e00\u4e2a\u5305\u7531\u4e00\u4e2a\u6216\u591a\u4e2a .go \u6e90\u6587\u4ef6\u7ec4\u6210\u3002\u7279\u522b\u5730\uff0c\u6211\u4eec\u4e0d\u4ee5 <code>*_test.go</code> \u7684\u5f62\u5f0f\u547d\u540d\u6e90\u6587\u4ef6\uff0c\u6240\u6709\u8fd9\u6837\u7ed3\u5c3e\u7684\u6587\u4ef6\u4f1a\u88ab\u89c6\u4e3a\u6d4b\u8bd5\u6587\u4ef6\u3002</p> <p>\u6bcf\u4e00\u4e2a package \u7684\u540d\u5b57\u63cf\u8ff0\u4e86\u8fd9\u4e2a package \u7684\u529f\u80fd\uff0c\u4e00\u822c\u800c\u8a00\u548c\u8fd9\u4e2a package \u6240\u5904\u7684\u6587\u4ef6\u76ee\u5f55\u7684\u6700\u540e\u4e00\u7ea7\u540d\u5b57\u76f8\u540c\u3002</p> <p><code>main</code> package \u662f\u7279\u6b8a\u7684 package\uff0c\u7528\u6765\u5b9a\u4e49\u4e00\u4e2a\u53ef\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u8fd9\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u6267\u884c\u8d77\u70b9\u662f <code>main</code> package \u91cc\u9762\u7684 <code>main</code> \u51fd\u6570\u3002</p> </li> <li> <p>Import \u90e8\u5206</p> <p>Go \u4ee5 package \u7ba1\u7406\u4ee3\u7801\uff0c\u76f8\u5e94\u5730\uff0c\u60f3\u4f7f\u7528\u6807\u51c6\u5e93\u6216\u8005\u7b2c\u4e09\u65b9\u5e93\u4e2d\u63d0\u4f9b\u7684\u65b9\u6cd5\u6216\u5bf9\u8c61\uff0c\u5c31\u9700\u8981\u4f7f\u7528 import \u6765\u5bfc\u5165\u5b83\u4eec\u3002Import \u7684\u8bed\u6cd5\u6709\u4e24\u79cd\uff0c\u5b83\u4eec\u90fd\u662f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u7684\u3002\u4e00\u822c\u800c\u8a00\uff0c\u7b2c\u4e8c\u79cd\u5199\u6cd5\u662f\u88ab\u63a8\u8350\u7684\uff0c\u5b83\u5728\u683c\u5f0f\u4e0a\u663e\u5f97\u8f83\u4e3a\u6574\u9f50\u3002</p> <pre><code>import \"fmt\" // \u5355\u884cimport \nimport (\n    \"fmt\"\n    \"os\" \n    // \u4e00\u7cfb\u5217\u5176\u4ed6\u5305\n)\n</code></pre> <p>\u901a\u8fc7 import \u5bfc\u5165\u5305\u7684\u987a\u5e8f\u662f\u65e0\u5173\u7d27\u8981\u7684\uff0c\u4f46\u662f\u6709\u51e0\u70b9\u4ecd\u662f\u9700\u8981\u5173\u6ce8\u7684\uff1a</p> <ol> <li> <p>Import \u7684\u4f18\u5316\uff1aGo \u8bed\u8a00\u4e0d\u5141\u8bb8\u51fa\u73b0\u5bfc\u5165\u4f46\u672a\u4f7f\u7528\u7684\u5305\u3002</p> </li> <li> <p>Import cycle \u95ee\u9898\uff1aGo \u8bed\u8a00\u4e0d\u5141\u8bb8\u4e24\u4e2a package \u4e92\u76f8 import\u3002\u8fd9\u4e3a\u5199 Go \u4ee3\u7801\u7684\u4eba\u5e26\u6765\u4e86\u4e00\u5b9a\u7684\u9ebb\u70e6 (\u4e0d\u80fd\u50cf\u4f7f\u7528 C \u4e00\u6837\u5b9a\u4e49\u5f88\u591a\u5934\u6587\u4ef6\u540e\u968f\u610f\u8c03\u7528\u4e86)\uff0c\u4f46\u8fd9\u4e5f\u7ed9 Go \u8bed\u8a00\u5e26\u6765\u4e86\u4e00\u4e2a\u4f18\u52bf\u2014\u2014\u7f16\u8bd1\u65f6\u95f4\u8f83\u77ed\u3002</p> </li> </ol> <p>\u89e3\u51b3 import cycle \u7684\u529e\u6cd5\u591a\u79cd\u591a\u6837\uff0c\u4f46\u8fd9\u4e0d\u662f\u672c\u6559\u7a0b\u7684\u91cd\u70b9\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u884c\u641c\u7d22\u5404\u7c7b\u65b9\u6cd5\u3002</p> <ol> <li>Import \u4e24\u4e2a\u540d\u5b57\u4e00\u6837\u7684\u5305\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1a\u6211\u4eec\u6ce8\u610f\u5230\u7b2c\u4e09\u90e8\u5206\u7684 main \u51fd\u6570\u4f7f\u7528\u4e86 <code>fmt</code> \u6765\u8c03\u7528 <code>fmt</code> \u5305\u5185\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5982\u679c\u5f88\u4e0d\u5de7\uff0c\u6211\u9700\u8981\u8c03\u7528\u4e00\u4e2a\u522b\u4eba\u5199\u7684\u5305\uff0c\u5b83\u7684\u540d\u5b57\u4e5f\u53eb <code>fmt</code>\uff0c\u8be5\u5982\u4f55\u505a\u5230\uff1f</li> </ol> <p>\u53ef\u80fd\u5f88\u591a\u4eba\u7b2c\u4e00\u773c\u89c9\u5f97\u8fd9\u4e2a\u95ee\u9898\u4e0d\u662f\u95ee\u9898\uff0c\u6bd5\u7adf\u6ca1\u4eba\u4f1a\u548c\u81ea\u5df1\u8fc7\u4e0d\u53bb\uff0c\u7528\u4e00\u4e2a\u548c\u6807\u51c6\u5e93\u540c\u6837\u7684\u540d\u5b57\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u5728\u6807\u51c6\u5e93\u91cc\u8fd9\u4e2a\u95ee\u9898\u5df2\u7ecf\u53d1\u751f\u4e86\u3002\u6807\u51c6\u5e93\u5305\u542b\u4e24\u4e2a\u6d89\u53ca\u968f\u673a\u7684 package\uff0c\u5206\u522b\u662f <code>math</code> \u548c <code>crypto</code> \u5305\u4e2d\u7684 <code>rand</code> \u5305\u3002</p> <pre><code>package main\nimport (\n    \"crypto/rand\"\n    \"math/rand\"\n)\n// ...\n/*\n\u8bd5\u56fe\u7f16\u8bd1\u4f1a\u6709\u5982\u4e0b\u8f93\u51fa\n# command-line-arguments\n./main.go:4:2: imported and not used: \"crypto/rand\" \u672a\u4f7f\u7528\n./main.go:6:2: rand redeclared in this block\n        ./main.go:4:2: other declaration of rand declaration\n./main.go:6:2: imported and not used: \"math/rand\" \u672a\u4f7f\u7528\n*/\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5\u5176\u5b9e\u4e5f\u5f88\u7b80\u5355\uff0c\u6bd4\u5982\u6211\u4eec\u5728 Python \u4e2d\u53ef\u4ee5\u4f7f\u7528 <code>import xxx as xxx</code> \u7684\u8bed\u6cd5\uff0c Go \u4e5f\u4e3a import \u63d0\u4f9b\u4e86\u7c7b\u4f3c\u7684\u673a\u5236\uff1a</p> <pre><code>import (\n    crand \"crypto/rand\"\n    mrand \"math/rand\"\n) // crand \u548c mrand \u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u201c\u522b\u540d\u201d\n\nfunc foo() { \n    // \u4f7f\u7528 crand.xxx \u548c mrand.xxx \u8c03\u7528\u5176\u4e2d\u7684\u65b9\u6cd5\u5373\u53ef\n}\n</code></pre> </li> <li> <p>\u4e3b\u4f53\u4ee3\u7801\u90e8\u5206</p> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c<code>main</code> \u51fd\u6570\u91cc\u8c03\u7528\u4e86 <code>fmt</code> \u5305\u7684 <code>Println</code> \u65b9\u6cd5\u8fdb\u884c\u8f93\u51fa\u3002</p> <p>Notes</p> <p>\u4e00\u4e2a\u8bed\u8a00\u4e2d\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u5373\u4f7f\u662f\u719f\u6089\u6807\u51c6\u5e93\u4e2d\u7684\u5e38\u7528\u65b9\u6cd5\u90fd\u9700\u8981\u5927\u91cf\u7684\u7f16\u7a0b\u7ec3\u4e60\u3002\u4f5c\u4e3a\u4e00\u7bc7\u5165\u95e8\u6559\u7a0b\uff0c\u638c\u63e1\u57fa\u672c\u7684\u8bed\u6cd5\u5373\u53ef\uff0c\u65e0\u9700\u7ea0\u7ed3\u81ea\u5df1\u4e3a\u4f55\u8bb0\u4e0d\u4f4f\u76f8\u5e94\u7684\u65b9\u6cd5\u3002\u591a\u4e0a\u7f51\u51b2\u6d6a\uff0c\u548c\u4ed6\u4eba\u6c9f\u901a\uff0c\u5c31\u80fd\u9010\u6e10\u638c\u63e1\u5404\u7c7b\u65b9\u6cd5\u3002</p> <p>\u5728\u8fd9\u91cc\u8bb2\u4e00\u4e0b Go \u7684\u8fd0\u884c\u673a\u5236\uff1a</p> <ol> <li> <p>\u5e76\u53d1</p> <p>\u53ef\u4ee5\u7b80\u5355\u5730\u628a\u5e76\u53d1\u7406\u89e3\u4e3a\u591a\u4e2a\u7a0b\u5e8f\u7684\u540c\u65f6\u6267\u884c\u3002\u5728\u4ee3\u7801\u5c42\u9762\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u8ba4\u4e3a\u5e76\u53d1\u662f\u51e0\u6bb5\u4ee3\u7801\u5728\u540c\u65f6\u6267\u884c\uff0c\u5b83\u4eec\u4e4b\u95f4\u53ef\u4ee5\u6709\u4ea4\u4e92\u3002\u5728\u540e\u7aef\u7684\u7f16\u7a0b\u4e2d\uff0c\u5e76\u53d1\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a\u6bcf\u65f6\u6bcf\u523b\uff0c\u8bbf\u95ee\u7f51\u7ad9\u7684\u7528\u6237\u4e0d\u80fd\u90fd\u5c40\u9650\u5230 1 \u4e2a\u4eba\u3002</p> <p>\u5173\u4e8e\u5e76\u53d1\u6709\u4e24\u4e2a\u76f8\u5173\u7684\u6982\u5ff5\u662f\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u3002\u6253\u5f00 Windows \u4efb\u52a1\u7ba1\u7406\u5668\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\u8bb8\u591a\u201c\u8fdb\u7a0b\u201d\uff0c\u8fd9\u4e9b\u8fdb\u7a0b\u76f8\u4e92\u4e4b\u95f4\u72ec\u7acb\uff0c\u4e00\u822c\u800c\u8a00\u4e0d\u5171\u4eab\u4e00\u5757\u5730\u5740\u7a7a\u95f4\u3002\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u591a\u4e2a\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u5747\u53ef\u4ee5\u8bbf\u95ee\u8fdb\u7a0b\u5185\u516c\u5171\u7684\u6570\u636e\u3002</p> </li> <li> <p>Goroutine</p> <p>Go \u8bed\u8a00\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u5e76\u53d1\u6d3b\u52a8\u88ab\u79f0\u4e3a goroutine\uff0c\u4f60\u53ef\u4ee5\u628a\u4ed6\u7406\u89e3\u4e3a\u4e00\u4e2a\u8f83\u4e3a\u667a\u80fd\u7684\u7ebf\u7a0b\uff0c\u80fd\u81ea\u5df1\u5b8c\u6210\u8c03\u5ea6\uff0c\u5408\u7406\u5360\u7528\u591a\u6838\u7684 CPU\u3002\u5f53\u542f\u52a8\u4e00\u4e2a Go \u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u4f1a\u6709\u4e00\u4e2a goroutine \u8c03\u7528 <code>main</code> \u51fd\u6570\uff0c\u8fd9\u4e2a goroutine \u88ab\u79f0\u4e3a\u4e3b goroutine\uff0c\u901a\u8fc7 <code>go &lt;\u51fd\u6570\u540d&gt;(\u53c2\u6570)</code> \u7684\u65b9\u5f0f\u65b0\u5efa goroutine\uff0c\u6267\u884c\u8c03\u7528\u7684\u51fd\u6570\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u65e6\u4e3b goroutine \u7ed3\u675f\uff0c\u6240\u6709\u7684 goroutine \u90fd\u4f1a\u76f8\u5e94\u5730\u7ed3\u675f\u3002</p> </li> </ol> </li> </ul>"},{"location":"backend/go/go/#2","title":"2. \u5e38\u89c1\u8bed\u53e5\u7684\u683c\u5f0f","text":"<p>\u4e0b\u9762\u8fd9\u4e2a\u793a\u4f8b\u5c55\u793a\u4e86\u57fa\u672c\u7684\u53d8\u91cf\u58f0\u660e\u548c\u51fd\u6570\u58f0\u660e\u7684\u683c\u5f0f\u3002</p> <pre><code>package main\nimport (\n    \"fmt\"\n    \"log\"\n)\nfunc main() { \n    // \u8f93\u5165\u4e24\u4e2a\u6570\uff0c\u8f93\u51fa\u5b83\u4eec\u7684\u548c \n    /*\n        \u4e24\u79cd\u58f0\u660e\u53d8\u91cf\u7684\u529e\u6cd5\uff0cvar &lt;\u53d8\u91cf\u540d&gt; &lt;\u7c7b\u578b&gt; \u6216\u662f := \u8fd0\u7b97\u7b26 \n    */\n    var a int\n    b := 0\n    _, err := fmt.Scanf(\"%d %d\", &amp;a, &amp;b)\n    // \u4f7f\u7528 _ \u4f5c\u4e3a\u5360\u4f4d\u7b26\uff0c\u53ef\u4ee5\u8fbe\u5230\u63a5\u53d7\u4f46\u4e0d\u4f7f\u7528\u8fd4\u56de\u53c2\u6570\u7684\u76ee\u7684\n    if err != nil {\n        // if \u540e\u7684\u6761\u4ef6\u6ca1\u6709\u5c0f\u62ec\u53f7\uff0c\u8981\u548c\u5927\u62ec\u53f7\u5728\u540c\u4e00\u884c\u5185\n        log.Fatal(\"Bad Input\")\n        // \u5f53\u8f93\u5165\u683c\u5f0f\u4e0d\u5339\u914d\u65f6\uff0c\u4f1a\u8f93\u51fa Bad Input\uff0c\u7a0b\u5e8f exit status 1\n    } else {\n        fmt.Println(\"Good Input\")\n        fmt.Println(\"Result is\", sum(a, b))\n    }\n}\n// \u58f0\u660e\u51fd\u6570\u4ee5 func \u5f00\u59cb\uff0c\u683c\u5f0f\u4e3a\uff1afunc &lt;\u51fd\u6570\u540d&gt;(\u53c2\u6570\u540d) \u8fd4\u56de\u53c2\u6570 \nfunc sum(a, b int) int {\n    return a + b \n}\n</code></pre>"},{"location":"backend/go/go/#3-json","title":"3. JSON \u6570\u636e\u5904\u7406","text":"<p>\u8bfb\u53d6\u4e00\u4e2a JSON \u6587\u4ef6\uff0c\u5c06\u5176\u4e2d\u7684\u5b66\u751f\u4fe1\u606f\u53d6\u51fa\uff0c\u6253\u5370\u3002</p> <pre><code>package main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n    \"io/ioutil\"\n    \"log\"\n    \"os\"\n)\n\ntype (\n    // Go \u8bed\u8a00\u7684 OOP \u662f\u4f9d\u9760\u65b9\u6cd5\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u7684\u5927\u5c0f\u5199\u6765\u5224\u65ad\u7684\uff0c\u5927\u5199\u5f00\u5934\u516c\u6709\uff0c\u53ef\u4ee5\u968f\u610f\u8bbf\u95ee\uff0c\u5c0f\u5199\u5f00\u5934\u79c1\u6709\n    StudentInfo struct {\n        Name string `json:\"name\"`\n        Score int `json:\"score\"`\n    }\n\n    InfoList struct {\n        Title string `json:\"title\"`\n        Infos []StudentInfo `json:\"info\"`\n    }\n)\n\nfunc main() {\n    var data InfoList\n\n    // os.Open \u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u6587\u4ef6\u5bf9\u8c61\u7684\u6307\u9488\u548c\u4e00\u4e2a error\uff0c\u5982\u9009\u62e9\u4f7f\u7528\u8fd4\u56de\u7684\u53c2\u6570\u5219\u5fc5\u987b\u63a5\u53d7\u6240\u6709\u7684\u53c2\u6570\n    jsonFile, err := os.Open(\"info.json\")\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    bytedata, _ := ioutil.ReadAll(jsonFile) // \u4f7f\u7528 _ \u4f5c\u4e3a\u5360\u4f4d\u7b26\uff0c\u53ef\u4ee5\u8fbe\u5230\u63a5\u53d7\u4f46\u4e0d\u4f7f\u7528\u8fd4\u56de\u53c2\u6570\u7684\u76ee\u7684\n    err = json.Unmarshal(bytedata, &amp;data)\n    if err != nil {\n        log.Fatal(err)\n    }\n    for _, info := range data.Infos {\n        // range \u904d\u5386\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5f53\u53ea\u6709\u4e00\u4e2a\u53d8\u91cf\u65f6\u4e3a\u7d22\u5f15\u904d\u5386\uff0c\u4e24\u4e2a\u53d8\u91cf\u65f6\uff0c\u7b2c\u4e00\u4e2a\u53d8\u91cf\u4e3a\u7d22\u5f15\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u5bf9\u8c61\u7684\u62f7\u8d1d\n        fmt.Printf(\"student name: %s, score is %d\\n\", info.Name, info.Score)\n    }\n}\n/*\n\u8f93\u51fa:\nstudent name: a, score is 100\nstudent name: b, score is 99\nstudent name: c, score is 60\nstudent name: d, score is 120\nstudent name: e, score is 100\nstudent name: f, score is 40\n*/\n</code></pre> <p>\u4ee5\u4e0b\u4e3a\u914d\u5957\u7684 <code>info.json</code>\uff1a</p> <pre><code>{\n    \"title\": \"student-Info-2022\",\n    \"info\": [\n        {\n            \"name\": \"a\",\n            \"score\": 100\n        },\n        {\n            \"name\": \"b\",\n            \"score\": 99\n        },\n        {\n            \"name\": \"c\",\n            \"score\": 60\n        },\n        {\n            \"name\": \"d\",\n            \"score\": 120\n        },\n        {\n            \"name\": \"e\",\n            \"score\": 100\n        },\n        {\n            \"name\": \"f\",\n            \"score\": 40\n        }\n    ]\n}\n</code></pre>"},{"location":"backend/go/go/#web","title":"\u642d\u5efa Web \u540e\u7aef\u670d\u52a1\u5668","text":"<p>\u4ec0\u4e48\u662f Web \u540e\u7aef\uff1f\u8fd9\u4e2a\u95ee\u9898\u5f88\u590d\u6742\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u7b80\u5355\u5730\u7406\u89e3\u4e3a\u4e00\u7cfb\u5217\u548c\u524d\u7aef\u4ea4\u4e92\uff0c\u548c\u6570\u636e\u4ea4\u4e92\u7684\u903b\u8f91\uff0c\u5b83\u4e00\u822c\u800c\u8a00\u4e0d\u4f1a\u90e8\u7f72\u5728\u7528\u6237\u4e00\u4fa7\u3002\u4f60\u751a\u81f3\u53ef\u4ee5\u8bf4\uff0c\u9664\u53bb\u7f51\u7edc\u4f20\u8f93\u8fd9\u4e00\u6b65\uff0c\u5269\u4e0b\u7528\u6237\u4e0d\u53ef\u89c1\u7684\u90fd\u53ef\u4ee5\u79f0\u4e3a\u540e\u7aef\u3002</p> <p>\u5bf9\u540e\u7aef\u7684\u8981\u6c42\u662f\u4e0d\u65ad\u53d8\u5316\u7684\uff0c\u76f8\u5e94\u5730\uff0c\u540e\u7aef\u7684\u67b6\u6784\u3001\u529f\u80fd\u3001\u8bbe\u8ba1\u601d\u8def\u662f\u4e0d\u65ad\u66f4\u65b0\u7684\u3002\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u5f88\u591a\u5927\u5382\u6b63\u5728\u7528 Go \u4ee3\u7801\u9010\u6b65\u53d6\u4ee3 Django\uff0c\u91cd\u6784\u4e4b\u524d\u7684\u4ee3\u7801\u3002</p>"},{"location":"backend/go/go/#1-naive","title":"1. Naive \u7248\u672c","text":"<p>Go\u8bed\u8a00\u7684\u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u652f\u6301\u7b80\u5355 Web \u670d\u52a1\u5668\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u5b83\u6765\u642d\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Web server\uff0c\u5b83\u5411\u8bbf\u95ee\u8005\u8fd4\u56de\u4e00\u4e2a\u201chello visitor\u201d\u3002</p> <pre><code>package main\n\nimport (\n    \"net/http\"\n    \"fmt\"\n    \"log\"\n)\n\nfunc main() {\n    http.HandleFunc(\"/\", html_handle)\n    log.Fatal(http.ListenAndServe(\":8080\", nil))\n}\n\nfunc html_handle(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprintf(w, \"&lt;h1&gt;\" + \"hello visitor\" + \"&lt;/h1&gt;\")\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u7684\u5927\u81f4\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\u5bf9\u8def\u5f84\u4e3a \"/\" \u7684 HTTP \u8bf7\u6c42\uff0c\u4f7f\u7528\u51fd\u6570 <code>html_handle</code> \u505a\u5904\u7406\uff0c\u6211\u4eec\u4e00\u822c\u628a\u8fd9\u79cd\u5904\u7406\u8bf7\u6c42\u7684\u51fd\u6570\u79f0\u4f5c handler function\uff0c\u5b83\u8fd0\u884c\u5728 8080 \u7aef\u53e3\u4e0a\u3002\u76f4\u63a5\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee 127.0.0.1:8080\uff0c\u5c31\u53ef\u4ee5\u770b\u89c1 hello visitor \u5b57\u6837\u3002</p> <p>\u5bf9\u4e8e WSL \u7528\u6237</p> <p>\u5982\u679c\u662f\u5728 WSL \u4e2d\u8fd0\u884c\u7a0b\u5e8f\uff0c\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee 8080 \u7aef\u53e3\u5e76\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6\u7ed3\u679c\u3002\u9700\u8981\u5728 WSL \u4e2d\u4f7f\u7528 ifconfig\uff0c\u83b7\u5f97 WSL \u7684\u7f51\u5361\u5730\u5740\uff0c\u7136\u540e\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee\u5730\u5740\u548c\u5bf9\u5e94\u7684\u7aef\u53e3\u53f7\u3002</p>"},{"location":"backend/go/go/#2-fancy","title":"2. Fancy \u4e00\u70b9\u7684\u7248\u672c","text":"<p>Go \u63d0\u4f9b\u7684\u6807\u51c6\u5e93\u5e76\u4e0d\u662f\u90a3\u4e48\u5730\u597d\u7528\uff0c\u6211\u4eec\u66f4\u5e0c\u671b\u4f7f\u7528\u4e00\u4e9b\u8f7b\u91cf\u7ea7\u7684 Web \u6846\u67b6\u6765\u8f85\u52a9\u6211\u4eec\u642d\u5efa\u7f51\u7edc\u7684\u540e\u7aef\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u7684\u6846\u67b6\u662f Gin\u3002\u8fd9\u4e2a\u6846\u67b6\u662f\u6700\u4e3a\u6d41\u884c\u7684\uff0c\u6548\u7387\u8f83\u9ad8\uff0c\u4f7f\u7528\u8303\u56f4\u5f88\u5e7f\uff0c\u800c\u4e14\u6709\u5341\u5206\u5b8c\u5584\u7684\u6587\u6863\u3002</p> <p>Gin \u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684 package\uff0c\u5982\u4f55\u4f7f\u7528\u5b83\uff1f\u6211\u4eec\u9700\u8981\u4e0b\u8f7d\u7b2c\u4e09\u65b9\u7684\u6e90\u7801\uff0c\u7136\u540e\u7528 <code>go mod</code> \u7ba1\u7406\u8fd9\u4e2a\u9879\u76ee\u6240\u9700\u8981\u7684\u7b2c\u4e09\u65b9\u5305\u3002\u6211\u4eec\u5c06 Gin \u5305\u5bfc\u5165\uff0c\u5c1d\u8bd5\u4f7f\u7528\u5b83\u3002\u4f7f\u7528\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u5728\u6e90\u4ee3\u7801\u4e2d\u6dfb\u52a0</li> </ol> <pre><code>import (\n    \"github.com/gin-gonic/gin\"\n)\n</code></pre> <ol> <li> <p>\u4f7f\u7528 <code>go mod init &lt;module \u540d\u5b57&gt;</code> \u6765\u521d\u59cb\u5316\u9879\u76ee\uff0c\u4e00\u822c\u800c\u8a00\u8fd9\u4e2a module \u540d\u5b57\u5c31\u662f\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u540d\u5b57 (\u5373\u4f60\u7684\u9879\u76ee\u7684\u540d\u5b57)\uff0c\u8fd9\u65f6\u4f60\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a go.mod \u6587\u4ef6\u3002</p> </li> <li> <p>\u4f7f\u7528 <code>go mod tidy</code> \u6765\u81ea\u52a8\u62c9\u53d6\u7f3a\u5c11\u7684 module \uff0c\u79fb\u9664\u591a\u4f59\u7684 module \u3002</p> </li> </ol> <p>\u7f51\u7edc\u95ee\u9898</p> <p>\u5982\u679c\u51fa\u73b0\u62c9\u53d6 connection timeout \u7684\u60c5\u51b5\uff0c\u8fd9\u662f\u56e0\u4e3a\u8bbf\u95ee GitHub \u7b49\u56fd\u5916\u7f51\u7ad9\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528\u66f4\u6539 Go \u62c9\u53d6\u4ee3\u7406\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u3002\u4f7f\u7528 <code>go env -w GOPROXY=https://goproxy.cn,direct</code>\uff0c\u5982\u65e0\u610f\u5916\u6b64\u65f6\u518d\u8fd0\u884c <code>go mod tidy</code> \u5c06\u4f1a\u51fa\u73b0\u4e00\u7cfb\u5217\u4e0b\u8f7d\u63d0\u793a\uff0c\u5e76\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a go.sum \u6587\u4ef6\uff0c\u540c\u65f6 go.mod \u6587\u4ef6\u4e5f\u88ab\u4fee\u6539\u4e86\u3002</p> <p>\u4e0b\u8f7d\u7684\u7b2c\u4e09\u65b9\u5305\u4e00\u822c\u4f1a\u5728 $GOPATH/pkg/mod \u6587\u4ef6\u5939\u4e0b\uff0c\u800c Go \u6807\u51c6\u5e93\u4e00\u822c\u5728 $GOROOT/src\uff0c\u8fd9\u4e24\u4e2a\u73af\u5883\u53d8\u91cf\u90fd\u53ef\u4ee5\u901a\u8fc7 <code>go env</code> \u547d\u4ee4\u83b7\u77e5\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u8981\u6539\u52a8\u3002</p> <p>\u4ee5\u4e0b\u4e3a\u5b8c\u6574\u7684\u670d\u52a1\u5668\u4ee3\u7801\uff1a</p> <pre><code>package main\n\nimport (\n    \"net/http\"\n\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n    // \u5b8c\u6210\u4e00\u4e2a\u63a5\u53d7 POST \u65b9\u6cd5\u7684\u8ba1\u7b97\u5668\uff0c\u63a5\u6536\u4e24\u4e2a\u6570\uff0c\u8f93\u51fa\u5b83\u4eec\u7684\u548c\n    // \u4e0d\u8003\u8651\u6ea2\u51fa\uff0c\u8f93\u5165\u7684\u6570\u5b57\u8d85\u51fa int \u7684\u95ee\u9898\n    r := gin.Default()\n    r.POST(\"/calculator\", HandleCal)    // \u4f7f\u7528\u51fd\u6570 HandleCal \u5904\u7406 /calculator \u4e0b\u7684 POST \u8bf7\u6c42\n    r.Run(\":8080\")                      // \u5728 8080 \u7aef\u53e3\u8fd0\u884c\n}\n\ntype AddPost struct {\n    A int `json:\"a\"`\n    B int `json:\"b\"`\n}\n\nfunc HandleCal(c *gin.Context) {\n    var addpost AddPost\n    if err := c.ShouldBindJSON(&amp;addpost); err != nil {\n        c.String(http.StatusBadRequest, \"Invalid Form\")\n        return\n    }\n    c.JSON(http.StatusAccepted, gin.H{\n        \"answer\": addpost.A + addpost.B,\n    })\n}\n</code></pre>"},{"location":"backend/go/go/#gin-gorm","title":"Gin + GORM \u8fdb\u9636","text":"<p>Gin \u5728\u4e0a\u6587\u4e2d\u5df2\u7ecf\u63d0\u5230\uff0c\u662f\u4e00\u4e2a Web \u540e\u7aef\u6846\u67b6\u3002GORM \u662f\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u53ca\u4ea4\u4e92\u6846\u67b6\uff0c\u4e00\u822c\u7528\u4e8e\u8fde\u63a5\u5173\u7cfb\u578b\u6570\u636e\u5e93\u3002\u63a5\u4e0b\u6765\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u4e24\u8005\u7684\u6838\u5fc3\u7528\u6cd5\u3002</p>"},{"location":"backend/go/go/#1-http","title":"1. \u4e3a\u8def\u5f84\u6dfb\u52a0\u4e0d\u540c\u79cd\u7684 HTTP \u65b9\u6cd5","text":"<p>\u4ee3\u7801\u793a\u4f8b\uff1a</p> <pre><code>package main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n    \"net/http\"\n)\n\nfunc main() {\n    r := gin.Default()\n    r.GET(\"/some-get\", HandleGet)\n    r.POST(\"/some-post\", HandlePost)\n    r.Any(\"/any\", func(g *gin.Context) {\n        g.JSON(http.StatusOK, gin.H{\n            \"method\": g.Request.Method,\n        })\n    })\n    // \u4e5f\u53ef\u4ee5\u4f7f\u7528 r.PATCH() r.PUT() \u7b49\u4e00\u7cfb\u5217 HTTP \u65b9\u6cd5\n    r.Run(\":8080\")\n}\n\nfunc HandleGet(g *gin.Context) {\n    g.String(http.StatusOK, \"This is a get request from %s\\n\", g.Request.Host)\n}\n\nfunc HandlePost(g *gin.Context) {\n    g.String(http.StatusOK, \"This is a post request from %s\\n\", g.Request.Host)\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u5206\u522b\u4f7f\u7528 <code>.GET()</code>\u3001<code>.POST()</code>\u3001<code>.Any()</code> \u7b49\u65b9\u6cd5\u4e3a\u5bf9\u5e94\u7684\u8def\u5f84\u4e0b\u6dfb\u52a0\u76f8\u5e94\u7684 HTTP \u65b9\u6cd5\uff0c\u5982\u679c\u7528\u9519\u8bef\u7684 HTTP \u65b9\u6cd5\u8bbf\u95ee\u4e86\u8def\u5f84\uff0c\u4f1a\u88ab\u8fd4\u56de 404\u3002</p> <p>\u8fd0\u884c\u5982\u4e0b\u7684 bash \u811a\u672c\uff0c\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff0c\u5982\u679c\u4f60\u5728\u89c2\u5bdf\u8fd0\u884c\u65f6\u7684\u8f93\u51fa\uff0c\u5f80\u5f80\u4e5f\u80fd\u5f97\u5230\u76f8\u5e94\u7684\u7ed3\u679c\u3002</p> <pre><code>curl -X GET 127.0.0.1:8080/some-get\ncurl -X POST 127.0.0.1:8080/some-get\necho\ncurl -X GET 127.0.0.1:8080/some-post\necho\ncurl -X POST 127.0.0.1:8080/some-post\ncurl -X GET 127.0.0.1:8080/any\necho\ncurl -X POST 127.0.0.1:8080/any\necho\n\n\n# This is a get request from 127.0.0.1:8080\n# 404 page not found\n# 404 page not found\n# This is a post request from 127.0.0.1:8080\n# {\"method\":\"GET\"}\n# {\"method\":\"POST\"}\n</code></pre> <p>\u8fd9\u91cc\u5728\u4e3a /any \u8def\u5f84\u6dfb\u52a0 handler function \u65f6\u4f7f\u7528\u4e86\u533f\u540d\u51fd\u6570\u7684\u8bed\u6cd5\u3002\u5f88\u591a\u6559\u7a0b\u4e2d\u4f1a\u4f7f\u7528\u8fd9\u79cd\u533f\u540d\u51fd\u6570\u7684\u8bed\u6cd5\uff0c\u4f46\u7b14\u8005\u4e0d\u5efa\u8bae\u5728\u5de5\u7a0b\u4e2d\u4f7f\u7528\uff0c\u5b83\u4f1a\u964d\u4f4e\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3002\u533f\u540d\u51fd\u6570\u7684\u5927\u81f4\u8bed\u6cd5\u662f\u8fd9\u6837\u7684:</p> <p><code>func(\u53c2\u6570\u5217\u8868) \u8fd4\u56de\u503c {\u51fd\u6570\u4f53} (\u8c03\u7528\u53c2\u6570)</code></p> <pre><code>c := func(a, b int) int {return a + b} (1, 2) \n// \u8fd9\u91cc c = 3\uff0c\u4e3a int \u7c7b\u578b\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u8981\u533a\u5206\u65b9\u6cd5</p> <p>\u533a\u5206 GET\u3001POST \u7b49\u65b9\u6cd5\u662f\u4e3a\u4e86\u66f4\u597d\u7684\u8bbe\u8ba1\u540e\u7aef\u7684\u63a5\u53e3 (API)\uff0c\u6bd4\u5982\u540c\u4e00\u8def\u5f84\u4e0b\uff0cGET \u65b9\u6cd5\u5f80\u5f80\u7528\u4e8e\u83b7\u53d6\u8d44\u6e90\uff0c\u800c POST \u5f80\u5f80\u7528\u4e8e\u6dfb\u52a0\u8d44\u6e90\u3002(\u5f53\u7136\uff0c\u5176\u4ed6 HTTP \u65b9\u6cd5\u4e5f\u6709\u5bf9\u5e94\u7684\u52a8\u4f5c\uff0c\u4e0d\u8fc7\u5b83\u4eec\u5e38\u5e38\u90fd\u88ab POST \u53ca\u5176\u4e0d\u540c\u7684\u53c2\u6570\u53d6\u4ee3\u4e86)</p>"},{"location":"backend/go/go/#2_1","title":"2. \u63a5\u6536\u524d\u7aef\u4f20\u6765\u7684\u53c2\u6570","text":"<p>\u6211\u4eec\u5df2\u7ecf\u5728\u524d\u6587 fancy \u7248\u672c\u7684 Web \u670d\u52a1\u5668\u4e2d\u5c55\u793a\u4e86\u4e00\u79cd\u5411\u540e\u7aef\u4f20\u9012\u8bf7\u6c42\u53c2\u6570\u7684\u529e\u6cd5\uff0c\u8fd9\u79cd JSON \u4f20\u53c2\u7684\u65b9\u5f0f\u4e00\u822c\u642d\u914d POST \u65b9\u6cd5\u4f7f\u7528\u3002\u4e0b\u6587\u4e3b\u8981\u8bb2\u89e3\u53e6\u5916 2 \u79cd\u4f20\u53c2\u7684\u65b9\u5f0f\uff0c\u5176\u4e2d query string \u548c JSON \u4f20\u53c2\u662f\u8f83\u4e3a\u91cd\u8981\u7684\uff0c\u800c\u8def\u5f84\u4f20\u53c2\u4f5c\u4e3a\u77e5\u8bc6\u8865\u5145\u3002</p> <pre><code>package main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n    \"net/http\"\n    \"strconv\"\n)\n\nfunc main() {\n    r := gin.Default()\n    r.GET(\"/add\", HandleGetAdd)         // \u4f7f\u7528 query string \u7684\u8def\u7531\n    r.Any(\"/:name/:id\", HandleName)     // \u8bbe\u7f6e\u8def\u5f84\u4f20\u53c2\n    r.Run(\":8080\")\n}\n\nfunc HandleGetAdd(g *gin.Context) {\n    a, err := strconv.Atoi(g.Query(\"a\"))\n    if err != nil {\n        g.String(http.StatusBadRequest, \"What are you doing?\\n\")\n        return\n    }\n    b, _ := strconv.Atoi(g.Query(\"b\"))\n    g.String(http.StatusOK, \"The answer is %d\\n\", a+b)\n}\n\nfunc HandleName(g *gin.Context) {\n    name := g.Param(\"name\")\n    id := g.Param(\"id\")\n    g.JSON(200, gin.H{\"name\": name, \"uuid\": id})    // \u8fd4\u56de 200 \u72b6\u6001\u7801\u4e0e\u76f8\u5173\u4fe1\u606f\n}\n</code></pre> <p>\u8fd0\u884c\u5982\u4e0b\u811a\u672c\uff0c\u53ef\u770b\u5230\u6ce8\u91ca\u4e2d\u7684\u8f93\u51fa\u3002</p> <pre><code># GET \u6c42\u548c\uff0c\u6ce8\u610f bash \u4e2d \u2019&amp;\u2018 \u662f\u6709\u7279\u6b8a\u610f\u4e49\u7684\ncurl -X GET '127.0.0.1:8080/add?a=1234&amp;b=2333' # \u8def\u5f84\u53c2\u6570\ncurl -X GET 127.0.0.1:8080/pyz/114514\necho\n# \u8f93\u51fa:\n# The answer is 3567 #{\"name\":\"pyz\",\"uuid\":\"114514\"}\n</code></pre> <ul> <li>Query string \u4f20\u53c2</li> </ul> <p>\u5f62\u5982 127.0.0.1:8080/add?a=1234&amp;b=2333 \u7684\u8bf7\u6c42\u5c31\u662f\u5728\u7528 query string \u4f20\u53c2\u3002</p> <p>Query string \u4f20\u53c2\u4e3b\u8981\u4f7f\u7528\u4e8e GET \u65b9\u6cd5\uff0c\u5728\u67d0\u4e9b\u524d\u7aef\u7684 JS \u5e93\u91cc\u9762\uff0c\u5b83\u53ef\u80fd\u4f1a\u7981\u6b62\u4f60\u5728 GET \u65b9\u6cd5\u65f6\u4f7f\u7528\u8bf7\u6c42\u4f53\u4e2d\u7684 JSON \u4f20\u53c2\u6570\u3002</p> <ul> <li>\u8def\u5f84\u4f20\u53c2</li> </ul> <p>\u8bbf\u95ee\u81ea\u5df1\u7684 B \u7ad9\uff0c\u53ef\u4ee5\u770b\u5230 <code>https://space.bilibili.com/xxxxxxx</code> \u8fd9\u6837\u5f62\u5f0f\u7684 URL\u3002\u8fd9\u79cd ID\uff0c\u540d\u79f0\u7684\u53c2\u6570\u5728\u4e3b\u9875\u5f62\u5f0f\u7684\u8def\u5f84\u4e0a\u7528\u5f97\u8f83\u591a\u3002(\u4ece\u6027\u8d28\u4e0a\u8bb2\uff0c\u5b83\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u5f3a\u5236\u8bf7\u6c42\u8005\u7ed9\u51fa\u7684\u53c2\u6570)</p> <p>\u4f20\u53c2\u6570\u7684\u65b9\u6cd5\u591a\u79cd\u591a\u6837\uff0c\u5728\u9879\u76ee\u63a5\u53e3\u8bbe\u8ba1\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4e00\u822c\u9700\u8981\u4fdd\u6301\u8bbe\u8ba1\u7684\u4e00\u81f4\u6027\uff0c\u5c3d\u91cf\u5408\u4e4e\u5927\u4f17\u7684\u8bbe\u8ba1\u51c6\u5219\u3002</p> <p>\u5173\u4e8e HTTP \u72b6\u6001\u7801</p> <p>\u8fd4\u56de\u65f6\uff0cHTTP \u72b6\u6001\u7801\u7684\u4f5c\u7528\u662f\u5bf9 HTTP \u8bf7\u6c42\u5904\u7406\u505a\u4e00\u4e2a\u6982\u62ec\uff0c2~5 \u5f00\u5934\u7684\u72b6\u6001\u7801\u5206\u522b\u5bf9\u5e94\uff1a\u8bf7\u6c42\u88ab\u6b63\u5e38\u63a5\u6536\u548c\u7406\u89e3 (2xx)\u3001\u8bf7\u6c42\u9700\u8981\u5ba2\u6237\u7aef\u8fdb\u4e00\u6b65\u6267\u884c\u64cd\u4f5c (3xx)\u3001\u8bf7\u6c42\u6709\u9519\u8bef (4xx)\u3001\u5904\u7406\u8bf7\u6c42\u51fa\u73b0\u4e86\u670d\u52a1\u5668\u4fa7\u7684\u95ee\u9898 (5xx)\u3002</p> <p>\u5177\u4f53\u5230\u672c\u8282\u8bfe\u6d89\u53ca\u7684\u4ee3\u7801\uff0c\u90fd\u5e94\u8be5\u8fd4\u56de 200 (<code>StatusOK</code>)\uff0c202 \u8fd9\u6837\u7684\u8fd4\u56de\u4e00\u822c\u7528\u4e8e\u5f02\u6b65\u63a5\u53e3\u3002</p>"},{"location":"backend/go/go/#3-cookie","title":"3. \u4e2d\u95f4\u4ef6\u4e0e Cookie","text":"<p>\u5f53\u6211\u4eec\u60f3\u5b8c\u6210\u4e00\u7cfb\u5217 handler function \u7684\u65f6\u5019\uff0c\u6211\u4eec\u7ecf\u5e38\u53d1\u73b0\uff0c\u6211\u4eec\u9700\u8981\u91cd\u590d\u5f88\u591a\u7684\u903b\u8f91\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u7684\u7f51\u7ad9\u8981\u6c42\u767b\u5f55\u7684\u7528\u6237\u624d\u6709\u6743\u8bbf\u95ee\uff0c\u90a3\u4e48\u5927\u91cf\u7684\u9875\u9762\u90fd\u8981\u6709\u767b\u5f55\u9274\u6743\u7684\u903b\u8f91\uff0c\u6240\u4ee5\u6211\u4eec\u60f3\u628a\u4e00\u4e9b\u7edf\u4e00\u7684\u903b\u8f91\u653e\u5728\u4e00\u8d77\u3002\u66f4\u8fdb\u4e00\u6b65\u5730\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u9274\u6743\u673a\u5236\u5b8c\u6210\u66f4\u4e3a\u9ad8\u7ea7\u7684\u903b\u8f91\u3002</p> <pre><code>package main\n\nimport (\n    \"crypto/sha256\"\n    \"encoding/hex\"\n    \"github.com/gin-gonic/gin\"\n    \"net/http\"\n)\n\nfunc Hash(ip string) string {\n    hasher := sha256.New()\n    hasher.Write([]byte(ip))\n    hash := hex.EncodeToString(hasher.Sum(nil))\n    return hash\n}\n\nfunc main() {\n    r := gin.Default()\n    r.GET(\"login\", HandleLogin)\n    v := r.Group(\"/verified\", Verify)\n    {\n        v.GET(\"/accumulate\", Accumulate)\n        v.GET(\"/multiply\", Multiply)\n    }\n    r.Run(\":8080\")\n}\n\n// \u4f7f\u7528 make \u58f0\u660e\u52a8\u6001\u5927\u5c0f\u7684\u7a7a map\nvar record = make(map[string]int)\n\nfunc Verify(g *gin.Context) {\n    cookie, err := g.Cookie(\"count\")\n    if err != nil {\n        g.String(http.StatusForbidden, \"You did not login!\\n\")\n        g.Abort()\n    }\n    if _, ok := record[cookie]; !ok {       // _ \u4e0b\u5212\u7ebf\u7528\u4e8e\u4e22\u5f03\u4e0d\u4f7f\u7528\u7684\u53d8\u91cf\u3002\u5c3d\u7ba1 Golang \u8981\u6c42\u63a5\u53d7\u6240\u6709\u8fd4\u56de\u53d8\u91cf\uff0c\u5e76\u4e14\u4f7f\u7528\u5b83\u4eec\uff0c\u4f46\u53ef\u4ee5\u7528 _ \u8fd9\u4e2a\u5360\u4f4d\u7b26\u6765\u65e0\u89c6\u6389\u90a3\u4e9b\u4e0d\u60f3\u7528\u7684\u53d8\u91cf\n        g.String(http.StatusOK, \"You did not login!\\n\")\n        g.Abort()\n    }\n    g.Next()\n}\n\nfunc Accumulate(g *gin.Context) {\n    cookie, _ := g.Cookie(\"count\")\n    record[cookie]++\n    times := record[cookie]\n    g.String(http.StatusOK, \"You've logged in %d times\", times)\n}\n\nfunc Multiply(g *gin.Context) {\n    cookie, _ := g.Cookie(\"count\")\n    record[cookie] *= 2\n    times := record[cookie]\n    g.String(http.StatusOK, \"You've logged in %d times\", times)\n}\n\nfunc HandleLogin(g *gin.Context) {\n    ipAddr := g.Request.RemoteAddr\n    ipAddrHash := Hash(ipAddr)\n    if _, ok := record[ipAddrHash]; ok {\n        g.String(http.StatusOK, \"You've Already Logged In!\\n\")\n    } else {\n        record[ipAddrHash] = 0\n        g.SetCookie(\"count\", ipAddrHash, 3600, \"/\", \".\", false, true)\n        g.String(http.StatusOK, \"You logged in!\")\n    }\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u8bbe\u8ba1\u4e86\u5f88\u591a\u4e2a\u77e5\u8bc6\u70b9\uff0c\u4e0b\u9762\u4e00\u4e00\u8fdb\u884c\u8bf4\u660e\uff1a</p> <ol> <li> <p>\u8def\u7531\u7ec4\u7684\u6982\u5ff5\u548c\u4e2d\u95f4\u4ef6</p> <p>\u6211\u4eec\u4f7f\u7528\u4e86 <code>r.Group()</code> \u58f0\u660e\u4e00\u4e2a\u8def\u7531\u7ec4 /verified \uff0c\u5728\u8fd9\u4e2a\u8def\u5f84\u4e0b\u6240\u6709\u7684\u8bbf\u95ee\u90fd\u9700\u8981\u5148\u6267\u884c <code>Verifiy()</code> \u8fd9\u4e00 handler function\u3002</p> <p>Handler function \u662f\u9012\u5f52\u6267\u884c\u7684\uff0c\u53ef\u4ee5\u8ba4\u4e3a <code>.Next()</code> \u662f\u8fd9\u4e2a\u9012\u5f52\u5411\u6df1\u5c42\u7684\u4e00\u4e2a\u6807\u5fd7\uff0c\u800c <code>Abort()</code> \u5219 \u662f\u7ed3\u675f\u6574\u4e2a\u8bbf\u95ee\uff0c\u76f4\u63a5\u8fd4\u56de\uff0c\u7c7b\u4f3c\u9012\u5f52\u4e2d\u7684 <code>return</code>\u3002</p> </li> <li> <p>\u767b\u5f55\u8d4b\u4e88 cookie</p> <p>\u8fd9\u91cc\uff0c\u793a\u4f8b\u4ee3\u7801\u4f7f\u7528\u8bbf\u95ee\u8005 IP \u7684 SHA256 \u5206\u914d cookie \u503c\u3002\u8d4b\u4e88\u7528\u6237\u8fd9\u4e2a cookie \u7684\u540c\u65f6\uff0c\u670d\u52a1\u5668\u7aef\u4e5f\u8981\u4fdd\u5b58\u8fd9\u4e2a cookie \u5230\u5185\u5b58\u4e2d\uff0c\u4ece\u800c\u5b9e\u73b0\u5feb\u901f\u7684\u4fe1\u606f\u83b7\u53d6\u3002\u5728\u8fd9\u91cc\uff0c\u8fd9\u4e2a\u4fe1\u606f\u662f\u7531 <code>record</code> \u8fd9\u4e00 map \u6570\u636e\u7ed3\u6784\u5b58\u50a8\u7684\u3002</p> <p>\u5173\u4e8e Cookie</p> <p>\u6b64\u5904\u6211\u4eec\u4f7f\u7528\u8bbf\u95ee\u8005 IP \u7684 SHA256 \u4f5c\u4e3a cookie\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u59a5\u5f53\u7684\uff0c\u4f46\u4f5c\u4e3a\u793a\u4f8b\u672a\u5c1d\u4e0d\u53ef\u3002\u5728\u5b9e\u9645\u573a\u666f\u4e2d\u4f1a\u6709\u66f4\u7a33\u59a5\u7684\u7b97\u6cd5\u548c\u5408\u9002\u7684 cookie \u8fc7\u671f\u673a\u5236\u3002</p> </li> <li> <p>Cookie \u9274\u6743\u548c\u5b58\u50a8\u4fe1\u606f</p> <p><code>Verify()</code> \u4e2d\u95f4\u4ef6\u4f7f\u7528 cookie \u5b58\u5728\u3001\u4e14\u5728 record \u4e2d\u4f5c\u4e3a\u5408\u6cd5\u767b\u5f55\u7684\u6807\u5fd7\uff0c\u5b9e\u9645\u5e94\u7528\u4e2d\u6211\u4eec\u53ef\u80fd\u8981\u8003\u8651 cookie \u662f\u5426\u8fc7\u671f\u7b49\u5176\u4ed6\u56e0\u7d20\u3002\u4e24\u4e2a\u6570\u503c\u64cd\u4f5c <code>accumulate</code> \u548c <code>multiply</code> \u5219\u5bf9\u7528\u6237\u7684\u4fe1\u606f\u4f5c\u4e86\u8fdb\u4e00\u6b65\u66f4\u6539\u4e0e\u5b58\u50a8\u3002</p> <p>\u8fd9\u770b\u8d77\u6765\u662f\u4e00\u4e2a\u201c\u6709\u8bb0\u5fc6\u7684\u201d\u540e\u7aef\u4e86\uff0c\u4f46\u8fd9\u8fd8\u8fdc\u8fdc\u4e0d\u591f\u2014\u2014\u5b58\u50a8\u5728\u5185\u5b58\u91cc\u7684\u4fe1\u606f\u968f\u7740\u6389\u7535\u5c31\u5c06\u4e22\u5931\u3002\u6211\u4eec\u4e0d\u5e0c\u671b B \u7ad9\u670d\u52a1\u5668\u4e00\u505c\u673a\uff0c\u6536\u85cf\u5939\u91cc\u7684\u4e1c\u897f\u6ca1\u4e86\uff0c\u5b66\u6821\u4e5f\u4e0d\u5e0c\u671b\u670d\u52a1\u5668\u4e00\u505c\u7535\uff0c\u5b66\u751f\u6210\u7ee9\u6ca1\u4e86\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u7528 GORM \u6765\u5bf9\u63a5\u6570\u636e\u5e93\u3002</p> <p>\u5f53\u7136 cookie \u4fe1\u606f\u8fd8\u6709\u53ef\u80fd\u6709\u88ab\u7be1\u6539\u7684\u5371\u9669\uff0c\u6211\u4eec\u9700\u8981\u66f4\u9c81\u68d2\u7684\u65b9\u5f0f\u5206\u7ea7\u5b58\u50a8\u4e0d\u540c\u654f\u611f\u7a0b\u5ea6\u7684\u7528\u6237\u4fe1\u606f\u3002\u6211\u4eec\u9700\u8981\u6211\u4eec\u7684\u540e\u7aef\u548c\u6570\u636e\u5e93\u505a\u4ea4\u4e92\u3002</p> </li> </ol>"},{"location":"backend/go/go/#4-gorm-gorm-automigrate","title":"4. GORM \u548c GORM \u7684 AutoMigrate","text":"<p>\u6211\u4eec\u4ecb\u7ecd GORM \u4f5c\u4e3a\u6211\u4eec\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u7684\u6846\u67b6\uff0cGORM \u6846\u67b6\u4fdd\u7559\u4e86 Go \u7684\u5e76\u53d1\u6027 (\u5982\u679c\u51fa\u4e86 bug\uff0c\u4e00\u822c\u800c\u8a00\u62a5\u9519\u7684 goroutine \u4e0d\u4f1a\u662f 1 \u53f7 goroutine \uff0c\u5373\u4e3b\u8fdb\u7a0b)\uff0c\u6548\u7387\u8f83\u9ad8\uff0c\u540c\u65f6\u8f83\u4e3a\u4eba\u6027\u5316\u5730\u7ef4\u62a4\u4e86\u548c\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff0c\u4f7f\u7f16\u7a0b\u65f6\u4e0d\u5fc5\u8003\u8651\u4fdd\u5b58\u95ee\u9898\u3002 </p> <p>GORM \u91c7\u7528\u4e86\u9ed8\u8ba4\u4e8b\u52a1\u64cd\u4f5c\u7684\u673a\u5236\uff0c\u5e76\u53d1\u5b89\u5168\u6027\u8f83\u9ad8\uff0cGORM \u8fd8\u63d0\u4f9b\u4e86\u8bfb\u5199\u5206\u79bb\u7684\u652f\u6301\uff0c\u66f4\u9002\u5408\u5927\u89c4\u6a21\u7684\u4e1a\u52a1\u3002\u5982\u679c\u5bf9\u6570\u636e\u5e93\u7684\u201c\u4e8b\u52a1\u201d\u6982\u5ff5\u4e0d\u4e86\u89e3\u7684\u8bdd\uff0c\u53ef\u4ee5\u628a\u5b83\u7406\u89e3\u4e3a\u4e0d\u53d7\u5176\u4ed6\u5e76\u884c\u6307\u4ee4\u5e72\u6270\u7684\u4e00\u7cfb\u5217\u6307\u4ee4\u3002</p> <p>\u4e0b\u9762\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff0c\u5c55\u793a GORM \u7684\u4f7f\u7528\u3002\u5982\u679c\u6ca1\u6709\u6570\u636e\u5e93\u76f8\u5173\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u53ef\u4ee5\u5148\u53bb\u9605\u8bfb MySQL \u76f8\u5173\u6559\u7a0b\u3002</p> <pre><code>package main\n\nimport (\n    \"gorm.io/driver/mysql\"\n    \"gorm.io/gorm\"\n    \"log\"\n)\n\ntype StudentInfo struct {\n    Name   string\n    ID     uint\n    secret uint\n}\n\nfunc main() {\n    dsn := \"root:YOUR_USERNAME@(192.168.0.108:3306)/goservertest?charset=utf8mb4&amp;parseTime=True&amp;loc=Local\"  // \u6570\u636e\u5e93\u8fde\u63a5\u4fe1\u606f\n    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})   // \u5efa\u7acb\u8fde\u63a5\n    if err != nil {\n        log.Fatal(err)\n    }\n    if err = db.AutoMigrate(&amp;StudentInfo{}); err != nil {   // migrate \u6a21\u578b\uff0c\u4e0d\u6210\u529f\u5219 Fatal\n        log.Fatal(err)\n    }\n    pyz := StudentInfo{\n        Name:   \"some\",\n        ID:     2020123456,\n        secret: 10,\n    }\n    db.Create(&amp;some)\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5b8c\u6210\u4e86\u4e0e\u6570\u636e\u8fde\u63a5\uff0c\u8fc1\u79fb\u6a21\u578b\uff0c\u65b0\u5efa\u4e00\u4e2a\u6761\u76ee\u4e09\u4ef6\u4e8b\u60c5\u3002</p> <p>\u5982\u679c\u4f60\u4eb2\u81ea\u53bb\u8fd0\u884c\u8fd9\u4e00\u6bb5\u4ee3\u7801\uff0c\u5e76\u67e5\u770b\u4fee\u6539\u540e\u7684\u6570\u636e\u5e93\uff0c\u4f1a\u6ce8\u610f\u5230\u5efa\u7acb\u7684 <code>student_infos</code> \u6570\u636e\u8868\u53ea\u6709\u4e24\u5217\uff0c<code>secert</code> \u4e00\u9879\u4e22\u5931\u4e86\uff0c\u8fd9\u662f\u7531\u4e8e Go \u7684 OOP \u7279\u6027\uff0c\u5c0f\u5199\u6210\u5458\u53d8\u91cf\u79c1\u6709\uff0c\u8fd9\u76f4\u63a5\u5bfc\u81f4\u8fd9\u4e00\u9879\u5c06\u4e0d\u4f1a\u88ab GORM \u8bbf\u95ee\uff0c\u5b58\u653e\u5230\u6570\u636e\u5e93\u4e2d\u3002</p>"},{"location":"backend/go/go/#5","title":"5. \u589e\u5220\u67e5\u6539\u548c\u4e00\u4e9b\u5c0f\u6280\u5de7","text":"<p>\u8fd9\u91cc\u4ec5\u4ec5\u5c55\u793a\u6700\u57fa\u672c\u7684\u589e\u5220\u67e5\u6539\uff0cGORM \u63d0\u4f9b\u4e86 <code>gorm.Model</code> \u6765\u652f\u6301\u8f6f\u5220\u9664\u7b49\u9ad8\u7ea7\u6a21\u578b\u64cd\u4f5c\uff0c\u8fd9\u91cc\u4e0d\u505a\u6d89\u53ca\u3002<code>Ops</code> \u51fd\u6570\u4e2d\u662f\u589e\u5220\u67e5\u6539\u64cd\u4f5c\u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u4e00\u4e2a\u65b9\u6cd5\u662f <code>update</code>\uff0c\u5176\u53ef\u4ee5\u7528\u6765\u4fee\u6539\u5df2\u6709\u6761\u76ee\u7684\u503c\u2014\u2014\u5c3d\u91cf\u4e0d\u8981\u91c7\u7528\u9009\u51fa\u6570\u636e\u5e93\u4e2d\u6761\u76ee\uff0c\u518d\u4f7f\u7528 <code>save</code>\uff0c\u4f9d\u9760\u4e3b\u952e\u51b2\u7a81\u66f4\u65b0\u7684\u65b9\u6cd5\u5b8c\u6210\u8fd9\u4e00\u64cd\u4f5c\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"gorm.io/driver/mysql\"\n    \"gorm.io/gorm\"\n    \"log\"\n    \"strconv\"\n)\n\ntype FindPerson struct {\n    Name   string\n    Gender string\n}\n\ntype ShortInfo struct {\n    Name string\n    ID   uint\n}\n\ntype Person struct {\n    Name   string `gorm:\"type:varchar(20)\"`\n    ID     uint   `gorm:\"not null;autoIncrement\"`\n    Age    uint\n    Gender string `gorm:\"type:varchar(20)\"`\n}\n\nfunc main() {\n    dsn := \"root:YOUR_USERNAME@(192.168.0.108:3306)/goservertest?charset=utf8mb4&amp;parseTime=True&amp;loc=Local\"\n    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})\n    if err != nil {\n        log.Fatal(err)\n    }\n    db.AutoMigrate(&amp;Person{})\n    CreateFromStudent(db)\n    Ops(db)\n}\n\nfunc CreateFromStudent(db *gorm.DB) {\n    var info ShortInfo\n    // \u4ece\u4e00\u4e2a\u6307\u5b9a\u8868\u4e2d\u5bfb\u627e\u4fe1\u606f\n    tx := db.Table(\"student_infos\").Where(\"1=1\").First(&amp;info)\n    if tx.Error != nil {\n        fmt.Println(tx.Error)\n    } else {\n        db.Create(&amp;Person{\n            Name:   info.Name,\n            Age:    20,\n            Gender: \"Male\",\n        })\n    }\n}\n\nfunc Ops(db *gorm.DB) {\n    var stus []Person\n    // batch create\n    for i := 1; i &lt; 10; i++ {\n        p := Person{\n            Name: \"some\" + strconv.Itoa(i),\n            Age:  uint(i),\n        }\n        if i%2 == 0 {\n            p.Gender = \"Male\"\n        } else {\n            p.Gender = \"Female\"\n        }\n        stus = append(stus, p)\n    }\n    db.Create(&amp;stus)\n    // \u5220\u9664\u64cd\u4f5c\uff0c\u8bed\u6cd5\u6709\u5f88\u591a\u79cd\uff0c\u8be6\u89c1\u5b98\u7f51\n    db.Model(&amp;Person{}).Where(\"age=?\", 5).Delete(&amp;Person{})\n\n    // \u5207\u7247\u67e5\u627e\uff0c\u8fd0\u7528\u548c\u6a21\u578b\u76f8\u540c\u540d\u4f46\u66f4\u5c0f\u7684\u6761\u76ee\uff0c\u66f4\u51c6\u786e\u7684\u67e5\u627e\u6240\u9700\u8981\u7684\u6761\u76ee\n    var PersonList []FindPerson\n    db.Model(&amp;Person{}).Where(\"age &lt; ?\", 15).Find(&amp;PersonList)\n    fmt.Println(PersonList)\n    //\u4fee\u6539\n    db.Model(&amp;Person{}).Where(\"gender=?\", \"Male\").Updates(&amp;map[string]interface{}{\n        \"gender\": \"qwq\",\n    })\n}\n</code></pre>"},{"location":"backend/go/go/#_3","title":"\u5982\u4f55\u5b8c\u6210\u4e00\u4e2a\u5e76\u53d1\u4efb\u52a1","text":""},{"location":"backend/go/go/#1","title":"1. \u5e76\u53d1\u5b89\u5168\u6027","text":"<p>\u6211\u4eec\u6765\u8fd0\u884c\u4ee5\u4e0b\u7a0b\u5e8f\u3002\u4f60\u53ef\u4ee5\u9884\u6d4b\u4e00\u4e0b\uff0c\u8f93\u51fa\u7ed3\u679c\u4f1a\u662f\u591a\u5c11\uff1f</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    PrintTask1()\n    time.Sleep(time.Second * 10)\n    fmt.Println(shared)\n}\n\nvar shared = 0\n\nfunc Add(name int) {\n    for i := 0; i &lt; 10000; i++ {\n        shared = shared + 1     // \u5c1d\u8bd5\u628a shared \u7684\u503c + 1\n    }\n    fmt.Printf(\"%dth done!\\n\", name)\n}\n\nfunc PrintTask1() {\n    for i := 0; i &lt; 10; i++ {\n        go Add(i)               // \u4f7f\u7528 go &lt;\u51fd\u6570\u540d\u79f0&gt; \u5f00\u542f\u4e00\u4e2a\u6267\u884c\u51fd\u6570\u7684 goroutine\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u7a0b\u5e8f\uff0c\u53d1\u73b0\u5c3d\u7ba1\u6240\u6709 <code>Add</code> \u51fd\u6570\u90fd\u6267\u884c\u5b8c\u6210\uff0c\u4f46\u7ed3\u679c\u5374\u8fdc\u4e0d\u53ca\u9884\u671f\u7684 10 * 10000 = 100000\uff0c\u800c\u4e14\u6bcf\u6b21\u7684\u7ed3\u679c\u4e0d\u4e00\u81f4\u3002 \u8fd9\u4fbf\u662f\u51fa\u73b0\u4e86\u5e76\u53d1\u95ee\u9898\uff01</p> <p>\u5982\u679c\u4f7f\u7528 <code>go run -race main.go</code> \uff0cGo \u7f16\u8bd1\u5668\u4f1a\u542f\u52a8\u68c0\u6d4b\u8fd0\u884c\u65f6\u7ade\u4e89\u7684\u7f16\u8bd1\u6a21\u5f0f\u3002<code>-race</code> \u62a5\u8b66\u5982\u4e0b:</p> <pre><code>==================\nWARNING: DATA RACE\nRead at 0x0000005cf5c0 by goroutine 7:\nmain.Add() /mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6-\nconcurrency/demo1/main.go:18 +0x3b\n  main.PrintTask1.func1()\n/mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6- concurrency/demo1/main.go:25 +0x39\nPrevious write at 0x0000005cf5c0 by goroutine 8:\n  main.Add()\n/mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6- concurrency/demo1/main.go:18 +0x53\nmain.PrintTask1.func1()\n/mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6- concurrency/demo1/main.go:25 +0x39\nGoroutine 7 (running) created at:\n  main.PrintTask1()\n/mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6- concurrency/demo1/main.go:25 +0x6f\nmain.main() /mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6-\nconcurrency/demo1/main.go:9 +0x29\nGoroutine 8 (finished) created at:\n  main.PrintTask1()\n/mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6- concurrency/demo1/main.go:25 +0x6f\nmain.main() /mnt/c/Users/lipin/Desktop/year_2/\u6691\u57f9/Golang-\u4e0a\u8bfe\u793a\u4f8b\u4ee3\u7801/6-\nconcurrency/demo1/main.go:9 +0x29\n==================\n</code></pre> <p>\u5e76\u4e14\u4ee5 exit status 66 \u9000\u51fa\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0c\u591a\u4e2a goroutine \u5c1d\u8bd5\u4fee\u6539\u5185\u5b58\u4e2d\u540c\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u3002\u7136\u800c\uff0c\u4fee\u6539\u67d0\u4e00\u53d8\u91cf\u7684\u503c\u5e76\u4e0d\u662f\u4e00\u4e2a \u201c\u539f\u5b50\u64cd\u4f5c\u201d\uff0c\u5bf9\u4e8e\u6700\u5e95\u5c42\u7684\u5904\u7406\u5668\u800c\u8a00\uff0c\u9700\u8981\u591a\u4e2a\u6b65\u9aa4\u6765\u5b8c\u6210 (\u4f8b\u5982\u53d6\u503c\u3001\u5bf9\u503c\u8fdb\u884c\u8fd0\u7b97\u3001\u5b58\u50a8\u65b0\u503c)\uff0c\u56e0\u6b64\u4f1a\u51fa\u73b0\u5982\u4e0b\u60c5\u51b5\uff1a</p> <ol> <li> <p>Goroutine 1 \u60f3\u8981\u5c06\u53d8\u91cf\u7684\u503c\u52a0 1\uff0c\u56e0\u6b64\u5f97\u5230\u4e86\u76ee\u524d\u7684\u53d8\u91cf\u503c a\u3002</p> </li> <li> <p>Goroutine 2 \u4e5f\u60f3\u8981\u5c06\u53d8\u91cf\u7684\u503c\u52a0 1\uff0c\u800c\u6b64\u65f6 goroutine 1 \u8fd8\u6ca1\u6709\u5b8c\u6210\u5bf9\u53d8\u91cf\u503c\u7684\u4fee\u6539\uff0c\u56e0\u6b64 goroutine 2 \u4e5f\u5f97\u5230\u4e86\u76ee\u524d\u7684\u53d8\u91cf\u503c a\u3002</p> </li> <li> <p>\u4e24\u4e2a goroutine \u5148\u540e\u5b8c\u6210\u4e86\u8fd0\u7b97\u3001\u5b58\u50a8\u65b0\u503c\u7684\u8fc7\u7a0b\uff0c\u4f46\u662f\u6700\u7ec8\u5f97\u5230\u7684\u53d8\u91cf\u503c\u53ea\u662f a + 1, \u4e0e\u9884\u671f\u7684 a + 2 \u4e0d\u7b26\u3002</p> </li> </ol> <p>\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u6ca1\u6709 goroutine \u8fd9\u4e00\u6982\u5ff5\uff0c\u4f46\u5e76\u53d1\u5b89\u5168\u7684\u95ee\u9898\u4e5f\u5e7f\u6cdb\u5b58\u5728\uff0c\u5f80\u5f80\u662f\u5404\u4e2a\u7ebf\u7a0b\u95f4\u7684\u7ade\u4e89\u3002</p> <p>\u968f\u673a\u6570\uff1f</p> <p>\u5c3d\u7ba1\u8fd9\u4e2a\u7ed3\u679c\u6709\u4e00\u5b9a\u7684\u968f\u673a\u6027\uff0c\u4f46\u8bf7\u4e0d\u8981\u62ff\u5b83\u505a\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u56e0\u4e3a\u8fd9\u79cd\u7ade\u6001\u8bbf\u95ee\u8fd8\u662f\u6709\u4e00\u5b9a\u89c4\u5f8b\u53ef\u5faa\u7684\u3002</p>"},{"location":"backend/go/go/#2_2","title":"2. \u9501","text":"<p>\u9501\u662f\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\u7684\u4e00\u4e2a\u65b9\u6848\u3002\u6b63\u5982\u5b83\u7684\u540d\u5b57\u6240\u8a00\uff0c\u5bf9\u4e8e\u5168\u5c40\u7684\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5b83\u4e0a\u4e00\u4e2a\u201c\u9501\u201d\uff0c\u6709\u9501\u7684\u4eba\u53ef\u4ee5\u5bf9\u5b83\u4fee\u6539\uff0c\u6ca1\u6709\u9501\u7684\u4eba\u53ea\u80fd\u5728\u4e00\u8fb9\u770b\u7740\u3002Go \u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684\u9501\uff0c\u5b83\u81ea\u52a8\u5b8c\u6210\u4e86\u53d6\u9501\u4e0d\u6210\u7684\u963b\u585e\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n    \"time\"\n)\n\nfunc main() {\n    PrintTask1()\n    time.Sleep(time.Second * 10)\n    fmt.Println(shared)\n}\n\nvar shared = 0\nvar m sync.Mutex    // \u58f0\u660e\u4e00\u4e2a\u9501\n\nfunc Add(name int) {\n    for i := 0; i &lt; 10000; i++ {\n        m.Lock()    // \u4e0a\u9501\uff0c\u53ea\u6709\u6211\u80fd\u6539\uff01\n        shared = shared + 1\n        m.Unlock()  // \u4ea4\u51fa\u9501\uff0c\u5141\u8bb8\u5176\u4ed6\u4eba\u4fee\u6539\n    }\n    fmt.Printf(\"%dth done!\\n\", name)\n}\nfunc Add2(name int) {\n    for i := 0; i &lt; 10000; i++ {\n        // m.Lock()\n        shared = shared + 1\n        // m.Unlock()\n    }\n    fmt.Printf(\"%dth done!\\n\", name)\n}\n\nfunc PrintTask1() {\n    for i := 0; i &lt; 10; i++ {\n        go Add(i)\n    }\n}\n</code></pre> <p>\u5173\u4e8e\u9501\u7684\u7406\u89e3</p> <p>\u9996\u5148\uff0c\u9501\u662f\u4e00\u4e2a\u7ea6\u5b9a\uff0c\u4f60\u603b\u53ef\u4ee5\u5199\u4e00\u6bb5\u4e0d\u4f7f\u7528\u9501\uff0c\u76f4\u63a5\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u7684\u4ee3\u7801\u3002(\u5f53\u7136\uff0c\u53ef\u4ee5\u58f0\u660e\u4e00\u4e9b\u81ea\u5e26\u9501\u7684\u53d8\u91cf\uff0c\u5bf9\u4e8e\u4ed6\u4eec\u7684\u8bbf\u95ee\u90fd\u4f1a\u88ab\u91cd\u8f7d\u4e3a\u5148\u83b7\u5f97\u9501\uff0c\u518d\u8bbf\u95ee)</p> <p>\u5176\u6b21\uff0c\u9501\u662f\u4e00\u4e2a\u4e0d\u540c\u7ebf\u7a0b\u4e4b\u95f4\u7684\u7ea6\u5b9a\uff0c\u5b83\u4ee3\u8868\u4e86\u6267\u884c\u4e00\u4e2a\u516c\u5171\u64cd\u4f5c (\u4ee3\u7801\u4e2d\uff0c\u8fd9\u4e2a\u201c\u516c\u5171\u64cd\u4f5c\u201d\u662f\u5bf9 shared \u8fd9\u4e2a\u53d8\u91cf\u52a0 1) \u7684\u673a\u4f1a\uff0c\u5c3d\u7ba1\u8fd9\u4e2a\u64cd\u4f5c\u80fd\u88ab\u5f88\u591a\u4e2a\u7ebf\u7a0b (\u6216\u8005\u662f goroutine) \u6267\u884c\uff0c\u4f46\u6211\u4eec\u5e0c\u671b\u5b83\u5728\u67d0\u4e00\u4e2a\u65f6\u523b\u81f3\u591a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u6267\u884c\u3002\u6240\u4ee5\u53ef\u4ee5\u8ba4\u4e3a\u9501\u7684\u7ba1\u63a7\u8303\u56f4\u662f\u6267\u884c\u8fd9\u4e2a\u516c\u5171\u64cd\u4f5c\u7684\u673a\u4f1a\u3002</p> <p>\u6700\u540e\uff0c\u867d\u7136\u770b\u8d77\u6765\u9501\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u548c\u5176\u4ed6\u7684\u5168\u5c40\u53d8\u91cf\u6ca1\u4ec0\u4e48\u533a\u522b\uff0c\u4f46\u4e0d\u80fd\u7528\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u66ff\u4ee3\u5b83\uff0c\u6267\u884c\u5b83\u7684\u529f\u80fd\u3002\u56e0\u4e3a\u9501\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8e\u66f4\u5e95\u5c42\u7684\u5e2e\u52a9\uff0c\u6bd4\u5982\u7ebf\u7a0b\u7ea7\u522b\u7684\u9501\u53ef\u80fd\u4f9d\u8d56\u64cd\u4f5c\u7cfb\u7edf\u7684\u8c03\u5ea6\uff0c\u6765\u5b9e\u73b0\u4e92\u65a5\u7684\u8bbf\u95ee\u3002</p>"},{"location":"backend/go/go/#3-produce-consume","title":"3. Produce-Consume","text":"<p>\u8fd9\u662f\u4e0a\u8ff0\u95ee\u9898\u7684\u53e6\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u5982\u679c\u6211\u4eec\u628a\u4e3a\u5168\u5c40\u53d8\u91cf\u52a0\u4e00\u770b\u4f5c\u4e00\u4e2a\u4efb\u52a1\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u4e13\u95e8\u8bbe\u7acb\u4e00\u4e2a\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\u7684 worker\u3002\u5176\u4ed6\u8fdb\u7a0b\u901a\u8fc7 channel \u548c worker \u901a\u4fe1\uff0c\u628a\u4ed6\u4eec\u7684\u4efb\u52a1\u4ea4\u7ed9\u8fd9\u4e2a worker \u6765\u505a\u3002</p> <p>\u5c3d\u7ba1\u5728\u8fd9\u4e2a\u573a\u666f\u4e0b\uff0c\u4f7f\u7528 worker \u770b\u8d77\u6765\u6709\u70b9\u591a\u6b64\u4e00\u4e3e\uff0c\u4f46\u662f\u5728\u540e\u7aef\u642d\u5efa\u4e2d\uff0c\u8fd9\u6837\u7684\u601d\u8def\u662f\u5341\u5206\u5e38\u89c1\u7684\u3002\u6bd4\u5982\uff0c\u6211\u60f3\u5b8c\u6210\u4e00\u4e2a\u4ece\u89c6\u9891\u7f51\u7ad9\u81ea\u52a8\u4e0b\u8f7d\u89c6\u9891\u7684\u5b58\u50a8\u5668\uff0c\u6211\u53ef\u80fd\u53ea\u5e0c\u671b\u5728\u524d\u7aef\u8f93\u5165\u89c6\u9891\u7684\u540d\u5b57\uff0c\u89c6\u9891\u5728\u540e\u53f0\u5b8c\u6210\u4e0b\u8f7d\uff0c\u5f53\u524d\u7684\u9875\u9762\u5e94\u8be5\u6709\u4e00\u4e2a\u8fc5\u901f\u7684\u8fd4\u56de\u503c\u3002\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u4ece\u6211\u4eec\u7684 handler function \u4e2d\uff0c\u901a\u8fc7\u7ba1\u9053\uff0c\u628a\u89c6\u9891\u76f8\u5e94\u7684\u4fe1\u606f\u4f20\u7ed9 worker \uff0c\u7531 worker \u4e00\u4e2a\u4e00\u4e2a\u5b8c\u6210\u4e0b\u8f7d\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\ntype task struct {\n    Producer int\n    Content  int\n}\n\nvar shared = 0\nvar work_channel = make(chan task, 10000)   // \u58f0\u660e\u4e00\u4e2a\u5bb9\u91cf\u4e3a 10000 \u7684\u975e\u963b\u585e\u7ba1\u9053\n\nfunc main() {\n    for i := 0; i &lt; 10; i++ {\n        go Produce(i)\n    }\n    go Work()\n    time.Sleep(time.Second * 10)\n    fmt.Println(shared)\n}\n\nfunc Produce(i int) {\n    for j := 0; j &lt; 10000; j++ {\n        work_channel &lt;- task{               // \u5411\u7ba1\u9053\u4e2d\u6dfb\u52a0\u4efb\u52a1\n            Producer: i,\n            Content:  j,\n        }\n    }\n}\n\nfunc NotDone(arr [10]int) bool {\n    for i := 0; i &lt; 10; i++ {\n        if arr[i] != 10000 {\n            return true\n        }\n    }\n    return false\n}\n\nfunc Work() {\n    var arr = [10]int{0}\n    for NotDone(arr) {\n        t := &lt;-work_channel\n        arr[t.Producer]++\n        shared++\n    }\n    fmt.Println(\"Done!\")\n}\n</code></pre>"},{"location":"backend/go/go/#_4","title":"\u90e8\u7f72","text":"<p>\u5bf9\u4e8e Go \u540e\u7aef\u800c\u8a00\uff0c\u6709\u4e24\u79cd\u5e38\u89c1\u7684\u90e8\u7f72\u65b9\u5f0f:</p> <ol> <li> <p>\u76f4\u63a5\u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5728\u540e\u7aef\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\uff0c\u8fd9\u662f naive \u7684\u90e8\u7f72\u65b9\u6cd5\uff0c\u4e3b\u8981\u9002\u7528\u4e8e\u7eaf\u540e\u7aef\u7684\u573a\u666f\u3002 \u5f53\u524d\u7aef\u7684\u8d1f\u8f7d\u5747\u8861\uff0c\u524d\u540e\u7aef\u6c9f\u901a\u5728\u4e00\u4e2a\u5185\u7f51\u65f6\uff0c\u8fd9\u5c31\u8db3\u591f\u4e86\u3002(\u8f6f\u5de5\u8bfe\u5c31\u662f\u8fd9\u6837\u7684)</p> </li> <li> <p>\u7ed3\u5408 Docker \u505a\u90e8\u7f72\uff0c\u8bf7\u53c2\u8003\u7f51\u7ad9\u5185 Docker \u6559\u7a0b (\u53ef\u80fd\u5c1a\u672a\u66f4\u65b0)\u3002</p> </li> </ol>"},{"location":"backend/go/go/#_5","title":"\u540e\u7eed\u62d3\u5c55","text":"<ul> <li>\u4e86\u89e3 RESTful API \u7684\u6982\u5ff5\uff1aWhat is REST</li> <li>\u4e86\u89e3 Go \u540e\u7aef\u7684 Redis </li> <li>\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5</li> <li>\u6df1\u5165\u4e86\u89e3 Gin\u3001GORM (\u53ef\u4ee5\u53c2\u8003\u8d44\u6e90\u94fe\u63a5\u4e2d\u7684\u6750\u6599)</li> </ul>"},{"location":"backend/go/go/#_6","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>The Go Programing Language\uff0c\u4e2d\u6587\u7248\u89c1 Go \u8bed\u8a00\u5723\u7ecf\u4e2d\u6587\u7248</li> <li>Go \u8bed\u8a00\u5b98\u65b9\u6587\u6863</li> <li>GORM \u4e2d\u6587\u5b98\u7f51</li> <li>Gin \u6846\u67b6 repo \u4e2d\u7684 readme\uff0c\u6587\u4ef6\u4e2d\u6709\u5f88\u591a\u4f7f\u7528\u793a\u4f8b\u3002Repo \u94fe\u63a5\uff1agin-gonic/gin</li> </ul>"},{"location":"basic/","title":"\u57fa\u672c\u6280\u80fd","text":"<p>\u8fdb\u5165\u8ba1\u7b97\u673a\u9886\u57df\u7684\u4e00\u4e9b\u57fa\u672c\u7684\u5b66\u4e60\u6280\u80fd\u548c\u5b66\u4e60\u5de5\u5177\uff0c\u4ece\u5982\u4f55\u8bb0\u7b14\u8bb0\u3001\u7801\u4ee3\u7801\uff0c\u5230\u5982\u4f55\u4f7f\u7528\u597d\u4f60\u7684\u7535\u8111\u3001\u5982\u4f55\u7ba1\u7406\u4f60\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u91cc\u7684\u6587\u6863\u80fd\u63d0\u4f9b\u4e00\u4e9b\u5e2e\u52a9\u3002</p> <p>\u4e0d\u5b8c\u5584\u7684\u6761\u76ee</p> <p>\u6211\u4eec\u5e0c\u671b\u6709\u66f4\u591a\u7684\u7f16\u5199\u8005\u4e3a\u8fd9\u4e00\u90e8\u5206\u7f16\u5199\u6587\u6863\u3002</p>"},{"location":"basic/git/","title":"Git\uff1a\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u8f6f\u4ef6","text":"<p>\u4ec0\u4e48\u662f\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u8f6f\u4ef6</p> <p></p> <p>\u5728\u4ee3\u7801\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u603b\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002\u4ee3\u7801\u4e0d\u77e5\u9053\u6539\u4e86\u54ea\u91cc\u4e0d\u80fd\u8fd0\u884c\u4e86\uff0c\u60f3\u8981\u56de\u9000\u600e\u4e48\u529e\uff1f\u591a\u4e2a\u4eba\u540c\u65f6\u60f3\u5bf9\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\uff08\u5e76\u884c\u5f00\u53d1\uff09\uff0c\u5f00\u53d1\u5b8c\u540e\u600e\u4e48\u5408\u5e76\uff1f\u663e\u7136\uff0c\u6709\u4e00\u4e2a\u80fd\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u7684\u5de5\u5177\u5c06\u6781\u5927\u7684\u52a0\u5feb\u6211\u4eec\u5f00\u53d1\u7684\u901f\u5ea6\u3002\u800c\u8fd9\u79cd\u5de5\u5177\uff0c\u4fbf\u662f\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u3002</p> <p>\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u5e2e\u52a9\u4f7f\u7528\u8005\u627e\u51fa\uff1a</p> <ul> <li>\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u7684\u5dee\u5f02</li> <li>\u8c01\u505a\u51fa\u4e86\u8fd9\u4e2a\u4fee\u6539</li> <li>\u4ec0\u4e48\u65f6\u5019\u505a\u51fa\u4e86\u8fd9\u4e2a\u4fee\u6539</li> <li>\u505a\u51fa\u4fee\u6539\u7684\u4eba\u7ed9\u51fa\u7684\u4fee\u6539\u7406\u7531</li> </ul> <p>\u90a3\u4e48\uff0c\u4ec0\u4e48\u662f\u5206\u5e03\u5f0f\u7684\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u5462\uff1f\u4e3a\u4e86\u4e86\u89e3\u6e05\u695a\uff0c\u6211\u4eec\u9700\u8981\u533a\u5206\u4e2d\u592e\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u548c\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7684\u533a\u522b\u3002</p> <p>\u4e2d\u592e\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u5fc5\u987b\u540c\u65f6\u5b58\u5728\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u3002\u5f53\u8fdb\u884c\u4ee3\u7801\u5907\u4efd\u65f6\uff0c\u5ba2\u6237\u7aef\u4f1a\u5411\u670d\u52a1\u7aef\u53d1\u51fa\u8bf7\u6c42\uff0c\u5e76\u5c06\u6b64\u6b21\u4fee\u6539\u7684\u5185\u5bb9\u53d1\u9001\u5230\u670d\u52a1\u5668\u5f53\u4e2d\u53bb\uff0c\u670d\u52a1\u7aef\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u4f1a\u5c06\u4ee3\u7801\u5b58\u50a8\u5728\u670d\u52a1\u5668\u5f53\u4e2d\uff1b\u540c\u6837\u5f53\u5ba2\u6237\u7aef\u60f3\u67e5\u770b\u67d0\u4e00\u4e2a\u7248\u672c\u7684\u4fee\u6539\u5185\u5bb9\u6216\u8005\u60f3\u6062\u590d\u5230\u67d0\u4e00\u4e2a\u7248\u672c\u4e4b\u65f6\uff0c\u5ba2\u6237\u7aef\u4e5f\u4f1a\u53d1\u9001\u8bf7\u6c42\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u5728\u7aef\u63a5\u6536\u5230\u8bf7\u6c42\u4e4b\u540e\u4f1a\u505a\u51fa\u76f8\u5e94\u7684\u5904\u7406\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u4e1a\u52a1\u6d41\u7a0b\u8fc7\u7a0b\u4e2d\uff0c\u670d\u52a1\u7aef\u5fc5\u987b\u5b58\u5728\uff0c\u6240\u6709\u8bf7\u6c42\u5fc5\u987b\u7ecf\u8fc7\u670d\u52a1\u7aef\u7684\u5904\u7406\u3002</p> <p>\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u5668\uff0c\u4e3b\u8981\u662f\u5c06\u5907\u4efd\u7684\u4ee3\u7801\u4ee5\u53ca\u8bb0\u5f55\u5b8c\u5168\u72ec\u7acb\u5728\u672c\u5730\u5b58\u50a8\u3002\u6bd4\u5982\u8bf4\u5f53\u4f60\u60f3\u5c06\u4ee3\u7801\u6062\u590d\u5230\u67d0\u4e00\u4e2a\u7248\u672c\u7684\u65f6\u5019\uff0c\u672c\u5730\u7248\u672c\u63a7\u5236\u5668\u4e0d\u9700\u8981\u4f9d\u8d56\u7f51\u7edc\u4fbf\u53ef\u4ee5\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u56e0\u4e3a\u672c\u5730\u7248\u672c\u63a7\u5236\u5668\u62e5\u6709\u5b8c\u6574\u72ec\u7acb\u7684\u4e00\u5957\u63a7\u5236\u7cfb\u7edf\u3002</p> <p>Excerpted from https://www.imooc.com/read/51/article/1008.</p> <p>\u4ec0\u4e48\u662f Git</p> <p>Git \u662f Linux\uff08\u4e00\u79cd\u7a0b\u5e8f\u5458\u70ed\u7231\u7684\u64cd\u4f5c\u7cfb\u7edf\uff09\u4e4b\u7236 Linus Torvalds \u4e3a\u5f00\u53d1 Linux \u5185\u6838\u800c\u5efa\u7acb\u7684\u4e00\u4e2a\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u3002</p> <p>Git \u9664\u4e86\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u672c\u8eab\u7684\u4f18\u52bf\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\uff1a</p> <ul> <li>\u901a\u8fc7\u67e5\u770b <code>git history</code>\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u9879\u76ee\u5f00\u53d1\u7684\u65f6\u95f4\u7ebf</li> <li>\u901a\u8fc7 <code>git branch</code>\uff08\u5206\u652f\uff09\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5728\u4e0d\u7528\u62c5\u5fc3\u5f71\u54cd\u4e3b\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5f00\u53d1</li> </ul>"},{"location":"basic/git/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u547d\u4ee4\u884c\u547d\u4ee4\u7684\u4f7f\u7528\u64cd\u4f5c</li> <li>\u613f\u610f\u52a8\u624b\u5b9e\u8df5\u7684\u51b3\u5fc3\uff08\u591a\u5c1d\u8bd5\uff09</li> <li>\u505a\u597d\u7b14\u8bb0\u6574\u7406\u4e0e\u603b\u7ed3\u7684\u80fd\u529b\uff08\u9057\u5fd8\u540e\u4fbf\u4e8e\u5feb\u901f\u56de\u5fc6\uff09</li> </ul>"},{"location":"basic/git/#_2","title":"\u4ece\u5b89\u88c5\u4e0e\u914d\u7f6e\u5f00\u59cb","text":""},{"location":"basic/git/#windows","title":"Windows","text":"<p>\u7f16\u8f91\u5668</p> <p>Git \u9700\u8981\u7ed1\u5b9a\u6587\u672c\u7f16\u8f91\u5668\u4f7f\u7528\uff0c\u81ea\u5e26\u652f\u6301\u4ee5\u4e0b\u7f16\u8f91\u5668\uff1a</p> <ul> <li>Nano</li> <li>Vim</li> <li>Notepad++</li> <li>VS Code</li> <li>Sublime</li> <li>Atom</li> <li>VS Codium</li> </ul> <p>\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5\u4e0a\u8ff0\u6587\u672c\u7f16\u8f91\u5668\uff0c\u90a3\u4e48\u4f60\u4f7f\u7528\u7684\u5f88\u53ef\u80fd\u662f\u2edb\u8bc4\u5e76\u4e0d\u597d\u7684\u8bb0\u4e8b\u672c\uff08\u82f1\u6587\uff1aNotepad\uff09\uff0c\u4e0d\u5efa\u8bae\u62ff\u5b83\u4f5c\u4e3a Git \u7684\u7ed1\u5b9a\u7f16\u8f91\u5668\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5efa\u8bae\u4f7f\u7528 Notepad++\uff0c\u5b83\u7684\u64cd\u4f5c\u4e0e\u754c\u9762\u53ef\u4ee5\u548c\u8bb0\u4e8b\u672c\u5b9e\u73b0\u5f88\u597d\u7684\u8fc7\u6e21\u3002\u53ef\u4ee5\u4f7f\u7528 \u79d1\u534f\u4e91\u76d8\u4e0b\u8f7d\u94fe\u63a5 \u4e0b\u8f7d\uff0c\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5168\u90e8\u70b9\u201c\u4e0b\u4e00\u6b65\u201d\uff08\u6216\u540c\u4f4d\u7f6e\u7684\u6309\u94ae\uff09\u5373\u53ef\u3002\u5b8c\u6210\u4e4b\u540e\u4f60\u5c06\u548c\u8bb0\u4e8b\u672c\u6c38\u8fdc\u544a\u522b\uff0c\u6253\u5f00\u6587\u672c\u6587\u4ef6\u7684\u9ed8\u8ba4\u65b9\u5f0f\u4f1a\u53d8\u6210 Notepad++\u3002</p> <p>\u4e0b\u8f7d</p> <ul> <li>\u5b89\u88c5\u5305\u4e0b\u8f7d\u5730\u5740\uff1ahttps://gitforwindows.org/</li> <li>\u56fd\u5185\u955c\u50cf\uff1ahttps://npm.taobao.org/mirrors/git-for-windows/</li> <li>\u6e05\u534e\u955c\u50cf\uff08\u6821\u5185\u8bbf\u95ee\u8f83\u5feb\uff09\uff1ahttps://mirrors.tuna.tsinghua.edu.cn/github-release/git-for-windows/git/</li> </ul> <p>\u5b89\u88c5</p> <p>\u4e0b\u9762\u5185\u5bb9\u82f1\u6587\u5927\u4f6c\u6216\u8005\u719f\u7ec3\u638c\u63e1\u4e86 <code>git config</code> \u6307\u4ee4\uff08\u4e43\u81f3\u4f1a\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff09\u7684\u540c\u5b66\u53ef\u4ee5\u5ffd\u7565\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5927\u90e8\u5206\u9009\u9879\uff0c\u76f4\u63a5\u70b9 Next \u5373\u53ef\u3002\u4f46\u662f\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\uff1a\u7f16\u8f91\u5668\u548c\u6362\u884c\u7b26\u3002</p> <p>\u7f16\u8f91\u5668\u9ed8\u8ba4\u9009\u9879\u662f Vim\uff0c\u5982\u679c\u6ca1\u6709 Vim \u7ecf\u9a8c\u7684\u540c\u5b66\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u719f\u6089\u7684\u7f16\u8f91\u5668\uff08\u5982\u4e0a\u9762\u63d0\u5230\u7684 NotePad++\uff09\u3002</p> <p></p> <p>\u5bf9\u4e8e\u6362\u884c\u7b26\uff0c\u5728 Windows \u4e2d\uff0c\u9ed8\u8ba4\u7684\u6362\u884c\u662f CRLF\uff0c\u4f46\u5b9e\u9645\u5f00\u53d1\u65f6\uff0c\u901a\u5e38\u4f1a\u53d1\u73b0\u5927\u5bb6\u4e00\u81f4\u4f7f\u7528 LF\u3002\u5173\u4e8e CRLF \u548c LF \u7684\u533a\u522b\u6211\u4eec\u5728\u8fd9\u91cc\u4e0d\u518d\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u56e0\u4e3a\u8bfb\u8005\u5728\u300a\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u4e2d\u5df2\u4e86\u89e3\u8fc7\u76f8\u5173\u5185\u5bb9\u3002</p> <p>\u5bf9\u4e8e\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u6362\u884c\u7b26\u7684\u914d\u7f6e\uff0c\u8fd9\u91cc Checkout \u8868\u793a\u4ece\u4ed3\u5e93\u4e2d\u62c9\u53d6\u7684\u4ee3\u7801\u662f\u4ee5\u4ec0\u4e48\u6362\u884c\u7b26\u7ed3\u5c3e\uff0cCommit \u8868\u793a\u4f60\u63d0\u4ea4\u7684\u4ee3\u7801\u662f\u4ee5\u4ec0\u4e48\u6362\u884c\u7b26\u7ed3\u5c3e\uff0cas-is \u662f\u8bf4\u6362\u884c\u7b26\u4fdd\u6301\u539f\u6837\u3002</p> <p>\u6211\u4eec\u63a8\u8350\u7684\u9009\u9879\u662f\u6839\u636e\u4eca\u540e\u7684\u5e94\u7528\u573a\u666f\u6765\u9009\u62e9\u3002\u5982\u679c\u56e2\u961f\u4e2d\u65e2\u6709 Windows \u9009\u624b\u53c8\u6709 Linux \u9009\u624b\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u7b2c\u4e09\u9879\uff08\u5373\u6539\u52a8\u6700\u5c0f\u539f\u5219\uff0c\u6211\u4eec\u5e76\u4e0d\u60f3\u56e0\u4e3a Commit \u65f6\u6362\u884c\u7b26\u7684\u95ee\u9898\u8986\u76d6\u6389\u5176\u4ed6\u5f00\u53d1\u8005\u7684\u8d21\u732e\uff09\u3002\u5f53\u7136\u5982\u679c\u56e2\u961f\u4e2d\u7684\u5404\u4f4d\u505a\u8fc7\u7ea6\u5b9a\uff0c\u5927\u5bb6\u7edf\u4e00\u4ee5 LF \u4e3a\u6362\u884c\u7b26\u4e3a\u7ed3\u5c3e\u5f00\u53d1\uff0c\u63d0\u4ea4\u7684\u4ee3\u7801\u4e5f\u53ea\u80fd\u662f LF \u7ed3\u5c3e\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u9009\u62e9\u7b2c\u4e00\u9879\u6216\u8005\u7b2c\u4e8c\u9879\u3002</p> <p>\u6ce8\u610f\uff0c\u8fd9\u4e2a\u8bbe\u7f6e\u6211\u4eec\u63a8\u8350\u9ed8\u8ba4\u9009\u62e9\u7b2c\u4e09\u9879\uff0c\u7136\u540e\u5bf9\u4e8e\u6709\u9700\u8981\u7684\u9879\u76ee\u5206\u522b\u914d\u7f6e\uff1a</p> <pre><code>git config core.autocrlf true/input/false\n</code></pre> <p>\u5176\u4e2d <code>true</code>, <code>input</code>, <code>false</code> \u5206\u522b\u5bf9\u5e94\u7b2c\u4e00\uff0c\u7b2c\u4e8c\uff0c\u7b2c\u4e09\u9879\u3002</p> <p></p>"},{"location":"basic/git/#debianubuntu","title":"Debian/Ubuntu","text":"<pre><code>apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \napt-get install git\n</code></pre>"},{"location":"basic/git/#centosredhat","title":"Centos/RedHat","text":"<pre><code>yum install curl-devel expat-devel gettext-devel \nyum install git-core\n</code></pre>"},{"location":"basic/git/#mac","title":"Mac","text":"<p>\u4e00\u822c Mac \u5e73\u53f0\u662f\u81ea\u5e26 Git \u7684\u3002</p> <p>\u5982\u679c\u5b9e\u5728\u6ca1\u6709\u5728 Mac \u5e73\u53f0\u4e0a\u5b89\u88c5 Git \u6700\u5bb9\u6613\u7684\u5f53\u5c5e\u4f7f\u7528\u56fe\u5f62\u5316\u7684 Git \u5b89\u88c5\u5de5\u5177\uff0c\u4e0b\u8f7d\u5730\u5740\u4e3a http://sourceforge.net/projects/git-osx-installer/\u3002</p> <p>\u6709 Homebrew \u7684\u540c\u5b66\u4e5f\u53ef\u4ee5\u7528 <code>brew install git</code> \u5b89\u88c5\uff08\u6216\u8005\u81ea\u5b66\u600e\u4e48\u5b89\u88c5 Homebrew\uff09\u3002</p>"},{"location":"basic/git/#git_1","title":"\u914d\u7f6e Git","text":"<p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u53ef\u4ee5\u914d\u7f6e\u81ea\u5df1\u5728 git \u4e2d\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>git config</code> \u547d\u4ee4\u6309\u81ea\u5df1\u7684\u559c\u597d\u914d\u7f6e\u66f4\u591a\u4e1c\u897f\u3002</p> <pre><code>git config --global user.name &lt;name&gt;\ngit config --global user.email &lt;email-address&gt;\n</code></pre>"},{"location":"basic/git/#_3","title":"\u57fa\u7840\u64cd\u4f5c","text":"<ul> <li>Repo(sitory) \u7b80\u4ecb</li> </ul> <p>\u5305\u542b\u4e86\u4e00\u4e2a\u9879\u76ee\u7684\u6240\u6709\u6587\u4ef6\u3001\u6587\u4ef6\u5939\u3002\u6bcf\u4e2a\u6587\u4ef6\u7684\u4fee\u6539\u3001\u5220\u9664\uff0cGit \u90fd\u80fd\u8ddf\u8e2a\uff0c\u4ee5\u4fbf\u4efb\u4f55\u65f6\u523b\u90fd\u53ef\u4ee5\u8ffd\u8e2a\u5386\u53f2\uff0c\u6216\u8005\u5728\u5c06\u6765\u67d0\u4e2a\u65f6\u523b\u53ef\u4ee5\u201c\u8fd8\u539f\u201d\u3002\uff08\u53ef\u4ee5\u7406\u89e3\u6210\u4ee3\u7801\u7684\u6587\u4ef6\u6839\u76ee\u5f55\uff09</p> <ul> <li>\u521b\u5efa\u4ed3\u5e93</li> </ul> <p>\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\u5939\u4f5c\u4e3a\u4f60\u7684\u7b2c\u4e00\u4e2a Repo\uff0c\u5728\u547d\u4ee4\u884c\u4e2d\u8fdb\u5165\u8be5\u6587\u4ef6\u5939\uff0c\u8f93\u5165 <code>git init</code>\uff0c\u4ee5\u4f7f\u7528 Git \u6765\u7ba1\u7406\u8fd9\u4e2a\u6587\u4ef6\u5939\u3002\uff08\u521d\u59cb\u5316 Repo \u4ed3\u5e93\uff09</p> <p></p> <ul> <li>\u6dfb\u52a0\u6587\u4ef6</li> </ul> <p>\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e2d\u6dfb\u52a0\u6587\u4ef6\uff08\u4f8b\u5982\u6211\u4eec\u5199\u4e86\u4e00\u4e2a <code>test.py</code>\uff09\uff0c\u4f7f\u7528 <code>git add test.py</code> \u5c06\u6587\u4ef6\u5230\u76ee\u524d\u4e3a\u6b62\u7684\u4fee\u6539\u653e\u5165 Git \u7684\u6682\u5b58\u533a\u3002</p> <p></p> <p>\u4e00\u6b21\u6027\u6dfb\u52a0\u5de5\u4f5c\u73af\u5883\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4f7f\u7528 <code>git add .</code>\u3002</p> <ul> <li>\u8bb0\u5f55\u4fee\u6539</li> </ul> <p>\u5f53\u6240\u6709\u7684\u4fee\u6539\u90fd\u7528 <code>git add</code> \u52a0\u5165\u5230\u6682\u5b58\u533a\u540e\uff0c\u5c31\u4f7f\u7528 <code>git commit \u2013m \"...\"</code> \u5c06\u6240\u6709\u7684\u6682\u5b58\u533a\u91cc\u7684\u4fee\u6539\u63d0\u4ea4\u81f3\u672c\u5730\u4ed3\u5e93\uff0c\u7701\u7565\u53f7\u5904\u586b\u5199\u8fd9\u6b21\u7248\u672c\u8fed\u4ee3\u90fd\u5e72\u4e86\u4ec0\u4e48\u3002</p> <p></p> <ul> <li>\u7248\u672c\u8fed\u4ee3</li> </ul> <p>\u4e3a\u4e86\u5c55\u793a Git \u7684\u4f5c\u7528\uff0c\u6211\u4eec\u5728 <code>test.py</code> \u4e2d\u968f\u4fbf\u8f93\u5165\u4e86\u4e00\u4e9b\u5185\u5bb9\u3002</p> <p>\u7136\u540e\u518d\u6b21\u6267\u884c <code>git add test.py</code>\u3001<code>git commit \u2013m \"...\"</code> \u63d0\u4ea4\u66f4\u6539\u3002</p> <p></p> <ul> <li>\u67e5\u770b\u5386\u53f2</li> </ul> <p>\u901a\u8fc7 <code>git log</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u67e5\u770b\u4e4b\u524d\u7684 Commit \u8bb0\u5f55\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684 SHA \u7f16\u7801\u3002</p> <p></p> <ul> <li>\u7248\u672c\u56de\u9000</li> </ul> <p>\u9996\u5148\uff0c\u6211\u4eec\u5fc5\u987b\u6307\u5b9a\u8981\u56de\u9000\u5230\u7684\u7248\u672c\u3002\u800c\u6307\u5b9a\u7248\u672c\u6709\u4e24\u79cd\u65b9\u5f0f\u3002</p> <ol> <li> <p>\u76f8\u5bf9\u5bfb\u5740\u3002\u5728 Git \u4e2d\uff0c\u7528 <code>HEAD</code> \u8868\u793a\u5f53\u524d\u7248\u672c\uff0c\u4e5f\u5c31\u662f\u6700\u65b0\u7684\u63d0\u4ea4 <code>1aada331...</code>\uff08\u6ce8\u610f\u4e0d\u540c\u5de5\u7a0b\uff0c\u4e0d\u540c\u6b21 Commit \u7684\u7248\u672c ID \u80af\u5b9a\u4e0d\u540c\uff09\uff0c\u4e0a\u4e00\u4e2a\u7248\u672c\u5c31\u662f <code>HEAD^</code>\uff0c\u4e0a\u4e0a\u4e00\u4e2a\u7248\u672c\u5c31\u662f <code>HEAD^^</code>\uff0c\u5f53\u7136\u5f80\u4e0a 100 \u4e2a\u7248\u672c\u5199 100 \u4e2a <code>^</code> \u6bd4\u8f83\u5bb9\u6613\u6570\u4e0d\u8fc7\u6765\uff0c\u6240\u4ee5\u5199\u6210 <code>HEAD~100</code>\u3002</p> </li> <li> <p>ID \u5bfb\u5740\u3002\u5982\u4e0a\u8ff0 <code>\"modify test.py\"</code> \u8fd9\u4e2a\u7248\u672c\uff0c\u53ef\u4ee5\u7528\u7248\u672c SHA ID \u7684\u524d\u51e0\u4e2a\u5b57\u7b26\u6765\u8868\u793a\uff08\u53ea\u8981\u6ca1\u6709\u6b67\u4e49\u5373\u53ef\uff09\uff0c\u6bd4\u5982 <code>c9df5e</code>\u3002</p> </li> </ol> <p>\u800c\u4e86\u89e3\u4e86\u600e\u6837\u6307\u5b9a\u7248\u672c\u540e\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u4f7f\u7528 <code>git reset --hard &lt;Version&gt;</code> \u6765\u6062\u590d\u5230\u4e4b\u524d\u7684\u7248\u672c\u4e86\u3002</p> <ul> <li>\u5de5\u4f5c\u533a\uff0c\u6682\u5b58\u533a\u4e0e\u5206\u652f\u7684\u6982\u5ff5</li> </ul> <p>\u5de5\u4f5c\u533a\uff08\u82f1\u6587\uff1aWorking Directory\uff09\u6307\u4f60\u7535\u8111\u4e0a\u5b58\u50a8\u7684\u5f53\u524d\u9879\u76ee\u6587\u4ef6\uff08\u6700\u65b0\uff09\uff0c\u7248\u672c\u5e93\uff08\u82f1\u6587\uff1aRepository\uff09\u4e2d\u5b58\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u5176\u4e2d\u6700\u91cd\u8981\u7684\u5c31\u662f\u6682\u5b58\u533a\uff0c\u8fd8\u6709 Git \u4e3a\u6211\u4eec\u81ea\u52a8\u521b\u5efa\u7684\u7b2c\u4e00\u4e2a\u5206\u652f\uff08\u82f1\u6587\uff1aBranch\uff09<code>master</code>\uff0c\u4ee5\u53ca\u6307\u5411 <code>master</code> \u7684\u4e00\u4e2a\u6307\u9488\u53eb <code>HEAD</code>\u3002</p> <p></p> <p><code>git add</code> \u547d\u4ee4\u5b9e\u9645\u4e0a\u5c31\u662f\u628a\u8981\u63d0\u4ea4\u7684\u6240\u6709\u4fee\u6539\u653e\u5230\u6682\u5b58\u533a\uff08\u82f1\u6587\uff1aStage\uff09\uff0c\u7136\u540e\uff0c\u6267\u884c <code>git commit</code> \u5c31\u53ef\u4ee5\u4e00\u6b21\u6027\u628a\u6682\u5b58\u533a\u7684\u6240\u6709\u4fee\u6539\u63d0\u4ea4\u5230\u5206\u652f\u3002</p>"},{"location":"basic/git/#_4","title":"\u540c\u6b65\u5f00\u53d1","text":""},{"location":"basic/git/#_5","title":"\u5206\u652f\u7684\u7b80\u4ecb","text":"<p>\u5206\u652f\uff08\u82f1\u6587\uff1aBranching\uff09\u5c31\u662f\u79d1\u5e7b\u7535\u5f71\u91cc\u9762\u7684\u5e73\u884c\u5b87\u5b99\uff0c\u5f53\u4f60\u6b63\u5728\u7535\u8111\u524d\u52aa\u529b\u5b66\u4e60 Git \u7684\u65f6\u5019\uff0c\u53e6\u4e00\u4e2a\u4f60\u6b63\u5728\u53e6\u4e00\u4e2a\u5e73\u884c\u5b87\u5b99\u91cc\u52aa\u529b\u5b66\u4e60 SVN\u3002\u5982\u679c\u4e24\u4e2a\u5e73\u884c\u5b87\u5b99\u4e92\u4e0d\u5e72\u6270\uff0c\u90a3\u5bf9\u73b0\u5728\u7684\u4f60\u4e5f\u6ca1\u5565\u5f71\u54cd\u3002\u4e0d\u8fc7\uff0c\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\uff0c\u4e24\u4e2a\u5e73\u884c\u5b87\u5b99\u5408\u5e76\u4e86\uff0c\u7ed3\u679c\uff0c\u4f60\u65e2\u5b66\u4f1a\u4e86 Git \u53c8\u5b66\u4f1a\u4e86 SVN\uff01</p> <p>\u5206\u652f\u5728\u5b9e\u9645\u4e2d\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u5047\u8bbe\u4f60\u51c6\u5907\u5f00\u53d1\u4e00\u4e2a\u65b0\u529f\u80fd\uff0c\u4f46\u662f\u9700\u8981\u4e24\u5468\u624d\u80fd\u5b8c\u6210\uff0c\u7b2c\u4e00\u5468\u4f60\u5199\u4e86 50% \u7684\u4ee3\u7801\uff0c\u5982\u679c\u7acb\u523b\u63d0\u4ea4\uff0c\u7531\u4e8e\u4ee3\u7801\u8fd8\u6ca1\u5199\u5b8c\uff0c\u4e0d\u5b8c\u6574\u7684\u4ee3\u7801\u5e93\u4f1a\u5bfc\u81f4\u522b\u4eba\u4e0d\u80fd\u5e72\u6d3b\u4e86\u3002\u5982\u679c\u7b49\u4ee3\u7801\u5168\u90e8\u5199\u5b8c\u518d\u4e00\u6b21\u63d0\u4ea4\uff0c\u53c8\u5b58\u5728\u4e22\u5931\u6bcf\u5929\u8fdb\u5ea6\u7684\u5de8\u5927\u98ce\u9669\u3002</p> <p>\u73b0\u5728\u6709\u4e86\u5206\u652f\uff0c\u5c31\u4e0d\u7528\u6015\u4e86\u3002\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u5c5e\u4e8e\u4f60\u81ea\u5df1\u7684\u5206\u652f\uff0c\u522b\u4eba\u770b\u4e0d\u5230\uff0c\u8fd8\u7ee7\u7eed\u5728\u539f\u6765\u7684\u5206\u652f\u4e0a\u6b63\u5e38\u5de5\u4f5c\uff0c\u800c\u4f60\u5728\u81ea\u5df1\u7684\u5206\u652f\u4e0a\u5e72\u6d3b\uff0c\u60f3\u63d0\u4ea4\u5c31\u63d0\u4ea4\uff0c\u76f4\u5230\u5f00\u53d1\u5b8c\u6bd5\u540e\uff0c\u518d\u4e00\u6b21\u6027\u5408\u5e76\u5230\u539f\u6765\u7684\u5206\u652f\u4e0a\uff0c\u8fd9\u6837\uff0c\u65e2\u5b89\u5168\uff0c\u53c8\u4e0d\u5f71\u54cd\u522b\u4eba\u5de5\u4f5c\u3002</p> <p>\u5f15\u7528\u81ea \u5ed6\u96ea\u5cf0\u300a\u5206\u652f\u7684\u4ecb\u7ecd\u300b\u3002</p>"},{"location":"basic/git/#_6","title":"\u521b\u5efa\u4e0e\u5408\u5e76\u5206\u652f","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c06\u9879\u76ee\u7684\u8fdb\u5c55\u7406\u89e3\u6210\u4e00\u6761\u65f6\u95f4\u7ebf\uff0c\u8fd9\u6761\u65f6\u95f4\u7ebf\u5c31\u662f\u4e00\u4e2a\u5206\u652f\uff0c\u800c\u9879\u76ee\u7684\u4e3b\u8fdb\u7a0b\u7ebf\uff0c\u5219\u662f <code>master</code> \u5206\u652f\u3002\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u7684\u6307\u9488 <code>HEAD</code>\uff0c\u4e8b\u5b9e\u4e0a\u662f\u6307\u5411\u5f53\u524d\u5206\u652f\u5934\u90e8\u7684\u6307\u9488\u3002</p> <p>\u6b63\u5982\u8fd9\u4e00\u5c0f\u8282\u7684\u6807\u9898\u6240\u8bf4\uff0c\u6211\u4eec\u60f3\u8981\u521b\u5efa\u65b0\u5206\u652f\u4e0e\u5408\u5e76\u5206\u652f\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u4e3e\u4e2a\u4f8b\u5b50\u3002\uff08\u5f15\u81ea \u5ed6\u96ea\u5cf0\u300a\u521b\u5efa\u4e0e\u5408\u5e76\u5206\u652f\u300b\uff09</p> <p>\u4e00\u5f00\u59cb\u7684\u65f6\u5019\uff0c<code>master</code> \u5206\u652f\u662f\u4e00\u6761\u7ebf\uff0cGit \u7528 <code>master</code> \u6307\u5411\u6700\u65b0\u7684\u63d0\u4ea4\uff0c\u518d\u7528 <code>HEAD</code> \u6307\u5411 <code>master</code>\uff0c\u5c31\u80fd\u786e\u5b9a\u5f53\u524d\u5206\u652f\uff0c\u4ee5\u53ca\u5f53\u524d\u5206\u652f\u7684\u63d0\u4ea4\u70b9\uff1a</p> <p></p> <p>\u6bcf\u6b21\u63d0\u4ea4\uff0c<code>master</code> \u5206\u652f\u90fd\u4f1a\u5411\u524d\u79fb\u52a8\u4e00\u6b65\uff0c\u8fd9\u6837\uff0c\u968f\u7740\u4f60\u4e0d\u65ad\u63d0\u4ea4\uff0c<code>master</code> \u5206\u652f\u7684\u7ebf\u4e5f\u8d8a\u6765\u8d8a\u957f\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u4f7f\u7528\u547d\u4ee4\u521b\u5efa\u65b0\u7684\u5206\u652f <code>dev</code> \u5e76\u5207\u6362\u8fc7\u53bb\uff0c\u4f7f\u7528 <code>git checkout -b dev</code>\u3002Git \u65b0\u5efa\u4e86\u4e00\u4e2a\u6307\u9488\u53eb <code>dev</code>\uff0c\u6307\u5411 <code>master</code> \u76f8\u540c\u7684\u63d0\u4ea4\uff0c\u518d\u628a <code>HEAD</code> \u6307\u5411 <code>dev</code>\uff0c\u5c31\u8868\u793a\u5f53\u524d\u5206\u652f\u5728 <code>dev</code> \u4e0a\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>git branch</code> \u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u5206\u652f\uff0c\u5728\u7ed3\u679c\u4e2d\uff0c\u5f53\u524d\u5206\u652f\u524d\u9762\u4f1a\u591a\u51fa\u4e00\u4e2a <code>*</code> \u53f7\u3002</p> <p>\u4ece\u73b0\u5728\u5f00\u59cb\uff0c\u5bf9\u5de5\u4f5c\u533a\u7684\u4fee\u6539\u548c\u63d0\u4ea4\u5c31\u662f\u9488\u5bf9 <code>dev</code> \u5206\u652f\u4e86\uff0c\u6bd4\u5982\u65b0\u63d0\u4ea4\u4e00\u6b21\u540e\uff0c<code>dev</code> \u6307\u9488\u5f80\u524d\u79fb\u52a8\u4e00\u6b65\uff0c\u800c <code>master</code> \u6307\u9488\u4e0d\u53d8\uff1a</p> <p></p> <p>\u5047\u5982\u6211\u4eec\u5728 <code>dev</code> \u4e0a\u7684\u5de5\u4f5c\u5b8c\u6210\u4e86\uff0c\u5c31\u53ef\u4ee5\u628a <code>dev</code> \u5408\u5e76\u5230 <code>master</code> \u4e0a\u3002\u600e\u4e48\u5408\u5e76\u5462\uff1f\u9996\u5148\u6211\u4eec\u8981\u641e\u6e05\u695a\uff0c\u662f\u8c01\u8981\u5408\u5e76\u8c01\u3002\u8fd9\u91cc\u6211\u4eec\u5e94\u8be5\u7406\u89e3\u6210\uff0c<code>master</code> \u8981\u5403\u6389\u65b0\u5efa\u7684 <code>dev</code> \u5206\u652f\uff0c\u6210\u4e3a\u65b0\u7684 <code>master</code>\u3002\u4e8e\u662f\uff0c\u9996\u5148\u6211\u4eec\u5e94\u8be5\u5207\u6362\u56de <code>master</code> \u5206\u652f\uff0c\u4f7f\u7528\u547d\u4ee4 <code>git checkout master</code>\uff0c\u4ee5\u8868\u660e\u8fd9\u662f <code>master</code> \u5206\u652f\u7684\u64cd\u4f5c\u3002\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>git merge dev</code>\uff0c\u8fdb\u884c\u5206\u652f\u5408\u5e76\u3002\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>git branch -d dev</code>\uff0c\u5c06 <code>dev</code> \u5206\u652f\u5220\u9664\u3002</p> <p></p>"},{"location":"basic/git/#_7","title":"\u89e3\u51b3\u51b2\u7a81","text":"<p>\u5047\u8bbe\u6211\u4eec\u8bbe\u60f3\u51fa\u73b0\u8fd9\u4e48\u4e00\u79cd\u60c5\u51b5\uff0c<code>master</code> \u5206\u652f\u548c\u65b0\u5efa\u7684 <code>feature1</code> \u5206\u652f\u5747\u63d0\u4ea4\u4e86\u65b0\u7684\u66f4\u6539\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u600e\u4e48\u5c06\u5176 Merge \u5462\uff1f</p> <p></p> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c1d\u8bd5\u7528 <code>master</code> \u53bb Merge <code>feature1</code> \u7684\u65f6\u5019\uff0c\u63a7\u5236\u53f0\u4fbf\u4f1a\u63d0\u9192\u6211\u4eec\u4ea7\u751f\u5408\u5e76\u51b2\u7a81\u3002\u5fc5\u987b\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u540e\u518d\u63d0\u4ea4\u3002\u800c\u6211\u4eec\u6839\u636e\u63d0\u793a\u4fe1\u606f\u53bb\u5bfb\u627e\u5bf9\u5e94\u7684\u51b2\u7a81\u6587\u4ef6\uff0c\u5728\u51b2\u7a81\u5904 Git \u4e5f\u4f1a\u5c06\u5176\u663e\u8457\u7684\u6807\u51fa\uff0c\u4f8b\u5982\uff1a</p> <pre><code>Git is a distributed version control system.\nGit is free software distributed under the GPL.\nGit has a mutable index called stage.\nGit tracks changes of files.\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\nCreating a new branch is quick &amp; simple.\n=======\nCreating a new branch is quick AND simple.\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature1\n</code></pre> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u624b\u52a8\u4fee\u6539\u540e\uff0c\u518d\u91cd\u65b0\u4f7f\u7528 <code>git add</code> \u548c <code>git commit</code> \u5c31\u53ef\u4ee5\u6210\u529f\u5c06\u4e24\u4e2a\u5206\u652f\u5408\u5e76\u4e86\u3002</p> <p>\u7279\u522b\u7684\uff0c\u5728\u5206\u652f\u5408\u5e76\u4e4b\u540e\uff0c\u4f7f\u7528 <code>git log --graph</code> \u53ef\u4ee5\u770b\u5230\u5206\u652f\u5408\u5e76\u56fe\u3002</p>"},{"location":"basic/git/#rebase","title":"Rebase","text":"<p>\u611f\u89c9\u7248\u672c\u6811\u56e0\u4e3a\u5408\u5e76\u51b2\u7a81\uff0c\u4ea7\u751f\u4e86\u73af\u5f62\u7ed3\u6784\uff0c\u4e8e\u662f\u5f88\u4e0d\u723d\uff1f<code>git rebase</code> \u53ef\u4ee5\u5e2e\u52a9\u4f60\u5c06\u7248\u672c\u6811\u6062\u590d\u7ebf\u6027\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u7ed9\u51fa\u6559\u7a0b\u94fe\u63a5\uff0c\u63a8\u8350\u5927\u5bb6\u81ea\u884c\u9605\u8bfb\u3002</p> <p>\u9644\uff1ahttps://www.liaoxuefeng.com/wiki/896043488029600/1216289527823648\u3002</p>"},{"location":"basic/git/#git_2","title":"\u8fdc\u7a0b Git \u4ed3\u5e93","text":"<p>\u663e\u7136\uff0c\u5927\u5bb6\u4e0d\u4f1a\u90fd\u6324\u5728\u4f60\u7684\u7535\u8111\u4e0a\u5f00\u53d1\u3002\u6211\u4eec\u8bb0\u5f97\uff0cGit \u662f\u5206\u5e03\u5f0f\u7684\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u9700\u8981\u4e00\u79cd\u65b9\u5f0f\u8fdb\u884c\u540c\u6b65\u3002\u4f8b\u5982\uff0c\u628a Git \u4ed3\u5e93\u653e\u5728\u7f51\u4e0a\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u4ecb\u7ecd\u51e0\u79cd\u8fdc\u7a0b\u7684 Git \u4ed3\u5e93\uff1a</p> <ul> <li>GitHub\uff1a\u5168\u7403\u6700\u5927\u540c\u6027\u4ea4\u6d41\u7f51\u7ad9\u3002\u4e00\u4e2a\u57fa\u4e8eGit\u7684\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\uff0c\u5f00\u6e90\u793e\u533a\u4ea4\u6d41\u4ee3\u7801\u7684\u91cd\u8981\u7f51\u7ad9\u3002\u7f51\u5740 https://www.github.com/</li> <li>GitLab\uff1a\u7c7b\u4f3cGithub\uff0c\u4f46\u4e3b\u8981\u9762\u5411\u4f01\u4e1a\u3001\u7ec4\u7ec7\u7b49\u5185\u90e8\u5408\u4f5c\u3002\u7f51\u5740 https://www.gitlab.com/</li> <li>Tsinghua Git\uff1a\u6e05\u534e\u5927\u5b66\u57fa\u4e8e GitLab \u642d\u5efa\u7684\u5927\u5b66\u5185\u90e8\u7684 Git\uff0c\u9002\u7528\u4e8e\u8bfe\u7a0b\u5c0f\u7ec4\u5185\u90e8\u6216\u8005\u5b66\u751f\u7ec4\u7ec7\u5185\u90e8\u7684\u5408\u4f5c\u3002\u7f51\u5740 https://git.tsinghua.edu.cn/</li> </ul> <p>\u4e0b\u9762\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e9b\u5728\u8fdc\u7a0b\u4ed3\u5e93\u63a7\u5236\u65f6\u7684\u57fa\u672c\u64cd\u4f5c\uff1a</p> <ul> <li>\u514b\u9686\u4ed3\u5e93\u5230\u672c\u5730</li> </ul> <p>\u6bd4\u5982\uff0c\u4ee5 \u672c\u6280\u80fd\u5f15\u5bfc\u6587\u6863 \u6240\u5728\u7684 Git \u4ed3\u5e93\u4e3a\u4f8b\u3002\u6211\u4eec\u4f7f\u7528 <code>git clone git@github.com:SAST-skill-docers/sast-skill-docs.git</code>\uff0c\u8fd9\u6837\u4fbf\u628a\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684\u5185\u5bb9\u53d6\u5230\u4e86\u672c\u5730\uff0c\u5e76\u521b\u5efa\u4e86\u5de5\u4f5c\u533a\u3002</p> <p></p> <p></p> <ul> <li>\u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740</li> </ul> <p>\u6709\u65f6\uff0c\u6211\u4eec\u7684\u9879\u76ee\u662f\u4f7f\u7528 <code>git init</code> \u6765\u521b\u5efa\u7684\uff0c\u5e76\u4e0d\u662f\u4ece GitHub \u4e0a\u76f4\u63a5 Clone \u7684\u522b\u4eba\u7684\u4ee3\u7801\u3002\u8fd9\u65f6\u6211\u4eec\u8981\u9996\u5148\u5728 GitHub/GitLab/Tsinghua Git \u4e0a\u65b0\u5efa\u4e00\u4e2a Repo\uff0c\u7136\u540e\u6309\u7167\u63d0\u793a\uff0c\u4f7f\u7528 <code>git remote add origin &lt;\u4f60\u7684 Repo \u7684 HTTP/SSH \u5730\u5740&gt;</code>\u3002\u8fd9\u6837\u4fbf\u662f\u544a\u8bc9\u672c\u5730\u7684 Git \u7ba1\u7406\u5668\uff0c\u8fd9\u4e2a\u5730\u5740\u8d77\u4e00\u4e2a\u7b80\u4fbf\u7684\u540d\u5b57\u53eb\u505a <code>origin</code>\uff0c\u65b9\u4fbf\u4eca\u540e\u4f7f\u7528\u3002</p> <ul> <li>\u63a8\u9001\u66f4\u6539</li> </ul> <p></p> <p>\u6211\u4eec\u5c06\u6240\u6709\u7684\u66f4\u6539\u6682\u5b58\uff08\u82f1\u6587\uff1aAdd\uff09\u548c\u63d0\u4ea4\uff08\u82f1\u6587\uff1aCommit\uff09\u540e\uff0c\u4fbf\u53ef\u4ee5\u4f7f\u7528 <code>git push origin master</code> \u7533\u8bf7\u5411\u8fdc\u7aef <code>origin</code> \u7684 <code>master</code> \u5206\u652f\u540c\u6b65\u63d0\u4ea4\u8bb0\u5f55\u3002</p> <ul> <li>\u62c9\u53d6\u66f4\u6539</li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 <code>git pull origin master</code> \u6765\u4ece\u8fdc\u7aef <code>origin</code> \u7684 <code>master</code> \u83b7\u53d6\u5176\u6700\u65b0\u7684\u6570\u636e\uff08\u53ef\u80fd\u662f\u522b\u4eba\u66f4\u65b0\u4e0a\u53bb\u7684\uff09\u3002\u6b63\u5e38\u7684\u63a8\u9001\u66f4\u6539\u6d41\u7a0b\u4e3a\uff1a\u5148 Add \u548c Commit \u672c\u5730\u4fee\u6539\uff0c\u7136\u540e\u62c9\u53d6\u8fdc\u7aef\u66f4\u6539\uff0c\u5982\u679c\u6b64\u65f6\u51fa\u73b0\u4e86\u5408\u5e76\u51b2\u7a81\uff08\u82f1\u6587\uff1aMerge Conflict\uff09\uff0c\u89e3\u51b3\u5408\u5e76\u51b2\u7a81\u3002\u7136\u540e\uff0c\u5728\u5408\u5e76\u51b2\u7a81\u89e3\u51b3\u540e\u63a8\u9001\u66f4\u6539\u3002</p>"},{"location":"basic/git/#git-lfs","title":"Git LFS: \u5982\u4f55\u4f18\u96c5\u7ba1\u7406\u5927\u6587\u4ef6","text":"<p>Git \u7684\u903b\u8f91\u662f\u5b58\u50a8 diff. \u4f46\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u5927\u6587\u4ef6, \u5c24\u5176\u662f\u56fe\u7247, \u89c6\u9891, \u6a21\u578b\u7b49, Git \u65e0\u6cd5\u7ed9\u51fa\u6b63\u786e\u7684 diff, \u4ece\u800c\u4f1a\u503e\u5411\u4e8e\u628a\u6574\u4e2a\u6587\u4ef6\u5220\u6389\u91cd\u65b0\u4e0a\u4f20.</p> <p>\u90a3\u4e48: \u5982\u679c\u4f60\u6709\u4e00\u4e2a\u6a21\u578b, \u8fd9\u4e2a\u6a21\u578b\u6709 100MB, \u4f60\u6bcf\u6b21\u5fae\u8c03\u4e86\u4e00\u70b9, \u8c03\u4e86 10 \u6b21, \u8fd9\u65f6\u5019\u4f60\u7684 Git \u4ed3\u5e93\u5c31\u6709 1GB \u4e86. \u5176\u4ed6\u4eba\u5728 Pull / \u4f60\u5728\u5176\u5b83\u8bbe\u5907\u4e0a Pull \u7684\u65f6\u5019\u5c31\u8981\u4e0b\u8f7d\u5b8c\u6574\u7684 1GB \u6570\u636e (\u5373\u4fbf\u4f60\u5e76\u4e0d\u9700\u8981\u4e4b\u524d\u7684 9 \u4e2a\u7248\u672c). \u5bf9\u4e00\u4e2a\u4f53\u91cf\u66f4\u5927\u7684\u9879\u76ee, \u8fd9\u5c31\u4f1a\u53d8\u5f97\u4e0d\u53ef\u63a5\u53d7\u4e86. (\u4f60\u4e5f\u4e0d\u60f3\u4e3a\u4e86\u4e00\u4e2a 100M \u7684\u9879\u76ee\u4e0b\u8f7d 10GB \u7684\u4e1c\u897f\u5427)</p> <p>\u56e0\u6b64, Git LFS (Large File Storage) \u88ab\u5f00\u53d1\u51fa\u6765\u4ee5\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898. LFS \u7684\u57fa\u672c\u539f\u7406\u662f\u628a\u4ed3\u5e93\u91cc\u7684\u6587\u4ef6\u6362\u6210\u4e00\u4e2a\u6307\u5411 LFS \u670d\u52a1\u5668\u7684 \"\u6307\u9488\", \u7136\u540e\u5728\u9700\u8981\u7684\u65f6\u5019\u518d\u4e0b\u8f7d\u8fd9\u4e2a\u6587\u4ef6.</p> <p>LFS \u5728 Linux \u4e0b\u4e00\u822c\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u5305 <code>git-lfs</code>. \u5b89\u88c5\u4e4b\u540e\u5c31\u53ef\u4ee5\u7528 <code>git lfs init</code> \u521d\u59cb\u5316 LFS.</p> <p>\u6b64\u65f6 LFS \u7ed9 Git \u6302\u4e86\u4e00\u4e9b\u94a9\u5b50, \u4f7f\u5f97\u6240\u6709\u88ab <code>git lfs track</code> \u7684\u6587\u4ef6\u90fd\u4f1a\u968f\u7740 Git \u7684 Push / Pull \u88ab\u4e0a\u4f20 / \u4e0b\u8f7d\u5230 LFS \u670d\u52a1\u5668\u4e0a.</p>"},{"location":"basic/git/#git-ignore","title":"Git Ignore: \u4e0d\u8981\u628a\u5947\u602a\u7684\u6587\u4ef6\u4e0a\u4f20\u5230\u4ed3\u5e93","text":"<p>\u5728 Git \u4ed3\u5e93\u4e2d, \u7edd\u5927\u591a\u6570\u65f6\u95f4\u91cc\u90fd\u4f1a\u6709\u4e00\u4e9b\u5e76\u4e0d\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6, \u4e0d\u7ba1\u662f\u8bad\u7ec3\u6a21\u578b\u7684\u8f93\u51fa, \u7f16\u8bd1\u751f\u6210\u7684\u7a0b\u5e8f, IDE \u7684\u914d\u7f6e, \u6d4b\u8bd5\u6570\u636e\u5e93\u7b49\u7b49.</p> <p>\u4e00\u5b9a\u8bb0\u5f97\u628a\u8fd9\u4e9b\u6587\u4ef6\u52a0\u5165\u5230 <code>.gitignore</code> \u6587\u4ef6\u4e2d. \u8fd9\u4e2a\u6587\u4ef6\u4f1a\u544a\u8bc9 Git \u54ea\u4e9b\u6587\u4ef6\u4e0d\u9700\u8981\u88ab\u4e0a\u4f20.</p> <p><code>man gitignore</code></p>"},{"location":"basic/git/#_8","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u60f3\u8981\u5b66\u4e60\u66f4\u591a Git \u5185\u5bb9\uff1f</p> <ul> <li>\u4f7f\u7528\u547d\u4ee4 <code>git help</code></li> <li>Pro Git Book https://git-scm.com/book/zh/v2</li> <li>\u5b66\u4e60 Git \u5206\u652f https://learngitbranching.js.org/?locale=zh_CN</li> </ul> <p>\u5b66\u4e86 Git \u4e0d\u77e5\u8be5\u5982\u4f55\u5e94\u7528\uff1f</p> <ul> <li>\u7a0b\u8bbe\u5927\u4f5c\u4e1a</li> <li>\u8bd5\u7740\u53bb\u5165\u624b\u4e00\u4e9b\u8f6f\u4ef6\u5de5\u7a0b\u9879\u76ee</li> </ul>"},{"location":"basic/git/#_9","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>2021 \u6691\u57f9\u8bb2\u4e49 by tshoigyr</li> <li>2020 \u6691\u57f9\u8bb2\u4e49 by rls</li> <li>2021 \u6625\u5b63\u5b66\u671f\u300a\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u8bb2\u4e49</li> <li>\u5ed6\u96ea\u5cf0\u7684 Git \u6559\u7a0b https://www.liaoxuefeng.com/wiki/896043488029600</li> </ul>"},{"location":"basic/latex/","title":"LaTeX","text":"<p>\u867d\u7136 Markdown \u5f88\u597d\u7528\uff0c\u4f46\u662f\u751f\u6210\u7684 pdf \u6587\u6863\u770b\u8d77\u6765\u5c31\u662f\u6ca1\u6709\u8303\u4e0d\u591f\u6b63\u5f0f\u3002\u6b64\u5916\uff0c\u4f7f\u7528 LaTeX \u4e5f\u662f\u6211\u4eec\u4e4b\u540e\u5199\u8bba\u6587\u7684\u5fc5\u5907\u6280\u80fd\u3002</p> <p>\u672c\u6559\u7a0b\u4e3b\u8981\u6d89\u53ca\u5df2\u5bf9 Markdown \u8f83\u4e3a\u719f\u8bc6\u4e4b\u540e\u7684\u8fc1\u79fb\u5b66\u4e60\u3002</p> <p>Note</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4f60\u53ef\u4ee5\u5728 Markdown \u91cc\u4f7f\u7528 LaTeX \u7684\u5b50\u96c6 KaTeX</p>"},{"location":"basic/latex/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>Markdown \u5165\u95e8</li> <li>Markdown \u7f16\u5199\u6570\u5b66\u516c\u5f0f\u7684\u65b9\u6cd5</li> </ul>"},{"location":"basic/latex/#latex_1","title":"LaTeX \u7b80\u4ecb","text":"<p>\u6211\u4eec\u9996\u5148\u89e3\u51b3\u4ee5\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>LaTeX \u662f\u4ec0\u4e48\uff1f</li> <li>LaTeX \u600e\u6837\u8fd0\u4f5c\uff1f</li> <li>\u6211\u8be5\u5728\u54ea\u91cc\u5199 LaTex\uff1f</li> </ul> <p>\u5728\u89e3\u51b3\u4e0a\u8ff0\u51e0\u4e2a\u95ee\u9898\u4e4b\u540e\uff0c\u6211\u4eec\u518d\u8be6\u7ec6\u4ecb\u7ecd\u8be5\u600e\u4e48\u5199 LaTeX \u7684\u95ee\u9898\u3002</p>"},{"location":"basic/latex/#latex_2","title":"LaTeX \u662f\u4ec0\u4e48\uff1f","text":"<p>\u76f8\u4fe1\u4f60\u8bfb\u5230\u8fd9\u91cc\u5df2\u7ecf\u505a\u597d\u89c9\u609f\u8981\u88ab\u704c\u8f93\u4e00\u7cfb\u5217\u5173\u952e\u8bcd\u548c\u5176\u5bf9\u5e94\u6982\u5ff5\u4e86\u3002\u8ba9\u6211\u4eec\u5f00\u59cb\uff1a</p> <p>\u5386\u53f2\u56de\u6eaf\u5230 Knuth \u6559\u6388\u7684\u5de8\u8457 The Art of Computer Programming \u5c06\u8981\u51fa\u7248\u4e4b\u9645\uff0c\u5f53\u51fa\u7248\u5546\u5c06\u4ed6\u4eec\u6392\u7248\u7684\u4e66\u7a3f\u8349\u6837\u4ea4\u7ed9 Knuth \u6559\u6388\u7684\u65f6\u5019\uff0c\u4ed6\u5bf9\u4e8e\u5176\u4e2d\u590d\u6742\u6570\u5b66\u516c\u5f0f\u7684\u6392\u7248\u5904\u7406\u5341\u5206\u4e0d\u6ee1\u3002\u5176\u6392\u7248\u4e4b\u7c97\u7cd9\uff0c\u5df2\u8fbe\u5230\u4e86\u4f1a\u5f71\u54cd\u4eba\u4eec\u7406\u89e3\u539f\u4e66\u5185\u5bb9\u7684\u7a0b\u5ea6\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u590d\u6742\u7684\u6570\u5b66\u548c\u7269\u7406\u516c\u5f0f\uff0c\u6211\u4eec\u6025\u9700\u4e00\u79cd\u80fd\u591f\u5c06\u5176\u5728\u4e92\u8054\u7f51\u4e0a\u4f20\u8f93\u7684\u7f16\u7801\u683c\u5f0f\uff0c\u4f7f\u5f97\u4eba\u80fd\u9605\u8bfb\u7684\u516c\u5f0f\u548c\u673a\u5668\u80fd\u5b58\u50a8\u7684\u516c\u5f0f\u4e4b\u95f4\u8fbe\u5230\u4e00\u79cd\u4e92\u76f8\u8f6c\u5316\u3002</p> <ul> <li>TeX\uff1a\u4e00\u79cd\u6392\u7248\u5f15\u64ce\uff0c\u4e5f\u662f\u8be5\u5f15\u64ce\u4f7f\u7528\u7684\u6807\u8bb0\u8bed\u8a00\u7684\u540d\u79f0\u3002\u5f15\u64ce\u662f\u6307\u80fd\u591f\u65ad\u884c\u3001\u5206\u9875\u7684\u7a0b\u5e8f\uff0c\u6807\u8bb0\u8bed\u8a00\u662f\u63a7\u5236\u547d\u4ee4\u548c\u6587\u672c\u7ed3\u5408\u7684\u683c\u5f0f\u3002\u53ef\u4ee5\u7c7b\u6bd4\u7406\u89e3\u6210\u4f60\u5199\u7684 C++ \u6e90\u4ee3\u7801\u6216\u8005\u66f4\u5e95\u5c42\u7684\u673a\u5668\u6307\u4ee4\u7801\uff0c\u5982\u8f93\u5165 <code>$2^6$</code>\u3002</li> <li>LaTeX\uff1a\u662f\u4e00\u4e2a\u57fa\u4e8e TeX \u7684\u6392\u7248\u7cfb\u7edf\uff0c\u5c06\u7528\u6237\u6309\u7167\u5b83\u7684\u683c\u5f0f\u7f16\u5199\u7684\u6587\u6863\u89e3\u91ca\u6210 TeX \u5f15\u64ce\u80fd\u7406\u89e3\u7684\u5f62\u5f0f\u5e76\u4ea4\u4ed8\u7ed9 TeX \u5f15\u64ce\u5904\u7406\uff0c\u518d\u5c06\u6700\u7ec8\u7ed3\u679c\u8fd4\u56de\u7ed9\u7528\u6237\u3002\u53ef\u4ee5\u7c7b\u6bd4\u7406\u89e3\u6210 g++ \u7f16\u8bd1\u5668\uff0c\u5c06\u4e0a\u8ff0\u4ee3\u7801\u6e32\u67d3\u4e3a 2^6\u3002</li> <li>pdfTeX \u4e0e pdfLaTeX\uff1a\u539f\u7248 TeX \u7cfb\u7edf\u751f\u6210\u7684\u6587\u4ef6\u662f <code>dvi</code> \u683c\u5f0f\uff0c\u800c pdfTeX \u7cfb\u7edf\u4e0b\u751f\u6210\u7684\u6587\u4ef6\u662f <code>pdf</code> \u683c\u5f0f\u3002</li> <li>XeTeX \u4e0e XeLaTeX\uff1a\u4e0a\u8ff0 TeX \u7cfb\u7edf\u751f\u6210\u7684\u5b57\u7b26\u96c6\u53ea\u652f\u6301 ASCII \u5b57\u7b26\u3002\u5728 XeTeX \u51fa\u73b0\u4e4b\u524d\uff0c\u6211\u4eec\u66fe\u4f7f\u7528\u8fc7\u5f15\u7528\u5f15\u5165 CJK \u5b8f\u5e93\uff08\u89e3\u51b3\u4e0d\u652f\u6301\u4e2d\u65e5\u97e9\u5b57\u7b26\u95ee\u9898\u7684\u4e00\u4e2a\u5e93\uff09\u624b\u6bb5\u6765\u5904\u7406\u4e2d\u6587\u5b57\u7b26\u7684\u95ee\u9898\u3002\u4f46\u662f\u8fd9\u4e2a\u6392\u7248\u7cfb\u7edf\u5bf9\u6240\u6709 Unicode \u5b57\u7b26\u90fd\u5b9e\u73b0\u4e86\u652f\u6301\u3002</li> <li>LuaTeX \u4e0e LuaLaTeX\uff1a<code>pdfTeX</code> \u7cfb\u7edf\u7684\u7ee7\u627f\u8005\uff0c\u652f\u6301\u4f7f\u7528\u4e00\u4e9b\u7528\u6237\u81ea\u5b9a\u4e49\u811a\u672c\u6765\u5b9e\u73b0\u4e4b\u524d\u9700\u8981\u5199\u6210 TeX \u7684\u529f\u80fd\u3002\u652f\u6301 Unicode\uff0c\u5185\u8054 lua\uff0c\u652f\u6301 OpenType\u3002</li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u63a8\u8350\u4f7f\u7528 <code>XeTeX</code> \u7cfb\u7edf\u6765\u8fdb\u884c\u6211\u4eec\u65e5\u5e38\u7684\u5de5\u4f5c\uff0c\u6211\u4eec\u540e\u7eed\u7684\u6559\u7a0b\u4e5f\u56f4\u7ed5\u8fd9\u4e2a\u6392\u7248\u7cfb\u7edf\u5c55\u5f00\u3002\u4e3a\u4e86\u7b80\u6d01\u8d77\u89c1\uff0c\u6211\u4eec\u540e\u7eed\u4e0d\u518d\u533a\u5206\u4e0a\u8ff0\u6982\u5ff5\uff0c\u7edf\u4e00\u4f7f\u7528 <code>TeX</code>\uff0c<code>LaTeX</code> \u6765\u8868\u8ff0\u6211\u4eec\u5728\u8bf4\u7684\u8fd9\u4e2a\u8bdd\u9898\u3002</p>"},{"location":"basic/latex/#latex_3","title":"LaTeX \u600e\u6837\u8fd0\u4f5c\uff1f","text":"<p>LaTeX \u6392\u7248\u7cfb\u7edf\u7684\u8f93\u5165\u662f\u542b\u6709\u6211\u4eec\u6572\u7684\u6587\u672c\u548c\u63a7\u5236\u547d\u4ee4\u7684 <code>tex</code> \u6587\u4ef6\uff0c\u8f93\u51fa\u662f\u4e00\u4efd <code>pdf</code> \u6587\u4ef6\u3002\u6211\u4eec\u53ea\u9700\u8981\u8d1f\u8d23\u5728 <code>tex</code> \u6587\u4ef6\u4e2d\u5199\u4e0b\u6e90\u7801\uff0c\u7136\u540e\u5269\u4e0b\u7684\u7f16\u8bd1\u548c\u751f\u6210\u5de5\u4f5c\u5168\u90e8\u4ea4\u7ed9 LaTeX \u5373\u53ef\u3002</p> <p>\u6709\u65f6\u6211\u4eec\u8fd8\u53ef\u4ee5\u628a\u4e00\u4e2a LaTeX \u9879\u76ee\u7ec4\u7ec7\u6210\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u6b64\u65f6\u8fd8\u662f\u4e00\u4efd <code>tex</code> \u6587\u4ef6\u51b3\u5b9a\u4e00\u4e2a <code>pdf</code> \u7684\u751f\u6210\uff0c\u4f46\u662f\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e2d\u5f15\u5165\u5176\u4ed6\u4e00\u4e9b\u6587\u4ef6\uff0c\u5982\u5b57\u4f53\u6587\u4ef6\uff0c\u56fe\u7247\u6587\u4ef6\uff0c<code>.cls</code> \u6587\u4ef6\uff08\u6587\u6863\u6a21\u677f\u7c7b\u6587\u4ef6\uff09\u7b49\u7b49\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e2d\u7f16\u5199\u591a\u4e2a <code>tex</code> \u6587\u4ef6\uff0c\u4ee5\u5171\u4eab\u6587\u4ef6\u5939\u4e2d\u7684\u5176\u4ed6\u8d44\u6e90\u3002\u6b64\u65f6\u4e0d\u540c\u7684 <code>tex</code> \u6587\u4ef6\u4e4b\u95f4\u751a\u81f3\u53ef\u4ee5\u9879\u76ee\u5305\u542b\uff08\u7c7b\u6bd4\u4e8e C++ \u7684 <code>#include</code> \u5305\u542b\uff09\u3002</p>"},{"location":"basic/latex/#latex_4","title":"\u5728\u54ea\u91cc\u7f16\u5199 LaTeX\uff1f","text":"<p>\u6211\u4eec\u6709\u79bb\u7ebf\u548c\u5728\u7ebf\u4e24\u79cd\u6a21\u5f0f\u6765\u64b0\u5199 LaTeX\u3002</p> <p>\u79bb\u7ebf\u6a21\u5f0f\u5c31\u662f\u5b89\u88c5\u4e00\u4e2a LaTeX \u6392\u7248\u7cfb\u7edf\uff0c\u7c7b\u6bd4\u6211\u4eec\u60f3\u5199 Markdown \u7684\u65f6\u5019\u88c5\u4e86\u4e00\u4e2a Typora \u8f6f\u4ef6\u4e00\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5b89\u88c5\u76f8\u5e94\u7684\u8f6f\u4ef6\u6765\u8f85\u52a9\u6211\u4eec\u5de5\u4f5c\uff0c\u5982\uff1a</p> <ul> <li>TeXworks</li> <li>TeXstudio</li> </ul> <p>\u800c\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u5b89\u88c5\u5e26\u6765\u7684\u95ee\u9898\u662f\u53ef\u80fd\u5b89\u88c5\u5305\u8fc7\u4e8e\u81c3\u80bf\uff0c\u4f18\u70b9\u662f\u4e0d\u7528\u53d7\u5230\u7f51\u7edc\u73af\u5883\u7b49\u7b49\u56e0\u7d20\u7684\u5e72\u6270\uff0c\u4e5f\u4e0d\u7528\u53d7\u5230\u7f51\u7edc\u73af\u5883\u5b58\u50a8\u5bb9\u91cf\u6216\u8fd0\u884c\u65f6\u73af\u5883\u7684\u9650\u5236\u3002\u5176\u5b89\u88c5\u65b9\u5f0f\u5728\u7f51\u7edc\u4e0a\u641c\u7d22\u201cLaTeX \u5165\u95e8\u201d\u4fbf\u53ef\u627e\u5230\u5806\u79ef\u5982\u5c71\u7684\u6559\u7a0b\u3002</p> <p>\u800c\u6211\u4eec\u8fd9\u91cc\u63a8\u5d07\u7684\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528\u5728\u7ebf\u65b9\u5f0f\u6765\u7f16\u5199\u3002\u5982 <code>Overleaf</code> \u5728\u5185\u7684\u6258\u7ba1\u7f51\u7ad9\u4f1a\u5c06\u4f60\u7684\u6bcf\u4e2a TeX \u9879\u76ee\u7ec4\u7ec7\u6210\u4e00\u4e2a\u4ed3\u5e93\u7684\u5f62\u5f0f\uff0c\u5e76\u5141\u8bb8\u4f60\u5728\u5176\u4e2d\u8fdb\u884c\u5728\u7ebf\u7f16\u8f91\uff1a</p> <p></p> <p></p> <p>\u5de6\u4e0a\u89d2\u662f\u6211\u4eec\u5f53\u524d\u4ed3\u5e93\u7684\u6587\u4ef6\u6e05\u5355\uff0c\u8f83\u5de6\u4fa7\u7a97\u53e3\u662f\u7f16\u8f91\u5668\uff0c\u53f3\u4fa7\u7a97\u53e3\u662f\u5373\u65f6\u9884\u89c8\u7a97\u53e3\u3002\u7c7b\u4f3c\u4e8e <code>Overleaf</code> \u7684\u7f51\u7ad9\u751a\u81f3\u8fd8\u63d0\u4f9b\u4e86\u4ed3\u5e93\u6743\u9650\u7ba1\u7406\u7cfb\u7edf\uff0c\u4f60\u53ef\u4ee5\u9080\u8bf7\u5176\u4ed6\u4eba\u4e00\u8d77\u7f16\u8f91\uff0c\u6216\u662f\u5bfc\u5165\u522b\u4eba\u7f16\u8f91\u597d\u7684\u6a21\u677f\u7ee7\u7eed\u4f60\u7684\u7f16\u8f91\u7b49\u7b49\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\u8bb8\u591a\u5b66\u672f\u4f1a\u8bae\u90fd\u4f1a\u7ed9\u51fa\u4ed6\u4eec\u63a5\u53d7\u7684\u8bba\u6587\u7684\u6a21\u677f\u3002</p> <p>\u9274\u4e8e <code>Overleaf</code> \u9700\u8981\u79d1\u5b66\u4e0a\u7f51\u624d\u80fd\u8bbf\u95ee\uff1a</p> <ul> <li>\u8d35\u6821 TUNA \u534f\u4f1a\u7ef4\u62a4\u4e86\u4e00\u4efd Tsinghua Overleaf\uff0c\u9700\u8981\u4f7f\u7528\u6e05\u534e\u7edf\u4e00\u8ba4\u8bc1\u767b\u5f55; </li> <li>\u8d35\u6821\u8d35\u7cfb\u8d35\u534f\u7f51\u7edc\u90e8\u7ef4\u62a4\u4e86\u4e00\u4efd\u81ea\u5df1\u7684\u57fa\u4e8e <code>Overleaf</code>  \u7684 LaTeX \u5728\u7ebf\u7f16\u8f91\u7f51\u7ad9 TeX9\uff0c\u9700\u8981\u4f7f\u7528\u9152\u4e95 ID \u624d\u80fd\u8fdb\u884c\u767b\u5f55\u3002</li> </ul> <p>\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u6f14\u793a\u4fbf\u662f\u57fa\u4e8e TeX9\u3002</p>"},{"location":"basic/latex/#latex_5","title":"LaTeX \u7f16\u5199\u57fa\u7840","text":"<p>\u8bf4\u662f\u7f16\u5199\u57fa\u7840\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u8981\u50cf\u4ecb\u7ecd Markdown \u4e00\u6837\uff0c\u5148\u7b80\u5355\u7f57\u5217\u4e00\u4e9b\u7b80\u5355\u7684\u6587\u6863\u63a7\u5236\u547d\u4ee4\u3002\u5728\u57fa\u7840\u7bc7\u4e2d\u6211\u4eec\u5148\u4ec5\u4ec5\u4ecb\u7ecd\u600e\u6837\u5b9e\u73b0\u4ece Markdown \u5230 LaTeX \u7684\u8fc1\u79fb\u3002\u5bf9\u4e8e\u5176\u4e2d\u4e00\u4e9b\u6587\u6863\u63a7\u5236\u547d\u4ee4\uff0c\u6211\u4eec\u5c06\u4f1a\u5728\u540e\u7eed\u6559\u7a0b\u8be6\u7ec6\u8bf4\u660e\u3002</p> <p>\u8fd9\u91cc\u63d0\u4f9b CheatSheet \u4f9b\u67e5\u9605\uff1a</p> <p></p> <p></p>"},{"location":"basic/latex/#hello-world","title":"Hello, World!","text":"<p>\u4e0a\u8ff0\u4fbf\u662f\u4e00\u4efd <code>tex</code> \u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff0c\u7136\u540e\u5c06\u4e0b\u9762\u6211\u4eec\u8981\u4ecb\u7ecd\u7684\u5185\u5bb9\u4e00\u4e00\u5c1d\u8bd5\u3002</p>"},{"location":"basic/latex/#_2","title":"\u652f\u6301\u4e2d\u6587\u5b57\u7b26","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u4e0a\u8ff0\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u652f\u6301\u4e2d\u6587\u5b57\u7b26\u7684\u65b9\u5f0f\u6709\u4e8c\uff0c\u4e00\u79cd\u662f\u5f15\u5165 <code>CJK</code> \u5b8f\u5305\uff0c\u53e6\u4e00\u79cd\u662f\u4f7f\u7528 XeLaTeX \u7f16\u8bd1\u5668\u5e76\u5bf9\u6e90\u7801\u505a\u9002\u5f53\u4fee\u6539\u3002\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u3002</p> <p>\u9996\u5148\uff0c\u6309\u4e0b\u4f60\u9879\u76ee\u5de6\u4e0a\u89d2\u7684 Menu \u6309\u94ae\uff0c\u7136\u540e\u5728 Compiler \u9009\u9879\u4e2d\u9009\u62e9 XeLaTeX \u9009\u9879\u3002</p> <p>\u7136\u540e\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>\\documentclass[UTF8]{ctexart}\n\\begin{document}\n\u4f60\u597d\uff0cworld!\n\\end{document}\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u4e2d\u6587\u5b57\u7b26\u7684\u5f15\u5165\u3002\u81f3\u4e8e <code>documentclass</code> \u662f\u4ec0\u4e48\uff0c\u6211\u4eec\u5c06\u5728\u540e\u7eed\u4ecb\u7ecd\u3002</p>"},{"location":"basic/latex/#_3","title":"\u5bfc\u8a00\u4e0e\u6587\u6863\u4fe1\u606f","text":"<pre><code>\\documentclass[UTF8]{ctexart}\n\\title{Sample Document}\n\\author{c7w}\n\\date{\\today}\n\n\\begin{document}\n\n% \u8fd9\u6761\u63a7\u5236\u547d\u4ee4\u4f1a\u8bfb\u53d6\u5bfc\u8a00\u90e8\u5206\u7684\u6587\u6863\u76f8\u5173\u4fe1\u606f\n% \u5e76\u5c06\u5176\u6e32\u67d3\u5230\u6587\u6863\u4e2d\n% \u4e8b\u5b9e\u4e0a\u53ef\u4ee5\u53c2\u8003\u76f8\u5173\u5b8f\u5305\u7684 Doc\uff1a\n% http://texdoc.net/texmf-dist/doc/latex/titling/titling.pdf\n\\maketitle \n\n\u4f60\u597d\uff0cworld!\n\n[\u5728\u8fd9\u91cc\u4f60\u5c31\u5f00\u59cb\u5199\u4f60\u7684\u4f5c\u4e1a\u7b2c\u4e00\u9898\u4e86]\n\n\\end{document}\n</code></pre>"},{"location":"basic/latex/#_4","title":"\u7ae0\u8282\u4e0e\u6bb5\u843d","text":"<pre><code>\\documentclass[UTF8]{ctexart}\n\\title{Sample Document}\n\\author{c7w}\n\\date{\\today}\n\n\\begin{document}\n\n\\maketitle\n\n\\section{\u6211\u662f Section \u6807\u9898}\n\n\u6211\u662f Section \u4ecb\u7ecd\u3002\n\n\\subsection{\u6211\u662f Subsection \u6807\u9898}\n\u6211\u662f Subsection \u4ecb\u7ecd\u3002\n\n\\subsubsection{\u6211\u662f Subsubsection \u6807\u9898}\n\u6211\u662f Subsubsection \u4ecb\u7ecd\u3002\n\n% \\subsubsubsection{\u4e0d\u80fd\u7ee7\u7eed\u5957 sub \u4e86\uff0c\u5230\u5e95\u4e86}\n\n\\paragraph{\u6211\u662f Paragraph \u6807\u9898}\n\u6211\u662f Paragraph \u540e\u9762\u8ddf\u7740\u5199\u7684\u4e1c\u897f\u3002\n\u672c\u4eba\u4e5f\u662f\u7ecf\u8fc7\u4e86\u6df1\u601d\u719f\u8651\uff0c\u5728\u6bcf\u4e2a\u65e5\u65e5\u591c\u591c\u601d\u8003\u8fd9\u4e2a\u95ee\u9898\u3002\n\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u53ea\u8981\u6709\u610f\u4e49\uff0c\u90a3\u4e48\u5c31\u5fc5\u987b\u614e\u91cd\u8003\u8651\u3002\n\u8fd9\u79cd\u4e8b\u5b9e\u5bf9\u672c\u4eba\u6765\u8bf4\u610f\u4e49\u91cd\u5927\uff0c\u76f8\u4fe1\u5bf9\u8fd9\u4e2a\u4e16\u754c\u4e5f\u662f\u6709\u4e00\u5b9a\u610f\u4e49\u7684\u3002\n\u8981\u60f3\u6e05\u695a\uff0c\u4e00\u5929\u6389\u591a\u5c11\u6839\u5934\u53d1\uff0c\u5230\u5e95\u662f\u4e00\u79cd\u600e\u4e48\u6837\u7684\u5b58\u5728\u3002\n\u8d1d\u591a\u82ac\u66fe\u7ecf\u8bf4\u8fc7\uff0c\u5353\u8d8a\u7684\u4eba\u4e00\u5927\u4f18\u70b9\u662f\uff1a\u5728\u4e0d\u5229\u4e0e\u8270\u96be\u7684\u906d\u9047\u91cc\u767e\u6298\u4e0d\u9976\u3002\n\n\n\\subparagraph{\u6211\u662f Subparagraph \u6807\u9898}\n\u6211\u662f Subparagraph \u540e\u9762\u8ddf\u7740\u5199\u7684\u4e1c\u897f\u3002\n\u8fd9\u4e0d\u7981\u4ee4\u6211\u6df1\u601d\u65e2\u7136\u5982\u4f55\uff0c\u4e00\u5929\u6389\u591a\u5c11\u6839\u5934\u53d1\u7684\u53d1\u751f\uff0c\u5230\u5e95\u9700\u8981\u5982\u4f55\u505a\u5230\uff0c\u4e0d\u4e00\u5929\u6389\u591a\u5c11\u6839\u5934\u53d1\u7684\u53d1\u751f\uff0c\u53c8\u4f1a\u5982\u4f55\u4ea7\u751f\u3002 \n\u603b\u7ed3\u7684\u6765\u8bf4\uff0c \u6240\u8c13\u4e00\u5929\u6389\u591a\u5c11\u6839\u5934\u53d1\uff0c\u5173\u952e\u662f\u4e00\u5929\u6389\u591a\u5c11\u6839\u5934\u53d1\u9700\u8981\u5982\u4f55\u5199\u3002 \u751f\u6d3b\u4e2d\uff0c\u82e5\u4e00\u5929\u6389\u591a\u5c11\u6839\u5934\u53d1\u51fa\u73b0\u4e86\uff0c\u6211\u4eec\u5c31\u4e0d\u5f97\u4e0d\u8003\u8651\u5b83\u51fa\u73b0\u4e86\u7684\u4e8b\u5b9e\u3002 \u90ed\u6cab\u82e5\u66fe\u7ecf\u8bf4\u8fc7\uff0c\u5f62\u6210\u5929\u624d\u7684\u51b3\u5b9a\u56e0\u7d20\u5e94\u8be5\u662f\u52e4\u594b\u3002\u8fd9\u4e0d\u7981\u4ee4\u6211\u6df1\u601d\u8fd9\u79cd\u4e8b\u5b9e\u5bf9\u672c\u4eba\u6765\u8bf4\u610f\u4e49\u91cd\u5927\uff0c\u76f8\u4fe1\u5bf9\u8fd9\u4e2a\u4e16\u754c\u4e5f\u662f\u6709\u4e00\u5b9a\u610f\u4e49\u7684\u3002 \u6211\u4eec\u4e00\u822c\u8ba4\u4e3a\uff0c\u6293\u4f4f\u4e86\u95ee\u9898\u7684\u5173\u952e\uff0c\u5176\u4ed6\u4e00\u5207\u5219\u4f1a\u8fce\u5203\u800c\u89e3\u3002\n\n\\subsection{\u8fd9\u662f\u7b2c\u4e8c\u8282}\n\\paragraph{\u7b2c\u4e8c\u8282} \u7684\u9996\u6bb5\u3002\n\\subparagraph{\u7b2c\u4e8c\u8282}\u7684\u7b2c\u4e8c\u6bb5\u3002\n\n\\end{document}\n</code></pre> <p>\u5728\u6587\u6863\u7c7b <code>article</code>/<code>ctexart</code> \u4e2d\uff08\u6587\u6863\u7c7b\u7684\u6982\u5ff5\u6211\u4eec\u4f1a\u5728\u8fdb\u9636\u7bc7\u4e2d\u63d0\u4f9b\u6307\u5bfc\uff09\uff0c\u6211\u4eec\u4f7f\u7528\u8fd9\u4e9b\u63a7\u5236\u5e8f\u5217\u6765\u8c03\u6574\u884c\u6587\u7ec4\u7ec7\u7ed3\u6784\u3002\u4ed6\u4eec\u5206\u522b\u662f\uff1a</p> <ul> <li><code>\\section{\u00b7}</code></li> <li><code>\\subsection{\u00b7}</code></li> <li><code>\\subsubsection{\u00b7}</code></li> <li><code>\\paragraph{\u00b7}</code></li> <li><code>\\subparagraph{\u00b7}</code></li> </ul>"},{"location":"basic/latex/#_5","title":"\u6587\u6863\u76ee\u5f55","text":"<p>\u6211\u4eec\u5c1d\u8bd5\u5728\u6e32\u67d3\u533a <code>\\maketitle</code> \u540e\u52a0\u5165\u5982\u4e0b\u63a7\u5236\u547d\u4ee4\uff1a</p> <pre><code>\\tableofcontents\n</code></pre> <p>\u6ca1\u9519\uff0c\u6b63\u5982\u4f60\u6240\u60f3\u7684\uff0c\u8fd9\u5c31\u4f1a\u751f\u6210\u6587\u6863\u7684 TOC\uff1a</p> <p></p>"},{"location":"basic/latex/#_6","title":"\u6570\u5b66\u516c\u5f0f","text":""},{"location":"basic/latex/#_7","title":"\u884c\u5185\u516c\u5f0f\u4e0e\u884c\u95f4\u516c\u5f0f","text":"<p>\u9996\u5148\u5f15\u5165\u76f8\u5e94\u5305 amsmath\uff0c\u7136\u540e\u6211\u4eec\u7b80\u5355\u4ecb\u7ecd\u516c\u5f0f\u7684\u5f15\u5165\uff1a</p> <pre><code>\\documentclass[UTF8]{ctexart}\n\n\\usepackage{amsmath} % \u6ce8\u610f\u8fd9\u91cc\u5f15\u5165\u76f8\u5e94\u5305\n\n\\title{Sample Document}\n\\author{c7w}\n\\date{\\today}\n\n\\begin{document}\n\n\\maketitle\n\n\\tableofcontents\n\n\\section{\u6211\u662f Section \u6807\u9898}\n\n\u6211\u662f Section \u4ecb\u7ecd\u3002\n\n\\subsection{\u8fd9\u4e2a Section \u6211\u4eec\u4ecb\u7ecd\u6570\u5b66\u516c\u5f0f\u7684\u5199\u6cd5}\n\n\\subsubsection{\u884c\u5185\u516c\u5f0f}\n\n% \u884c\u5185\u516c\u5f0f\u57fa\u672c\u53ef\u4ee5\u7167\u642c Markdown \u7684\u6a21\u5f0f\u3002\n\n\u521d\u59cb\u5904\u7406 1 - 5 \u4f4d\u7684\u521d\u59cb\u5b57\u7b26\u4e32\u96c6\u5408\u9700\u8981\u5904\u7406 $18 + 18^2 + 18^3 + 18^4 + 18^5 = 2*10^6$ \u7684\u6570\u636e\uff0c\u56e0\u6b64\u9700\u8981 $O(T)$ \u7684\u65f6\u95f4\uff0c\u8fd9\u91cc $T=2*10^6$\u3002\n\n\\subsubsection{\u884c\u95f4\u516c\u5f0f}\n\n% \u884c\u95f4\u516c\u5f0f\u7528 $$ $$ \u6216\u8005 \\[ \\] \u6765\u6846\u4f4f\u90fd\u53ef\u4ee5\uff0c\u4f46\u5728 LaTeX \u4e2d\u524d\u8005\u4f1a\u6539\u53d8\u884c\u6587\u7684\u9ed8\u8ba4\u884c\u95f4\u8ddd\uff0c\u56e0\u6b64\u4e0d\u63a8\u8350\u91c7\u7528\u3002\n\n\\[\n\\text{dp}[i] = \\text{dp}[next[i]]+1, next[i] &gt; 0.\n\\]\n\n\n\\end{document}\n</code></pre> <p></p>"},{"location":"basic/latex/#_8","title":"\u4e0a\u4e0b\u6807\u3001\u6839\u5f0f\u4e0e\u5206\u5f0f","text":"<ul> <li>\u4e0a\u4e0b\u6807\u8bf7\u4f7f\u7528 <code>^</code> \u4e0e <code>_</code></li> <li>\u6839\u5f0f\u4e0e\u5206\u5f0f\u8bf7\u4f7f\u7528 <code>\\sqrt{\u00b7}</code> \u4e0e <code>\\frac{\u00b7}{\u00b7}</code></li> <li>\u5728\u884c\u95f4\u516c\u5f0f\u548c\u884c\u5185\u516c\u5f0f\u4e2d\uff0c\u5206\u5f0f\u7684\u8f93\u51fa\u6548\u679c\u662f\u6709\u5dee\u5f02\u7684\u3002\u5982\u679c\u8981\u5f3a\u5236\u884c\u5185\u6a21\u5f0f\u7684\u5206\u5f0f\u663e\u793a\u4e3a\u884c\u95f4\u6a21\u5f0f\u7684\u5927\u5c0f\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>\\dfrac</code>, \u53cd\u4e4b\u53ef\u4ee5\u4f7f\u7528 <code>\\tfrac</code></li> </ul>"},{"location":"basic/latex/#_9","title":"\u8fd0\u7b97\u7b26","text":"<p>\u4e00\u4e9b\u5c0f\u7684\u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u5728\u6570\u5b66\u6a21\u5f0f\u4e0b\u76f4\u63a5\u8f93\u5165\uff1b\u53e6\u4e00\u4e9b\u9700\u8981\u7528\u63a7\u5236\u5e8f\u5217\u751f\u6210\uff0c\u5982</p> <pre><code>\\[ \\pm\\; \\times \\; \\div\\; \\cdot\\; \\cap\\; \\cup\\;\n\\geq\\; \\leq\\; \\neq\\; \\approx \\; \\equiv \\]\n</code></pre> <p>\u8fde\u52a0\u3001\u8fde\u4e58\u3001\u6781\u9650\u3001\u79ef\u5206\u7b49\u5927\u578b\u8fd0\u7b97\u7b26\u5206\u522b\u7528 <code>\\sum</code>, <code>\\prod</code>, <code>\\lim</code>, <code>\\int</code> \u751f\u6210\u3002\u4ed6\u4eec\u7684\u4e0a\u4e0b\u6807\u5728\u884c\u5185\u516c\u5f0f\u4e2d\u88ab\u538b\u7f29\uff0c\u4ee5\u9002\u5e94\u884c\u9ad8\u3002\u6211\u4eec\u53ef\u4ee5\u7528 <code>\\limits</code> \u548c <code>\\nolimits</code> \u6765\u5f3a\u5236\u663e\u5f0f\u5730\u6307\u5b9a\u662f\u5426\u538b\u7f29\u8fd9\u4e9b\u4e0a\u4e0b\u6807\u3002\u4f8b\u5982\uff1a</p> <pre><code>$ \\sum_{i=1}^n i\\quad \\prod_{i=1}^n $\n$ \\sum\\limits _{i=1}^n i\\quad \\prod\\limits _{i=1}^n $\n\\[ \\lim_{x\\to0}x^2 \\quad \\int_a^b x^2 dx \\]\n\\[ \\lim\\nolimits _{x\\to0}x^2\\quad \\int\\nolimits_a^b x^2 dx \\]\n</code></pre> <p>\u591a\u91cd\u79ef\u5206\u53ef\u4ee5\u4f7f\u7528 <code>\\iint</code>, <code>\\iiint</code>, <code>\\iiiint</code>, <code>\\idotsint</code> \u7b49\u547d\u4ee4\u8f93\u5165\u3002</p> <pre><code>\\[ \\iint\\quad \\iiint\\quad \\iiiint\\quad \\idotsint \\]\n</code></pre> <p></p>"},{"location":"basic/latex/#_10","title":"\u5b9a\u754c\u7b26","text":"<p>\u5404\u79cd\u62ec\u53f7\u7528 <code>()</code>, <code>[]</code>, <code>\\{\\}</code>, <code>\\langle\\rangle</code> \u7b49\u547d\u4ee4\u8868\u793a\uff1b\u6ce8\u610f\u82b1\u62ec\u53f7\u901a\u5e38\u7528\u6765\u8f93\u5165\u547d\u4ee4\u548c\u73af\u5883\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u5728\u6570\u5b66\u516c\u5f0f\u4e2d\u5b83\u4eec\u524d\u9762\u8981\u52a0 <code>\\</code>\u3002</p> <p>\u56e0\u4e3a LaTeX \u4e2d <code>|</code> \u548c <code>\\|</code> \u7684\u5e94\u7528\u8fc7\u4e8e\u968f\u610f\uff0camsmath \u5b8f\u5305\u63a8\u8350\u7528 <code>\\lvert\\rvert</code> \u548c <code>\\lVert\\rVert</code> \u53d6\u800c\u4ee3\u4e4b\u3002</p> <p>\u4e3a\u4e86\u8c03\u6574\u8fd9\u4e9b\u5b9a\u754c\u7b26\u7684\u5927\u5c0f\uff0camsmath \u5b8f\u5305\u63a8\u8350\u4f7f\u7528 <code>\\big</code>, <code>\\Big</code>, <code>\\bigg</code>, <code>\\Bigg</code> \u7b49\u4e00\u7cfb\u5217\u547d\u4ee4\u653e\u5728\u4e0a\u8ff0\u62ec\u53f7\u524d\u9762\u8c03\u6574\u5927\u5c0f\u3002</p>"},{"location":"basic/latex/#_11","title":"\u7701\u7565\u53f7","text":"<p>\u7701\u7565\u53f7\u7528 <code>\\dots</code>, <code>\\cdots</code>, <code>\\vdots</code>, <code>\\ddots</code> \u7b49\u547d\u4ee4\u8868\u793a\u3002<code>\\dots</code> \u548c <code>\\cdots</code> \u7684\u7eb5\u5411\u4f4d\u7f6e\u4e0d\u540c\uff0c\u524d\u8005\u4e00\u822c\u7528\u4e8e\u6709\u4e0b\u6807\u7684\u5e8f\u5217\u3002</p>"},{"location":"basic/latex/#_12","title":"\u77e9\u9635","text":"<p><code>amsmath</code> \u7684 <code>pmatrix</code>, <code>bmatrix</code>, <code>Bmatrix</code>, <code>vmatrix</code>, <code>Vmatrix</code> \u7b49\u73af\u5883\u53ef\u4ee5\u5728\u77e9\u9635\u4e24\u8fb9\u52a0\u4e0a\u5404\u79cd\u5206\u9694\u7b26\u3002</p> <pre><code>\\[ \\begin{pmatrix} a&amp;b\\\\c&amp;d \\end{pmatrix} \\quad\n\\begin{bmatrix} a&amp;b\\\\c&amp;d \\end{bmatrix} \\quad\n\\begin{Bmatrix} a&amp;b\\\\c&amp;d \\end{Bmatrix} \\quad\n\\begin{vmatrix} a&amp;b\\\\c&amp;d \\end{vmatrix} \\quad\n\\begin{Vmatrix} a&amp;b\\\\c&amp;d \\end{Vmatrix} \\]\n</code></pre> <p></p>"},{"location":"basic/latex/#_13","title":"\u591a\u884c\u516c\u5f0f","text":"<p>\u53ef\u4ee5\u7528 <code>aligned</code> \u73af\u5883\u6765\u5b9e\u73b0\uff0c\u7528 <code>&amp;</code> \u5b9e\u73b0\u4f4d\u7f6e\u5bf9\u9f50\u3002</p> <pre><code>\\[\n\\begin{aligned}\nx = a+b+c+ \\\\\n+d+e+f+g+d+d+d+d+d+d+d+d+d+d+d+d \\\\\n+h+i \\\\\n+1 \\\\\n\\end{aligned}\n\\]\n\n\\[\n\\begin{aligned}\nx &amp;= a+b+c+ \\\\\n&amp; +d+e+f+g+d+d+d+d+d+d+d+d+d+d+d+d \\\\\n&amp; +h+i \\\\\n&amp; +1 \\\\\n\\end{aligned}\n\\]\n</code></pre> <p>\u6548\u679c\uff1a</p> <p></p> <p>\u82e5\u60f3\u8981\u516c\u5f0f\u81ea\u5e26\u7f16\u53f7\uff0c\u53ef\u4ee5\u7528 <code>gather</code> \u548c <code>align</code> \u73af\u5883\uff0c\u5176\u4e2d <code>gather</code> \u73af\u5883\u5c06\u516c\u5f0f\u5206\u884c\u6e32\u67d3\uff0c<code>align</code> \u540c\u4e0a\u8ff0 <code>aligned</code>\uff0c\u53ef\u4ee5\u63a7\u5236\u5bf9\u9f50\uff1a</p> <pre><code>\\begin{gather}\na = b+c+d \\\\\nx = y+z \\\\ \np = a_1 + a_2 + a_3 + \\dots + a_{200}\n\\end{gather}\n\n\\begin{align}\na &amp;= b+c+d \\\\\nx &amp;= y+z \\\\\np &amp;= a_1 + a_2 + a_3 + \\dots + a_{200}\n\\end{align}\n</code></pre> <p></p> <p>\u82e5\u60f3\u4f7f\u7528\u5206\u6bb5\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>cases</code> \u73af\u5883\uff1a</p> <pre><code>\\[\ny= \n\\begin{cases}\n-x,\\quad x\\leq 0 \\\\\nx,\\quad x&gt;0\n\\end{cases} \n\\]\n</code></pre>"},{"location":"basic/latex/#_14","title":"\u5c0f\u7ed3","text":"<p>\u6570\u5b66\u516c\u5f0f\u662f\u5728\u5f15\u5165\u4e86 amsmath \u5305\u4e4b\u540e\uff0c\u5229\u7528\u5176\u63d0\u4f9b\u7684\u5404\u79cd\u5404\u6837\u6b21\u73af\u5883\u6765\u5b9e\u73b0\u4e86\u8f83\u4e3a\u590d\u6742\u7684\u516c\u5f0f\u7684\u7f16\u8f91\u3002\u6574\u4f53\u6765\u8bf4\uff0c\u4e0e Mathjax \u7684\u98ce\u683c\u76f8\u5dee\u4e0d\u5927\uff0c\u56e0\u6b64\u8fc1\u79fb\u5b66\u4e60\u8d77\u6765\u4e5f\u5341\u5206\u65b9\u4fbf\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u518d\u63d0\u4f9b\u8f85\u52a9\u5de5\u5177\uff1a</p> <ul> <li>https://mathpix.com/ \u80fd\u591f OCR \u624b\u5199\u4f53\u6216\u662f\u5370\u5237\u4f53\u516c\u5f0f\uff0c\u800c\u540e\u5c06\u56fe\u7247\u4e2d\u7684\u516c\u5f0f\u8f6c\u6362\u6210 LaTeX \u6570\u5b66\u516c\u5f0f\u7684\u4ee3\u7801\u3002</li> </ul>"},{"location":"basic/latex/#_15","title":"\u8868\u683c","text":"<p><code>tabular</code> \u73af\u5883\u63d0\u4f9b\u4e86\u6700\u7b80\u5355\u7684\u8868\u683c\u529f\u80fd\u3002\u5b83\u7528 <code>\\hline</code> \u547d\u4ee4\u8868\u793a\u6a2a\u7ebf\uff0c\u5728\u5217\u683c\u5f0f\u4e2d\u7528 <code>|</code> \u8868\u793a\u7ad6\u7ebf\uff1b\u7528 <code>&amp;</code> \u6765\u5206\u5217\uff0c\u7528 <code>\\\\</code> \u6765\u6362\u884c\uff1b\u6bcf\u5217\u53ef\u4ee5\u91c7\u7528\u5c45\u5de6\u3001\u5c45\u4e2d\u3001\u5c45\u53f3\u7b49\u6a2a\u5411\u5bf9\u9f50\u65b9\u5f0f\uff0c\u5206\u522b\u7528 <code>l</code>\u3001<code>c</code>\u3001<code>r</code> \u6765\u8868\u793a\u3002</p> <pre><code>\\begin{tabular}{|l|c|r|}\n \\hline\n\u64cd\u4f5c\u7cfb\u7edf&amp; \u53d1\u884c\u7248&amp; \u7f16\u8f91\u5668\\\\\n \\hline\nWindows &amp; MikTeX &amp; TexMakerX \\\\\n \\hline\nUnix/Linux &amp; teTeX &amp; Kile \\\\\n \\hline\nMac OS &amp; MacTeX &amp; TeXShop \\\\\n \\hline\n\u901a\u7528&amp; TeX Live &amp; TeXworks \\\\\n \\hline\n\\end{tabular}\n</code></pre> <p></p>"},{"location":"basic/latex/#_16","title":"\u56fe\u7247","text":"<p>\u5728 LaTeX \u4e2d\u63d2\u5165\u56fe\u7247\uff0c\u6709\u5f88\u591a\u79cd\u65b9\u5f0f\u3002\u6700\u597d\u7528\u7684\u5e94\u5f53\u5c5e\u5229\u7528 <code>graphicx</code> \u5b8f\u5305\u63d0\u4f9b\u7684 <code>\\includegraphics</code> \u547d\u4ee4\u3002\u6bd4\u5982\u4f60\u5728\u4f60\u7684 TeX \u6e90\u6587\u4ef6\u540c\u76ee\u5f55\u4e0b\uff0c\u6709\u540d\u4e3a <code>a.jpg</code> \u7684\u56fe\u7247\uff0c\u4f60\u53ef\u4ee5\u7528\u8fd9\u6837\u7684\u65b9\u5f0f\u5c06\u5b83\u63d2\u5165\u5230\u8f93\u51fa\u6587\u6863\u4e2d\uff1a</p> <pre><code>\\documentclass{article}\n\\usepackage{graphicx}\n\\begin{document}\n\\includegraphics{a.jpg}\n\\end{document}\n</code></pre> <p>\u60f3\u8981\u4e86\u89e3\u66f4\u591a\uff0c\u53c2\u89c1 <code>graphicx</code> \u7684\u6587\u6863\uff1ahttp://texdoc.net/texmf-dist/doc/latex/graphics/graphicx.pdf\u3002</p> <p>\u6d6e\u52a8\u4f53\u73af\u5883</p> <p>\u4ec0\u4e48\u662f\u6d6e\u52a8\u4f53\u73af\u5883\uff1a<code>table</code> \u4e0e <code>figure</code>\uff0c\u4e24\u79cd\u6d6e\u52a8\u4f53\u73af\u5883\u53ef\u4ee5\u66ff\u4ee3\u4e0a\u8ff0\u7684\u8868\u683c\u548c\u56fe\u7247\u73af\u5883\uff0c\u5b9e\u73b0\u4e3a\u8868\u683c\u6216\u56fe\u7247\u81ea\u52a8\u5b89\u6392\u4f4d\u7f6e\u3002</p> <p>\u60f3\u4e86\u89e3\u66f4\u591a\u6709\u5173\u6d6e\u52a8\u4f53\u73af\u5883\u7684\u5185\u5bb9\uff0c\u8be6\u89c1\u8fd9\u91cc\u3002</p>"},{"location":"basic/latex/#_17","title":"\u9875\u9762\u8bbe\u7f6e","text":""},{"location":"basic/latex/#_18","title":"\u9875\u8fb9\u8ddd","text":"<p>\u8bbe\u7f6e\u9875\u8fb9\u8ddd\uff0c\u63a8\u8350\u4f7f\u7528 <code>geometry</code> \u5b8f\u5305\u3002\u53ef\u4ee5\u5728\u8fd9\u91cc\u67e5\u770b\u5b83\u7684\u8bf4\u660e\u6587\u6863\u3002</p> <p>\u6bd4\u5982\u6211\u5e0c\u671b\uff0c\u5c06\u7eb8\u5f20\u7684\u957f\u5ea6\u8bbe\u7f6e\u4e3a 20cm\u3001\u5bbd\u5ea6\u8bbe\u7f6e\u4e3a 15cm\u3001\u5de6\u8fb9\u8ddd 1cm\u3001\u53f3\u8fb9\u8ddd 2cm\u3001\u4e0a\u8fb9\u8ddd 3cm\u3001\u4e0b\u8fb9\u8ddd 4cm\uff0c\u53ef\u4ee5\u5728\u5bfc\u8a00\u533a\u52a0\u4e0a\u8fd9\u6837\u51e0\u884c\uff1a</p> <pre><code>\\usepackage{geometry}\n\\geometry{papersize={20cm,15cm}}\n\\geometry{left=1cm,right=2cm,top=3cm,bottom=4cm}\n</code></pre>"},{"location":"basic/latex/#_19","title":"\u9875\u7709\u9875\u811a","text":"<p>\u8bbe\u7f6e\u9875\u7709\u9875\u811a\uff0c\u63a8\u8350\u4f7f\u7528 <code>fancyhdr</code> \u5b8f\u5305\u3002\u53ef\u4ee5\u5728\u8fd9\u91cc\u67e5\u770b\u5b83\u7684\u8bf4\u660e\u6587\u6863\u3002</p> <p>\u6bd4\u5982\u6211\u5e0c\u671b\uff0c\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u9875\u7709\uff1b\u9875\u811a\u7684\u6b63\u4e2d\u5199\u4e0a\u9875\u7801\uff1b\u9875\u7709\u548c\u6b63\u6587\u4e4b\u95f4\u6709\u4e00\u9053\u5bbd\u4e3a 0.4pt \u7684\u6a2a\u7ebf\u5206\u5272\uff0c\u53ef\u4ee5\u5728\u5bfc\u8a00\u533a\u52a0\u4e0a\u5982\u4e0b\u51e0\u884c\uff1a</p> <pre><code>\\usepackage{fancyhdr}\n\\pagestyle{fancy}\n\\lhead{\u9875\u7709\u5de6\u4fa7}\n\\chead{\u9875\u7709\u4e2d\u95f4}\n\\rhead{\u9875\u7709\u53f3\u4fa7}\n\\lfoot{}\n\\cfoot{\\thepage}\n\\rfoot{}\n\\renewcommand{\\headrulewidth}{0.4pt}\n\\renewcommand{\\headwidth}{\\textwidth}\n\\renewcommand{\\footrulewidth}{0pt}\n</code></pre>"},{"location":"basic/latex/#_20","title":"\u6bb5\u95f4\u8ddd","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u957f\u5ea6 <code>\\parskip</code> \u7684\u503c\u6765\u8c03\u6574\u6bb5\u95f4\u8ddd\u3002\u4f8b\u5982\u5728\u5bfc\u8a00\u533a\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>\\addtolength{\\parskip}{.4em}\n</code></pre> <p>\u5219\u53ef\u4ee5\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u6bb5\u95f4\u8ddd 0.4em\u3002\u5982\u679c\u9700\u8981\u51cf\u5c0f\u6bb5\u95f4\u8ddd\uff0c\u53ea\u9700\u5c06\u8be5\u6570\u503c\u6539\u4e3a\u8d1f\u503c\u5373\u53ef\u3002</p>"},{"location":"basic/latex/#_21","title":"\u5f15\u7528\u4e0e\u5c3e\u6ce8\u811a\u6ce8","text":""},{"location":"basic/latex/#_22","title":"\u4ea4\u53c9\u5f15\u7528","text":"<p>\u4ea4\u53c9\u5f15\u7528\u8bbe\u7f6e\u65b9\u6cd5\uff1a</p> <ul> <li>\u7ed9\u5bf9\u8c61\u547d\u540d\uff1a<code>\\label{name}</code></li> <li>\u5f15\u7528\u5bf9\u8c61\uff1a<code>\\ref{name}</code></li> </ul> <p>\u6ce8\u610f\uff0c\u5728\u5f15\u7528\u5bf9\u8c61\u65f6\uff0c<code>\\ref{name}</code> \u4f1a\u88ab\u66ff\u6362\u4f1a\u88ab\u5f15\u7528\u5bf9\u8c61\u7684\u7f16\u53f7\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u88ab\u5f15\u7528\u5bf9\u8c61\u5728\u6587\u6863\u4e2d\u662f\u7b2c 5 \u4e2a\u88ab\u547d\u540d\u7684\uff0c\u90a3\u4e48\u8fd9\u91cc\u5c31\u4f1a\u88ab\u66ff\u6362\u4e3a 5.</p> <p>\u8981\u60f3\u907f\u514d\u56fe/\u8868/\u8bba\u6587\u7b49\u7b49\u5f15\u7528\u5728\u8ba1\u6570\u4e0a\u4e92\u76f8\u5f71\u54cd\uff0c\u4f60\u53ef\u4ee5\u5728\u547d\u540d\u65f6\u547d\u540d\u4e3a <code>tag:name</code> \u7684\u683c\u5f0f\uff0c\u5f15\u7528\u65f6\u4f7f\u7528 <code>tag:name</code> \u7684\u683c\u5f0f\u6765\u5f15\u7528\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u4e9b tag \u6709\uff1a</p> Tag Description <code>ch:</code> chapter <code>sec:</code> section <code>subsec:</code> subsection <code>fig:</code> figure <code>tab:</code> table <code>eq:</code> equation <code>lst:</code> code listing <code>itm:</code> enumerated list item <code>alg:</code> algorithm <code>app:</code> appendix subsection"},{"location":"basic/latex/#_23","title":"\u5c3e\u6ce8\u811a\u6ce8","text":"<p>\u5c3e\u6ce8\u76f4\u63a5\u5728\u6700\u540e\u5199\u5c31\u884c\uff0c\u8bb0\u5f97\u8bbe\u7f6e\u5f15\u7528\u3002</p> <p>\u811a\u6ce8\u53ef\u4ee5\u4f7f\u7528 <code>\\footnote{\u89d2\u6ce8\u5185\u5bb9}</code> \u6765\u58f0\u660e\u3002</p> <p>\u60f3\u4e86\u89e3\u8be5\u5982\u4f55\u66f4\u597d\u5730\u5f15\u5165\u53c2\u8003\u6587\u732e\uff0c\u8bf7\u5b66\u4e60 BibTeX \u5b8f\u5305\u3002</p> <ul> <li>https://zh.wikipedia.org/wiki/BibTeX</li> </ul>"},{"location":"basic/latex/#_24","title":"\u5217\u8868\u4e0e\u679a\u4e3e","text":"<pre><code>\\begin{enumerate}\n    \\item \\LaTeX{} \u597d \u5904 \u90fd \u6709 \u5565\n        \\begin{description}\n            \\item[\u597d \u7528] \u4f53 \u9a8c \u597d \u624d \u662f \u771f \u7684 \u597d\n            \\item[\u597d \u770b] \u5f3a \u8feb \u75c7 \u7684 \u798f \u97f3\n            \\item[\u5f00 \u6e90] \u4f17 \u4eba \u62fe \u67f4 \u706b \u7130 \u9ad8\n        \\end{description}\n    \\item \u8fd8 \u6709 \u5462?\n        \\begin{itemize}\n            \\item \u597d \u5904 1\n            \\item \u597d \u5904 2\n    \\end{itemize}\n\\end{enumerate}\n</code></pre>"},{"location":"basic/latex/#latex_6","title":"LaTeX \u540e\u7eed\u5b66\u4e60","text":""},{"location":"basic/latex/#_25","title":"\u66f4\u591a\u5b8f\u5305","text":"<p>\u5b8f\u5305\u4e00\u822c\u90fd\u4f1a\u63d0\u4f9b\u76f8\u5e94\u7684\u6587\u6863\u4f9b\u6211\u4eec\u9605\u8bfb\u4f7f\u7528\u3002</p> <p>\u8fd9\u91cc\u63d0\u4f9b\u67e5\u8be2\u5b8f\u5305\u5bf9\u5e94\u6587\u6863\u7684\u7f51\u7ad9\uff1a</p> <ul> <li>https://texdoc.org/index.html</li> </ul> <p></p>"},{"location":"basic/latex/#_26","title":"\u5236\u4f5c\u81ea\u5df1\u7684\u6a21\u677f","text":"<p>\u8be6\u89c1\u53c2\u8003\u8d44\u6599\u4e2d <code>.cls</code> \u6587\u4ef6\u8be6\u89e3\u90e8\u5206\u3002\u6211\u4eec\u540c\u65f6\u63a8\u8350\u8bfb\u8005\u53ef\u4ee5\u53bb\u591a\u8bfb\u4e00\u8bfb\u5176\u4ed6\u5df2\u5b58\u5728\u7684 Template \u7684 <code>.cls</code> \u5185\u5bb9\u3002</p>"},{"location":"basic/latex/#_27","title":"\u5236\u4f5c\u5e7b\u706f\u7247","text":"<p>\u4f7f\u7528 Beamer \u5b8f\u5305\u53ef\u4ee5\u5236\u4f5c\u5e7b\u706f\u7247\u3002\u8be6\u89c1\uff1a</p> <ul> <li>https://www.overleaf.com/learn/latex/Beamer</li> </ul> <p>\u540c\u65f6\uff0c\u6821\u5185\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9002\u7528\u4e8e\u5404\u79cd pre \u7684 Beamer \u6a21\u677f\u3002</p>"},{"location":"basic/latex/#_28","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\uff08\u63a8\u8350\uff09\u4e00\u4efd\u5176\u5b9e\u5f88\u77ed\u7684 LaTeX \u5165\u95e8\u6587\u6863\uff1ahttps://liam.page/2014/09/08/latex-introduction/</li> <li>\uff08\u63a8\u8350\uff09\u5982\u4f55\u4f7f\u7528 LaTeX \u6392\u7248\u8bba\u6587\uff1ahttps://github.com/tuna/thulib-latex-talk</li> <li>\uff08<code>.cls</code> \u6587\u4ef6\u8be6\u89e3\uff09How to write a LaTeX class file and design your own CV\uff1a https://www.overleaf.com/learn/latex/How_to_write_a_LaTeX_class_file_and_design_your_own_CV_(Part_1)</li> </ul>"},{"location":"basic/linux/","title":"Linux","text":""},{"location":"basic/linux/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u6709\u4e00\u53f0\u81ea\u5df1\u7684\u7535\u8111</li> <li>\u613f\u610f\u52a8\u624b\u5b9e\u8df5\u7684\u51b3\u5fc3\uff08\u591a\u5c1d\u8bd5\uff09</li> <li>\u505a\u597d\u7b14\u8bb0\u6574\u7406\u4e0e\u603b\u7ed3\u7684\u80fd\u529b\uff08\u9057\u5fd8\u540e\u4fbf\u4e8e\u5feb\u901f\u56de\u5fc6\uff09</li> </ul>"},{"location":"basic/linux/#prologue","title":"\u5e8f\u8a00 Prologue","text":""},{"location":"basic/linux/#what-is-linux","title":"What Is Linux?","text":"<p>Linux \u662f\u4e00\u79cd\u81ea\u7531\u548c\u5f00\u653e\u6e90\u7801\u7684\u7c7b UNIX \u64cd\u4f5c\u7cfb\u7edf\uff0c\u5176\u5185\u6838\u7531 Linus Torvalds \u5728 1991 \u5e74\u53d1\u5e03\u3002</p> <p>Linux \u4e5f\u662f\u81ea\u7531\u8f6f\u4ef6\u548c\u5f00\u653e\u6e90\u4ee3\u7801\u8f6f\u4ef6\u53d1\u5c55\u4e2d\u6700\u8457\u540d\u7684\u4f8b\u5b50\uff0c\u53ea\u8981\u9075\u5faa GNU\uff0c\u4efb\u4f55\u4e2a\u4eba\u548c\u673a\u6784\u90fd\u53ef\u4ee5\u81ea\u7531\u5730\u4f7f\u7528 Linux \u7684\u6240\u6709\u5e95\u5c42\u6e90\u4ee3\u7801\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5f97\u5230\u6765\u81ea\u5168\u4e16\u754c\u8f6f\u4ef6\u7231\u597d\u8005\u548c\u7ec4\u7ec7\u7684\u5f00\u53d1\u652f\u6301\u3002</p> <p>Linux \u4ee5\u5404\u79cd\u5f62\u5f0f\u88ab\u5e7f\u6cdb\u5e94\u7528\u5728\u5404\u4e2a\u9886\u57df\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li>\u670d\u52a1\u5668\u3001\u4e3b\u673a\u3001\u8d85\u7ea7\u8ba1\u7b97\u673a</li> <li>\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff08\u673a\u9876\u76d2\u3001\u79fb\u52a8\u8bbe\u5907\u7b49\uff09</li> <li>\u57fa\u7840\u8bbe\u65bd\uff08\u7ea2\u7eff\u706f\u3001\u5de5\u4e1a\u4f20\u611f\u5668\uff09</li> </ul>"},{"location":"basic/linux/#linux-distros","title":"Linux Distros","text":"<p>\u6211\u4eec\u5e73\u65f6\u4f7f\u7528\u7684\u201cLinux\u201d\u4e25\u683c\u6765\u8bf4\u662f Linux \u53d1\u884c\u7248\u672c\uff0c\u800c Linux \u72ed\u4e49\u4e0a\u5355\u6307\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\u3002</p> <p>\u53d1\u884c\u7248\u672c\u5728\u5185\u6838\u7684\u57fa\u7840\u4e0a\u8fd8\u5305\u62ec\u5b89\u88c5\u5de5\u5177\u3001\u7cfb\u7edf\u914d\u7f6e\u3001\u56fe\u5f62\u684c\u9762\u754c\u9762\u3001\u5404\u79cd GNU \u8f6f\u4ef6\u7b49\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u7cfb\u7edf\u80fd\u591f\u9002\u7528\u4e8e\u5404\u79cd\u4f7f\u7528\u76ee\u7684\u3002</p> <p>\u5e38\u89c1\u7684 Linux \u53d1\u884c\u7248\u6709 Debian\u3001Ubuntu\u3001Fedora\u3001CentOS\u3001Arch Linux \u7b49\u3002\u4e0d\u540c\u7684\u53d1\u884c\u7248\u4f7f\u7528\u7684\u8f6f\u4ef6\u4e0d\u540c\uff0c\u6709\u4e9b\u53d1\u884c\u7248\u672c\u662f\u8bbe\u8ba1\u6210\u4e13\u95e8\u7684\u76ee\u7684\uff08\u6bd4\u5982 Kali \u7528\u4e8e\u7f51\u5b89\uff09\u3002</p> <p>\u6211\u4eec\u4e00\u822c\u4f7f\u7528\u7684\u865a\u62df\u673a\u7684\u53d1\u884c\u7248\u4e3a Ubuntu 20.04\u3002</p>"},{"location":"basic/linux/#ways-to-use-linux","title":"Ways to Use Linux","text":"<p>\u6211\u4eec\u63a5\u89e6 Linux \u7684\u65b9\u5f0f\u901a\u5e38\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>\u5b89\u88c5 Linux \u7cfb\u7edf\uff08\u5355\u7cfb\u7edf\u3001Windows &amp; Linux \u53cc\u7cfb\u7edf\uff09</li> <li>WSL\uff08\u82f1\u8bed\uff1aWindows Subsystem for Linux\uff09(Recommended)</li> <li>\u865a\u62df\u673a\uff08Virtualbox\u3001Docker\uff09</li> <li>\u670d\u52a1\u5668\u8fdc\u7a0b\u8fde\u63a5\uff08SSH\u3001RDP\uff09</li> </ul> <p>\u6211\u63a8\u8350\u6709\u6761\u4ef6\u7684\u540c\u5b66\u7ed9\u7535\u8111\u88c5\u4e00\u4e2aLinux\u7cfb\u7edf\u3002\u8fd9\u6837\u4f60\u5c31\u80fd\u5728\u5404\u79cd\u914d\u7f6e\u4e2d\u5ea6\u8fc7\u4e00\u6bb5\u6f2b\u957f\u800c\u6709\u8da3\u7684\u65f6\u5149\u4e86\u3002</p>"},{"location":"basic/linux/#basic-concepts","title":"Basic Concepts","text":"<ul> <li>GUI\uff1aGraphical User Interface. \u56fe\u5f62\u7528\u6237\u754c\u9762\uff0c\u5982\u5176\u540d\u3002 </li> <li>CLI\uff1aCommand-Line Interface. \u547d\u4ee4\u884c\u754c\u9762\uff0c\u5982\u5176\u540d\u3002</li> <li>Shell\uff1a\u4e00\u79cd\u8f6f\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u89c6\u4e3a\u201c\u7528\u6237\u5230\u5185\u6838\u4e4b\u95f4\u7684\u4e2d\u4ecb\u201d\uff0c\u5b83\u63a5\u53d7\u5e76\u89e3\u6790\uff08\u82f1\u8bed\uff1aParse\uff09\u7528\u6237\u8f93\u5165\u547d\u4ee4\u884c\u7684\u6307\u4ee4\uff0c\u5e76\u8c03\u7528\u5185\u6838\u6240\u63d0\u4f9b\u7684\u5bf9\u5e94\u670d\u52a1\u3002Shell \u7684\u53d1\u660e\u662f\u56e0\u4e3a\u5185\u6838\u5e76\u4e0d\u63d0\u4f9b\u4e0e\u7528\u6237\u4ea4\u4e92\u7684\u65b9\u5f0f\u3002</li> </ul> <p>\u5176\u5b9e Shell \u8fd8\u5206\u4e3a\u56fe\u5f62\u754c\u9762\u548c\u547d\u4ee4\u884c\u754c\u9762\u4e24\u79cd\uff0c\u6bd4\u5982 Windows \u7684\u6587\u4ef6\u6d4f\u89c8\u5668\u3001\u7a0b\u5e8f\u7ba1\u7406\u5668\u90fd\u53ef\u4ee5\u7b97\u662f GUI Shell\uff0c\u4f46\u7528 Linux \u65f6\u6211\u4eec\u4e00\u822c\u8bf4\u7684\u90fd\u662f CLI Shell\u3002</p> <p>\u5e38\u89c1\u7684 Shell \u5305\u62ec sh\u3001bash\u3001zsh\u3001fish \u7b49\u3002</p> <ul> <li>Terminal\uff1a\u7ec8\u7aef\u7684\u540d\u5b57\u6765\u6e90\u4e8e\u5b83\u5728\u7528\u6237\u548c\u673a\u5668\u4ea4\u4e92\u8fc7\u7a0b\u4e2d\u6240\u5904\u7684\u4f4d\u7f6e\uff1a\u7528\u6237\u5728\u7ec8\u7aef\u8f93\u5165\u3001\u673a\u5668\u901a\u8fc7\u7ec8\u7aef\u8f93\u51fa\uff0c\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u4e0d\u518d\u9700\u8981\u4e13\u95e8\u7684\u786c\u4ef6\u5145\u5f53\u7ec8\u7aef\uff0c\u800c\u662f\u5229\u7528\u4e00\u4e2a\u7a0b\u5e8f\u6765\u6a21\u62df\u5176\u884c\u4e3a\u3002\u5f53\u6211\u4eec\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\u6a21\u62df\u5668\uff08\u5982 Windows \u7684 cmd\uff0cLinux \u7684 Konsole\u3001gnome-terminal\uff09\u65f6\uff0c\u4e00\u4e2a Shell \u968f\u5373\u88ab\u8fd0\u884c\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a Shell \u6240\u63d0\u4f9b\u7684 CLI \u8f93\u5165\u6307\u4ee4\u4e86\u3002</li> </ul> <p>\u4e00\u4e2a\u7b80\u5355\u533a\u5206\u4e0a\u8ff0\u672f\u8bed\u7684\u56de\u7b54\uff1ahttps://askubuntu.com/a/506880\u3002</p>"},{"location":"basic/linux/#shell-101","title":"Shell 101","text":"<p>\u6253\u5f00\u7ec8\u7aef\uff0c\u754c\u9762\u4e0a\u4f1a\u51fa\u73b0\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u6837\u5b50\u7684\u63d0\u793a\u7b26\uff1a<code>training@SAST-Training:~$</code>\u3002</p> <p>\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u662f\u5f53\u524d\u8eab\u4efd <code>training</code>\uff0c\u4e3b\u673a\u540d <code>SAST-Training</code>\uff0c\u548c\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55 <code>~</code> \u4ee5\u53ca\u4e00\u4e2a\u7f8e\u5143\u7b26\u53f7\uff08fish \u4e0b\u662f <code>&gt;</code> \u53f7\uff09\uff0c\u8fd9\u4e2a\u7f8e\u5143\u7b26\u53f7\u8868\u660e\u5f53\u524d\u7528\u6237\u4e0d\u662f <code>root</code>\u3002</p> <p>\u5982\u679c\u4f60\u7528 root \u8eab\u4efd\u6253\u5f00 Shell\uff0c\u5448\u73b0\u7684\u63d0\u793a\u7b26\u5927\u6982\u662f\u8fd9\u6837 <code>root@SAST-Training:~#</code>\u3002\u5373 <code>#</code> \u7b26\u53f7\u8868\u660e\u4e86 <code>root</code> \u8eab\u4efd\u3002</p>"},{"location":"basic/linux/#how-does-shell-run-commands","title":"How Does Shell Run Commands?","text":"<p>\u5728 Shell \u4e2d\u4f60\u6bcf\u6b21\u8f93\u5165\u4e00\u4e2a\u547d\u4ee4\uff0c\u8fd9\u4e2a\u547d\u4ee4\u88ab Shell \u89e3\u6790\u3001\u8fd0\u884c\uff0c\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u7ec8\u7aef\u3002</p> <pre><code>training@SAST:~$ echo \"Hello SAST!\"\nHello SAST!\n</code></pre> <p>Shell \u7684\u547d\u4ee4\u7531\u7a7a\u683c\u5206\u5272\uff0c\u7b2c\u4e00\u4e2a\u662f\u8981\u8fd0\u884c\u7684\u7a0b\u5e8f\uff08\u5982\u4e0a\u4f8b <code>echo</code>\uff09\uff0c\u540e\u9762\u8ddf\u5b83\u7684\u53c2\u6570\uff08\u5982\u4e0a\u4f8b <code>\"Hello World!\"</code>\uff09\u3002</p> <p>\u6ce8\u610f\u5230\u6211\u4eec\u628a\u60f3\u8f93\u51fa\u7684 <code>Hello SAST!</code> \u7528\u5f15\u53f7\u6269\u4e86\u8d77\u6765\uff0c\u8fd9\u6837\u672c\u6765\u7a7a\u683c\u5206\u9694\u7684\u4e24\u4e2a\u8bcd\u5c31\u5408\u5e76\u6210\u4e86\u4e00\u4e2a\u53c2\u6570\u3002\uff08\u5176\u5b9e\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u5e76\u4e0d\u9700\u8981\u5c06\u5b83\u4eec\u5408\u5e76\uff0c\u56e0\u4e3a <code>echo</code> \u6307\u4ee4\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u5b57\u7b26\u4e32\u8f93\u5165\u3002\uff09</p> <p>\u53ef\u662f Shell \u600e\u4e48\u77e5\u9053 <code>echo</code> \u6307\u7684\u662f\u4ec0\u4e48\u5462\uff1f\u8fd9\u4e9b\u7a0b\u5e8f\u90fd\u662f Shell \u5185\u7f6e\u7684\u5417\uff1f\u5176\u5b9e\u5f53 Shell \u9047\u5230\u5b83\u4e0d\u8ba4\u8bc6\u7684\u7a0b\u5e8f\u5173\u952e\u5b57\u65f6\uff0c\u4f1a\u67e5\u8be2\u73af\u5883\u53d8\u91cf <code>$PATH</code>\uff0c\u5728\u91cc\u9762\u8bb0\u5f55\u7684\u8def\u5f84\u4e2d\u5bfb\u627e <code>echo</code> \u8fd9\u4e2a\u7a0b\u5e8f\uff0c\u5982\u679c\u627e\u5230\u4fbf\u6267\u884c\u3002\u5982\u679c\u6211\u4eec\u60f3\u77e5\u9053\u8fd9\u4e2a\u7a0b\u5e8f\u5b9e\u9645\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>which echo</code>\u3002</p> <pre><code>training@SAST:~$ echo $PATH\n/usr/local/sbin:/usr/local/bin:\n/usr/sbin:/usr/bin:/sbin:/bin\ntraining@SAST:~$ which echo\n/usr/bin/echo\n</code></pre> <p>\u6240\u4ee5\u5f53\u6211\u4eec\u6267\u884c <code>echo \"Hello\"</code> \u65f6\uff0c\u5b9e\u8d28\u4e0a\u7b49\u4ef7\u4e8e\u6267\u884c <code>/usr/bin/echo \"Hello\"</code>\uff0c\u540e\u8005\u660e\u786e\u6307\u5b9a\u4e86\u8981\u6267\u884c\u7a0b\u5e8f\u7684\u6240\u5728\u76ee\u5f55\u548c\u5b83\u7684\u540d\u5b57\u3002</p>"},{"location":"basic/linux/#basic-commands","title":"Basic Commands","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u4e9b\u57fa\u672c\u6307\u4ee4\u3002</p> Command Description \u76ee\u5f55\u76f8\u5173 pwd \u5f53\u524d\u76ee\u5f55 cd \u5207\u6362\u76ee\u5f55 ls \u67e5\u770b\u76ee\u5f55\u5217\u8868 mkdir \u521b\u5efa\u76ee\u5f55 find \u5728\u5c42\u7ea7\u76ee\u5f55\u4e0b\u641c\u7d22\u6587\u4ef6 \u6587\u4ef6\u76f8\u5173 touch \u521b\u5efa mv \u79fb\u52a8\uff08\u53ef\u7528\u4e8e\u91cd\u547d\u540d\uff09 cp \u62f7\u8d1d rm \u5220\u9664 chmod \u66f4\u6539\u6587\u4ef6\u6743\u9650 chown \u66f4\u6539\u6587\u4ef6\u6240\u5c5e echo \u8f93\u51fa\u63d0\u4f9b\u7684\u6587\u672c file \u67e5\u770b\u6587\u4ef6\u7c7b\u578b cat \u5c06\u6587\u4ef6\u5185\u5bb9\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa \u7528\u6237\u548c\u7ec4\u76f8\u5173 useradd \u521b\u5efa\u7528\u6237 groupadd \u521b\u5efa\u7ec4 passwd \u66f4\u6539\u5bc6\u7801 chpasswd \u6279\u91cf\u66f4\u6539\u5bc6\u7801 su \u4e00\u822c\u7528\u4e8e\u5207\u6362\u7528\u6237 sudo \u4e00\u822c\u7528\u4e8e\u6267\u884c root \u6743\u9650\u6307\u4ee4 <p>\u5176\u4ed6\u4e00\u4e9b\u53ef\u80fd\u7528\u5230\u7684\u6307\u4ee4\u5305\u62ec <code>grep</code>\u3001<code>ps</code>\u3001<code>systemctl</code>\u3001<code>ip</code> \u7b49\u3002</p>"},{"location":"basic/linux/#file-system","title":"File System","text":"<p>\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u7528 <code>ls</code> \u548c <code>cd</code> \u6765\u7ffb\u9605\u7cfb\u7edf\u91cc\u7684\u6587\u4ef6\u4e86\uff01</p> <p>\u9996\u5148\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u8868\u793a\uff1a<code>/</code> \u8868\u793a\u6839\u8def\u5f84\uff0c<code>~</code> \u8868\u793a\u5bb6\u8def\u5f84\uff08<code>/home/username/</code>\uff0c\u5982\u679c\u662f root \u5219\u4e3a <code>/root/</code>\uff09\uff0c<code>.</code> \u8868\u793a\u5f53\u524d\u76ee\u5f55\uff0c<code>..</code> \u8868\u793a\u4e0a\u4e00\u7ea7\u76ee\u5f55\u3002\u8fd9\u4e9b\u8868\u793a\u7701\u53bb\u4e86\u5f88\u591a\u5199\u7edd\u5bf9\u8def\u5f84\u7684\u9ebb\u70e6\u3002\u4f60\u53ef\u4ee5\u8bd5\u8bd5 <code>cd</code> \u5230\u8fd9\u4e9b\u5730\u65b9\uff0c\u7136\u540e\u7528 <code>ls</code> \u67e5\u770b\u76ee\u5f55\u91cc\u7684\u5185\u5bb9\u3002</p> <p>\u6211\u4eec\u6765\u770b\u770b\u6839\u8def\u5f84\u4e0b\u90fd\u6709\u54ea\u4e9b\u6587\u4ef6\u5939\uff1a</p> <p></p> <ul> <li><code>/etc</code> \u76ee\u5f55\u662f\u7cfb\u7edf\u6839\u8def\u5f84\u4e0b\u6700\u91cd\u8981\u7684\u76ee\u5f55\u4e4b\u4e00\uff0c\u5b83\u662f\u7528\u6765\u5b58\u50a8\u64cd\u4f5c\u7cfb\u7edf\u6587\u4ef6\u7684\u516c\u5171\u533a\u57df\uff0c\u6bd4\u5982 <code>/etc/sudoers</code>\u3001<code>/etc/passwd</code> \u5206\u522b\u8bb0\u5f55\u4e86\u62e5\u6709 root \u6743\u9650\u7684\u7528\u6237\u3001\u7cfb\u7edf\u5185\u7684\u6240\u6709\u7528\u6237\u4fe1\u606f\u3002</li> <li><code>/var</code> \u76ee\u5f55\u662f\u7cfb\u7edf\u7684\u670d\u52a1\u6216\u5e94\u7528\u9891\u7e41\u5199\u5165\u7684\u5730\u65b9\uff0c\u6bd4\u5982 <code>/var/log</code> \u5b58\u50a8\u4e86\u7a0b\u5e8f\u7684 log \u6587\u4ef6\u3002</li> <li><code>/tmp</code> \u91cc\u662f\u4e00\u4e9b\u7a0b\u5e8f\u53ea\u9700\u8981\u8bbf\u95ee\u4e00\u4e24\u6b21\u7684\u6587\u4ef6\uff0c\u6bcf\u5f53\u7cfb\u7edf\u91cd\u542f\u65f6\uff0c\u8fd9\u91cc\u7684\u6587\u4ef6\u90fd\u4f1a\u88ab\u6e05\u7a7a\u3002\u6ce8\u610f\u8fd9\u4e2a\u6587\u4ef6\u5939\u9ed8\u8ba4\u53ef\u88ab\u4efb\u4f55\u7528\u6237\u5199\u5165\u3002</li> <li><code>/home</code> \u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u662f\u5404\u4e2a\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u3002</li> <li><code>/mnt</code> \u662f\u6570\u636e\u5377\u7684\u6302\u8f7d\u70b9\uff1b\u901a\u8fc7 USB \u7b49\u63a5\u53e3\u8fde\u63a5\u7684\u5916\u90e8\u5a92\u4f53\u4e5f\u53ef\u80fd\u51fa\u73b0\u5728 <code>/media</code> \u6587\u4ef6\u5939\u4e2d\u3002</li> <li><code>/srv</code> \u5b58\u653e\u8fd9\u4e2a\u670d\u52a1\u5668\u63d0\u4f9b\u7684\u670d\u52a1\u6240\u9700\u7684\u6587\u4ef6\uff08\u5982\u7f51\u7ad9\u8d44\u6e90\uff09\u3002</li> <li><code>/proc</code>\uff1a\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\uff0c\u7528\u4e8e\u5b58\u50a8\u5185\u6838\u548c\u8fdb\u7a0b\u7684\u8fd0\u884c\u65f6\u4fe1\u606f\uff0c\u4f8b\u5982 <code>/proc/cpuinfo</code> \u67e5\u770b CPU \u4fe1\u606f\uff0c<code>/proc/meminfo</code> \u67e5\u770b\u5185\u5b58\u4fe1\u606f\u3002</li> <li><code>/sys</code>\uff1a\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\uff0c\u63d0\u4f9b\u8bbe\u5907\u548c\u9a71\u52a8\u76f8\u5173\u7684\u7cfb\u7edf\u4fe1\u606f\u3002</li> <li><code>/dev</code>\uff1a\u8bbe\u5907\u6587\u4ef6\u76ee\u5f55\uff0c\u4f8b\u5982 <code>/dev/null</code>\uff08\u7a7a\u8bbe\u5907\u6587\u4ef6\uff09\u548c <code>/dev/sda</code>\uff08\u78c1\u76d8\u8bbe\u5907\u6587\u4ef6\uff09\u3002</li> </ul>"},{"location":"basic/linux/#permissions","title":"Permissions","text":"<p>Linux \u7cfb\u7edf\u652f\u6301\u591a\u7528\u6237\u540c\u65f6\u767b\u5f55\u5e76\u6267\u884c\u5404\u81ea\u7684\u4efb\u52a1\u3002\u4e3a\u4e86\u5bf9\u4e0d\u540c\u7528\u6237\u8fdb\u884c\u7ba1\u7406\u63a7\u5236\uff0c\u53ef\u4ee5\u5b9a\u4e49\u7528\u6237\u7ec4\uff08\u82f1\u8bed\uff1agroup\uff09\u6765\u5212\u5206\u4e0d\u540c\u7684\u8bbf\u95ee\u6743\u9650\u3002\u6211\u4eec\u901a\u8fc7\u5177\u4f53\u4f8b\u5b50\u6765\u7406\u89e3\u3002</p> <pre><code>training@SAST: /Documents/sast-training $ ls -l\ntotal 8\ndrwxrwxr-x 2 training training 4096 7\u6708  11 22:31 folder\n-rw-rw-r-- 1 training training    0 7\u6708  11 20:16 hello.txt\n-rwxrwxr-x 1 training training   27 7\u6708  11 22:33 program.sh\n</code></pre> <p>\u5bf9\u4e8e\u76ee\u5f55\u4e2d\u6bcf\u4e00\u9879\u5f00\u5934\u7684 \"-rw-rw-r--\"\uff08\u4ee5\u6587\u672c <code>hello.txt</code> \u4e3a\u4f8b\uff09\u5b57\u6837\uff0c\u4e0b\u56fe\u7ed9\u4e86\u4e00\u4e9b\u89e3\u91ca\uff1a</p> <p></p> <ul> <li>\u5f00\u5934\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f\u7528\u4e8e\u7279\u6b8a\u6743\u9650\u7684 <code>flag</code>\uff0c\u5b83\u6765\u8868\u660e\u8be5\u6587\u4ef6\u7684\u4e00\u4e9b\u7279\u6b8a\u5c5e\u6027\u5982\u6587\u4ef6\u5939\u3001\u8fde\u63a5\u7b49\u3002</li> <li>\u63a5\u4e0b\u6765\u4e5d\u4e2a flag \u6bcf\u4e09\u4e2a\u4e3a\u4e00\u7ec4\uff0c\u5206\u522b\u4ee3\u8868\u6240\u5c5e\u7528\u6237\u3001\u6240\u5c5e\u7ec4\u3001\u6240\u6709\u5176\u4ed6\u7528\u6237\u5bf9\u4e8e\u8fd9\u4e2a\u6587\u4ef6\u7684 r(read)\u3001w(write)\u3001x(execute) \u4e09\u79cd\u8bbf\u95ee\u7684\u6743\u9650\u3002</li> <li>\u9664\u4e86\u7528 rwx \u5b57\u7b26\u6765\u8868\u793a\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u7f16\u7801\u8868\u793a\uff0c\u5176\u4e2d r \u4e3a\u6700\u9ad8\u4f4d 4\uff0cw \u4e2d\u95f4\u4f4d 2\uff0cx \u6700\u4f4e\u4f4d 1\u3002\u4f8b\u5982\u53ef\u8bfb\u5199\u53ef\u6267\u884c\u7684\u6743\u9650\u7f16\u7801\u4e3a 7\uff0c\u53ef\u8bfb\u5199\u4e0d\u53ef\u6267\u884c\u4e3a 6\uff0c\u53ef\u8bfb\u53ef\u6267\u884c\u4e3a 5 \u7b49\u3002</li> </ul> <p>\u5bf9\u4e8e\u4e00\u4e9b\u91cd\u8981\u6587\u4ef6\uff0c\u4f60\u5927\u6982\u4e0d\u5e0c\u671b\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u6216\u8005\u4efb\u610f\u7528\u6237\u5bf9\u5b83\u6709\u8fc7\u591a\u7684\u8bbf\u95ee\u6743\u9650\uff1b\u6216\u8005\u5bf9\u4e8e\u4e00\u4e9b\u521a\u5199\u597d\u7684\u811a\u672c\u6587\u4ef6\u9ed8\u8ba4\u4e3a\u53ef\u8bfb\u5199\u4e0d\u53ef\u6267\u884c\uff0c\u4f60\u5e0c\u671b\u80fd\u591f\u83b7\u5f97\u6267\u884c\u5b83\u7684\u6743\u9650\u3002\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>chmod</code> \u6307\u4ee4\u6765\u6539\u53d8\u6587\u4ef6\u7684\u6743\u9650\u8bbe\u7f6e\u3002</p> <pre><code>chmod +x script.sh     # \u7ed9\u811a\u672c\u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650\uff08\u9ed8\u8ba4\u5bf9\u4e8e\u4efb\u4f55\u4eba (a)\uff09\nchmod 777 public.py    # \u8ba9\u6587\u4ef6\u53ef\u88ab\u4efb\u4f55\u4eba\u8bfb\u5199\u6267\u884c\uff0c777 \u7b49\u4ef7\u4e8e a+rwx\nchmod o-rw journal.txt # \u7981\u6b62\u7ec4\u5916\u7528\u6237 (o) \u7684\u8bfb\u5199\n</code></pre>"},{"location":"basic/linux/#shell-operations","title":"Shell Operations","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b Shell \u4e2d\u80fd\u7528\u5230\u7684\u64cd\u4f5c\u7b26\u3002\u6700\u597d\u8fd8\u662f\u7ed3\u5408\u5b9e\u9645\u5e94\u7528\u6765\u638c\u63e1\u3002</p> Operator Description Example &amp; \u5141\u8bb8\u547d\u4ee4\u5728\u540e\u53f0\u6267\u884c <code>cp -r ./here ./there &amp;</code> &amp;&amp; \u6267\u884c\u591a\u6761\u6307\u4ee4\uff0c\u903b\u8f91\u548c C++ \u7c7b\u4f3c <code>wget someurl/install.sh . &amp;&amp; ./install.sh</code> &gt; \u91cd\u5b9a\u5411\u8f93\u51fa <code>echo \"Hello\" &gt; hello.txt</code> &lt; \u91cd\u5b9a\u5411\u8f93\u5165 <code>./main &lt; in.txt</code> &gt;&gt; \u91cd\u5b9a\u5411\u8f93\u51fa\u5e76\u91c7\u53d6\u201c\u8ffd\u52a0\u201d\u6a21\u5f0f <code>echo cirno &gt;&gt; visitors.txt</code> | \u8fde\u63a5\u524d\u540e\u4e24\u4e2a\u7a0b\u5e8f\u7684\u8f93\u51fa\u548c\u8f93\u5165 <code>ls ~/Documents | grep note.txt</code>"},{"location":"basic/linux/#read-the-manual","title":"Read the Manual","text":"<pre><code>man &lt;command-name&gt;\n</code></pre> <p><code>man</code> \u6307\u4ee4\u662f\u4e86\u89e3\u5404\u79cd\u6307\u4ee4\u5177\u4f53\u7528\u6cd5\u7684\u6700\u5feb\u9014\u5f84\uff0c\u7edd\u5927\u591a\u6570\u7684\u6307\u4ee4\u548c\u8f6f\u4ef6\u90fd\u4f1a\u6709\u5bf9\u5e94\u7684 Manual \u63d0\u4f9b\u67e5\u770b\uff0c\u5728\u91cc\u9762\u4f60\u53ef\u4ee5\u770b\u5230\u6307\u4ee4\u7684\u540d\u79f0\u6765\u6e90\u3001\u4f5c\u8005\u3001\u63cf\u8ff0\u548c\u7528\u6cd5\u7b49\u7b49\u3002</p> <p><code>man</code> \u6240\u6253\u5f00\u7684\u754c\u9762\u652f\u6301\u591a\u79cd\u6d4f\u89c8\u65b9\u5f0f\uff0cVim \u7684 J/K\u3001\u65b9\u5411\u952e\u3001\u56de\u8f66\u952e\u3001\u7ffb\u9875\u952e\u7b49\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u5e76\u4e14\u652f\u6301\u641c\u7d22\u529f\u80fd\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u60f3\u4e86\u89e3 <code>ls</code> \u7684 <code>-h</code> \u9009\u9879\u7684\u4f5c\u7528\uff0c\u53ef\u4ee5\u5728 <code>man ls</code> \u4e2d\u8f93\u5165 <code>/-h</code> \u5e76\u56de\u8f66\uff0c\u641c\u7d22\u5230\u7684 <code>-h</code> \u9009\u9879\u5c31\u4f1a\u9ad8\u4eae\u663e\u793a\uff0c\u7ee7\u7eed\u56de\u8f66\u627e\u5230\u4e0b\u4e00\u4e2a\u7ed3\u679c\u3002<code>/</code> \u662f\u5411\u540e\u641c\u7d22\uff0c\u800c <code>?</code> \u662f\u5411\u524d\u641c\u7d22\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u67e5\u770b\u5e2e\u52a9\u7684\u8f6f\u4ef6\u51d1\u5de7\u6ca1\u6709\u5bf9\u5e94\u7684 Manual\uff0c\u4f60\u603b\u53ef\u4ee5\u8bd5\u8bd5\u5728\u6307\u4ee4\u540d\u540e\u52a0\u4e0a <code>-h / --help</code> \u9009\u9879\uff0c\u901a\u5e38\u6765\u8bf4\u547d\u4ee4\u8f93\u51fa\u9519\u8bef\u65f6\u5b83\u5c31\u4f1a\u6709 Usage \u7684\u63d0\u793a\u3002</p> <p>\u7c7b\u4f3c\u7684\u8f6f\u4ef6\u8fd8\u6709 tldr(too long; didn't read)\u3001cheat(cheatsheet)\u3001fuck \u7b49\uff0c\u5b83\u4eec\u662f\u7cbe\u7b80\u7248\u7684 man\uff0c\u63d0\u4f9b\u4e86\u6307\u4ee4\u7684\u5e38\u89c1\u7528\u6cd5\u3002</p>"},{"location":"basic/linux/#ssh","title":"SSH","text":"<p>\u73b0\u5728\u6211\u4eec\u56de\u5230 SSH \u4e0a\u6765\u3002</p>"},{"location":"basic/linux/#executing-commands","title":"Executing Commands","text":"<p>SSH \u53ef\u4ee5\u76f4\u63a5\u8fdc\u7a0b\u6267\u884c\u547d\u4ee4\u800c\u4e0d\u9700\u8981\u8fde\u63a5\u5230\u8fdc\u7a0b\u7684 Shell \u4e2d\uff0c\u5728\u8fde\u63a5\u547d\u4ee4\u540e\u52a0\u4e0a\u9700\u8981\u6267\u884c\u7684\u547d\u4ee4\uff1a</p> <pre><code>ssh foobar@server [command]\n</code></pre>"},{"location":"basic/linux/#copying-files","title":"Copying Files","text":"<p><code>scp</code> \u6307\u4ee4\u53ef\u4ee5\u4ece\u8fdc\u7a0b\u62f7\u8d1d\u6587\u4ef6\u5230\u672c\u5730/\u4ece\u672c\u5730\u62f7\u8d1d\u6587\u4ef6\u5230\u8fdc\u7a0b\uff0c\u57fa\u672c\u683c\u5f0f\u662f <code>scp &lt;from&gt; &lt;to&gt;</code>\u3002\u5982\u679c\u8981\u62f7\u8d1d\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5e94\u8be5\u4f7f\u7528 flag <code>-r</code> \u8868\u793a\u9012\u5f52\u6df1\u5165\u76ee\u5f55\u3002</p> <pre><code># \u5c06\u672c\u5730\u5f53\u524d\u76ee\u5f55\u7684 test.zip \u62f7\u8d1d\u5230\u8fdc\u7a0b\u7684 ~/test.zip\nscp test.zip training@153.223.56.12:~/test.zip \n# \u5c06\u8fdc\u7a0b\u7684 data.csv \u62f7\u8d1d\u5230\u672c\u5730\u5f53\u524d\u76ee\u5f55\nscp training@152.32.34.12:~/data.csv . \n</code></pre>"},{"location":"basic/linux/#config-file","title":"Config File","text":"<p>\u6bcf\u6b21\u8fde\u63a5\u670d\u52a1\u5668\u90fd\u8981\u8f93\u5165\u7528\u6237\u540d\u3001IP \u548c\u7aef\u53e3\u672a\u514d\u8fc7\u4e8e\u7e41\u7410\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7f16\u8f91 SSH \u914d\u7f6e\u6587\u4ef6\u6765\u7b80\u5316\u547d\u4ee4\u3002\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u4f4d\u4e8e\u5bb6\u8def\u5f84\u7684 <code>.ssh</code> \u6587\u4ef6\u5939\u4e0b\uff0c\u540d\u5b57\u4e3a <code>config</code>\uff08\u5982\u679c\u4e0d\u5b58\u5728\u9700\u81ea\u5df1\u521b\u5efa\uff09\uff0c\u5373 <code>~/.ssh/config</code>\u3002\u5bf9\u4e8e Windows \u7cfb\u7edf\u800c\u8a00\uff0c\u8fd9\u4e2a <code>.ssh</code> \u6587\u4ef6\u5939\u4f4d\u4e8e\u7528\u6237\u76ee\u5f55\u4e0b <code>C:\\Users\\&lt;username&gt;\\.ssh\\config</code>\u3002\u914d\u7f6e\u6587\u4ef6\u5199\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>HOST sast\n    HostName 152.136.177.53\n    Port 8000     (\u9ed8\u8ba422\uff0c\u6b64\u65f6\u4e0d\u9700\u8981\u6307\u5b9a)\n    User root\n</code></pre> <p>\u8fd9\u6837\u6bcf\u6b21\u6211\u4eec\u60f3\u8fde\u63a5\u5230 <code>root@152.136.177.53 -p 8000</code> \u65f6\u53ea\u9700\u8981\u8f93\u5165 <code>ssh sast</code> \u5373\u53ef\u3002</p> <p>\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u540c\u6837\u9002\u7528\u4e8e <code>scp</code> \u547d\u4ee4\uff1a</p> <pre><code># \u524d\u4e00\u5c0f\u8282\u4f8b\u5b50\u7684\u7b80\u7565\u7248\nscp test.zip sast:~/test.zip \nscp sast:~/data.csv . \n</code></pre>"},{"location":"basic/linux/#key-authentication","title":"Key Authentication","text":"<p>SSH \u914d\u7f6e\u6587\u4ef6\u5e76\u4e0d\u80fd\u6307\u5b9a\u767b\u5f55\u65f6\u7684\u5bc6\u7801\uff08\u663e\u7136\u8fd9\u6837\u4f1a\u5f88\u4e0d\u5b89\u5168\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u767b\u5f55\u65f6\u8fd8\u662f\u8981\u8f93\u5165\u5bc6\u7801\u3002\u80fd\u4e0d\u80fd\u8fde\u5bc6\u7801\u90fd\u4e0d\u7528\u8f93\u5165\uff1f</p> <p>\u5229\u7528\u5bc6\u7801\u5b66\u4e2d\u7684\u516c\u94a5-\u79c1\u94a5\u975e\u5bf9\u79f0\u52a0\u5bc6\u673a\u5236\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u670d\u52a1\u5668\u4e2d\u9884\u5b58\u597d\u81ea\u5df1\u7684\u516c\u94a5\uff0c\u5c31\u53ef\u4ee5\u5728\u767b\u5f55\u65f6\u81ea\u52a8\u5316\u9a8c\u8bc1\u6d41\u7a0b\u800c\u514d\u53bb\u5bc6\u7801\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u7684\u5173\u952e\u662f\u5411\u670d\u52a1\u5668 Alice \u8bc1\u660e\u81ea\u5df1\u662f\u6301\u6709\u79c1\u94a5\u7684\u90a3\u4e2a\u5ba2\u6237\u7aef Bob\uff1aAlice \u7528 Bob \u9884\u5b58\u7684\u516c\u94a5\u52a0\u5bc6\u4e00\u4e2a\u7528\u4e8e\u9a8c\u8bc1\u7684\u4e32\u53d1\u7ed9 Bob\uff0cBob \u7528\u79c1\u94a5\u89e3\u5bc6\u5f97\u5230\u8fd9\u4e2a\u4e32\u540e\u53d1\u7ed9 Alice\uff0c\u5c31\u80fd\u8bc1\u660e\u81ea\u5df1\u786e\u5b9e\u6301\u6709\u4e0e\u516c\u94a5\u5bf9\u5e94\u7684\u79c1\u94a5\u3002</p> <p></p> <p>\u5bc6\u94a5\u751f\u6210</p> <pre><code>ssh-keygen\n</code></pre> <p>\u6309\u7167\u547d\u4ee4\u884c\u63d0\u793a\u6d41\u7a0b\uff0c\u9ed8\u8ba4\u5728 <code>~/.ssh</code> \u4e0b\u751f\u6210\u516c\u94a5 <code>id_rsa.pub</code> \u548c\u79c1\u94a5 <code>id_rsa</code>\uff0c\u540e\u8005\u9700\u8981\u59a5\u5584\u4fdd\u5b58\u3002\u901a\u8fc7 <code>ssh-keygen -y -f ~/.ssh/id_rsa</code> \u68c0\u9a8c\u5bc6\u94a5\u7684\u5b58\u5728\u3002</p> <p>\u5728\u670d\u52a1\u5668\u4e2d\u5b58\u653e\u516c\u94a5</p> <p>\u5728\u63a5\u53d7 SSH \u8fde\u63a5\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u5668\u7684 SSH \u4f1a\u5728\u76ee\u6807\u7528\u6237\u7684 <code>~/.ssh/authorized_keys</code> \u4e2d\u67e5\u627e\u516c\u94a5\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u81ea\u5df1\u7684 <code>id_rsa.pub</code> \u4e2d\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u670d\u52a1\u5668\u7684 <code>authorized_keys</code> \u4e2d\u3002</p> <pre><code>cat ~/.ssh/id_rsa.pub | ssh training 'mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys' \n# Windows \u4e0b\u8def\u5f84\u4e3a ~/.ssh/id_rsa.pub\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u5b8c\u6210\u4e86\u5c06\u672c\u5730\u516c\u94a5\u4fdd\u5b58\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u8fc7\u7a0b\uff0c\u7ecf\u8fc7\u4e4b\u524d\u7684\u5b66\u4e60\uff0c\u4f60\u80fd\u7406\u89e3\u8fd9\u4e2a\u547d\u4ee4\u662f\u5982\u4f55\u6267\u884c\u7684\u5417\uff1f</p> <p><code>ssh-copy-id</code> \u63d0\u4f9b\u4e86\u66f4\u7b80\u4fbf\u7684\u89e3\u51b3\u65b9\u6848\uff1a<code>ssh-copy-id -i ~/.ssh/id_rsa.pub training</code>\u3002</p>"},{"location":"basic/linux/#basic-tools","title":"Basic Tools","text":""},{"location":"basic/linux/#package-manager","title":"Package Manager","text":"<p>\u8f6f\u4ef6\u5305\u7ba1\u7406\u7cfb\u7edf\u662f\u5728\u7535\u8111\u4e2d\u81ea\u52a8\u5b89\u88c5\u3001\u914d\u7f6e\u3001\u5378\u8f7d\u548c\u5347\u7ea7\u8f6f\u4ef6\u5305\u7684\u5de5\u4f5c\u7ec4\u5408\u3002\u4f7f\u7528\u8f6f\u4ef6\u5305\u7ba1\u7406\u7cfb\u7edf\u53ef\u4ee5\u5927\u5927\u7b80\u5316\u5728 Linux \u53d1\u884c\u7248\u4e2d\u5b89\u88c5\u8f6f\u4ef6\u7684\u6d41\u7a0b\u3002\u5e38\u89c1\u7684\u8f6f\u4ef6\u5305\u6709\u4e24\u79cd\u7c7b\u578b\uff1adeb \u8f6f\u4ef6\u5305\uff08\u7531 dpkg \u548c\u5b83\u7684\u524d\u7aef apt \u7ba1\u7406\uff0c\u4f7f\u7528\u4e8e Debian\u3001Ubuntu\uff09\u548c RPM \u8f6f\u4ef6\u5305\uff08\u7531 dnf\u3001yum\u3001ZYpp \u7b49\u524d\u7aef\u7ba1\u7406\uff09\u3002</p> <p>\u7edd\u5927\u591a\u6570\u7684 Linux \u53d1\u884c\u7248\u6216\u7c7b Unix \u7cfb\u7edf\u90fd\u6709\u5b83\u7684\u5305\u7ba1\u7406\u5668\uff0cUbuntu \u6709 <code>apt</code>\uff0cArch Linux \u6709 <code>pacman</code>\uff0cmacOS \u6709 <code>Homebrew</code>\u3002</p> <p>\u5305\u7ba1\u7406\u5668\u7684\u6307\u4ee4\u4e00\u822c\u90fd\u5f88\u7b26\u5408\u76f4\u89c2\uff0c\u5982\u679c\u5931\u8d25\u4e86\u53ef\u4ee5\u901a\u8fc7 <code>man</code> \u6216\u8005 <code>help</code> \u67e5\u770b\u7528\u6cd5\u3002</p> <p>\u7cfb\u7edf\u4e2d\u5305\u7ba1\u7406\u5668\u6240\u4f7f\u7528\u7684\u4ed3\u5e93\u5f80\u5f80\u9ed8\u8ba4\u4f4d\u4e8e\u56fd\u5916\uff0c\u8fd9\u4f7f\u5f97\u6bcf\u6b21\u4ece\u4ed3\u5e93\u62c9\u53d6\u4e1c\u897f\u65f6\u8017\u8d39\u5f88\u957f\u65f6\u95f4\u6216\u8005\u751a\u81f3\u8fde\u4e0d\u4e0a\u3002\u597d\u5728\u6211\u4eec\u56fd\u5185\u6709\u8bb8\u591a\u7684\u955c\u50cf\u6e90\uff0c\u6bd4\u5982\u6e05\u534e\u7684 TUNA\uff0c\u8bbf\u95ee https://mirrors.tuna.tsinghua.edu.cn/help \u53ef\u4ee5\u627e\u5230 Ubuntu \u5728\u5185\u7684\u5404\u79cd\u4ed3\u5e93\u955c\u50cf\u6e90\u914d\u7f6e\u65b9\u6cd5\u3002</p> <p>Homebrew \u7684\u5b89\u88c5\u65b9\u6cd5\uff1a</p> <pre><code>/bin/bash -c \\\n\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre>"},{"location":"basic/linux/#vim","title":"Vim","text":"<p><code>vimtutor</code> explains it all. <code>vimtutor -g zh</code> for Chinese learner.</p> <p></p>"},{"location":"basic/linux/#tmux","title":"tmux","text":"<p>\u6211\u4eec\u6bcf\u6b21\u6253\u5f00\u7ec8\u7aef\u6216\u662f SSH \u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668\u65f6\uff0c\u90fd\u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u4f1a\u8bdd\uff08\u82f1\u6587\uff1asession\uff09\u6765\u8fdb\u884c\u4e34\u65f6\u7684\u4ea4\u4e92\uff0c\u6b64\u65f6\u7a97\u53e3\uff08\u6216\u8fde\u63a5\uff09\u662f\u548c\u5b83\u5f00\u542f\u7684\u8fdb\u7a0b\uff08\u6bd4\u5982 Shell\uff09\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002\u5f53\u6211\u4eec\u5173\u95ed\u7a97\u53e3\u6216\u8005\u65ad\u5f00\u8fde\u63a5\u65f6\uff0c\u5bf9\u5e94\u7684\u8fdb\u7a0b\u4e5f\u968f\u4e4b\u7ec8\u6b62\u4e86\u3002</p> <p>\u4e3a\u4e86\u5728\u4f1a\u8bdd\u7ed3\u675f\u540e\u5176\u5f00\u542f\u7684\u8fdb\u7a0b\u8fd8\u80fd\u7ee7\u7eed\u8fdb\u884c\uff0c\u6211\u4eec\u9700\u8981\u5148\u8fdb\u884c\"\u89e3\u7ed1\"\uff0c\u5728\u540e\u7eed\u9700\u8981\u65f6\u518d\u91cd\u65b0\u8fdb\u884c\u7ed1\u5b9a\u3002tmux \u5b8c\u6210\u7684\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u4efb\u52a1\u3002</p> <pre><code>tmux            # \u521b\u5efa\u65b0\u7684 tmux \u4f1a\u8bdd\ntmux detach     # \u5206\u79bb\u5f53\u524d tmux \u4f1a\u8bdd\uff0c\u5feb\u6377\u952e Ctrl+B D\ntmux ls         # tmux list-session\ntmux attach -t &lt;session-name&gt; # Sessions are labeled by numbers by default\ntmux kill-session -t &lt;session-name&gt;\n</code></pre> <p>\u9664\u4e86\u80fd\u591f\u8ba9\u4efb\u52a1\u6301\u7eed\u8fdb\u884c\uff0ctmux \u8fd8\u6709\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u529f\u80fd\u662f\u5206\u7a97\u53e3\u548c\u5206\u5c4f\u3002</p> <pre><code>Ctrl+B %      # Split horizontally\nCtrl+B \"      # Split vertically\nCtrl+B \u65b9\u5411\u952e  # Switch between panes\n# ...\n</code></pre> <p>\u8fd9\u4e00\u7cfb\u5217\u64cd\u4f5c\u7684\u5feb\u6377\u952e\u57fa\u672c\u4e0a\u90fd\u662f Ctrl+B xxx\uff0c\u8bf7\u81ea\u884c\u5b66\u4e60\u638c\u63e1\u3002</p> <p>\u9644\uff1ahttps://tmuxcheatsheet.com/</p>"},{"location":"basic/linux/#network","title":"Network","text":"<ul> <li><code>ifconfig</code> \u6216 <code>ip addr</code>\uff1a\u67e5\u770b\u548c\u914d\u7f6e\u7f51\u7edc\u63a5\u53e3\u3002</li> <li><code>ping</code>\uff1a\u6d4b\u8bd5\u7f51\u7edc\u8fde\u901a\u6027\u3002</li> <li><code>curl</code> \u548c <code>wget</code>\uff1a\u53d1\u9001 HTTP \u8bf7\u6c42\u3002</li> <li><code>netstat</code> \u6216 <code>ss</code>\uff1a\u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u72b6\u6001\u3002</li> <li><code>scp</code>\uff1a\u8fdc\u7a0b\u62f7\u8d1d\u6587\u4ef6\u3002</li> </ul> <pre><code>ping www.baidu.com # \u7ecf\u5e38\u88ab\u62ff\u6765\u6d4b\u8bd5\u7f51\u7edc\u662f\u5426\u8fde\u901a\ncurl https://net9.org/home/\n</code></pre>"},{"location":"basic/linux/#process-management","title":"Process Management","text":"<ul> <li><code>ps</code>\uff1a\u67e5\u770b\u5f53\u524d\u8fdb\u7a0b\u3002</li> <li><code>top</code> \u548c <code>htop</code>\uff1a\u5b9e\u65f6\u76d1\u63a7\u7cfb\u7edf\u8d44\u6e90\u3002</li> <li><code>kill</code> \u548c <code>killall</code>\uff1a\u7ec8\u6b62\u8fdb\u7a0b\u3002</li> </ul> <pre><code>ps aux | grep nginx\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"basic/linux/#_2","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u60f3\u8981\u5b66\u4e60\u66f4\u591a Linux \u5185\u5bb9\uff1f</p> <ul> <li>TryHackMe \"Linux Fundamentals\" Series https://www.tryhackme.com</li> <li>Missing Semester https://missing.csail.mit.edu/</li> <li>Linux Journey https://linuxjourney.com</li> </ul>"},{"location":"basic/linux/#_3","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>2021 \u6691\u57f9\u8bb2\u4e49 by JuneTheRiver</li> <li>\u83dc\u9e1f\u6559\u7a0b https://www.runoob.com/linux/linux-tutorial.html</li> </ul>"},{"location":"basic/markdown/","title":"Markdown \u5165\u95e8","text":"<p>\u524d\u8a00</p> <p>Markdown \u662f\u4e00\u79cd\u5b66\u4e60\u6210\u672c\u8f83\u4f4e\u7684\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u3002\u5b83\u7528\u7b80\u5355\u7684\u6807\u8bb0\u8bed\u6cd5\u4ee3\u66ff\u6309\u94ae\uff0c\u56e0\u6b64\u80fd\u7701\u53bb\u9891\u7e41\u4f7f\u7528\u9f20\u6807\u8c03\u6574\u6392\u7248\u7684\u9ebb\u70e6\uff0c\u4e3a\u6587\u6863\u7f16\u5199\u8005\u63d0\u4f9b\u4fbf\u5229\u3002\u7528 Markdown \u7f16\u5199\u7684\u5185\u5bb9\u53ef\u5bfc\u51fa\u4e3a HTML\u3001Word\u3001PDF \u7b49\u591a\u79cd\u683c\u5f0f\u7684\u6587\u6863\u3002\u7531\u4e8e\u6613\u8bfb\u6613\u5199\uff0c\u5b83\u5728 GitHub\u3001\u7b80\u4e66\u7b49\u7f51\u7ad9\u4e0a\u4e5f\u6709\u5e7f\u6cdb\u7684\u5e94\u7528\u3002</p> <p>\u901a\u8fc7\u9605\u8bfb\u672c\u6587\u6863\uff0c\u8bfb\u8005\u53ef\u4ee5\u5728\u4e94\u5206\u949f\u5185\u5feb\u901f\u5b66\u4e60\u5230\u5e38\u7528\u7684 Markdown \u6807\u8bb0\u3002\u66f4\u591a\u7684\u5185\u5bb9\u8bf7\u79fb\u6b65\u83dc\u9e1f\u6559\u7a0b\u3002</p> <p>\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u8ba1\u7b97\u673a\u7c7b\u7684\u540c\u5b66\u4eec\u5728\u5927\u4e00\u7684\u6625\u5b63\u5b66\u671f\u5b66\u4f1a Markdown \u6216 LaTeX \u4e8c\u8005\u4e2d\u5176\u4e2d\u4e4b\u4e00\uff0c\u56e0\u4e3a\u8fd9\u5c06\u662f\u6211\u4eec\u540e\u7eed\u5b9e\u9a8c\u62a5\u544a\u6216\u5927\u4f5c\u4e1a\u62a5\u544a\u5c06\u5229\u7528\u7684\u5e38\u7528\u5de5\u5177\u3002</p> <p>\u5728\u5f00\u59cb\u5b66\u4e60 Markdown \u8bed\u6cd5\u4e4b\u524d\uff0c\u5efa\u8bae\u5148\u901a\u8fc7 Typora \u5b98\u7f51 \u5b89\u88c5\u597d Typora \u7f16\u8f91\u5668\u3002</p>"},{"location":"basic/markdown/#_1","title":"\u8bed\u6cd5","text":""},{"location":"basic/markdown/#_2","title":"\u6807\u9898","text":"<p>\u5171\u6709 1-6 \u7ea7\u6807\u9898\uff0c\u4f7f\u7528 <code>#</code> \u6807\u8bb0\u3002<code>#</code> \u6570\u91cf\u4e0e\u6807\u9898\u7ea7\u522b\u5bf9\u5e94\u3002\u6ce8\u610f <code>#</code> \u4e0e\u6587\u5b57\u95f4\u7684\u7a7a\u683c\u4e0d\u53ef\u7701\u7565\u3002</p> <pre><code>#### \u56db\u7ea7\u6807\u9898\n##### \u4e94\u7ea7\u6807\u9898\n###### \u516d\u7ea7\u6807\u9898\n</code></pre>"},{"location":"basic/markdown/#_3","title":"\u56db\u7ea7\u6807\u9898","text":""},{"location":"basic/markdown/#_4","title":"\u4e94\u7ea7\u6807\u9898","text":""},{"location":"basic/markdown/#_5","title":"\u516d\u7ea7\u6807\u9898","text":""},{"location":"basic/markdown/#_6","title":"\u5b57\u4f53","text":"<pre><code>*\u659c\u4f53* _\u659c\u4f53_\n**\u7c97\u4f53** __\u7c97\u4f53__\n***\u7c97\u659c\u4f53*** ___\u7c97\u659c\u4f53___\n~~\u5220\u9664\u7ebf~~\n&lt;u&gt;\u4e0b\u5212\u7ebf&lt;/u&gt;\n</code></pre> <p>\u659c\u4f53 \u659c\u4f53</p> <p>\u7c97\u4f53 \u7c97\u4f53</p> <p>\u7c97\u659c\u4f53 \u7c97\u659c\u4f53</p> <p>\u5220\u9664\u7ebf</p> <p>\u4e0b\u5212\u7ebf</p>"},{"location":"basic/markdown/#_7","title":"\u5217\u8868","text":"<p>\u65e0\u5e8f\u5217\u8868\u7528 <code>*</code> \u6216 <code>+</code> \u6216 <code>-</code> \u6807\u8bc6\uff0c\u6709\u5e8f\u5217\u8868\u7528\u6570\u5b57\u548c <code>.</code> \u6765\u6807\u8bc6\uff0c\u652f\u6301\u5217\u8868\u5d4c\u5957\u3002</p> <pre><code>* \u7b2c\u4e00\u9879\n+ \u7b2c\u4e8c\u9879\n- \u7b2c\u4e09\u9879\n    1. \u5b50\u9879\u4e00\n        1. \u5b59\u5b50\u9879\u4e00\n            * \u91cd\u5b59\u5b50\u9879\u4e00\n</code></pre> <ul> <li>\u7b2c\u4e00\u9879</li> <li>\u7b2c\u4e8c\u9879</li> <li>\u7b2c\u4e09\u9879<ol> <li>\u5b50\u9879\u4e00<ol> <li>\u5b59\u5b50\u9879\u4e00<ul> <li>\u91cd\u5b59\u5b50\u9879\u4e00</li> </ul> </li> </ol> </li> </ol> </li> </ul>"},{"location":"basic/markdown/#_8","title":"\u5f15\u7528","text":"<pre><code>&gt; \u8fd9\u662f\u4e00\u6761\u65e0\u610f\u4e49\u7684\u5f15\u7528\u3002\n</code></pre> <p>\u8fd9\u662f\u4e00\u6761\u65e0\u610f\u4e49\u7684\u5f15\u7528\u3002</p>"},{"location":"basic/markdown/#_9","title":"\u4ee3\u7801","text":"<pre><code>\u52a0\u6cd5\u64cd\u4f5c\u7531 `add()` \u51fd\u6570\u5b8c\u6210\n</code></pre> <p>\u52a0\u6cd5\u64cd\u4f5c\u7531 <code>add()</code> \u51fd\u6570\u5b8c\u6210</p> <pre><code>```Python\ndef add(a, b):\n    return a + b\n```\n</code></pre> <pre><code>def add(a, b):\n    return a + b\n</code></pre>"},{"location":"basic/markdown/#_10","title":"\u94fe\u63a5","text":"<pre><code>[\u83dc\u9e1f\u6559\u7a0b](https://www.runoob.com/markdown/md-tutorial.html)\n&lt;https://www.runoob.com/markdown/md-tutorial.html&gt;\n</code></pre> <p>\u83dc\u9e1f\u6559\u7a0b</p> <p>https://www.runoob.com/markdown/md-tutorial.html</p>"},{"location":"basic/markdown/#_11","title":"\u56fe\u7247","text":"<p>\u63d2\u5165\u56fe\u7247\u9700\u4f9d\u7167 <code>![alt \u5c5e\u6027\u6587\u672c](\u56fe\u7247\u5730\u5740)</code> \u683c\u5f0f\u3002\u6ce8\u610f\u4e0d\u8981\u4f7f\u7528\u672c\u5730\u8def\u5f84\uff0c\u53ef\u4ee5\u5c06\u56fe\u7247\u4e0a\u4f20\u5230\u6e05\u534e\u4e91\u76d8\u518d\u83b7\u53d6\u56fe\u7247\u94fe\u63a5\u3002</p> <pre><code>![\u793a\u4f8b\u56fe\u7247](https://i.loli.net/2021/10/08/R3wUTtaAZHjSxEV.png)\n</code></pre> <p></p>"},{"location":"basic/markdown/#_12","title":"\u5176\u4ed6","text":"<p>Markdown \u8fd8\u6709\u4e00\u4e9b\u9ad8\u7ea7\u73a9\u6cd5\uff0c\u4f8b\u5982\u8868\u683c\u3001\u516c\u5f0f\u3001HTML \u5143\u7d20\u3001\u753b\u65f6\u5e8f\u56fe\u3001\u753b\u6d41\u7a0b\u56fe\u7b49\u7b49\u3002\u7531\u4e8e\u4e0d\u662f\u5f88\u5e38\u7528\uff0c\u8fd9\u4e9b\u90fd\u7559\u7ed9\u6709\u5174\u8da3\u7684\u8bfb\u8005\u81ea\u884c\u63a2\u7d22\u3002</p> <p>\u53cb\u60c5\u94fe\u63a5\uff1a</p> <ul> <li>\u83dc\u9e1f\u6559\u7a0b https://www.runoob.com/markdown/md-tutorial.html</li> <li>\uff08\u63a8\u8350\u5b66\u4e60\uff09\u516c\u5f0f\u7f16\u8f91\u6559\u7a0b https://www.jianshu.com/p/25f0139637b7</li> <li>\u7ed8\u5236\u6d41\u7a0b\u56fe\u3001\u65f6\u5e8f\u56fe\u3001\u7518\u7279\u56fe https://www.jianshu.com/p/6dbcc3aff98b</li> <li>CommonMark\uff0c\u4e00\u4e2a\u5e38\u7528\u7684 Markdown \u6807\u51c6 https://spec.commonmark.org/</li> </ul>"},{"location":"basic/meet-problems/","title":"\u5f53\u6211\u9047\u5230\u95ee\u9898\u65f6\uff0c\u6211\u8be5\u600e\u4e48\u505a...","text":"<p>\u79d1\u534f\u6c34\u7fa4\u91cc\u95f2\u804a\u65f6\uff0c\u6709\u4eba\u201c\u66b4\u8a00\u201d\uff1a\u201c\u5728\u8d35\u7cfb\u6709\u6280\u672f\u95ee\u9898\u65f6\uff0c\u6447\u4eba\u6bd4\u67e5\u6587\u6863\u66f4\u65b9\u4fbf\u3002\u201d\u9047\u5230\u95ee\u9898\u65f6\u591a\u548c\u5176\u4ed6\u4eba\u4ea4\u6d41\u3001\u907f\u514d\u95f7\u5934\u82e6\u5e72\u5f53\u7136\u662f\u652f\u6301\u7684\uff0c\u4f46\u8fd9\u5e76\u4e0d\u610f\u5473\u7740\u95ee\u95ee\u9898\u524d\u4e0d\u9700\u8981\u4ed8\u51fa\u52aa\u529b\uff08\u4f8b\u5982\u5728\u641c\u7d22\u5f15\u64ce\u4e0a\u67e5\u627e\uff09\u3001\u95ee\u95ee\u9898\u65f6\u5bf9\u65b9\u6709\u4e49\u52a1\u66ff\u4f60\u89e3\u7b54......</p> <p>\u2014\u2014 \u6458\u81ea \u201c\u9152\u4e95\u79d1\u534f\u201d \u516c\u4f17\u53f7 2022 \u5e74 3 \u6708 25 \u65e5\u6587\u7ae0</p> <p>\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u9047\u5230\u95ee\u9898\u662f\u5728\u6240\u96be\u514d\u7684\uff0c\u800c\u5982\u4f55\u9762\u5bf9\u9047\u5230\u7684\u95ee\u9898\uff0c\u5374\u662f\u503c\u5f97\u6211\u4eec\u5b66\u4e60\u7684\u8bdd\u9898\u3002\u672c\u7bc7\u6587\u7ae0\u6211\u4eec\u4ece\u201c\u5982\u4f55\u4f7f\u7528\u641c\u7d22\u5f15\u64ce\u201d\u3001\u201c\u5982\u4f55\u67e5\u9605\u5b98\u65b9\u6587\u6863\u201d\u3001\u201c\u5982\u4f55\u9009\u62e9\u5e38\u7528\u7f51\u7ad9\u201d\u3001\u201c\u5982\u4f55\u6709\u6548\u5730\u8fdb\u884c\u63d0\u95ee\u201d\u8fd9\u51e0\u79cd\u65b9\u5f0f\u6765\u9610\u8ff0\uff0c\u201c\u5f53\u6211\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u9047\u5230\u95ee\u9898\u65f6\uff0c\u6211\u5e94\u8be5\u600e\u6837\u505a...\u201d</p>"},{"location":"basic/meet-problems/#_2","title":"\u5982\u4f55\u4f7f\u7528\u641c\u7d22\u5f15\u64ce","text":""},{"location":"basic/meet-problems/#_3","title":"\u6211\u5e94\u8be5\u600e\u6837\u9009\u7528\u641c\u7d22\u5f15\u64ce","text":"<p>\u201c\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053\u201d\u8bda\u7136\u662f\u5927\u4f17\u7684\u9009\u62e9\uff0c\u800c\u6211\u4eec\u5fc5\u987b\u6307\u51fa\u5176\u5728\u641c\u7d22\u7ed3\u679c\u5448\u73b0\u65f6\u7684\u5c40\u9650\u6027\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u7531\u4e8e\u4e00\u4e9b\u5546\u4e1a\u6027\u56e0\u7d20\u7684\u9650\u5236\uff0c\u5b83\u5927\u6982\u7387\u4f1a\u8fd4\u56de\u4e00\u4e9b\u4e0e\u641c\u7d22\u7ed3\u679c\u4e0d\u662f\u6700\u5f3a\u76f8\u5173\u7684\u5185\u5bb9\u3002\u6211\u4eec\u5728\u8fd9\u91cc\u63a8\u8350\u4e24\u6b3e\u641c\u7d22\u5f15\u64ce\uff1a\u5982\u679c\u4f60\u56e0\u4e3a\u4e2d\u56fd\u5927\u9646\u7684\u9650\u5236\u65e0\u6cd5\u8bbf\u95ee\u4e92\u8054\u7f51\u4e0a\u7684\u4e00\u90e8\u5206\u5185\u5bb9\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u4f7f\u7528 \u201cBing \u56fd\u9645\u7248\u201d\uff0c\u800c\u5982\u679c\u4f60\u53ef\u4ee5\u8bbf\u95ee\u5230\u4e16\u754c\u4e92\u8054\u7f51\u4e0a\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u5219\u63a8\u8350\u4f60\u4f7f\u7528 \u201cGoogle\u201d\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u8ba8\u8bba\u5747\u4ee5\u540e\u8005\u4f5c\u4e3a\u57fa\u7840\u5c55\u5f00\u3002</p>"},{"location":"basic/meet-problems/#_4","title":"\u6211\u5e94\u8be5\u5982\u4f55\u4f7f\u7528\u641c\u7d22\u5f15\u64ce","text":"<p>\u76f8\u4fe1\u5927\u5bb6\u90fd\u638c\u63e1\u4e86\u641c\u7d22\u5f15\u64ce\u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\uff0c\u4e5f\u638c\u63e1\u4e86\u4f8b\u5982\u201c\u641c\u7d22\u5173\u952e\u8bcd\u201d\u800c\u4e0d\u662f\u201c\u641c\u7d22\u6574\u53e5\u8bdd\u201d\u7684\u8fd9\u79cd\u57fa\u672c\u641c\u7d22\u6280\u5de7\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u6f14\u793a\u4e00\u4e9b\u8f83\u4e3a\u8fdb\u9636\u7684\u641c\u7d22\u65b9\u6cd5\u3002</p> <ul> <li>\u6307\u5b9a\u7f51\u7ad9\u641c\u7d22 <code>site:web.site</code></li> <li>\u7cbe\u786e\u5339\u914d <code>\"Exact Match\"</code></li> <li>\u5fc5\u987b\u5305\u542b <code>+</code> \u4e0e\u5fc5\u987b\u4e0d\u5305\u542b <code>-</code></li> <li>\u4efb\u610f\u5339\u914d <code>*</code></li> <li>\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\uff0c\u4f8b\u5982\u53ea\u83b7\u53d6\u8fc7\u53bb 1 \u5e74\u5185\u7684\u641c\u7d22\u7ed3\u679c\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u641c\u7d22\u7ed3\u679c\u7684\u65f6\u6548\u6027</li> </ul> <p>\u53c2\u8003\u8d44\u6599\uff1aHow to properly use a search engine.</p>"},{"location":"basic/meet-problems/#_5","title":"\u5982\u4f55\u67e5\u9605\u5b98\u65b9\u6587\u6863","text":"<p>\u5927\u90e8\u5206\u4f60\u4f7f\u7528\u7684\u5de5\u5177\u6216\u8005\u5e93\u90fd\u4f1a\u6709\u81ea\u5df1\u7684\u5b98\u7f51\u7f51\u7ad9\uff1b\u6709\u4e9b\u5373\u4f7f\u6ca1\u6709\u5b98\u65b9\u7f51\u7ad9\u4e5f\u4f1a\u6709\u81ea\u5df1\u7684 GitHub Repo \u548c\u914d\u5957\u7684 Wiki\u3002\u4e86\u89e3\u4e00\u4e2a\u5de5\u5177\u6216\u8005\u51fd\u6570\u5e93\u6700\u5168\u9762\u3001\u4e5f\u662f\u6700\u4fbf\u5229\u7684\u65b9\u6cd5\uff0c\u5b9e\u9645\u4e0a\u662f\u8bfb\u5b83\u5bf9\u5e94\u90e8\u5206\u7684\u8bf4\u660e\u6587\u6863\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u60f3\u4e86\u89e3\u600e\u4e48\u5728 PyTorch \u4e2d\u5b9e\u73b0\u53c9\u4e58\uff0c\u6216\u8bb8\u6211\u4eec\u53ef\u4ee5\u5728\u767e\u5ea6\u4e2d\u641c\u7d22 <code>pytorch \u53c9\u4e58</code>\uff0c\u7136\u540e\u70b9\u5f00\u4e00\u4e2a CSDN \u6559\u7a0b\uff0c\u4f46\u8fd9\u8fdc\u6ca1\u6709 Google \u641c\u7d22 <code>pytorch cross product</code>\uff0c\u7136\u540e\u6253\u5f00 pytorch.org \u7684\u5b98\u65b9\u6587\u6863\u8fdb\u884c\u9605\u8bfb\u6765\u7684\u5168\u9762\u800c\u900f\u5f7b\u3002</p> <p>\u518d\u6bd4\u5982\uff0c\u5982\u679c\u6211\u60f3\u5feb\u901f\u4e0a\u624b\u4e00\u4e2a\u540d\u53eb \u201cCarla\u201d \u7684\u6a21\u62df\u4eff\u771f\u5de5\u5177\uff0c\u6700\u5408\u9002\u7684\u65b9\u5f0f\uff0c\u5e94\u8be5\u662f\u641c\u7d22 \u201ccarla doc\u201d\uff0c\u7136\u540e\u6253\u5f00\u5b98\u65b9\u6587\u6863\u9605\u8bfb\u5176\u4e2d \u201cGetting Started\u201d \u90e8\u5206\uff0c\u8fd9\u6837\u80fd\u5bf9\u8fd9\u4e2a\u8f6f\u4ef6\u6709\u6700\u57fa\u672c\u7684\u4e86\u89e3\u3002\u4e4b\u540e\u518d\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u9605\u8bfb\u5176\u4ed6\u90e8\u5206\u7684\u5185\u5bb9\u3002</p>"},{"location":"basic/meet-problems/#_6","title":"\u5982\u4f55\u9009\u62e9\u5e38\u7528\u7f51\u7ad9","text":"<p>\u8981\u60f3\u641c\u7d22\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u9009\u62e9\u4e0d\u540c\u7684\u7f51\u7ad9\u3002\u8fd9\u91cc\u6211\u4eec\u9488\u5bf9\u4e00\u4e9b\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u5217\u51fa\u4e00\u4e9b\u5e38\u7528\u7684\u7f51\u7ad9\uff1a</p> <p><code>Runtime Error / Compilation Error</code></p> <p>\u7a0b\u5e8f\u8fd0\u884c\u65f6\u9047\u5230\u4e86\u6211\u4e0d\u4e86\u89e3\u7684\u62a5\u9519\uff0c\u5373\u4f7f\u67e5\u770b\u4e86\u51fd\u6570\u8c03\u7528\u6808\u4e5f\u4e0d\u7406\u89e3\u6700\u7ec8\u7684\u62a5\u9519\u4fe1\u606f\uff1b\u7a0b\u5e8f\u7f16\u8bd1\u4e0d\u8fc7\uff0c\u5176\u4e2d\u7528\u4e86\u6211\u4e0d\u7406\u89e3\u7684\u7f16\u8bd1\u7279\u6027... StackOverflow \u662f\u8fd9\u4e9b\u95ee\u9898\u7684\u597d\u5e2e\u624b\uff0c\u53ef\u4ee5\u66ff\u4ee3 CSDN \u4f5c\u4e3a\u4f60\u7684\u641c\u7d22\u9996\u9009\u3002\u4e8b\u5b9e\u4e0a\uff0cCSDN \u7684\u90e8\u5206\u5185\u5bb9\u662f\u76f4\u63a5\u4ece StackOverflow \u4e0a\u642c\u8fd0\u800c\u6765\uff0c\u800c\u8fd9\u4e9b\u642c\u8fd0\u800c\u6765\u7684\u5185\u5bb9\u5728\u56fd\u5185\u7f51\u7ad9\u4e0a\u53c8\u76f8\u4e92\u722c\u53d6\u3001\u76f8\u4e92\u5c55\u793a...</p> <p>\u4f46\u8fd9\u4e5f\u4e0d\u610f\u5473\u7740\u4e2d\u6587\u5185\u5bb9\u90fd\u662f\u5dee\u7684\uff0c\u5982\u679c\u4f7f\u7528 Google \u5e76\u4e14\u8bed\u8a00\u4e3a\u4e2d\u6587\uff0c\u901a\u5e38\u80fd\u67e5\u5230\u4e00\u4e9b\u4e2d\u6587\u4e2a\u4eba\u535a\u5ba2\u7684\u5185\u5bb9\uff0c\u8fd9\u4e9b\u5185\u5bb9\u4e00\u822c\u4e0d\u4f1a\u662f\u673a\u5668\u642c\u8fd0\u7684\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u8003\u3002\u4f8b\u5982\u5982\u679c\u60f3\u8981\u914d\u7f6e <code>DN42</code> \u5b9e\u9a8c\u7f51\u7edc\uff0c\u7531\u4e8e\u5b98\u65b9\u6587\u6863\u4e0d\u8be6\u7ec6\uff0c\u4e2a\u4eba\u535a\u5ba2\u7684\u5185\u5bb9\u4e5f\u662f\u975e\u5e38\u91cd\u8981\u7684\u53c2\u8003\u3002</p> <p><code>What is the original paper of XXX...</code></p> <p>\u6211\u4eec\u60f3\u77e5\u9053\u67d0\u7bc7\u5b66\u672f\u8bba\u6587\u7684\u51fa\u5904\uff0c\u6216\u8005\u662f\u5176\u5f15\u7528\u683c\u5f0f\u3002\u8fd9\u65f6 scholar.google.com \u5c31\u53ef\u4ee5\u8d77\u5230\u5f88\u597d\u7684\u4f5c\u7528\u3002\u5982\u679c\u4f60\u77e5\u9053\u8fd9\u7bc7\u8bba\u6587\u7684\u5168\u540d\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u641c\u7d22\uff0c\u7136\u540e\u4fbf\u6377\u5730\u83b7\u53d6\u5f15\u7528\u683c\u5f0f\u4e0e\u8bba\u6587\u539f\u6587\u7684 PDF \u7248\u672c\u3002</p> <p><code>I want to know whether or not someone has implemented this...</code></p> <p>\u60f3\u627e\u8fc7\u5f80\u7684\u8f6e\u5b50\uff1f\u597d\u529e\uff0c\u5728 GitHub \u4e2d\u8fdb\u884c\u641c\u7d22\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u89c4\u6a21\u5e9e\u5927\u7684\u5f00\u6e90\u4ee3\u7801...\u4f46\u662f\uff0c\u5728\u4f7f\u7528\u65f6\u8bf7\u52a1\u5fc5\u9075\u5b88\u5176\u5bf9\u5e94\u7684 LICENSE\u3002\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528 GitHub Code Search\uff0c\u80fd\u591f\u66f4\u52a0\u7cbe\u786e\u3001\u5168\u9762\u7684\u641c\u7d22\u516c\u5f00\u4ed3\u5e93\u7684\u4ee3\u7801\u3002</p> <p>\u6b64\u5916\uff0c\u5728\u5b66\u4e60\u5bf9\u5e94\u7684\u5185\u5bb9\u65f6\uff0c\u6211\u4eec\u63a8\u8350\u5230\u5bf9\u5e94\u7684\u5b98\u65b9\u7f51\u7ad9\u3001\u6559\u7a0b\u3001\u6587\u6863\u6216 Wiki \u4e0a\u8fdb\u884c\u5b66\u4e60\u3002\u5728\u5b66\u4e60\u4e00\u4e9b\u516c\u5f00\u8bfe\u7a0b\u53ef\u80fd\u6d89\u53ca\u5230\u7684\u77e5\u8bc6\u65f6\uff08\u5982 CS231n\uff09\uff0c\u6211\u4eec\u63a8\u8350\u5148\u641c\u7d22\u8bfe\u7a0b\u4e3b\u9875\uff0c\u8fdb\u800c\u5728 YouTube \u4e0a\u641c\u7d22\u5bf9\u5e94\u7684\u8bb2\u89e3\u89c6\u9891\uff0c\u7136\u540e\u5728 B \u7ad9\u4e0e\u77e5\u4e4e\u7b49\u56fd\u5185\u5e73\u53f0\u4e0a\u8fdb\u884c\u68c0\u7d22\u3002</p>"},{"location":"basic/meet-problems/#_7","title":"\u5982\u4f55\u6709\u6548\u5730\u8fdb\u884c\u63d0\u95ee","text":"<p>\u5728\u4f60\u5c1d\u8bd5\u4e86\u5982\u4e0a\u5185\u5bb9\u65e0\u679c\u4e4b\u540e\uff0c\u81ea\u5df1\u95f7\u5934\u82e6\u5e72\u6216\u8bb8\u5df2\u7ecf\u4e0d\u80fd\u89e3\u51b3\u4f60\u7684\u95ee\u9898\u4e86\u3002\u662f\u65f6\u5019\u8fdb\u884c\u63d0\u95ee\u4e86 \u2014\u2014 \u6253\u5f00\u5fae\u4fe1\u5217\u8868\uff0c\u7ffb\u51fa\u4e00\u4e2a\u4eba\u7684\u8d26\u53f7\uff0c\u7136\u540e\u6572\u4e0b\u4e00\u53e5\u201c\u5728\u5417\u201d\uff0c\u7b49\u5f85\u56de\u590d \u2014\u2014 \u4e0d\uff0c\u8fd9\u5e76\u4e0d\u662f\u6b63\u786e\u7684\u63d0\u95ee\u65b9\u5f0f\uff0c\u81f3\u5c11\u5bf9\u65b9\u4ece\u4e00\u53e5\u201c\u5728\u5417\u201d\u4e2d\u5e76\u6ca1\u6709\u83b7\u5f97\u4efb\u4f55\u7684\u4fe1\u606f\u589e\u76ca\u3002\u4ed6/\u5979\u53ef\u80fd\u8ba4\u4e3a\u4f60\u60f3\u9080\u4ed6/\u5979\u559d\u4e00\u676f\u4e0b\u5348\u8336\uff0c\u800c\u4e0d\u662f\u5e2e\u4f60\u8fd8\u6709 24 \u4e2a\u5c0f\u65f6\u5c31\u5230 DDL \u7684 DSA \u7f16\u7a0b\u4f5c\u4e1a Debug\u3002</p> <p>\u8981\u60f3\u6709\u6548\u5730\u8fdb\u884c\u63d0\u95ee\uff0c\u6211\u4eec\u5f3a\u70c8\u63a8\u8350\u4f60\u9605\u8bfb\u4e00\u904d\u53c2\u8003\u8d44\u6599\u3002\u5f53\u7136\uff0c\u6211\u4eec\u5728\u8fd9\u91cc\u5217\u51fa\u51e0\u70b9\u91cd\u70b9\uff1a</p> <p>\u5728\u4f60\u63d0\u95ee\u4e4b\u524d</p> <ul> <li>\u8bf7\u786e\u4fdd\u4f60\u901a\u8fc7\u641c\u7d22\u5f15\u64ce\u68c0\u7d22\u4e0d\u5230\u4f60\u60f3\u95ee\u7684\u95ee\u9898</li> <li>\u8bf7\u786e\u4fdd\u4f60\u67e5\u9605\u4e86\u5b98\u65b9\u6587\u6863\uff0c\u5176\u4e2d\u5e76\u6ca1\u6709\u63d0\u53ca\u53ef\u4ee5\u76f4\u63a5\u89e3\u51b3\u4f60\u7684\u95ee\u9898\u7684\u7b54\u6848</li> <li>\u8bf7\u786e\u4fdd\u4f60\u81ea\u5df1\u505a\u4e86\u5145\u5206\u7684\u9884\u5b9e\u9a8c<ul> <li>\u6bd4\u5982 <code>\u8fd9\u6bb5\u7a0b\u5e8f\u7684\u8fd0\u884c\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f</code>\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u81ea\u5df1\u8dd1\u4e00\u4e0b\u5462</li> </ul> </li> </ul> <p>\u4f60\u7684\u63d0\u95ee\u5185\u5bb9</p> <ul> <li>\u8bf7\u63d0\u4f9b\u5145\u5206\u7684\u4fe1\u606f\u7ed9\u56de\u7b54\u8005<ul> <li>\u6bd4\u5982\u8bf7\u4e0d\u8981\u53d1\u4e00\u4e2a <code>\u8fd9\u6bb5\u4ee3\u7801\u6709 Bug [\u6342\u8138]</code> \u7684\u8bed\u53e5\u7ed9\u5bf9\u65b9\uff0c\u7136\u540e\u9644\u4e0a\u4e00\u4e2a ~300 \u884c\uff0c\u4ee5\u6587\u672c\u65b9\u5f0f\u53d1\u9001\u5728\u5fae\u4fe1\u804a\u5929\u6846\u7684\u4ee3\u7801</li> <li>\u8bf7\u81f3\u5c11\u63d0\u4f9b\u5145\u5206\u7684\u8bf4\u660e\uff1a\u54ea\u6bb5\u4ee3\u7801\uff1f\u51fa\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f\u62a5\u9519\u4fe1\u606f\u662f\u4ec0\u4e48\uff1f\u8fd9\u6bb5\u4ee3\u7801\u7684\u76ee\u6807\u529f\u80fd\u662f\u4ec0\u4e48\uff1f</li> <li>\u5982\u679c\u6709\u53ef\u80fd\u7684\u8bdd\uff0c\u8bf7\u7ed9\u51fa\u8db3\u591f\u591a\u7684\u6ce8\u91ca\uff08\u4e0d\u8fc7\u662f\u4ee3\u7801\u8fd8\u662f\u4f60\u7684\u601d\u8003\u5185\u5bb9\uff09</li> </ul> </li> <li>\u8bf7\u8bf4\u51fa\u4f60\u505a\u8fc7\u4e86\u54ea\u4e9b\u52aa\u529b<ul> <li>\u6bd4\u5982\u6309\u7167\u67d0\u4e2a\u8bba\u575b\u67d0\u6761\u56de\u590d\u7684\u65b9\u6cd5\u8fdb\u884c\u4e86\u5c1d\u8bd5</li> </ul> </li> </ul> <p>\u5373\u4f7f\u63d0\u95ee\uff0c\u4e5f\u4e0d\u4ee3\u8868\u95ee\u9898\u7684\u4e3b\u52a8\u6743\u653e\u5728\u4e86\u5bf9\u65b9\u624b\u91cc\u3002\u95ee\u9898\u6bd5\u7adf\u662f\u4f60\u81ea\u5df1\u7684\u95ee\u9898\uff0c\u5bf9\u65b9\u6ca1\u6709\u4e49\u52a1\u5e2e\u52a9\u4f60\u5fc5\u987b\u89e3\u51b3\u6389\u8fd9\u4e2a\u95ee\u9898\uff0c\u6240\u4ee5\u7ee7\u7eed\u81ea\u884c\u5bfb\u627e\u7b54\u6848\u4e5f\u8bb8\u662f\u9700\u8981\u7684...</p> <p>\u53c2\u8003\u8d44\u6599\uff1aHow to ask the question the smart way.</p>"},{"location":"basic/vscode/","title":"VSCode \u914d\u7f6e","text":"<p>VSCode \u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5\u5404\u79cd\u5404\u6837\u4e0d\u540c\u6269\u5c55\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u5f00\u53d1\u8005\u6240\u9700\u8981\u7684\u529f\u80fd\u3002</p> <p>\u533a\u5206\uff1a\u4ee3\u7801\u7f16\u8f91\u5668\uff08Editor\uff09\u4e0e\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE, Integrated Development Environment\uff09</p> <p>\u4ee3\u7801\u7f16\u8f91\u5668\u4e8b\u5b9e\u4e0a\u6211\u4eec\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u8bb0\u4e8b\u672c\uff08\u6ca1\u9519\uff0c\u5982\u679c\u662f Windows \u7528\u6237\uff0c\u5c31\u662f\u4f60\u6309\u4e0b Win+R \u8f93\u5165 notepad \u56de\u8f66\u4e4b\u540e\u7684\u90a3\u4e2a\u8bb0\u4e8b\u672c\uff09\uff0c\u5176\u6700\u57fa\u672c\u7684\u529f\u80fd\u662f\u6587\u6863\u7f16\u8f91\u3002\u4e0d\u8fc7\u4e4b\u6240\u4ee5\u5c06\u5176\u79f0\u4e3a\u662f\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u662f\u56e0\u4e3a\u5b83\u867d\u7136\u7ee7\u627f\u81ea\u4e00\u822c\u7684\u6587\u6863\u7f16\u8f91\u5668\uff0c\u53c8\u5177\u5907\u4e86\u4e00\u4e9b\u4e00\u822c\u7684\u6587\u6863\u7f16\u8f91\u5668\u6240\u4e0d\u5177\u5907\u7684\u529f\u80fd\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u4f8b\u5982\u81ea\u52a8\u8bed\u6cd5\u9ad8\u4eae\uff0c\u81ea\u52a8\u8865\u5168\uff0c\u751a\u81f3\u662f\u81ea\u52a8\u4ee3\u7801\u91cd\u6784\u7b49\u7b49\u3002</p> <p>\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u7684\u8f6f\u4ef6\uff0c\u53ef\u5c06\u5e38\u7528\u7684\u5f00\u53d1\u4eba\u5458\u5de5\u5177\u5408\u5e76\u5230\u5355\u4e2a\u56fe\u5f62\u7528\u6237\u754c\u9762\uff08GUI\uff09\u4e2d\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7b80\u5355\u7684\u70b9\u51fb\u6309\u94ae\uff0c\u53ef\u80fd\u5c31\u53ef\u4ee5\u5b8c\u6210\u7a0b\u5e8f\u7684\u7f16\u8bd1\u3001\u94fe\u63a5\u3001\u8fd0\u884c\u3001\u8c03\u8bd5\u7b49\u7b49\u5de5\u4f5c\u3002\u800c\u8fd9\u4e9b\u5de5\u4f5c\u5728\u6700\u521d\u90fd\u662f\u9700\u8981\u4eba\u624b\u5de5\u5728\u547d\u4ee4\u884c\u4e2d\u5b8c\u6210\u7684\u3002\u6211\u4eec\u5728\u300a\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u4e2d\u6700\u521d\u4f7f\u7528\u7684 Dev-C++ \u4fbf\u662f\u4e00\u4e2a\u96c6\u6210\u5f00\u53d1\u73af\u5883\u3002</p> <p>\u6211\u4eec\u4eca\u5929\u8981\u4ecb\u7ecd\u7684 VSCode \u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684\u4ee3\u7801\u7f16\u8f91\u5668\u3002\u5982\u679c\u6ca1\u6709\u5404\u79cd\u6269\u5c55\u63d2\u4ef6\u7684\u652f\u6301\u7684\u8bdd\uff0c\u53ef\u80fd\u6211\u4eec\u53ea\u80fd\u628a\u5b83\u79f0\u4f5c\u662f\u5927\u53f7\u7684 Notepad++\uff0c\u800c\u6b63\u662f\u56e0\u4e3a\u793e\u533a\u4e2d\u5404\u79cd\u5404\u6837\u7684\u6269\u5c55\uff0cVSCode \u624d\u5f97\u4ee5\u5c55\u73b0\u5176\u5f3a\u5927\u3002</p> <p></p> <p>\u672c\u6587\u6211\u4eec\u4ecb\u7ecd VSCode \u7684\u57fa\u672c\u914d\u7f6e\uff0c\u91cd\u70b9\u5728\u4e8e\u4ecb\u7ecd\u4e00\u4e9b\u672a\u6765\u53ef\u80fd\u4f1a\u7528\u5230\u7684\u6269\u5c55\u63d2\u4ef6\u3002\u6309\u7167\u672c\u6587\u7684\u6d41\u7a0b\u5b8c\u6210\u540e\uff0c\u4f60\u5e94\u8be5\u7b49\u6548\u5730\u5b8c\u6210\u4e86\u8db3\u4ee5\u5e94\u5bf9\u300a\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u4e2d\u7684\u4ee3\u7801\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7684\u914d\u7f6e\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u4f1a\u4ecb\u7ecd\u4e00\u4e9b\u57fa\u672c\u7684\u8c03\u8bd5\u65b9\u6cd5\uff0c\u800c\u8fd9\u6070\u6070\u662f VSCode \u6bd4 Dev-C++ \u5728\u73b0\u9636\u6bb5\u4e0d\u77e5\u9053\u9ad8\u5230\u54ea\u91cc\u53bb\u7684\u5730\u65b9\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5728\u672a\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 VSCode \u914d\u7f6e Python \u5f00\u53d1\u73af\u5883\uff0c\u914d\u7f6e\u8f6f\u4ef6\u5de5\u7a0b\u8bfe\u7a0b\u4e2d\u6240\u9700\u8981\u7684\u6846\u67b6\u7684\u5f00\u53d1\u73af\u5883\uff0c\u800c\u8fd9\u4e9b\u90fd\u662f\u901a\u8fc7\u201c\u6269\u5c55\u201d\uff08Extension\uff09\u6765\u5b9e\u73b0\u7684\u3002</p>"},{"location":"basic/vscode/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u4e86\u89e3\u4e00\u4e2a C++ \u7a0b\u5e8f\u4ece\u6e90\u4ee3\u7801\u5230\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u53d1\u751f\u4e86\u7f16\u8bd1\u3001\u94fe\u63a5\u8fd9\u4e24\u6b65\u64cd\u4f5c\uff08\u300a\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u5927\u4f5c\u4e1a\u4e2d\u4f1a\u6709\u6b64\u90e8\u5206\u7684\u8bb2\u89e3\uff09</li> <li>\u52a8\u624b\u80fd\u529b</li> </ul>"},{"location":"basic/vscode/#_2","title":"\u4e0b\u8f7d\u4e0e\u8fd0\u884c","text":"<ul> <li>\u6253\u5f00 VSCode \u5b98\u7f51\uff1ahttps://code.visualstudio.com/</li> <li>\u70b9\u51fb\u5927\u5927\u7684 Download \u6309\u94ae\uff08\u5982\u679c\u662f Windows 64 \u4f4d\u7528\u6237\u53ef\u4ee5\u70b9\u51fb\u4e0b\u62c9\u6846\u9009\u62e9 x64 \u5b89\u88c5\u5305\u7248\u672c\uff09</li> <li>\u8fdb\u884c\u5b89\u88c5\u6216\u89e3\u538b\u7f29\uff08\u6ce8\u610f\u8def\u5f84\u4e2d\u4e0d\u80fd\u5b58\u5728\u4efb\u4f55\u4e2d\u6587\u5b57\u7b26\uff0c\u63a8\u8350\u4ec5\u7528\u5b57\u6bcd\u548c\u6570\u5b57\uff09</li> <li>\u5230\u4f60\u5b89\u88c5 VSCode \u7684\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa <code>data</code> \u6587\u4ef6\u5939</li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u65b0\u5efa <code>data</code> \u6587\u4ef6\u5939\u540e\uff0c\u4e4b\u540e VSCode \u8fd0\u884c\u65f6\u7684\u6269\u5c55\u63d2\u4ef6\u548c\u7528\u6237\u6570\u636e\u4fbf\u90fd\u4f1a\u5b58\u653e\u5728 <code>data</code> \u6587\u4ef6\u5939\u4e0b\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u907f\u514d\u7cfb\u7edf\u76d8\u5bb9\u91cf\u5360\u7528\u7684\u95ee\u9898\u3002\u5982\u679c\u4e0d\u65b0\u5efa <code>data</code> \u6587\u4ef6\u5939\uff0c\u90a3\u4e48 VSCode \u4f1a\u5c06\u4e0a\u8ff0\u63d2\u4ef6\u548c\u7528\u6237\u4fe1\u606f\u5b58\u653e\u5728\u7cfb\u7edf\u76d8\u7684\u7528\u6237\u76ee\u5f55\u4e0b\u3002</p> <p></p>"},{"location":"basic/vscode/#c","title":"C++ \u76f8\u5173\u5f00\u53d1\u73af\u5883\u914d\u7f6e","text":""},{"location":"basic/vscode/#mingw64","title":"\u73af\u5883\u53d8\u91cf\u4e0e Mingw64","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5148\u6253\u5f00\u7ec8\u7aef\uff08Windows \u7528\u6237\u8bf7\u4f7f\u7528 Win+R\uff0c\u8f93\u5165 <code>cmd</code>\uff09\uff0c\u5c1d\u8bd5\u8f93\u5165\uff1a</p> <pre><code>g++ --version\n</code></pre> <p>\u5982\u679c\u4f60\u7684\u7ec8\u7aef\u8fd4\u56de\u4e86 <code>g++</code> \u7684\u7248\u672c\u4fe1\u606f\uff0c\u606d\u559c\uff0c\u60a8 C++ \u7f16\u8bd1\u5668\u7684\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u6b63\u786e\uff0c\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u5c0f\u8282\u3002\u5f53\u7136\uff0c\u5982\u679c\u60f3\u66f4\u52a0\u8be6\u7ec6\u5730\u4e86\u89e3\u73af\u5883\u53d8\u91cf\u662f\u4ec0\u4e48\uff0c\u53ef\u4ee5\u7ee7\u7eed\u9605\u8bfb\u8fd9\u4e00\u5c0f\u8282\u3002</p> <p>\u800c\u5982\u679c\u8fd4\u56de\uff1a</p> <pre><code>'g++' \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u4e5f\u4e0d\u662f\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\n\u6216\u6279\u5904\u7406\u6587\u4ef6\u3002\n</code></pre> <p>\u90a3\u4e48\u5219\u8bf4\u660e\u4f60\u7684\u7ec8\u7aef\u4e0d\u77e5\u9053 <code>g++</code> \u662f\u4ec0\u4e48\u547d\u4ee4\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u5c06\u9996\u5148\u8bb2\u89e3\u73af\u5883\u53d8\u91cf\u662f\u4ec0\u4e48\uff0c\u7136\u540e\u518d\u4e3a\u5927\u5bb6\u8bb2\u8ff0\u8be5\u600e\u4e48\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u4ec0\u4e48\u662f\u73af\u5883\u53d8\u91cf\uff1f</p> <p>\u5f53\u4f60\u7684 Shell \u5728\u6267\u884c\u547d\u4ee4\u65f6\uff0c\u4f1a\u5c1d\u8bd5\u5728\u4e00\u7cfb\u5217\u8def\u5f84\u4e0b\u641c\u7d22\u540c\u540d\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u4e00\u7cfb\u5217\u8def\u5f84\u6211\u4eec\u5c31\u79f0\u4f5c\u662f\u73af\u5883\u53d8\u91cf\u3002</p> <p>Windows \u7528\u6237\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165 path \u6765\u67e5\u770b\u5f53\u524d\u73af\u5883\u53d8\u91cf\uff08\u7531\u4e8e\u6211\u8fdb\u884c\u8fc7\u4e00\u7cfb\u5217\u914d\u7f6e\uff0c\u6240\u4ee5\u5176\u8f93\u51fa\u7ed3\u679c\u53ef\u80fd\u4e0e\u4f60\u7684\u4e0d\u540c\uff09\uff1a</p> <pre><code>D:\\Coding&gt;path\nPATH=D:\\Anaconda;D:\\Anaconda\\Library\\mingw-w64\\bin;D:\\Anaconda\\Library\\usr\\bin;......\n</code></pre> <p>Linux \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 <code>echo $PATH</code> \u6765\u67e5\u770b\u81ea\u5df1\u7684\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>c7w@cc7w &gt; /mnt/d/Coding &gt; echo $PATH\n/home/c7w/.local/lib/python3.8/site-packages:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/mnt/d/Anaconda:/mnt/d/Anaconda/Library/mingw-w64/bin:/mnt/d/Anaconda/Library/usr/bin:/mnt/d/Anaconda/Library/bin:/mnt/d/Anaconda/Scripts:/mnt/f/VM/bin/:/mnt/c/Program Files (x86)/Common Files/Intel/Shared Libraries/redist/intel64/compiler:/mnt/c/Program Files/Common Files/Oracle/Java/javapath:......\n</code></pre> <p>\u6ca1\u9519\uff0c\u5c31\u662f\u8fd9\u4e00\u7cfb\u5217\u6587\u4ef6\u5939\u3002\u56de\u5fc6\u6211\u4eec\u521a\u624d\u6267\u884c <code>g++ --version</code> \u547d\u4ee4\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7684\u7ec8\u7aef\u4f1a\u5728\u8fd9\u4e00\u7cfb\u5217\u6587\u4ef6\u5939\u4e0b\u4e3a\u6211\u4eec\u5bfb\u627e\u53eb\u505a <code>g++</code> \u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5982\u679c\u627e\u5230\u4e86\u540d\u4e3a <code>g++</code> \u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6211\u4eec\u7684\u7ec8\u7aef\u5c31\u4f1a\u5c06\u53c2\u6570\u4f20\u5165\uff0c\u5c06\u5176\u6267\u884c\uff1b\u800c\u5982\u679c\u6211\u4eec\u7684\u7ec8\u7aef\u6ca1\u6709\u627e\u5230\uff0c\u90a3\u4e48\u5c31\u4f1a\u5411\u6211\u4eec\u62a5\u544a\u201c\u672a\u77e5\u547d\u4ee4\u201d\u3002</p> <p>\u6211\u4eec\u521a\u521a\u5df2\u7ecf\u7406\u89e3\u4e86\u201c\u73af\u5883\u53d8\u91cf\uff08Path\uff09\u201d\u7684\u8fd0\u884c\u903b\u8f91\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u8bb2\u89e3\u5982\u4f55\u8fdb\u884c\u73af\u5883\u53d8\u91cf\u7684\u914d\u7f6e\u3002`</p> <p>\u5bf9\u4e8e Windows \u7528\u6237\uff0c\u8bf7\u6309\u4e0b Windows + S \u6253\u5f00\u641c\u7d22\u6846\uff0c\u5728\u5176\u4e2d\u8f93\u5165 <code>path</code>\uff0c\u7136\u540e\u9009\u62e9\"\u7f16\u8f91\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\"\uff0c\u8fdb\u800c\u9009\u62e9\u201c\u73af\u5883\u53d8\u91cf\u201d\uff0c\u7136\u540e\u9009\u62e9\u201c\u7cfb\u7edf\u53d8\u91cf\u201d\u4e2d\u7684 Path \u5b57\u6bb5\uff0c\u53cc\u51fb\u6253\u5f00\u540e\u5373\u53ef\u914d\u7f6e\u3002</p> <p></p> <p>\u5bf9\u4e8e Linux \u7528\u6237\uff0c\u73af\u5883\u53d8\u91cf\u662f\u7ed1\u5b9a\u5728\u4f60\u7684 Shell \u4e0a\u7684\uff0c\u4e0d\u540c\u7684 Shell \u6709\u4e0d\u540c\u7684\u914d\u7f6e\u65b9\u5f0f\u3002\u8fd9\u91cc\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u94fe\u63a5\u5e2e\u52a9\u60a8\u4e86\u89e3\u73af\u5883\u53d8\u91cf\u7684\u76f8\u5173\u914d\u7f6e\u3002</p> <p>\u4ec0\u4e48\u662f Mingw64\uff1f</p> <p>MinGW \u7684\u5168\u79f0\u662f\uff1aMinimalist GNU on Windows\u3002</p> <p>\u5b83\u5b9e\u9645\u4e0a\u662f\u5c06\u7ecf\u5178\u7684\u5f00\u6e90 C \u8bed\u8a00\u7f16\u8bd1\u5668 GCC \u79fb\u690d\u5230\u4e86 Windows \u5e73\u53f0\u4e0b\uff0c\u5e76\u4e14\u5305\u542b\u4e86 Win32API\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e3a\u53ef\u5728 Windows \u4e2d\u8fd0\u884c\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u800c\u4e14\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b Windows \u4e0d\u5177\u5907\u7684\uff0cLinux\u5e73\u53f0\u4e0b\u7684\u5f00\u53d1\u5de5\u5177\u3002</p> <p>\u4e00\u53e5\u8bdd\u6765\u6982\u62ec\uff1aMinGW \u5c31\u662f GCC \u7684 Windows \u7248\u672c\u3002\u8fd9\u662f\u5c06\u4f60\u5199\u7684 C/C++ \u8bed\u8a00\u7684\u6e90\u4ee3\u7801\u7f16\u8bd1\u6210\u6c47\u7f16\u4ee3\u7801\uff0c\u8fdb\u800c\u94fe\u63a5\u6210\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5de5\u5177\u3002\u4e4b\u524d\u6211\u4eec\u7684 Dev-C++ \u4e8b\u5b9e\u4e0a\u4e5f\u96c6\u6210\u4e86\u8fd9\u4e2a\u5de5\u5177\u3002</p> <p>\u6211\u4eec\u4e0b\u8f7d\u5b98\u65b9\u7684\u5b89\u88c5\u5de5\u5177\uff08\u94fe\u63a5\uff09\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u53f3\u952e\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884c\uff0c<code>Architecture</code> \u4e2d <code>i686</code> \u662f\u9488\u5bf9\u4e8e 32 \u4f4d\u7cfb\u7edf\uff0c<code>x86_64</code> \u9488\u5bf9\u4e8e 64 \u4f4d\u7cfb\u7edf\uff0c\u5176\u4ed6\u4e0d\u7528\u4fee\u6539\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b65\u9009\u62e9\u5b89\u88c5\u76ee\u5f55\u5373\u53ef\u3002\u7136\u540e\u5373\u53ef\u7b49\u5f85\u5b89\u88c5\u7a0b\u5e8f\u4e0b\u8f7d\u5e76\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u7136\u540e\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u884c\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u3002\u8fdb\u5165 <code>Mingw64 \u7684\u5b89\u88c5\u8def\u5f84/mingw64/bin/</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230 <code>gcc</code>\uff0c<code>g++</code> \u8fd9\u4e9b\u6211\u4eec\u719f\u6089\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u7136\u540e\u6211\u4eec\u9700\u8981\u505a\u7684\u5c31\u662f\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5939\u6dfb\u52a0\u81f3\u73af\u5883\u53d8\u91cf\u4e2d\u3002</p> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u6253\u5f00\u7ec8\u7aef\uff0c\u8f93\u5165 <code>g++</code> \u9a8c\u8bc1\u73af\u5883\u53d8\u91cf\u662f\u5426\u914d\u7f6e\u6210\u529f\u3002\uff08\u8bf7\u6ce8\u610f\uff0c\u5728\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u540e\u9700\u8981\u91cd\u542f\u7ec8\u7aef\u624d\u80fd\u751f\u6548\uff09</p>"},{"location":"basic/vscode/#make","title":"Make","text":"<p>\u540c\u65f6\uff0c\u9488\u5bf9\u4e8e\u6211\u4eec\u4e4b\u540e\u8bfe\u4e0a\u6240\u9700\u8981\u7528\u5230\u7684 <code>make</code> \u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u540c\u76ee\u5f55\u4e0b\u7684 <code>mingw32-make.exe</code> \u590d\u5236\u4e00\u4efd\uff0c\u6539\u540d\u4e3a <code>make.exe</code>\uff0c\u8fd9\u6837\u6211\u4eec\u4e5f\u80fd\u6b63\u5e38\u4f7f\u7528 <code>make</code> \u547d\u4ee4\u4e86\u3002</p> <p>\u7531\u4e8e Linux \u5e73\u53f0\u81ea\u5e26\u4e86 <code>gcc</code> \u548c <code>make</code> \u7b49\u7b49\u7f16\u8bd1\u5de5\u5177\uff0c\u6240\u4ee5\u8fd9\u91cc\u4e0d\u9700\u8981\u8fdb\u884c\u989d\u5916\u7684\u914d\u7f6e\u3002</p>"},{"location":"basic/vscode/#_3","title":"\u6269\u5c55\u63d2\u4ef6\u7684\u5b89\u88c5","text":"<p>\u6211\u4eec\u6253\u5f00 VSCode\uff0c\u5148\u7b80\u5355\u4ecb\u7ecd\u4e0b\u754c\u9762\u53ca\u5176\u529f\u80fd\uff1a</p> <p></p> <p>\u7ea2\u8272\u6846\u662f\u6211\u4eec\u5f53\u524d\u9879\u76ee\uff08\u5373\u6587\u4ef6\u5939\uff09\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u6e05\u5355\uff0c\u84dd\u8272\u6846\u662f\u6211\u4eec\u7f16\u5199\u4ee3\u7801\u7684\u5730\u65b9\uff0c\u7eff\u8272\u6846\u662f\u6211\u4eec\u7684\u5e94\u7528\u5546\u5e97\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u63a8\u8350\u51e0\u4e2a\u6269\u5c55\uff0c\u5728\u5e94\u7528\u5546\u5e97\u4e2d\u641c\u7d22\u5373\u53ef\u4e0b\u8f7d\uff1a</p> <ul> <li>Chinese (Simplified) Language Pack for Visual Studio Code\uff1a\u8bed\u8a00</li> <li>Code Runner\uff1a\u8c03\u8bd5\u7528</li> <li>C/C++\uff1a\u652f\u6301\u5728 Code \u4e2d\u8c03\u8bd5 C/C++ \u7a0b\u5e8f</li> <li>Remote - SSH\uff1a\u4e4b\u540e\u8fdb\u884c\u8fdc\u7a0b\u5f00\u53d1\u4f1a\u7528\u5230\uff0c\u8fd9\u91cc\u4e0d\u591a\u505a\u4ecb\u7ecd</li> <li>CodeGeex - \u56fd\u5185\u53ef\u7528\u7684\u4ee3\u7801\u81ea\u52a8\u8865\u5168\u5de5\u5177</li> </ul> <p>\u5728\u5b89\u88c5\u4e86\u7b80\u4f53\u4e2d\u6587\u63d2\u4ef6\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6309 <code>Ctrl + Shift + P</code>\uff0c\u6253\u5f00\u8f93\u5165\u6846\uff0c\u8f93\u5165 <code>Configurate display language</code>\uff0c\u9009\u62e9\u4e2d\u6587\u540e\u91cd\u65b0\u542f\u52a8\u5373\u53ef\u3002</p>"},{"location":"basic/vscode/#_4","title":"\u4ee3\u7801\u8c03\u8bd5","text":"<p>\u5982\u4f55\u8fd0\u884c\u4e00\u6bb5\u4ee3\u7801\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u5bf9\u5e94\u7684\u4ee3\u7801\u754c\u9762\u6309\u4e0b <code>F5</code> \u6216\u662f\u5728\u83dc\u5355\u680f\u627e\u5230\u201c\u8fd0\u884c &gt; \u542f\u52a8\u8c03\u8bd5\u201d\uff0c\u4fbf\u53ef\u4ee5\u542f\u52a8\u8c03\u8bd5\u6a21\u5f0f\uff1a</p> <p></p> <p>\u5728\u914d\u7f6e\u4e2d\u9009\u62e9 <code>C++ (GDB)</code>\uff0c\u8fdb\u800c\u9009\u62e9 <code>g++.exe</code>\u3002</p> <p>\u7136\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\u9879\u76ee\u8def\u5f84\u4e0b\u751f\u6210\u4e86\u4e00\u4e2a <code>.vscode</code> \u6587\u4ef6\u5939\uff0c\u5185\u542b <code>tasks.json</code> \u548c <code>launch.json</code>\uff0c\u8fd9\u4e24\u4e2a\u6587\u4ef6\u5206\u522b\u6709\u4ec0\u4e48\u4f5c\u7528\u6211\u4eec\u5373\u5c06\u5c31\u4f1a\u8fdb\u884c\u4ecb\u7ecd\u3002</p> <p></p> <p>\uff08\u4f60\u7684\u754c\u9762\u6392\u7248\u53ef\u80fd\u548c\u6211\u6709\u6240\u4e0d\u540c\uff0c\u4e0d\u8fc7\u4e3b\u8981\u529f\u80fd\u662f\u5927\u540c\u5c0f\u5f02\u7684\uff0c\u5f53\u4f60\u719f\u7ec3\u8fd0\u7528\u4e86 Code \u4e4b\u540e\u4f60\u53ef\u4ee5\u81ea\u884c\u5c06\u8fd9\u51e0\u4e2a\u6846\u6846\u62d6\u6765\u62d6\u53bb\u6446\u5230\u4f60\u89c9\u5f97\u8212\u9002\u7684\u4f4d\u7f6e\uff09</p> <p>\u6211\u4eec\u63a5\u4e0b\u6765\u5c06\u5206\u5355\u6587\u4ef6\u9879\u76ee\u548c\u591a\u6587\u4ef6\u9879\u76ee\u8fdb\u884c\u8ba8\u8bba\uff0c\u8bf4\u660e\u4e00\u4e9b\u5728 Code \u4e2d\u8c03\u8bd5 C++ \u4ee3\u7801\u7684\u6280\u5de7\u3002</p>"},{"location":"basic/vscode/#_5","title":"\u5355\u6587\u4ef6\u9879\u76ee","text":"<p>\u5355\u6587\u4ef6\u9879\u76ee\u6307\u53ea\u6709\u4e00\u4e2a cpp \u6587\u4ef6\u7684\u9879\u76ee\uff0c<code>main()</code> \u51fd\u6570\u7684\u5b9a\u4e49\u5c31\u5728\u5176\u4e2d\uff0c\u6211\u4eec\u5728\u300a\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u7684\u5927\u90e8\u5206\u5e73\u65f6\u4f5c\u4e1a\u90fd\u662f\u8fd9\u79cd\u9879\u76ee\u3002</p> <p>\u8fd9\u79cd\u9879\u76ee\u6211\u4eec\u76f4\u63a5\u6309 <code>F5</code> \u4fbf\u53ef\u8fdb\u884c\u8fd0\u884c\uff0c\u5176\u8f93\u51fa\u7ed3\u679c\u4f1a\u5728\u201c\u7ec8\u7aef\u201d\u9009\u9879\u5361\u4e2d\u51fa\u73b0\u3002</p> <p></p> <p>\u8fd9\u662f\u4e00\u6bb5\u6f14\u793a\u5355\u5411\u5e73\u65b9\u548c\u53cc\u5411\u5e73\u65b9\u63a2\u6d4b\u5728\u54c8\u5e0c\u8868\u4e2d\u53ef\u4ee5\u5360\u7528\u7684\u4f4d\u7f6e\u7684\u793a\u4f8b\u7a0b\u5e8f\uff0c\u5728\u8fd9\u91cc\u4ec5\u505a\u8bf4\u660e\u4f7f\u7528\uff0c\u5927\u5bb6\u4e0d\u5fc5\u7406\u89e3\u5176\u80cc\u540e\u7684\u539f\u7406\u3002\uff08\u4e8b\u5b9e\u4e0a\u4f60\u7ed9\u522b\u4eba\u8c03\u4ee3\u7801\u7684\u65f6\u5019\u4e0d\u90fd\u662f\u8fd9\u6837\u561b\uff0c\u5bf9\u7740\u770b\u4e0d\u61c2\u7684\u903b\u8f91\u6ee1\u8138\u9ed1\u7ebf.jpeg\uff09</p> <p>\u60f3\u8981\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u65ad\u70b9\uff0c\u6211\u4eec\u53ea\u9700\u70b9\u51fb\u5bf9\u5e94\u7684\u884c\u53f7\uff1a</p> <p></p> <p>\u5728\u8fd9\u91cc\u8bbe\u7f6e\u65ad\u70b9\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u5728\u7b2c 30 \u884c\u6267\u884c\u5b8c\u6210\uff0c\u7b2c 31 \u884c\u5c06\u8981\u6267\u884c\u7684\u65f6\u5019\u89e6\u53d1\u65ad\u70b9\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u770b\uff1a</p> <p></p> <p>\u7ea2\u6846\uff0c\u4e5f\u5c31\u662f\u201c\u7ec8\u7aef\u6846\u4e2d\uff0c\u6211\u4eec\u7684\u7a0b\u5e8f\u8f93\u51fa\u4e86\u524d\u534a\u6bb5\u8fd0\u884c\u65f6\u4ea7\u751f\u7684 <code>cout</code> \u4fe1\u606f\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8bf4\u660e\u8be5\u5982\u4f55\u67e5\u770b\u4e2d\u95f4\u53d8\u91cf\uff1a</p> <p></p> <p>\u6bd4\u5982\u7a0b\u5e8f\u5728\u547d\u4e2d\u8fd9\u4e2a\u65ad\u70b9\u65f6\uff0c\u6211\u4eec\u6709\u4ee5\u4e0b\u9014\u5f84\u83b7\u53d6\u4e2d\u95f4\u53d8\u91cf\u7684\u503c\uff1a</p> <p>\u5728\u9ec4\u8272\u6846\u201c\u53d8\u91cf\u201d\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7a0b\u5e8f\u81ea\u52a8\u8ffd\u6eaf\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u5bc4\u5b58\u5668\u503c\u3002\u5728\u84dd\u8272\u6846\u201c\u76d1\u89c6\u201d\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u884c\u5b9a\u4e49\u4e00\u4e9b\u9700\u8981\u8ffd\u6eaf\u7684\u53d8\u91cf\u3002\u5728\u7ea2\u8272\u6846\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8f93\u5165\u53d8\u91cf\u540d\u6765\u67e5\u770b\u5176\u5bf9\u5e94\u7684\u503c\u3002</p> <p></p> <p>\u7136\u540e\uff0c\u6211\u4eec\u6765\u5c06\u76ee\u5149\u653e\u5728\u4e0a\u8ff0\u8fd9\u51e0\u4e2a\u6309\u94ae\u8eab\u4e0a\u3002</p> <ul> <li>\u7ee7\u7eed\uff08F5\uff09\u6309\u94ae\u5c06\u4f1a\u4f7f\u7a0b\u5e8f\u7ee7\u7eed\u6267\u884c\uff0c\u76f4\u5230\u547d\u4e2d\u4e0b\u4e00\u4e2a\u65ad\u70b9\u6216\u662f\u5230\u7a0b\u5e8f\u7ed3\u5c3e\u3002</li> <li>\u5355\u6b65\u8df3\u8fc7\uff08F10\uff09\u6309\u94ae\u5bf9\u4e8e\u7a0b\u5e8f\u6765\u8bf4\uff0c\u5982\u679c\u5c06\u8981\u6267\u884c\u7684\u884c\u8c03\u7528\u4e86\u67d0\u4e9b\u51fd\u6570\uff0c\u90a3\u4e48\u5c06\u76f4\u63a5\u5c06\u672c\u884c\u6267\u884c\u5b8c\u6bd5\uff0c\u8fdb\u5165\u4e0b\u4e00\u884c\u3002</li> <li>\u5355\u6b65\u8c03\u8bd5\uff08F11\uff09\u6309\u94ae\u5bf9\u4e8e\u7a0b\u5e8f\u6765\u8bf4\uff0c\u5982\u679c\u5c06\u8981\u6267\u884c\u7684\u884c\u8c03\u7528\u4e86\u67d0\u4e9b\u51fd\u6570\uff0c\u90a3\u4e48\u5c06\u8fdb\u5165\u5c06\u8981\u6267\u884c\u7684\u51fd\u6570\u5185\u90e8\u3002</li> <li>\u505c\u6b62\uff08Shift+F5\uff09\u6309\u94ae\u7ec8\u6b62\u5f53\u524d\u8c03\u8bd5\u5de5\u4f5c\u3002</li> </ul>"},{"location":"basic/vscode/#_6","title":"\u591a\u6587\u4ef6\u9879\u76ee","text":"<p>\u5bf9\u4e8e\u591a\u6587\u4ef6\u9879\u76ee\u7684\u8c03\u8bd5\u6765\u8bf4\uff0c\u6211\u4eec\u91cd\u70b9\u5173\u6ce8\u70b9\u5728\u4e8e <code>.vscode</code> \u4e0b\u4e24\u4e2a\u6587\u4ef6\u7684\u914d\u7f6e\u3002</p> <p>\u9996\u5148\u6211\u4eec\u5c06\u6211\u4eec\u7684\u793a\u4f8b\u7a0b\u5e8f\u4fee\u6539\u4e3a\u591a\u6587\u4ef6\u9879\u76ee\uff1a</p> <p></p> <p>\u6211\u4eec\u91c7\u7528\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u5c06\u6211\u4eec\u7684\u5355\u6587\u4ef6\u9879\u76ee\u9b54\u6539\u6210\u591a\u6587\u4ef6\u3002</p> <p>\u6211\u4eec\u56de\u5fc6\u5982\u679c\u4f7f\u7528\u547d\u4ee4\u884c\uff0c\u8be5\u5982\u4f55\u5c06\u6211\u4eec\u7684\u7a0b\u5e8f\u7f16\u8bd1\uff1a</p> <pre><code>g++ hash.cpp another.cpp -o main\n</code></pre> <p>\u6ca1\u9519\uff0c\u6211\u4eec\u73b0\u5728\u914d\u7f6e Code \u4f7f\u5f97\u5176\u5728\u201c\u751f\u6210\u76ee\u6807\u6587\u4ef6\u201d\u4efb\u52a1\u4e2d\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u3002</p> <p><code>tasks.json</code> \u8d1f\u8d23\u53ef\u6267\u884c\u6587\u4ef6\u7684\u751f\u6210\uff0c\u6211\u4eec\u4e3b\u8981\u8fdb\u884c\u5982\u4e0b\u4fee\u6539\uff1a</p> <pre><code>{\n    \"tasks\": [\n        {\n            \"type\": \"shell\", // cppbuild -&gt; shell\n            \"label\": \"C/C++: g++.exe \u751f\u6210\u6d3b\u52a8\u6587\u4ef6\",\n            \"command\": \"D:\\\\Mingw\\\\mingw64\\\\bin\\\\g++.exe\",\n            \"args\": [\n                \"-g\",\n                \"hash.cpp\", // ${file} -&gt; your source code list\n                \"another.cpp\",\n                \"-o\",\n                \"${fileDirname}\\\\main.exe\" // main.exe\n            ],\n            \"options\": {\n                \"cwd\": \"${fileDirname}\"\n            },\n            \"problemMatcher\": [\n                \"$gcc\"\n            ],\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            },\n            \"detail\": \"\u8c03\u8bd5\u5668\u751f\u6210\u7684\u4efb\u52a1\u3002\"\n        }\n    ],\n    \"version\": \"2.0.0\"\n}\n</code></pre> <p><code>launch.json</code> \u4e3b\u8981\u8d1f\u8d23\u8c03\u8bd5\u76ee\u6807\u7a0b\u5e8f\uff0c\u6211\u4eec\u505a\u4ee5\u4e0b\u4fee\u6539\uff1a</p> <pre><code>{\n    // \u4f7f\u7528 IntelliSense \u4e86\u89e3\u76f8\u5173\u5c5e\u6027\u3002 \n    // \u60ac\u505c\u4ee5\u67e5\u770b\u73b0\u6709\u5c5e\u6027\u7684\u63cf\u8ff0\u3002\n    // \u6b32\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"g++.exe - \u751f\u6210\u548c\u8c03\u8bd5\u6d3b\u52a8\u6587\u4ef6\",\n            \"type\": \"cppdbg\",\n            \"request\": \"launch\",\n            \"program\": \"${fileDirname}\\\\main.exe\", // main.exe\n            \"args\": [],\n            \"stopAtEntry\": false,\n            \"cwd\": \"${fileDirname}\",\n            \"environment\": [],\n            \"externalConsole\": false,\n            \"MIMode\": \"gdb\",\n            \"miDebuggerPath\": \"D:\\\\Mingw\\\\mingw64\\\\bin\\\\gdb.exe\",\n            \"setupCommands\": [\n                {\n                    \"description\": \"\u4e3a gdb \u542f\u7528\u6574\u9f50\u6253\u5370\",\n                    \"text\": \"-enable-pretty-printing\",\n                    \"ignoreFailures\": true\n                }\n            ],\n            \"preLaunchTask\": \"C/C++: g++.exe \u751f\u6210\u6d3b\u52a8\u6587\u4ef6\"\n        }\n    ]\n}\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u6109\u5feb\u5730\u8c03\u8bd5\u591a\u6587\u4ef6\u9879\u76ee\u4e86\u3002</p>"},{"location":"basic/vscode/#_7","title":"\u540e\u7eed\u5b66\u4e60","text":"<ul> <li>\u81ea\u884c\u7814\u7a76 Remote-SSH \u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u5982\u4f55\u8fde\u63a5\u5230\u5916\u90e8\u670d\u52a1\u5668\u8fdb\u884c\u5f00\u53d1</li> <li>\u81ea\u884c\u7814\u7a76 Python \u914d\u7f6e\u8c03\u8bd5\u73af\u5883\u7684\u65b9\u6cd5</li> <li>\u5728\u300a\u8f6f\u4ef6\u5de5\u7a0b\u300b\u8bfe\u7a0b\u4e2d\uff0c\u4f7f\u7528 Code Prettier \u63d2\u4ef6 + ESLint \u89c4\u8303\u9879\u76ee</li> </ul>"},{"location":"basic/vscode/#_8","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>https://code.visualstudio.com/</li> <li>https://zhuanlan.zhihu.com/p/76613134</li> <li>https://blog.csdn.net/linjf520/article/details/108559210</li> </ul> <p>Tips</p> <p>\u914d\u7f6e\u5f00\u53d1\u73af\u5883\u5f80\u5f80\u662f\u5728\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u6700\u607c\u4eba\u7684\u4e00\u4ef6\u4e8b\uff0c\u4f46\u662f\u4e0d\u7528\u5fc3\u6025\uff0c\u5e38\u8a00\u9053\u201c\u826f\u597d\u7684\u5f00\u7aef\u662f\u6210\u529f\u7684\u4e00\u534a\u201d\u3002\u5982\u679c\u5b9e\u5728\u9047\u5230\u914d\u7f6e\u95ee\u9898\uff0c\u5728\u8fdb\u884c\u641c\u7d22\u65e0\u6cd5\u89e3\u51b3\u540e\uff0c\u5efa\u8bae\u5411\u540c\u5e74\u7ea7/\u5b66\u957f/\u7b54\u7591\u574a\u8fdb\u884c\u6c42\u52a9\u3002</p>"},{"location":"basic/web/","title":"Web \u4e0e Web \u5e94\u7528\u57fa\u7840","text":""},{"location":"basic/web/#_1","title":"\u524d\u8a00","text":"<p>\u5f53\u6211\u4eec\u8bbf\u95ee\u7f51\u7ad9\u7684\u65f6\u5019\uff0c\u53d1\u751f\u4e86\u4e9b\u4ec0\u4e48\uff1f\u7f51\u9875\u5b9e\u8d28\u4e0a\u662f\u6587\u4ef6\u3002\u5f53\u6211\u4eec\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u7f51\u7ad9\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u7f51\u9875\u6587\u4ef6\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668\uff0c\u6d4f\u89c8\u5668\u518d\u5c06\u7f51\u9875\u6587\u4ef6\u6e32\u67d3\u6210\u6211\u4eec\u770b\u5230\u7684\u7f51\u9875\u3002</p>"},{"location":"basic/web/#web","title":"Web \u9875\u9762","text":""},{"location":"basic/web/#html","title":"HTML","text":"<p>HTML (Hyper Text Markup Language, \u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00) \u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0\u7f51\u9875\u6587\u6863\u7684\u8bed\u8a00\u3002HTML \u5b9a\u4e49\u4e86\u8bb8\u591a\u4e0d\u540c\u79cd\u7c7b\u7684\u6807\u7b7e, \u5b83\u4eec\u88ab\u5c16\u62ec\u53f7\u5305\u56f4\uff0c\u8d77\u59cb\u6807\u7b7e\u548c\u7ed3\u675f\u6807\u7b7e\u901a\u5e38\u6210\u5bf9\u51fa\u73b0\uff0c\u6807\u7b7e\u81ea\u8eab\u5219\u8868\u793a\u4e86\u5185\u5bb9\u7684\u7c7b\u578b\u4e0e\u683c\u5f0f,\u6807\u7b7e\u5185\u542b\u6709\u5177\u4f53\u7684\u5185\u5bb9\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u8868\u793a \u52a0\u7c97\u7684 \u201c\u4f60\u597d\u201d</p> <pre><code>&lt;b&gt;\u4f60\u597d&lt;/b&gt;\n</code></pre> <p>\u5728 Word \u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u624b\u52a8\u5728 Tab \u680f\u91cc\u8c03\u6574\u683c\u5f0f\uff0c\u6587\u672c\u7684\u5199\u4f5c\u3001\u7ed3\u6784\u548c\u683c\u5f0f\u7684\u8c03\u6574\u76f8\u5206\u79bb\u3002\u800c\u5728 HTML \u4e2d\uff0c\u5185\u5bb9\u7684\u683c\u5f0f\u4fe1\u606f\u4ee5\u6807\u7b7e\u7684\u5f62\u5f0f\uff0c\u4f5c\u4e3a\u7eaf\u6587\u672c\u5b58\u50a8\u5728\u6587\u4ef6\u4e2d\uff0c\u4fbf\u4e8e\u751f\u6210\u3001\u7f16\u8f91\u3001\u4f20\u8f93\u3001\u6e32\u67d3\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u7528\u6765\u8868\u5f81\u6587\u672c\u7684 HTML \u6807\u7b7e\uff1a</p> \u6807\u7b7e \u63cf\u8ff0 <code>&lt;h1&gt;</code> - <code>&lt;h6&gt;</code> \u5b9a\u4e49\u6807\u9898\uff0c\u4ece\u6700\u9ad8\u7ea7\u522b\u5230\u6700\u4f4e\u7ea7\u522b <code>&lt;p&gt;</code> \u5b9a\u4e49\u6bb5\u843d <code>&lt;ul&gt;</code> \u5b9a\u4e49\u65e0\u5e8f\u5217\u8868 <code>&lt;ol&gt;</code> \u5b9a\u4e49\u6709\u5e8f\u5217\u8868 <code>&lt;li&gt;</code> \u5b9a\u4e49\u5217\u8868\u9879 <code>&lt;table&gt;</code> \u5b9a\u4e49\u8868\u683c <code>&lt;tr&gt;</code> \u5b9a\u4e49\u8868\u683c\u7684\u884c <code>&lt;td&gt;</code> \u5b9a\u4e49\u8868\u683c\u7684\u5355\u5143\u683c <code>&lt;th&gt;</code> \u5b9a\u4e49\u8868\u683c\u7684\u8868\u5934\u5355\u5143\u683c <code>&lt;strong&gt;</code> \u5b9a\u4e49\u52a0\u7c97\u7684\u6587\u672c <code>&lt;em&gt;</code> \u5b9a\u4e49\u659c\u4f53\u7684\u6587\u672c <code>&lt;br&gt;</code> \u63d2\u5165\u6362\u884c\u7b26 <p>\u4f5c\u4e3a\u201c\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\u201d\uff0cHTML \u6807\u7b7e\u8fd8\u53ef\u4ee5\u8868\u5f81\u6587\u672c\u4ee5\u5916\u7684\u5185\u5bb9\uff0c\u5982\u56fe\u7247\u3001\u89c6\u9891\u3001\u8d85\u94fe\u63a5\u7b49\u80fd\u591f\u5728\u7f51\u9875\u4e0a\u663e\u793a\u7684\u5185\u5bb9\u3002\u6b64\u5916\uff0c\u4e00\u4e9b\u4e0d\u5728\u7f51\u9875\u76f4\u63a5\u663e\u793a\uff0c\u4f46\u4e0e\u7f51\u9875\u6709\u5173\u7684\u5185\u5bb9\u4e5f\u53ef\u4ee5\u7528\u5bf9\u5e94\u7684\u6807\u7b7e\u5728 HTML \u4e2d\u5448\u73b0\u3002\u4e0b\u9762\u662f\u53e6\u4e00\u4e9b\u5e38\u7528\u7684\u6807\u7b7e\uff1a</p> \u6807\u7b7e \u63cf\u8ff0 <code>&lt;html&gt;</code> \u5b9a\u4e49HTML\u6587\u6863\u7684\u6839\u5143\u7d20 <code>&lt;head&gt;</code> \u5b9a\u4e49\u6587\u6863\u7684\u5934\u90e8\u533a\u57df <code>&lt;body&gt;</code> \u5b9a\u4e49\u6587\u6863\u7684\u4e3b\u4f53\u533a\u57df <code>&lt;img&gt;</code> \u63d2\u5165\u56fe\u50cf <code>&lt;a&gt;</code> \u521b\u5efa\u94fe\u63a5 <code>&lt;div&gt;</code> \u5b9a\u4e49\u4e00\u4e2a\u533a\u5757\u6216\u5bb9\u5668 <code>&lt;span&gt;</code> \u6807\u8bb0\u6216\u5305\u88c5\u6587\u672c\u7247\u6bb5 <code>&lt;header&gt;</code> \u5b9a\u4e49\u9875\u7709\u90e8\u5206 <code>&lt;style&gt;</code> \u5b9a\u4e49\u5185\u90e8\u6837\u5f0f\u8868 <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684 HTML \u6587\u6863\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;!--\u58f0\u660e\u6587\u6863\u7c7b\u578b--&gt;\n&lt;!--\u6ca1\u9519\uff0c\u8fd9\u5c31\u662f\u6ce8\u91ca\u7684\u5199\u6cd5--&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Tab \u680f\u6807\u9898&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u5927\u6807\u9898&lt;/h1&gt;\n    &lt;p&gt;\u4e00\u4e2a\u6bb5\u843d\u5305\u542b\u4e00\u90e8\u5206&lt;b&gt;\u52a0\u7c97\u7684\u6587\u5b57&lt;/b&gt;&lt;/p&gt;\n    &lt;img src=\"./figure.png\"&gt;\n    &lt;!--\u4e00\u5f20\u56fe\u7247--&gt;\n    &lt;a href=\"https://net9.org/\"&gt;\u94fe\u63a5&lt;/a&gt;\n    &lt;!--\u4e00\u4e2a\u8d85\u94fe\u63a5--&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u7f51\u9875\u7684\u6548\u679c\u4e86\u3002</p> <p></p> <p>\u6709\u5173 HTML \u7684\u66f4\u591a\u5185\u5bb9\uff0c\u53ef\u4ee5\u53c2\u8003 \u83dc\u9e1f\u6559\u7a0b</p>"},{"location":"basic/web/#css-javascript","title":"CSS, JavaScript","text":"<p>\u53ea\u6709 HTML \u7684 web \u9875\u9762\u770b\u8d77\u6765\u6bd4\u8f83\u6734\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 CSS (Cascading Style Sheets, \u5c42\u53e0\u6837\u5f0f\u8868) \u6765\u4e3a\u7f51\u9875\u6dfb\u52a0\u6837\u5f0f\u3002\u53ef\u4ee5\u5728\u8d77\u59cb\u6807\u7b7e\u5185\u6dfb\u52a0 <code>style=\"...\"</code> \u5b57\u6bb5\u8fdb\u884c\u7f8e\u5316\uff0c\u6216\u5728\u6587\u6863\u5934\u90e8\u6dfb\u52a0 <code>&lt;style&gt;...&lt;/style&gt;</code> \u6807\u7b7e\u6765\u5b9a\u4e49\u6837\u5f0f\uff0c\u8fdb\u884c\u6279\u91cf\u7684\u683c\u5f0f\u8c03\u6574\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;!--\u58f0\u660e\u6587\u6863\u7c7b\u578b--&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Tab \u680f\u6807\u9898&lt;/title&gt;\n    &lt;style&gt;\n        h1 {\n            color: darkgray;\n            font-weight: bold;\n        }\n    &lt;/style&gt;\n    &lt;!--\u5b9a\u4e49\u4e86 h1 \u6807\u7b7e\u7684\u989c\u8272\u548c\u5b57\u4f53--&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u5927\u6807\u9898&lt;/h1&gt;\n    &lt;p style=\"color: deepskyblue\"&gt;\u4e00\u4e2a\u6bb5\u843d\u5305\u542b\u4e00\u90e8\u5206&lt;b&gt;\u52a0\u7c97\u7684\u6587\u5b57&lt;/b&gt;&lt;/p&gt;\n    &lt;!--\u5269\u4f59\u90e8\u5206\u540c\u4e0a--&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u73b0\u5728\u7684\u7f51\u9875\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <p></p> <p>\u540c\u4e00\u7f51\u7ad9\u7684\u4e0d\u540c\u9875\u9762\u5f80\u5f80\u5177\u6709\u7edf\u4e00\u7684\u683c\u5f0f\uff0c\u5728\u6bcf\u4e2a HTML \u6587\u4ef6\u4e2d\u8fdb\u884c\u91cd\u590d\u7684\u4fee\u6539\u662f\u4e00\u4ef6\u6bd4\u8f83\u9ebb\u70e6\u7684\u4e8b\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u6837\u5f0f\u62bd\u79bb\u51fa\u6765\uff0c\u6210\u4e3a CSS(Cascading Style Sheets) \u6587\u4ef6\u3002\u9664\u4e86\u5143\u7d20\u7c7b\u578b\uff0cCSS \u8fd8\u53ef\u4ee5\u6839\u636e\u5143\u7d20\u7684\u7c7b\u3001id \u7b49\u8fdb\u884c\u9009\u62e9\uff0c\u4ee5\u5b9e\u73b0\u66f4\u591a\u6837\u7684\u6837\u5f0f\u63a7\u5236\u3002\u4e4b\u6240\u4ee5\u53eb\u505a \u201c\u5c42\u53e0\u6837\u5f0f\u8868\u201d\uff0c\u662f\u56e0\u4e3a\u5f53\u6709\u591a\u4e2a\u89c4\u5219\u4f5c\u7528\u4e8e\u540c\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u89c4\u5219\u4f1a\u6309\u7167\u4e00\u5b9a\u987a\u5e8f\u53e0\u52a0\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e0d\u540c\u7684 CSS \u5177\u6709\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\uff0c\u4f18\u5148\u7ea7\u9ad8\u7684\uff08\u76f4\u63a5\u5199\u5728 HTML \u4e2d\u5143\u7d20\u8d77\u59cb\u6807\u7b7e\u5185\u7684 \"style\"\uff09\u4f1a\u8986\u76d6\u4f18\u5148\u7ea7\u4f4e\u7684 \uff08\u5916\u90e8\u5f15\u7528\u5355\u72ec\u7684 CSS \u6587\u4ef6\uff09\u3002</p> <p>\u9664\u4e86\u5448\u73b0\u9759\u6001\u7684\u7f51\u9875\u754c\u9762\u5916\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u70b9\u51fb\u7f51\u9875\u4e2d\u7684\u5185\u5bb9\u6765\u5b9e\u73b0\u4e00\u4e9b\u53d8\u5316\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u201c\u7b80\u6613\u201d\u7684\u811a\u672c\u8bed\u8a00 JavaScript \u6765\u5b9e\u73b0\u3002JavaScript \u8bed\u8a00\u53ef\u4ee5\u5728\u7f51\u9875\u4e2d\u76f4\u63a5\u5d4c\u5165\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u5199\u6210\u6587\u4ef6\uff0c\u901a\u8fc7 <code>&lt;script src=\"...\"&gt;&lt;/script&gt;</code> \u6807\u7b7e\u5f15\u5165\u3002\u5728\u4e0a\u9762\u7684 HTML \u5b9e\u4f8b\u4e2d\u518d\u52a0\u5165 JavaScript \u4ee3\u7801\uff1a</p> <pre><code>&lt;!--\u91cd\u590d\u90e8\u5206\u7565--&gt;\n&lt;body&gt;\n    &lt;img src=\"./figure.png\" onclick=\"let x ='\u6b22\u8fce\u52a0\u5165\u9152\u4e95\u79d1\u534f~'; alert(x);\"&gt;\n&lt;body&gt;\n</code></pre> <p>\u8fd9\u65f6\u6211\u4eec\u70b9\u51fb\u7f51\u9875\u4e0a\u7684\u56fe\u7247\u5c31\u53ef\u4ee5\u770b\u5230\u5f39\u7a97\u4e86\uff1a</p> <p></p> <p>JavaScript \u662f\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u5b83\u4e0d\u9700\u8981\u7f16\u8bd1\uff0c\u5d4c\u5165 HTML \u540e\u53ef\u4ee5\u968f\u65f6\u8fd0\u884c\u3002JavaScript \u662f\u56fe\u7075\u5b8c\u5907\u7684\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4efb\u4f55\u903b\u8f91\uff0c\u5b83\u7684\u4f18\u52bf\u5728\u4e8e\u53ef\u4ee5\u65b9\u4fbf\u5730\u8bbf\u95ee\u7f51\u7edc\u3001\u64cd\u7eb5 HTML \u6587\u6863\u5185\u7684\u5143\u7d20\u3002</p> <p>\u6700\u521d\u7684 JavaScript \u540d\u4e3a LiveScript\uff0c\u4f46\u662f\u56e0\u4e3a\u4e00\u4e2a\u7cdf\u7cd5\u7684\u8425\u9500\u7b56\u7565\u800c\u88ab\u91cd\u65b0\u547d\u540d\uff0c\u8be5\u7b56\u7565\u4f01\u56fe\u5229\u7528 Sun Microsystem \u7684 Java \u8bed\u8a00\u7684\u6d41\u884c\u6027\uff0c\u5c06\u5b83\u7684\u540d\u5b57\u4ece\u6700\u521d\u7684 LiveScript \u66f4\u6539\u4e3a JavaScript\u2014\u2014\u5c3d\u7ba1\u4e24\u8005\u4e4b\u95f4\u5e76\u6ca1\u6709\u4ec0\u4e48\u5171\u540c\u70b9\u3002\u8fd9\u4fbf\u662f\u4e4b\u540e\u6df7\u6dc6\u4ea7\u751f\u7684\u6839\u6e90\u3002\u2014\u2014 MDN Web Docs</p> <p>JavaScript \u7684\u8bed\u6cd5\u4e0e C++ \u7c7b\u4f3c\uff0c\u66f4\u591a\u76f8\u5173\u77e5\u8bc6\u53ef\u4ee5\u53c2\u8003\u7f51\u4e0a\u7684\u6559\u7a0b\u8fdb\u884c\u81ea\u5b66\u3002</p>"},{"location":"basic/web/#_2","title":"\u9875\u9762\u8c03\u8bd5","text":"<p>Google Chrome \uff08\u5927\u90e8\u5206\u73b0\u4ee3\u6d4f\u89c8\u5668\u90fd\u91c7\u7528\u4e86 Chrominum \u5185\u6838\uff09\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u5e38\u65b9\u4fbf\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8c03\u8bd5\u7f51\u9875\u3002\u5728 Chrome \u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u4e00\u4e2a\u7f51\u9875\uff0c\u6309\u4e0b F12\uff0c\u5c31\u53ef\u4ee5\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u3002\u8c03\u8bd5\u5de5\u5177\u4e2d\u7684\u9009\u62e9\u3001\u67e5\u627e\u5143\u7d20\u3001\u67e5\u770b\u7f51\u7edc\u8bf7\u6c42\u7b49\u529f\u80fd\u5728\u9875\u9762\u8c03\u8bd5\uff0c\u524d\u7aef\u5f00\u53d1\u4e2d\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"basic/web/#web_1","title":"Web \u901a\u4fe1","text":"<p>HTML, CSS, JavaScript \u7edf\u79f0\u4e3a\u201c\u524d\u7aef\u4e09\u4ef6\u5957\u201d\u3002\u5982\u679c\u628a\u8fd9\u4e9b\u6587\u4ef6\u6bd4\u4f5c\u5305\u88f9\uff0c\u90a3\u4e48\u4e3a\u4e86\u5b9e\u73b0\u901a\u4fe1\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u201c\u5feb\u9012\u5458\u201d\u2014\u2014HTTP \u534f\u8bae\u3002</p>"},{"location":"basic/web/#http","title":"HTTP","text":"<p>HTTP (Hyper Text Transfer Protocol) \u534f\u8bae\u662f\u4e00\u79cd\u7528\u4e8e\u4f20\u8f93\u8d85\u6587\u672c\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u662f\u57fa\u4e8e TCP/IP \u534f\u8bae\u7684\u3002\u6211\u4eec\u53d1\u9001\u8bf7\u6c42\u65f6\u53ef\u80fd\u5e0c\u671b\u83b7\u5f97\u4e00\u4e9b\u6587\u4ef6\uff0c\u4e5f\u53ef\u80fd\u9700\u8981\u4e3b\u52a8\u53d1\u9001\u4e00\u4e9b\u4fe1\u606f\uff0c\u5982\u7528\u6237\u540d\u3001\u5bc6\u7801\u7b49\u3002HTTP \u534f\u8bae\u5b9a\u4e49\u4e86\u4e00\u4e9b\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5e38\u89c1\u7684\u6709 GET, POST, PUT, DELETE \u7b49\u3002\u4e0d\u540c\u7684\u8bf7\u6c42\u65b9\u6cd5\u5177\u6709\u4e0d\u540c\u7684\u8bed\u4e49\uff1a - GET \u65b9\u6cd5\u7528\u4e8e\u83b7\u53d6\u8d44\u6e90 - POST \u65b9\u6cd5\u7528\u4e8e\u53d1\u9001\u4fe1\u606f\uff08\u63d0\u4ea4\u6570\u636e\uff09 - PUT \u65b9\u6cd5\u7528\u4e8e\u66f4\u65b0\u8d44\u6e90 - DELETE \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u670d\u52a1\u5668\u7aef\u6307\u5b9a\u7684\u8d44\u6e90</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5927\u90e8\u5206\u8bf7\u6c42\u65b9\u6cd5\u90fd\u53ef\u4ee5\u6df7\u7528\uff0c\u4f46\u662f\u8fd9\u6837\u4e0d\u7b26\u5408\u5f00\u53d1\u89c4\u8303</p> <p>\u5728\u53d1\u9001\u8bf7\u6c42\u65f6\u5982\u4f55\u643a\u5e26\u5177\u4f53\u7684\u4fe1\u606f\u5462\uff1f - \u8def\u5f84\u4f20\u53c2\uff0c\u4f8b\u5982\u7528 GET \u65b9\u6cd5\u8bf7\u6c42   <code>http://info.com/score/2022010897/</code> - Query String(\u67e5\u8be2\u5b57\u7b26\u4e32)\uff0c\u4f8b\u5982\u7528 GET \u65b9\u6cd5\u8bf7\u6c42   <code>http://info.com/score?id=2022010897&amp;semester=23fall</code> - \u8bf7\u6c42\u4f53\u4f20\u53c2\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8bf7\u6c42\u7684\u6b63\u6587\u4e2d\u4f20\u8f93\u4efb\u610f\u683c\u5f0f\u7684\u4fe1\u606f\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f8b\u5982 POST \u8bf7\u6c42 <code>http://info.com/score</code> \u5e76\u643a\u5e26\u4ee5\u4e0b JSON \u683c\u5f0f\u7684\u4fe1\u606f   <pre><code>{\n    \"id\": \"2022010897\",\n    \"semester\": \"23fall\",\n    \"GPA\": 4.0\n}\n</code></pre></p> <p>\u6211\u4eec\u901a\u8fc7\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u88ab\u670d\u52a1\u5668\u63a5\u6536\u540e\uff0c\u670d\u52a1\u5668\u4f1a\u8fdb\u884c\u5904\u7406\u5e76\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\uff0c\u54cd\u5e94\u4e2d\u5305\u542b\u4e86\u72b6\u6001\u7801\u3001\u54cd\u5e94\u5934\u3001\u54cd\u5e94\u4f53\u7b49\u4fe1\u606f\u3002\u72b6\u6001\u7801\u7528\u4e8e\u8868\u793a\u8bf7\u6c42\u7684\u72b6\u6001\uff0c\u5e38\u89c1\u7684\u6709 200 OK\uff08\u8bf7\u6c42\u6210\u529f\uff09, 400 Bad Request \uff08\u8bf7\u6c42\u6709\u8bef\uff09, 404 Not Found\uff08\u8bf7\u6c42\u7684\u8d44\u6e90\u4e0d\u5b58\u5728\uff09, 500 Internal Server Error\uff08\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\uff09\u7b49\u3002\u54cd\u5e94\u5934\u7528\u4e8e\u8868\u793a\u54cd\u5e94\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u5982\u54cd\u5e94\u7684\u65f6\u95f4\u3001\u670d\u52a1\u5668\u7684\u7c7b\u578b\u7b49\u3002\u54cd\u5e94\u4f53\u5219\u662f\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5177\u4f53\u5185\u5bb9\u3002HTTP response \u7684\u6b63\u6587\u4e2d\u53ef\u4ee5\u643a\u5e26 HTML \u6587\u6863\u3001JSON \u6570\u636e\u3001\u56fe\u7247\u3001\u89c6\u9891\u7b49\u4efb\u610f\u683c\u5f0f\u7684\u6570\u636e\u3002</p> <p>Apifox / POSTMAN \u662f\u4e00\u6b3e\u65b9\u4fbf\u7684 HTTP \u8bf7\u6c42\u8c03\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u8c03\u8bd5 HTTP \u8bf7\u6c42\uff0c\u6a21\u62df\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7684\u8fc7\u7a0b\uff0c\u65b9\u4fbf\u5730\u5411\u4efb\u610f\u5730\u5740\u53d1\u9001\u4efb\u610f\u65b9\u6cd5\u7684\u4fe1\u606f\uff0c\u643a\u5e26\u4efb\u610f\u6b63\u6587\u3002</p>"},{"location":"basic/web/#web_2","title":"Web \u5e94\u7528\u57fa\u7840","text":""},{"location":"basic/web/#_3","title":"\u9759\u6001\u7f51\u9875","text":"<p>\u6709\u4e9b\u7f51\u7ad9\u7684\u5185\u5bb9\u662f\u63d0\u524d\u521b\u5efa\u597d\u3001\u56fa\u5b9a\u4e0d\u53d8\u7684\uff0c\u8fd9\u4e9b\u79f0\u4e3a\u9759\u6001\u7f51\u9875\u3002\u4f8b\u5982 Hexo \u7b49\u751f\u6210\u7684\u4e2a\u4eba\u535a\u5ba2\u3002</p> <p>\u5bf9\u4e8e\u9759\u6001\u7f51\u9875\uff0c\u6bcf\u4e00\u4e2a\u5730\u5740\u5bf9\u5e94\u7684\u7f51\u9875\u6587\u4ef6\u662f\u56fa\u5b9a\u7684\uff0c\u670d\u52a1\u7aef\u4e0d\u9700\u8981\u5bf9\u5185\u5bb9\u505a\u903b\u8f91\u4e0a\u7684\u5904\u7406\uff0c\u53ea\u9700\u8981\u5c06\u5bf9\u5e94\u7684\u6587\u4ef6\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u5373\u53ef\u3002</p> <p>\u7531\u4e8e\u6ca1\u6709\u5177\u4f53\u4e1a\u52a1\u903b\u8f91\uff0c\u4e00\u4e2a\u901a\u7528\u7684\u670d\u52a1\u7aef\u8f6f\u4ef6\u5373\u53ef\u6ee1\u8db3\u9700\u6c42\uff0c\u4f8b\u5982 Nginx\u3002\u51c6\u5907\u597d HTML, CSS, JS \u6587\u4ef6\uff0c\u653e\u5728\u670d\u52a1\u5668\u6307\u5b9a\u8def\u5f84\u4e0a\uff0c\u4e00\u4e2a\u652f\u6301\u9759\u6001\u7f51\u9875\u7684\u7f51\u7ad9\u5c31\u642d\u5efa\u597d\u4e86\u3002\u7136\u800c\uff0c\u6709\u4e9b\u7f51\u9875\u7684\u5185\u5bb9\u4e0d\u5f97\u4e0d\u52a8\u6001\u5730\u53d8\u5316\uff0c\u5185\u5bb9\u9700\u8981\u5b9e\u65f6\u66f4\u65b0\uff0c\u6216\u8005\u6211\u4eec\u5e0c\u671b\u6839\u636e\u7528\u6237\u7684\u8eab\u4efd\u663e\u793a\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u8fd9\u65f6\uff0c\u5c31\u9700\u8981\u52a8\u6001\u7f51\u9875\u3002</p>"},{"location":"basic/web/#_4","title":"\u52a8\u6001\u7f51\u9875","text":"<p>\u52a8\u6001\u7f51\u9875\u7684\u5185\u5bb9\u662f\u6839\u636e\u7528\u6237\u7684\u8bf7\u6c42\u52a8\u6001\u751f\u6210\u7684\uff0c\u7f51\u7ad9\u5185\u5bb9\u4f1a\u6839\u636e\u4f7f\u7528\u8005\u7684\u8eab\u4efd\u3001\u540e\u53f0\u6570\u636e\u5e93\u7b49\u56e0\u7d20\u52a8\u6001\u751f\u6210\uff0c\u4f8b\u5982\u6dd8\u5b9d\u3001\u4eac\u4e1c\u3002</p> <p>\u4f20\u7edf\u6a21\u5f0f\u7684\u52a8\u6001\u7f51\u9875\u5b9e\u73b0\u7b56\u7565\u662f\uff0c\u670d\u52a1\u5668\u5728\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u6839\u636e\u8bf7\u6c42\u5185\u5bb9\uff0c\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u5c06\u6570\u636e\u5904\u7406\u597d\u540e\u586b\u5165\u9884\u5148\u51c6\u5907\u597d\u7684\u6a21\u677f\u4e2d\uff0c\u6784\u6210\u5b8c\u6574\u7684 HTML \u6587\u4ef6\uff0c\u518d\u5c06\u6587\u4ef6\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002</p> <p>\u7136\u800c\uff0c\u8fd9\u79cd\u6a21\u5f0f\u7684\u7f3a\u70b9\u5728\u4e8e\uff0c\u5bf9\u4e8e\u6bcf\u6b21\u8bf7\u6c42\u670d\u52a1\u5668\u90fd\u9700\u8981\u53d1\u9001\u5b8c\u6574\u7684 HTML \u6587\u4ef6\uff0c\u9020\u6210\u5927\u91cf\u7684\u7f51\u7edc\u6d41\u91cf\u5e76\u964d\u4f4e\u4f20\u8f93\u6548\u7387\u3002\u5b9e\u9645\u4e0a\uff0c\u628a\u201c\u52a8\u6001\u201d\u7684\u7f51\u9875\u6570\u636e\u548c\u201c\u9759\u6001\u201d\u7684\u7f51\u9875\u6a21\u677f\u5206\u79bb\u5f00\uff0c\u5e76\u8ba9\u5ba2\u6237\u7aef\u5b8c\u6210\u5c06\u6570\u636e\u586b\u5165\u6a21\u677f\u7684\u8fc7\u7a0b\uff0c\u8fd9\u5c31\u662f\u73b0\u4ee3\u52a8\u6001\u7f51\u9875\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u5f0f\u2014\u2014\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u6a21\u5f0f</p>"},{"location":"basic/web/#_5","title":"\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u6a21\u5f0f","text":"<p>\u5bf9\u4e8e\u7edd\u5927\u90e8\u5206\u52a8\u6001\u7f51\u9875\u800c\u8a00\uff0c\u201c\u52a8\u6001\u201d\u7684\u662f\u5177\u4f53\u7684\u6570\u636e\uff0c\u7f51\u9875\u7684\u6846\u67b6\u3001\u5448\u73b0\u7ed9\u7528\u6237\u7684\u754c\u9762\u662f\u201c\u9759\u6001\u201d\u7684\u3002\u201c\u524d\u7aef\u201d\u6307\u7684\u5c31\u662f\u7528\u6237\u754c\u9762\uff0c\u201c\u540e\u7aef\u201d\u6307\u7684\u5c31\u662f\u6570\u636e\u4e0e\u4e1a\u52a1\u903b\u8f91\uff0c\u4e24\u8005\u53ef\u4ee5\u5b8c\u5168\u5206\u79bb\u3002</p> <p>\u4ee5\u8bbf\u95ee\u4eac\u4e1c\u4e3a\u4f8b\uff1a\u5ba2\u6237\u7aef\u8bf7\u6c42 jd.com\uff0c \u8fd4\u56de\u4e86\u7531 HTML, CSS, JS \u6587\u4ef6\u6784\u6210\u7684\u9759\u6001\u7f51\u9875\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u80fd\u770b\u5f97\u5230\u7f51\u9875\u7684\u5927\u4f53\u6846\u67b6\uff0c\u5374\u770b\u4e0d\u5230\u5177\u4f53\u7684\u5546\u54c1\u3002</p> <p></p> <p>\u7f51\u9875\u4e0a\u7684 JS \u811a\u672c\u4f1a\u5411\u6307\u5b9a\u7684\u540e\u7aef\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\uff0c\u83b7\u53d6\u5546\u54c1\u4fe1\u606f\uff0cJS \u811a\u672c\u5c06\u83b7\u53d6\u5230\u7684\u4fe1\u606f\u586b\u5165\u7f51\u9875\uff0c\u5448\u73b0\u51fa\u6211\u4eec\u770b\u5230\u7684\u5185\u5bb9\u3002</p> <p>\u524d\u540e\u7aef\u4e4b\u95f4\u7684\u901a\u4fe1\u4e5f\u5f80\u5f80\u4f7f\u7528 HTTP \u534f\u8bae\uff1b\u5185\u5bb9\u7684\u683c\u5f0f\u7531\u5f00\u53d1\u8005\u89c4\u5b9a\uff0c\u79f0\u4e3a API (Application Programming Interface, \u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3)</p>"},{"location":"basic/web/#_6","title":"\u6301\u4e45\u5316\u5b58\u50a8","text":"<p>\u5728\u7f51\u9875\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u5b58\u50a8\u4e00\u4e9b\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u7b49\u3002\u8fd9\u4e9b\u6570\u636e\u9700\u8981\u5728\u7528\u6237\u5173\u95ed\u7f51\u9875\u540e\u4ecd\u7136\u5b58\u5728\uff0c\u8fd9\u5c31\u9700\u8981\u5c06\u6570\u636e\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u5b9e\u73b0\u6301\u4e45\u5316\u5b58\u50a8\u3002</p> <p>\u8003\u8651\u5230\u5b58\u50a8\u7684\u6570\u636e\u91cf\u53ef\u80fd\u5f88\u5927\uff0c\u5e76\u4e14\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u3001\u4fee\u6539\u3001\u5220\u9664\u7b49\u64cd\u4f5c\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6570\u636e\u5e93\u6765\u5b58\u50a8\u6570\u636e\u3002\u6570\u636e\u5e93\u4ee5\u8868\u5355\u5f62\u5f0f\u6301\u4e45\u5316\u5b58\u50a8\u6570\u636e\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u67e5\u8be2\u3001\u4fee\u6539\u3001\u5220\u9664\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"courses/","title":"\u8bfe\u7a0b\u6307\u5f15","text":"<p>\u672c\u9875\u9762\u5c06\u6839\u636e\u6e05\u534e\u5927\u5b66\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u7cfb\u57f9\u517b\u65b9\u6848\u4e2d\u7684\u8bfe\u7a0b\uff0c\u6307\u51fa\u5404\u4e2a\u8bfe\u7a0b\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u53c2\u8003\u7684\u5f15\u5bfc\u6587\u6863\u3002</p>"},{"location":"courses/#_2","title":"\u5927\u4e00\u5e74\u7ea7","text":""},{"location":"courses/#_3","title":"\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\uff08\u79cb\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u57fa\u672c\u6280\u80fd / Linux \u5165\u95e8</li> <li>\u57fa\u672c\u6280\u80fd / VSCode \u914d\u7f6e</li> <li>\u57fa\u672c\u6280\u80fd / \u5982\u4f55\u4f7f\u7528\u641c\u7d22\u5f15\u64ce</li> <li>\u7f16\u7a0b\u8bed\u8a00 / C \u8bed\u8a00\u57fa\u7840</li> <li>\u7f16\u7a0b\u8bed\u8a00 / \u73b0\u4ee3 C++ \u8bed\u8a00</li> </ul>"},{"location":"courses/#_4","title":"\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\uff08\u6625\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u7f16\u7a0b\u8bed\u8a00 / C \u8bed\u8a00\u57fa\u7840</li> <li>\u7f16\u7a0b\u8bed\u8a00 / \u73b0\u4ee3 C++ \u8bed\u8a00</li> </ul>"},{"location":"courses/#_5","title":"\u7a0b\u5e8f\u8bbe\u8ba1\u8bad\u7ec3\uff08\u590f\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u7f16\u7a0b\u8bed\u8a00 / Python \u8bed\u8a00\u57fa\u7840</li> <li>\u7f16\u7a0b\u8bed\u8a00 / Java \u8bed\u8a00\u57fa\u7840</li> <li>\u7f16\u7a0b\u8bed\u8a00 / JavaScript \u8bed\u8a00\u57fa\u7840</li> </ul>"},{"location":"courses/#_6","title":"\u5927\u4e8c\u5e74\u7ea7","text":""},{"location":"courses/#_7","title":"\u6570\u636e\u7ed3\u6784\uff08\u79cb\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u5916\u90e8\u94fe\u63a5 / OI-Wiki</li> </ul>"},{"location":"courses/#_8","title":"\u4eba\u5de5\u667a\u80fd\u5bfc\u8bba\uff08\u6625\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u4eba\u5de5\u667a\u80fd &amp; \u673a\u5668\u5b66\u4e60 / Pytorch \u5165\u95e8</li> </ul>"},{"location":"courses/#_9","title":"\u8f6f\u4ef6\u5de5\u7a0b\uff08\u6625\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u7f16\u7a0b\u8bed\u8a00 / JavaScript \u8bed\u8a00\u57fa\u7840</li> <li>\u7f16\u7a0b\u8bed\u8a00 / TypeScript \u8bed\u8a00\u57fa\u7840</li> </ul>"},{"location":"courses/#_10","title":"\u5927\u4e09\u5e74\u7ea7","text":""},{"location":"courses/#_11","title":"\u865a\u62df\u73b0\u5b9e\u6280\u672f\uff08\u79cb\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u7f16\u7a0b\u8bed\u8a00 / JavaScript \u8bed\u8a00\u57fa\u7840</li> </ul>"},{"location":"courses/#_12","title":"\u64cd\u4f5c\u7cfb\u7edf\uff08\u6625\u5b63\u5b66\u671f\uff09","text":"<ul> <li>\u7f16\u7a0b\u8bed\u8a00 / Rust \u8bed\u8a00\u57fa\u7840</li> </ul>"},{"location":"frontend/","title":"\u524d\u7aef\u6846\u67b6","text":"<p>\u672c\u90e8\u5206\u4e3b\u8981\u4ecb\u7ecd Web\u3001\u79fb\u52a8\u7aef\u524d\u7aef\u5f00\u53d1\u53ef\u80fd\u4f7f\u7528\u5230\u7684\u5404\u7c7b\u6846\u67b6\u3002</p>"},{"location":"frontend/android/","title":"Android \u5f00\u53d1\u5165\u95e8","text":"<p>\u8bf4\u660e</p> <p>\u672c\u5185\u5bb9\u6839\u636e 2023 \u5e74\u79d1\u534f\u6691\u57f9\u6731\u715c\u7ae0\u540c\u5b66\u7684 Java \u8bfe\u7a0b\u8bb2\u4e49\uff0c\u548c 2024 \u5e74\u79d1\u534f\u6691\u57f9\u718a\u6cfd\u6069\u540c\u5b66\u7684 Java \u8bfe\u7a0b\u8bb2\u4e49\u6574\u7406\u3002</p> <p>Android \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u3001\u57fa\u4e8e Linux \u5f00\u53d1\u7684\u79fb\u52a8\u8bbe\u5907\u64cd\u4f5c\u7cfb\u7edf\uff0c\u7f16\u5199\u4e00\u4e2a Android \u5e94\u7528\u53ef\u4ee5\u4f7f\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\u6709 Java, Kotlin, C++ \u7b49\uff0c\u672c\u6587\u6863\u5c06\u4ee5 Java \u4e3a\u4f8b\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"frontend/android/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>Java \u8bed\u8a00\u57fa\u7840\u77e5\u8bc6\uff0c\u53ef\u4ee5\u53c2\u8003 Java \u8bed\u8a00\u57fa\u7840</li> </ul>"},{"location":"frontend/android/#_2","title":"\u5f00\u53d1\u51c6\u5907","text":"<ul> <li>Java \u8bed\u8a00\u73af\u5883</li> <li>\u6211\u4eec\u9009\u62e9 Android Studio \u4f5c\u4e3a\u5f00\u53d1\u5e73\u53f0\uff0c\u53ef\u4ee5\u5728 Download Android Studio &amp; App Tools - Android Developers (google.cn) \u4e0b\u8f7d\u3002Android Studio \u662f\u4e00\u4e2a\u57fa\u4e8e IntelliJ IDEA \u7684 Android \u5f00\u53d1\u5de5\u5177\uff0c\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u5e7f\u6cdb\u7684\u529f\u80fd\u548c\u5de5\u5177\uff0c\u7528\u4e8e\u8bbe\u8ba1\u3001\u7f16\u5199\u3001\u8c03\u8bd5\u548c\u6d4b\u8bd5 Android \u5e94\u7528\u7a0b\u5e8f\u3002\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u529f\u80fd\u6709\uff1a</li> <li>\u5e03\u5c40\u7f16\u8f91\u5668\uff1aAndroid Studio \u63d0\u4f9b\u4e86\u4e00\u4e2a\u53ef\u89c6\u5316\u5e03\u5c40\u7f16\u8f91\u5668\uff0c\u7528\u4e8e\u8bbe\u8ba1\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u754c\u9762\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u76f4\u89c2\u5730\u6dfb\u52a0 UI \u5143\u7d20\u3001\u8c03\u6574\u5e03\u5c40\u548c\u8bbe\u7f6e\u5c5e\u6027\u3002</li> <li>\u8c03\u8bd5\u5de5\u5177\uff1aAndroid Studio \u5177\u6709\u5185\u7f6e\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u8bbe\u7f6e\u65ad\u70b9\uff0c\u8ddf\u8e2a\u53d8\u91cf\u7684\u503c\uff0c\u5e76\u6267\u884c\u9010\u884c\u8c03\u8bd5\u3002</li> <li>\u865a\u62df\u8bbe\u5907\u7ba1\u7406\u5668\uff1aAndroid Studio \u5305\u542b\u4e00\u4e2a\u865a\u62df\u8bbe\u5907\u7ba1\u7406\u5668\uff0c\u7528\u4e8e\u521b\u5efa\u548c\u7ba1\u7406\u6a21\u62df\u7684 Android \u8bbe\u5907\u3002\u8fd9\u4f7f\u5f00\u53d1\u4eba\u5458\u80fd\u591f\u5728\u6ca1\u6709\u5b9e\u9645\u8bbe\u5907\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5e94\u7528\u7a0b\u5e8f\u7684\u6d4b\u8bd5\u548c\u8c03\u8bd5\u3002</li> <li>APK \u6784\u5efa\u5de5\u5177\uff1aAndroid Studio \u53ef\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u6253\u5305\u4e3a Android \u5b89\u88c5\u5305\uff08APK\uff09\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u751f\u6210\u7b7e\u540d\u7684 APK \u6587\u4ef6\uff0c\u4ee5\u4fbf\u5728\u8bbe\u5907\u4e0a\u8fdb\u884c\u90e8\u7f72\u548c\u5206\u53d1\u3002</li> <li>SDK \u7ba1\u7406\u5668\uff1aAndroid Studio \u5305\u542b\u4e00\u4e2a SDK\uff08Software Development Kit\uff09\u7ba1\u7406\u5668\uff0c\u7528\u4e8e\u4e0b\u8f7d\u548c\u7ba1\u7406 Android \u5e73\u53f0\u7684\u5404\u79cd\u7248\u672c\u548c\u9644\u52a0\u7ec4\u4ef6\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u6839\u636e\u76ee\u6807\u8bbe\u5907\u548c\u6700\u4f4e\u652f\u6301\u7248\u672c\u6765\u9009\u62e9\u6240\u9700\u7684 SDK \u7ec4\u4ef6\u3002</li> </ul>"},{"location":"frontend/android/#_3","title":"\u5b66\u4e60\u65b9\u6cd5","text":"<p>\u5355\u7eaf\u901a\u8fc7\u6587\u6863\u6765\u5b66\u4e60 Android \u5f00\u53d1\u662f\u5f88\u75db\u82e6\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u9762\u5411\u4e00\u4e9b\u5b9e\u9645\u7684\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u6587\u6863\u4e2d\u7684\u6837\u4f8b\u4ee3\u7801\uff0c\u8fd9\u6837\u53ef\u4ee5\u66f4\u5bb9\u6613\u4e86\u89e3 Android \u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u800c\u4e14\u5728 IDE \u4e2d\u53ef\u4ee5\u7528\u4f60\u7684 shift \u952e\u76f4\u63a5\u8df3\u8f6c\u5230\u4f60\u9700\u8981\u6d4f\u89c8\u7684\u5730\u65b9\uff0c\u8fd9\u6bd4\u770b\u6587\u6863\u770b\u5230\u4e0d\u660e\u767d\u7684\u5730\u65b9\u518d\u53bb\u767e\u5ea6/\u8c37\u6b4c\u5feb\u592a\u591a\u4e86\u3002\u672c\u6587\u672b\u5c3e\u4e5f\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u9879\u76ee\u4f9b\u5927\u5bb6\u53c2\u8003\u3002</p>"},{"location":"frontend/android/#_4","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u672c\u6587\u6863\u53ef\u4ee5\u5728\u4ee5\u4e0b\u8bfe\u7a0b\u5e2e\u52a9\u5230\u4f60\uff1a</p> <ul> <li>\u7a0b\u5e8f\u8bbe\u8ba1\u8bad\u7ec3\uff08Java \u8bfe\u5802\uff09</li> <li>\u5176\u4ed6\u5b58\u5728 Android \u5f00\u53d1\u9700\u6c42\u7684\u8bfe\u7a0b</li> </ul>"},{"location":"frontend/android/#_5","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>Android \u5f00\u53d1\u8005\u5b98\u65b9\u6587\u6863</li> <li>GitHub \u4e0a\u7684\u4e00\u4e2a Android \u5305\u542b\u6559\u7a0b\u3001\u4e00\u4e9b\u5f00\u6e90\u9879\u76ee\u548c\u5de5\u5177\u5e93\u7684\u5408\u96c6\uff1ahttps://github.com/aritraroy/UltimateAndroidReference</li> </ul>"},{"location":"frontend/android/#_6","title":"\u76f8\u5173\u94fe\u63a5","text":"<ul> <li>2022 \u5e74\u79d1\u534f\u6691\u57f9\u7684 Android \u9879\u76ee\u793a\u4f8b\uff08Java \u8bed\u8a00\uff09</li> <li>2023 \u5e74\u79d1\u534f\u6691\u57f9\u7684 Android \u8bfe\u7a0b\u4f5c\u4e1a</li> <li>2024 \u5e74\u79d1\u534f\u6691\u57f9\u7684 Android \u8bfe\u7a0b\u4f5c\u4e1a</li> </ul>"},{"location":"frontend/android/components/","title":"Android \u7684\u7ec4\u4ef6","text":"<p>\u7f16\u5199 Android \u5e94\u7528\u7a0b\u5e8f\u5c31\u50cf\u642d\u79ef\u6728\uff0c\u7ec4\u4ef6\u662f\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u7684\u57fa\u672c\u5355\u5143\u3002\u5bf9\u7ec4\u4ef6\u6765\u8bf4\uff0c\u6700\u91cd\u8981\u7684\u65b9\u6cd5\u662f\u56f4\u7ed5\u7740\u751f\u547d\u5468\u671f\u548c\u4ea4\u4e92\u8fdb\u884c\u7684\u3002\u6211\u4eec\u4e0b\u9762\u5c06\u5bf9\u8fd9\u4e9b\u6982\u5ff5\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"frontend/android/components/#activity-fragment","title":"Activity &amp; Fragment","text":"<p>\u6d3b\u52a8\uff08Activity\uff09\u4ee3\u8868\u5e94\u7528\u7a0b\u5e8f\u7684\u4e00\u4e2a\u5c4f\u5e55\u6216\u4e00\u4e2a\u4ea4\u4e92\u9875\u9762\u3002Android \u5e94\u7528\u7a0b\u5e8f\u901a\u5e38\u7531\u591a\u4e2a\u6d3b\u52a8\u7ec4\u6210\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u610f\u56fe\uff08Intent\uff09\u5728\u6d3b\u52a8\u4e4b\u95f4\u8fdb\u884c\u5207\u6362\u3002\u901a\u8fc7\u542f\u52a8\u65b0\u7684\u6d3b\u52a8\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5c4f\u5e55\u4e4b\u95f4\u7684\u5bfc\u822a\u548c\u4ea4\u4e92\u3002\u7247\u6bb5\uff08Fragment\uff09\u662f\u4e00\u79cd\u53ef\u91cd\u590d\u4f7f\u7528\u7684 UI \u7ec4\u4ef6\uff0c\u901a\u5e38\u5d4c\u5165\u5728\u6d3b\u52a8\u4e2d\uff0c\u6bcf\u4e2a Activity \u53ef\u4ee5\u5305\u542b\u591a\u4e2a Fragment\u3002</p> <p>Activity \u548c Fragment \u901a\u8fc7\u5e03\u5c40\u6587\u4ef6\u5b9a\u4e49\u5176\u7528\u6237\u754c\u9762\u7684\u5916\u89c2\u548c\u7ed3\u6784\u3002\u5e03\u5c40\u6587\u4ef6\u4f7f\u7528 XML \u683c\u5f0f\u7f16\u5199\uff0c\u5176\u4e2d\u5305\u542b\u5404\u79cd\u89c6\u56fe\u7ec4\u4ef6\uff0c\u5982\u6309\u94ae\u3001\u6587\u672c\u6846\u3001\u56fe\u50cf\u7b49\u3002\u901a\u8fc7\u8c03\u7528 <code>setContentView()</code> \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u5e03\u5c40\u6587\u4ef6\u4e0e\u6d3b\u52a8\u5173\u8054\u8d77\u6765\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u4f8b\u5b50\u3002\u6211\u4eec\u4f7f\u7528 <code>R.&lt;path&gt;</code> \u6765\u83b7\u53d6\u8d44\u6e90\u5e93\u7684\u5bf9\u5e94\u6587\u4ef6\uff08\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u5199\u6cd5\uff0c\u4e0d\u59a8\u6253\u4e00\u4e2a <code>R.</code>\uff0c\u7136\u540e\u8ba9\u5f3a\u5927\u7684 Android Studio \u8865\u5168\uff09\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u770b\u89c1\u4f60\u7684\u7ec4\u4ef6\u4e86\u3002</p> <pre><code>// MyActivity1.java\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MyActivity1 extends Activity {\n\n    private TextView textView;\n    private Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_1);\n\n        textView = findViewById(R.id.textView);\n        button = findViewById(R.id.button);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, \"Button Clicked\", Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre> <pre><code>&lt;!-- activity_1.xml --&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello, World!\"\n        android:textSize=\"24sp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Click Me\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre> <p>\u770b\u89c1\u7ec4\u4ef6\u4e4b\u540e\uff0c\u4f60\u9700\u8981\u7ed9\u7ec4\u4ef6\u5b9a\u4e49\u5b9e\u9645\u7684\u884c\u4e3a\u3002\u6bcf\u4e2a Activity \u548c Fragment \u90fd\u6709\u5176\u751f\u547d\u5468\u671f\uff0c\u63cf\u8ff0\u4e86\u4ece\u521b\u5efa\u5230\u9500\u6bc1\u7684\u6574\u4e2a\u8fc7\u7a0b\u3002\u5728\u751f\u547d\u5468\u671f\u4e2d\uff0c\u7cfb\u7edf\u4f1a\u8c03\u7528\u7279\u5b9a\u7684\u751f\u547d\u5468\u671f\u56de\u8c03\u65b9\u6cd5\uff0c\u4ee5\u4fbf\u7a0b\u5e8f\u53ef\u4ee5\u5728\u9002\u5f53\u7684\u65f6\u673a\u6267\u884c\u76f8\u5173\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u5728 <code>onCreate()</code> \u4e2d\u8fdb\u884c\u521d\u59cb\u5316\uff0c<code>onResume()</code> \u4e2d\u542f\u52a8\u52a8\u753b\uff0c<code>onPause()</code> \u4e2d\u4fdd\u5b58\u6570\u636e\u7b49\u3002Activity \u548c Fragment \u53ef\u4ee5\u54cd\u5e94\u7528\u6237\u7684\u89e6\u6478\u4e8b\u4ef6\u3001\u6309\u952e\u4e8b\u4ef6\u7b49\uff0c\u5e76\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u3002\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u91cd\u5199\u4e8b\u4ef6\u5904\u7406\u65b9\u6cd5\uff0c\u5982 <code>onTouch()</code>\u3001<code>onKeyDown()</code> \u7b49\uff0c\u6765\u5904\u7406\u8fd9\u4e9b\u4e8b\u4ef6\u3002\u4e0b\u9762\u5c31\u662f\u4e00\u4e2a\u91cd\u8f7d <code>onTouch()</code> \u7684 Fragment \u7684\u4f8b\u5b50\u3002</p> <pre><code>// CustomFragment.java\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class CustomFragment extends Fragment {\n\n    private TextView textView;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_custom, container, false);\n\n        Button button = view.findViewById(R.id.button);\n        textView = view.findViewById(R.id.textView);\n\n        button.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()) {\n                    case MotionEvent.ACTION_DOWN:\n                        textView.setText(\"Pressing\");\n                        return true;\n                    case MotionEvent.ACTION_MOVE:\n                        textView.setText(\"Moving\");\n                        return true;\n                    case MotionEvent.ACTION_UP:\n                        textView.setText(\"\");\n                        return true;\n                    default:\n                        return false;\n                }\n            }\n        });\n        /* or use lambda function:\n        button.setOnTouchListener((v, event) -&gt; {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    textView.setText(\"Pressing\");\n                    return true;\n                case MotionEvent.ACTION_MOVE:\n                    textView.setText(\"Moving\");\n                    return true;\n                case MotionEvent.ACTION_UP:\n                    textView.setText(\"\");\n                    return true;\n                default:\n                    return false;\n            }\n        });\n        */\n\n        return view;\n    }\n}\n</code></pre> <pre><code>&lt;!-- fragment_custom.xml --&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\"\n    tools:context=\".CustomFragment\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Button\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"\"\n        android:textSize=\"24sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>"},{"location":"frontend/android/components/#adapter","title":"Adapter","text":"<p>\u4f60\u53ef\u80fd\u60f3\u5230\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u7ec4\u4ef6\u663e\u793a\u7684\u5185\u5bb9\u662f\u9759\u6001\u7684\uff0c\u5728\u5b9e\u9645\u7684\u573a\u666f\u4e2d\uff0c\u6570\u636e\u91cf\u7684\u5927\u5c0f\u662f\u4e0d\u5b9a\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u53ef\u4ee5\u52a8\u6001\u6269\u5c55\u7684\u7ec4\u4ef6\uff0c\u5e76\u5c06\u7ec4\u4ef6\u4e0e\u6570\u636e\u7ed1\u5b9a\u3002\u8fd9\u5c31\u662f Adapter \u7684\u4f5c\u7528\u3002Adapter \u662f\u4e00\u4e2a\u4e2d\u95f4\u5c42\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u4e0e\u7ec4\u4ef6\u8fdb\u884c\u7ed1\u5b9a\u3002\u5728 Android \u4e2d\uff0cListView\u3001GridView\u3001RecyclerView \u7b49\u7ec4\u4ef6\u90fd\u662f\u901a\u8fc7 Adapter \u6765\u5b9e\u73b0\u6570\u636e\u7ed1\u5b9a\u7684\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u663e\u793a\u6587\u5b57\u5217\u8868\u7684 RecyclerView \u7684 Adapter \u7684\u4f8b\u5b50\u3002</p> <pre><code>// MyAapter.java\nList&lt;String&gt; textList = new ArrayList&lt;&gt;();\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.text_item, parent, false);\n        MyViewHolder holder = new MyViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int pos) {\n        String text = textList.get(pos);\n        holder.text.setText(text);\n    }\n\n    public int getItemCount() {\n        return textList.size();\n    }\n}\n\nclass MyViewHolder extends RecyclerView.ViewHolder {\n    TextView text;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        text = itemView.findViewById(R.id.text);\n    }\n}\n</code></pre> <pre><code>&lt;!-- text_item.xml --&gt;\n&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/text\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"16dp\"\n    android:textSize=\"24sp\" /&gt;\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 List \u6765\u5b58\u50a8\u6587\u672c\u5e76\u4f7f\u7528 RecyclerView \u6765\u663e\u793a\u5217\u8868\u3002RecyclerView \u662f\u4e00\u4e2a\u9ad8\u5ea6\u53ef\u5b9a\u5236\u7684\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5404\u79cd\u5404\u6837\u7684\u5217\u8868\u3002\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u662f\uff0c\u5f53\u5217\u8868\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20\u9700\u8981\u663e\u793a\u65f6\uff0cRecyclerView \u4f1a\u8c03\u7528 Adapter \u7684 <code>onCreateViewHolder()</code> \u65b9\u6cd5\uff0c\u521b\u5efa\u4e00\u4e2a ViewHolder\uff0c\u7136\u540e\u8c03\u7528 <code>onBindViewHolder()</code> \u65b9\u6cd5\uff0c\u5c06\u6570\u636e\u4e0e ViewHolder \u7ed1\u5b9a\u3002ViewHolder \u662f\u4e00\u4e2a\u5305\u542b\u4e86\u5217\u8868\u5143\u7d20\u7684\u89c6\u56fe\u7ec4\u4ef6\u7684\u5bb9\u5668\uff0c\u5b83\u53ef\u4ee5\u7f13\u5b58\u5217\u8868\u5143\u7d20\u7684\u89c6\u56fe\u7ec4\u4ef6\uff0c\u4ee5\u4fbf\u91cd\u590d\u4f7f\u7528\u3002</p> <p>\u5728\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u6211\u4eec\u9700\u8981\u8c03\u7528 Adapter \u7684 <code>notifyDataSetChanged()</code> \u65b9\u6cd5\uff0c\u901a\u77e5 RecyclerView \u66f4\u65b0\u5217\u8868\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>notifyItemInserted()</code>\u3001<code>notifyItemRemoved()</code> \u7b49\u65b9\u6cd5\uff0c\u6765\u66f4\u65b0\u5217\u8868\u7684\u67d0\u4e2a\u5143\u7d20\u3002</p>"},{"location":"frontend/android/components/#intent","title":"Intent","text":"<p>\u5047\u5982\u6211\u4eec\u73b0\u5728\u6709\u4e86\u4e00\u5806 Activity \u7b49\u7ec4\u4ef6\uff0c\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u9700\u6c42\u5c31\u662f\u8ba9\u4ed6\u4eec\u4e4b\u95f4\u53ef\u4ee5\u8fdb\u884c\u901a\u4fe1\u3002\u6700\u7b80\u5355\u7684\u4f8b\u5b50\u662f\uff0c\u4e00\u4e2a\u6d3b\u52a8\u8c03\u7528\u53e6\u4e00\u4e2a\uff08\u6211\u4eec\u53ef\u4ee5\u5728\u6d3b\u52a8\u4e4b\u95f4\u4f20\u9012\u4fe1\u606f\uff0c\u5c31\u50cf\u51fd\u6570\u4e00\u6837\uff09\u3002</p> <pre><code>Intent intent = new Intent(CurrentActivity.this, TargetActivity.class);\n/* optional:\n    Bundle bundle = new Bundle();\n    bundle.putString(\"string1\", \"YOUR_STRING\");\n    intent.putExtras(bundle);\n*/\nstartActivity(intent);\n\n/*  get your bundle in the target activity:\n    Bundle bundle = this.getIntent().getExtras();\n    String str1 = bundle.getString(\"string1\");\n*/\n</code></pre>"},{"location":"frontend/android/components/#service","title":"Service","text":"<p>\u5e76\u4e0d\u662f\u6240\u6709\u7ec4\u4ef6\u90fd\u662f Activity \u548c Fragment\uff0c\u8fd8\u6709\u5f88\u591a\u7ec4\u4ef6\u548c\u754c\u9762\u65e0\u5173\uff0c\u6bd4\u5982\u64ad\u653e\u97f3\u4e50\u6216\u4e0b\u8f7d\u6587\u4ef6\u7684\u7ec4\u4ef6\u3002\u8fd9\u5c31\u9700\u8981\u7528\u5230 Service\u3002\u5b83\u7684\u751f\u547d\u5468\u671f\u4e0e Activity \u7b49\u6709\u4e9b\u5dee\u5f02\u3002\u8fd9\u91cc\u662f\u4e00\u4e2a\u97f3\u4e50\u64ad\u653e\u7684 Service\uff0c\u5728 <code>onStartCommand()</code> \u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u63a5\u6536 Intent \u4e2d\u7684\u97f3\u4e50 URL\uff0c\u4f7f\u7528 MediaPlayer \u64ad\u653e\u97f3\u4e50\u3002\u5728\u670d\u52a1\u9500\u6bc1\u65f6\uff0c\u6211\u4eec\u5219\u9700\u8981\u91ca\u653e MediaPlayer \u7684\u8d44\u6e90\u3002</p> <pre><code>// MusicPlayerService.java\npublic class MusicPlayerService extends Service {\n\n    private MediaPlayer mediaPlayer;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mediaPlayer = new MediaPlayer();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        String musicUrl = intent.getStringExtra(\"music_url\");\n        try {\n            mediaPlayer.setDataSource(musicUrl);\n            mediaPlayer.prepare();\n            mediaPlayer.start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return START_NOT_STICKY; // don't restart when killed by system\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (mediaPlayer != null) {\n            mediaPlayer.release();\n            mediaPlayer = null;\n        }\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n\n/*\n    Intent intent = new Intent(CurrentActivity.this, MusicPlayerService.class);\n    Bundle bundle = new Bundle();\n    bundle.putString(\"music_url\", \"YOUR_URL\");\n    intent.putExtras(bundle);\n    startService(intent);\n*/\n</code></pre>"},{"location":"frontend/android/extensions/","title":"\u540e\u7eed\u5b66\u4e60","text":"<p>\u5230\u8fd9\u91cc\u6587\u6863\u5c31\u7b97\u7ed3\u675f\u4e86\uff0c\u4f46\u662f\u5982\u679c\u60f3\u66f4\u52a0\u6df1\u5165\u7684\u5b66\u4e60 Android \u5f00\u53d1\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u7684\u5185\u5bb9</p> <ul> <li>Android \u5f00\u53d1\u8005\u5b98\u7f51\uff1a\u5b98\u65b9\u7f51\u7ad9\u662f\u6700\u6743\u5a01\u7684\u5b66\u4e60\u8d44\u6599\uff0c\u91cc\u9762\u6709\u5f88\u591a\u6559\u7a0b\u548c\u8be6\u5c3d\u7684 API \u6587\u6863\uff0c\u8fd8\u6709\u4e00\u4e9b\u793a\u4f8b\u4ee3\u7801\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5b98\u7f51\u8fd8\u6709\u4e00\u4e9b\u5173\u4e8e Android \u5f00\u53d1\u7684\u6700\u65b0\u52a8\u6001\uff0c\u5982\u65b0\u7684 API \u7248\u672c\u3001\u65b0\u7684\u5f00\u53d1\u5de5\u5177\u7b49\u3002</li> <li>Android Weekly\uff1a\u6bcf\u5468\u66f4\u65b0\uff0c\u6c47\u96c6\u4e86\u4e92\u8054\u7f51\u4e0a\u6709\u5173 Android \u5f00\u53d1\u7684\u6280\u672f\u6587\u7ae0\u3001\u5f00\u6e90\u9879\u76ee\u3001\u5de5\u5177\u7b49\uff0c\u622a\u81f3\u6587\u6863\u5b8c\u6210\u65f6\u5df2\u7ecf\u66f4\u65b0\u4e86\u63a5\u8fd1 600 \u671f\u3002</li> </ul>"},{"location":"frontend/android/resources/","title":"Android \u7684\u8d44\u6e90\u5e93","text":"<p>Android \u7684\u8d44\u6e90\u5e93\u5b58\u50a8\u7740 APP \u7684\u672c\u5730\u8d44\u6e90\uff0c\u5305\u62ec\u5e03\u5c40\u6587\u4ef6\u3001\u56fe\u7247\u3001\u97f3\u9891\u3001\u5b57\u7b26\u4e32\u3001\u989c\u8272\u7b49\u5185\u5bb9\uff0c\u8fd9\u4e9b\u8d44\u6e90\u4f7f\u7528 XML \u8bed\u6cd5\u7f16\u5199\uff0c\u88ab\u5b58\u50a8\u5728\u9879\u76ee\u6587\u4ef6\u7684 res \u76ee\u5f55\u4e0b\uff0c\u5728 APP \u8fd0\u884c\u65f6\u53ef\u4ee5\u88ab\u8c03\u7528\u3002</p> <p> </p>"},{"location":"frontend/android/resources/#_1","title":"\u5e03\u5c40\u6587\u4ef6","text":"<p>\u5e03\u5c40\u6587\u4ef6\u4e00\u822c\u88ab\u5b58\u50a8\u5728 layout \u76ee\u5f55\u4e0b\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u591a\u79cd <code>Layout</code> \u5c06\u5bf9\u5e94\u7684\u90e8\u5206\u63d2\u5165\u5230\u754c\u9762\u5bf9\u5e94\u7684\u4f4d\u7f6e\u5e76\u4f7f\u7528\u5404\u79cd\u5404\u6837\u7684 <code>View</code> \u5355\u72ec\u6216\u5d4c\u5957\u5728 <code>Layout</code> \u5185\u4f5c\u4e3a\u9875\u9762\u5c55\u793a\u7684\u5143\u7d20\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"90dp\"\n    android:orientation=\"vertical\"\n    android:paddingLeft=\"12dp\"\n    android:paddingRight=\"12dp\"&gt;\n\n    &lt;View\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0.5dp\"\n        android:background=\"#F8F8F8\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:paddingTop=\"10dp\"\n        android:paddingBottom=\"10dp\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"2\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/news_title\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_marginTop=\"-3dp\"\n                android:ellipsize=\"end\"\n                android:maxLines=\"2\"\n                android:text=\"@string/news_title\"\n                android:textColor=\"#222222\"\n                android:textSize=\"18sp\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/news_desc\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentBottom=\"true\"\n                android:ellipsize=\"end\"\n                android:maxLines=\"1\"\n                android:text=\"@string/news_author\"\n                android:textColor=\"#BFBFBF\"\n                android:textSize=\"10sp\"\n                tools:ignore=\"SmallSp\" /&gt;\n        &lt;/RelativeLayout&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/news_image\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:scaleType=\"fitXY\"\n            android:src=\"@drawable/news_image\"\n            android:layout_marginStart=\"20dp\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0.5dp\"\n        android:background=\"#F8F8F8\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre> <p>\u5f97\u5230\u7684\u5e03\u5c40\u5982\u4e0b\u56fe\uff0c\u5982\u4f60\u6240\u89c1\uff0c\u524d\u540e\u4e24\u4e2a View \u662f\u4e0a\u4e0b\u5360\u4f4d\u8fb9\u6846\uff0c\u4e2d\u95f4\u7684\u90e8\u5206\u662f\u4e00\u7ec4\u6a2a\u5411\u7ebf\u6027\u6392\u5217\uff0c\u6743\u91cd\u4e3a 2:1\uff1b\u5de6\u8fb9\u662f\u4e24\u4e2a\u6587\u672c\u6846\u7ec4\u6210\u7684\uff0c\u53f3\u8fb9\u662f\u4e00\u5f20\u56fe\u7247\u3002\u5e03\u5c40\u6587\u4ef6\u7684\u7f16\u5199\u8fd8\u662f\u6bd4\u8f83\u76f4\u89c2\u7684\uff0c\u66f4\u591a\u5730\u9700\u8981\u5728\u5b9e\u8df5\u4e2d\u63d0\u9ad8\u4f7f\u7528\u7684\u719f\u7ec3\u5ea6\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p> </p> <p>\u51e0\u70b9\u5173\u4e8e\u5e03\u5c40\u6587\u4ef6\u7684 tip</p> <ol> <li>\u5e03\u5c40\u6587\u4ef6\u53ea\u80fd\u6709\u4e00\u4e2a\u6839\u5143\u7d20\u3002</li> <li>\u4e0a\u56fe\u53ef\u89c6\u5316\u5e03\u5c40\u6587\u4ef6\u7684\u5de5\u5177\u662f Android Studio \u7684\u5e03\u5c40\u7f16\u8f91\u5668\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728\u5e03\u5c40\u7f16\u8f91\u5668\u4e2d\u76f4\u63a5\u6dfb\u52a0\u5143\u7d20\u5e76\u8c03\u6574\u76f8\u5173\u53c2\u6570\uff0c\u4efb\u4f55\u66f4\u6539 Android Studio \u90fd\u4f1a\u5e2e\u4f60\u5199\u5165\u5e03\u5c40\u6587\u4ef6\u5185\uff0c\u4e0d\u8fc7\u76f4\u63a5\u5bf9\u5e03\u5c40\u6587\u4ef6\u8fdb\u884c\u4fee\u6539\u662f\u66f4\u63a8\u8350\u7684\u505a\u6cd5\u3002</li> </ol>"},{"location":"frontend/android/resources/#_2","title":"\u5176\u4ed6\u8d44\u6e90\u7c7b\u578b","text":"<p>\u9664\u4e86\u5e03\u5c40\u6587\u4ef6\u4ee5\u5916\uff0cAndroid \u8fd8\u6709\u5f88\u591a\u7c7b\u578b\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u989c\u8272\u5217\u8868\u72b6\u6001\u8d44\u6e90\uff0c\u5b83\u4e00\u822c\u5b58\u50a8\u5728 values \u76ee\u5f55\u4e0b\u7684 <code>colors.xml</code>\u3002</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"purple_200\"&gt;#FFBB86FC&lt;/color&gt;\n    &lt;color name=\"purple_500\"&gt;#FF6200EE&lt;/color&gt;\n    &lt;color name=\"purple_700\"&gt;#FF3700B3&lt;/color&gt;\n    &lt;color name=\"teal_200\"&gt;#FF03DAC5&lt;/color&gt;\n    &lt;color name=\"teal_700\"&gt;#FF018786&lt;/color&gt;\n    &lt;color name=\"black\"&gt;#FF000000&lt;/color&gt;\n    &lt;color name=\"white\"&gt;#FFFFFFFF&lt;/color&gt;\n    &lt;color name=\"customBlue\"&gt;#66CCFF&lt;/color&gt;\n    &lt;color name=\"customGreen\"&gt;#39C5BB&lt;/color&gt;\n    &lt;color name=\"customGrey\"&gt;#787a7a&lt;/color&gt;\n    &lt;color name=\"customWhite\"&gt;#FAFAFA&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre> <p>\u8fd8\u6709\u83dc\u5355\u8d44\u6e90\uff0c\u4e00\u822c\u5b58\u50a8\u5728 menu \u76ee\u5f55\u4e0b\u3002</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item\n        android:title=\"\u4e3b\u9875\"\n        android:id=\"@+id/home\"\n        android:icon=\"@drawable/ic_home_black_24dp\"/&gt;\n    &lt;item\n        android:title=\"\u641c\u7d22\"\n        android:id=\"@+id/search\"\n        android:icon=\"@android:drawable/ic_menu_search\"/&gt;\n    &lt;item\n        android:title=\"\u8bb0\u5f55\"\n        android:id=\"@+id/history\"\n        android:icon=\"@android:drawable/ic_menu_recent_history\"/&gt;\n&lt;/menu&gt;\n</code></pre> <p>Android \u8fd8\u6709\u66f4\u591a\u79cd\u8d44\u6e90\u7c7b\u578b\uff0c\u8fd9\u91cc\u4e00\u4e00\u4ecb\u7ecd\u5e76\u4e0d\u73b0\u5b9e\uff0c\u60f3\u8981\u4e86\u89e3\u66f4\u591a\u7684\u53ef\u4ee5\u8df3\u8f6c \u8d44\u6e90\u7c7b\u578b\u7b80\u4ecb\u3002</p>"},{"location":"frontend/android/structure/","title":"Android \u9879\u76ee\u7684\u6784\u6210","text":""},{"location":"frontend/android/structure/#manifests","title":"Manifests","text":"<p>\u5728 Android \u5e94\u7528\u4e2d\uff0c<code>AndroidManifest.xml</code> \u6587\u4ef6\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\u5b83\u662f Android \u5e94\u7528\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u5e94\u7528\u7684\u5143\u6570\u636e\u548c\u914d\u7f6e\u4fe1\u606f\uff0c\u7528\u4e8e\u63cf\u8ff0\u5e94\u7528\u7684\u7ed3\u6784\u548c\u884c\u4e3a\u3002\u8fd9\u4e2a\u6587\u4ef6\u4e3a\u7cfb\u7edf\u63d0\u4f9b\u4e86\u5173\u4e8e\u5e94\u7528\u7684\u5404\u79cd\u5173\u952e\u4fe1\u606f\uff0c\u5982\u5e94\u7528\u7684\u5305\u540d\u3001\u5e94\u7528\u56fe\u6807\u3001\u7248\u672c\u4fe1\u606f\u3001\u652f\u6301\u7684 Android \u7248\u672c\u3001\u5bf9\u5916\u66b4\u9732\u7684\u7ec4\u4ef6\uff08\u5982 Activity\u3001Service\u3001BroadcastReceiver \u7b49\uff09\uff0c\u4ee5\u53ca\u5176\u4ed6\u7cfb\u7edf\u9700\u8981\u77e5\u9053\u7684\u8bbe\u7f6e\u548c\u6743\u9650\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a <code>AndroidManifest.xml</code> \u6587\u4ef6\u7684\u793a\u4f8b\uff1a</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\n        android:fullBackupContent=\"@xml/backup_rules\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.Wordle\"\n        tools:targetApi=\"31\"&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:exported=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>"},{"location":"frontend/android/structure/#fragmentsactivitiesservicesadaptersintents","title":"Fragments/Activities/Services/Adapters/Intents","text":"<p>\u8fd9\u4e9b\u7ec4\u4ef6\u662f Android \u5e94\u7528\u7684\u57fa\u672c\u7ec4\u6210\u90e8\u5206\uff0c\u4f4d\u4e8e <code>app/src/main/java/</code> \u6587\u4ef6\u5939\u91cc\u3002</p> <ul> <li>Fragments\uff1a\u53ef\u4ee5\u770b\u4f5c\u662f\u6d3b\u52a8\u7684\u4e00\u90e8\u5206\uff0c\u7528\u4e8e\u7ba1\u7406\u7528\u6237\u754c\u9762\u7684\u4e00\u90e8\u5206\u3002</li> <li>Activities\uff1a\u662f\u5e94\u7528\u4e2d\u7684\u4e00\u4e2a\u5355\u72ec\u7684\u5c4f\u5e55\uff0c\u7528\u6237\u53ef\u4ee5\u4e0e\u4e4b\u4ea4\u4e92\u3002</li> <li>Services\uff1a\u7528\u4e8e\u5728\u540e\u53f0\u6267\u884c\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u64cd\u4f5c\uff0c\u800c\u4e0d\u4f1a\u5e72\u6270\u7528\u6237\u754c\u9762\u3002</li> <li>Adapters\uff1a\u7528\u4e8e\u5c06\u6570\u636e\u7ed1\u5b9a\u5230\u89c6\u56fe\u7ec4\u4ef6\uff0c\u5982\u5217\u8868\u89c6\u56fe\u6216\u7f51\u683c\u89c6\u56fe\u3002</li> <li>Intents\uff1a\u7528\u4e8e\u542f\u52a8\u6d3b\u52a8\u3001\u670d\u52a1\u6216\u5e7f\u64ad\uff0c\u8fd8\u53ef\u4ee5\u5728\u5e94\u7528\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u3002</li> </ul> <p>\u5176\u4e2d\uff0c<code>MainActivity.java</code> \u901a\u5e38\u4f5c\u4e3a\u5e94\u7528\u7684\u4e3b\u5165\u53e3\u70b9\uff0c\u5b83\u662f\u4e00\u4e2a\u7ee7\u627f\u81ea <code>Activity</code> \u7684\u7c7b\uff0c\u7528\u4e8e\u5b9a\u4e49\u5e94\u7528\u7684\u4e3b\u754c\u9762\u548c\u7528\u6237\u4ea4\u4e92\u903b\u8f91\u3002</p>"},{"location":"frontend/android/structure/#tests","title":"Tests","text":"<p>\u6d4b\u8bd5\u662f\u786e\u4fdd\u5e94\u7528\u8d28\u91cf\u548c\u7a33\u5b9a\u6027\u7684\u91cd\u8981\u90e8\u5206\u3002\u6d4b\u8bd5\u6587\u4ef6\u901a\u5e38\u4f4d\u4e8e\u4ee5\u4e0b\u4e24\u4e2a\u76ee\u5f55\uff1a</p> <ul> <li><code>app/src/test/</code>\uff1a\u5305\u542b\u5355\u5143\u6d4b\u8bd5\uff0c\u8fd9\u4e9b\u6d4b\u8bd5\u5728\u5f00\u53d1\u4eba\u5458\u7684\u673a\u5668\u4e0a\u8fd0\u884c\u3002</li> <li><code>app/src/androidTest/</code>\uff1a\u5305\u542b\u4eea\u5668\u6d4b\u8bd5\uff0c\u8fd9\u4e9b\u6d4b\u8bd5\u5728\u8bbe\u5907\u6216\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\u3002</li> </ul>"},{"location":"frontend/android/structure/#resources","title":"Resources","text":"<p>\u8d44\u6e90\u6587\u4ef6\u662f\u5e94\u7528\u7684\u975e\u4ee3\u7801\u90e8\u5206\uff0c\u5305\u62ec\u56fe\u50cf\u3001\u5b57\u7b26\u4e32\u3001\u989c\u8272\u5b9a\u4e49\u7b49\u3002\u8d44\u6e90\u6587\u4ef6\u4f4d\u4e8e <code>app/src/main/res/</code> \u6587\u4ef6\u5939\u4e2d\uff0c\u4e3b\u8981\u5305\u62ec\uff1a</p> <ul> <li><code>drawable/</code>\uff1a\u5b58\u653e\u56fe\u50cf\u8d44\u6e90\u3002</li> <li><code>values/</code>\uff1a\u5b58\u653e\u5b57\u7b26\u4e32\u3001\u989c\u8272\u5b9a\u4e49\u3001\u5c3a\u5bf8\u5b9a\u4e49\u7b49\u3002</li> <li><code>layout/</code>\uff1a\u5b58\u653e\u5e94\u7528\u7684\u5e03\u5c40\u6587\u4ef6\uff0c\u5982 XML \u6587\u4ef6\u3002</li> </ul>"},{"location":"frontend/android/structure/#gradle-scripts","title":"Gradle Scripts","text":"<p>Gradle \u662f Android \u5e94\u7528\u7684\u6784\u5efa\u7cfb\u7edf\u3002Gradle Scripts \u7528\u4e8e\u5b9a\u4e49\u9879\u76ee\u7684\u6784\u5efa\u8fc7\u7a0b\u548c\u4f9d\u8d56\u5173\u7cfb\u3002\u4e3b\u8981\u6587\u4ef6\u5305\u62ec\uff1a</p> <ul> <li><code>gradle.properties</code>\uff1a\u5b9a\u4e49\u5168\u5c40\u914d\u7f6e\uff0c\u5982\u6700\u5c0f SDK \u7248\u672c\u3002</li> <li><code>gradle-wrapper.properties</code>\uff1a\u5b9a\u4e49 Gradle \u5305\u88c5\u5668\u7684\u914d\u7f6e\u3002</li> <li><code>settings.gradle.kts</code>\uff1a\u5b9a\u4e49\u9879\u76ee\u8bbe\u7f6e\uff0c\u5982\u6a21\u5757\u540d\u79f0\u3002</li> <li><code>build.gradle.kts</code>\uff1a\u5b9a\u4e49\u6a21\u5757\u7684\u6784\u5efa\u903b\u8f91\uff0c\u5305\u62ec\u4f9d\u8d56\u9879\u548c\u63d2\u4ef6\u3002</li> </ul>"},{"location":"frontend/android/useful-things/","title":"\u4e00\u4e9b Android \u7684\u5b9e\u7528\u7ec4\u4ef6","text":"<p>\u4e0b\u9762\u5c06\u4f1a\u4ecb\u7ecd\u4e00\u4e9b\u53ef\u80fd\u4e0d\u662f\u6700\u6838\u5fc3\uff0c\u4f46\u975e\u5e38\u5b9e\u7528\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"frontend/android/useful-things/#_1","title":"\u957f\u671f\u50a8\u5b58\u53ca\u6570\u636e\u5e93","text":"<p>\u5236\u4f5c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u79bb\u4e0d\u5f00\u6570\u636e\u7684\u5b58\u50a8\u3002\u5bf9\u5c11\u91cf\u6570\u636e\u548c\u5927\u91cf\u7ed3\u6784\u5316\u7684\u6570\u636e\uff0c\u6211\u4eec\u6709\u4e0d\u540c\u7684\u5b58\u50a8\u65b9\u5f0f\u3002</p> <p>\u8fd9\u91cc\u63a8\u8350\u5bf9\u5c11\u91cf\u6570\u636e\u4f7f\u7528 Android \u5185\u7f6e\u7684 SharedPreferences \u7c7b\u8fdb\u884c\u5b58\u50a8\u3002SharedPreferences \u4f7f\u7528\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u6765\u5b58\u50a8\u6570\u636e\uff0c\u6bcf\u4e2a\u952e\u90fd\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u952e\u6765\u5b58\u50a8\u5404\u79cd\u6570\u636e\u7c7b\u578b\u7684\u503c\uff0c\u5982\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u5e03\u5c14\u503c\u3001\u5b57\u7b26\u4e32\u7b49\u3002\u6ce8\u610f\uff0c\u5b83\u76f4\u63a5\u4f7f\u7528 .xml \u6587\u4ef6\u5b58\u50a8\u6240\u6709\u5185\u5bb9\uff0c\u56e0\u6b64\u8bf7\u4ec5\u7528\u4e8e\u5b58\u50a8\u5c11\u91cf\u6570\u636e\u3002\u4e0b\u9762\u5c55\u793a\u4e00\u4e2a\u4f7f\u7528\u8be5\u7c7b\u7684 <code>onCreate()</code> \u65b9\u6cd5\u3002</p> <pre><code>   protected void onCreate(Bundle savedInstanceState) {\n\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n       SharedPreferences preferences = getPreferences(MODE_PRIVATE);\n       SharedPreferences.Editor editor = preferences.edit();\n\n       Bundle bundle = this.getIntent().getExtras(); // load intent\n       String intentUserName = bundle.getString(\"user_name\");\n       if(intentUserName != null &amp;&amp; !intentUserName.equals(\"null\")){\n           editor.putString(\"user_name\", intentUserName);\n           editor.apply();\n       }\n       else {\n           userName = preferences.getString(\"user_name\", null);\n           if (userName == null || userName.equals(\"null\")){\n               userName = \"Clancy\";\n               editor.putString(\"user_name\", userName);\n               editor.apply();\n           }\n       }\n   }\n</code></pre> <p>\u5927\u91cf\u7684\u7ed3\u6784\u5316\u6570\u636e\u5e94\u8be5\u4f7f\u7528\u6570\u636e\u5e93\u5b58\u50a8\u3002\u5982\u679c\u4f60\u4f1a\u4f7f\u7528 SQL \u8bed\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528 SQLite \u4fdd\u5b58\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u3002\u4e00\u4e2a\u6570\u636e\u5e93\u662f <code>SQLiteDatabase</code> \u7c7b\u7684\u4e00\u4e2a\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>db.execSQL(SQL_OPERATION);</code> \u8fd9\u6837\u7684\u8bed\u53e5\u6765\u8fdb\u884c\u4f60\u60f3\u8981\u7684\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e9b\u66f4\u4e3a\u5c01\u88c5\u5316\u7684 API \u63a5\u53e3\uff0c\u5982 <code>insert()</code>, <code>delete()</code>, <code>query()</code>, <code>update()</code>\u3002</p> <pre><code>import android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.content.ContentValues;\nimport android.database.Cursor;\n\npublic class DatabaseHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"mydatabase.db\";\n    private static final int DATABASE_VERSION = 1;\n    private static final String TABLE_NAME = \"mytable\";\n    private static final String COLUMN_ID = \"id\";\n    private static final String COLUMN_NAME = \"name\";\n\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // create new table, you have to write raw SQL\n        String createTableQuery = \"CREATE TABLE \" + TABLE_NAME + \"(\"\n                + COLUMN_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT,\"\n                + COLUMN_NAME + \" TEXT)\";\n\n        db.execSQL(createTableQuery);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // delete old database and build a new one\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n        onCreate(db);\n    }\n\n    public void insertData(String name) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COLUMN_NAME, name);\n        db.insert(TABLE_NAME, null, values);\n        db.close();\n    }\n\n    public void deleteData(String name) {\n        SQLiteDatabase db = getWritableDatabase();\n        String whereClause = COLUMN_NAME + \" = ?\";\n        String[] whereArgs = {name};\n        db.delete(TABLE_NAME, whereClause, whereArgs);\n        db.close();\n    }\n\n    public Cursor getAllData() {\n        SQLiteDatabase db = getReadableDatabase();\n        // WARNING: THIS MAY BE SLOW!!!\n        return db.rawQuery(\"SELECT * FROM \" + TABLE_NAME, null);\n    }\n}\n</code></pre>"},{"location":"frontend/android/useful-things/#_2","title":"\u7f51\u7edc\u670d\u52a1","text":"<p>OkHttp3 \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u3001\u7075\u6d3b\u4e14\u9ad8\u6548\u7684 HTTP \u5ba2\u6237\u7aef\u5e93\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u7f51\u7edc\u901a\u4fe1\u9700\u6c42\u3002\u5b83\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u7f51\u7edc\u8bf7\u6c42\u548c\u5904\u7406\u529f\u80fd\uff0c\u7b80\u5316\u4e86\u7f51\u7edc\u7f16\u7a0b\u7684\u590d\u6742\u6027\u3002\u9996\u5148\uff0c\u4f60\u9700\u8981\u5728\u9879\u76ee\u4e2d\u6dfb\u52a0 OkHttp3 \u5e93\u7684\u4f9d\u8d56\uff0c\u5728 build.gradle \u6587\u4ef6\u4e2d\u6dfb\u52a0\uff1a<code>implementation 'com.squareup.okhttp3:okhttp:\u7248\u672c\u53f7'</code>\u3002\u7136\u540e\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>import okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\npublic class OkHttpExample {\n    public static void sendGetRequest() {\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(\"YOUR_URL\")\n                .build();\n        try {\n            Response response = client.newCall(request).execute();\n            if (response.isSuccessful()) {\n                String responseData = response.body().string();\n                // do something, such as parse a json file\n                // you may try obj =  Gson().fromJson(responseData, yourClass.class);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void sendPostRequest() {\n        OkHttpClient client = new OkHttpClient();\n        MediaType mediaType = MediaType.parse(\"application/json; charset=utf-8\");\n        String requestBody = \"{\\\"key\\\": \\\"value\\\"}\";\n        RequestBody body = RequestBody.create(mediaType, requestBody);\n        Request request = new Request.Builder()\n                .url(\"YOUR_URL_2\")\n                .post(body)\n                .build();\n        try {\n            Response response = client.newCall(request).execute();\n            if (response.isSuccessful()) {\n                String responseData = response.body().string();\n                // do something...\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>"},{"location":"frontend/android/useful-things/#_3","title":"\u591a\u5a92\u4f53","text":"<p>\u52a0\u8f7d\u672c\u5730\u7684\u56fe\u7247\u662f\u5f88\u5bb9\u6613\u7684\uff08\u81ea\u5df1\u8bd5\u8bd5\u770b\uff09\u3002\u5982\u679c\u8981\u901a\u8fc7 URL \u52a0\u8f7d\u56fe\u7247\uff0c\u53ef\u4ee5\u4f7f\u7528 Glide\uff0c\u5b83\u662f\u4e00\u4e2a\u5f00\u6e90\u56fe\u7247\u52a0\u8f7d\u548c\u7f13\u5b58\u5e93\u3002\u9996\u5148\u6211\u4eec\u8981\u6709\u4e00\u4e2a ImageView\uff0c\u7136\u540e\u901a\u8fc7 Glide \u628a\u7ed9\u5b9a URL \u7684\u56fe\u7247\u52a0\u8f7d\u51fa\u6765\u3002</p> <pre><code>ImageView imageView = view.findViewById(R.id.your_image);\nGlide.with(YourApplication.getContext()).load(imageURL).into(imageView);\n</code></pre> <p>\u5bf9\u4e8e\u7f51\u7edc\u89c6\u9891\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 URL \u8fdb\u884c\u52a0\u8f7d\u3002</p> <pre><code>VideoView videoView = view.findViewById(R.id.your_video);\nvideoView.setVideoPath(video);\nMediaController mediaController = new MediaController(getContext());\nvideoView.setMediaController(mediaController);\nvideoView.requestFocus();\n</code></pre>"},{"location":"frontend/android/useful-things/#json","title":"\u5e8f\u5217\u5316\u4e0e\u53cd\u5e8f\u5217\u5316\uff1aJSON","text":"<p>JSONObject \u548c JSONArray \u662f\u5728\u5904\u7406 JSON \u6570\u636e\u65f6\u4f7f\u7528\u7684\u4e24\u79cd\u57fa\u672c\u6570\u636e\u7ed3\u6784\u3002\u5b83\u4eec\u662f\u8f7b\u91cf\u7ea7\u7684\uff0c\u5e76\u4e14\u901a\u5e38\u7528\u4e8e\u5728 Web \u670d\u52a1\u548c\u79fb\u52a8\u5e94\u7528\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u3002\u5728 Android \u5f00\u53d1\u4e2d\uff0c\u8fd9\u4e24\u4e2a\u7c7b\u901a\u5e38\u7531 <code>org.json</code> \u5e93\u63d0\u4f9b\uff0c\u8fd9\u4e2a\u5e93\u4e0d\u662f Android \u6807\u51c6\u5e93\u7684\u4e00\u90e8\u5206\uff0c\u56e0\u6b64\u9700\u8981\u5355\u72ec\u6dfb\u52a0\u5230\u9879\u76ee\u4e2d\u3002</p>"},{"location":"frontend/android/useful-things/#jsonobject","title":"JSONObject","text":"<p>JSONObject \u662f\u4e00\u4e2a\u6620\u5c04\u8868\uff0c\u7528\u6765\u5b58\u50a8\u952e\u503c\u5bf9\uff0c\u5176\u4e2d\u952e\u662f\u5b57\u7b26\u4e32\uff0c\u503c\u53ef\u4ee5\u662f\u4ee5\u4e0b\u7c7b\u578b\u4e4b\u4e00\uff1a</p> <ul> <li><code>String</code></li> <li><code>Number</code></li> <li><code>JSONObject</code></li> <li><code>JSONArray</code></li> <li><code>Boolean</code></li> <li><code>null</code></li> </ul> <p>\u57fa\u672c\u7528\u6cd5:</p> <ol> <li>\u521b\u5efa JSONObject:</li> </ol> <pre><code>JSONObject jsonObject = new JSONObject();\n</code></pre> <ol> <li>\u6dfb\u52a0\u6570\u636e:</li> </ol> <pre><code>jsonObject.put(\"key\", \"value\");\njsonObject.put(\"key2\", 123);\njsonObject.put(\"key3\", anotherJsonObject);\n</code></pre> <ol> <li>\u83b7\u53d6\u6570\u636e:</li> </ol> <pre><code>String value = jsonObject.getString(\"key\");\nint number = jsonObject.getInt(\"key2\");\nJSONObject jobj = jsonObject.getJSONObject(\"key3\");\n</code></pre> <ol> <li>\u904d\u5386 JSONObject:</li> </ol> <pre><code>Iterator&lt;String&gt; keys = jsonObject.keys();\nwhile (keys.hasNext()) {\n    String key = keys.next();\n    Object value = jsonObject.get(key);\n    // \u5904\u7406 key \u548c value\n}\n</code></pre>"},{"location":"frontend/android/useful-things/#jsonarray","title":"JSONArray","text":"<p>JSONArray \u662f\u4e00\u4e2a\u5217\u8868\uff0c\u7528\u4e8e\u5b58\u50a8\u6709\u5e8f\u7684\u503c\u96c6\u5408\u3002\u4e0e JSONObject \u7c7b\u4f3c\uff0cJSONArray \u4e2d\u7684\u503c\u4e5f\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u3001\u5e03\u5c14\u503c\u3001\u53e6\u4e00\u4e2a JSONObject \u6216 JSONArray\u3002</p> <p>\u57fa\u672c\u7528\u6cd5:</p> <ol> <li>\u521b\u5efa JSONArray:</li> </ol> <pre><code>JSONArray jsonArray = new JSONArray();\n</code></pre> <ol> <li>\u6dfb\u52a0\u6570\u636e:</li> </ol> <pre><code>jsonArray.put(\"value1\");\njsonArray.put(123);\njsonArray.put(anotherJsonObject);\njsonArray.put(anotherJsonArray);\n</code></pre> <ol> <li>\u83b7\u53d6\u6570\u636e:</li> </ol> <pre><code>String value = jsonArray.getString(0);\nint number = jsonArray.getInt(1);\nJSONObject jobj = jsonArray.getJSONObject(2);\nJSONArray jarray = jsonArray.getJSONArray(3);\n</code></pre> <ol> <li>\u8bbf\u95ee\u957f\u5ea6:</li> </ol> <pre><code>int length = jsonArray.length();\n</code></pre> <ol> <li>\u904d\u5386 JSONArray:</li> </ol> <pre><code>for (int i = 0; i &lt; jsonArray.length(); i++) {\n    Object value = jsonArray.get(i);\n    // \u5904\u7406 value\n}\n</code></pre>"},{"location":"frontend/android/useful-things/#_4","title":"\u793a\u4f8b\u4ee3\u7801","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff0c\u6f14\u793a\u4e86\u5982\u4f55\u521b\u5efa\u548c\u4f7f\u7528 <code>JSONObject</code> \u548c <code>JSONArray</code>\uff1a</p> <pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\npublic class JsonExample {\n    public static void main(String[] args) {\n        // \u521b\u5efa JSONObject\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(\"name\", \"John Doe\");\n        jsonObject.put(\"age\", 30);\n\n        // \u521b\u5efa JSONArray\n        JSONArray jsonArray = new JSONArray();\n        jsonArray.put(\"Apple\");\n        jsonArray.put(\"Banana\");\n        jsonArray.put(\"Cherry\");\n\n        // \u5c06 JSONArray \u6dfb\u52a0\u5230 JSONObject\n        jsonObject.put(\"fruits\", jsonArray);\n\n        // \u8f93\u51fa\u6574\u4e2a JSON \u5bf9\u8c61\n        System.out.println(jsonObject.toString());\n\n        // \u83b7\u53d6\u5e76\u8f93\u51fa name\n        System.out.println(jsonObject.getString(\"name\"));\n\n        // \u83b7\u53d6\u5e76\u904d\u5386 fruits\n        JSONArray fruits = jsonObject.getJSONArray(\"fruits\");\n        for (int i = 0; i &lt; fruits.length(); i++) {\n            System.out.println(fruits.get(i));\n        }\n    }\n}\n</code></pre>"},{"location":"frontend/android/useful-things/#log","title":"\u8f93\u51fa\u65e5\u5fd7\uff1aLog","text":"<p>\u5728 Android \u5f00\u53d1\u4e2d\uff0cLog \u7c7b\u662f\u7528\u4e8e\u8f93\u51fa\u65e5\u5fd7\u4fe1\u606f\u7684\u975e\u5e38\u6709\u7528\u7684\u5de5\u5177\u3002\u5b83\u5c5e\u4e8e <code>android.util</code> \u5305\uff0c\u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u6cd5\u6765\u6253\u5370\u4e0d\u540c\u7ea7\u522b\u7684\u65e5\u5fd7\u4fe1\u606f\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u8c03\u8bd5\u5e94\u7528\u3002</p> <p>\u65e5\u5fd7\u4fe1\u606f\u901a\u5e38\u5305\u62ec\u4e00\u4e2a\u6807\u7b7e\uff08tag\uff09\u548c\u4e00\u4e2a\u6d88\u606f\uff08message\uff09\u3002\u6807\u7b7e\u662f\u4e00\u4e2a\u7b80\u77ed\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u6807\u8bc6\u65e5\u5fd7\u4fe1\u606f\u7684\u6765\u6e90\uff0c\u800c\u6d88\u606f\u5219\u662f\u8981\u8f93\u51fa\u7684\u5177\u4f53\u5185\u5bb9\u3002</p> <pre><code>Log.d(\"preferenceTest\", \"This is a debug message.\");\n</code></pre> <p>Log \u7c7b\u8f93\u51fa\u7684\u65e5\u5fd7\u53ef\u4ee5\u5728 Android Studio \u7684 Logcat \u7a97\u53e3\u4e2d\u67e5\u770b\u3002Logcat \u662f\u4e00\u4e2a\u5b9e\u65f6\u65e5\u5fd7\u67e5\u770b\u5de5\u5177\uff0c\u5141\u8bb8\u5f00\u53d1\u8005\u6839\u636e\u65e5\u5fd7\u7ea7\u522b\u3001\u6807\u7b7e\u7b49\u6761\u4ef6\u8fc7\u6ee4\u65e5\u5fd7\u4fe1\u606f\u3002</p> <p>\u4f7f\u7528 Log \u7c7b\u662f Android \u5f00\u53d1\u4e2d\u8c03\u8bd5\u548c\u76d1\u63a7\u5e94\u7528\u72b6\u6001\u7684\u91cd\u8981\u624b\u6bb5\u3002\u5408\u7406\u4f7f\u7528\u65e5\u5fd7\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u5b9a\u4f4d\u95ee\u9898\u5e76\u4f18\u5316\u5e94\u7528\u6027\u80fd\u3002</p>"},{"location":"frontend/react/","title":"React \u5f00\u53d1\u5165\u95e8","text":"<p>React \u524d\u7aef\u6846\u67b6\u662f\u5f53\u4e0b\u5e38\u7528\u7684\u7f51\u9875\u524d\u7aef\u6846\u67b6\uff0c\u57fa\u4e8e JavaScript \u8bed\u8a00\uff0c\u5e76\u63d0\u4f9b\u4e86\u5bf9 TypeScript \u8bed\u8a00\u7684\u652f\u6301\u3002</p>"},{"location":"frontend/react/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li> <p>\u5177\u6709 JavaScript \u4ee5\u53ca TypeScript \u8bed\u8a00\u57fa\u7840</p> </li> <li> <p>\u7406\u89e3 HTML \u6807\u7b7e\u8bed\u6cd5\u548c CSS \u8bed\u6cd5</p> </li> <li> <p>\u6709\u7b80\u5355\u7684\u72b6\u6001\u673a\u601d\u7ef4</p> </li> </ul>"},{"location":"frontend/react/#_2","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>React \u4f5c\u4e3a\u5e7f\u6cdb\u8fd0\u7528\u7684\u7f51\u9875\u524d\u7aef\u6846\u67b6\uff0c\u57fa\u672c\u4e0a\u53ef\u4ee5\u5e94\u5bf9\u5927\u90e8\u5206\u5e38\u89c1\u7684\u7f51\u9875\u524d\u7aef\u7f16\u5199\u4efb\u52a1\u3002</p> <p>\u53ef\u4ee5\u5e94\u7528 React \u76f8\u5173\u77e5\u8bc6\u7684\u8bfe\u7a0b\uff1a</p> <ul> <li>\u8f6f\u4ef6\u5de5\u7a0b</li> <li>\u3010\u5176\u4ed6\u9700\u8981\u7f16\u5199\u7f51\u9875\u524d\u7aef\u7684\u8bfe\u7a0b\u3011</li> </ul>"},{"location":"frontend/react/#_3","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>2024 \u5e74\u9152\u4e95\u79d1\u534f\u6691\u57f9\u8bb2\u4e49</li> <li>2023 \u5e74\u9152\u4e95\u79d1\u534f\u6691\u57f9\u8bb2\u4e49</li> <li>React \u5b98\u65b9\u4e2d\u6587\u6587\u6863</li> </ul> <p>\u5b98\u65b9\u6587\u6863\u4e0e\u6211\u4eec\u7684\u6587\u6863</p> <p>React \u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u4e86\u4e24\u79cd\u5b66\u4e60\u8def\u5f84\uff0c\u5206\u522b\u662f\uff1a</p> <ul> <li>\u8fb9\u505a\u8fb9\u5b66\u7f16\u5199\u4e00\u4e2a\u4e95\u5b57\u68cb\u6e38\u620f https://zh-hans.react.dev/learn/tutorial-tic-tac-toe</li> <li>\u8bb2\u89e3\u5177\u4f53\u7684 React \u8bbe\u8ba1\u54f2\u5b66\u4e0e\u5404\u79cd\u6982\u5ff5 https://zh-hans.react.dev/learn</li> </ul> <p>\u672c\u6587\u6863\u7ed3\u5408\u4e86\u8fd9\u4e24\u6761\u8def\u5f84\uff0c\u63d0\u4f9b\u4e86\u5177\u4f53\u7684\u793a\u4f8b\u4e5f\u540c\u65f6\u5c1d\u8bd5\u7740\u5177\u4f53\u8bb2\u89e3\u5404\u7c7b\u6982\u5ff5\u3002</p>"},{"location":"frontend/react/basic/","title":"\u7ec4\u4ef6\u3001\u5c5e\u6027\u4e0e\u72b6\u6001","text":""},{"location":"frontend/react/basic/#render","title":"\u7ec4\u4ef6 &amp; <code>render</code> \u51fd\u6570","text":"<p>React \u7684\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u5c31\u662f\u7ec4\u4ef6\u3002</p> <p>\u7ec4\u4ef6\u66f4\u50cf\u662f\u5c06 UI \u62c6\u5206\u5f97\u5230\u7684\u72ec\u7acb\u53ef\u590d\u7528\u7684\u5c0f\u5757\uff0c\u5176\u80fd\u591f\u63a5\u53d7\u5c5e\u6027\u7684\u4f20\u5165\uff0c\u5e76\u4e14\u8fd4\u56de\u51fa\u63cf\u8ff0\u5c4f\u5e55\u4e0a\u7684\u5c55\u793a\u5185\u5bb9\u7684 React \u5143\u7d20\u3002</p> <p>\u6211\u4eec\u5c06\u4f1a\u4ece\u7c7b\u7ec4\u4ef6\u5165\u624b\u4ecb\u7ecd React \u7ec4\u4ef6\u7684\u7f16\u5199\u65b9\u5f0f\u3002\u4e00\u4e2a\u7ecf\u5178\u7684\u7c7b\u7ec4\u4ef6\u7684\u7ed3\u6784\u5982\u4e0b\uff08\u5373\u4e0b\u53d1\u6846\u67b6\u4e4b\u4e2d\u7684 <code>App.tsx</code> \u6587\u4ef6\u5185\u5bb9\uff09\uff1a</p> <pre><code>class App extends React.Component {\n    render(): ReactElement {\n        return &lt;p&gt; Hello, React! &lt;/p&gt;;\n    }\n}\n</code></pre> <p>\u6bcf\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u90fd\u662f <code>React.Component</code> \u7c7b\u7684\u5b50\u7c7b\uff0c\u5176\u4e2d\u6211\u4eec\u9700\u8981\u91cd\u8f7d <code>render</code> \u51fd\u6570\u4ee5\u5b9a\u4e49\u8fd9\u4e2a\u7ec4\u4ef6\u5728\u5c4f\u5e55\u4e0a\u7684\u5c55\u793a\u65b9\u5f0f\uff08\u7528\u6237\u754c\u9762\uff09\u3002<code>render</code> \u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e3a\u4f7f\u7528\u6807\u7b7e\u8bed\u6cd5\u7f16\u5199\u7684 <code>ReactElement</code>\u3002\u6bd4\u5982\u8bf4\u4e0a\u8ff0 <code>App</code> \u7ec4\u4ef6\u5c31\u8fd4\u56de\u4e86\u4e00\u53e5\u95ee\u5019\u8bed\uff0c\u8fd9\u5c31\u4ee3\u8868 <code>App</code> \u7ec4\u4ef6\u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u4f1a\u6e32\u67d3\u51fa\u8fd9\u4e00\u53e5\u95ee\u5019\u8bed\u3002</p> <p>\u8bed\u6cd5\u62d3\u5c55</p> <p>React \u5bf9 JS/TS \u8bed\u8a00\u4f5c\u4e86\u4e00\u5b9a\u7684\u8bed\u6cd5\u62d3\u5c55\uff0c\u62d3\u5c55\u540e\u7684 JS/TS \u79f0\u4e3a JSX/TSX\uff0c\u6700\u5927\u5dee\u522b\u5c31\u662f\u5f15\u5165\u4e86\u6807\u7b7e\u8bed\u6cd5\uff1a</p> <pre><code>const p = &lt;p&gt;Hello world!&lt;/p&gt;;\n</code></pre> <p>\u8fd9\u7c7b\u7c7b\u4f3c\u4e8e HTML \u6807\u7b7e\u7684\u8bed\u6cd5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u7b49\u4ef7\u4e8e\u4ee5\u4e0b\u8868\u8fbe\uff1a</p> <pre><code>const p = React.createElement(\n    \"p\",\n    undefined,\n    \"Hello world!\"\n);\n</code></pre> <p>\u6807\u7b7e\u5bf9\u8c61\u4e2d\u5141\u8bb8\u5d4c\u5165 JS/TS \u8868\u8fbe\u5f0f\uff0c\u5176\u4f1a\u8fd0\u7b97\u51fa\u5176\u503c\u540e\u8f6c\u4e3a\u5b57\u7b26\u4e32\u5d4c\u5165\uff1a</p> <pre><code>const name = \"Adam\";\nconst p = &lt;p&gt;Hello, {name}!&lt;/p&gt;;\n</code></pre> <p>\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u7684\u76ee\u7684\u662f\u9632\u6b62 XSS \u653b\u51fb\u3002</p> <p>JSX/TSX \u7684\u6807\u7b7e\u8bed\u6cd5\u548c HTML \u7c7b\u4f3c\uff0c\u5141\u8bb8\u5b9a\u4e49\u5404\u79cd\u5c5e\u6027\uff0c\u8fd9\u4e9b\u7279\u6027\u4ee5\u540e\u4f1a\u8bb2\u5230\u3002\u672c\u6587\u6863\u57fa\u4e8e TSX \u8bed\u8a00\u3002</p> <p>TSX \u7684\u9650\u5236</p> <p>\u5728 TSX \u4e2d\uff0c\u53ea\u80fd\u5728\u4ee5\u4e0b\u4e24\u79cd\u573a\u666f\u4e2d\u4f7f\u7528\u5927\u62ec\u53f7\uff1a</p> <ol> <li>\u6807\u7b7e\u5185\u6587\u672c\uff1a<code>&lt;h1&gt;{name}'s To Do List&lt;/h1&gt;</code> \u6709\u6548\uff0c<code>&lt;{tag}&gt;Gregorio Y. Zara's To Do List&lt;/{tag}&gt;</code> \u65e0\u6548\u3002</li> <li>\u7d27\u8ddf\u5728 <code>=</code> \u7b26\u53f7\u540e\u7684\u5c5e\u6027\uff1a<code>src={avatar}</code> \u4f1a\u8bfb\u53d6 <code>avatar</code> \uff0c<code>src=\"{avatar}\"</code> \u53ea\u4f1a\u4f20\u5b57\u7b26\u4e32 <code>\"{avatar}\"</code>\u3002</li> </ol> <p>\u5b9e\u4f8b\u5316\u4e00\u4e2a\u7ec4\u4ef6\u4e5f\u662f\u7b80\u5355\u7684\uff0c\u7c7b\u4f3c HTML \u8bed\u6cd5\u3002\u6bd4\u5982\u4e0b\u9762\u90fd\u662f\u5408\u6cd5\u7684\u5b9e\u4f8b\u5316 <code>App</code> \u7ec4\u4ef6\u7684\u8bed\u53e5\uff1a</p> <pre><code>&lt;App /&gt;;\n&lt;App title=\"SAST-React\" /&gt;; // 'props' will be introduced later\n&lt;App&gt;&lt;div /&gt;&lt;/App&gt;;\n</code></pre> <p><code>index.tsx</code> \u6587\u4ef6\u7684\u4f5c\u7528</p> <p>\u6211\u4eec\u4e0b\u53d1\u7684\u6846\u67b6\u7684 <code>src</code> \u76ee\u5f55\u4e0b\u4ec5\u4ec5\u6709 <code>App.tsx</code> \u548c <code>index.tsx</code> \u4e24\u4e2a\u6587\u4ef6\u3002\u5176\u4e2d\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86 <code>App.tsx</code> \u6587\u4ef6\u7684\u4f5c\u7528\uff0c\u5176\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\uff0c\u5e76\u4e14\u89c4\u5b9a\u4e86\u8fd9\u4e2a\u7ec4\u5efa\u7684\u663e\u793a\u65b9\u5f0f\u3002</p> <p>\u800c <code>index.tsx</code> \u6587\u4ef6\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u5b9a\u4e49\u597d\u7684\u7c7b\u7ec4\u4ef6\u6e32\u67d3\u5230 DOM \u6811\u4e0a\u3002\u6211\u4eec\u89c2\u5bdf\u5176\u6587\u4ef6\u5185\u5bb9\uff1a</p> <pre><code>const root = ReactDOM.createRoot(\n    document.getElementById('root') as HTMLElement\n);\nroot.render(&lt;App /&gt;);\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u8bed\u53e5\u7684\u542b\u4e49\u4e3a\u5728 DOM \u6811\u4e0a\u5bfb\u627e ID \u4e3a <code>root</code> \u7684\u5143\u7d20\uff0c\u5e76\u5c06\u5176\u8bbe\u5b9a\u4e3a React \u5e94\u7528\u7684\u6839\u5143\u7d20\u3002\u800c\u5982\u679c\u6253\u5f00 React \u5e94\u7528 <code>public</code> \u6587\u4ef6\u5939\u4e0b\u7684 <code>index.html</code> \u6587\u4ef6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u627e\u5230\u8fd9\u4e2a\u6839\u5143\u7d20\uff08\u5176\u4e00\u822c\u4f4d\u4e8e\u7b2c 31 \u884c\u5de6\u53f3\uff09\uff1a</p> <pre><code>&lt;div id=\"root\"&gt;&lt;/div&gt;\n</code></pre> <p>\u800c\u7b2c\u4e8c\u4e2a\u8bed\u53e5\u5c31\u662f\u5c06 <code>&lt;App /&gt;</code> \u8fd9\u4e2a\u7ec4\u4ef6\u6e32\u67d3\u5230\u83b7\u53d6\u5230\u7684\u6839\u5143\u7d20\u4e0a\u3002</p> <p>\u6240\u4ee5 <code>index.tsx</code> \u7684\u4f5c\u7528\u5c31\u662f\u642d\u5efa\u8d77\u4f20\u7edf HTML \u548c React TSX \u4e4b\u95f4\u7684\u6865\u6881\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u81ea\u7531\u5730\u4f7f\u7528 TSX \u8bed\u6cd5\u7f16\u5199\u7ec4\u4ef6\uff0c\u800c\u5c06\u8fd9\u4e9b\u7ec4\u4ef6\u8f6c\u6362\u5230 HTML \u7684\u4efb\u52a1\u5219\u4ea4\u7ed9\u4e86 React \u6846\u67b6\u3002</p>"},{"location":"frontend/react/basic/#_2","title":"\u7f16\u5199\u7b2c\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7ec4\u4ef6","text":"<p>\u6211\u4eec\u8bf4\u8fc7\u7ec4\u4ef6\u662f\u72ec\u7acb\u53ef\u590d\u7528\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684\u7ec4\u4ef6\u5e76\u4f7f\u7528\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7c7b\u7ec4\u4ef6\u5199\u4e00\u4e2a\u6e32\u67d3\u4e00\u4e2a\u7ea2\u8272\u6b63\u65b9\u5f62\u7684\u7ec4\u4ef6 <code>Square</code>\uff08\u76f4\u63a5\u5728 <code>App.tsx</code> \u6587\u4ef6\u5185\u63d2\u5165\u4e0b\u8ff0\u4ee3\u7801\u5373\u53ef\uff09\uff1a</p> <pre><code>class Square extends React.Component {\n    render(): ReactElement {\n        return &lt;div style={{width: 100, height: 100, backgroundColor: \"red\"}} /&gt;;\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u5728 <code>App</code> \u7ec4\u4ef6\u7684 <code>render</code> \u51fd\u6570\u91cc\u9762\u4f7f\u7528\u8fd9\u4e2a\u7ec4\u4ef6\u4e86\uff1a</p> <pre><code>// Component 'App'\nrender(): ReactElement {\n    return (\n        &lt;div&gt;\n            &lt;p&gt;This is a square!&lt;/p&gt;\n            &lt;Square /&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u7f16\u8bd1\u4e4b\u540e\u5c31\u80fd\u770b\u5230\u5c4f\u5e55\u4e0a\u7684\u4e00\u4e2a\u7ea2\u8272\u6b63\u65b9\u5f62\u3002</p>"},{"location":"frontend/react/basic/#props","title":"\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u7684\u72b6\u6001\uff08\u4f20\u5165 <code>props</code>\uff09","text":"<p>\u521a\u521a\u7f16\u5199 <code>Square</code> \u7684\u65f6\u5019\u5e94\u8be5\u6ce8\u610f\u5230\u4e86\uff0c\u6b63\u65b9\u5f62\u7684\u5c3a\u5bf8\u548c\u989c\u8272\u90fd\u662f\u5199\u6b7b\u7684\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f20\u5165\u5c5e\u6027\u7684\u65b9\u5f0f\u5b8c\u6210\u5bf9\u7ec4\u4ef6\u5f62\u6001\u7684\u63a7\u5236\uff0c\u6b63\u5982 HTML \u6807\u7b7e\u7684\u5c5e\u6027\u3002</p> <p>\u6211\u4eec\u5728\u5b9e\u4f8b\u5316 <code>Square</code> \u7684\u65f6\u5019\u53ef\u4ee5\u5982\u4e0b\u9762\u4ee3\u7801\u4e00\u6837\u4f20\u5165\u82e5\u5e72\u7684\u5c5e\u6027\uff1a</p> <pre><code>// Part of 'render' function in Component 'App'\n&lt;Square size={100} color=\"red\" /&gt;\n</code></pre> <p>\u90a3\u4e48\u8fd9\u4e9b\u5c5e\u6027\u6211\u4eec\u600e\u4e48\u5728\u7ec4\u4ef6\u5185\u90e8\u6355\u83b7\u5462\uff1f\u7b54\u6848\u662f\u901a\u8fc7 <code>this.props</code> \u53d8\u91cf\uff1a</p> <pre><code>// Component 'Square'\nrender(): ReactElement {\n    return &lt;div\n        style={{\n            width: this.props.size,\n            height: this.props.size,\n            backgroundColor: this.props.color\n        }}\n    /&gt;;\n}\n</code></pre> <p>\u4f46\u4f60\u4f1a\u53d1\u73b0\u62a5\u9519\uff0c\u57fa\u672c\u7684\u610f\u601d\u5c31\u662f <code>props</code> \u4e0a\u6ca1\u6709\u6210\u5458 <code>size, color</code>\u3002\u8fd9\u5b9e\u9645\u4e0a\u5c31\u662f TypeScript \u7684\u8981\u6c42\uff0c\u4f60\u9700\u8981\u4e3a\u7ec4\u4ef6\u6307\u5b9a\u8fd9\u4e2a\u7ec4\u4ef6\u9700\u8981\u54ea\u4e9b\u5c5e\u6027\uff0c\u54ea\u4e9b\u5c5e\u6027\u662f\u53ef\u9009\u7684\u7b49\u7b49\uff0c\u8fd9\u6837\u53ef\u4ee5\u6709\u6548\u907f\u514d\u51fa\u73b0\u96be\u4ee5\u63a2\u67e5\u7684 <code>undefined</code> \u7684\u95ee\u9898\u3002</p> <p>\u6307\u5b9a\u7684\u65b9\u5f0f\u662f <code>interface</code>\uff0c\u4f60\u9700\u8981\u5728\u8fd9\u4e2a\u63a5\u53e3\u4e4b\u4e2d\u5b9a\u4e49\u8fd9\u4e2a\u7ec4\u4ef6\u63a5\u53d7\u7684\u6240\u6709\u5c5e\u6027\u3002\u6bd4\u5982\u8bf4 <code>Square</code> \u53ea\u9700\u8981\u63a5\u53d7\u5c3a\u5bf8\u548c\u989c\u8272\uff1a</p> <pre><code>interface SquareProps {\n    size: number;\n    color: string;\n}\n</code></pre> <p>\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u6307\u5b9a\u90e8\u5206\u5c5e\u6027\u662f\u53ef\u9009\u7684\uff0c\u8fd9\u6837\u7684\u8bdd\u5b9e\u4f8b\u5316\u7ec4\u4ef6\u5c31\u6ca1\u5fc5\u8981\u4f20\u5165\u8fd9\u4e00\u90e8\u5206\u5c5e\u6027\uff0c\u5e76\u4e14\u901a\u8fc7 <code>this.props</code> \u8bbf\u95ee\u8fd9\u4e9b\u5c5e\u6027\u4f1a\u5f97\u5230 <code>undefined</code> \u3002\u4f46\u662f\u8fd9\u6837\u7684\u884c\u4e3a\u663e\u7136\u66f4\u4e3a\u53ef\u63a7\u3002</p> <p>\u6211\u4eec\u5728 TypeScript \u6587\u6863 \u4e2d\u63d0\u5230\u8fc7\u63a5\u53e3\u7684\u5c5e\u6027\u9664\u4e86\u53ef\u4ee5\u89c4\u5b9a\u4e3a\u53ef\u9009\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u89c4\u5b9a\u4e3a\u53ea\u8bfb\u5c5e\u6027\u3002\u5b9e\u9645\u4e0a React \u4e25\u683c\u8981\u6c42\u5c5e\u6027\u662f\u4e0d\u53ef\u66f4\u6539\u7684\uff0c\u8fd9\u79cd\u8981\u6c42\u7c7b\u4f3c\u4e8e\u7eaf\u51fd\u6570\uff0c\u7eaf\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\u4e4b\u540e\u4e0d\u53ef\u4fee\u6539\uff0c\u81f3\u5c11\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u53d8\u91cf\u3002</p> <p>\u6240\u4ee5\u5982\u679c\u4e25\u683c\u8981\u6c42\u7684\u8bdd\uff0c\u63a5\u53e3\u5b9a\u4e49\u5e94\u8be5\u5199\u4e3a\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n</code></pre> <p>\u5982\u679c\u4e0d\u5199\u7684\u8bdd\u53ef\u80fd\u4f1a\u5728\u90e8\u5206\u8f83\u4e3a\u4e25\u683c\u7684\u6761\u4ef6\u4e0b\u7f16\u8bd1\u5931\u8d25\u3002</p> <p>\u4e4b\u540e\u5c06\u5176\u6302\u8f7d\u5230\u7ec4\u4ef6\u7684\u5b9a\u4e49\u4e0a\uff0c\u6302\u8f7d\u7684\u8bed\u6cd5\u7c7b\u4f3c\u4e8e C++ \u7684\u6a21\u677f\u8bed\u6cd5\uff1a</p> <pre><code>class Square extends React.Component&lt;SquareProps&gt; { // Register 'props' here\n    // ...\n}\n</code></pre> <p>\u8fd9\u6837\u4f60\u5c31\u57fa\u672c\u4e86\u89e3\u4e86\u5982\u4f55\u7ed9\u7ec4\u4ef6\u4f20\u5165\u5c5e\u6027\u3002\u4e0d\u8fc7\u73b0\u5728\u4f60\u5e94\u8be5\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\u5c5e\u6027\u662f\u4ece\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u7684\uff0c\u8fd9\u4e5f\u662f\u540e\u7eed\u4f1a\u63d0\u5230\u7684\u7011\u5e03\u6570\u636e\u6d41\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e9b\u63a7\u5236\u7ec4\u4ef6\u5f62\u6001\u7684\u5c5e\u6027\u6570\u636e\u7684\u6d41\u5411\u6c38\u8fdc\u662f\u5411\u4e0b\u7684\u3002</p>"},{"location":"frontend/react/basic/#ui-state","title":"\u5b9e\u73b0\u52a8\u6001\u7684 UI\uff08\u6dfb\u52a0\u7ec4\u4ef6\u7684 <code>state</code>\uff09","text":"<p>\u6211\u4eec\u5df2\u7ecf\u63d0\u5230\u4e86\u4f7f\u7528 <code>props</code> \u6765\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u7684\u5f62\u6001\uff0c\u4f46\u6839\u636e <code>props</code> \u7684\u4e0d\u53ef\u53d8\u6027\u5c31\u53ef\u4ee5\u77e5\u9053\u53ea\u4f7f\u7528 <code>props</code> \u63a7\u5236\u7684\u7ec4\u4ef6\u7b49\u4ef7\u4e8e\u7eaf\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u5176\u6e32\u67d3\u7684 UI \u662f\u5b8c\u5168\u9759\u6001\u7684\uff0c\u53ea\u662f\u5355\u7eaf\u5730\u7b80\u5316\u4e86\u4e00\u4e9b\u4ee3\u7801\u5199\u6cd5\u800c\u5df2\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u52a8\u6001\u7684\u6548\u679c\uff0c\u6bd4\u5982\u6700\u7b80\u5355\u7684\u70b9\u51fb\u53d8\u8272\uff0c\u5c31\u9700\u8981\u8ba9\u7ec4\u4ef6\u5177\u6709\u4e00\u5b9a\u7684\u8bb0\u5fc6\u529f\u80fd\uff0c\u8ba9\u7ec4\u4ef6\u7ba1\u7406\u81ea\u5df1\u7684\u72b6\u6001\uff0c\u8fd9\u5c31\u662f <code>state</code>\u3002</p> <p>\u5c31\u548c\u7c7b\u6210\u5458\u4e00\u6837\uff0c\u7ec4\u4ef6\u7684 <code>state</code> \u662f\u6bcf\u4e00\u4e2a\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\u6240\u7ba1\u7406\u7684\u4e00\u4e9b\u53d8\u91cf\uff0c\u8fd9\u4e9b\u53d8\u91cf\u53ef\u80fd\u9700\u8981\u901a\u8fc7\u7236\u7ec4\u4ef6\u521d\u59cb\u5316\uff0c\u4f46\u662f\u8fd9\u4e4b\u540e\u8fd9\u4e9b <code>state</code> \u5c31\u5b8c\u5168\u53d7\u63a7\u4e8e\u7ba1\u7406\u5b83\u4eec\u7684\u7ec4\u4ef6\u672c\u8eab\u3002</p> <p>\u6bd4\u5982\u8bf4\u6211\u4eec\u60f3\u8ba9\u6b63\u65b9\u5f62\u7684\u989c\u8272\u4e0d\u53d7\u63a7\u4e8e\u7236\u7ec4\u4ef6 <code>App</code>\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8bbe\u7acb <code>state</code> \u6765\u7ba1\u7406\u3002\u7ed9\u7ec4\u4ef6\u521b\u5efa\u72b6\u6001\u7684\u65b9\u5f0f\u662f\u7b80\u5355\u7684\uff0c\u6211\u4eec\u9700\u8981\u7f16\u5199\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>// Component 'Square'\nconstructor(props: SquareProps) {\n    super(props); // Never forget this when writing constructor!\n    this.state = { color: \"red\" };\n}\n</code></pre> <p>\u4e4b\u540e\u5728\u6e32\u67d3\u51fd\u6570\u4e4b\u4e2d\u5c31\u53ef\u4ee5\u5c06\u5408\u9002\u7684 <code>this.props</code> \u66ff\u6362\u4e3a <code>this.state</code>\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u4e00\u90e8\u5206\u6e32\u67d3\u7ed3\u679c\u7531\u7ec4\u4ef6\u672c\u8eab\u72b6\u6001\u63a5\u7ba1\uff0c\u4e0d\u53d7\u63a7\u4e8e\u7236\u7ec4\u4ef6\u4f20\u5165\u7684\u5c5e\u6027\u3002\u6bd4\u5982\u8bf4\u8fd9\u91cc\uff0c\u6b63\u65b9\u5f62\u5c3a\u5bf8\u672c\u8eab\u8fd8\u662f\u53d7\u63a7\u4e8e\u7236\u7ec4\u4ef6\uff0c\u4f46\u662f\u989c\u8272\u7531\u81ea\u8eab\u63a7\u5236\uff1a</p> <pre><code>// Component 'Square'\nrender(): ReactElement {\n    return &lt;div\n        style={{\n            width: this.props.size,\n            height: this.props.size,\n            backgroundColor: this.state.color\n        }}\n    /&gt;;\n}\n</code></pre> <p>\u53d8\u66f4\u5f53\u524d\u7ec4\u4ef6\u7684\u72b6\u6001\u4f7f\u7528\u7684\u51fd\u6570\u4e3a <code>this.setState</code>\uff0c\u8fd9\u4e2a\u51fd\u6570\u7531 <code>React.Component</code> \u5b9e\u73b0\uff0c\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627f\u4f7f\u7528\u3002</p> <p>\u4e00\u5b9a\u6ce8\u610f\uff0c\u4e0d\u8981\u4f7f\u7528 <code>this.state = ...</code> \u8fd9\u6837\u7684\u8d4b\u503c\u53e5\u6539\u53d8\u72b6\u6001\uff0c\u56e0\u4e3a <code>this.setState</code> \u5185\u90e8\u9664\u4e86\u4fee\u6539\u72b6\u6001\u8fd8\u5305\u62ec\u89e6\u53d1\u518d\u6b21\u6e32\u67d3\u7b49\u7b49\u8fc7\u7a0b\uff0c\u5177\u4f53\u6d41\u7a0b\u89c1\u4e0b\u9762\u7684\u8bb2\u89e3\u3002</p> <p>\u4fee\u6539\u72b6\u6001\u7684\u65b9\u5f0f\u4e3a\uff1a</p> <pre><code>this.setState({ ...this.state, color: \"blue\" });\n</code></pre> <p>\u8fd9\u4e2a\u8bed\u53e5\u5c31\u4f1a\u628a\u72b6\u6001\u4e4b\u4e2d\u7684 <code>color</code> \u5c5e\u6027\u4fee\u6539\u4e3a <code>blue</code>\u3002</p> <p>\u4fee\u6539\u7ec4\u4ef6\u72b6\u6001\u7684\u65f6\u5019 React \u5728\u505a\u4ec0\u4e48</p> <p>\u5982\u679c\u6211\u4eec\u4fee\u6539\u4e86\u67d0\u4e00\u4e2a\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5b9e\u9645\u4e0a\u5c31\u53ef\u80fd\u4f1a\u5f71\u54cd\u5230\u8fd9\u4e2a\u7ec4\u4ef6\u5728\u9875\u9762\u4e0a\u7684\u663e\u793a\uff0c\u6bd4\u5982\u8bf4\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u4fee\u6539\u6b63\u65b9\u5f62\u7684\u989c\u8272\u3002</p> <p>\u90a3\u4e48\u4e3a\u4e86\u54cd\u5e94\u8fd9\u6b21\u66f4\u6539\uff0c\u6211\u4eec\u5728\u4fee\u6539\u5b8c\u7ec4\u4ef6\u72b6\u6001\u540e\u5e94\u5f53\u7acb\u523b\u6839\u636e\u65b0\u72b6\u6001\u91cd\u65b0\u6e32\u67d3\u8fd9\u4e2a\u7ec4\u4ef6\u3002\u4f46\u662f\u6211\u4eec\u6ce8\u610f\u5230\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u72b6\u6001\u53ef\u80fd\u901a\u8fc7\u5c5e\u6027\u4f20\u5165\u4e86\u5b50\u7ec4\u4ef6\u4e4b\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\u8be5\u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6\u4e5f\u9700\u8981\u4fee\u6539\u3002</p> <p>\u6240\u4ee5\u8bf4\u6bcf\u5f53\u6211\u4eec\u8c03\u7528 <code>this.setState</code> \u51fd\u6570\uff0c\u5c31\u4f1a\u89e6\u53d1\u4ee5\u8be5\u7ec4\u4ef6\u4e3a\u6839\u7684\u6240\u6709\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u8fdb\u800c\u89e6\u53d1\u9875\u9762\u7684\u5237\u65b0\u3002</p> <p>\u8fd9\u4e5f\u5c31\u8bf4\u660e\u4e86\uff0c\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528 <code>this.state = ...</code> \u8fd9\u7c7b\u8d4b\u503c\u8bed\u53e5\u76f4\u63a5\u4fee\u6539\u72b6\u6001\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u7ec4\u4ef6\u6570\u636e\u548c\u663e\u793a\u65b9\u5f0f\u4e0d\u4e00\u81f4\u3002</p> <p>\u4e3a\u4e86\u8ba9\u7528\u6237\u53ef\u4ee5\u8c03\u7528\u5230\u8fd9\u4e2a\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u51fd\u6570\u7ed1\u5b9a\u6210\u70b9\u51fb\u6b63\u65b9\u5f62\u65f6\u7684\u56de\u8c03\uff0c\u8fd9\u6837\u7528\u6237\u70b9\u51fb\u6b63\u65b9\u5f62\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u89e6\u53d1\u8fd9\u4e2a\u51fd\u6570\uff0c\u4fee\u6539\u6b63\u65b9\u5f62\u989c\u8272\uff1a</p> <pre><code>// Component 'Square'\nrender(): ReactElement {\n    return &lt;div\n        style={{\n            width: this.props.size,\n            height: this.props.size,\n            backgroundColor: this.state.color\n        }}\n        onClick={() =&gt; this.setState({ ...this.state, color: \"blue\" })}\n    /&gt;;\n}\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u5e0c\u671b\u8ba9\u7528\u6237\u70b9\u51fb\u6b63\u65b9\u5f62\u7684\u65f6\u5019\uff0c\u6b63\u65b9\u5f62\u989c\u8272\u5728\u7ea2\u8272\u548c\u84dd\u8272\u4e4b\u95f4\u76f8\u4e92\u5207\u6362\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u9996\u5148\u7f16\u5199\u4e00\u4e2a\u5207\u6362\u989c\u8272\u7684\u51fd\u6570\uff0c\u5185\u90e8\u8c03\u7528 <code>this.setState()</code> \u65b9\u6cd5\uff1a</p> <pre><code>// Component 'Square'\nswitchColor(): void {\n    this.setState((prev) =&gt; ({\n        ...prev,\n        color: prev.color === \"red\" ? \"blue\" : \"red\",\n    }));\n}\n</code></pre> <p>\u8fd9\u91cc\u6ce8\u610f\uff0c\u6211\u4eec\u5728 <code>this.setState</code> \u51fd\u6570\u4e2d\u4f20\u5165\u4e86\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u539f\u56e0\u89c1\u4e0b\u8ff0\u89e3\u91ca\u3002</p> <p>\u72b6\u6001\u7684\u65f6\u95f4\u4f9d\u8d56\u6027</p> <p>\u51fa\u4e8e\u6027\u80fd\u65b9\u9762\u7684\u8003\u91cf\uff0c<code>this.setState</code> \u5b9e\u9645\u4e0a\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u72b6\u6001\u7684\u4fee\u6539\u5e76\u975e\u662f\u963b\u585e\u7684\u3001\u7acb\u5373\u7684\u3002\u8fd9\u4ea7\u751f\u4e86\u4e0b\u8ff0\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u5728 <code>this.setState</code> \u8c03\u7528\u540e\u7acb\u523b\u8bbf\u95ee <code>this.state</code> \u53ef\u80fd\u51fa\u9519</li> <li>\u5982\u679c\u65b0\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e0a\u4e00\u6b21\u7684\u72b6\u6001\uff0c\u4e5f\u6709\u53ef\u80fd\u51fa\u9519</li> </ul> <p>\u4e0d\u8fc7\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0cReact \u6846\u67b6\u90fd\u505a\u51fa\u4e86\u56de\u7b54\u3002</p> <p>\u7b2c\u4e00\u4e2a\u95ee\u9898\u6709\u4e24\u4e2a\u89e3\u51b3\u65b9\u6848\uff0c\u4e00\u4e2a\u662f\u7ed9 <code>this.setState</code> \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u5c06\u4f1a\u5728\u72b6\u6001\u66f4\u65b0\u5b8c\u6bd5\u540e\u6267\u884c\uff1a</p> <pre><code>this.state({\n    ...this.state,\n    data: \"*\".repeat(114514).split(\"*\"), // A large array updated in setState\n}, () =&gt; {\n    console.log(\"State updated!\");\n});\n</code></pre> <p>\u7b2c\u4e8c\u4e2a\u65b9\u6848\u4e3a\u4f7f\u7528 <code>componentDidUpdate</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u5c06\u4f1a\u5728\u4e0b\u4e00\u90e8\u5206\u4ecb\u7ecd\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u5219\u662f\u7ed9 <code>this.setState</code> \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u65e7\u72b6\u6001\uff0c\u8fd4\u56de\u503c\u5c06\u4f1a\u88ab\u8bbe\u5b9a\u4e3a\u65b0\u72b6\u6001\u3002\u5728\u7c7b\u4f3c\u4e8e\u8ba1\u6570\u5668\u9012\u589e\u3001\u72b6\u6001\u673a\u5207\u6362\u72b6\u6001\u7b49\u573a\u666f\u4e2d\uff0c\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u66f4\u4e3a\u5408\u9002\u7684\u9009\u62e9\u3002\u8fd9\u91cc\u7684\u4ee3\u7801\u793a\u4f8b\u89c1\u4e0a\u8ff0 <code>switchColor</code> \u51fd\u6570\u3002</p> <p>\u5c5e\u6027\u4e5f\u5e94\u5f53\u4f7f\u7528\u63a5\u53e3\u5b9a\u4e49\u5e76\u4e14\u5728\u7ec4\u4ef6\u5b9a\u4e49\u4e0a\u4f53\u73b0\uff0c\u5426\u5219\u53ef\u80fd\u65e0\u6cd5\u901a\u8fc7\u7f16\u8bd1\uff1a</p> <pre><code>interface SquareStates {\n    readonly color: string;\n}\n\nclass Square extends React.Component&lt;SquareProps, SquareStates&gt; { /* ... */ }\n</code></pre> <p>\u7011\u5e03\u6570\u636e\u6d41</p> <p>\u7011\u5e03\u6570\u636e\u6d41\u5f62\u5bb9\u7684\u662f React \u6846\u67b6\u4e2d\u6570\u636e\u6d41\u7684\u7ba1\u7406\u65b9\u5f0f\uff0c\u63cf\u8ff0\u7684\u662f React \u7ec4\u4ef6\u95f4\u7684\u6570\u636e\u4ec5\u5b58\u5728\u4ece\u4e0a\u81f3\u4e0b\u7684\u6d41\u52a8\u3002</p> <p><code>props</code> \u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u80a1\u4ece\u4e0a\u800c\u4e0b\u7684\u6c34\u6d41\uff0c\u4e0a\u6e38\u53d1\u751f\u7684\u53d8\u5316\u4f1a\u7acb\u523b\u53cd\u6620\u5230\u4e0b\u6e38\u3002React \u4e2d\u7236\u7ec4\u4ef6\u901a\u8fc7 <code>props</code> \u89c4\u5b9a\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\uff0c\u800c <code>props</code> \u7684\u6539\u53d8\u5c31\u610f\u5473\u7740\u5b50\u7ec4\u4ef6\u9700\u8981\u7acb\u523b\u91cd\u65b0\u6e32\u67d3\u3002</p> <p><code>state</code> \u53ef\u4ee5\u8ba4\u4e3a\u662f\u67d0\u5904\u7684\u53e6\u5916\u4e00\u4e2a\u6c34\u6e90\u3002React \u5141\u8bb8\u7ec4\u4ef6\u7ba1\u7406\u81ea\u8eab\u7684\u72b6\u6001\uff0c\u4e5f\u5141\u8bb8 <code>state</code> \u7684\u6570\u636e\u901a\u8fc7 <code>props</code> \u5411\u4e0b\u4f20\u9012\u3002</p> <p>\u5f53\u7136\uff0c\u7011\u5e03\u6570\u636e\u6d41\u5e76\u4e0d\u662f\u7edd\u5bf9\u7684\uff0c\u6211\u4eec\u540e\u7eed\u4f1a\u63d0\u5230\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u5b9e\u73b0\u6570\u636e\u7684\u5411\u4e0a\u6d41\u52a8\uff0c\u4ee5\u53ca\u4e5f\u4f1a\u7b80\u5355\u4ecb\u7ecd\u901a\u8fc7 Redux \u6765\u5b9e\u73b0\u8de8\u7ec4\u4ef6\u6570\u636e\u5171\u4eab\u7684\u65b9\u6cd5\u3002</p>"},{"location":"frontend/react/dataflow/","title":"\u975e\u5e38\u89c4\u6570\u636e\u6d41","text":"<p>\u6211\u4eec\u5148\u524d\u4ecb\u7ecd\u8fc7 React \u7684\u7011\u5e03\u6570\u636e\u6d41\uff0c\u4e5f\u5c31\u662f\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\u7684\u6570\u636e\u7ec4\u7ec7\u5f62\u5f0f\u3002\u4f46\u662f\u6709\u65f6\u6211\u4eec\u4f1a\u8981\u6c42\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u5f71\u54cd\u7236\u7ec4\u4ef6\uff0c\u6216\u8005\u591a\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u4fe1\u606f\u3002\u672c\u90e8\u5206\u5c06\u4f1a\u7b80\u8981\u4ecb\u7ecd\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e9b\u975e\u5e38\u89c4\u6570\u636e\u6d41\u3002</p>"},{"location":"frontend/react/dataflow/#_2","title":"\u53cd\u5411\u6570\u636e\u6d41","text":"<p>\u53cd\u5411\u6570\u636e\u6d41\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5f88\u5e38\u89c1\u7684\u9700\u6c42\uff0c\u6bd4\u5982\u8bf4\u5206\u9875\u5668\u3002\u5206\u9875\u5668\u5728 UI \u6784\u6210\u4e0a\u800c\u8a00\uff0c\u4ec5\u4ec5\u662f\u4e00\u4e2a\u7f51\u9875\u7684\u90e8\u5206\uff0c\u4f46\u662f\u5b83\u7684\u72b6\u6001\u5374\u51b3\u5b9a\u4e86\u6574\u4e2a\u7f51\u9875\u5e94\u5f53\u663e\u793a\u7684\u5185\u5bb9\u3002\u4ece\u800c\u6211\u4eec\u5fc5\u987b\u6784\u5efa\u4ece\u5206\u9875\u5668\u5411\u7236\u7ec4\u4ef6\u7684\u6570\u636e\u6d41\uff0c\u8ba9\u5206\u9875\u5668\u8d77\u5230\u4f5c\u7528\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u6cbf\u7528\u5148\u524d\u7684\u4ee3\u7801\uff0c\u8003\u8651\u4e00\u4e2a\u7b80\u5316\u7684\u53cd\u5411\u6570\u636e\u6d41\u9700\u6c42\u3002\u6bd4\u5982\u8bf4\u8fd9\u91cc\uff0c\u6211\u4eec\u5e0c\u671b\u8ba9\u70b9\u51fb\u6b63\u65b9\u5f62\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u4e0d\u4ec5\u4ec5\u6539\u53d8\u6b63\u65b9\u5f62\u672c\u8eab\u7684\u989c\u8272\uff0c\u8fd8\u53ef\u4ee5\u6539\u53d8\u7236\u7ec4\u4ef6 <code>App</code> \u5185\u90e8\u7684\u8ba1\u6570\u5668\u6765\u663e\u793a\u70b9\u51fb\u6b21\u6570\u3002</p> <p>\u5220\u6389\u4e00\u4e9b\u591a\u4f59\u7684\u4ee3\u7801</p> <p>\u8fd9\u91cc\u6211\u4eec\u4e0d\u6d89\u53ca\u751f\u547d\u5468\u671f\uff0c\u6545\u53ef\u4ee5\u5220\u9664\u6389 <code>Square</code> \u7ec4\u4ef6\u5185\u7684\u8ba1\u65f6\u5668\u4ee5\u53ca\u76f8\u5173\u7684\u751f\u547d\u5468\u671f\u4ee3\u7801\u3002</p> <p>\u9996\u5148\u6211\u4eec\u9700\u8981\u5728\u7236\u7ec4\u4ef6 <code>App</code> \u7684\u72b6\u6001\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u5e76\u4e14\u5728\u6784\u9020\u51fd\u6570\u4e2d\u521d\u59cb\u5316\u3002\u4fee\u6539\u540e\u7684 <code>App</code> \u7ec4\u4ef6\u4e3a\uff1a</p> <pre><code>// Component 'App'\ninterface AppState {\n    readonly clickCnt: number;\n}\n\nclass App extends React.Component&lt;Record&lt;string, never&gt;, AppState&gt; {\n    constructor(props: Record&lt;string, never&gt;) {\n        super(props);\n        this.state = { clickCnt: 0 };\n    }\n\n    render(): ReactElement {\n        return (\n            &lt;div&gt;\n                &lt;p&gt;This is a square!&lt;/p&gt;\n                &lt;p&gt;We have click it for {this.state.clickCnt} time(s)!&lt;/p&gt;\n                &lt;Square size={100} color=\"red\" /&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre> <code>Record&lt;string, never&gt;</code> \u662f\u4ec0\u4e48\uff1f <p><code>Record&lt;string, never&gt;</code> \u53ef\u4ee5\u7406\u89e3\u4e3a\u7a7a\u5bf9\u8c61 <code>{}</code> \u7684\u7c7b\u578b\u6807\u6ce8\uff0c\u8fd9\u91cc\u4ec5\u4ec5\u662f\u4e3a\u4e86\u901a\u8fc7 TypeScript \u7684\u7c7b\u578b\u68c0\u67e5\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u7f16\u5199\u4e00\u4e2a\u9012\u589e\u8ba1\u6570\u5668\u7684\u6210\u5458\u51fd\u6570\uff1a</p> <pre><code>// Component 'App'\nincreaseCnter(): void {\n    this.setState((prev) =&gt; ({\n        ...prev,\n        clickCnt: prev.clickCnt + 1,\n    }));\n}\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u9700\u8981\u601d\u8003\u7684\u5c31\u662f\u5982\u4f55\u8ba9\u5b50\u7ec4\u4ef6 <code>Square</code> \u8c03\u7528\u5230\u8fd9\u4e2a\u51fd\u6570\u3002\u6211\u4eec\u6ce8\u610f\u5230\u5728 TypeScript \u8bed\u8a00\u4e4b\u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u79cd\u5bf9\u8c61\uff0c\u6240\u4ee5\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7\u7ec4\u4ef6\u5c5e\u6027\u5c06\u8fd9\u4e2a\u51fd\u6570\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002\u90a3\u4e48\u6211\u4eec\u9700\u8981\u5728\u5b50\u7ec4\u4ef6\u5c5e\u6027\u63a5\u53e3\u4e0a\u589e\u6dfb\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n    readonly increaseCnter: () =&gt; void;\n}\n</code></pre> <p>\u4e4b\u540e\u901a\u8fc7\u7ec4\u4ef6\u5c5e\u6027\u5c06\u7236\u7ec4\u4ef6\u6210\u5458\u51fd\u6570\u5411\u4e0b\u4f20\u9012\uff1a</p> <pre><code>// Component 'App', Function 'render'\n&lt;Square size={100} color=\"red\" increaseCnter={() =&gt; this.increaseCnter()} /&gt;\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u5b50\u7ec4\u4ef6\u5185\u901a\u8fc7 <code>this.props.increaseCnter</code> \u6765\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u4e86\uff1a</p> <pre><code>// Component 'Square', Function 'render'\nrender(): ReactElement {\n    return &lt;div\n        style={{\n            width: this.props.size,\n            height: this.props.size,\n            backgroundColor: this.state.color\n        }}\n        onClick={() =&gt; {\n            this.switchColor();\n            this.props.increaseCnter();\n        }}\n    /&gt;;\n}\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u8bb0\u5f55\u70b9\u51fb\u6b63\u65b9\u5f62\u7684\u6b21\u6570\u4e86\u3002</p> <p>\u771f\u7684\u662f\u53cd\u5411\u6570\u636e\u6d41\u5417\uff1f</p> <p>\u6211\u4eec\u901a\u8fc7\u4f20\u9012\u56de\u8c03\u51fd\u6570\u5b9e\u73b0\u4e86\u53cd\u5411\u6570\u636e\u6d41\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u6837\u7684\u64cd\u4f5c\u5e76\u6ca1\u6709\u8fdd\u53cd\u7011\u5e03\u6570\u636e\u6d41\u7684\u7ea6\u5b9a\u3002\u7236\u7ec4\u4ef6\u5411\u4e0b\u4f20\u9012\u7684\uff0c\u4ec5\u4ec5\u662f\u5b50\u7ec4\u4ef6\u5728\u7ea6\u675f\u4e0b\u64cd\u4f5c\u7236\u7ec4\u4ef6\u72b6\u6001\u7684\u6743\u9650\uff0c\u5b9e\u9645\u4e0a\u8fd8\u662f\u53ef\u4ee5\u7406\u89e3\u4e3a\u7236\u7ec4\u4ef6\u63a7\u5236\u4e86\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u8fb9\u754c\u3002</p>"},{"location":"frontend/react/dataflow/#_3","title":"\u7ec4\u4ef6\u95f4\u5171\u4eab\u6570\u636e","text":"<p>\u6211\u4eec\u6ce8\u610f\u5230\u5373\u4f7f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u56de\u8c03\u51fd\u6570\u7684\u65b9\u5f0f\u5b9e\u73b0\u53cd\u5411\u6570\u636e\u6d41\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u79cd\u53cd\u5411\u6570\u636e\u6d41\u4f9d\u7136\u53ea\u80fd\u5728\u7236\u5b50\u4e4b\u95f4\u4f20\u9012\u3002\u5bf9\u4e8e\u66f4\u5927\u89c4\u6a21\u7684\u524d\u7aef\uff0c\u6211\u4eec\u5f80\u5f80\u9700\u8981\u8de8\u8d8a\u6587\u6863\u6811\u4f20\u9012\u4fe1\u606f\uff0c\u4e43\u81f3\u6574\u4e2a\u5e94\u7528\u90fd\u9700\u8981\u5171\u4eab\u67d0\u4e9b\u4fe1\u606f\u3002\u6b64\u65f6\u4f9d\u7136\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u4f20\u9012\u5c31\u663e\u5f97\u6781\u4e3a\u5c40\u9650\uff0c\u800c\u73b0\u5728\u7684\u4e00\u79cd\u901a\u7528\u89e3\u51b3\u65b9\u6848\u4e3a Redux\u3002</p> <p>\u4f46\u7531\u4e8e Redux \u4e00\u822c\u7528\u4e8e\u8f83\u5927\u578b\u7684\u5de5\u7a0b\uff0c\u8fd9\u91cc\u4f7f\u7528\u5c0f\u6b63\u65b9\u5f62\u4f5c\u4e3a DEMO \u96be\u4ee5\u8bb2\u89e3\u3002\u6240\u4ee5\u8fd9\u91cc\u63d0\u4f9b\u82e5\u5e72\u5b66\u4e60 Redux \u7684\u4e00\u4e9b\u8d44\u6599\u94fe\u63a5\uff0c\u5e0c\u671b\u8bfb\u8005\u5728\u4f7f\u7528\u5230 Redux \u7684\u65f6\u5019\u53ef\u4ee5\u53c2\u8003\uff1a</p> <ul> <li>Redux \u5b98\u65b9\u6587\u6863 http://cn.redux.js.org/introduction/getting-started</li> <li>\u962e\u4e00\u5cf0 Redux \u6559\u5b66\u6587\u6863 https://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html</li> </ul> <p>\u9884\u7559\u6587\u6863</p> <p>\u540e\u7eed\u53ef\u80fd\u4f1a\u7f16\u5199 Redux \u6559\u5b66\u6587\u6863\u3002</p>"},{"location":"frontend/react/extensions/","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u5982\u679c\u4f60\u5df2\u7ecf\u5b66\u4e60\u5b8c\u4e86\u8fd9\u4e00\u7bc7\u6587\u6863\uff0c\u7406\u89e3\u4e86\u6211\u4eec\u8bb2\u8ff0\u7684\u6240\u6709\u6982\u5ff5\uff0c\u90a3\u4e48\u4f60\u5c31\u5df2\u7ecf\u6709\u8db3\u591f\u7684\u80fd\u529b\u5b8c\u6210\u300a\u8f6f\u4ef6\u5de5\u7a0b\u300b\u8bfe\u7a0b\u7684\u5927\u4f5c\u4e1a Web \u5e94\u7528\u524d\u7aef\uff0c\u4e43\u81f3\u5f00\u53d1\u51fa\u4e00\u4e2a\u771f\u6b63\u53ef\u4ee5\u4e0a\u67b6\u7684 Web \u5e94\u7528\u4e86\uff01\u5269\u4e0b\u7684\uff0c\u4ec5\u4ec5\u662f\u591a\u591a\u7ec3\u4e60\uff0c\u5728\u7f16\u7a0b\u4e2d\u7406\u89e3\u8fd9\u4e9b\u6982\u5ff5\uff0c\u8fd0\u7528\u8fd9\u4e9b\u6982\u5ff5\u3002</p> <p>\u4e0d\u8fc7\u5728\u771f\u6b63\u8e0f\u4e0a Web \u524d\u7aef\u7684\u9053\u8def\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u6709\u4e00\u4e9b\u53ef\u4ee5\u7ed9\u51fa\u7684\u8d44\u6e90\u94fe\u63a5\u3002</p>"},{"location":"frontend/react/extensions/#ant-design","title":"Ant Design","text":"<p>Ant Design \u662f\u4e00\u4e2a\u6210\u719f\u7684\u524d\u7aef\u7ec4\u4ef6\u5e93\uff0c\u5176\u4f5c\u7528\u5728\u4e8e\u514d\u53bb\u8c03\u8bd5\u4e00\u6574\u5929 CSS \u6837\u5f0f\u8868\u8fd8\u8c03\u4e0d\u51fa\u597d\u770b\u7684 Layout \u6216\u7075\u6d3b\u7684\u4ea4\u4e92\u7684\u82e6\u607c\uff0c\u8ba9\u6211\u4eec\u80fd\u66f4\u4e13\u6ce8\u4e8e\u8bbe\u8ba1\u524d\u7aef\u548c\u7528\u6237\u3001\u540e\u7aef\u3001\u6570\u636e\u5e93\u7684\u4ea4\u4e92\u903b\u8f91\u548c\u524d\u7aef\u6027\u80fd\u3002</p> <p>Ant Design \u5b98\u65b9\u7f51\u5740\uff1ahttps://ant.design/index-cn\u3002</p>"},{"location":"frontend/react/function-component/","title":"\u51fd\u6570\u7ec4\u4ef6","text":"<p>\u6211\u4eec\u901a\u8fc7\u7c7b\u7ec4\u4ef6\u7b80\u5355\u4ecb\u7ecd\u4e86 React \u7684\u6838\u5fc3\u6982\u5ff5\uff0c\u4f46\u662f\u7c7b\u7ec4\u4ef6\u6709\u4e0b\u8ff0\u6bd4\u8f83\u660e\u663e\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u7f16\u7801\u7e41\u7410\uff0c\u5c24\u5176\u5728\u4f7f\u7528 TypeScript \u8bed\u8a00\u7684\u65f6\u5019</li> <li>\u53ef\u80fd\u4f1a\u51fa\u73b0 <code>this</code> \u7684\u6307\u5411\u4e0d\u660e\u786e\u7684\u95ee\u9898</li> <li>JavaScript \u8bed\u8a00\u7684\u7c7b\u8bed\u6cd5\u4ec5\u4ec5\u662f\u8bed\u6cd5\u7cd6\uff0c\u5e76\u975e\u662f\u5b8c\u5168\u7b26\u5408\u9762\u5411\u5bf9\u8c61\u601d\u8def\u7684</li> </ul> <p>\u6240\u4ee5\u5728\u65b0\u7248\u672c\u7684 React \u6846\u67b6\u4e2d\uff0c\u6211\u4eec\u66f4\u4e3a\u63a8\u8350\u5927\u5bb6\u7f16\u5199\u51fd\u6570\u7ec4\u4ef6\u3002</p> <p>\u51fd\u6570\u7ec4\u4ef6\u7684\u57fa\u672c\u601d\u7ef4\u662f\u5c06\u6574\u4e2a\u7ec4\u4ef6\u601d\u8003\u4e3a\u51fd\u6570\uff0c\u51fd\u6570\u7684\u53c2\u6570\u4e3a\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u800c\u8fd4\u56de\u503c\u5c31\u662f\u7ec4\u4ef6\u7684\u663e\u793a\u65b9\u5f0f\uff08\u5373\u7c7b\u7ec4\u4ef6\u7684 <code>render</code> \u51fd\u6570\u8fd4\u56de\u503c\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c06\u7ec4\u4ef6\u89c6\u4f5c\u4e00\u79cd\u63a5\u6536\u5c5e\u6027\uff0c\u83b7\u53d6\u7ec4\u4ef6\u6e32\u67d3\u6307\u793a\u7684\u6570\u636e\u6d41\u7ba1\u9053\u66f4\u4e3a\u53ef\u884c\u3002\u8fd9\u79cd\u601d\u8def\u4e0b\u5f00\u53d1\u8005\u53ef\u4ee5\u7b80\u5355\u5730\u7ec4\u5408\u5404\u79cd\u7ba1\u9053\u6765\u5b9e\u73b0 Web \u5e94\u7528\u3002</p> <p>\u6bd4\u5982\u8bf4\u4e0b\u8ff0\u6ca1\u6709\u8bbe\u7f6e\u7ec4\u4ef6\u72b6\u6001\u7684\u3001\u6ca1\u6709\u4f7f\u7528\u751f\u547d\u5468\u671f\u65b9\u6cd5\u7684\u6b63\u65b9\u5f62\u7ec4\u4ef6\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\nclass Square extends React.Component&lt;SquareProps&gt; {\n    render(): ReactElement {\n        return &lt;div\n            style={{\n                width: this.props.size,\n                height: this.props.size,\n                backgroundColor: this.props.color\n            }}\n        /&gt;;\n    }\n}\n</code></pre> <p>\u5c31\u53ef\u4ee5\u8f6c\u5199\u4e3a\u4e0b\u8ff0\u51fd\u6570\u7ec4\u4ef6\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\nconst Square = (props: SquareProps): ReactElement =&gt; {\n    return &lt;div\n        style={{\n            width: props.size,\n            height: props.size,\n            backgroundColor: props.color\n        }}\n    /&gt;;\n}\n</code></pre> <p>\u8fd9\u6837\u7684\u8f6c\u5199\u5e76\u4e0d\u6539\u53d8\u7ec4\u4ef6\u7684\u672c\u8d28\uff0c\u4f7f\u7528\u8be5\u7ec4\u4ef6\u7684\u65b9\u5f0f\u4e5f\u548c\u7c7b\u7ec4\u4ef6\u4e00\u81f4\u3002</p>"},{"location":"frontend/react/function-component/#hooks","title":"Hooks \u7b80\u8981\u4ecb\u7ecd","text":"<p>\u5728\u8f6c\u5199\u4e0a\u8ff0\u7c7b\u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6ce8\u610f\u5230\u5982\u679c\u7ec4\u4ef6\u5177\u6709\u72b6\u6001\u6216\u8005\u4f7f\u7528\u4e86\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u5219\u65e0\u6cd5\u8f6c\u5199\u3002\u8fd9\u91cc\uff0cReact \u63d0\u4f9b\u7684\u89e3\u51b3\u65b9\u5f0f\u662f\u4f7f\u7528 Hooks\u3002</p>"},{"location":"frontend/react/function-component/#_2","title":"\u7ba1\u7406\u7ec4\u4ef6\u72b6\u6001","text":"<p>\u6211\u4eec\u9996\u5148\u4ecb\u7ecd\u7ba1\u7406\u72b6\u6001\u9700\u8981\u4f7f\u7528\u7684 Hooks\uff0c\u5373 <code>useState</code> \u51fd\u6570\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u4f9d\u7136\u662f\u5c06\u6b63\u65b9\u5f62\u7684\u989c\u8272\u53d8\u4e3a\u5176\u72b6\u6001\uff0c\u7531\u7ec4\u4ef6\u81ea\u8eab\u7ba1\u7406\uff0c\u5176\u4ee3\u7801\u5927\u81f4\u4e3a\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\nconst Square = (props: SquareProps): ReactElement =&gt; {\n    const [color, setColor] = useState(props.color);\n\n    const switchColor = () =&gt; {\n        setColor((prev: string) =&gt; prev === \"red\" ? \"blue\" : \"red\");\n    };\n\n    return &lt;div\n        style={{\n            width: props.size,\n            height: props.size,\n            backgroundColor: color\n        }}\n        onClick={switchColor}\n    /&gt;;\n}\n</code></pre> <p>\u8fd9\u91cc\u9ad8\u4eae\u7684\u4e09\u884c\u8868\u73b0\u51fa\u4f7f\u7528 Hooks \u7684\u65f6\u5019\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u3002\u9996\u5148\u6ce8\u610f\u7b2c 7 \u884c\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86 <code>useState</code> \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u63a5\u53d7\u7684\u662f\u9700\u8981\u8bbe\u5b9a\u7684\u72b6\u6001\u7684\u521d\u59cb\u503c\uff0c\u8fd4\u56de\u7684\u662f\u8be5\u72b6\u6001\u548c\u7528\u4e8e\u8bbe\u5b9a\u8be5\u72b6\u6001\u7684\u51fd\u6570\u3002\u8fd9\u91cc\u6211\u4eec\u8bbe\u5b9a\u7684\u72b6\u6001\u4e3a <code>color</code>\uff0c\u521d\u59cb\u503c\u4e3a <code>props.color</code>\uff0c\u800c <code>setColor</code> \u548c\u7c7b\u7ec4\u4ef6\u4e4b\u4e2d\u7684 <code>setState</code> \u7c7b\u4f3c\uff0c\u7528\u4e8e\u4fee\u6539\u72b6\u6001\u3002</p> <p>\u8fd9\u91cc\u6ce8\u610f\u7b2c 10 \u884c\u5982\u4f55\u5e94\u7528 <code>setColor</code> \u51fd\u6570\u3002\u8be5\u51fd\u6570\u548c <code>setState</code> \u4e00\u6837\uff0c\u53ef\u4ee5\u63a5\u6536\u65b0\u72b6\u6001\u4f5c\u4e3a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002\u540c\u6837\u7684\uff0c\u8be5\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u4e5f\u4f1a\u89e6\u53d1\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u3002</p> <code>useState</code> Hooks \u7684\u5927\u81f4\u539f\u7406 <p>\u5728\u51fd\u6570\u7ec4\u4ef6\u6761\u4ef6\u4e0b\uff0c\u7ec4\u4ef6\u7684\u72b6\u6001\u662f\u4ea4\u7531\u5168\u5c40\u53d8\u91cf\u7ef4\u62a4\uff0c\u4e5f\u5c31\u662f\u8bf4\u6240\u6709\u7ec4\u4ef6\u7684\u72b6\u6001\u5c06\u4f1a\u4fdd\u5b58\u5728\u4e00\u4e2a\u5168\u5c40\u7684\u6570\u7ec4\u4e4b\u4e2d\u3002\u800c\u6211\u4eec\u5728\u4f7f\u7528 <code>useState</code> \u521b\u5efa\u65b0\u7684\u72b6\u6001\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u5728\u8fd9\u4e2a\u6570\u7ec4\u7684\u5c3e\u90e8\u65b0\u5efa\u4e00\u4e2a\u5143\u7d20\uff0c\u5c06\u8fd9\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\u5c01\u88c5\u8fdb\u5165\u95ed\u5305\uff0c\u8fd9\u4e2a\u95ed\u5305\u5c31\u662f\u7528\u4e8e\u4fee\u6539\u8fd9\u4e2a\u72b6\u6001\u7684\u51fd\u6570\u3002</p> <p>\u6bd4\u5982\u8bf4 <code>useState</code> \u7684\u4e00\u79cd\u53ef\u80fd\u7684\u5b9e\u73b0\u4e3a\uff1a</p> <pre><code>let states: any[] = [];\nlet cursor: number = 0;\n\nconst useState = &lt;T&gt; (initalState: T): [T, (arg: T) =&gt; void] =&gt; {\n    let state: T = (states[cursor] ?? initalState) as T;\n    const _cursor = cursor;\n    const setState = (newState: T): void =&gt; {\n        states[_cursor] = newState;\n    }\n    cursor += 1;\n    return [state, setState];\n}\n</code></pre> <p>\u8fd9\u91cc\uff0c\u6570\u7ec4 <code>states</code> \u7ba1\u7406\u4e86\u6240\u6709\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u53e6\u5916\u6709\u4e00\u4e2a\u6307\u9488 <code>cursor</code> \u7528\u4e8e\u8bbf\u95ee\u8fd9\u4e2a\u6570\u7ec4\u3002\u5728\u6211\u4eec\u8c03\u7528 <code>useState</code> \u7684\u65f6\u5019\uff0c\u5176\u9996\u5148\u4f1a\u68c0\u6d4b\u76ee\u524d <code>cursor</code> \u6307\u5411\u7684\u4f4d\u7f6e\u662f\u5426\u5df2\u7ecf\u5199\u5165\u4e86\u67d0\u4e2a\u72b6\u6001\uff0c\u5982\u679c\u5df2\u7ecf\u5199\u5165\u5219\u5c06\u5176\u53d6\u51fa\u4f5c\u4e3a\u76ee\u524d\u7684\u72b6\u6001\uff0c\u5426\u5219\u4f1a\u7528\u8be5\u51fd\u6570\u63a5\u53d7\u7684\u521d\u59cb\u503c\u4f5c\u4e3a\u76ee\u524d\u7684\u72b6\u6001\u3002</p> <p>\u968f\u540e\uff0c\u8be5\u51fd\u6570\u4f1a\u4fdd\u7559\u4e00\u4efd\u5f53\u524d <code>cursor</code> \u7684\u526f\u672c <code>_cursor</code>\uff0c\u5c06\u5176\u5305\u88c5\u5728\u95ed\u5305 <code>setState</code> \u4e2d\uff0c\u800c <code>setState</code> \u7684\u4f5c\u7528\u5c31\u662f\u4fee\u6539 <code>_cursor</code> \u6307\u5411\u7684\u90a3\u4e00\u4e2a\u72b6\u6001\u3002\u6700\u540e\u9012\u589e <code>cursor</code>\uff0c\u5c06\u76ee\u524d\u7684\u72b6\u6001 <code>state</code> \u548c\u7528\u4e8e\u4fee\u6539\u72b6\u6001\u7684\u51fd\u6570 <code>setState</code> \u8fd4\u56de\u5373\u53ef\u3002</p>"},{"location":"frontend/react/function-component/#_3","title":"\u7ba1\u7406\u7ec4\u4ef6\u526f\u4f5c\u7528\u2014\u2014\u66ff\u6362\u751f\u547d\u5468\u671f\u65b9\u6cd5","text":"<p>\u7531\u4e8e\u51fd\u6570\u7ec4\u4ef6\u5c06\u7ec4\u4ef6\u770b\u4f5c\u662f\u63a5\u6536\u7ec4\u4ef6\u5c5e\u6027\u4f20\u51fa\u7ec4\u4ef6\u663e\u793a\u65b9\u5f0f\u7684\u6570\u636e\u6d41\u7ba1\u9053\uff0c\u6240\u4ee5\u5176\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u6e32\u67d3\uff0c\u5373 <code>render</code> \u51fd\u6570\u8d1f\u8d23\u7684\u90e8\u5206\u3002\u90a3\u4e48\u6240\u6709\u751f\u547d\u5468\u671f\u65b9\u6cd5\u89c4\u5b9a\u7684\uff0c\u5728\u7ec4\u4ef6\u6302\u8f7d\u540e\u3001\u5378\u8f7d\u524d\u7684\u884c\u4e3a\uff0c\u5c31\u7edf\u79f0\u4e3a\u526f\u4f5c\u7528\u3002</p> <p>\u6211\u4eec\u5148\u7b80\u8981\u4ecb\u7ecd <code>useEffect</code> \u8fd9\u4e2a Hooks\uff0c\u5176\u539f\u578b\u4e3a\uff1a</p> <pre><code>useEffect(callback, depList);\n</code></pre> <p>\u8fd9\u91cc <code>callback</code> \u5c31\u662f\u6211\u4eec\u9700\u8981\u6267\u884c\u7684\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u89c4\u5b9a\u526f\u4f5c\u7528\u7684\u51fd\u6570\u3002\u800c <code>depList</code> \u4e3a\u526f\u4f5c\u7528\u4f9d\u8d56\u9879\u5217\u8868\uff0c\u8868\u793a\u8be5\u526f\u4f5c\u7528\u53d6\u51b3\u4e8e\u54ea\u4e9b\u53d8\u91cf\u3002</p> <p>\u6240\u8c13\u4f9d\u8d56\u9879\uff0c\u5c31\u662f\u6bcf\u5f53 <code>useEffect</code> \u6267\u884c\u7684\u65f6\u5019\uff0c\u4f1a\u68c0\u6d4b\u6240\u6709\u4f9d\u8d56\u9879\u76f8\u8f83\u4e8e\u4e0a\u4e00\u6b21\u662f\u5426\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5982\u679c\u53d1\u751f\u53d8\u5316\uff0c\u624d\u4f1a\u6267\u884c <code>callback</code> \u56de\u8c03\u51fd\u6570\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236 <code>depList</code> \u6765\u63a7\u5236\u526f\u4f5c\u7528\u7684\u6267\u884c\u65f6\u673a\u3002\u4e00\u822c\u800c\u8a00\uff0c<code>depList</code> \u6709\u4e09\u79cd\u5199\u6cd5\u3002</p>"},{"location":"frontend/react/function-component/#deplist","title":"\u901a\u8fc7 <code>depList</code> \u63a7\u5236\u526f\u4f5c\u7528\u53d1\u751f\u65f6\u673a","text":"<p><code>depList</code> \u7f6e <code>undefined</code></p> <p>\u6b64\u65f6\u76f8\u5f53\u4e8e\u4e0d\u4f20\u5165\u7b2c\u4e8c\u4e2a\u53c2\u6570 <code>depList</code>\u3002\u6b64\u65f6\u8fd9\u4e2a Hooks \u7684\u8bed\u4e49\u53ef\u4ee5\u7406\u89e3\u4e3a\u526f\u4f5c\u7528\u4e0d\u4f9d\u8d56\u4e8e\u4efb\u4f55\u53d8\u91cf\uff0c\u59cb\u7ec8\u4f1a\u88ab\u6267\u884c\u3002\u800c <code>useEffect</code> \u88ab\u8c03\u7528\u7684\u65f6\u673a\u5c31\u662f\u51fd\u6570\u7ec4\u4ef6\u8c03\u7528\u7684\u65f6\u673a\uff0c\u5373\u51fd\u6570\u7ec4\u4ef6\u6e32\u67d3\u7684\u65f6\u5019\u3002\u6240\u4ee5\uff0c\u5982\u679c <code>depList</code> \u7f6e <code>undefined</code>\uff0c\u610f\u5473\u7740\u526f\u4f5c\u7528\u4f1a\u5728\u6bcf\u4e00\u6b21\u6e32\u67d3\u540e\u6267\u884c\u3002</p> <p>\u5728\u6bcf\u4e00\u6b21\u6e32\u67d3\u4e4b\u540e\u90fd\u4f1a\u6267\u884c\u7684\u526f\u4f5c\u7528\u7b49\u4ef7\u4e8e <code>componentDidMount</code> \u548c <code>componentDidUpdate</code> \u4e24\u4e2a\u751f\u547d\u5468\u671f\u65b9\u6cd5\u5408\u5e76\u3002</p> <p>\u8fd9\u7c7b\u526f\u4f5c\u7528\u5f80\u5f80\u662f\u6839\u636e\u7ec4\u4ef6\u66f4\u65b0\u5b8c\u6bd5\u540e\u7684\u65b0\u72b6\u6001\u6765\u624b\u52a8\u8c03\u6574 DOM \u6811\u7ed3\u6784\u3001\u8bb0\u5f55\u65e5\u5fd7\u7b49\u884c\u4e3a\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u53ef\u4ee5\u5728\u6b63\u65b9\u5f62\u7c7b\u7ec4\u4ef6\u4e0a\u6dfb\u52a0\u4e0b\u8ff0 Hooks\uff0c\u8ba9\u5176\u88ab\u70b9\u51fb\u6b21\u6570\u80fd\u591f\u663e\u793a\u5728\u7f51\u9875\u6807\u9898\u4e0a\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\nconst Square = (props: SquareProps): ReactElement =&gt; {\n    const [clickCnt, setClickCnt] = useState(0);\n\n    useEffect(() =&gt; {\n        document.title = `You have clicked it for ${clickCnt} time(s).`;\n    });\n\n    return &lt;div\n        style={{\n            width: props.size,\n            height: props.size,\n            backgroundColor: props.color\n        }}\n        onClick={() =&gt; setClickCnt((o) =&gt; o + 1)}\n    /&gt;;\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u5728\u7528\u6237\u6bcf\u6b21\u70b9\u51fb\u6b63\u65b9\u5f62\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3\uff08\u5373\u51fd\u6570 <code>Square</code> \u91cd\u65b0\u6267\u884c\uff09\u7684\u65f6\u5019\uff0c<code>useEffect</code> Hooks \u63a5\u6536\u7684\u56de\u8c03\u51fd\u6570\u5c31\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u4ece\u800c\u4fee\u6539\u7f51\u9875\u6807\u9898\u5185\u5bb9\u3002</p> <p><code>depList</code> \u7f6e\u7a7a\u5217\u8868 <code>[]</code></p> <p>\u533a\u522b\u4e8e\u7f6e <code>undefined</code>\uff0c\u7f6e\u7a7a\u5217\u8868\u8868\u793a\u8be5\u526f\u4f5c\u7528\u5e94\u5f53\u4f9d\u8d56\u4e8e\u67d0\u4e9b\u53d8\u91cf\u4f46\u662f\u6211\u4eec\u6ca1\u6709\u63d0\u4f9b\uff0c\u56e0\u800c\u9664\u4e86\u5728\u7b2c\u4e00\u6b21\u6267\u884c\u8be5 Hooks \u65f6\u4e4b\u5916\uff0c\u5176\u4f59\u65f6\u523b\u90fd\u4f1a\u7531\u4e8e <code>depList</code> \u4e3a\u7a7a\u800c\u5224\u5b9a\u4e3a\u4e0d\u6267\u884c\u3002\u6240\u4ee5\uff0c\u5982\u679c <code>depList</code> \u7f6e\u7a7a\u5217\u8868 <code>[]</code>\uff0c\u610f\u5473\u7740\u526f\u4f5c\u7528\u53ea\u4f1a\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u540e\u6267\u884c\u3002</p> <p>\u53ea\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u4e4b\u540e\u6267\u884c\u7684\u526f\u4f5c\u7528\u7b49\u4ef7\u4e8e <code>componentDidMount</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002</p> <p>\u4e0d\u592a\u76f4\u89c2\u7684\u89e3\u91ca\uff1f</p> <p>\u53ef\u80fd\u4f1a\u6709\u8bfb\u8005\u5728\u9605\u8bfb\u4e0a\u8ff0\u8bb2\u89e3\u540e\u8fd8\u6709\u56f0\u60d1\uff0c\u4e3a\u4f55 <code>depList</code> \u7f6e <code>undefined</code> \u662f\u8fd9\u822c\u884c\u4e3a\u800c\u7f6e\u7a7a\u5217\u8868\u53c8\u662f\u90a3\u822c\uff0c\u4e43\u81f3\u8ba4\u4e3a\u8bb2\u89e3\u5f88\u53cd\u76f4\u89c9\u3002</p> <p>\u6211\u4eec\u627f\u8ba4\u4e0a\u8ff0\u8bb2\u89e3\u7684\u76ee\u7684\u4ec5\u4ec5\u662f\u8ba9\u5927\u5bb6\u5728\u4e0d\u5b66\u4e60 Hooks \u6e90\u7801\u7684\u6761\u4ef6\u4e0b\u5c31\u80fd\u4f7f\u7528 Hooks\uff0c\u4f46\u5982\u679c\u60f3\u8981\u7406\u89e3\u5176\u884c\u4e3a\u4e3a\u4f55\u5982\u6b64\uff0c\u53ef\u4ee5\u9605\u8bfb\u8fd9\u4e00\u90e8\u5206\u672b\u5c3e\u6211\u4eec\u63d0\u4f9b\u7684\u7b80\u5316\u7248 Hooks \u5b9e\u73b0\u3002</p> <p>\u6bd4\u5982\u8bf4\u6211\u4eec\u5e0c\u671b\u5728\u7ec4\u4ef6\u7b2c\u4e00\u6b21\u6e32\u67d3\u7684\u65f6\u5019\u4ece\u7f51\u7edc\u83b7\u53d6\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u5982\u4e0b\u7f16\u5199\uff1a</p> <pre><code>// Some other components\nuseEffect(() =&gt; {\n    fetchData(dataURL, /* OTHER PARAMS */)\n        .then((res) =&gt; setData(res))\n        .catch((err) =&gt; {\n            writeLog(err);\n            setData(\"[ERR]\");\n        });\n}, []);\n</code></pre> <p><code>depList</code> \u7f6e\u975e\u7a7a\u5217\u8868</p> <p>\u4f9d\u8d56\u9879\u975e\u7a7a\u5c31\u610f\u5473\u7740\u8be5\u526f\u4f5c\u7528\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u4f9d\u8d56\u9879\uff0cReact \u5f15\u64ce\u4f1a\u5728\u6bcf\u6b21\u6e32\u67d3\u7684\u65f6\u5019\u68c0\u67e5\u8fd9\u4e9b\u4f9d\u8d56\u9879\u662f\u5426\u548c\u5148\u524d\u7684\u5b58\u50a8\u4e00\u81f4\uff0c\u82e5\u4e0d\u4e00\u81f4\u5219\u4f1a\u89e6\u53d1\u526f\u4f5c\u7528\uff08\u7b2c\u4e00\u6b21\u6e32\u67d3\u59cb\u7ec8\u6267\u884c\uff09\u3002</p>"},{"location":"frontend/react/function-component/#_4","title":"\u526f\u4f5c\u7528\u7684\u6e05\u9664\u903b\u8f91","text":"<p>\u81f3\u6b64\u4e3a\u6b62\uff0c\u6211\u4eec\u5df2\u7ecf\u57fa\u672c\u4e0a\u4e86\u89e3\u4e86\u5982\u4f55\u901a\u8fc7 <code>depList</code> \u53c2\u6570\u63a7\u5236\u526f\u4f5c\u7528\u7684\u4ea7\u751f\u65f6\u673a\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u89c2\u5bdf\u4e00\u4e0b\u4e0a\u9762\u63d0\u5230\u7684\u7684\u8fd9\u4e00\u6bb5\u793a\u4f8b\u4ee3\u7801\uff1a</p> <pre><code>useEffect(() =&gt; {\n    document.title = `You have clicked it for ${clickCnt} time(s).`;\n});\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u91cc\u6bcf\u4e00\u6b21\u6e32\u67d3\u90fd\u4f1a\u7ed9 <code>useEffect</code> \u4f20\u5165\u4e00\u4e2a\u4e0d\u4e00\u6837\u7684\u51fd\u6570\uff08\u56e0\u4e3a <code>clickCnt</code> \u53d1\u751f\u4e86\u6539\u53d8\uff09\uff0c\u8fd9\u5176\u5b9e\u8868\u660e\u4e86 <code>useEffect</code> \u8fd9\u4e2a Hooks \u7684\u4e00\u4e2a\u7279\u5f81\uff0c\u5373\u6bcf\u4e00\u4e2a\u526f\u4f5c\u7528\u662f\u5c5e\u4e8e\u6bcf\u4e00\u6b21\u6e32\u67d3\u7684\u3002\u8fd9\u662f\u548c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u5f88\u4e0d\u4e00\u6837\u7684\u5730\u65b9\uff0c\u56e0\u4e3a\u751f\u547d\u5468\u671f\u662f\u5c5e\u4e8e\u4e00\u4e2a\u7ec4\u4ef6\u7684\uff0c\u800c\u4e0d\u662f\u7279\u5b9a\u7684\u6bcf\u4e00\u6b21\u6e32\u67d3\u3002</p> <p>\u4f46\u662f\u6211\u4eec\u8ba4\u4e3a\u5c06\u526f\u4f5c\u7528\u7ed1\u5b9a\u5230\u6bcf\u4e00\u6b21\u6e32\u67d3\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\uff0c\u539f\u56e0\u5728\u4e8e\u526f\u4f5c\u7528\u7684\u6e05\u9664\u903b\u8f91\u3002</p> <p>\u6211\u4eec\u5148\u524d\u63d0\u5230\u8fc7\uff0c\u5982\u679c\u9700\u8981\u7ed9\u7ec4\u4ef6\u7ed1\u5b9a\u8ba1\u65f6\u5668\u3001\u4e8b\u4ef6\u76d1\u542c\u5668\u7b49\u8017\u8d39\u8d44\u6e90\u7684\u5bf9\u8c61\uff0c\u5c31\u9700\u8981\u5728\u7ec4\u4ef6\u6302\u8f7d\u540e\u5206\u914d\u8d44\u6e90\uff0c\u5728\u7ec4\u4ef6\u5378\u8f7d\u524d\u91ca\u653e\u8d44\u6e90\u3002\u5982\u679c\u9700\u8981\u5206\u914d\u7684\u662f\u7c7b\u4f3c\u8ba1\u65f6\u5668\u8fd9\u7c7b\u5728\u6574\u4e2a\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u90fd\u4e0d\u4f1a\u53d8\u5316\u7684\u5bf9\u8c61\uff0c\u5219\u5c06\u521b\u5efa\u548c\u9500\u6bc1\u8ba1\u65f6\u5668\u7ed1\u5b9a\u5230\u4e00\u4e2a\u7ec4\u4ef6\u4e0a\u548c\u7ed1\u5b9a\u5230\u5177\u4f53\u7684\u67d0\u6b21\u6e32\u67d3\u4e0a\u5747\u53ef\u4ee5\u3002</p> <p>\u4f46\u662f\u8003\u8651\u4e8b\u4ef6\u76d1\u542c\u5668\uff0c\u4e8b\u4ef6\u76d1\u542c\u5668\u76d1\u542c\u7684\u5bf9\u8c61\u53ef\u80fd\u4f1a\u5728\u7ec4\u4ef6\u66f4\u65b0\u7684\u65f6\u5019\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c06\u521b\u5efa\u548c\u9500\u6bc1\u76d1\u542c\u5668\u7ed1\u5b9a\u5230\u7ec4\u4ef6\u4e0a\u5c31\u4e0d\u6b63\u786e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ec5\u4ec5\u901a\u8fc7 <code>componentDidMount</code> \u548c <code>componentWillUnmount</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\u5e76\u4e0d\u80fd\u5b8c\u6210\u4e8b\u4ef6\u76d1\u542c\u5668\u5bf9\u8c61\u7684\u7ba1\u7406\uff0c\u8fd8\u9700\u8981\u518d\u5728 <code>componentDidUpdate</code> \u65b9\u6cd5\u5185\u5b9e\u73b0\u56de\u6536\u65e7\u76d1\u542c\u5668\u548c\u5206\u914d\u65b0\u76d1\u542c\u5668\u7684\u903b\u8f91\u3002</p> <p>\u8fd9\u4e2a\u65f6\u5019\u663e\u7136\u5c06\u4e8b\u4ef6\u76d1\u542c\u5668\u7684\u7ba1\u7406\u548c\u5177\u4f53\u7684\u67d0\u4e00\u6b21\u6e32\u67d3\u7ed1\u5b9a\u662f\u66f4\u4e3a\u5408\u7406\u7684\uff0c\u903b\u8f91\u4e5f\u66f4\u4e3a\u7b80\u6d01\u3002\u5728\u8fd9\u6837\u7684\u6761\u4ef6\u4e0b\uff0c\u76d1\u542c\u5668\u7684\u7ba1\u7406\u903b\u8f91\u5c31\u662f\uff0c\u6bcf\u4e00\u6b21\u6e32\u67d3\u540e\uff0c\u56de\u6536\u65e7\u76d1\u542c\u5668\u5e76\u5206\u914d\u65b0\u76d1\u542c\u5668\u3002</p> <p>\u6211\u4eec\u5728 <code>useEffect</code> Hooks \u5185\u89c4\u5b9a\u526f\u4f5c\u7528\u6e05\u9664\u903b\u8f91\u7684\u65b9\u6cd5\u4e3a\u5728 <code>callback</code> \u5185\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u8fd4\u56de\u7684\u51fd\u6570\u5185\u89c4\u5b9a\u526f\u4f5c\u7528\u6e05\u9664\u65b9\u5f0f\u3002</p> <p>\u6bd4\u5982\u8bf4\u8003\u8651\u4e0b\u8ff0\u5e26\u6709\u8ba1\u65f6\u5668\uff0c\u5b9a\u65f6\u53d8\u8272\u7684 <code>Square</code>\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\ninterface SquareStates {\n    readonly color: string;\n}\n\nclass Square extends React.Component&lt;SquareProps, SquareStates&gt; {\n    timer: any;\n\n    constructor(props: SquareProps) {\n        super(props);\n        this.state = { color: props.color }\n    }\n\n    switchColor(): void {\n        this.setState((prev: SquareStates) =&gt; ({\n            ...prev,\n            color: prev.color === \"red\" ? \"blue\" : \"red\",\n        }));\n    }\n\n    componentDidMount(): void {\n        this.timer = setInterval(() =&gt; this.switchColor(), 1000);\n    }\n\n    componentWillUnmount(): void {\n        clearInterval(this.timer);\n    }\n\n    render(): ReactElement {\n        return &lt;div\n            style={{\n                width: this.props.size,\n                height: this.props.size,\n                backgroundColor: this.state.color\n            }}\n        /&gt;;\n    }\n}\n</code></pre> <p>\u53ef\u4ee5\u6539\u5199\u4e3a\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\nconst Square = (props: SquareProps): ReactElement =&gt; {\n    const [color, setColor] = useState(props.color);\n    let timer: any;\n\n    const switchColor = () =&gt; {\n        setColor((prev: string) =&gt; prev === \"red\" ? \"blue\" : \"red\");\n    };\n\n    useEffect(() =&gt; {\n        timer = setInterval(switchColor, 1000);\n        return () =&gt; clearInterval(timer);\n    }, []);\n\n    return &lt;div\n        style={{\n            width: props.size,\n            height: props.size,\n            backgroundColor: color\n        }}\n    /&gt;;\n}\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u5728\u4f5c\u4e3a <code>useEffect</code> \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u8fd4\u56de\u4e86\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5176\u89c4\u5b9a\u4e86\u6e05\u9664\u8ba1\u65f6\u5668\u7684\u903b\u8f91\u3002</p> <p>\u4ec5\u4f9b\u53c2\u8003\u7684\u5199\u6cd5</p> <p>\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u4e0a\u8ff0\u5199\u6cd5\uff0c\u53ef\u80fd\u4f1a\u5f97\u5230\u8fd9\u6837\u7684\u8b66\u544a\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u8b66\u544a\u544a\u8bc9\u6211\u4eec\uff0c<code>timer</code> \u4f5c\u4e3a\u51fd\u6570\u5185\u90e8\u53d8\u91cf\uff0c\u4f1a\u968f\u7740\u6e32\u67d3\u7ed3\u675f\uff08\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\uff09\u800c\u6d88\u5931\uff0c\u5982\u679c\u9700\u8981\u5c06\u5176\u6301\u4e45\u5316\uff0c\u9700\u8981\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a <code>useRef</code> Hooks\u3002</p> <p>\u8fd9\u5176\u5b9e\u5c31\u662f\u51fd\u6570\u7ec4\u4ef6\u7684\u5c40\u9650\u6240\u5728\uff0c\u7531\u4e8e\u51fd\u6570\u7684\u751f\u547d\u5468\u671f\u4ec5\u80fd\u7ef4\u6301\u5728\u4e00\u6b21\u6e32\u67d3\u4e2d\uff0c\u6240\u4ee5\u5982\u679c\u6d89\u53ca\u5230\u9700\u8981\u6784\u9020\u548c\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e00\u822c\u957f\u7684\u53d8\u91cf\uff0c\u5c31\u4e0d\u5f97\u4e0d\u4f7f\u7528\u5404\u79cd Hooks \u7ef4\u62a4\uff0c\u6bd4\u5982\u7ec4\u4ef6\u7684\u5404\u79cd\u72b6\u6001\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u8ba1\u65f6\u5668\u3002</p> <p><code>useRef</code> Hooks \u4f1a\u6784\u5efa\u4e00\u4e2a\u548c\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e00\u822c\u957f\u7684\u53d8\u91cf\uff0c\u5176\u521d\u59cb\u503c\u4e3a <code>useRef</code> \u63a5\u53d7\u7684\u53c2\u6570\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8be5 Hooks \u8fd4\u56de\u53d8\u91cf\u7684 <code>.current</code> \u5c5e\u6027\u83b7\u53d6\u5230\u5b9e\u9645\u7684\u53d8\u91cf\u503c\u3002\u6240\u4ee5\u8bf4\uff0c\u4e0a\u8ff0\u4ee3\u7801\u7684\u6b63\u786e\u7f16\u5199\u65b9\u5f0f\u5e94\u8be5\u4e3a\uff1a</p> <pre><code>interface SquareProps {\n    readonly size: number;\n    readonly color: string;\n}\n\nconst Square = (props: SquareProps): ReactElement =&gt; {\n    const [color, setColor] = useState(props.color);\n    const timerRef = useRef&lt;undefined | NodeJS.Timer&gt;(undefined);\n\n    const switchColor = () =&gt; {\n        setColor((prev: string) =&gt; prev === \"red\" ? \"blue\" : \"red\");\n    };\n\n    useEffect(() =&gt; {\n        timerRef.current = setInterval(switchColor, 1000);\n        return () =&gt; {\n            if (timerRef.current !== undefined)\n                clearInterval(timerRef.current);\n        }\n    }, []);\n\n    return &lt;div\n        style={{\n            width: props.size,\n            height: props.size,\n            backgroundColor: color\n        }}\n    /&gt;;\n}\n</code></pre> <code>useEffect</code> Hooks \u7684\u5927\u81f4\u539f\u7406 <p><code>useEffect</code> \u91c7\u7528\u4e86\u548c <code>useState</code> \u7c7b\u4f3c\u7684\u8bbe\u8ba1\u601d\u8def\uff0c\u53ea\u4e0d\u8fc7\u5176\u5728\u5168\u5c40\u6570\u7ec4\u5185\u5b58\u653e\u7684\u662f\u6bcf\u4e00\u4e2a\u526f\u4f5c\u7528\u7684\u4f9d\u8d56\u5217\u8868\u3002\u6bcf\u6b21\u6267\u884c <code>useEffect</code> \u7684\u65f6\u5019\u90fd\u4f1a\u67e5\u627e\u4f9d\u8d56\u5217\u8868\u6765\u786e\u5b9a\u662f\u5426\u9700\u8981\u6267\u884c\u526f\u4f5c\u7528\u3002</p> <p>\u5176\u53ef\u80fd\u7684\u5b9e\u73b0\u4e3a\uff1a</p> <pre><code>let effectDeps: any[][] = [];\nlet cursor: number = 0;\n\nconst useEffect = (callback: () =&gt; void, depList: any[]): void =&gt; {\n    if (effectDeps[cursor] === undefined) {\n        effectDeps[cursor] = depList;\n        cursor += 1;\n        callback();\n        return;\n    }\n\n    const depsChanged = effectDeps[cursor]\n        .some((dep: any, ind: number) =&gt; dep !== depList[ind]);\n    if (depsChanged) {\n        callback();\n        effectDeps[cursor] = depList;\n    }\n    cursor += 1;\n}\n</code></pre> <p>\u8fd9\u6837\u5b9e\u9645\u4e0a\u5c31\u89e3\u91ca\u4e86\u4e3a\u4f55 <code>depList</code> \u7f6e <code>undefined</code> \u65f6\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u6267\u884c\u526f\u4f5c\u7528\uff0c\u8fd9\u662f\u56e0\u4e3a <code>effectDeps</code> \u6570\u7ec4\u5185\u4e00\u76f4\u4fdd\u5b58\u7684\u662f <code>undefined</code>\uff0c\u6240\u4ee5 <code>useEffect</code> \u5728\u7b2c\u4e00\u4e2a <code>if</code> \u5904\u5c31\u4f1a\u4e00\u76f4\u5224\u771f\uff0c\u4ece\u800c\u6bcf\u6b21\u90fd\u4f1a\u6267\u884c\u526f\u4f5c\u7528\u3002</p> <p>\u540c\u6837\u4e5f\u80fd\u89e3\u91ca\u4e3a\u4f55 <code>depList</code> \u7f6e\u7a7a\u5217\u8868\u4ec5\u4f1a\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u6267\u884c\u526f\u4f5c\u7528\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"frontend/react/function-component/#hooks_1","title":"Hooks \u7684\u4f7f\u7528\u89c4\u8303","text":"<p>Hooks \u7684\u4f7f\u7528\u89c4\u8303\u5927\u81f4\u53ef\u4ee5\u5f52\u7ed3\u4e3a\u4e24\u6761\uff1a</p> <ul> <li>\u5fc5\u987b\u5728\u7ec4\u4ef6\u6700\u9876\u90e8\u4f7f\u7528 Hooks\uff0c\u4e14 Hooks \u4e0d\u80fd\u4f4d\u4e8e\u6761\u4ef6\u3001\u5faa\u73af\u3001\u5b50\u51fd\u6570\u4e4b\u4e2d</li> <li>\u53ea\u80fd\u5728 React \u51fd\u6570\u7ec4\u4ef6\u4e2d\u4f7f\u7528 Hooks</li> </ul> <p>\u53ea\u8981\u9075\u5faa\u8fd9\u4e24\u6761\u5373\u53ef\u4fdd\u8bc1 Hooks \u7684\u6b63\u786e\u4f7f\u7528\u3002</p> \u4e3a\u4ec0\u4e48\u662f\u8fd9\u4e24\u6761\u89c4\u5219 <p>\u5982\u679c\u4f60\u5df2\u7ecf\u9605\u8bfb\u8fc7 <code>useState</code> \u548c <code>useEffect</code> \u7684\u7b80\u8981\u5b9e\u73b0\uff0c\u5c31\u4f1a\u53d1\u73b0\u8fd9\u4e24\u4e2a Hooks \u90fd\u4f9d\u8d56\u4e8e\u4e00\u4e2a\u91cd\u8981\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u5373 <code>cursor</code>\u3002\u8fd9\u4e2a\u53d8\u91cf\u7ef4\u62a4\u4e86\u5f53\u524d Hooks \u6307\u5411\u7684\u72b6\u6001\uff08\u6216\u4f9d\u8d56\u9879\u5217\u8868\uff09\u3002\u800c <code>cursor</code> \u7684\u53d8\u5316\u4ec5\u4ec5\u662f\u81ea\u589e\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u5404\u4e2a Hooks \u7684\u6267\u884c\u5e8f\u5217\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u5bfc\u81f4 <code>cursor</code> \u504f\u79fb\uff0c\u4ece\u800c\u5bfc\u81f4 Hooks \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u72b6\u6001\uff08\u6216\u4f9d\u8d56\u9879\u5217\u8868\uff09\u3002</p> <p>\u6bd4\u5982\u8bf4\u6211\u4eec\u5728\u67d0\u4e00\u4e2a\u7ec4\u4ef6\u9876\u90e8\u6309\u987a\u5e8f\u8c03\u7528\u4e0b\u8ff0 Hooks\uff1a</p> <pre><code>useState(1); // #1\nuseState(2); // #2\nuseState(3); // #3\n</code></pre> <p>\u8fd9\u91cc <code>cursor</code> \u5c31\u4f1a\u9012\u589e\u4e09\u6b21\uff0c\u5c06\u4e09\u4e2a\u72b6\u6001\u8fde\u7eed\u8bb0\u5f55\u5728\u5168\u5c40\u6570\u7ec4\u4e2d\u3002</p> <p>\u7136\u800c\u5982\u679c\u6211\u4eec\u5c06\u67d0\u4e00\u4e2a Hooks \u653e\u7f6e\u5728\u6761\u4ef6\u8bed\u53e5\u4e2d\uff1a</p> <pre><code>useState(1); // #1\nif (something) {\n    useState(2); // #2\n}\nuseState(3); // #3\n</code></pre> <p>\u5c31\u53ef\u80fd\u5bfc\u81f4\u7b2c\u4e8c\u4e2a Hooks \u4e0d\u88ab\u6267\u884c\uff0c\u4ece\u800c\u5bfc\u81f4 <code>cursor</code> \u6ca1\u6709\u9012\u589e\u3002\u6b64\u65f6\u6267\u884c\u7b2c\u4e09\u4e2a Hooks \u7684\u65f6\u5019\uff0c<code>cursor</code> \u6307\u5411\u4e86\u7b2c\u4e8c\u4e2a\u72b6\u6001\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e86\u9519\u8bef\u3002</p>"},{"location":"frontend/react/lifecycle/","title":"\u751f\u547d\u5468\u671f\u65b9\u6cd5","text":""},{"location":"frontend/react/lifecycle/#react","title":"React \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f","text":"<p>\u6211\u4eec\u5728\u5b9e\u9645\u7684\u5f00\u53d1\u4e4b\u4e2d\uff0c\u524d\u7aef\u9700\u8981\u663e\u793a\u7684\u6570\u636e\u3001\u663e\u793a\u6570\u636e\u7684\u65b9\u5f0f\u5f80\u5f80\u9700\u8981\u6839\u636e\u4ece\u540e\u7aef\u3001\u516c\u5f00\u5e73\u53f0\u7b49\u5904\u62c9\u53d6\u7684\u4fe1\u606f\u786e\u5b9a\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u8003\u8651\u5e94\u5f53\u4f55\u65f6\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u62c9\u53d6\u6570\u636e\u3002</p> <p>\u5728\u53d9\u8ff0\u4f55\u65f6\u62c9\u53d6\u6570\u636e\u4e4b\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u4e86\u89e3\u4e00\u4e0b React \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a React \u7ec4\u4ef6\u4ece\u6784\u5efa\u5230\u89e3\u6784\u7684\u5168\u8fc7\u7a0b\uff1a</p> <ul> <li> <p>\u51c6\u5907\u6302\u8f7d\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c5e\u6027\u4f1a\u88ab\u4f20\u9012\u5230\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u4e4b\u4e2d\uff0c\u5b9e\u4f8b\u5316\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u540c\u65f6\u521b\u8bbe\u76f8\u5e94\u7684 <code>state</code>\u3002</p> </li> <li> <p>\u6302\u8f7d\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u65f6\u5019\u6846\u67b6\u8c03\u7528 <code>render</code> \u51fd\u6570\uff0c\u751f\u6210\u7ec4\u4ef6\u7684\u5c55\u793a\u65b9\u5f0f\u5e76\u6e32\u67d3\uff0c\u6302\u8f7d\u5b8c\u6bd5\u4e4b\u540e\u4f1a\u4f7f\u7528 <code>React.Component</code> \u7c7b\u4e4b\u4e2d\u5b9a\u4e49\u7684 <code>componentDidMount</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u8868\u793a\u7ec4\u4ef6\u6302\u8f7d\u5b8c\u6bd5\u3002</p> </li> <li> <p>\u76d1\u542c\u7ec4\u4ef6\u7684 <code>setState</code> \u65b9\u6cd5\u8c03\u7528\uff0c\u4e00\u65e6\u7ec4\u4ef6\u7684\u72b6\u6001\u6539\u53d8\uff0c\u5c31\u4ee3\u8868\u7740\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684\u663e\u793a\u65b9\u5f0f\u6539\u53d8\uff0c\u6b64\u65f6\u6846\u67b6\u4f1a\u91cd\u65b0\u8c03\u7528 <code>render</code> \u51fd\u6570\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3\u3002</p> </li> <li> <p>\u5378\u8f7d\u7ec4\u4ef6\uff0c\u5f53\u7ec4\u4ef6\u9700\u8981\u88ab\u79fb\u9664\u7684\u65f6\u5019\uff0c\u5728\u5378\u8f7d\u4e4b\u524d\u4f1a\u8c03\u7528 <code>React.Component</code> \u7c7b\u4e4b\u4e2d\u5b9a\u4e49\u7684 <code>componentWillUnmount</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u8868\u793a\u5373\u5c06\u5378\u8f7d\u7ec4\u4ef6\u3002</p> </li> </ul> <p>\u6ce8\u610f\u8fd9\u91cc\u63d0\u5230\u7684 <code>componentDidMount</code> \u548c <code>componentWillUnmount</code> \u65b9\u6cd5\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4f1a\u5728\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u65f6\u95f4\u70b9\u7531 React \u6846\u67b6\u81ea\u52a8\u8c03\u7528\u3002\u524d\u8005\u8c03\u7528\u65f6\u7ec4\u4ef6\u5df2\u7ecf\u6784\u5efa\u5b8c\u6bd5\u4e14\u6302\u8f7d\u5230 DOM \u6811\u4e0a\uff0c\u6b64\u65f6\u4fbf\u53ef\u4ee5\u4ece\u7f51\u7edc\u62c9\u53d6\u6570\u636e\u5e76\u5199\u5165\u5bf9\u5e94\u7684\u6210\u5458\u53d8\u91cf\u6216\u8005\u8c03\u7528 <code>this.setState</code> \u6839\u636e\u83b7\u53d6\u7684\u6570\u636e\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u3002</p> <p>\u800c\u540e\u8005\u8c03\u7528\u65f6\u610f\u5473\u7740\u7ec4\u4ef6\u5373\u5c06\u5378\u8f7d\uff0c\u6b64\u65f6\u5e94\u5f53\u6e05\u9664\u6389\u4e00\u4e9b\u5373\u5c06\u4e0d\u4f7f\u7528\u7684\u3001\u5728\u540e\u53f0\u8fd0\u884c\u5360\u7528\u8d44\u6e90\u7684\u8ba1\u65f6\u5668\u3001\u4e8b\u4ef6\u76d1\u542c\u5668\u7b49\u5bf9\u8c61\uff0c\u4fdd\u8bc1\u8d44\u6e90\u4e0d\u6d6a\u8d39\u3002</p> \u66f4\u5b8c\u6574\u7684\u751f\u547d\u5468\u671f <p>\u3010\u6ce8\u610f\u3011\u8fd9\u91cc\u53ef\u80fd\u5305\u542b\u8fc7\u65f6\u4e43\u81f3\u5371\u9669\u7684\u7f16\u7801\u65b9\u6cd5\uff0c\u5982\u679c\u53ea\u9700\u8981\u5b66\u4e60\u751f\u547d\u5468\u671f\u65b9\u6cd5\u7684\u8fd0\u7528\u53ef\u4ee5\u8df3\u8fc7\uff0c\u672c\u90e8\u5206\u4ec5\u7528\u4e8e\u6df1\u5165\u4e86\u89e3 React \u6846\u67b6\u3002</p> <p>\u5982\u679c\u4f7f\u7528 VS Code \u7b49\u5e26\u6709\u4ee3\u7801\u63d0\u793a\u7684\u5de5\u5177\u7f16\u5199\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff1a</p> <p></p> <p>\u8fd9\u4e9b\u65b9\u6cd5\u5b9e\u9645\u4e0a\u63cf\u8ff0\u4e86\u66f4\u4e3a\u7ec6\u81f4\u7684 React \u7ec4\u4ef6\u751f\u547d\u5468\u671f\uff0c\u73b0\u5728\u6211\u4eec\u9010\u6b65\u8868\u8ff0\u3002</p> <ul> <li>\u7ec4\u4ef6\u6302\u8f7d<ul> <li>\u9996\u5148\u8c03\u7528\u6784\u9020\u51fd\u6570 <code>constructor()</code>\uff0c\u5176\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u7ec4\u4ef6\u5c5e\u6027\uff0c\u540c\u65f6\u521d\u59cb\u5316\u7ec4\u4ef6\u72b6\u6001\u3002\u5728 ES6 JavaScript \u7c7b\u8bed\u6cd5\u7cd6\u51fa\u73b0\u4e4b\u524d\uff0c\u6784\u9020\u51fd\u6570\u7531 <code>getDefaultProps()</code> \u548c <code>getInitialState()</code> \u4e24\u4e2a\u65b9\u6cd5\u66ff\u4ee3</li> <li>\u5176\u6b21\u8c03\u7528 <code>componentWillMount()</code> \u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u4ee5 override \u8be5\u65b9\u6cd5\u5b9e\u73b0\u81ea\u5b9a\u4e49\u529f\u80fd</li> <li>\u7136\u540e\u8c03\u7528 <code>render()</code> \u65b9\u6cd5\u83b7\u53d6\u7ec4\u4ef6\u7684\u663e\u793a\u65b9\u5f0f\uff0c\u6e32\u67d3\u7ec4\u4ef6</li> <li>\u6700\u540e\u8c03\u7528 <code>componentDidMount()</code> \u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u4ee5 override \u8be5\u65b9\u6cd5\u5b9e\u73b0\u81ea\u5b9a\u4e49\u529f\u80fd</li> </ul> </li> <li>\u7ec4\u4ef6\u66f4\u65b0<ul> <li>\u5982\u679c\u662f\u63a5\u53d7\u65b0\u7684\u7ec4\u4ef6\u5c5e\u6027\u8fdb\u884c\u66f4\u65b0\uff0c\u8c03\u7528 <code>componentWillReceiveProps()</code> \u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u8be5\u7ec4\u4ef6\u7684\u65b0\u5c5e\u6027</li> <li>\u9996\u5148\u8c03\u7528 <code>shouldComponentUpdate()</code> \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7ec4\u4ef6\u6b64\u65f6\u662f\u5426\u9700\u8981\u66f4\u65b0\u3002\u82e5\u5f97\u5230 <code>false</code>\uff0c\u5219\u7ec4\u4ef6\u505c\u6b62\u66f4\u65b0\uff0c\u5426\u5219\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u8be5\u7ec4\u4ef6\u7684\u65b0\u5c5e\u6027\u548c\u65b0\u72b6\u6001</li> <li>\u5176\u6b21\u8c03\u7528 <code>componentWillUpdate()</code> \u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u4ee5 override \u8be5\u65b9\u6cd5\u5b9e\u73b0\u81ea\u5b9a\u4e49\u529f\u80fd\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u8be5\u7ec4\u4ef6\u7684\u65b0\u5c5e\u6027\u548c\u65b0\u72b6\u6001</li> <li>\u7136\u540e\u8c03\u7528 <code>render()</code> \u65b9\u6cd5\u83b7\u53d6\u7ec4\u4ef6\u663e\u793a\u65b9\u5f0f\uff0c\u6e32\u67d3\u7ec4\u4ef6</li> <li>\u6700\u540e\u8c03\u7528 <code>componentDidUpdate()</code> \u65b9\u6cd5\uff0c\u8868\u793a\u7ec4\u4ef6\u66f4\u65b0\u5b8c\u6bd5\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u7ec4\u4ef6\u66f4\u65b0\u524d\u7684\u65e7\u5c5e\u6027\u548c\u65e7\u72b6\u6001</li> </ul> </li> <li>\u7ec4\u4ef6\u5378\u8f7d<ul> <li>\u8c03\u7528 <code>componentWillUnmount()</code> \u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u4ee5 override \u8be5\u65b9\u6cd5\u5b9e\u73b0\u81ea\u5b9a\u4e49\u529f\u80fd</li> </ul> </li> <li>\u7ec4\u4ef6\u9519\u8bef\u5904\u7406<ul> <li>\u8c03\u7528 <code>componentDidCatch()</code> \u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u4ee5 override \u8be5\u65b9\u6cd5\u5b9e\u73b0\u81ea\u5b9a\u4e49\u529f\u80fd\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u7684\u53c2\u6570\u4e3a\u9519\u8bef\u4fe1\u606f</li> </ul> </li> <li>\u7ec4\u4ef6\u76d1\u542c\u7684\u65b9\u6cd5\u8c03\u7528<ul> <li><code>setState()</code> \u65b9\u6cd5\u53d1\u8d77\u7ec4\u4ef6\u66f4\u65b0\u7684\u8bf7\u6c42\uff0c\u4f1a\u89e6\u53d1\u4e00\u6b21\u91cd\u65b0\u6e32\u67d3\uff0c\u5177\u4f53\u7528\u6cd5\u5148\u524d\u5df2\u7ecf\u8bb2\u89e3</li> <li><code>forceUpdate()</code> \u65b9\u6cd5\u53d1\u8d77\u7ec4\u4ef6\u66f4\u65b0\u7684\u547d\u4ee4\uff0c\u4e0e <code>setState()</code> \u65b9\u6cd5\u4e0d\u540c\u5728\u5176\u4f1a\u65e0\u89c6 <code>componentShouldUpdate()</code> \u7684\u8fd4\u56de\u503c\uff0c\u6b63\u5e38\u5b8c\u6210\u7ec4\u4ef6\u66f4\u65b0\u6d41\u7a0b\uff08\u5305\u62ec\u8c03\u7528 <code>componentDidUpdate()</code> \u65b9\u6cd5\uff09</li> </ul> </li> </ul> <p>\u603b\u4f53\u800c\u8a00\uff0cReact \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u5927\u81f4\u4e3a\u4e0b\u56fe\uff08ES5 \u7248\u672c\uff0c\u4e0d\u5305\u62ec\u7ec4\u4ef6\u9519\u8bef\u5904\u7406\u548c\u65b9\u6cd5\u76d1\u542c\uff09\uff1a</p> <p></p> <p>\u56fe\u7247\u6765\u6e90\uff1ahttps://www.cnblogs.com/gdsblog/p/7348375.html\u3002</p> <p>\u4e0d\u5b89\u5168\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5</p> <p>\u6211\u4eec\u53ef\u4ee5\u6ce8\u610f\u5230 <code>componentWillMount()</code> \u7b49\u65b9\u6cd5\u5df2\u7ecf\u88ab\u6807\u8bb0\u4e3a Deprecated\uff0c\u8fd9\u662f\u56e0\u4e3a\u8fd9\u7c7b\u65b9\u6cd5\u5f80\u5f80\u53ef\u80fd\u4f1a\u5728\u7ec4\u4ef6\u672a\u6784\u5efa\u5b8c\u6bd5\u6216\u8005\u66f4\u65b0\u5b8c\u6bd5\u7684\u65f6\u5019\u4fee\u6539\u7ec4\u4ef6\uff0c\u8fd9\u662f\u6709\u6570\u636e\u7ade\u4e89\u5371\u9669\u7684\u3002\u6240\u4ee5\u5728 React 17/18 \u7248\u672c\u7684\u8fc7\u6e21\u4e4b\u4e2d\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u88ab\u5e9f\u5f03\u3002\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u65b9\u6cd5\u5305\u62ec\uff1a</p> <ul> <li><code>componentWillMount()</code></li> <li><code>componentWillUpdate()</code></li> <li><code>componentWillReceiveProps()</code></li> </ul>"},{"location":"frontend/react/lifecycle/#_2","title":"\u5b9e\u4f8b\u2014\u2014\u4e3a\u7ec4\u4ef6\u6302\u8f7d\u8ba1\u65f6\u5668","text":"<p>\u73b0\u5728\u6211\u4eec\u7740\u91cd\u8bb2\u89e3\u5982\u4f55\u5229\u7528 <code>componentDidMount</code> \u548c <code>componentWillUnmount</code> \u65b9\u6cd5\u3002\u8fd9\u4e24\u4e2a\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6807\u8bb0\u7740\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u7684\u5f00\u59cb\u4e0e\u7ec8\u7ed3\uff0c\u6240\u4ee5\u5982\u679c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4e00\u4e2a\u548c\u7ec4\u4ef6\u540c\u65f6\u6784\u9020\u3001\u540c\u65f6\u91ca\u653e\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5728\u8fd9\u4e24\u4e2a\u751f\u547d\u5468\u671f\u65b9\u6cd5\u5185\u6784\u5efa\u548c\u91ca\u653e\u8fd9\u4e2a\u5bf9\u8c61\u3002\u5176\u4e2d\u4e00\u4e2a\u4f8b\u5b50\u5c31\u662f\u8ba1\u65f6\u5668\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u8003\u8651\u5148\u524d\u7f16\u5199\u7684\u5c0f\u6b63\u65b9\u5f62\uff0c\u73b0\u5728\u6211\u4eec\u80fd\u591f\u901a\u8fc7\u4fee\u6539\u7ec4\u4ef6\u72b6\u6001\u6765\u63a7\u5236\u5b83\u7684\u989c\u8272\uff0c\u4f46\u6211\u4eec\u5b9e\u9645\u4e0a\u8fd8\u662f\u8981\u901a\u8fc7\u7528\u6237\u6765\u89e6\u53d1\u6211\u4eec\u4fee\u6539\u989c\u8272\u7684\u51fd\u6570\u3002\u5982\u679c\u6211\u60f3\u8981\u5c06\u8fd9\u4e2a\u51fd\u6570\u6539\u4e3a\u81ea\u52a8\u8c03\u7528\uff0c\u4e0d\u53ef\u907f\u514d\u5730\u5c31\u9700\u8981\u5f15\u5165\u8ba1\u65f6\u5668\u3002</p> <p>\u9996\u5148\u6211\u4eec\u9700\u8981\u5c06\u8ba1\u65f6\u5668\u58f0\u660e\u4e3a\u7c7b\u6210\u5458\u4ee5\u7b26\u5408 TypeScript \u7684\u68c0\u67e5\uff1a</p> <pre><code>class Square extends React.Component&lt;SquareProps, SquareStates&gt; {\n    timer: any;\n    // ...\n}\n</code></pre> <p>\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u5728 <code>componentDidMount</code> \u65b9\u6cd5\u4e2d\uff0c\u5728\u7ec4\u4ef6\u521a\u6302\u8f7d\u7684\u65f6\u5019\u6784\u5efa\u8ba1\u65f6\u5668\u5bf9\u8c61\uff1a</p> <pre><code>// Component 'Square'\ncomponentDidMount(): void {\n    this.timer = setInterval(() =&gt; this.switchColor(), 1000);\n}\n</code></pre> <p><code>setInterval</code> \u65b9\u6cd5\u8bbe\u5b9a\u4e00\u4e2a\u5468\u671f\u8ba1\u65f6\u5668\uff0c\u4e0a\u8ff0\u8ba1\u65f6\u5668\u5c06\u4f1a\u6bcf\u95f4\u9694 1000 \u6beb\u79d2\u8c03\u7528\u4e00\u6b21 <code>this.switchColor</code> \u65b9\u6cd5\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u9700\u8981\u5728 <code>componentWillUnmount</code> \u65b9\u6cd5\u4e2d\uff0c\u5728\u7ec4\u4ef6\u5373\u5c06\u5378\u8f7d\u7684\u65f6\u5019\u5220\u9664\u8ba1\u65f6\u5668\u5bf9\u8c61\uff1a</p> <pre><code>// Component 'Square'\ncomponentWillUnmount(): void {\n    clearInterval(this.timer);\n}\n</code></pre> <p>\u4f7f\u7528 <code>npm run start / yarn start</code> \u547d\u4ee4\u5373\u53ef\u8fd0\u884c\u5e94\u7528\uff0c\u770b\u5230\u4e00\u4e2a\u6bcf\u9694\u4e00\u79d2\u53d8\u8272\u7684\u6b63\u65b9\u5f62\u4e86\u3002</p>"},{"location":"frontend/react/lifecycle/#setstate","title":"<code>setState</code> \u65b9\u6cd5\u4e0e\u53ef\u80fd\u7684\u5faa\u73af\u6e32\u67d3","text":"<p>\u521d\u6b21\u4f7f\u7528 React \u6846\u67b6\u5e76\u5c1d\u8bd5\u7ef4\u62a4\u7ec4\u4ef6\u72b6\u6001\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u4f1a\u9047\u5230\u6ee5\u7528 <code>setState</code> \u65b9\u6cd5\u5bfc\u81f4\u7ec4\u4ef6\u5d29\u6e83\u7684\u9519\u8bef\u3002</p> <p>\u5c1d\u8bd5\u5728 <code>Square</code> \u7ec4\u4ef6\u5185\u5199\u5165\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>// Component 'Square'\ncomponentDidUpdate() {\n    this.setState((o) =&gt; o);\n}\n</code></pre> <p>\u518d\u8fd0\u884c React \u5e94\u7528\uff0c\u4f60\u5e94\u5f53\u80fd\u89c2\u5bdf\u5230 React \u5d29\u6e83\u3002\u8bf7\u81ea\u884c\u601d\u8003\u539f\u56e0\uff0c\u5982\u679c\u6ca1\u6709\u601d\u8def\uff0c\u53ef\u4ee5\u6253\u5f00\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u67e5\u770b\u62a5\u9519\u539f\u56e0\u6216\u8005\u5c55\u5f00\u4e0b\u9762\u7684\u7b14\u8bb0\u6846\u9605\u8bfb\u6211\u4eec\u7ed9\u51fa\u7684\u89e3\u91ca\u3002</p> React \u5d29\u6e83\u7684\u539f\u56e0 <p>\u5982\u679c\u4f60\u6253\u5f00\u4e86\u6d4f\u89c8\u5668\u7684\u63a7\u5236\u53f0\uff0c\u5e94\u5f53\u4f1a\u770b\u5230\u7c7b\u4f3c\u4e0b\u56fe\u7684\u62a5\u9519\uff1a</p> <p></p> <p>\u73b0\u5728\u6211\u4eec\u56de\u987e\u8c03\u7528 <code>setState</code> \u65f6 React \u6846\u67b6\u7684\u5904\u7406\u6d41\u7a0b\u3002\u5982\u679c\u8c03\u7528\u540e\u901a\u8fc7\u4e86 <code>shouldComponentUpdate</code> \u7684\u68c0\u67e5\uff0c\u5219\u5c31\u4f1a\u8fdb\u5165\u7ec4\u4ef6\u66f4\u65b0\u7684\u5904\u7406\u6d41\u7a0b\uff0c\u8fd9\u671f\u95f4\u4f1a\u8c03\u7528 <code>componentWillUpdate</code>\u3001<code>componentDidUpdate</code>\u3001<code>render</code> \u7b49\u65b9\u6cd5\uff0c\u5982\u679c\u8fd9\u4e9b\u65b9\u6cd5\u5185\u53c8\u4e00\u6b21\u8c03\u7528\u4e86 <code>setState</code> \u65b9\u6cd5\uff0c\u5219\u53c8\u4f1a\u89e6\u53d1\u7ec4\u4ef6\u66f4\u65b0\uff0c\u4ece\u800c\u5bfc\u81f4\u5faa\u73af\u6e32\u67d3\uff0c\u8fd9\u79cd\u6b7b\u5faa\u73af\u4f1a\u5bfc\u81f4 React \u6846\u67b6\u5d29\u6e83\u9000\u51fa\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5e94\u5f53\u907f\u514d\u5728 <code>componentWillUpdate</code>\u3001<code>componentDidUpdate</code> \u5185\u8c03\u7528 <code>setState</code>\uff0c\u5373\u4f7f\u9700\u8981\u8c03\u7528\uff0c\u4e5f\u4ec5\u80fd\u591f\u5728\u67d0\u4e2a\u6761\u4ef6\u5206\u652f\u8bed\u53e5\u5185\u4f7f\u7528\uff0c\u6bd4\u5982\uff1a</p> <pre><code>componentDidUpdate(prevProps) {\n    if (prevProps.foo !== this.props.foo) {\n        this.setState(/* SOMETHING */);\n    }\n}\n</code></pre> <p>\u8fd9\u6837\u81f3\u5c11\u4e0d\u4f1a\u5bfc\u81f4\u6700\u7b80\u5355\u7684\u6b7b\u5faa\u73af\uff0c\u4f46\u662f\u8fd9\u6837\u8fd8\u662f\u6709\u53ef\u80fd\u5bfc\u81f4\u91cd\u590d\u6e32\u67d3\uff0c\u8fdb\u800c\u5bfc\u81f4\u6027\u80fd\u6d6a\u8d39\u3002</p>"},{"location":"frontend/react/prepare/","title":"\u73af\u5883\u914d\u7f6e","text":""},{"location":"frontend/react/prepare/#_2","title":"\u524d\u7f6e\u73af\u5883\u914d\u7f6e","text":"<p>\u5728\u7ee7\u7eed\u4e0b\u9762\u7684\u73af\u5883\u914d\u7f6e\u4e4b\u524d\uff0c\u672c\u6587\u6863\u9ed8\u8ba4\u4e86\u4f60\u5df2\u7ecf\u5b89\u88c5\u4e86\u9ad8\u4e8e v12 \u7684 <code>node</code>\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528 <code>npm install</code>\u3002</p> <p>\u5982\u679c\u5b89\u88c5 Node.js \u6216\u8005 npm \u9047\u5230\u56f0\u96be\uff0c\u53ef\u4ee5\u53c2\u8003 Node.js \u7684\u5f15\u5bfc\u6587\u6863\u3002</p>"},{"location":"frontend/react/prepare/#yarn-npm","title":"\u4f7f\u7528 <code>yarn</code> \u4ee3\u66ff <code>npm</code>","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u9879\uff0c\u5728\u5b9e\u9645\u5de5\u7a0b\u4e4b\u4e2d\u4e24\u8005\u5e76\u6ca1\u6709\u672c\u8d28\u4e0a\u7684\u5dee\u522b\u3002\u4e0e\u5e38\u7528\u7684 <code>npm</code> \u76f8\u6bd4\uff0c<code>yarn</code> \u5927\u591a\u60c5\u51b5\u4e0b\u5177\u6709\u66f4\u5feb\u7684\u4e0b\u8f7d\u901f\u5ea6\u548c\u66f4\u4e3a\u6e05\u6670\u7684\u547d\u4ee4\u884c\u8f93\u51fa\u3002\u6240\u4ee5\u6211\u4eec\u66f4\u52a0\u63a8\u8350\u4f7f\u7528 <code>yarn</code>\u3002</p> <p>\u8fd9\u91cc\u4e0d\u5177\u4f53\u53d9\u8ff0\u5b89\u88c5\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u53c2\u8003 \u5b98\u7f51 \u4e0a\u7ed9\u51fa\u7684\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>npm install yarn -g</code> \u547d\u4ee4\u5b89\u88c5\uff08\u540e\u8005\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e Linux \u7528\u6237\uff09\u3002</p> <p><code>yarn</code> \u7684\u547d\u4ee4\u548c <code>npm</code> \u7684\u547d\u4ee4\u5927\u81f4\u5177\u6709\u4ee5\u4e0b\u5bf9\u5e94\u5173\u7cfb\uff0c\u66f4\u7ec6\u8282\u7684\u5173\u7cfb\u5219\u53ef\u4ee5\u53c2\u8003 npm \u7684\u5f15\u5bfc\u6587\u6863\uff1a</p> <code>npm</code> <code>yarn</code> \u5b89\u88c5\u6307\u5b9a\u7b2c\u4e09\u65b9\u5e93 <code>npm install react --save</code> <code>yarn add react</code> \u79fb\u9664\u6307\u5b9a\u7b2c\u4e09\u65b9\u5e93 <code>npm uninstall react --save</code> <code>yarn remove react</code> \u5f00\u53d1\u6a21\u5f0f\u4e0b\u5b89\u88c5 <code>npm install react --save-dev</code> <code>yarn add react --dev</code>"},{"location":"frontend/react/prepare/#typescript","title":"\u5b89\u88c5 TypeScript","text":"<p>TypeScript \u662f JavaScript \u7684\u8d85\u96c6\u3002\u7b80\u800c\u8a00\u4e4b\uff0cTypeScript \u5c31\u662f\u5e26\u6709\u7c7b\u578b\u7cfb\u7edf\u7684 JavaScript\u3002TypeScript \u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u88ab\u7f16\u8bd1\u4e3a JavaScript \u4ee3\u7801\u5e76\u6267\u884c\u3002</p> <p>\u5b89\u88c5 TypeScript \u662f\u7b80\u5355\u7684\uff1a</p> <pre><code># yarn\nyarn global add typescript\n\n# npm\nnpm install -g typescript\n</code></pre> <p>\u5b89\u88c5\u540e\u53ef\u4ee5\u5728\u67d0\u4e00\u76ee\u5f55\u4e0b\u65b0\u5efa <code>hello.ts</code> \u6587\u4ef6\uff0c\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>let a: string = \"Hello world!\";\nconsole.log(a);\n</code></pre> <p>\u5e76\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6267\u884c\uff1a</p> <pre><code>tsc hello.ts\n</code></pre> <p>\u5982\u679c\u5b89\u88c5\u987a\u5229\uff0c\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u5e94\u5f53\u4f1a\u51fa\u73b0\u7f16\u8bd1\u751f\u6210\u7684 <code>hello.js</code> \u6587\u4ef6\uff0c\u4f7f\u7528\u547d\u4ee4 <code>node hello.js</code> \u5e94\u5f53\u5c31\u53ef\u4ee5\u770b\u5230\u547d\u4ee4\u884c\u8f93\u51fa\u7684\u95ee\u5019\u8bed\u3002</p>"},{"location":"frontend/react/prepare/#react-react","title":"\u5b89\u88c5 React \u6846\u67b6 &amp; \u521b\u5efa React \u5e94\u7528","text":"<p>React \u6846\u67b6\u7684\u5b89\u88c5\u53ef\u4ee5\u901a\u8fc7\u811a\u624b\u67b6 <code>create-react-app</code> \u5b8c\u6210\uff0c\u4e00\u822c\u800c\u8a00\u5b89\u88c5\u6846\u67b6\u8fd9\u4e00\u8fc7\u7a0b\u53ef\u4ee5\u96c6\u6210\u5728\u521b\u5efa\u5e94\u7528\u7684\u8fc7\u7a0b\u4e2d\u5b8c\u6210\u3002</p> <p>\u8fdb\u5165\u5230\u4f60\u60f3\u8981\u521b\u5efa\u5e94\u7528\u7684\u76ee\u5f55\u4e0b\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code># npm 5.2+\nnpm install create-react-app -g\nnpx create-react-app &lt;app-path&gt; --template typescript\n\n# yarn 0.25+\nyarn global add create-react-app\nyarn create react-app &lt;app-path&gt; --template typescript\n</code></pre> <p>\u8fd9\u91cc <code>&lt;app-path&gt;</code> \u662f\u4f60\u7684\u5e94\u7528\u7684\u76ee\u5f55\u7684\u8def\u5f84\u3002\u8fd9\u4e9b\u547d\u4ee4\u4f1a\u521b\u5efa\u4e00\u4e2a\u4f7f\u7528 TypeScript \u5f00\u53d1\u7684 React \u5e94\u7528\uff0c\u5e76\u5b89\u88c5 React \u6846\u67b6\u3002</p> <p>\u5982\u679c\u5b89\u88c5\u987a\u5229\uff0c\u4f7f\u7528\u547d\u4ee4\uff1a</p> <pre><code># npm\nnpm run start\n\n# yarn\nyarn start\n</code></pre> <p>\u5373\u53ef\u7f16\u8bd1\u6574\u4e2a\u5e94\u7528\uff0c\u968f\u540e\u5e94\u5f53\u5c31\u53ef\u4ee5\u901a\u8fc7\u672c\u5730 3000 \u7aef\u53e3\u8bbf\u95ee\u5230 React \u7684\u6b22\u8fce\u754c\u9762\u4e86\u3002</p> <p>\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u6846\u67b6</p> <p>\u4e3a\u4e86\u66f4\u597d\u5730\u9605\u8bfb\u672c\u6587\u6863\uff0c\u6211\u4eec\u63a8\u8350\u4e0b\u8f7d\u6211\u4eec\u63d0\u4f9b\u7684\u7b80\u5316\u7248 React \u6846\u67b6\u3002\u6211\u4eec\u63d0\u4f9b\u7684\u6846\u67b6\u4e2d\u4ec5\u4fdd\u7559\u4e86\u6700\u57fa\u7840\u3001\u6700\u5fc5\u8981\u7684\u4ee3\u7801\u6587\u4ef6\u3002</p> <p>\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u6846\u67b6\u4e4b\u524d\uff0c\u6211\u4eec\u5e0c\u671b\u4f60\u5df2\u7ecf\u901a\u8fc7\u4e0a\u8ff0\u6b65\u9aa4\u6210\u529f\u521d\u59cb\u5316\u4e86\u4e00\u4e2a\u65b0\u7684 React \u5e94\u7528\u5e76\u80fd\u591f\u5728 3000 \u7aef\u53e3\u8bbf\u95ee\u5230\u6b22\u8fce\u754c\u9762\u3002\u5982\u679c\u5df2\u7ecf\u786e\u8ba4\u521d\u59cb\u5316\u6210\u529f\uff0c\u53ef\u4ee5\u901a\u8fc7 \u8be5\u94fe\u63a5 \u4e0b\u8f7d\u538b\u7f29\u5305\uff0c\u8bf7\u5728\u89e3\u538b\u540e\u4f7f\u7528\u538b\u7f29\u5305\u5185\u7684 <code>src</code> \u6587\u4ef6\u5939\u66ff\u6362\u4f60\u7684 React \u5e94\u7528\u7684 <code>src</code> \u6587\u4ef6\u5939\uff0c\u5e76\u518d\u6b21\u4f7f\u7528 <code>npm run start</code> \u6216\u8005 <code>yarn start</code> \u547d\u4ee4\u8fd0\u884c React \u5e94\u7528\u3002</p> <p>\u5982\u679c\u4f60\u73b0\u5728\u80fd\u591f\u5728 3000 \u7aef\u53e3\u8bbf\u95ee\u5230\u4e00\u4e2a\u5199\u6709 <code>Hello, React!</code> \u5b57\u6837\u7684\u9875\u9762\uff0c\u5219\u5df2\u7ecf\u5b8c\u6210\u4e86\u914d\u7f6e\u3002</p>"},{"location":"frontend/react/prepare/#_3","title":"\u4ee3\u7801\u683c\u5f0f\u5316","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u9879\uff0c\u4f46\u662f\u6211\u4eec\u8ba4\u4e3a\u5f00\u53d1\u8f83\u5927\u5de5\u7a0b\u7684\u65f6\u5019\uff0c\u5c24\u5176\u662f\u9700\u8981\u591a\u4eba\u534f\u4f5c\u7684\u65f6\u5019\uff0c\u7edf\u4e00\u7684\u7801\u98ce\u662f\u5fc5\u8981\u7684\u3002</p> <p>\u5373\u4f7f\u6bcf\u4e2a\u4eba\u90fd\u53ef\u4ee5\u6709\u81ea\u5df1\u4e60\u60ef\u7684\u7f16\u5199\u98ce\u683c\uff0c\u4f46\u4e3a\u4e86\u5176\u4ed6\u4eba\u9605\u8bfb\u65b9\u4fbf\uff0c\u5728\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u5e94\u8be5\u4f7f\u7528\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\u7edf\u4e00\u7801\u98ce\u3002\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e24\u79cd\u5e38\u7528\u7684\u683c\u5f0f\u5316\u5de5\u5177\u3002</p>"},{"location":"frontend/react/prepare/#eslint","title":"ESLint","text":"<p>\u5728\u5e94\u7528\u76ee\u5f55\u4e0b\u6267\u884c\u4e0b\u5217\u547d\u4ee4\uff0c\u5373\u53ef\u521d\u6b65\u914d\u7f6e\u4e00\u4e2a ESLint\uff1a</p> <pre><code># npm\nnpm install eslint --save-dev\n./node_modules/.bin/eslint --init\n\n# yarn\nyarn add eslint --dev\nyarn eslint --init\n</code></pre> <p>\u6267\u884c\u7b2c\u4e8c\u6761\u547d\u4ee4\u540e\uff0cESLint \u4f1a\u8be2\u95ee\u4f60\u7684\u914d\u7f6e\u3002\u5bf9\u4e8e\u524d\u51e0\u4e2a\u95ee\u9898\u6211\u4eec\u5efa\u8bae\u9009\u62e9\u201c\u5f3a\u5236\u8c03\u6574\u7801\u98ce\u201d \u201c\u4f7f\u7528 JavaScript modules(import/export) \u201d \u201c\u4f7f\u7528 React \u6846\u67b6\u201d \u201c\u4f7f\u7528 TypeScript \u201d \u201c\u5728\u6d4f\u89c8\u5668\u4e0a\u8fd0\u884c\u4ee3\u7801\u201d\u3002</p> <p>\u540e\u7eed\u5219\u662f\u5bf9\u5177\u4f53\u7801\u98ce\u89c4\u5219\u7684\u914d\u7f6e\uff0c\u4f60\u53ef\u4ee5\u56de\u7b54\u5177\u4f53\u95ee\u9898\u6216\u9009\u62e9\u4f7f\u7528\u6a21\u677f\uff0c\u4e5f\u53ef\u4ee5\u6682\u4e14\u4e0d\u56de\u7b54\u800c\u9009\u62e9\u540e\u7eed\u624b\u52a8\u914d\u7f6e <code>.eslintrc</code> \u6587\u4ef6\u4e2d\u7684\u7801\u98ce\u89c4\u5219\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u4e00\u952e\u8c03\u6574\u7801\u98ce\uff0c\u6bd4\u5982\u8bf4\u7ec8\u7aef\u6267\u884c <code>yarn fix</code> \u5c31\u53ef\u4ee5\u4fee\u590d\u6240\u6709\u6e90\u4ee3\u7801\u7684\u7801\u98ce\u3002\u73b0\u5728\u6253\u5f00 <code>package.json</code> \u6587\u4ef6\uff0c\u53ef\u4ee5\u6ce8\u610f\u5230\u8fd9\u6837\u7684\u4e00\u6bb5\uff1a</p> <pre><code>\"scripts\": {\n  \"start\": \"react-scripts start\",\n  \"build\": \"react-scripts build\",\n  \"test\": \"react-scripts test\",\n  \"eject\": \"react-scripts eject\"\n}\n</code></pre> <p>\u5728\u6700\u540e\u6dfb\u52a0\u4e00\u884c\uff1a</p> <pre><code>\"scripts\": {\n  ...\n  \"fix\": \"./node_modules/.bin/eslint src --ext .js,.jsx,.ts,.tsx --fix\"\n}\n</code></pre> <p>\u8fd9\u4e00\u884c\u7684\u610f\u601d\u662f\u6267\u884c <code>yarn fix</code> \u7684\u65f6\u5019\u4f1a\u4f7f\u7528 ESLint \u5c06 <code>src</code> \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6269\u5c55\u540d\u4e3a <code>js / jsx / ts / tsx</code> \u7684\u6587\u4ef6\u4fee\u590d\u7801\u98ce\u3002</p> <p>\u4e0d\u8fc7\u8981\u6ce8\u610f\u7684\u662f\uff0c\u81ea\u52a8\u4fee\u590d\u80fd\u529b\u6709\u9650\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u65f6\u5019\u8fd8\u9700\u8981\u624b\u52a8\u5bf9\u6587\u4ef6\u8fdb\u884c\u4e00\u4e9b\u8c03\u6574\u3002\u81ea\u52a8\u4fee\u590d\u4e5f\u6709\u53ef\u80fd\u4f1a\u51fa\u9519\uff0c\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u81ea\u5df1\u624b\u52a8\u6dfb\u52a0\u8ba9 ESLint \u5ffd\u7565\u8fd9\u4e00\u90e8\u5206\u7684\u6ce8\u91ca\u3002</p>"},{"location":"frontend/react/prepare/#prettier","title":"Prettier","text":"<p>\u5728 Node.js \u9879\u76ee\u4e2d\u6dfb\u52a0 Prettier\uff1a</p> <pre><code>yarn add -D prettier\n</code></pre> <p>\u5728 <code>package.json</code> \u4e2d\u6dfb\u52a0\uff1a</p> <pre><code>{\n    \"scripts\": {\n        ...\n        \"fix\": \"prettier --write 'src/**/*{.js,.jsx,.ts,.tsx}'\"\n    }\n}\n</code></pre> <p>\u8fd9\u91cc\u7684\u542b\u4e49\u4e0e ESLint \u76f8\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u6b21\u662f\u7531 Prettier \u5c1d\u8bd5\u4fee\u590d\u7801\u98ce\u3002</p> <p>ESLint \u548c Prettier \u7684\u533a\u522b</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cPrettier \u4ec5\u4ec5\u5c1d\u8bd5\u4fee\u590d\u7801\u98ce\uff0c\u5b83\u6240\u8fdb\u884c\u7684\u4e00\u5207\u4fee\u6539\u5728\u8bed\u6cd5\u4e0a\u90fd\u662f\u7b49\u4ef7\u7684\uff0c\u4e5f\u5373 Prettier \u5e76\u4e0d\u5173\u5fc3\u4ee3\u7801\u7684\u6b63\u786e\u6027\uff0c\u751a\u81f3\u4e0d\u4f1a\u68c0\u67e5\u662f\u5426\u7b26\u5408\u8bed\u6cd5\u89c4\u8303\uff1b\u540c\u65f6 Prettier \u53ef\u4ee5\u914d\u7f6e\u7684\u9879\u76ee\u76f8\u5f53\u5c11\uff0c\u8fd9\u662f\u7531\u4e8e Prettier \u7684\u5f00\u53d1\u8005\u66f4\u5e0c\u671b\u80fd\u5f3a\u5236\u7edf\u4e00\u6807\u51c6\u800c\u975e\u5728\u5177\u4f53 lint \u914d\u7f6e\u4e0a\u9677\u5165\u65e0\u610f\u4e49\u7684\u4e89\u8bba\u3002</p> <p>ESLint \u5728\u68c0\u67e5\u98ce\u683c\u7684\u540c\u65f6\u4e5f\u53ef\u4ee5\u8fdb\u884c\u66f4\u591a\u7684\u8bed\u6cd5\u68c0\u67e5\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u6765\u68c0\u67e5\u66f4\u52a0\u5177\u4f53\u7684\u9519\u8bef\uff0c\u4f8b\u5982 React Hook \u7684\u4e0d\u5f53\u4f7f\u7528\u7b49\uff1b\u76f8\u6bd4\u4e8e Prettier\uff0cESLint \u8fd8\u53ef\u4ee5\u5bf9\u4ee3\u7801\u98ce\u683c\u8fdb\u884c\u66f4\u590d\u6742\u7684\u914d\u7f6e\u3002</p>"},{"location":"frontend/swiftui/","title":"SwiftUI \u4e0e iOS \u5f00\u53d1\u5165\u95e8","text":"<p>SwiftUI \u662f\u7528\u4e8e iOS/macOS/watchOS/tvOS \u7b49\u5e73\u53f0\u7684\u901a\u7528\u539f\u751f UI \u6846\u67b6\uff0c\u4f7f\u7528\uff08\u4e14\u4ec5\u9002\u7528\u4e8e\uff09Swift \u8bed\u8a00\uff0c\u4e8e WWDC19\uff082019 \u5e74\uff09\u63a8\u51fa\uff0c\u652f\u6301 iOS 13.0+\u3001macOS 10.15+ \u7b49\u3002</p> <p>SwiftUI \u57fa\u4e8e\u5404\u5e73\u53f0\u539f\u6709\u7684 UI \u6846\u67b6\u5f00\u53d1\uff0c\u5982 iOS \u7684 UIKit\uff0cmacOS \u7684 AppKit \u7b49\u3002\u76f8\u5bf9\u4e8e\u8fd9\u4e9b\u6846\u67b6\uff0cSwiftUI \u7684\u6982\u5ff5\u66f4\u52a0\u7b80\u5355\uff0c\u4e14\u6784\u5efa\u65b9\u5f0f\u66f4\u52a0\u7b26\u5408\u76f4\u89c9\uff0c\u9010\u6e10\u6210\u4e3a\u5165\u95e8 iOS \u5f00\u53d1\u7684\u9996\u9009\u3002</p> <p>SwiftUI \u5728\u7ecf\u5386\u51e0\u5e74\u7684\u53d1\u5c55\u540e\u5df2\u7ecf\u9010\u6e10\u5b8c\u5584\uff0c\u57fa\u672c\u4e0a\u53ef\u4ee5\u80dc\u4efb\u5c0f\u578b\u5e94\u7528\u7684\u5f00\u53d1\u3002\u4ee4\u4eba\u9057\u61be\u7684\u662f\uff0c\u76ee\u524d\uff082022 \u5e74 1 \u6708\uff09\u7531\u4e8e SwiftUI \u4ecd\u5728\u53d1\u5c55\u521d\u671f\uff0ciOS \u5f00\u53d1\u4e2d\u67d0\u4e9b\u590d\u6742\u7684\u529f\u80fd\u9700\u8981\u4f9d\u8d56 UIKit \u5b9e\u73b0\uff0c\u56e0\u6b64\u53ea\u5b66\u4e60 SwiftUI \u53ef\u80fd\u5e76\u4e0d\u80fd\u591f\u652f\u6301\u67d0\u4e9b\u8f83\u4e3a\u590d\u6742\u5e94\u7528\u7684\u5f00\u53d1\u3002\u672c\u6587\u4ec5\u4ecb\u7ecd\u7eaf SwiftUI \u6846\u67b6\uff0c\u4e0e UIKit \u76f8\u5173\u7684\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003 Stanford CS193p 2020 \u5e74\u4e4b\u524d\u7684\u8bfe\u7a0b\uff082020 \u5e74\u5f00\u59cb\u8be5\u8bfe\u7a0b\u6539\u4e3a SwiftUI\uff09\u3002</p>"},{"location":"frontend/swiftui/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<p>Swift \u8bed\u8a00\u57fa\u672c\u77e5\u8bc6\uff0c\u5efa\u8bae\u5148\u9605\u8bfb Swift \u8bed\u8a00\u57fa\u7840\u3002</p>"},{"location":"frontend/swiftui/#_2","title":"\u73af\u5883\u914d\u7f6e","text":"<p>\u76ee\u524d\u652f\u6301 iOS \u5f00\u53d1\u7684\u5e73\u53f0\u6709 macOS \u548c iPadOS\u3002\u672c\u6559\u7a0b\u57fa\u4e8e iOS 15 SDK\uff0c\u9700\u8981\uff1a</p> <ul> <li>macOS\uff1aXcode 13.0 \u4ee5\u4e0a\u7248\u672c</li> <li>iPadOS\uff1aSwift Playgrounds 4.0 \u4ee5\u4e0a\u7248\u672c</li> </ul> <p>\u672c\u6559\u7a0b\u57fa\u4e8e iPadOS \u4e0a 4.0 \u7248\u672c\u7684 Swift Playgrounds\uff0cmacOS \u4e0a 13.2 \u4ee5\u4e0a\u7248\u672c\u7684 Xcode \u62e5\u6709\u7c7b\u4f3c\u7684\u73af\u5883\u3002\u90e8\u5206\u622a\u5c4f\u5728 Xcode \u4e0b\u83b7\u5f97\u3002</p>"},{"location":"frontend/swiftui/#_3","title":"\u5b66\u4e60\u8d44\u6e90","text":"<p>\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u8d44\u6e90\uff1a</p> <ul> <li>Swift \u5b98\u65b9\u6587\u6863\uff1a\u6743\u5a01\u7684\u8bed\u8a00\u548c\u6807\u51c6\u5e93\u53c2\u8003</li> <li>WWDC Sessions\uff1aWWDC \u4e0a\u5b98\u65b9\u7684 API\u3001\u8bed\u8a00\u7b49\u4ecb\u7ecd</li> <li>Stanford CS193p\uff1a\u65af\u5766\u798f SwiftUI \u8bfe\u7a0b</li> <li>Stack Overflow\uff1a\u641c\u7d22\u65f6\u52a0\u4e0a <code>iOS</code>\u3001<code>Swift</code>\u3001<code>SwiftUI</code> \u7b49\u5173\u952e\u8bcd</li> <li>Hacking with Swift\uff1a\u6bd4\u8f83\u5168\u9762\u7684 Swift \u548c iOS \u5404\u79cd API \u7684\u6559\u7a0b</li> <li>The SwiftUI Lab\uff1a\u5bf9 SwiftUI \u7684\u4e00\u4e9b\u6df1\u5ea6\u63a2\u7d22</li> </ul>"},{"location":"frontend/swiftui/build-views/","title":"\u6784\u5efa View","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5c55\u5f00\u4ecb\u7ecd\u5982\u4f55\u6784\u5efa View\u3002</p>"},{"location":"frontend/swiftui/build-views/#view","title":"View \u7684\u7ec4\u5408\u65b9\u5f0f","text":"<p>\u5728 <code>body</code> \u4e2d\uff0c\u6709\u4e00\u4e9b\u975e\u5e38\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u7ec4\u5408\u4e0d\u540c\u7684 View\u3002\u53e6\u5916\uff0c<code>body</code> \u8fd8\u5bf9\u5176\u4e2d\u7684\u8868\u8fbe\u5f0f\u6709\u4e00\u5b9a\u7684\u9650\u5236\u3002</p>"},{"location":"frontend/swiftui/build-views/#_1","title":"\u7ec4\u5408","text":"<p>\u5728 <code>body</code> \u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u51e0\u79cd\u65b9\u5f0f\u7ec4\u5408\u591a\u4e2a View\uff0c\u4e0d\u9700\u8981\u5199\u51fa <code>return</code>\uff1a</p> <p>\u6761\u4ef6\u63a7\u5236\u8bed\u53e5</p> <p>\u4f60\u53ef\u4ee5\u7528 <code>if-else</code> \u8bed\u53e5\u6709\u6761\u4ef6\u5730\u663e\u793a\u4e0d\u540c\u7684 View\uff1a</p> <pre><code>if type == .text {\n    Text(\"Hello, world!\")\n} else if type == .image {\n    Image(\"hello-world\")\n} else {\n    Color.blue\n}\n</code></pre> <p>\u6216\u8005\uff0c\u53ea\u6709 <code>if</code>\uff1a</p> <pre><code>if revealGrade {\n    Text(student.gpa)\n}\n</code></pre> <p>\u5f53\u7136\uff0c<code>if let</code> \u8bed\u53e5\u4e5f\u662f\u53ef\u4ee5\u7684\uff1a</p> <pre><code>if let npyName = student.npyName {\n    Text(npyName)\n}\n</code></pre> <p>\u4f60\u8fd8\u53ef\u4ee5\u7528 <code>switch</code>\uff1a\uff08\u5b9e\u9645\u4e0a\u7f16\u8bd1\u5668\u5c06\u5176\u8f6c\u5316\u4e3a <code>if-else</code> \u8bed\u53e5\uff09</p> <pre><code>switch type {\ncase .text: Text(\"Hello, world!\")\ncase .image: Image(\"hello-world\")\ndefault: Color.blue\n}\n</code></pre> <p>\u591a\u4e2a View</p> <p>\u4f60\u53ef\u4ee5\u4e00\u6b21\u8fd4\u56de\u591a\u4e2a View\uff0c\u8fd9\u79cd View \u53eb\u505a <code>TupleView</code>\uff1a</p> <pre><code>Text(\"Hello, world!\")\nImage(\"hello-world\")\nColor.blue\n</code></pre> <p>\u4e00\u822c\u8fd9\u79cd <code>TupleView</code> \u591a\u7528\u4e8e View \u7684\u6392\u5217\u3002\u6bd4\u5982\uff0c\u5c06\u51e0\u4e2a View \u5728\u5782\u76f4\u65b9\u5411\u4f9d\u6b21\u6392\u5217\uff1a</p> <pre><code>VStack {\n    Text(\"Hello, world!\")\n    Image(\"hello-world\")\n}\n</code></pre> <p>\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8fdb\u4e00\u6b65\u4ecb\u7ecd View \u7684\u6392\u5217\u3002</p> <p><code>VStack</code> \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570</p> <p>\u4e0a\u9762\u7684 <code>VStack</code> \u4ee5\u53ca\u5927\u62ec\u53f7\u5305\u62ec\u7684\u5185\u5bb9\uff0c\u5b9e\u9645\u4e0a\u662f <code>VStack</code> \u7684\u6784\u9020\u51fd\u6570\u3002\u6839\u636e\u6587\u6863\uff0c<code>VStack</code> \u6784\u9020\u51fd\u6570\u7684\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>init(alignment: HorizontalAlignment = .center, spacing: CGFloat? = nil, content: () -&gt; Content)\n</code></pre> <p>\u6211\u4eec\u524d\u4e24\u4e2a\u53c2\u6570\u4f7f\u7528\u4e86\u63d0\u4f9b\u7684\u9ed8\u8ba4\u503c\uff0c\u6211\u4eec\u63d0\u4f9b\u7684\u5b9e\u9645\u4e0a\u662f\u7b2c\u4e09\u4e2a\u53c2\u6570 <code>content</code>\uff1a\u5b83\u662f\u4e00\u4e2a\u65e0\u53c2\u6570\u3001\u8fd4\u56de\u503c\u4e3a <code>Content</code> \u7684\u533f\u540d\u51fd\u6570\u3002\uff08\u8fd9\u91cc\u7684 <code>Content</code> \u662f <code>VStack</code> \u7684\u6a21\u7248\u53c2\u6570\uff0c\u8868\u793a\u300c\u5185\u5bb9 View \u7684\u7c7b\u578b\u300d\uff09</p> <p>\u5728 Swift \u4e2d\uff0c\u5982\u679c\u51fd\u6570\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u5199\u5230\u62ec\u53f7\u5916\u9762\uff0c\u5e76\u4e14\u7701\u7565\u6807\u7b7e\u3002\u4e0a\u9762 <code>VStack</code> \u7684\u6784\u9020\u51fd\u6570\u5b9e\u9645\u4e0a\u662f\uff1a</p> <pre><code>VStack(content: {\n    Text(\"Hello, world!\")\n    Image(\"hello-world\")\n})\n</code></pre> <p>\u987a\u4fbf\u8bf4\u4e00\u53e5\uff0c<code>content</code> \u7684\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u662f <code>TupleView&lt;(Text, Image)&gt;</code>\uff0c\u5e76\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684 <code>Tuple</code>\u3002</p>"},{"location":"frontend/swiftui/build-views/#_2","title":"\u8868\u8fbe\u5f0f","text":"<p><code>body</code> \u4e0e\u666e\u901a\u51fd\u6570\u4e0d\u540c\uff0c\u5b83\u5bf9\u51fd\u6570\u4f53\u5185\u7684\u5141\u8bb8\u7684\u8868\u8fbe\u5f0f\u6709\u9650\u5236\u3002</p> <p>\u540c\u65f6\u8fdb\u884c\u53d8\u91cf\u7684\u58f0\u660e\u548c\u8d4b\u503c\u662f\u5141\u8bb8\u7684\uff1a</p> <pre><code>var body: some View {\n    let description = x &gt; 127 ? \"overflow\" : \"normal\"\n    Text(description)\n}\n</code></pre> <p>\u4f46 <code>var</code> \u548c <code>let</code> \u7684\u58f0\u660e\u3001\u8d4b\u503c\u8868\u8fbe\u5f0f\u4e0d\u88ab\u5141\u8bb8\uff1a</p> <pre><code>// Error: Closure containing a declaration cannot be used with result builder 'ViewBuilder'\nvar body: some View {\n    var description: String\n    ...\n}\n\n// Error: Type '()' cannot conform to 'View'\nvar body: some View {\n    var description = \"\"\n    description = \"hello\"\n    ...\n}\n</code></pre> <p>\u53e6\u5916\uff0c<code>for</code> \u5faa\u73af\u4e5f\u662f\u4e0d\u88ab\u5141\u8bb8\u7684\u3002\u6211\u4eec\u6709\u53e6\u5916\u7684\u65b9\u6cd5\u8fdb\u884c\u7c7b\u4f3c\u7684\u8fed\u4ee3\u3002</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u7c7b\u578b\u9075\u5faa <code>View</code> \u7684\u503c\uff08\u5982 <code>Text(description)</code>\uff09\u4f1a\u4f5c\u4e3a\u90e8\u5206\u7ed3\u679c\uff08partial result\uff09\u9012\u5f52\u5730\u53c2\u4e0e <code>body</code> \u6700\u540e\u7ed3\u679c\u7684\u8ba1\u7b97\uff0c\u800c\u5176\u4f59\u5141\u8bb8\u7684\u8868\u8fbe\u5f0f\uff08\u5982 <code>let description = x &gt; 127 ? \"overflow\" : \"normal\"</code>\uff09\u5728\u8ba1\u7b97 <code>body</code> \u7684\u503c\u7684\u65f6\u5019\u4f1a\u88ab\u5ffd\u7565\u3002</p> <p>\u7b80\u5355\u4ecb\u7ecd <code>ViewBuilder</code></p> <p>\u5b9e\u9645\u4e0a\uff0c<code>body</code> \u4e4b\u6240\u4ee5\u80fd\u591f\u6709\u8fd9\u4e9b\u7279\u6027\uff0c\u662f\u56e0\u4e3a <code>body</code> \u6709\u9690\u5f0f\u7684 <code>@ViewBuilder</code> \u4fee\u9970\uff1a</p> <pre><code>protocol View {\n    associatedtype Body: View\n    @ViewBuilder var body: Body { get }\n}\n</code></pre> <p>\u88ab <code>@ViewBuilder</code> \u4fee\u9970\u7684\u51fd\u6570\uff0c\u4e0d\u4f7f\u7528\u663e\u5f0f\u7684 <code>return</code> \u6765\u8fd4\u56de\uff0c\u800c\u662f\u901a\u8fc7\u201c\u6536\u96c6\u201d\u51fd\u6570\u4f53\u4e2d\u7684<code>View</code> \u6765\u6784\u5efa\u6700\u7ec8\u7684\u8fd4\u56de\u503c\u3002\u6bd4\u5982\uff1a</p> <pre><code>let greeting = \"Hello\"\nText(greeting)\nColor.blue\n</code></pre> <p>\u7f16\u8bd1\u5668\u201c\u6536\u96c6\u201d\u5230\u4e24\u4e2a View\uff1a<code>Text</code> \u548c <code>Color</code>\uff08\u5ffd\u7565 <code>let greeting = \"Hello\"</code>\uff09\u3002\u63a5\u7740\uff0c\u8c03\u7528 <code>ViewBuilder</code> \u7684\u4e00\u4e2a\u6784\u5efa View \u7684\u51fd\u6570\uff1a</p> <pre><code>static func buildBlock&lt;C0, C1&gt;(_ c0: C0, _ c1: C1) -&gt; TupleView&lt;(C0, C1)&gt; where C0 : View, C1 : View\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a <code>View</code> \u4f5c\u4e3a\u53c2\u6570\uff0c\u6700\u7ec8\u751f\u6210\u5355\u4e2a\u8fd4\u56de\u503c <code>TupleView&lt;(Text, Color)&gt;</code>\u3002</p> <p>\u5176\u4ed6\u7684\u7279\u6027\uff0c\u6bd4\u5982 <code>if-else</code> \u8bed\u53e5\uff0c\u90fd\u662f\u7531\u7c7b\u4f3c\u7684\u673a\u5236\u6765\u5b9e\u73b0\u7684\u3002\u4e0d\u96be\u7406\u89e3\uff0c\u53ea\u8981\u4e0d\u65ad\u9012\u5f52\u5730\u5c06 View \u5408\u5e76\uff0c\u6700\u7ec8\u5c31\u80fd\u751f\u6210\u4e00\u4e2a\u5355\u4e00\u7684\u8fd4\u56de\u503c\u3002</p> <p><code>ViewBuilder</code> \u7684\u673a\u5236\u5b9e\u9645\u4e0a\u662f\u901a\u8fc7\u4e00\u79cd\u53eb result builder \u7684\u8bed\u6cd5\u5b9e\u73b0\u7684\u3002\u5982\u679c\u611f\u5174\u8da3\u53ef\u4ee5\u53c2\u8003 SE0289: Result builders\u3002</p>"},{"location":"frontend/swiftui/build-views/#view_1","title":"\u4e00\u4e9b\u5e38\u7528\u7684 View","text":"<p>\u6211\u4eec\u7ec8\u4e8e\u57fa\u672c\u4ecb\u7ecd\u5b8c\u76f8\u5173\u7684\u8bed\u6cd5\u89c4\u5219\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u5229\u7528\u5404\u79cd\u539f\u751f\u7684 View \u6765\u6784\u5efa\u6211\u4eec\u7684 UI \u4e86\u3002\u5728\u8fd9\u91cc\u53ea\u4f1a\u4ecb\u7ecd\u5404\u79cd View \u6700\u57fa\u672c\u7684\u7528\u6cd5\uff0c\u5176\u4f59\u7528\u6cd5\u8bf7\u53c2\u8003\u5f00\u53d1\u8005\u6587\u6863\u3002</p> <p>\u4f60\u6700\u597d\u4eb2\u81ea\u5c1d\u8bd5\u4e00\u4e0b\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u5e76\u5728\u9884\u89c8\u6a21\u5f0f\u4e2d\u5b9e\u65f6\u67e5\u770b\u3002</p>"},{"location":"frontend/swiftui/build-views/#_3","title":"\u7ec4\u4ef6","text":"<p>\u53ea\u8bfb\u6587\u672c <code>Text</code></p> <p>\u7528\u4e8e\u663e\u793a\u53ea\u8bfb\u6587\u672c\u3002</p> <p>\u4f60\u53ef\u4ee5\u4ece\u5b57\u7b26\u4e32\u521b\u5efa\uff1a</p> <pre><code>Text(\"Hello, world!\")\n\nlet string = \"Hello, world!\"\nText(string)\n</code></pre> <p>\u7ed3\u679c\u4e3a\uff1a</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u7528 Markdown \u5b57\u7b26\u4e32\u521b\u5efa\u5e26\u683c\u5f0f\u7684\u6587\u672c\u3002\u6ce8\u610f\u53ea\u6709\u5b57\u9762\u503c\u80fd\u591f\u76f4\u63a5\u6e32\u67d3\u4e3a Markdown \u683c\u5f0f\uff0c\u5bf9\u4e8e\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u8981 <code>AttributedString</code>\uff1a</p> <pre><code>Text(\"Hello, *world*!\")\n\nlet string = \"Hello, *world*!\"\nlet attrStr = try! AttributedString(markdown: string)\nText(attrStr)\n</code></pre> <p>\u7ed3\u679c\u4e3a\uff1a</p> <p></p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>.font(_:)</code>\u3001<code>.foregroundColor(_:)</code>\u3001<code>.italic(_:)</code> \u7b49 modifier \u6539\u53d8\u5b57\u4f53\u3001\u989c\u8272\u7b49\uff1a</p> <pre><code>Text(\"Hello, world!\")\n    .font(.system(size: 24, weight: .bold, design: .serif))\n    .italic()\n    .foregroundColor(.blue)\n    .underline()\n</code></pre> <p>\u6700\u7ec8\u7684\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u6700\u540e\uff0c\u503c\u5f97\u4e00\u63d0\u7684\u662f <code>Text</code> \u7684\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff0c\u5b83\u53ef\u4ee5\u5c06\u4e24\u4e2a\u6837\u5f0f\u4e0d\u540c\u7684 <code>Text</code> \u62fc\u63a5\u5728\u4e00\u8d77\uff1a</p> <pre><code>let start = Text(\"L\").bold().font(.title)\nlet remaining = Text(\"orem ipsum dolor sit amet, consectetur adipiscing elit....\")\n\nstart + remaining\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u56fe\u7247 <code>Image</code></p> <p>\u663e\u793a\u56fe\u6807\u6216\u8d44\u6e90\u6587\u4ef6\u56fe\u7247\u3002</p> <p>\u6dfb\u52a0\u56fe\u7247\u8d44\u6e90\u7684\u65b9\u6cd5</p> <ul> <li>Swift Playgrounds\uff1a\u5c06\u56fe\u7247\u62d6\u52a8\u5230\u6587\u4ef6\u76ee\u5f55\u4e2d</li> <li>Xcode Project\uff1a\u5c06\u56fe\u7247\u62d6\u52a8\u5230 <code>Assets.xcassets</code> \u4e2d\u3002</li> </ul> <p>\u4f7f\u7528 <code>Image(systemName:)</code> \u663e\u793a\u7cfb\u7edf\u56fe\u6807\uff1a</p> <pre><code>Image(systemName: \"swift\")\n</code></pre> <p>\u7ed3\u679c\u4e3a\uff1a</p> <p></p> <p>Info</p> <p>\u5173\u4e8e\u7cfb\u7edf\u5185\u7f6e\u56fe\u6807\u7684\u67e5\u8be2\uff0c\u8bf7\u53c2\u8003 SF Symbols\u3002</p> <p>\u4f7f\u7528 <code>Image(_:)</code> \u663e\u793a\u8d44\u6e90\u6587\u4ef6\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u5982\u4e0b\u56fe\u7684\u540d\u4e3a <code>wwdc21</code> \u7684\u56fe\u7247\u6587\u4ef6\uff1a</p> <p></p> <p>\u4ee5\u4e0b\u51e0\u79cd\u4e0d\u540c\u7684\u4ee3\u7801\u4f1a\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c\uff1a</p> <pre><code>// Case 1\nImage(\"wwdc21\")\n\n// Case 2\nImage(\"wwdc21\")\n    .resizable()\n\n// Case 3\nImage(\"wwdc21\")\n    .resizable()\n    .aspectRatio(contentMode: .fit)\n\n// Case 4\nImage(\"wwdc21\")\n    .resizable()\n    .aspectRatio(contentMode: .fill)\n</code></pre> Case 1 Case 2 Case 3 Case 4 \u56fe\u7247\u539f\u6709\u5c3a\u5bf8 \u5360\u6ee1\u53ef\u83b7\u5f97\u7684\u7a7a\u95f4 \u6309\u539f\u6709\u6bd4\u4f8b\u9002\u5408\u7a7a\u95f4 \u6309\u539f\u6709\u6bd4\u4f8b\u5360\u6ee1\u7a7a\u95f4 <p>\u4e00\u4e2a <code>Image</code> \u5982\u679c\u4e0d\u52a0\u4e0a <code>.resizable()</code> \u7684\u8bdd\u53ea\u4f1a\u6309\u7167\u56fa\u6709\u50cf\u7d20\u663e\u793a\uff0c\u53ea\u6709\u52a0\u4e0a <code>.resizable()</code> \u624d\u80fd\u8fdb\u884c\u7f29\u653e\u3002<code>.aspectRatio(_:contentMode:)</code> \u4f7f\u5f97 <code>Image</code> \u80fd\u591f\u6839\u636e\u53ef\u7528\u7a7a\u95f4\u548c\u957f\u5bbd\u6bd4\u8fdb\u884c\u7f29\u653e\u3002</p> <p><code>Image</code> \u7684\u5e03\u5c40\u6027\u8d28</p> <p>\u6ce8\u610f\uff0c<code>Image</code> \u6240\u5360\u7684\u7a7a\u95f4\u53ef\u80fd\u4f1a\u8d85\u51fa\u53ef\u7528\u7684\u7a7a\u95f4\u3002\u5bf9\u4e8e\u4e0a\u9762\u7684 Case 4\uff0c\u5728 Xcode \u9884\u89c8\u4e2d\u9009\u4e2d\u56fe\u7247\uff0c\u53ef\u4ee5\u770b\u5230\u5176\u5927\u5c0f\uff1a</p> <p></p> <p>\u8fd9\u79cd\u6027\u8d28\u5728\u5f88\u591a\u5730\u65b9\u4f1a\u6709\u610f\u60f3\u4e0d\u5230\u7684\u6548\u679c\uff0c\u5982\u5373\u5c06\u4ecb\u7ecd\u7684 <code>ZStack</code>\u3002\u5982\u679c\u9700\u8981\u5c06\u56fe\u7247\u9650\u5236\u5728\u53ef\u7528\u7a7a\u95f4\u5185\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>Color</code>\uff0c\u5b83\u4ec5\u5360\u636e\u6240\u6709\u53ef\u7528\u7a7a\u95f4\uff1a</p> <pre><code>Color.clear.overlay {\n    Image(\"wwdc21\")\n        .resizable()\n        .aspectRatio(contentMode: .fill)\n}\n</code></pre> <p>\u56fe\u6807 &amp; \u6587\u5b57 <code>Label</code></p> <p>\u663e\u793a\u56fe\u6807\u548c\u6587\u5b57\u3002</p> <pre><code>Label(\"Swift Programming Language\", systemImage: \"swift\")\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u7528 <code>.font(_:)</code> \u4fee\u6539\u5176\u5b57\u4f53\u3002</p> <p><code>Label</code> \u7684\u7279\u6b8a\u4e4b\u5904</p> <p><code>Label</code> \u76f8\u8f83\u4e8e\u666e\u901a\u7684\u5de6\u53f3\u6392\u5e03\uff08\u63a5\u4e0b\u6765\u8981\u4ecb\u7ecd\u7684 <code>HStack</code>\uff09\u7684\u7279\u6b8a\u4e4b\u5904\u5728\u4e8e\uff0c\u5728\u67d0\u4e9b\u7cfb\u7edf\u539f\u751f\u7684\u6392\u5217\u4e2d\uff0c\u591a\u4e2a <code>Label</code> \u7684\u56fe\u6807\u548c\u6587\u5b57\u4f1a\u81ea\u52a8\u5bf9\u9f50\u3002</p> <p>\u6309\u94ae <code>Button</code></p> <p>\u6309\u94ae\u3002</p> <p>\u6587\u5b57\u6309\u94ae\uff1a</p> <pre><code>Button(\"Button\") {\n    print(\"Button pressed\")\n}\n</code></pre> <p>\u4ee5\u4e00\u4e2a View \u4f5c\u4e3a\u6309\u94ae\uff1a</p> <pre><code>Button(action: { print(\"Button pressed\") }) {\n    Image(systemName: \"swift\")\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e5f\u53ef\u4ee5\u5199\u6210\uff1a</p> <pre><code>Button {\n    print(\"Button pressed\")\n} label: {\n    Image(systemName: \"swift\")\n}\n</code></pre> <p>Multiple Trailing Closures</p> <p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u6700\u540e\u82e5\u5e72\u4e2a\u53c2\u6570\u5747\u4e3a\u51fd\u6570\uff0c\u5982\uff1a</p> <pre><code>func foo(para1: Int, func1: () -&gt; Void, func2: () -&gt; Void, func3: (Int) -&gt; Void)\n</code></pre> <p>\u90a3\u4e48\uff0c\u8c03\u7528\u65f6\u8fd9\u4e9b\u51fd\u6570\u53c2\u6570\u53ef\u4ee5\u5199\u5230\u5c0f\u62ec\u53f7\u5916\u9762\uff0c\u7b2c\u4e00\u4e2a\u53ef\u4ee5\u7701\u7565\u6807\u7b7e\uff0c\u5176\u4f59\u9700\u8981\u52a0\u4e0a\u6807\u7b7e\uff1a</p> <pre><code>foo(para1: 127) {\n    // func1 goes here\n} func2: {\n    // func2 goes here\n} func3: { value in\n    // func3 goes here\n}\n</code></pre> <p>\u8fd9\u79cd\u5199\u6cd5\u662f Swift \u4e2d\u4e00\u79cd\u53eb multiple trailing closures \u7684\u8bed\u6cd5\uff0c\u8be6\u89c1\u5b98\u65b9\u6587\u6863\u3002\u8fd9\u79cd\u5199\u6cd5\u80fd\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u6211\u4eec\u4e4b\u540e\u4f1a\u5c3d\u91cf\u91c7\u7528\u8fd9\u79cd\u5199\u6cd5\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>.buttonStyle(_:)</code> \u6765\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u4e00\u4e9b\u6837\u5f0f\uff1a</p> <pre><code>Button(\"Button\") {\n    print(\"Button pressed\")\n}\n.buttonStyle(.bordered)\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u83dc\u5355 <code>Menu</code></p> <p>\u521b\u5efa\u70b9\u51fb\u663e\u793a\u7684\u83dc\u5355\u3002</p> <pre><code>Menu(\"Actions\") {\n    Button(\"Duplicate\", action: {...})\n    Button(\"Rename\", action: {...})\n    Button(\"Delete\u2026\", role: .destructive, action: {...})\n    Divider()\n    Menu(\"Copy\") {\n        Button(\"Copy\", action: {...})\n        Button(\"Copy Formatted\", action: {...})\n        Button(\"Copy Library Path\", action: {...})\n    }\n}\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a <code>Menu</code> \u4e2d\u5185\u5d4c\u53e6\u4e00\u7ea7 <code>Menu</code>\u3002</p> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u53e6\u5916\uff0c\u53ef\u4ee5\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u7ed9\u4efb\u4f55 View \u6dfb\u52a0\u957f\u6309\u83dc\u5355\uff1a</p> <pre><code>Image(systemName: \"swift\")\n    .contextMenu {\n        Button(\"Duplicate\", action: {...})\n        Button(\"Rename\", action: {...})\n        ...\n    }\n</code></pre>"},{"location":"frontend/swiftui/build-views/#_4","title":"\u5e03\u5c40\u4e0e\u6392\u5217","text":"<p>\u6c34\u5e73\u5e03\u5c40 <code>HStack</code></p> <p>\u6c34\u5e73\u5e03\u5c40\u3002</p> <pre><code>HStack {\n    Text(\"Left\")\n    Text(\"Middle\")\n    Text(\"Right\")\n}\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u53e6\u5916\uff0c<code>HStack</code> \u8fd8\u6709\u4e24\u4e2a\u53ef\u9009\u53c2\u6570 <code>alignment</code> \u548c <code>spacing</code>\uff0c\u7528\u4e8e\u8bbe\u7f6e\u5bf9\u9f50\u548c\u95f4\u8ddd\u3002\u6bd4\u5982\uff0c<code>HStack(alignment: .top, spacing: 20)</code> \u5c06\u4f7f\u5b50 View \u5728\u9876\u90e8\u5bf9\u9f50\uff0c\u4e24\u4e24\u4e4b\u95f4\u7684\u95f4\u8ddd\u4e3a <code>20</code>\u3002</p> <p>\u4e0d\u540c View \u5177\u6709\u4e0d\u540c\u7684\u5e03\u5c40\u7279\u6027</p> <p>\u6ce8\u610f\u5230\uff0c\u4e09\u4e2a <code>Text</code> \u5e76\u6ca1\u6709\u5360\u6ee1\u6240\u6709\u6240\u6709\u7a7a\u95f4\uff0c\u800c\u662f\u53ea\u5360\u636e\u4e86\u6240\u9700\u8981\u7684\u6700\u5c0f\u7a7a\u95f4\uff0c\u8fd9\u662f\u7531 <code>Text</code> \u7684\u5e03\u5c40\u7279\u6027\u51b3\u5b9a\u7684\u3002\u4e0e\u4e4b\u76f8\u5bf9\uff0c<code>Color</code> \u5c06\u5c3d\u53ef\u80fd\u5360\u636e\u591a\u7684\u7a7a\u95f4\uff1a</p> <pre><code>HStack {\n    Color.red\n    Color.orange\n    Color.yellow\n}\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u4e0d\u540c\u7684\u5e03\u5c40\u7279\u6027\u5bf9\u6211\u4eec\u6392\u5e03\u591a\u4e2a View \u6709\u91cd\u8981\u5f71\u54cd\u3002</p> <p>\u9650\u4e8e\u7bc7\u5e45\uff0c\u8fd9\u90e8\u5206\u5185\u5bb9\u65e0\u6cd5\u5c55\u5f00\u53d9\u8ff0\u3002\u603b\u7684\u6765\u8bf4\uff0c\u539f\u751f View \u6709\u5982\u4e0b\u4e24\u7c7b\u5e03\u5c40\u7279\u6027\uff1a</p> <ul> <li>\u4ec5\u5360\u9700\u8981\u7684\u7a7a\u95f4\uff0c\u5982 <code>Text</code>\u3001<code>Label</code></li> <li>\u5360\u636e\u5c3d\u53ef\u80fd\u591a\u7684\u7a7a\u95f4\uff0c\u5982 <code>Color</code>\u3001<code>Spacer</code>\u3001<code>VStack</code> \u7b49</li> </ul> <p>\u901a\u8fc7 <code>fixedSize</code>\u3001<code>layoutPriority</code>\u3001<code>frame</code> \u7b49 modifier\uff0c\u53ef\u4ee5\u66f4\u6539 View \u7684\u5e03\u5c40\u7279\u6027\uff0c\u5728\u6b64\u4e0d\u518d\u5c55\u5f00\u3002</p> <p>\u5782\u76f4\u5e03\u5c40 <code>VStack</code></p> <p>\u5782\u76f4\u5e03\u5c40\uff0c\u4e0e <code>HStack</code> \u7c7b\u4f3c\u3002</p> <pre><code>VStack {\n    Text(\"Top\")\n    Text(\"Middle\")\n    Text(\"Bottom\")\n}\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u4e0a\u4e0b\u5e03\u5c40 <code>ZStack</code></p> <p>\u4e0a\u4e0b\u5e03\u5c40\uff0c\u5148\u5199\u7684 View \u6392\u5e03\u5728\u5e95\u5c42\u3002</p> <pre><code>ZStack {\n    Color.yellow\n    Text(\"Overlay\")\n}\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u4e0e <code>HStack</code> \u548c <code>VStack</code> \u7c7b\u4f3c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u51fd\u6570\u4e2d\u7684 <code>alignment</code> \u53c2\u6570\u6307\u5b9a\u8fd9\u4e9b View \u5bf9\u9f50\u7684\u65b9\u5f0f\u3002</p> <p><code>ZStack</code> \u548c <code>.overlay(_:)</code></p> <p>\u6211\u4eec\u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u65b9\u5f0f\u8fdb\u884c View \u7684\u5c42\u53e0\uff1a</p> <pre><code>Color.yellow\n    .overlay {\n        Text(\"Overlay\")\n    }\n</code></pre> <p>\u770b\u4e0a\u53bb\u4e0e <code>ZStack</code> \u5e76\u65e0\u4e8c\u81f4\uff0c\u5176\u5b9e\u4e0d\u7136\u3002\u6211\u4eec\u7528 <code>.frame()</code> \u663e\u793a\u5730\u6307\u5b9a <code>Color.yellow</code> \u7684\u957f\u5bbd\uff0c\u6765\u6bd4\u8f83\u4e00\u4e0b\u8fd9\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <pre><code>// ZStack\nZStack {\n    Color.yellow\n        .frame(width: 40, height: 25)\n    Text(\"Overlay\")\n}\n\n// overlay\nColor.yellow\n    .frame(width: 40, height: 25)\n    .overlay {\n        Text(\"Overlay\")\n    }\n</code></pre> <p>\u6548\u679c\u5206\u522b\u4e3a\uff1a</p> <code>ZStack</code> <code>.overlay()</code> <p>\u53ef\u4ee5\u770b\u5230\uff0c<code>ZStack</code> \u4ee5\u6700\u5927\u5143\u7d20\u7684\u5927\u5c0f\u4f5c\u4e3a\u5176\u5927\u5c0f\uff0c\u800c <code>.overlay()</code> \u59cb\u7ec8\u9650\u5236\u5728\u88ab\u5176\u4fee\u9970\u7684 View \u7684\u5927\u5c0f\u5185\u3002</p> <p>\u95f4\u8ddd\u5de5\u5177 <code>Spacer</code></p> <p>\u95f4\u8ddd\u5de5\u5177\u3002</p> <p><code>Spacer</code> \u662f\u4e00\u4e2a\u5f39\u6027\u7684\u95f4\u8ddd\u3002\u5b83\u672c\u8eab\u4e0d\u4f1a\u663e\u793a\uff0c\u53ea\u662f\u5360\u636e\u5927\u4e8e\u6216\u7b49\u4e8e\u7279\u5b9a\u5bbd\u5ea6/\u9ad8\u5ea6\u7684\u7a7a\u95f4\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>HStack {\n    Text(\"Hello\")\n        .background(Color.yellow)\n    Spacer()\n}\n.background(Color.gray)\n</code></pre> <p>Note</p> <p>\u8fd9\u91cc\u7684 <code>.background(_:)</code> \u53ea\u662f\u4e3a\u4e86\u66f4\u660e\u663e\u5730\u663e\u793a <code>HStack</code> \u5185\u90e8\u7684\u6392\u5217\u3002</p> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u6574\u4e2a <code>Text</code> \u88ab\u201c\u6324\u201d\u5230\u4e86\u5de6\u8fb9\u3002</p> <p>\u6211\u4eec\u5728\u4e0a\u9762\u63d0\u5230\u4e86\u300c\u5927\u4e8e\u6216\u7b49\u4e8e\u7279\u5b9a\u5bbd\u5ea6/\u9ad8\u5ea6\u300d\u3002<code>Spacer</code> \u6784\u9020\u51fd\u6570\u6709\u4e00\u4e2a\u53c2\u6570 <code>minLength</code>\uff0c\u5c31\u662f\u7528\u6765\u6307\u5b9a\u8fd9\u4e2a\u8ddd\u79bb\u7684\uff0c\u4e0a\u9762\u6211\u4eec\u5ffd\u7565\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u8ddd\u79bb\u3002 </p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c<code>Spacer</code> \u4f1a\u5360\u636e View \u6240\u4e0d\u9700\u8981\u7684\u7a7a\u95f4\uff0c\u4f46\u4e0d\u4f1a\u6324\u5360 View \u9700\u8981\u7684\u7a7a\u95f4\uff08\u5373\uff1a<code>Spacer</code> \u6392\u5e03\u7684\u4f18\u5148\u7ea7\u6700\u4f4e\uff09\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u4e4b\u524d\u63d0\u5230\u7684\u4f1a\u5360\u636e\u6240\u6709\u7a7a\u95f4\u7684 <code>Color</code>\uff1a</p> <pre><code>HStack {\n    Color.yellow\n    Spacer()\n}\n</code></pre> <p><code>Spacer</code> \u53ea\u5360\u636e\u4e86\u9ed8\u8ba4\u7684\u6700\u5c0f\u7a7a\u95f4\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u4f60\u628a <code>Spacer</code> \u7684 <code>minLength</code> \u53c2\u6570\u8bbe\u7f6e\u4e3a 0\uff1a</p> <pre><code>Spacer(minLength: 0)\n</code></pre> <p>\u5bf9\u4e8e <code>Color</code> \u7684\u60c5\u51b5\uff0c<code>Spacer</code> \u5c31\u4e0d\u4f1a\u5360\u636e\u4efb\u4f55\u7a7a\u95f4\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u4e0a\u9762 <code>Text</code> \u7684\u60c5\u51b5\uff0c\u5b83\u4ecd\u7136\u4f1a\u5360\u636e\u6240\u6709\u5269\u4f59\u7684\u7a7a\u95f4\u3002</p> <p>\u53e6\u5916\uff0c\u5982\u679c\u9700\u8981\u56fa\u5b9a\u5bbd\u5ea6/\u9ad8\u5ea6\u7684 <code>Spacer</code>\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>.fixedSize()</code>\uff1a</p> <pre><code>Spacer(minLength: 20)\n    .fixedSize()\n</code></pre> <p>\u5176\u4ed6\u5bb9\u5668</p> <p>SwiftUI \u4e2d\u8fd8\u6709\u5f88\u591a\u7528\u4e8e\u6392\u5e03\u7684\u5bb9\u5668 View\uff0c\u4e0d\u518d\u5c55\u5f00\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003 \u5b98\u65b9\u6587\u6863\u3002\u4e00\u4e9b\u5e38\u7528\u7684 View \u6709\uff1a</p> <ul> <li><code>ScrollView</code>\uff1a\u53ef\u6ed1\u52a8\u89c6\u56fe</li> <li><code>List</code>\uff1a\u8bbe\u7f6e\u7b49\u7cfb\u7edf app \u4f7f\u7528\u7684\u5217\u8868\u89c6\u56fe</li> <li><code>NavigationView</code>\uff1a\u8bbe\u7f6e\u7b49\u7cfb\u7edf app \u4f7f\u7528\u7684\u53ef\u6ed1\u52a8\u8fd4\u56de\u7684\u5bfc\u822a\u89c6\u56fe</li> <li><code>TabView</code>\uff1a\u65f6\u949f\u7b49\u7cfb\u7edf app \u4f7f\u7528\u7684\u5206\u9875\u89c6\u56fe</li> <li><code>LazyVStack</code> \u548c <code>LazyHStack</code>\uff1a\u60f0\u6027 Stack \u5bb9\u5668</li> <li><code>LazyVGrid</code> \u548c <code>LazyHGrid</code>\uff1a\u7f51\u683c\u5bb9\u5668</li> </ul> \u7ec3\u4e60\uff1a\u539f\u751f View \u4e0e\u57fa\u672c\u5e03\u5c40 <p>\u5229\u7528 <code>VStack</code>\u3001<code>HStack</code> \u548c\u5176\u4ed6\u539f\u751f View\uff0c\u6784\u5efa\u4e00\u4e2a\u5982\u4e0b\u56fe\u6240\u793a\u7684 View\uff1a</p> <p></p> <p>\u63d0\u793a\uff1a</p> <ol> <li>\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u5706\u53ef\u4ee5\u7528 <code>Circle().frame(...)</code> \u751f\u6210</li> <li>\u56fe\u6807\u5bf9\u5e94\u7684 system name \u4e3a <code>star</code></li> </ol> \u53c2\u8003\u4ee3\u7801 <pre><code>VStack(alignment: .leading, spacing: 15) {\n    HStack {\n        Circle()\n            .frame(width: 37, height: 37)\n            .foregroundColor(.yellow)\n            .overlay {\n                Text(\"A\")\n                    .font(.system(.body, weight: .heavy, design: .rounded))\n                    .foregroundColor(.white)\n            }\n\n        VStack(alignment: .leading, spacing: 2) {\n            Text(\"#123456\")\n                .font(.system(size: 16, weight: .medium))\n            Text(\"1\u5c0f\u65f6\u524d\")\n                .font(.system(size: 13, weight: .semibold))\n                .foregroundColor(.secondary)\n        }\n\n        Spacer()\n\n        Label(\"6\", systemImage: \"star\")\n    }\n\n    Text(\"\u501f\u52a9 SwiftUI...\")\n}\n.padding()\n</code></pre> <p>\u6ce8\u610f\uff0c\u6700\u5916\u5c42 <code>VStack</code> \u7684 <code>alignment</code> \u53c2\u6570\u4e3a <code>.leading</code>\u3002\u8bf7\u601d\u8003\u5176\u4e2d\u7684\u539f\u56e0\u3002</p>"},{"location":"frontend/swiftui/build-views/#_5","title":"\u7ec4\u5408","text":"<p>Group</p> <p>\u5c06\u591a\u4e2a View \u7ec4\u5408\u8d77\u6765\u5904\u7406\uff0c\u6216\u7528\u4e8e\u6dfb\u52a0\u903b\u8f91\u63a7\u5236\u3002</p> <p>\u4e00\u4e2a <code>Group</code> \u5bf9\u5176\u4e2d\u7684\u5b50 View \u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\uff0c\u5404\u4e2a View \u4ecd\u7136\u4fdd\u6301\u72ec\u7acb\uff0c\u5bf9 <code>Group</code> \u6dfb\u52a0 modifier \u76f8\u5f53\u4e8e\u7ed9\u6bcf\u4e00\u4e2a View \u6dfb\u52a0 modifier\uff1a</p> <pre><code>VStack {\n    Group {\n        Text(\"Index: 0\")\n        Text(\"Index: 1\")\n    }\n    .background(Color.yellow)\n    .padding()\n}\n</code></pre> <p>\u6548\u679c\u4e3a\uff1a</p> <p></p> <p>\u6211\u4eec\u5e38\u7528\u8fd9\u79cd\u65b9\u6cd5\u540c\u65f6\u7ed9\u591a\u4e2a View \u6dfb\u52a0\u76f8\u540c\u7684 modifier\u3002</p> <p>\u53e6\u5916\uff0c<code>Group</code> \u7684\u53c2\u6570\u4e3a <code>@ViewBuilder</code>\uff0c\u53ef\u7528\u4e8e\u5728\u67d0\u4e9b\u4e0d\u652f\u6301 <code>if-else</code> \u8bed\u53e5\u7b49\u5730\u65b9\u6dfb\u52a0\u903b\u8f91\u63a7\u5236\u3002\u5982\uff1a</p> <pre><code>Color.yellow\n    .overlay(Group {\n        if condition {\n            ...\n        } else {\n            ...\n        }\n    })\n</code></pre> <p>Note</p> <p>\u8bf7\u67e5\u9605 <code>.overlay()</code> \u7684\u6587\u6863\uff0c\u627e\u51fa\u8fd9\u91cc\u7684 <code>.overlay()</code> \u548c\u4e0a\u9762 <code>ZStack</code> \u4e2d\u63d0\u5230\u7684 <code>.overlay()</code> \u7684\u533a\u522b\u3002</p> <p>ForEach</p> <p>\u8fed\u4ee3\u4e00\u4e2a\u96c6\u5408\u5185\u7684\u5143\u7d20\uff0c\u5e76\u4f9d\u6b21\u751f\u6210 View\uff0c\u7c7b\u4f3c\u4e8e for \u5faa\u73af\u3002</p> <pre><code>VStack {\n    ForEach(0..&lt;10) { index in\n        Text(\"Index: \\(index)\")\n    }\n}\n</code></pre> <p>\u4f46\u662f\uff0c\u4e0d\u80fd\u7b80\u5355\u5730\u8fed\u4ee3\u4efb\u610f\u4e00\u4e2a\u6570\u7ec4\uff1a</p> <pre><code>let students = [\"Alice\", \"Bob\", \"Carol\"]\n\nForEach(students) { student in\n    Text(student)\n}\n</code></pre> <p>\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\uff1a</p> <pre><code>Referencing initializer 'init(_:content:)' on 'ForEach' requires that 'String' conform to 'Identifiable'\n</code></pre> <p>\u610f\u601d\u662f\uff0c\u6240\u8fed\u4ee3\u6570\u7ec4\u7684\u5143\u7d20\u7684\u7c7b\u578b\u5fc5\u987b\u9075\u5faa <code>Identifiable</code>\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u56e0\u4e3a SwiftUI \u66f4\u65b0\u65f6\u9700\u8981\u786e\u5207\u77e5\u9053\u54ea\u4e2a View \u4f9d\u8d56\u7684\u6570\u636e\u66f4\u65b0\u4e86\uff0c\u751f\u6210 View \u7684\u6570\u636e\u5fc5\u987b\u662f\u53ef\u4ee5\u76f8\u4e92\u533a\u5206\u7684\u3002</p> <p>\u901a\u8fc7\u4f7f\u6570\u7ec4\u5143\u7d20\u7684\u7c7b\u578b\u9075\u5faa <code>Identifiable</code>\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u5b89\u5168\u5730\u901a\u8fc7 <code>ForEach</code> \u8fed\u4ee3\u6570\u7ec4\uff0c\u6ce8\u610f <code>id</code> \u5fc5\u987b\u4e92\u4e0d\u76f8\u540c\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5d29\u6e83\uff1a</p> <pre><code>struct Student: Identifiable {\n    var id: Int { return studentID } // Identifiable requirement\n    var studentID: Int  // \u5b66\u53f7\uff0c\u5fc5\u7136\u4e92\u4e0d\u76f8\u540c\n    var name: String\n}\n\nForEach(students) { student in\n    Text(student.name)\n}\n</code></pre> <p>\u5728\u6570\u7ec4\u56fa\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>count</code> \u6216 <code>indices</code> \u8fdb\u884c\u8fed\u4ee3\uff0c\u6b64\u65f6\u9700\u8981\u663e\u5f0f\u6307\u51fa\u7528\u4e8e\u533a\u5206\u7684 <code>id</code>\uff1a</p> <pre><code>let students = [\"Alice\", \"Bob\", \"Carol\"]\n\nForEach(0..&lt;students.count, id: \\.self) { index in\n    Text(students[index])\n}\n\nForEach(students.indices, id: \\.self) { index in\n    Text(students[index])\n}\n</code></pre> <p>\u8fd9\u91cc <code>\\.self</code> \u7528\u5230 Swift \u7684 <code>KeyPath</code>\uff0c<code>\\.self</code> \u7684\u610f\u601d\u662f\u8fd4\u56de\u4e0b\u6807\u672c\u8eab\uff08<code>Int</code>\uff09\uff0c\u4f7f\u7528\u5176\u6240\u4e3a\u533a\u5206\u4e0d\u540c\u5143\u7d20\u7684 id\u3002</p> <p>Info</p> <p>\u5173\u4e8e\u4e0d\u540c View \u5728\u5e95\u5c42\u662f\u5982\u4f55\u533a\u5206\u7684\uff0c\u53c2\u8003 WWDC21: Demystify SwiftUI\u3002</p> <p>\u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f <code>ForEach</code> \u548c <code>Group</code> \u7c7b\u4f3c\uff0c\u5e76\u4e0d\u628a\u5176\u4e2d\u7684 View \u53d8\u6210\u4e00\u6574\u4e2a View\uff1b\u5bf9\u5176\u6dfb\u52a0 modifier \u76f8\u5f53\u4e8e\u5bf9\u5404\u4e2a\u5b50 View \u6dfb\u52a0\u3002</p>"},{"location":"frontend/swiftui/build-views/#modifier","title":"Modifier","text":""},{"location":"frontend/swiftui/build-views/#modifier_1","title":"Modifier \u7684\u79cd\u7c7b","text":"<p>\u4e0d\u540c View modifier \u7684\u4e0d\u540c\u6548\u679c\u5e38\u5e38\u4ee4\u521d\u5b66\u8005\u8ff7\u60d1\u3002\u4e00\u822c\u6765\u8bf4\uff0cView modifier \u7684\u7c7b\u578b\u6709\u5982\u4e0b\u51e0\u7c7b\uff1a</p> <p>\u6539\u53d8\u73af\u5883\u53d8\u91cf\uff0c\u5bf9\u5176\u4f5c\u7528\u8303\u56f4\u5185\u7684\u6240\u6709 View \u5747\u6709\u6548</p> <p>\u5178\u578b\u7684\u4f8b\u5b50\u662f <code>font</code>\u3001<code>foregroundColor</code> \u7b49\u3002\u6bd4\u5982\uff1a</p> <pre><code>VStack {\n    Image(systemName: \"globe\")\n    HStack {\n        Text(\"Hello\")\n            .bold()\n        Text(\"World\")\n            .italic()\n    }\n}\n.font(.title3)\n.foregroundColor(.orange)\n</code></pre> <p></p> <p>\u8fd9\u91cc\uff0c<code>.font(.title3)</code> \u548c <code>.foregroundColor(.orange)</code> \u5bf9 <code>VStack</code> \u5185\u5904\u4e8e\u4efb\u610f\u5c42\u7ea7\u7684 View \u5747\u6709\u6548\u3002</p> <p>\u4ec5\u4fee\u9970\u6700\u5916\u5c42 View</p> <p>\u5178\u578b\u7684\u4f8b\u5b50\u662f <code>padding</code>\uff1a</p> <pre><code>HStack(spacing: 0) {\n    Color.yellow\n    Color.orange\n}\n.padding()\n.background(Color.gray)\n</code></pre> <p></p> <p>\u5728\u8fd9\u91cc\uff0c<code>padding</code> \u4ec5\u5728 <code>HStack</code> \u5916\u6dfb\u52a0\u4e86\u8fb9\u8ddd\uff0c\u800c\u5bf9\u5176\u4e2d\u7684\u4e24\u4e2a <code>Color</code> \u65e0\u5f71\u54cd\u3002</p> <p>\u8fd4\u56de\u7279\u5b9a\u7c7b\u578b\u7684 View</p> <p>\u8fd9\u4e9b modifier \u5e76\u4e0d\u662f\u8fd4\u56de <code>some View</code> \u800c\u662f\u7279\u5b9a\u7c7b\u578b\uff0c\u56e0\u6b64\u540e\u7eed\u53ef\u4f7f\u7528\u7684 modifier \u66f4\u591a\uff0c\u6700\u5178\u578b\u7684\u662f <code>Text</code>\uff1a</p> <pre><code>Text(\"Hello, world!\")\n    .bold()\n    .italic()\n    .font(.title)\n    .foregroundColor(.yellow)\n</code></pre> <p>\u4e0a\u9762\u56db\u4e2a modifier \u7684\u8fd4\u56de\u503c\u5747\u4e3a <code>Text</code>\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u5982 <code>italic</code> \u8fd9\u7c7b\u53ea\u80fd\u7528\u4e8e <code>Text</code> \u7684 modifier\u3002</p>"},{"location":"frontend/swiftui/build-views/#modifier_2","title":"\u81ea\u5b9a\u4e49 modifier","text":"<p>\u53ef\u4ee5\u901a\u8fc7 <code>extension</code> \u5c06\u4e00\u4e9b\u6837\u5f0f\u7ec4\u5408\u6210 modifier\uff0c\u65b9\u4fbf\u91cd\u7528\uff1a</p> <pre><code>extension View {\n    func defaultContainerStyle() -&gt; some View {\n        self.padding(.horizontal, 10)\n            .padding(.vertical, 5)\n    }\n}\n\nVStack {\n    ...\n}\n.defaultContainerStyle()\n</code></pre> <p>\u53e6\u5916\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>ViewModifier</code> \u534f\u8bae\u5b9a\u4e49\u4f5c\u7528\u66f4\u5f3a\u7684 modifier\uff0c\u53ef\u4ee5\u62e5\u6709\u72b6\u6001\uff08\u89c1 \u6570\u636e\u6d41\u57fa\u7840\uff09\uff0c\u5728\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"frontend/swiftui/data-flow/","title":"\u6570\u636e\u6d41\u57fa\u7840","text":"<p>\u6211\u4eec\u4e4b\u524d\u4ecb\u7ecd\u7684\u90fd\u662f\u4e00\u4e9b\u975e\u5e38\u7b80\u5355\u7684\u60c5\u51b5\uff1a\u5b83\u4eec\u90fd\u4e0d\u6d89\u53ca\u53d8\u5316\u7684\u72b6\u6001\u3002\u7136\u800c\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u5e94\u7528\u90fd\u9700\u8981\u4f9d\u8d56\u4e8e\u53d8\u5316\u7684\u6570\u636e\u3002\u6211\u4eec\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\uff0c\u4f7f\u5f97\u5f53\u6570\u636e\u66f4\u65b0\u65f6\u53ca\u65f6\u3001\u6b63\u786e\u5730\u66f4\u65b0\u6211\u4eec\u7684 UI\u3002\u6211\u4eec\u5c06\u4ecb\u7ecd UI \u4e0e\u6570\u636e\u7ed1\u5b9a\u8fc7\u7a0b\u4e2d\u6d89\u53ca\u7684\u4e00\u4e9b\u6700\u57fa\u672c\u7684\u5e38\u89c1\u6570\u636e\u6d41\u3002</p>"},{"location":"frontend/swiftui/data-flow/#state","title":"State","text":"<p>\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002\u5728\u6211\u4eec\u7684 View \u4e2d\uff0c\u9700\u8981\u8bb0\u5f55\u7528\u6237\u70b9\u51fb\u7684\u6b21\u6570\uff0c\u5e76\u663e\u793a\u5728\u5c4f\u5e55\u4e0a\u3002\u4f60\u53ef\u80fd\u60f3\u8981\u8fd9\u6837\u5199\uff1a\u7ed9 <code>ContentView</code> \u52a0\u4e0a\u4e00\u4e2a\u53d8\u91cf <code>count</code>\uff0c\u7136\u540e\u5728 <code>Button</code> \u4e2d\u66f4\u6539\u8fd9\u4e2a\u503c\uff1a</p> <pre><code>struct ContentView: View {\n    var count: Int = 0\n\n    var body: some View {\n        HStack {\n            Button(\"Click\") { count += 1 }\n            Text(\"\\(count)\")\n        }\n    }\n}\n</code></pre> <p>\u4f46\u8fd9\u6837\u662f\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u7684\u3002</p> <p>\u9996\u5148\uff0c\u8fd9\u4e2a\u4ee3\u7801\u5e76\u4e0d\u80fd\u901a\u8fc7\u7f16\u8bd1\uff1a</p> <pre><code>Left side of mutating operator isn't mutable: 'self' is immutable\n</code></pre> <p>\u539f\u56e0\u662f\uff0c<code>struct</code> \u662f\u503c\u7c7b\u578b\uff0c\u4e00\u822c\u7684\u51fd\u6570\u4e0d\u80fd\u591f\u4fee\u6539\u5176\u53d8\u91cf\u7684\u503c\u3002</p> <p>\u800c\u4e14\uff0c\u6709\u4e00\u4e2a\u66f4\u52a0\u6df1\u5c42\u7684\u539f\u56e0\u3002\u6211\u4eec\u6539\u53d8\u4e86 <code>count</code>\uff0c\u5e76\u4e14\u5e0c\u671b <code>Text(\"\\(count)\")</code> \u80fd\u663e\u793a\u6700\u65b0\u7684\u503c\u3002\u4f46\u662f\uff0c<code>ContentView</code> \u5e76\u4e0d\u77e5\u9053\u5f53 <code>count</code> \u66f4\u65b0\u65f6\u9700\u8981\u66f4\u65b0 UI\u3002</p> <p>\u4fee\u6539\u7684\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5728 <code>var count: Int = 0</code> \u524d\u52a0\u4e0a <code>@State</code>\uff1a</p> <pre><code>@State var count: Int = 0\n</code></pre> <p>\u8fd9\u6837\uff0c\u5c31\u80fd\u591f\u901a\u8fc7\u7f16\u8bd1\uff0c\u5e76\u4e14\u6211\u4eec\u7684\u754c\u9762\u4f1a\u968f\u7740 <code>count</code> \u7684\u66f4\u65b0\u800c\u66f4\u65b0\u4e86\uff1a</p> <p></p> <p><code>@State</code> \u662f\u4ec0\u4e48\u8bed\u6cd5\uff1f\u4e3a\u4ec0\u4e48\u80fd\u591f\u4fee\u6539 <code>count</code>\uff1f</p> <p><code>@State</code> \u6d89\u53ca\u5230\u4e00\u79cd\u53eb property wrapper \u7684\u8bed\u6cd5\u3002\u7b80\u5355\u6765\u8bf4\uff0cproperty wrapper \u6709\u5982\u4e0b\u7279\u6027\uff1a</p> <ul> <li>\u662f\u4e00\u4e2a\u5305\u88c5\u540e\u7684\u7c7b\u578b\uff0c\u4f46\u5bf9\u5916\u7684\u8868\u73b0\u5c31\u50cf\u662f\u88ab\u5305\u88c5\u524d\u7684\u6570\u636e\u4e00\u6837</li> <li>\u5f53\u88ab\u5305\u88c5\u7684\u503c\u88ab\u8bbe\u5b9a\u6216\u88ab\u8bfb\u53d6\u65f6\uff0c\u6267\u884c\u7279\u5b9a\u7684\u4ee3\u7801</li> </ul> <p>\u56e0\u4e3a\u6211\u4eec\u5b9e\u9645\u4e0a\u662f\u4fee\u6539 <code>@State</code> \u6240\u5305\u88c5\u7684\u503c\u800c\u975e <code>@State</code> \u53d8\u91cf\u672c\u8eab\uff0c\u6240\u4ee5\u662f\u53ef\u4ee5\u4fee\u6539 <code>count</code> \u7684\u503c\u7684\u3002</p> <p>\u4e3a\u4ec0\u4e48\u66f4\u65b0 <code>count</code> \u4e4b\u540e UI \u4f1a\u81ea\u52a8\u66f4\u65b0\uff1f</p> <p>\u4e0a\u9762\u5173\u4e8e property wrapper \u7684\u7279\u6027\u5177\u4f53\u5230 <code>@State</code>\uff0c\u5373\uff1a</p> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u53d6\u5176\u6240\u50a8\u5b58\u7684\u503c\uff08\u5982\u4e0a\u9762\u7684 <code>Text(\"\\(count)\")</code>\uff09</li> <li>\u5b83\u5728\u88ab\u8bbe\u5b9a\u65f6\u4f1a\u89e6\u53d1 View \u91cd\u65b0\u8ba1\u7b97 <code>body</code>\uff08\u5982\u4e0a\u9762\u7684 <code>count += 1</code>\uff09</li> </ul> <p>\u4e8e\u662f\uff0c\u901a\u8fc7 <code>@State</code>\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86 UI \u4e0e\u6570\u636e\u7684\u7ed1\u5b9a\uff0c\u53ea\u8981 <code>count</code> \u66f4\u65b0\uff0c\u6574\u4e2a View \u5c31\u4f1a\u88ab\u91cd\u65b0\u8ba1\u7b97\u3002\u6211\u4eec\u7684 UI \u5728\u4efb\u4f55\u65f6\u523b\u90fd\u53cd\u6620\u4e86\u6570\u636e\u6700\u65b0\u7684\u503c\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fee\u6539\u6570\u636e\uff0c\u800c\u65e0\u9700\u624b\u52a8\u5730\u66f4\u65b0 UI\u3002</p> <p>React \u4e2d\u7684\u7c7b\u4f3c\u65b9\u6cd5</p> <p>\u5982\u679c\u4f60\u5bf9 React \u6709\u6240\u4e86\u89e3\uff0c<code>@State</code> \u76f8\u5f53\u4e8e\uff1a</p> <ul> <li>\u5bf9\u4e8e <code>Component</code>\uff1a\u901a\u8fc7 <code>state</code> \u83b7\u53d6\u503c\uff1b\u8c03\u7528 <code>setState</code> \u66f4\u6539\u503c</li> <li>\u5bf9\u4e8e\u7eaf\u51fd\u6570\u7ec4\u4ef6\uff1a<code>useState</code> \u7684\u4e24\u4e2a\u8fd4\u56de\u503c\uff0c\u5206\u522b\u5bf9\u5e94\u83b7\u53d6\u548c\u66f4\u6539</li> </ul> <p>\u5b9e\u9645\u4e0a\uff0cView \u548c React \u4e2d\u7684\u7eaf\u51fd\u6570\u7ec4\u4ef6\u6982\u5ff5\u4e0a\u662f\u4e00\u6837\u7684\u3002SwiftUI \u901a\u8fc7 Swift \u7684 property wrapper \u8bed\u6cd5\uff0c\u5c06\u83b7\u53d6\u503c\u3001\u8bbe\u5b9a\u503c\u4ee5\u53ca\u66f4\u65b0 UI \u7b80\u5316\u4e3a\u4e00\u4e2a\u53d8\u91cf\u7684\u8bfb\u53d6\u548c\u8bbe\u5b9a\uff0c\u800c React \u56e0\u4e3a\u8bed\u8a00\u7684\u9650\u5236\uff0c\u8bbe\u5b9a\u503c\u4ee5\u53ca\u66f4\u65b0 UI \u53ea\u80fd\u91c7\u7528\u8c03\u7528\u51fd\u6570\u7684\u65b9\u6cd5\u3002</p>"},{"location":"frontend/swiftui/data-flow/#binding","title":"Binding","text":"<p><code>@State</code> \u89e3\u51b3\u4e86\u5728\u5355\u4e2a View \u4e2d\u6839\u636e\u6570\u636e\u66f4\u65b0 View \u7684\u95ee\u9898\u3002\u4f46\u662f\uff0c\u6709\u65f6\u6211\u4eec\u4e3a\u4e86\u91cd\u7528\u4ee3\u7801\u6216\u4fdd\u6301\u4ee3\u7801\u7684\u7b80\u6d01\uff0c\u9700\u8981\u5c06\u4e00\u4e9b View \u62c6\u5206\u51fa\u6765\uff0c\u8fd9\u5c31\u4ea7\u751f\u4e86\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u5728\u7236 View \u548c\u5b50 View \u4e2d\u5171\u4eab\u4e00\u4e2a\u53ef\u7531\u5b50 View \u4fee\u6539\u7684\u503c\uff1f\u4e5f\u5c31\u662f\u8bf4\uff0c\u6570\u636e\u5982\u4f55\u4ece\u5b50\u89c6\u56fe\u6d41\u5411\u7236\u89c6\u56fe\uff1f</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u5e0c\u671b\u628a\u300c\u70b9\u51fb\u4e00\u6b21\u4f7f\u5f97\u503c\u52a0 1\u300d\u7684\u6309\u94ae\u5c01\u88c5\u8d77\u6765\uff0c\u4ee5\u4fbf\u91cd\u590d\u4f7f\u7528\uff0c\u90a3\u4e48\u4e0a\u9762\u7684 <code>Button</code> \u4e0d\u518d\u5728 <code>ContentView</code> \u4e2d\u5b9a\u4e49\uff0c\u800c\u662f\u5728\u53e6\u4e00\u4e2a View \u4e2d\u51fa\u73b0\uff1a</p> <pre><code>struct IncrementButton: View {\n    // TODO: Data\n    var body: some View {\n        Button(\"Increase\") {\n            // TODO: Increse data\n        }\n    }\n}\n</code></pre> <p>\u5982\u4f55\u5728\u8fd9\u4e24\u4e2a View \u5171\u4eab <code>count</code> \u4f7f\u5f97 <code>IncrementButton</code> \u53ef\u4ee5\u4fee\u6539\u5462\uff1f\u8fd9\u5c31\u9700\u8981 <code>@Binding</code>\u3002\u5728 <code>IncrementButton</code> \u4e2d\uff0c\u6dfb\u52a0\u4e00\u4e2a\u6210\u5458 <code>@Binding var value: Int</code>\uff0c\u5e76\u5728 <code>Button</code> \u7684 <code>action</code> \u4e2d\u5c06\u5176\u503c\u52a0 1\uff1a</p> <pre><code>struct IncrementButton: View {\n    @Binding var value: Int\n\n    var body: some View {\n        Button(\"Increase\") { value += 1 }\n    }\n}\n</code></pre> <p>\u800c\u5728\u7236 View \u4e2d\uff0c\u901a\u8fc7\u5728 <code>@State</code> \u53d8\u91cf\u540d\u524d\u52a0\u4e0a\u4e00\u4e2a <code>$</code> \u6765\u4f20\u9012 <code>Binding</code>\uff1a</p> <pre><code>struct ContentView: View {\n    @State var count: Int = 0\n\n    var body: some View {\n        HStack {\n            IncrementButton(value: $count)\n            Text(\"\\(count)\")\n        }\n    }\n}\n</code></pre> <p>\u5728 <code>IncrementButton</code> \u4e2d\u4fee\u6539 <code>value</code>\uff0c<code>ContentView</code> \u4e2d\u7684 <code>count</code> \u5c31\u4f1a\u540c\u6b65\u53d8\u5316\u3002\u6362\u800c\u8a00\u4e4b\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u7236 View \u548c\u5b50 View \u6570\u636e\u7684\u7ed1\u5b9a\u3002</p> <p>\u5173\u4e8e <code>$count</code></p> <p>\u5728\u53d8\u91cf\u540d\u524d\u52a0 <code>$</code> \u5e76\u4e0d\u662f\u4e00\u79cd\u8bed\u6cd5\uff0c\u800c\u662f\u7f16\u8bd1\u5668\u81ea\u52a8\u7ed9 <code>ContentView</code> \u52a0\u4e0a\u4e86\u4e00\u4e2a\u53d8\u91cf\u540d\u4e3a <code>$count</code> \u7684\u6210\u5458\u53d8\u91cf\uff0c\u5b83\u7684\u7c7b\u578b\u4e3a <code>Binding</code>\u3002</p> <p>\u66f4\u591a\u7684\u539f\u751f View</p> <p>\u638c\u63e1\u4e86 <code>@Binding</code> \u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u66f4\u591a\u7684\u4e0e\u6570\u636e\u76f8\u5173\u7684\u539f\u751f View \u4e86\u3002\u6bd4\u5982\uff0c\u4e00\u4e2a\u6587\u672c\u6846\uff1a</p> <pre><code>TextField(\"\", text: $myText)\n</code></pre> <p>\u5f53\u7528\u6237\u8f93\u5165\u6587\u672c\u65f6\uff0c<code>TextField</code> \u4e2d\u7684\u6587\u672c\u4f1a\u540c\u6b65\u5230 <code>myText</code> \u4e2d\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728\u6587\u6863\u4e2d\u63a2\u7d22\u66f4\u591a\u7684\u539f\u751f View\u3002</p> <code>$count</code> \u7684\u5b9e\u8d28 <p>\u5728\u6587\u6863\u4e2d\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 <code>Binding</code> \u6709\u8fd9\u6837\u4e00\u79cd\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>init(get: @escaping () -&gt; Value, set: @escaping (Value) -&gt; Void)\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570 <code>get</code> \u7528\u4e8e\u8fd4\u56de <code>Binding</code> \u53d8\u91cf\u8bfb\u53d6\u7684\u503c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570 <code>set</code> \u662f\u5f53 <code>Binding</code> \u53d8\u91cf\u6539\u53d8\u65f6\u6240\u6267\u884c\u7684\u64cd\u4f5c\u3002</p> <p>\u56e0\u6b64\uff0c\u4f60\u5b8c\u5168\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u6cd5\u53d6\u4ee3 <code>$count</code>\uff1a</p> <pre><code>IncrementButton(value: \n    Binding(\n        get: { count }, \n        set: { count = $0 } \n    )\n)\n</code></pre> <p>\u5f53 <code>IncrementButton</code> \u83b7\u53d6 <code>value</code> \u65f6\uff0c\u8c03\u7528 <code>get</code> \u83b7\u53d6\u5f53\u524d\u7684\u503c\uff1b\u5f53 <code>IncrementButton</code> \u6539\u53d8 <code>value</code> \u65f6\uff0c\u8c03\u7528 <code>set</code> \u66f4\u65b0 <code>count</code>\u3002\u7531 <code>@State</code> \u751f\u6210\u7684 <code>Binding</code> \u53d8\u91cf\u65e0\u975e\u5c31\u662f\u5b9e\u73b0\u8fd9\u6837\u7684\u529f\u80fd\u3002</p>"},{"location":"frontend/swiftui/data-flow/#ui","title":"UI \u662f\u72b6\u6001\u7684\u51fd\u6570","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684\u4e00\u4e9b\u4f8b\u5b50\uff0c\u4f60\u5e94\u8be5\u80fd\u603b\u7ed3\u51fa SwiftUI \u4e2d View \u7684\u4e00\u4e9b\u7279\u70b9\u3002\u6700\u660e\u663e\u7684\u662f\uff1aView \u552f\u4e00\u5730\u7531\u6570\u636e\u786e\u5b9a\u3002\u5982\u679c\u5c06 <code>@State</code>\u3001<code>@Binding</code> \u6240\u4ee3\u8868\u7684\u6570\u636e\u89c6\u4f5c\u4e00\u79cd\u201c\u72b6\u6001\u201d\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u8fd9\u6837\u4e00\u6761\u5f0f\u5b50\uff1a</p> <pre><code>View = f(state)\n</code></pre> <p>\u5176\u4e2d\u7684 <code>f</code>\uff0c\u5176\u5b9e\u5c31\u662f <code>View</code> \u4e2d\u7684 <code>body</code>\u3002\u6bcf\u6b21 <code>state</code> \u66f4\u65b0\u65f6\uff0cView \u901a\u8fc7 <code>body</code> \u7684\u5b9a\u4e49\u8ba1\u7b97\u51fa\u65b0\u72b6\u6001\u4e0b\u7684 UI\uff0c\u5e76\u8fdb\u884c\u66f4\u65b0\u3002\u6240\u4ee5\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48 <code>body</code> \u5e94\u5f53\u662f\u4e00\u4e2a\u8ba1\u7b97\u53d8\u91cf\uff0c\u800c\u4e0d\u662f\u50a8\u5b58\u53d8\u91cf\u2014\u2014\u5b83\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u51fd\u6570\u3002</p> <p>\u8fd9\u79cd\u6027\u8d28\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u7ed3\u679c\u662f\uff1a\u6211\u4eec\u65e0\u6cd5\u83b7\u5f97 View \u7684\u5f15\u7528\uff0c\u4e5f\u65e0\u6cd5\u76f4\u63a5\u4fee\u6539\u5176 UI\uff0c\u6240\u6709\u5bf9 UI \u7684\u4fee\u6539\u90fd\u6e90\u81ea\u4e8e\u6570\u636e\u7684\u6539\u53d8\u3002</p> <p>\u6211\u4eec\u5728\u4e0b\u4e00\u8282\u4e2d\u8fdb\u884c\u66f4\u6df1\u5165\u7684\u8ba8\u8bba\u3002</p>"},{"location":"frontend/swiftui/declaritive-mvvm/","title":"\u58f0\u660e\u5f0f UI \u4e0e MVVM","text":"<p>\u4ee5\u4e0a\u662f\u5bf9 SwiftUI \u57fa\u7840\u5185\u5bb9\u7684\u4ecb\u7ecd\u3002\u5728\u4f60\u5c06\u6765\u5b66\u4e60\u66f4\u52a0\u9ad8\u7ea7\u7684\u5185\u5bb9\u4e4b\u524d\uff0c\u6709\u5fc5\u8981\u5bf9 SwiftUI \u7684 UI \u6784\u5efa\u4f5c\u4e00\u4e2a\u6982\u5ff5\u4e0a\u7684\u603b\u89c8\u3002\u6211\u4eec\u5c06\u8ba8\u8bba\u4e24\u4e2a\u6838\u5fc3\u6982\u5ff5\uff1a\u58f0\u660e\u5f0f UI\uff0c\u4ee5\u53ca MVVM \u67b6\u6784\u3002</p>"},{"location":"frontend/swiftui/declaritive-mvvm/#ui","title":"\u58f0\u660e\u5f0f UI","text":"<p>\u6211\u4eec\u5148\u6765\u770b\u4e24\u6bb5\u4ee3\u7801\u3002</p> <p>\u4e00\u6bb5\u4f7f\u7528 SwiftUI\uff1a</p> <pre><code>Text(\"Hello, world!\")\n    .font(.system(size: 20, weight: .bold))\n    .foregroundColor(.red)\n</code></pre> <p>\u53e6\u4e00\u6bb5\u4f7f\u7528 UIKit\uff1a</p> <pre><code>let label = UILabel()\nlabel.text = \"Hello, world!\"\nlabel.font = .systemFont(ofSize: 20, weight: .bold)\nlabel.textColor = .systemRed\n</code></pre> <p>\u5b83\u4eec\u90fd\u521b\u5efa\u4e86\u4e00\u4e2a\u5e26\u6709\u4e00\u5b9a\u6837\u5f0f\u7684\u6587\u672c UI\u3002\u7136\u800c\uff0c\u5b83\u4eec\u7684\u6784\u5efa\u65b9\u5f0f\u6709\u7740\u672c\u8d28\u4e0a\u7684\u4e0d\u540c\u3002\u5bf9\u4e8e SwiftUI\uff0c\u6211\u4eec\u63cf\u8ff0 Text \u53ca\u5176\u5b57\u4f53\u3001\u989c\u8272\u7b49\u5404\u79cd\u6837\u5f0f\uff0c\u800c\u5bf9\u4e8e UIKit\uff0c\u6211\u4eec\u901a\u8fc7\u8bbe\u5b9a\u5c5e\u6027\u503c\u6765\u66f4\u6539\u3002\u524d\u8005\u79f0\u4e3a\u300c\u58f0\u660e\u5f0f\u300d\uff08declarative\uff09\uff0c\u800c\u540e\u8005\u79f0\u4e3a\u300c\u547d\u4ee4\u5f0f\u300d\uff08imperative\uff09\u3002</p> <p>\u4f60\u53ef\u4ee5\u4ece\u8fd9\u4e24\u4e2a\u8bcd\u4e2d\u4f53\u4f1a\u5230\u4e24\u79cd\u4e0d\u540c\u4ee3\u7801\u7684\u663e\u8457\u533a\u522b\u3002\u5728 SwiftUI \u4e2d\uff0c\u6211\u4eec\u4e0d\u4f1a\u4f7f\u7528\u201c\u547d\u4ee4\u201d\u8bed\u53e5\u6765\u544a\u8bc9\u4e00\u4e2a View \u201c\u600e\u4e48\u505a\u201d\uff0c\u800c\u662f\u901a\u8fc7\u201c\u58f0\u660e\u201d\u4e00\u4e2a View \u4ee5\u53ca\u5b83\u7684\u7ed3\u6784\u3001\u7279\u5f81\u6765\u544a\u8bc9\u8fd9\u4e2a View \u201c\u505a\u6210\u600e\u6837\u201d\u3002</p> <p>\u5f53 UI \u7684\u72b6\u6001\u9700\u8981\u968f\u7740\u72b6\u6001\u7684\u53d8\u5316\u800c\u66f4\u65b0\u65f6\uff0c\u4e8c\u8005\u7684\u4f18\u52a3\u53d8\u5f97\u975e\u5e38\u660e\u663e\u3002\u547d\u4ee4\u5f0f UI \u6784\u5efa\u9700\u8981\u5728\u6bcf\u6b21\u72b6\u6001\u66f4\u65b0\u65f6\u90fd\u901a\u8fc7\u4e00\u5b9a\u7684\u903b\u8f91\u66f4\u65b0\u6240\u6709\u5173\u8054\u7684 UI\uff0c\u800c\u58f0\u660e\u5f0f UI \u6784\u5efa\u53ea\u9700\u8981\u5728\u4e00\u5f00\u59cb\u5c06\u6240\u6709\u53ef\u80fd\u7684 UI \u72b6\u6001\u63cf\u8ff0\u51fa\u6765\uff0c\u5c31\u53ef\u4ee5\u5f62\u6210\u72b6\u6001\u5230 UI \u7684\u4e00\u4e2a\u6620\u5c04\u3002</p> <p>\u8fd9\u4e24\u79cd\u65b9\u5f0f\u7684\u590d\u6742\u7a0b\u5ea6\u5dee\u522b\u6709\u591a\u5927\uff1f\u4f5c\u4e2a\u7b80\u5355\u7684\u8ba1\u7b97\uff1a\u5047\u5982\u6211\u4eec\u7684 UI \u6709 10 \u79cd\u53ef\u80fd\u7684\u72b6\u6001\uff0c\u90a3\u4e48\u547d\u4ee4\u5f0f UI \u6700\u591a\u9700\u8981\u6839\u636e \\dbinom{10}{2} = 45 \u79cd\u4e0d\u540c\u7684\u72b6\u6001\u8f6c\u79fb\u5b9a\u4e49\u6765\u5b9a\u4e49 UI \u66f4\u65b0\u51fd\u6570\uff0c\u800c\u58f0\u660e\u5f0f UI \u6700\u591a\u4e0d\u8fc7\u9700\u8981\u5b9a\u4e49 10 \u79cd\u4e0d\u540c\u72b6\u6001\u4e0b\u7684 UI\u3002\u66f4\u7cdf\u7cd5\u7684\u662f\uff0c\u4e00\u65e6\u547d\u4ee4\u5f0f UI \u7684\u67d0\u4e00\u6b65 UI \u66f4\u65b0\u51fa\u73b0\u95ee\u9898\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u63a5\u4e0b\u6765\u7684\u66f4\u65b0\u90fd\u4f1a\u5bfc\u81f4\u9519\u8bef\u7684 UI\u3002\u56e0\u6b64\uff0c\u5f53\u72b6\u6001\u590d\u6742\u5230\u4e00\u5b9a\u7a0b\u5ea6\u7684\u65f6\u5019\uff0c\u547d\u4ee4\u5f0f UI \u7684\u6b63\u786e\u66f4\u65b0\u53d8\u5f97\u51e0\u4e4e\u4e0d\u53ef\u80fd\uff08\u56de\u60f3\u4e00\u4e0b\u4f60\u4e4b\u524d\u5199\u8fc7\u7684\u547d\u4ee4\u5f0f UI\uff0c\u6bd4\u5982\u8d35\u7cfb\u540c\u5b66\u4eec\u7528 Qt \u5199\u8fc7\u7684\u5927\u4f5c\u4e1a\uff09\u3002</p> <p>\u58f0\u660e\u5f0f UI \u7684\u8fd9\u79cd\u7279\u5f81\u51b3\u5b9a\u4e86\u5b83\u6709\u5f88\u591a\u4e0e\u547d\u4ee4\u5f0f UI \u4e0d\u540c\u7684\u6027\u8d28\uff1a</p> <ul> <li>\u6ca1\u6709\u5bf9 UI \u7684\u5f15\u7528\u3002\u58f0\u660e\u5f0f UI \u53ea\u662f\u4e00\u79cd\u5bf9\u201cUI \u662f\u600e\u6837\u7684\u201d\u7684\u63cf\u8ff0\uff0c\u5b83\u5bf9 UI \u672c\u8eab\u6ca1\u6709\u638c\u63a7\u3002</li> <li>\u7531\u72b6\u6001\u552f\u4e00\u786e\u5b9a\uff0c\u4e14\u53ea\u80fd\u901a\u8fc7\u4fee\u6539\u72b6\u6001\u66f4\u65b0 UI\u3002</li> <li>\u53ea\u662f\u5bf9 UI \u7684\u63cf\u8ff0\uff0c\u5e76\u4e0d\u662f\u771f\u5b9e\u7684 UI\u3002</li> </ul> <p>\u5b9e\u9645\u4e0a\uff0cSwiftUI \u5e95\u5c42\u662f UIKit\uff0cSwiftUI \u5176\u5b9e\u662f\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u5c06 UIKit \u4e2d\u590d\u6742\u7684\u7684 UI \u66f4\u65b0\u7b80\u5316\u4e3a\u72b6\u6001\u5230 UI \u7684\u7b80\u5355\u6620\u5c04\u3002</p> <p>\u5173\u4e8e View \u7684\u8ba1\u7b97\u4e0e UI \u66f4\u65b0</p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u6bcf\u6b21\u72b6\u6001\u66f4\u65b0\u65f6\uff0cView \u4e2d\u7684 <code>body</code> \u90fd\u4f1a\u88ab\u91cd\u65b0\u8ba1\u7b97\u4ee5\u83b7\u5f97\u6700\u65b0\u7684 UI\u3002\u4f60\u53ef\u80fd\u4f1a\u5bf9\u8fd9\u79cd\u65b9\u5f0f\u7684\u6027\u80fd\u95ee\u9898\u4ea7\u751f\u62c5\u5fe7\u3002\u5b9e\u9645\u4e0a\uff0cSwiftUI \u7684 UI \u66f4\u65b0\u662f\u5341\u5206\u9ad8\u6548\u7684\u3002</p> <p>\u8bf7\u8c28\u8bb0\uff0cView \u5e76\u4e0d\u662f\u771f\u5b9e\u7684 UI\uff0c\u53ea\u662f\u4e00\u79cd\u63cf\u8ff0\u3002SwiftUI \u5e95\u5c42\u901a\u8fc7\u67d0\u79cd\u673a\u5236\uff0c\u80fd\u591f\u6bd4\u8f83\u66f4\u65b0\u524d\u540e\u4e24\u4e2a\u63cf\u8ff0\u7684\u533a\u522b\uff0c\u7136\u540e\u53ea\u66f4\u65b0\u63cf\u8ff0\u4e2d\u53d8\u5316\u4e86\u7684 UI\u3002</p>"},{"location":"frontend/swiftui/declaritive-mvvm/#mvvm","title":"MVVM \u67b6\u6784","text":"<p>\u6211\u4eec\u4e4b\u524d\u901a\u8fc7 <code>@State</code> \u548c <code>@Binding</code> \u7b80\u5355\u4ecb\u7ecd\u4e86 SwiftUI \u4e2d\u6570\u636e\u548c UI \u7684\u4ea4\u4e92\u3002\u6211\u4eec\u628a view \u6240\u4f9d\u8d56\u7684\u6570\u636e\u53ca\u4e0e\u6570\u636e\u76f8\u5173\u7684\u903b\u8f91\u79f0\u4e3a model\uff0c\u90a3\u4e48\uff1a</p> <ul> <li>\u6570\u636e\u7531 model \u7ed1\u5b9a\u5230 view</li> <li>view \u62e5\u6709 model\uff0c\u5e76\u80fd\u8fdb\u884c\u4fee\u6539</li> </ul> <p></p> <p>\u7136\u800c\uff0c\u73b0\u5b9e\u60c5\u51b5\u8fdc\u6bd4\u6211\u4eec\u5728\u524d\u4e00\u8282\u4e2d\u201c\u8bb0\u5f55\u70b9\u51fb\u6b21\u6570\u201d\u7684\u60c5\u51b5\u590d\u6742\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u7684\u6570\u636e\u50a8\u5b58\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u9700\u8981\u590d\u6742\u7684\u64cd\u4f5c\u53d6\u51fa\u6765\uff0c\u800c\u4e14\u53d6\u51fa\u6765\u7684\u6570\u636e\u5e76\u4e0d\u4e00\u5b9a\u662f view \u80fd\u591f\u76f4\u63a5\u4f7f\u7528\u7684\uff0c\u53ef\u80fd\u8981\u7ecf\u8fc7\u4e00\u5b9a\u7684\u8f6c\u6362\u3002\u8fd9\u65f6\uff0c\u5982\u679c\u7ee7\u7eed\u4f7f\u7528\u4e0a\u9762\u7684\u67b6\u6784\uff0cview \u7684\u8d1f\u62c5\u5c31\u8fc7\u4e8e\u6c89\u91cd\u4e86\uff0c\u8fd9\u4e0e view \u7684\u5b9a\u4f4d\u76f8\u8fdd\u80cc\uff1aview \u5e94\u8be5\u53ea\u9700\u8981\u77e5\u9053\u5982\u4f55\u5c55\u793a\u6570\u636e\u3001\u4e0e\u7528\u6237\u4ea4\u4e92\u3002</p> <p>\u800c\u4e14\uff0cview \u53ea\u80fd\u6301\u6709\u4ec5\u4e0e UI \u76f8\u5173\u7684\u72b6\u6001\uff0c\u4e0d\u80fd\u6301\u6709\u5916\u90e8\u6570\u636e\u3002\u7406\u7531\u4e4b\u4e00\u662f\uff1a\u5916\u90e8\u6570\u636e\u53ef\u80fd\u9700\u8981\u5728\u4e0d\u540c view \u4e4b\u95f4\u5171\u4eab\uff0c\u800c\u5982\u679c\u7531\u503c\u7c7b\u578b\u7684 view \u5b58\u50a8\u663e\u7136\u65e0\u6cd5\u5b8c\u6210\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728\u4e2d\u95f4\u52a0\u4e0a\u4e00\u5c42\uff1aview model\u3002</p> <p></p> <p>\u5176\u4e2d\uff0cview model \u8d1f\u8d23\uff1a</p> <ul> <li>\u6301\u6709 model\uff0c\u6839\u636e view \u7684\u547d\u4ee4\u4fee\u6539 model</li> <li>\u76d1\u542c model \u53d8\u5316\uff0c\u5728\u53d8\u5316\u65f6\u901a\u77e5 view</li> <li>\u5c06 model \u7684\u6570\u636e\u8f6c\u5316\u4e3a view \u80fd\u591f\u76f4\u63a5\u4f7f\u7528\u7684\u6570\u636e</li> </ul> <p>View \u8d1f\u8d23\uff1a</p> <ul> <li>\u5c06\u201c\u9700\u8981\u505a\u4ec0\u4e48\u201d\u53d1\u9001\u7ed9 view model\uff08\u5982\uff0c\u7528\u6237\u8f93\u5165\u4fe1\u606f\u540e\uff0c\u8ba9 view model \u5b58\u5165\u6570\u636e\u5e93\uff09</li> <li>\u76d1\u542c view model \u901a\u77e5\uff0c\u5e76\u6839\u636e view model \u63d0\u4f9b\u7684\u6570\u636e\u66f4\u65b0\u754c\u9762</li> </ul> <p>\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u67b6\u6784\u4e2d\uff0c\u6570\u636e\u662f\u4e25\u683c\u5355\u5411\u6d41\u52a8\u7684\u3002</p> <p>\u5728 SwiftUI \u4e2d\uff0cMVVM \u67b6\u6784\u901a\u5e38\u901a\u8fc7 <code>ObservableObject</code> \u548c <code>@ObservedObject</code> \u5b8c\u6210\u3002\u5177\u4f53\u6765\u8bf4\uff1a</p> <ul> <li>View model \u4e3a\u4e86\u80fd\u591f\u5c06 model \u5df2\u7ecf\u53d8\u5316\u4e86\u7684\u6d88\u606f\u201c\u901a\u77e5\u201d view\uff0c\u9700\u8981\u7ee7\u627f <code>ObservableObject</code> \u7c7b\uff08\u56e0\u6b64\u5fc5\u987b\u662f <code>class</code>\uff09</li> <li>View model \u7684\u6210\u5458\u53d8\u91cf\u53ef\u4ee5\u52a0\u4e0a <code>@Published</code>\uff0c\u8868\u793a\u8fd9\u4e2a\u53d8\u91cf\u53d8\u5316\u65f6\u901a\u77e5 view</li> <li>View \u4e2d\u5bf9 view model \u52a0\u4e0a <code>@ObservedObject</code>\uff0c\u8868\u793a\u76d1\u542c view model \u53d1\u51fa\u7684\u4fe1\u53f7</li> </ul> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u4f8b\u5b50\uff1a</p> <pre><code>struct ContentView: View {\n    @ObservedObject var viewModel = ViewModel()\n\n    var body: some View {\n        HStack {\n            Button(\"Click\") {\n                viewModel.count += 1\n            }\n            Text(\"\\(viewModel.count)\")\n        }\n    }\n}\n\nclass ViewModel: ObservableObject {\n    @Published var count: Int = 0\n}\n</code></pre> <p>\u9650\u4e8e\u7bc7\u5e45\uff0c\u6709\u5173 MVVM \u67b6\u6784\u7684\u5b9e\u8df5\u8bf7\u53c2\u8003 CS193p \u8bfe\u7a0b\u6709\u5173 MVVM \u7684\u4ecb\u7ecd\u3002</p> <p>\u518d\u8c08 <code>@State</code></p> <p>\u524d\u9762\u63d0\u5230\uff0cView \u53ea\u80fd\u6301\u6709\u4ec5\u4e0e UI \u76f8\u5173\u7684\u72b6\u6001\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728 View \u4e2d\uff0c<code>@State</code> \u5305\u88c5\u7684\u503c\u4e0d\u80fd\u4e0e\u5916\u90e8\u6570\u636e\u76f8\u5173\u3002</p> <p>\u4ec0\u4e48\u662f\u4ec5\u4e0e UI \u76f8\u5173\u7684\u72b6\u6001\uff1f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u662f\uff1a<code>Button</code> \u5728\u7528\u6237\u6309\u4e0b\u65f6\u4f1a\u6709\u900f\u660e\u5ea6\u7684\u53d8\u5316\uff0c\u8fd9\u91cc\u8bb0\u5f55\u6309\u538b\u7684\u72b6\u6001\u548c\u900f\u660e\u5ea6\u7684\u503c\u5c31\u5c5e\u4e8e\u201c\u4ec5\u4e0e UI \u76f8\u5173\u7684\u72b6\u6001\u201d\u3002</p> <p>\u5b9e\u8df5\u4e2d\u4e00\u4e2a\u7b80\u5355\u7684\u5224\u65ad\u65b9\u6cd5\u662f\uff1a\u5982\u679c\u4e00\u4e2a <code>@State</code> \u4e0d\u80fd\u6807\u8bb0\u6210 <code>private</code>\uff0c\u5373\u5916\u90e8\u9700\u8981\u8bbf\u95ee\u8fd9\u4e2a\u6570\u636e\uff0c\u90a3\u4e48\u5b83\u5c31\u4e0d\u4ec5\u4e0e UI \u76f8\u5173\uff0c\u8fd9\u65f6\u4e0d\u80fd\u7528 <code>@State</code> \u6765\u50a8\u5b58\uff0c\u9700\u8981\u501f\u52a9 view model\u3002</p>"},{"location":"frontend/swiftui/extensions/","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u672c\u6587\u4ec5\u5bf9 SwiftUI \u4e2d\u4e00\u4e9b\u6700\u57fa\u672c\u7684\u77e5\u8bc6\u4f5c\u4e86\u4ecb\u7ecd\uff0c\u800c\u8fd9\u8fdc\u8fdc\u4e0d\u591f\u3002\u8981\u60f3\u5f00\u53d1\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\uff0c\u4f60\u8fd8\u9700\u8981\u5b66\u4e60\u66f4\u591a\u5185\u5bb9\u3002</p> <p>\u8fd9\u662f\u4e00\u4e9b\u4ec5\u4f9b\u53c2\u8003\u7684\u5efa\u8bae\uff1a</p> <ul> <li>\u7ecf\u5e38\u63a2\u7d22\u5b98\u65b9\u6587\u6863\uff0c\u770b\u770b\u4f60\u80fd\u4f7f\u7528\u7684\u5de5\u5177\u6709\u4ec0\u4e48</li> <li>\u770b\u770b\u5386\u5e74 WWDC \u6709\u4ec0\u4e48\u89c6\u9891\u8bb2\u89e3\u7684\u5185\u5bb9\u662f\u4f60\u9700\u8981\u7684\uff0c\u5173\u6ce8\u6bcf\u5e74\u7684 WWDC</li> <li>\u4e0d\u8981\u60e7\u6015\u82f1\u6587\u5185\u5bb9\uff0c\u9605\u8bfb\u82f1\u6587\u6587\u6863\u662f\u5f00\u53d1\u7684\u5fc5\u7ecf\u4e4b\u8def</li> <li>\u5b66\u4f1a\u7528\u82f1\u6587\u641c\u7d22\uff0c\u5c3d\u91cf\u4e0d\u7528\u4e2d\u6587\u641c\u7d22</li> </ul>"},{"location":"frontend/swiftui/extensions/#_1","title":"\u6982\u5ff5\u6027\u77e5\u8bc6","text":"<p>\u8fd9\u4e9b\u6982\u5ff5\u6027\u77e5\u8bc6\u80fd\u591f\u5e2e\u52a9\u4f60\u7406\u89e3 SwiftUI \u662f\u5982\u4f55\u8fd0\u884c\u7684\uff0c\u8fdb\u800c\u5e2e\u52a9\u4f60\u5199\u51fa\u6548\u7387\u66f4\u9ad8\u3001\u66f4\u52a0\u6b63\u786e\u7684\u7a0b\u5e8f\u3002SwiftUI \u672c\u8eab\u5e76\u4e0d\u590d\u6742\uff0c\u4f46\u5176\u539f\u7406\u9700\u8981\u6df1\u5165\u7684\u5b66\u4e60\u624d\u80fd\u7406\u89e3\uff0c\u800c\u5bf9\u539f\u7406\u7684\u7406\u89e3\u5f80\u5f80\u4f1a\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u7a0b\u5e8f\u7684\u8d28\u91cf\u3002</p> <p>\u8fd9\u4e9b\u8bdd\u9898\u975e\u5e38\u91cd\u8981\uff1a</p> <ul> <li>SwiftUI \u751f\u547d\u5468\u671f\uff1a<code>App</code>\u3001<code>Scene</code> \u548c <code>View</code> \u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>SwiftUI \u4e2d\u7684\u6570\u636e\u6d41\uff1aSwiftUI \u4e2d\u7684\u6570\u636e\u6d41\u53ca\u5176\u4f7f\u7528\u539f\u5219</li> <li>MVVM \u67b6\u6784\uff1a\u867d\u7136\u6211\u4eec\u5df2\u7ecf\u7b80\u5355\u4ecb\u7ecd\u8fc7\uff0c\u4f46\u4f60\u4ecd\u5e94\u542c\u4e00\u542c CS193p \u7684\u8fd9\u8282\u8bfe</li> <li>View Identity\uff1a\u5728\u5e95\u5c42\uff0c\u4e0d\u540c\u7684 View \u4e4b\u95f4\u662f\u5982\u4f55\u533a\u5206\u7684\uff1f</li> </ul>"},{"location":"frontend/swiftui/extensions/#_2","title":"\u6280\u672f\u6027\u77e5\u8bc6","text":"<p>\u8fd9\u4e9b\u6280\u672f\u6027\u7684\u77e5\u8bc6\u662f\u4e00\u4e9b\u201cSwiftUI \u80fd\u505a\u4ec0\u4e48\u201d\u7684\u96c6\u5408\uff0c\u57fa\u672c\u4e0a\u662f\u5b98\u65b9\u6587\u6863\u4e2d\u4f60\u80fd\u7528\u7684\u6240\u6709 SwiftUI \u73b0\u6210\u5de5\u5177\uff0c\u53ef\u4ee5\u9700\u8981\u65f6\u518d\u67e5\u9605\uff0c\u4e5f\u53ef\u4ee5\u65e0\u804a\u65f6\u968f\u4fbf\u7ffb\u7ffb\u3002\u9047\u5230\u95ee\u9898\u65f6\uff0cGoogle\u3001Stackoverflow \u548c WWDC \u89c6\u9891\u662f\u4f60\u53ef\u9760\u7684\u52a9\u624b\u3002</p> <ul> <li>\u539f\u751f\u7ec4\u4ef6\uff1a\u6587\u5b57\u3001\u56fe\u7247\u3001\u6309\u94ae\u7b49\u7ec4\u4ef6</li> <li>\u6392\u5e03\uff1aStack\u3001Grid\u3001ScrollView\u3001NavigationView \u7b49</li> <li>\u6570\u636e\u6d41\u4e0e\u72b6\u6001\uff1aState\u3001Binding\u3001ObservedObject \u7b49</li> <li>\u7ed8\u753b\u4e0e\u52a8\u753b\uff1a\u7ed8\u5236\u5f62\u72b6\u3001\u6dfb\u52a0\u52a8\u753b</li> <li>\u89e6\u63a7\u8bc6\u522b\uff1a\u8bc6\u522b\u7528\u6237\u89e6\u6478\u8f93\u5165</li> <li>View modifier<ul> <li>\u5916\u89c2</li> <li>\u6587\u5b57\u76f8\u5173</li> <li>\u989d\u5916\u7684 UI \u90e8\u4ef6</li> <li>\u5e03\u5c40</li> <li>\u56fe\u50cf\u4e0e\u6e32\u67d3</li> <li>\u7528\u6237\u8f93\u5165\u4e0e\u4e8b\u4ef6</li> <li>\u89c6\u56fe\u7684\u5c55\u793a</li> </ul> </li> <li>\u5728 SwiftUI \u4e2d\u4f7f\u7528 UIKit<ul> <li>CS193p</li> <li>\u5b98\u65b9\u6559\u7a0b</li> <li>\u5b98\u65b9\u6587\u6863</li> </ul> </li> </ul>"},{"location":"frontend/swiftui/extensions/#_3","title":"\u5176\u5b83\u76f8\u5173\u77e5\u8bc6","text":"<ul> <li>Combine \u6846\u67b6\uff1a\u4e3a SwiftUI \u8bbe\u8ba1\u7684\u5f02\u6b65\u4e8b\u4ef6\u7ba1\u7406\u6846\u67b6</li> <li>UIKit \u8bfe\u7a0b\uff1aCS193p \u7684 UIKit \u5b8c\u6574\u8bfe\u7a0b</li> </ul>"},{"location":"frontend/swiftui/hello-world/","title":"Hello World","text":"<p>Info</p> <p>\u76ee\u524d\uff082022 \u5e74 1 \u6708\uff09\u4e3b\u6d41\u7684 iOS \u5f00\u53d1\u4f7f\u7528 Xcode \u9879\u76ee\uff08Xcode project\uff09\u8fdb\u884c\uff0c\u672c\u6587\u4e3a\u4e86\u652f\u6301 iPadOS \u5e73\u53f0\u5e76\u7b80\u5316\u8bf4\u660e\uff0c\u4f7f\u7528\u6700\u65b0\u7684\u7531 Swift Package Manager \u7ba1\u7406\u7684\u9879\u76ee\u683c\u5f0f\uff0c\u6b64\u683c\u5f0f\u5728 13.2 \u4ee5\u4e0a\u7248\u672c\u7684 Xcode \u4e0a\u540c\u6837\u652f\u6301\u3002\u5b9e\u9645\u5f00\u53d1\u65f6\u5efa\u8bae\u4f7f\u7528\u66f4\u52a0\u5b8c\u5584\u7684 Xcode project\u3002</p>"},{"location":"frontend/swiftui/hello-world/#_1","title":"\u521b\u5efa\u9879\u76ee","text":""},{"location":"frontend/swiftui/hello-world/#swift-playgroundsipad","title":"Swift Playgrounds\uff08iPad\uff09","text":"<p>\u5728 Swift Playgrounds\uff084.0 \u4ee5\u4e0a\u7248\u672c\uff09\u4e2d\uff0c\u9009\u62e9\u5e95\u90e8\u7684 <code>App</code>\u3002</p>"},{"location":"frontend/swiftui/hello-world/#xcode-swift-playground-app","title":"Xcode Swift Playground App","text":"<p>\u5728 Xcode\uff0813.2 \u4ee5\u4e0a\u7248\u672c\uff09\u4e2d\uff0c\u9009\u62e9 <code>File &gt; New &gt; Project</code> \u4e2d\u7684 <code>Swift Playground App</code>\u3002</p>"},{"location":"frontend/swiftui/hello-world/#xcode-project","title":"Xcode Project","text":"<p>\u4f20\u7edf\u7684 Xcode project\uff0c\u90e8\u5206\u5185\u5bb9\u4e0e Swift Playground App \u4e0d\u540c\u3002</p> <p>\u6253\u5f00 Xcode\uff0c\u70b9\u51fb <code>Create a new Xcode project</code>\uff0c\u9009\u62e9 <code>iOS</code> \u680f\u4e0b\u7684 <code>App</code>\u3002\u5728\u9879\u76ee\u7684\u914d\u7f6e\u754c\u9762\uff0c\u914d\u7f6e\uff1a</p> <ul> <li>Product Name\uff1a\u5e94\u7528\u540d\u79f0</li> <li>Team\uff1a\u5f00\u53d1\u4f7f\u7528\u7684 Apple ID\uff0c\u53ef\u4ee5\u4e3a <code>None</code></li> <li>Organization Identifier\uff1a\u4e00\u4e2a\u9006\u5e8f\u7684 DNS \u540d\uff0c\u5982\u679c\u4e0d\u8003\u8651\u4e0a\u67b6\u53ef\u4ee5\u4efb\u610f</li> <li>Interface\uff1a\u9009\u62e9 <code>SwiftUI</code></li> <li>Language\uff1a<code>Swift</code></li> <li>Use Core Data \u548c Include Tests\uff1a\u672c\u6559\u7a0b\u4e0d\u6d89\u53ca\uff0c\u53ef\u4ee5\u4e0d\u9009</li> </ul> <p>\u5176\u4f59\u6b65\u9aa4\u6309\u7167\u9ed8\u8ba4\u914d\u7f6e\u5373\u53ef\u3002</p>"},{"location":"frontend/swiftui/hello-world/#hello-world","title":"Hello, world!","text":"<p>\u4f7f\u7528 Swift Playgrounds \u521b\u5efa\u9879\u76ee\u5e76\u8fdb\u5165\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u5de6\u4fa7\u7684\u6e90\u4ee3\u7801\u548c\u53f3\u4fa7\u7684\u5b9e\u65f6\u9884\u89c8\uff1a</p> <p></p> <p>\u5b9e\u65f6\u9884\u89c8\u662f\u771f\u5b9e\u8fd0\u884c\u7684 app\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u8fdb\u884c\u5f00\u53d1\u3001\u8c03\u8bd5\u3002</p> <p>\u6253\u5f00\u4fa7\u8fb9\u680f\uff0c\u53ef\u4ee5\u6d4f\u89c8\u9879\u76ee\u6587\u4ef6\u76ee\u5f55\uff1a</p> <p></p> <p>\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u5c31\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u53ef\u8fd0\u884c\u7684 Hello World \u7a0b\u5e8f\u3002<code>MyApp.swift</code> \u4e2d\u7684\u5185\u5bb9\u5728\u672c\u6559\u7a0b\u4e2d\u4e0d\u6d89\u53ca\uff0c\u53ef\u4ee5\u53c2\u8003 \u540e\u7eed\u62d3\u5c55 \u4e2d\u7684\u201cSwiftUI \u751f\u547d\u5468\u671f\u201d\u3002</p>"},{"location":"frontend/swiftui/hello-world/#hello-world_1","title":"\u6df1\u5165 Hello World","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u8fd9\u4e2a Hello World \u7a0b\u5e8f\uff0c\u5feb\u901f\u5730\u4ecb\u7ecd SwiftUI \u6784\u5efa UI \u7684\u57fa\u672c\u6982\u5ff5\uff0c\u4ee5\u53ca\u4e0e SwiftUI \u6709\u5173\u7684\u4e00\u4e9b Swift \u8bed\u6cd5\u3002</p> <p>\u8fd9\u662f\u6211\u4eec\u4e4b\u524d\u770b\u5230\u7684 <code>ContentView.swift</code>\uff1a</p> <pre><code>import SwiftUI\n\nstruct ContentView: View {\n    var body: some View {\n        VStack {\n            Image(systemName: \"globe\")\n                .imageScale(.large)\n                .foregroundColor(.accentColor)\n            Text(\"Hello, world!\")\n        }\n    }\n}\n</code></pre> <p>\u56e0\u4e3a\u8981\u7528\u5230 <code>SwiftUI</code> \u6846\u67b6\uff0c\u5728\u6587\u4ef6\u7684\u5f00\u5934\u9700\u8981 <code>import SwiftUI</code>\uff0c\u4e4b\u540e SwiftUI \u4e2d\u6240\u6709\u7684\u7b26\u53f7\u5747\u53ef\u76f4\u63a5\u4f7f\u7528\u3002</p> <p>\u5728\u6211\u4eec\u7684 App \u4e2d\uff0c\u4e0a\u9762\u7684 <code>ContentView</code> \u662f\u552f\u4e00\u7684 View\uff08\u5728 <code>MyApp.swift</code> \u4e2d\u53ef\u4ee5\u770b\u5230\u8fd9\u4e00\u70b9\uff09\uff0c\u5176 View \u7531\u5782\u76f4\u6392\u5217\uff08<code>VStack</code>\uff09\u7684\u4e24\u4e2a View\uff08<code>Image</code> \u548c <code>Text</code>\uff09\u6784\u6210\u3002\u5982\u679c\u4f60\u70b9\u51fb\u8fd0\u884c\uff0cApp \u7684\u6240\u6709\u5185\u5bb9\u5c31\u662f <code>ContentView</code>\u3002</p> <p>\u5728 SwiftUI \u4e2d\uff0c\u6240\u6709 UI\uff0c\u65e0\u8bba\u662f\u4e00\u6574\u4e2a\u9875\u9762\uff0c\u8fd8\u662f\u5355\u72ec\u7684\u7ec4\u4ef6\uff0c\u90fd\u662f\u4e00\u4e2a View\u3002\u6211\u4eec\u901a\u8fc7\u7ec4\u5408\u4e0d\u540c\u7684 View \u6765\u6784\u5efa UI\u3002\u5b9a\u4e49\u4e00\u4e2a View \u9700\u8981\uff1a</p> <ul> <li>\u5b9a\u4e49\u4e00\u4e2a\u9075\u5faa <code>View</code> \u534f\u8bae\u7684 <code>struct</code></li> <li>\u5728 <code>struct</code> \u5b9a\u4e49\u4e00\u4e2a\u540d\u79f0\u4e3a <code>body</code>\uff0c\u7c7b\u578b\u4e3a <code>some View</code> \u7684\u8ba1\u7b97\u53d8\u91cf\uff08<code>View</code> \u534f\u8bae\u7684\u89c4\u5b9a\uff09</li> </ul> <p>\u6211\u4eec\u8981\u505a\u7684\uff0c\u5c31\u662f\u5728 <code>body</code> \u4e2d\u63cf\u8ff0\u6211\u4eec\u7684 UI\u3002\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u8282\u5c55\u5f00\u5982\u4f55\u6784\u5efa UI \u7684\u8bdd\u9898\uff0c\u6211\u4eec\u5148\u5173\u6ce8\u5176\u4e2d\u7684\u8bed\u6cd5\u3002</p>"},{"location":"frontend/swiftui/hello-world/#body-some-view","title":"<code>body</code> \u7684\u7c7b\u578b\uff1a<code>some View</code>","text":"<pre><code>struct ContentView: View {\n    var body: some View {\n        VStack {\n            Image(systemName: \"globe\")\n                .imageScale(.large)\n                .foregroundColor(.accentColor)\n            Text(\"Hello, world!\")\n        }\n    }\n}\n</code></pre> <p><code>body</code> \u662f\u4e00\u4e2a\u7c7b\u578b\u4e3a <code>some View</code> \u7684\u8ba1\u7b97\u53d8\u91cf\u3002<code>some</code> \u7684\u542b\u4e49\u662f\uff1a\u201c\u8fd9\u4e2a\u7c7b\u578b\u9075\u5faa <code>View</code> \u8fd9\u4e2a\u534f\u8bae\uff0c\u4f46\u6211\u4e0d\u65b9\u4fbf\u5199\u51fa\u8fd9\u4e2a\u7c7b\u578b\uff0c\u9700\u8981\u7f16\u8bd1\u5668\u6765\u786e\u5b9a\u5b83\u7684\u7c7b\u578b\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c<code>body</code> \u5b9e\u9645\u4e0a\u662f\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u7c7b\u578b\u7684\uff0c\u53ea\u4e0d\u8fc7\u6211\u4eec\u4e0d\u663e\u5f0f\u5730\u5199\u51fa\u6765\u3002\u8fd9\u662f\u4e00\u79cd\u53eb\u505a opaque return type \u7684\u8bed\u6cd5\u3002</p> <p>Note</p> <p>\u4f60\u53ef\u4ee5\u5728\u4e0b\u6587\u4e2d\u7684\u300a<code>body</code> \u7684\u5177\u4f53\u7c7b\u578b\u300b\u770b\u5230\u4e3a\u4ec0\u4e48\u201c\u4e0d\u65b9\u4fbf\u5199\u51fa\u8fd9\u4e2a\u7c7b\u578b\u201d\u3002</p> <p>\u8fd9\u4e5f\u544a\u8bc9\u6211\u4eec\uff0c\u6211\u4eec\u5b9a\u4e49 View\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u662f\u8fd4\u56de\u53e6\u4e00\u4e2a View\u3002\u4f60\u6ca1\u6709\u529e\u6cd5\u5728\u4e0d\u5229\u7528\u5df2\u6709 View \u7684\u60c5\u51b5\u4e0b\u51ed\u7a7a\u751f\u6210\u4e00\u4e2a View\u3002</p> \u5173\u4e8e <code>View</code> \u4e2d\u7684 <code>associatedtype</code> <p><code>View</code> \u7684\u5b9a\u4e49\u4e2d\u6709\u4e00\u4e2a\u9075\u5faa <code>View</code>\u3001\u540d\u4e3a <code>Body</code> \u7684 <code>associatedtype</code>\uff0c\u5e76\u4e14 <code>body</code> \u7684\u7c7b\u578b\u5b9e\u9645\u4e0a\u5c31\u662f\u8fd9\u4e2a <code>Body</code>\uff1a</p> <pre><code>protocol View {\n    associatedtype Body: View\n    @ViewBuilder var body: Body { get }\n}\n</code></pre> <p>\u6ce8\u610f\u5230\u6211\u4eec\u6ca1\u6709\u663e\u5f0f\u5730\u6307\u51fa <code>Body</code>\u3002\u5b9e\u9645\u4e0a\uff0c<code>Body</code> \u662f\u8fd9\u6837\u786e\u5b9a\u7684\uff1a</p> <ol> <li>\u7f16\u8bd1\u5668\u6839\u636e <code>body</code> \u7684\u8868\u8fbe\u5f0f\u63a8\u65ad\u51fa <code>body</code> \u7684\u7c7b\u578b\uff08\u67d0\u4e2a\u9075\u5faa <code>View</code> \u534f\u8bae\u7684\u5177\u4f53\u7c7b\u578b\uff09</li> <li>\u56e0\u4e3a <code>body</code> \u7684\u7c7b\u578b\u662f <code>Body</code>\uff0c\u90a3\u4e48\u63a8\u65ad\u51fa <code>Body</code> \u5c31\u662f\u5728 1 \u4e2d\u63a8\u65ad\u51fa\u7684\u7c7b\u578b</li> </ol> <p>\u4f60\u53ef\u4ee5\u4ece\u4e2d\u770b\u5230 <code>some</code> \u4e0d\u53ef\u6216\u7f3a\u7684\u4f5c\u7528\u3002</p> \u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4ee5 <code>View</code> \u4f5c\u4e3a\u7c7b\u578b <p>\u5982\u679c\u4f60\u628a <code>some View</code> \u6539\u6210 <code>View</code>\uff0c\u4f1a\u51fa\u73b0\u7f16\u8bd1\u9519\u8bef\uff1a</p> <pre><code>Protocol 'View' can only be used as a generic constraint because it has Self or associated type requirements\n</code></pre> <p><code>protocol</code> \u5728\u6709 <code>associatedtype</code> \u9650\u5236\u65f6\u4e0d\u80fd\u591f\u4f5c\u4e3a\u7c7b\u578b\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u786e\u5b9a\u7684\u3001\u9075\u5faa <code>View</code> \u7684\u7c7b\u578b\u3002</p>"},{"location":"frontend/swiftui/hello-world/#view-modifier-view","title":"View modifier\uff1a\u4fee\u9970 View","text":"<pre><code>struct ContentView: View {\n    var body: some View {\n        VStack {\n            Image(systemName: \"globe\")\n                .imageScale(.large)\n                .foregroundColor(.accentColor)\n            Text(\"Hello, world!\")\n        }\n    }\n}\n</code></pre> <p>\u5355\u72ec\u7684\u4e24\u884c <code>.imageScale(.large)</code> \u548c <code>.foregroundColor(.accentColor)</code> \u770b\u8d77\u6765\u5f88\u5947\u602a\uff0c\u5b9e\u9645\u4e0a\u5f88\u597d\u7406\u89e3\u3002<code>Image</code> \u9075\u5faa <code>View</code>\uff0c\u800c <code>imageScale</code> \u548c <code>foregroundColor</code> \u662f <code>View</code> \u7684\u6210\u5458\u51fd\u6570\uff0c\u539f\u6765\u7684\u4ee3\u7801\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>Image(systemName: \"globe\").imageScale(.large).foregroundColor(.accentColor)\n</code></pre> <p>\u6253\u5f00\u6587\u6863\uff0c\u67e5\u770b <code>.imageScale(_:)</code> \u7684\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>/// Scales images within the view according to one of\n/// the relative sizes available including small, medium,\n/// and large images sizes.\nfunc imageScale(_ scale: Image.Scale) -&gt; some View\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f <code>some View</code>\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5c06\u539f\u6765\u7684 View\uff08\u5373 <code>Image</code>\uff09\u8f6c\u6362\u4e3a\u4e86\u53e6\u4e00\u4e2a View\uff0c\u8fd9\u4e2a View \u7684\u56fe\u6807\u5927\u5c0f\u8bbe\u7f6e\u4e3a <code>.large</code>\u3002</p> <p>\u8fd9\u79cd\u51fd\u6570\u53eb\u505a view modifier\uff0c\u4e5f\u5c31\u662f\u5411\u539f\u6765\u7684 View \u8fdb\u884c\u4e00\u5b9a\u7684\u4fee\u9970\uff0c\u7136\u540e\u8fd4\u56de\u4fee\u9970\u540e\u7684 View\u3002</p> <p>\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u51fd\u6570\u5f0f\u7f16\u7a0b\u3002\u5b83\u7684\u597d\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u6bd4\u5982\uff0c\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u4e00\u4e2a View \u8fde\u7eed\u6dfb\u52a0 modifier\uff1a</p> <pre><code>Image(systemName: \"globe\")\n    .imageScale(.large)\n    .foregroundColor(.accentColor)\n</code></pre> <p>\u6bcf\u6b21\u6dfb\u52a0 modifier\uff0c\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u4f9d\u7136\u662f\u67d0\u79cd <code>View</code>\uff0c\u800c\u5f62\u5f0f\u4e0a\u770b\u4e0a\u53bb\u5c31\u50cf\u662f\u4e0d\u65ad\u7ed9 <code>Image</code> \u52a0\u4e0a\u4e0d\u540c\u7684\u6837\u5f0f\u4e00\u6837\u3002</p> \u67e5\u770b\u6587\u6863\u7684\u51e0\u79cd\u65b9\u5f0f <ul> <li>Swift Playgrounds<ul> <li>\u70b9\u51fb\u5bfc\u822a\u680f\u7684 <code>(...) &gt; \u6587\u6863</code>\uff0c\u53ef\u4ee5\u6d4f\u89c8\u6240\u6709\u6587\u6863</li> <li>\u5728\u4efb\u610f\u7b26\u53f7\u4e0a\uff08\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u578b\u3001\u534f\u8bae\u7b49\uff09\u9f20\u6807\u53f3\u952e\u70b9\u51fb\uff08\u6216\u89e6\u6478\u70b9\u51fb\uff09\uff0c\u9009\u62e9 <code>\u5e2e\u52a9</code>\uff0c\u53ef\u4ee5\u5feb\u901f\u67e5\u770b\u8be5\u7b26\u53f7\u76f8\u5173\u6587\u6863</li> </ul> </li> <li>Xcode<ul> <li>\u6309 Cmd+Shift+0 \u53ef\u4ee5\u6253\u5f00\u5e76\u6d4f\u89c8\u6240\u6709\u7684\u5f00\u53d1\u8005\u6587\u6863\u3002</li> <li>\u5728\u4efb\u610f\u7b26\u53f7\u4e0a\uff0c\u6309\u4f4f Option \u5e76\u70b9\u51fb\u8be5\u7b26\u53f7\uff0c\u53ef\u4ee5\u5feb\u901f\u67e5\u770b\u6587\u6863</li> </ul> </li> <li>\u7f51\u9875\u7248\u6587\u6863\uff1ahttps://developer.apple.com/documentation/technologies</li> </ul> \u5173\u4e8e View Modifier \u4e0e <code>View</code> \u7684\u503c\u7c7b\u578b <p><code>struct</code> \u662f\u503c\u7c7b\u578b\uff0c\u6bcf\u6b21\u6dfb\u52a0 modifier \u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u526f\u672c\uff0c\u5e76\u4e0d\u4f1a\u6539\u53d8\u539f\u6765\u7684 View\u3002\u4f8b\u5982\uff1a</p> <pre><code>let view1 = Text(\"Hello\")\nlet view2 = view1.padding()\n</code></pre> <p><code>view1</code> \u5e76\u4e0d\u4f1a\u6dfb\u52a0 padding\u3002Modifier \u662f\u5b8c\u5168\u6ca1\u6709\u526f\u4f5c\u7528\u7684\u3002</p> <code>body</code> \u7684\u5177\u4f53\u7c7b\u578b <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6bcf\u6b21\u6dfb\u52a0 modifier\uff0c<code>body</code> \u7684\u5b9e\u9645\u7c7b\u578b\u90fd\u4f1a\u53d1\u751f\u6539\u53d8\uff1a</p> <pre><code>// Image\nImage(systemName: \"globe\")\n\n// ModifiedContent&lt;Image, _EnvironmentKeyWritingModifier&lt;Scale&gt;&gt;\nImage(systemName: \"globe\")\n    .imageScale(.large)\n\n//ModifiedContent&lt;\n//  ModifiedContent&lt;Image, _EnvironmentKeyWritingModifier&lt;Scale&gt;&gt;,\n//  _EnvironmentKeyWritingModifier&lt;Optional&lt;Color&gt;&gt;\n//&gt;\nImage(systemName: \"globe\")\n    .imageScale(.large)\n    .foregroundColor(.accentColor)\n</code></pre> <p>\u8fd9\u91cc <code>_EnvironmentKeyWritingModifier</code> \u662f SwiftUI \u5185\u7f6e\u7684\u79c1\u6709\u7c7b\u578b\uff0c\u5bf9\u5916\u4e0d\u53ef\u89c1\u3002\u5bb9\u6613\u6307\u51fa\uff0c<code>ModifiedContent</code> \u9075\u5faa <code>View</code>\u3002</p> \u5982\u4f55\u67e5\u770b View \u7684\u7c7b\u578b <p>\u4f60\u53ef\u4ee5\u7528 Swift \u7684\u547d\u4ee4\u884c\u5de5\u5177\u8fdb\u884c\u5feb\u901f\u7684\u5b9e\u9a8c\uff1a</p> <pre><code>liang2kl@liang2kl ~&gt; swift\n\n  1&gt; import SwiftUI\n  2&gt; Image(systemName: \"globe\").imageScale(.large)\n$R0: some View = ModifiedContent&lt;Image, _EnvironmentKeyWritingModifier&lt;Scale&gt;&gt;...\n</code></pre> <p>\u67d0\u4e9b\u7248\u672c\u7684\u547d\u4ee4\u884c\u5de5\u5177\u5e76\u4e0d\u80fd\u6b63\u786e\u663e\u793a\u7c7b\u578b\uff0c\u5982\uff1a</p> <pre><code>$R0: some View = &lt;extracting data from value failed&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>String(describing:)</code> \u6765\u67e5\u770b\uff1a</p> <pre><code>  3&gt; String(describing: $R0)\n$R1: String = \"ModifiedContent&lt;Image, _EnvironmentKeyWritingModifier&lt;Scale&gt;&gt;...\"\n</code></pre> <p>\u8fd9\u5c31\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e3a\u4ec0\u4e48\u9700\u8981\u5199 <code>some View</code>\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u7ed9\u51fa\u6700\u540e\u7684\u7c7b\u578b\u3002<code>body</code> \u5b9e\u9645\u7684\u7c7b\u578b\u5f80\u5f80\u975e\u5e38\u590d\u6742\uff1a\u4e00\u4e2a View \u53ef\u80fd\u662f\u7531\u53e6\u5916\u4e00\u4e2a\u6216\u591a\u4e2a View \u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u6784\u6210\u7684\uff0c\u800c\u4e14\u8fd9\u79cd\u6784\u6210\u5f80\u5f80\u4f7f\u7528\u6a21\u7248\u5b8c\u6210\uff0c\u6b63\u5982 <code>ModifiedContent&lt;Image, _EnvironmentKeyWritingModifier&lt;Scale&gt;&gt;</code> \u663e\u793a\u7684\u90a3\u6837\u3002</p> <p>\u800c\u4e14\uff0c\u5728\u6211\u4eec\u7ec4\u5efa View \u7684\u65f6\u5019\uff0c\u6211\u4eec\u5199\u7684 View \u7684\u7c7b\u578b\u662f\u4e0d\u65ad\u53d8\u5316\u7684\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u968f\u7740\u6211\u4eec\u5199\u4ee3\u7801\u800c\u4e0d\u65ad\u53d8\u5316\u7684 View \u800c\u4e0d\u65ad\u5730\u4fee\u6539\u7c7b\u578b\u3002\u8fd9\u4ef6\u4e8b\u4ea4\u7531\u7f16\u8bd1\u5668\u5b8c\u6210\u518d\u5408\u9002\u4e0d\u8fc7\u2014\u2014Swift \u5177\u6709\u81ea\u52a8\u7c7b\u578b\u63a8\u65ad\uff0c\u7f16\u8bd1\u5668\u6839\u636e <code>var body</code> \u4e2d\u7684\u8868\u8fbe\u5f0f\u5c31\u53ef\u4ee5\u786e\u5b9a <code>body</code> \u7684\u7c7b\u578b\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u4e0d\u5fc5\u5bf9\u8fd9\u4e2a\u8bdd\u9898\u8fc7\u4e8e\u8d39\u5fc3\uff0c\u4f60\u53ea\u9700\u8981\u4fdd\u8bc1 <code>body</code> \u4e2d\u8fd4\u56de\u7684\u662f\u4e00\u4e2a View \u5373\u53ef\uff0c\u5269\u4e0b\u7684\u5de5\u4f5c\u5c31\u4ea4\u7ed9\u7f16\u8bd1\u5668\u5427\u3002</p>"},{"location":"frontend/swiftui/hello-world/#html","title":"HTML\uff1f","text":"<pre><code>struct ContentView: View {\n    var body: some View {\n        VStack {\n            Image(systemName: \"globe\")\n                .imageScale(.large)\n                .foregroundColor(.accentColor)\n            Text(\"Hello, world!\")\n        }\n    }\n}\n</code></pre> <p>Hello World \u7a0b\u5e8f\u4e2d\u8fd8\u6709\u4e00\u4e2a\u4ee4\u4eba\u8ff7\u60d1\u7684\u5730\u65b9\uff1a<code>VStack</code> \u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u5185\u5bb9\u770b\u4e0a\u53bb\u5c31\u50cf HTML \u4e00\u6837\uff0c\u7ed3\u6784\u975e\u5e38\u76f4\u89c2\uff0c\u4f46\u5e76\u4e0d\u50cf\u662f\u4e00\u822c\u7684 Swift \u8bed\u8a00\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u7684\u786e\u662f\u7c7b\u578b\u5b89\u5168\u3001\u9759\u6001\u7c7b\u578b\u7684 Swift \u8bed\u8a00\uff0c\u800c\u4e14\u8fd9\u79cd\u8bed\u6cd5\u5c31\u662f\u4e3a\u4e86 SwiftUI \u800c\u8bbe\u8ba1\u7684\u3002\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u7559\u5230 \u6784\u5efa View \u4e2d\u4ecb\u7ecd\u3002</p>"},{"location":"hardware/","title":"\u786c\u4ef6\u8bbe\u8ba1","text":"<p>Note</p> <p>\u672c\u6587\u6863\u4ee5\u4e2a\u4eba\u4e3a\u89c6\u89d2\u64b0\u5199\uff0c\u5982\u6709\u504f\u9887\u4e4b\u5904\u8bf7\u8054\u7cfb\u4f5c\u8005\u66f4\u6b63\u3002</p> <p>\u8ba1\u7b97\u673a\u7cfb\u7684\u300a\u6570\u5b57\u903b\u8f91\u7535\u8def\u300b\u8bfe\u7a0b\u7684\u8bb2\u6388\uff0c\u662f\u4e0e\u5176\u4ed6\u9662\u7cfb\u5b8c\u5168\u4e0d\u540c\u7684\uff1a\u8bb2\u6700\u57fa\u672c\u7684\u7ec4\u5408\u903b\u8f91\u548c\u65f6\u5e8f\u903b\u8f91\u7535\u8def\u7684\u5206\u6790\u4e0e\u8bbe\u8ba1\u3002\u9009\u8bfe\u7684\u5b66\u751f\uff0c\u80cc\u7f51\u539f\u4e4b\u4f59\uff0c\u6bcf\u6bcf\u82b1\u534a\u4e2a\u665a\u4e0a\uff0c\u770b\u5341\u51e0\u4e2a\u6570\u7535 Slides\uff0c\u4fbf\u5f97\u5230\u4e00\u4e2a B+ \u6216\u4ee5\u4e0a\u7684\u6210\u7ee9 \u2014\u2014 \u8fd9\u662f\u5e38\u5e38\u53d1\u751f\u7684\u4e8b\uff0c\u73b0\u5728\u5f80\u5f80\u8981\u62ff\u5230\u4e00\u4e2a P\uff0c\u2014\u2014 \uff0c\u5018\u82e5\u7b97\u5361\u8bfa\u56fe\u5316\u7b80\u7b97\u7684\u5feb\u4e9b\uff0c\u4fbf\u53ef\u4ee5\u62ff\u5230\u4e00\u4e2a A-\uff0c\u6216\u8005\u751a\u81f3\u662f A\uff0c\u7136\u540e\u6cbe\u6cbe\u81ea\u559c\u4e86\u3002\u4f46\u8fd9\u4e9b\u5b66\u751f\uff0c\u591a\u662f\u4e0d\u64c5\u957f\u8003\u8bd5\uff0c\u5927\u62b5\u6ca1\u6709\u5982\u6b64\u5e78\u8fd0\u2026\u2026</p> <p>\u7ad9\u5728\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u4e0e\u8bbe\u8ba1\u300b\u8bfe\u7a0b\uff08\u5b98\u65b9\u540d\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\uff09\u6240\u9700\u8981\u7684\u89d2\u5ea6\uff0c\u6211\u4eec\u6765\u56de\u770b\u5728\u5927\u4e8c\u6625\u7684\u534a\u4e2a\u5b66\u671f\u7684\u6570\u7535\u8bfe\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u5b66\u4f1a\u4ec0\u4e48\u4e1c\u897f\u3002\u5927\u62b5\u6765\u8bf4\uff0c\u53ef\u4ee5\u6982\u62ec\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u4e86\u89e3\u7ec4\u5408\u903b\u8f91\u7535\u8def\u7684\u57fa\u672c\u7ec4\u6210\u90e8\u4ef6\u4e0e\u65f6\u5e8f\u903b\u8f91\u7535\u8def\u7684\u57fa\u672c\u7ec4\u6210\u90e8\u4ef6\uff08\u53ea\u9700\u77e5\u9053\u5176\u529f\u80fd\uff0c\u4e0d\u9700\u8981\u63a2\u7a76\u5176\u5e95\u5c42\u5b9e\u73b0\uff09</li> <li>\u4e86\u89e3\u6ce2\u5f62\u56fe\u7684\u770b\u6cd5\uff0c\u53ef\u4ee5\u6839\u636e\u6ce2\u5f62\u56fe\u8bbe\u8ba1\u7ec4\u5408\u903b\u8f91\u548c\u65f6\u5e8f\u903b\u8f91\u7535\u8def</li> <li>\u4e86\u89e3\u600e\u4e48\u4f7f\u7528\u786c\u4ef6\u7f16\u7a0b\u8bed\u8a00\u5c06\u5b9e\u73b0\u7ec4\u5408\u903b\u8f91\u7535\u8def\u3001\u540c\u6b65\u65f6\u5e8f\u903b\u8f91\u7535\u8def</li> <li>\u9488\u5bf9\u6570\u7535\u8003\u8bd5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u518d\u5b66\u4f1a\u4f7f\u7528\u5361\u8bfa\u56fe\u8fdb\u884c\u6700\u7b80\u4e0e\u6216\u8868\u8fbe\u5f0f\u7684\u5316\u7b80\uff0c\u7c7b\u4f3c\u4e8e\u5c0f\u5b66\u65f6\u7684\u201c\u770b\u8c01\u7b97\u7684\u53c8\u5feb\u53c8\u5bf9\u201d</li> </ul> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u4e00\u65e6\u8bfe\u7a0b\u8bb2\u5230\u4ec0\u4e48\u4e09\u6781\u7ba1\u7684\u7279\u6027\uff0c\u8bb2\u5230\u4ec0\u4e48 CMOS \u7ba1\u7684\u7279\u70b9\uff0c\u5982\u679c\u4f60\u5e76\u4e0d\u5bf9\u8fd9\u4e9b\u611f\u5174\u8da3\uff0c\u90a3\u4f60\u5927\u53ef\u4ee5\u53bb\u601d\u5fd6\u81ea\u5df1\u7684\u5348\u996d\uff0c\u8fd9\u53ef\u80fd\u6bd4\u641e\u61c2\u4e09\u7ea7\u7ba1\u7684\u56db\u79cd\u5de5\u4f5c\u6a21\u5f0f\u5bf9\u63d0\u5347\u5e78\u798f\u611f\u6709\u5e2e\u52a9\u7684\u591a\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u9010\u70b9\u5bf9\u4e0a\u8ff0\u8fdb\u884c\u4ecb\u7ecd\u3002</p> <ul> <li>\u7ec4\u5408\u903b\u8f91\u7535\u8def\u4e0e\u65f6\u5e8f\u903b\u8f91\u7535\u8def\u90e8\u4ef6\uff1a\u4e0a\u8bfe\u4f1a\u8bb2\u8fd9\u4e9b\u90e8\u4ef6\u7684\u8bbe\u8ba1\u65b9\u6cd5\uff0c\u4e86\u89e3\u57fa\u672c idea \u5373\u53ef\uff0c\u6ca1\u5fc5\u8981 get your hands dirty \u7136\u540e\u53bb\u5b9e\u9645\u628a\u7535\u8def\u56fe\u4ec0\u4e48\u7684\u6284\u4e0b\u6765\uff0c\u8003\u8bd5\u53ea\u4f1a\u8003\u600e\u4e48\u628a\u8fd9\u4e9b\u90e8\u4ef6\u7ec4\u5408\u8d77\u6765\u5b9e\u73b0\u529f\u80fd</li> <li>\u6ce2\u5f62\u56fe\uff1a\u4e5f\u662f\u53ea\u6709\u7406\u89e3\u96be\u5ea6\u7684\u9879\u76ee\uff0c\u4f46\u662f\u662f\u65f6\u5e8f\u903b\u8f91\u7684\u57fa\u672c</li> <li>\u786c\u4ef6\u7f16\u7a0b\u8bed\u8a00\uff1a\u63a8\u8350\u5728\u300a\u6570\u5b57\u903b\u8f91\u5b9e\u9a8c\u300b\u8bfe\u7a0b\u4e2d\u5373\u4f7f\u7528 Verilog \u6216\u8005 SystemVerilog  \u8fdb\u884c\u7f16\u5199\uff0c\u522b\u518d\u6284\u90a3\u7834 VHDL \u4ee3\u7801\u4e86\uff0c\u8fd9\u91cc\u63a8\u8350 \u8fd9\u7bc7\u6587\u6863 \u7684\u201c\u901a\u8fc7\u4f8b\u5b50\u5b66\u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\u201d\u90e8\u5206</li> </ul>"},{"location":"hardware/cod/","title":"\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\u8bfe\u7a0b\u5b9e\u9a8c\u76f8\u5173","text":"<p>\u9996\u5148\u5fc5\u987b\u8981\u5439\u4e00\u6ce2\u300a\u8ba1\u539f\u300b\u8bfe\u7a0b\u7684\u5927\u5b9e\u9a8c\u5b9e\u9a8c\u6587\u6863\uff0c\u57fa\u672c\u6db5\u76d6\u4e86\u5b9e\u9a8c\u57fa\u7840\u90e8\u5206\u7684\u6240\u6709\u5185\u5bb9\uff0c\u8fd9\u91cc\u6211\u5c31\u53ea\u518d\u5199\u4e00\u4e9b\u4e2a\u4eba\u611f\u89c9\u8e29\u4e86\u4e0d\u5c11\u5751\u7684\u5730\u65b9\u5427\u3002</p>"},{"location":"hardware/cod/#ucore","title":"\u5173\u4e8e uCore \u7684\u53e6\u4e00\u4e9b\u63d0\u793a","text":"<ul> <li>\u7cbe\u786e\u5f02\u5e38\uff1a\u5f02\u5e38\u6216\u4e2d\u65ad\u53d1\u751f\u65f6\u8003\u8651 mepc \u6216 sepc \u662f\u5426\u8bbe\u7f6e\u5728\u4e86\u6b63\u786e\u7684\u4f4d\u7f6e\uff0c\u540c\u65f6\u662f\u5426\u771f\u7684\u5c06\u53d1\u751f\u5f02\u5e38\u7684\u8fd9\u6761\u6307\u4ee4\u6548\u679c\u5b8c\u5168\u6d88\u9664\u3002\u5982 <code>sw a5, 0(a5)</code> \u8fd9\u91cc\u53d1\u751f\u4e86\u5f02\u5e38\uff0c\u90a3\u4e48\u8bf7\u786e\u4fdd\u4f60\u7684\u8bbe\u8ba1\u4e0d\u4f1a\u4fee\u6539 <code>a5</code> \u7684\u503c\u3002</li> <li>\u5f02\u5e38\u79cd\u7c7b\uff1a\u548c\u9875\u8868\u76f8\u5173\u7684\u5f02\u5e38\u662f\u8f83\u4e3a\u7e41\u7410\u7684\uff0c\u8fd9\u91cc\u6211\u63a8\u8350\u4f7f\u7528\u548c\u505a\u7f51\u539f\u8def\u7531\u5668\u5b9e\u9a8c\u65f6\u76f8\u540c\u7684\u65b9\u5f0f\uff0c\u76f4\u63a5\u5c06\u5bf9\u5e94\u7684\u6587\u6863\u539f\u6587\u4f5c\u4e3a\u6ce8\u91ca\u7c98\u8d34\u5230\u4ee3\u7801\u4e2d\uff0c\u7136\u540e\u4e00\u53e5\u8bdd\u4e00\u53e5\u8bdd\u5b9e\u73b0\u3002\u6ce8\u610f Page Table Walker \u8fdb\u884c\u865a\u5b9e\u5730\u5740\u8f6c\u6362\u65f6\u4e5f\u53ef\u80fd\u4f1a\u9047\u5230\u4e2d\u95f4\u7ed3\u679c Not Valid \u5f02\u5e38\u3002</li> <li>\u4eff\u771f\u5de5\u5177\uff1a\u89c1\u4e0b\u8282\u3002</li> </ul>"},{"location":"hardware/cod/#_2","title":"\u5173\u4e8e\u4eff\u771f\u5de5\u5177","text":"<p>\u79c1\u4ee5\u4e3a\u9650\u5236\u5f88\u591a\u7ec4\u5de5\u4f5c\u6548\u7387\u7684\u771f\u6b63\u539f\u56e0\u662f\u4eff\u771f\u5de5\u5177\u3002\u8ddf Hoxxxr9 \u804a\u5929\u65f6\uff0c\u5176\u9610\u8ff0\u8fc7\u9020\u673a\u65f6\u7684\u72b6\u6001\uff1a\u6539\u51e0\u884c\u4ee3\u7801\uff0c\u5f00\u59cb\u7528 Vivado \u81ea\u5e26\u7684\u4eff\u771f\uff0c\u7136\u540e\u6253\u5f00\u4e00\u96c6\u300a\u4e2d\u4e8c\u75c5\u4e5f\u8981\u8c08\u604b\u7231\u300b\u5f00\u59cb\u770b\uff0c\u770b\u5b8c\u4e00\u96c6\u57fa\u672c\u4eff\u771f\u6ce2\u5f62\u624d\u80fd\u8dd1\u7684\u5dee\u4e0d\u591a\uff0c\u7136\u540e\u53bb\u770b\u6ce2\u5f62\u8c03\u65f6\u5e8f\uff08\u628a\u6ce2\u5f62\u62df\u5408\u6210\u81ea\u5df1\u60f3\u8981\u7684\u6837\u5b50\uff09\u3002\u7136\u540e\u518d\u6539\u51e0\u884c\u4ee3\u7801\uff0c\u518d\u5f00\u59cb\u4eff\u771f\uff0c\u8fdb\u5165\u4e0b\u4e00\u4e2a\u5faa\u73af...</p> <p>\u5728\u8fd9\u91cc\u6211\u63a8\u8350\u4e00\u4e2a\u901f\u5ea6\u66f4\u5feb\u7684\u4eff\u771f\u5de5\u5177 Verilator\uff0c\u4e00\u822c\u60f3\u8981\u5c06 uCore \u4eff\u771f\u5230\u5f00\u673a\u81ea\u68c0\u65f6\u4f60\u51fa\u9519\u7684\u5730\u65b9\uff0c\u5373\u4f7f\u53bb\u6539 uCore \u7684\u4ee3\u7801\u5220\u6389\u4e00\u4e9b\u6ca1\u7528\u7684\u529f\u80fd\u4e5f\u8981 30min ~ 1h \u5de6\u53f3\uff0c\u66f4\u6709\u751a\u8005\u751a\u81f3\u665a\u4e0a\u628a\u4eff\u771f\u6253\u5f00\uff0c\u7b2c\u4e8c\u5929\u65e9\u4e0a\u8d77\u6765\u770b\u6ce2\u5f62\uff0c\u800c Verilator \u53ef\u4ee5\u5728 1min \u5de6\u53f3\u5c31\u5b8c\u6210\u8fd9\u4e2a\u5de5\u4f5c\u3002\u5177\u4f53\u7684\u5b89\u88c5\u8fc7\u7a0b\u6211\u4eec\u8fd9\u91cc\u4e0d\u505a\u8d58\u8ff0\uff0c\u8bf7\u81ea\u884c\u9605\u8bfb\u5176\u4f7f\u7528\u6587\u6863\uff0c\u800c\u5176\u4f7f\u7528\u8fc7\u7a0b\u5927\u6982\u53ef\u4ee5\u6982\u62ec\u4e3a\uff1a\u5199\u4e00\u4e2a Fake SRAM \u4e0e Fake UART\uff0c\u7136\u540e\u5728 testbench \u91cc\u7528\u8fd9\u4e2a\u5668\u4ef6\u6362\u6389\u539f\u6765\u7684\u5668\u4ef6\uff0c\u8fdb\u800c\u4f7f\u7528 Verilator \u4eff\u771f\u3002</p> <p>\u6240\u8c13 Fake\uff0c\u662f\u8bf4\u4f60\u81ea\u5df1\u53bb\u6a21\u62df\u8fd9\u4e2a\u5668\u4ef6\u7684\u529f\u80fd\uff0c\u5e76\u5c3d\u53ef\u80fd\u7684\u4fdd\u6301\u4f60\u7684\u5b9e\u73b0\u4e0e\u5668\u4ef6\u539f\u6765\u7684\u5b9e\u73b0\u4e00\u81f4\uff0c\u540c\u65f6\u53ef\u4ee5\u8f93\u51fa\u4e00\u4e9b\u8c03\u8bd5\u4fe1\u606f\uff0c\u6bd4\u5982\u5728 UART \u6536\u5230\u5b57\u7b26\u65f6\u7528 <code>$display</code> \u76f4\u63a5\u6253\u5370\u5230 stdout \u91cc\u3002</p> <p>\u540c\u65f6\uff0cVerilator \u81ea\u5e26\u7684 code linter \u529f\u80fd\u53ef\u4ee5\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u8d77\u5230\u5e2e\u52a9\u68c0\u67e5\u4ee3\u7801\u4e2d\u9519\u8bef\u7684\u4f5c\u7528\uff0c\u4e5f\u5e2e\u52a9\u4e86\u7b14\u8005\u5728\u9020\u673a\u8fc7\u7a0b\u4e2d\u89e3\u51b3\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\u6bd4\u5982\u628a\u4e00\u4e2a 26 \u4f4d\u5bbd\u7684\u4fe1\u53f7\u5f80\u4e0b\u4f20\u65f6\u4e0d\u5c0f\u5fc3\u8f93\u51fa\u5199 <code>wire[25:0]</code>\uff0c\u8f93\u5165\u5199 <code>input wire</code> \u800c\u4e22\u4e86\u4f4d\u5bbd\uff0cVivado \u53ea\u4f1a\u62a5 Warning\uff0c\u800c Verilator \u5bf9\u4e8e\u4f4d\u5bbd\u4e0d\u5339\u914d\u5219\u4f1a\u62a5 Error \u5e76\u63d0\u9192\u4f60\u4fee\u6539\u6216\u5ffd\u7565\u3002</p> <p>\u6b64\u5916\uff0c\u4e5f\u6709 iVerilog \u7b49\u66f4\u7b80\u5355\u7684\u4eff\u771f\u5de5\u5177\uff0c\u4f46\u53ef\u80fd\u4e5f\u6709\u4e00\u4e9b\u5751\uff0c\u6b22\u8fce\u540c\u5b66\u4eec\u81ea\u7531\u63a2\u7d22\u3002</p> <p>\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u8282\u7701\u4e0b\u6765\u5927\u91cf\u7684\u65f6\u95f4\u4e0d\u662f\u5728\u7b49\u4eff\u771f\uff0c\u800c\u662f\u76f4\u63a5\u53bb\u770b\u300a\u4e2d\u4e8c\u75c5\u4e5f\u8981\u8c08\u604b\u7231\u300b\u4e86\u3002\u7b14\u8005\u9020\u673a\u671f\u95f4\u7528\u4e09\u4e2a\u665a\u4e0a\u770b\u5b8c\u4e86\u4e24\u5b63 + \u5267\u573a\u7248\u3002</p>"},{"location":"languages/","title":"\u7f16\u7a0b\u8bed\u8a00","text":"<p>\u672c\u90e8\u5206\u4e3b\u8981\u6536\u96c6\u4e86\u5e38\u89c1\u7684\u7f16\u7a0b\u8bed\u8a00\u7684\u57fa\u672c\u5165\u95e8\u6307\u5bfc\uff0c\u5728\u5165\u95e8\u4e00\u95e8\u65b0\u8bed\u8a00\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u7740\u8bfb\u4e00\u8bfb\u8fd9\u91cc\u7684\u6559\u5b66\u6587\u6863\u3002</p> <p>\u6211\u4eec\u5c1d\u8bd5\u7701\u7565\u4e86\u4e00\u4e9b\u8f83\u4e3a\u7b80\u5355\u7684\u5185\u5bb9\uff0c\u66f4\u6ce8\u91cd\u8bb2\u89e3\u66f4\u5bb9\u6613\u51fa\u73b0\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u7684\u8bed\u6cd5\u70b9\u3001\u8bed\u6cd5\u7cd6\u3002</p>"},{"location":"languages/html/","title":"HTML \u8bed\u8a00\u57fa\u7840","text":""},{"location":"languages/html/#html_1","title":"\u521d\u59cb HTML","text":"<p>HTML \u7684\u5168\u79f0\u4e3a Hyper Text Markup Language\uff08\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\uff09\uff0c\u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0\u7f51\u9875\u7684\u6807\u8bb0\u8bed\u8a00\u3002\u4e92\u8054\u7f51\u4e0a\u4e94\u5f69\u7f24\u7eb7\u7684\u7f51\u9875\u5c31\u662f\u4f7f\u7528 HTML \u8fdb\u884c\u63cf\u8ff0\u7684\u3002</p> <p>\u8fd9\u662f\u6700\u7b80\u5355\u7684 HTML \u6587\u672c\uff1a</p> <pre><code>&lt;body&gt;\n    &lt;h1&gt;\u8fd9\u662f\u6807\u9898&lt;/h1&gt;\n    &lt;p&gt;\u8fd9\u662f\u6bb5\u843d\u3002\u548c\u6211\u4e00\u8d77\u8bfb\uff1a&lt;/p&gt;\n    &lt;p&gt;\u4f60\u2014\u2014\u597d\u2014\u2014\u4e16\u2014\u2014\u754c\u2014\u2014&lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5 HTML \u6587\u672c\u3002</p> <p>\u4e0d\u96be\u53d1\u73b0\uff0cHTML \u6587\u672c\u7531\u5c42\u7ea7\u7ed3\u6784\u7ec4\u6210\u3002\u6bcf\u4e00\u7ea7\u5185\u5bb9\u88ab\u4e00\u5bf9 HTML \u6807\u7b7e\u5305\u56f4\uff0c\u6784\u6210\u4e00\u4e2a HTML \u5143\u7d20\u3002\u5143\u7d20\u4e4b\u95f4\u53ef\u4ee5\u5d4c\u5957\u3002</p> <pre><code>&lt;\u6807\u7b7e&gt;\u5185\u5bb9&lt;/\u6807\u7b7e&gt;\n</code></pre> <p>\u5728\u8fd9\u6bb5\u6700\u7b80\u5355\u7684 HTML \u6587\u672c\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u89c1\u5230\u4e86\u4e09\u79cd\u4e0d\u540c\u7684 HTML \u5143\u7d20\uff1a</p> <ul> <li><code>&lt;body&gt;</code> \u5143\u7d20\u8868\u793a\u7f51\u9875\u7684\u4e3b\u4f53\u5185\u5bb9\uff0c\u7528\u6765\u5bb9\u7eb3\u7f51\u9875\u4e0a\u6240\u6709\u53ef\u89c1\u5143\u7d20\uff1b</li> <li><code>&lt;h1&gt;</code> \u5143\u7d20\u8868\u793a\u4e00\u7ea7\u6807\u9898\uff1b</li> <li><code>&lt;p&gt;</code> \u5143\u7d20\u8868\u793a\u6bb5\u843d\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u8fd9\u6bb5\u6700\u7b80\u5355\u7684 HTML \u6587\u672c\u5e76\u4e0d\u8db3\u4ee5\u63cf\u8ff0\u4e00\u4e2a\u5b8c\u6574\u7684\u7f51\u9875\u3002\u6211\u4eec\u6765\u770b\u4e0b\u9762\u7684\u793a\u4f8b\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;HTML \u793a\u4f8b&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\u8fd9\u662f\u6807\u9898&lt;/h1&gt;\n        &lt;p&gt;\u8fd9\u662f\u6bb5\u843d\u3002\u548c\u6211\u4e00\u8d77\u8bfb\uff1a&lt;/p&gt;\n        &lt;p&gt;\u4f60\u2014\u2014\u597d\u2014\u2014\u4e16\u2014\u2014\u754c\u2014\u2014&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6 <code>index.html</code>\uff0c\u5c06\u4e0a\u9762\u8fd9\u6bb5\u6587\u672c\u7c98\u8d34\u8fdb\u53bb\uff0c\u4fdd\u5b58\u540e\u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00 <code>index.html</code>\u3002</p> <p>\u76f8\u6bd4\u4e8e\u6700\u7b80\u5355\u7684 HTML \u6587\u672c\uff0c\u8fd9\u6bb5\u5b8c\u6574\u7684 HTML \u7f51\u9875\u591a\u51fa\u4e86\u4ee5\u4e0b\u5143\u7d20\uff1a</p> <ul> <li><code>&lt;!DOCTYPE html&gt;</code> \u7528\u4e8e\u8868\u793a\u8fd9\u662f\u4e00\u6bb5 HTML \u6587\u672c\uff1b</li> <li><code>&lt;html&gt;</code> \u5143\u7d20\u662f\u4e00\u4e2a\u5b8c\u6574\u7684 HTML \u7f51\u9875\u7684\u6839\u5143\u7d20\uff1b</li> <li><code>&lt;head&gt;</code> \u5143\u7d20\u7528\u6765\u5bb9\u7eb3\u8fd9\u4e2a\u5b8c\u6574\u7684 HTML \u7f51\u9875\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff08meta information\uff09\uff1b</li> <li><code>&lt;meta&gt;</code> \u5143\u7d20\u7528\u6765\u8868\u793a\u8fd9\u4e2a\u5b8c\u6574\u7684 HTML \u7f51\u9875\u7684\u5143\u4fe1\u606f\uff1b</li> <li><code>&lt;title&gt;</code> \u5143\u7d20\u7528\u6765\u8868\u793a\u8fd9\u4e2a\u7f51\u9875\u7684\u6807\u9898\u3002</li> </ul> <p>\u8fd9\u4e9b\u5143\u7d20\u770b\u8d77\u6765\u590d\u6742\uff0c\u4f46\u5b83\u4eec\u662f\u6bcf\u4e2a HTML \u7f51\u9875\u7684\u56fa\u5b9a\u7ec4\u6210\u90e8\u5206\u3002\u4f60\u53ef\u4ee5\u5c06\u5b83\u4eec\u89c6\u4e3a\u4e00\u5957\u56fa\u5b9a\u7684\u6846\u67b6\uff0c\u5f53\u4f60\u60f3\u8981\u4e66\u5199\u65b0\u7684 HTML \u9875\u9762\u65f6\uff0c\u53ea\u9700\u586b\u5199 <code>&lt;body&gt;</code> \u5143\u7d20\u7684\u5185\u5bb9\u5373\u53ef\u3002</p> <p>\u5b66\u4f1a\u6a21\u4eff</p> <p>HTML \u5e76\u4e0d\u9700\u8981\u523b\u610f\u5b66\u4e60\u3002\u89c2\u5bdf\u793a\u4f8b\uff0c\u7406\u89e3 HTML \u7684\u7ed3\u6784\uff0c\u5177\u5907\u57fa\u672c\u7684\u9605\u8bfb\u80fd\u529b\uff0c\u80fd\u591f\u52a8\u624b\u9b54\u6539\u3001\u4eff\u5199\u7b80\u5355\u7684\u9875\u9762\u5373\u53ef\u3002</p>"},{"location":"languages/html/#html_2","title":"\u5178\u578b\u7684 HTML \u5143\u7d20\u4e0e\u5c5e\u6027","text":"<p>HTML \u53ef\u4ee5\u6ee1\u8db3\u7edd\u5927\u591a\u6570\u6587\u672c\u6392\u7248\u9700\u6c42\u3002</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;HTML \u6587\u672c\u5177\u6709\u4e30\u5bcc\u7684\u683c\u5f0f\uff0c\u5982&lt;b&gt;\u52a0\u7c97&lt;/b&gt;\u3001&lt;i&gt;\u659c\u4f53&lt;/i&gt;\u3001&lt;del&gt;\u5220\u9664&lt;/del&gt;\u3002&lt;/p&gt;\n    &lt;p&gt;\u6807\u7b7e\u4e4b\u95f4\u53ef\u4ee5\u5d4c\u5957\uff0c&lt;b&gt;\u4ee5\u8868\u8fbe&lt;i&gt;\u66f4\u4e3a&lt;del&gt;\u82b1\u54e8&lt;/del&gt;\u591a\u6837&lt;/i&gt;\u7684\u683c\u5f0f&lt;/b&gt;\u3002&lt;/p&gt;\n    &lt;p&gt;\u4f60\u8fd8\u53ef\u4ee5\u5728 HTML \u6587\u672c\u4e2d\u63d2\u5165&lt;a href=\"https://www.baidu.com\"&gt;\u94fe\u63a5&lt;/a&gt;\u3002&lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5 HTML \u6587\u672c\u3002</p> <p>\u5143\u7d20\u7684\u5c5e\u6027</p> <p>\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5143\u7d20 <code>&lt;a&gt;</code> \u8f83\u4e3a\u7279\u6b8a\u3002\u4ece\u5f62\u5f0f\u4e0a\u770b\uff0c\u5b83\u591a\u51fa\u4e00\u4e2a <code>href=\"...\"</code>\uff0c\u7528\u6765\u63cf\u8ff0\u8be5\u94fe\u63a5\u7684\u76ee\u6807\u5730\u5740\u3002\u8fd9\u91cc\u7684 <code>html</code> \u79f0\u4e3a\u5143\u7d20 <code>&lt;a&gt;</code> \u7684\u5c5e\u6027\u3002 </p> <p>HTML \u53ef\u4ee5\u63cf\u8ff0\u6709\u5e8f\u548c\u65e0\u5e8f\u5217\u8868\u3002</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;\u8fd9\u662f HTML \u65e0\u5e8f\u5217\u8868\uff1a&lt;/p&gt;\n    &lt;ul&gt;\n        &lt;li&gt;\u7b2c\u4e00\u9879&lt;/li&gt;\n        &lt;li&gt;\u7b2c\u4e8c\u9879&lt;/li&gt;\n        &lt;li&gt;\u7b2c\u4e09\u9879&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;\u8fd9\u662f HTML \u6709\u5e8f\u5217\u8868\uff1a&lt;/p&gt;\n    &lt;ol&gt;\n        &lt;li&gt;\u7b2c\u4e00\u9879&lt;/li&gt;\n        &lt;li&gt;\u7b2c\u4e8c\u9879&lt;/li&gt;\n        &lt;li&gt;\u7b2c\u4e09\u9879&lt;/li&gt;\n    &lt;/ol&gt;\n&lt;/body&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5 HTML \u6587\u672c\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728 HTML \u6587\u672c\u4e2d\u6dfb\u52a0\u4e92\u8054\u7f51\u4e0a\u7684\u56fe\u7247\u3002</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;\u4f60\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u56fe\u7247\u3002&lt;/p&gt;\n    &lt;img src=\"\u66ff\u6362\u4e3a\u4f60\u7684\u56fe\u7247\u5730\u5740\" alt=\"Loading...\" /&gt;\n&lt;/body&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5 HTML \u6587\u672c\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728 HTML \u6587\u672c\u4e2d\u63d2\u5165\u8868\u683c\u3002</p> <pre><code>&lt;body&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;(1, 1)&lt;/td&gt;\n            &lt;td&gt;(1, 2)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;(2, 1)&lt;/td&gt;\n            &lt;td&gt;(2, 2)&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5 HTML \u6587\u672c\u3002</p> <p>\u9605\u8bfb\u5b66\u4e60\u4e86\u4e0a\u8ff0\u793a\u4f8b\u4ee3\u7801\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u603b\u7ed3\u4e00\u4e0b\u6211\u4eec\u6240\u5b66\u5230\u7684\u5178\u578b\u7684 HTML \u5143\u7d20\u4e0e\u5c5e\u6027\u3002</p> \u540d\u79f0 \u542b\u4e49 \u5c5e\u6027 <code>&lt;p&gt;</code> \u6bb5\u843d \u2014 <code>&lt;h1&gt;</code> \u4e00\u7ea7\u6807\u9898 \u2014 <code>&lt;h2&gt;</code> \u4e8c\u7ea7\u6807\u9898 \u2014 <code>&lt;div&gt;</code> \u5206\u7ec4 \u2014 <code>&lt;a&gt;</code> \u94fe\u63a5 href=\"\u94fe\u63a5\u76ee\u6807\" <code>&lt;img&gt;</code> \u56fe\u7247 src=\"\u56fe\u7247\u5730\u5740\"alt=\"\u5360\u4f4d\u6587\u672c\" <code>&lt;b&gt;</code> \u7c97\u4f53 \u2014 <code>&lt;i&gt;</code> \u659c\u4f53 \u2014 <code>&lt;br /&gt;</code> \u6bb5\u843d\u5185\u6362\u884c \u2014 <code>&lt;table&gt;</code> \u8868\u683c \u2014 <code>&lt;tr&gt;</code> \u8868\u683c\u884c \u2014 <code>&lt;td&gt;</code> \u8868\u683c\u5143\u7d20 \u2014 <p>\u5f53\u7136\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u5f88\u53ef\u80fd\u7528\u5230\u66f4\u591a\u4e30\u5bcc\u591a\u6837\u7684 HTML \u5143\u7d20\u3002\u8fd9\u7bc7\u6587\u6863\u65e0\u610f\u4e8e\u7a77\u4e3e\u6240\u6709\u7684 HTML \u5143\u7d20\u3002\u5f53\u4f60\u9700\u8981\u67e5\u627e\u67d0\u4e2a\u7279\u5b9a\u7684 HTML \u5143\u7d20\u7684\u7528\u6cd5\u65f6\uff0c\u53ef\u4ee5\u501f\u52a9\u641c\u7d22\u5f15\u64ce\uff0c\u6216\u8005\u53c2\u89c1\u8fd9\u4efd\u6587\u6863\u6700\u540e\u5217\u51fa\u7684\u8d44\u6e90\u94fe\u63a5\u3002</p>"},{"location":"languages/html/#_1","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u73b0\u5728\uff0c\u4f60\u5df2\u7ecf\u5b66\u4f1a\u4e86\u57fa\u672c\u7684 HTML \u6587\u672c\u7684\u7f16\u5199\u3002\u5728 Web \u5f00\u53d1\u4e2d\uff0cHTML \u901a\u5e38\u7528\u4e8e\u63cf\u8ff0\u7f51\u9875\u7684\u5185\u5bb9\u3002\u81f3\u4e8e\u9875\u9762\u7684\u5e03\u5c40\u548c\u9875\u9762\u7684\u52a8\u6001\u884c\u4e3a\uff0c\u5219\u9700\u8981 CSS \u548c JavaScript \u7684\u8f85\u52a9\u3002</p> <p>\u540e\u7eed\u53ef\u4ee5\u9605\u8bfb\u7684\u6587\u6863\u6709\uff1a</p> <ul> <li>CSS \u8bed\u8a00\u57fa\u7840 /languages/css</li> <li>JavaScript \u8bed\u8a00\u57fa\u7840 /languages/javascript</li> </ul>"},{"location":"languages/html/#_2","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>w3school HTML \u6559\u7a0b https://www.w3school.com.cn/html/index.asp</li> <li>\u83dc\u9e1f\u6559\u7a0b HTML \u6559\u7a0b https://www.runoob.com/html/html-tutorial.html</li> </ul>"},{"location":"languages/modern-cpp/","title":"\u73b0\u4ee3 C++ \u8bed\u8a00","text":"<p>\u7f16\u8f91\u8005\u62db\u52df</p> <p>\u6211\u4eec\u6b63\u5728\u5bfb\u627e\u8fd9\u4e00\u7bc7\u6587\u6863\u7684\u7f16\u8f91\u8005\u3002</p>"},{"location":"languages/c-oop/","title":"C++ \u8bed\u8a00\u9762\u5411\u5bf9\u8c61","text":""},{"location":"languages/c-oop/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li> <p>\u5177\u6709 C/C++ \u8bed\u8a00\u57fa\u7840\uff0c\u80fd\u591f\u7f16\u5199\u57fa\u672c\u7684 C/C++ \u4ee3\u7801</p> </li> <li> <p>\u6709\u57fa\u672c\u7684\u62bd\u8c61\u601d\u7ef4\u80fd\u529b</p> </li> </ul>"},{"location":"languages/c-oop/#_2","title":"\u524d\u8a00","text":"<p>\u8fd9\u4f4d\u8bfb\u8005\uff0c\u975e\u5e38\u6b22\u8fce\u4f60\u70b9\u5f00\u8fd9\u4efd\u6280\u80fd\u6587\u6863\u3002\u5982\u4f60\u6240\u89c1\uff0c\u8fd9\u4efd\u6587\u6863\u4e0e\u6280\u80fd\u6587\u6863\u9879\u76ee\u4e2d\u7684\u5176\u4ed6\u6587\u6863\u4e0d\u5c3d\u76f8\u540c\u3002\u6ca1\u9519\uff0c\u6280\u80fd\u6587\u6863\u7684\u521d\u8877\u4e3b\u8981\u662f\u5e0c\u671b\u80fd\u591f\u8d85\u8131\u8ba1\u7b97\u673a\u7cfb\u5927\u591a fly bitch \u7684\u8bfe\u7a0b\u672c\u8eab\uff0c\u9ed8\u9ed8\u5730\u5e26\u7ed9\u6587\u6863\u7684\u9605\u8bfb\u8005\u8bfe\u5802\u4ee5\u5916\u7684\u80fd\u529b\u63d0\u5347\u3002</p> <p>\u800c\u4f60\u5373\u5c06\u9605\u8bfb\u7684 OOP \u6587\u6863\u5374\u4e0d\u5c3d\u76f8\u540c\uff0c\u8fd9\u4efd\u6587\u6863\u662f\u4e3b\u7b14\u4eba zhaochen20 \u5728 2021 \u5e74\u6625\u5b63\u5b66\u671f\u7684\u8bfe\u7a0b\u7b14\u8bb0\u3002\u597d\u4e8b\u591a\u78e8\uff0c\u8fd9\u4efd\u6587\u6863\u51e0\u7ecf\u5468\u6298\uff0c\u76f4\u5230 2022 \u5e74\u624d\u5f97\u4ee5\u4e0e\u667a\u80fd\u4f53\u7684\u6d3b\u52a8\u63a8\u5e7f\u4e00\u540c\u4e0a\u7ebf\u3002\u7136\u800c\u4e3a\u65f6\u4e0d\u665a\uff0c\u4e00\u5b57\u73ed\u7684\u540c\u5b66\u5f00\u6625\u4e4b\u540e\u624d\u4f1a\u5b66\u4e60 OOP \u8bfe\u7a0b\uff0c\u5e0c\u671b\u8fd9\u4efd\u6587\u6863\u80fd\u591f\u52a0\u6df1\u9605\u8bfb\u8005\u5bf9 C++ \u8bed\u8a00\u4e43\u81f3\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u4e00\u4e9b\u8ba4\u8bc6\u3002\u540c\u65f6\uff0c\u4e5f\u5e0c\u671b\u8fd9\u4efd\u6587\u6863\u4f5c\u4e3a\u4e3b\u7b14\u4eba\u4e0e\u5ba1\u6838\u4eba\u7ed9\u4e88 2021 \u5e74\u7684\u4e00\u53e5\u9053\u522b\u3002</p> <p>\u5c06\u539f\u672c\u7684 Markdown \u94fe\u63a5\u9644\u5728\u6b64\u5904\uff0c\u91cc\u9762\u8fd8\u6709\u4e00\u4e9b\u671f\u672b\u5907\u8003\u7684\u8d44\u6599\uff0c\u5efa\u8bae\u59a5\u5584\u5229\u7528\u3002</p>"},{"location":"languages/c-oop/#_3","title":"\u5b66\u4e60\u8def\u5f84","text":"<p>\u5efa\u8bae\u7ed3\u5408 \u5218\u77e5\u8fdc\u8001\u5e08\u7684\u8bfe\u4ef6 \u4e00\u540c\u5b66\u4e60\uff0c\u867d\u7136\u8fd9\u4efd\u6587\u6863\u5b8c\u5168\u5c55\u5f00\u4e86\u8bfe\u5802\u5185\u5bb9\uff08\u56e0\u4e3a OOP \u8bfe\u7a0b\u591a\u5c11\u8fd8\u662f\u6bd4\u8f83\u8a00\u7b80\u610f\u8d45\u7684\uff09\uff0c\u7136\u800c\u770b\u7740\u8bfe\u4ef6\u80fd\u591f\u5bf9\u5b66\u4e60\u8109\u7edc\u66f4\u4e3a\u6e05\u6670\u3002</p> <p>\u53e6\u5916\uff0c\u5728\u5b66\u4e60 OOP \u521d\u671f\uff0c\u4f1a\u8bb2\u8ff0\u914d\u7f6e\u73af\u5883\u7684\u95ee\u9898\u3002\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u5728\u5b66\u4e60 OOP \u7684\u8fc7\u7a0b\u8fc7\u7a0b\u4e2d\uff0c\u6ca1\u6709\u7406\u89e3\u5230 Makefile \u7684\u7cbe\u534e\u662f\u4e00\u5927\u9057\u61be\u3002\u7136\u800c\u6211\u4e2a\u4eba\u8ba4\u4e3a\u76f4\u63a5\u4e0a\u6765\u5c31\u5b66\u4e60 Makefile \u8fd8\u662f\u6bd4\u8f83 fly bitch\u3002</p> <p>\u7ed9\u51fa\u7684\u5efa\u8bae\u662f\uff0c\u5982\u679c\u4f60\u4f7f\u7528 Windows \u7535\u8111\uff0c\u5148\u7ed9\u81ea\u5df1\u7684\u7535\u8111\u914d\u597d WSL2\uff0c\u7136\u540e\u5b66\u4e60\u57fa\u672c\u7684 Linux \u547d\u4ee4\uff08\u53ef\u4ee5\u53c2\u8003 Linux \u6587\u6863\uff09\u3002\u53e6\u5916\uff0c\u8fd9\u91cc\u53ef\u4ee5\u63a8\u8350 \u300a\u7b2c\u4e00\u884c\u4ee3\u7801 Linux \u547d\u4ee4\u884c\u300b\u4e00\u4e66\uff0c\u7684\u786e\u5bf9\u547d\u4ee4\u884c\u8bb2\u7684\u5f88\u6e05\u695a\u3002\u5982\u679c\u4f60\u662f MacOS \u7528\u6237\uff08\u4e0d\u7ba1\u662f\u9ed1\u82f9\u679c\u8fd8\u662f\u767d\u82f9\u679c\uff09\uff0c\u8bf7\u52a1\u5fc5\u7ed9\u81ea\u5df1\u7684\u7535\u8111\u88c5\u4e0a <code>iterm2</code>\uff0c\u540c\u65f6\u81ea\u884c\u8c37\u6b4c\u5982\u4f55\u4f18\u5316 <code>iterm2</code>\u3002</p> <p>\u6b64\u5904\u518d\u9644\u4e0a zhaochen20 \u4e2a\u4eba\u535a\u5ba2\u91cc\u7684 UNIX \u5b66\u4e60\u7b14\u8bb0\u3002\u987a\u5e26\u5f3a\u63a8\u4e00\u6ce2 MacOS \u7535\u8111\uff0c\u5982\u679c\u4f60\u4e0d\u6253\u6e38\u620f\u7684\u8bdd\uff0c\u6211\u60f3\u6ca1\u6709\u6bd4 MacOS \u66f4\u9002\u5408\u8ba1\u7b97\u673a\u7cfb\u7684\u7535\u8111\u4e86\u3002</p> <p>\u6700\u540e\uff0c\u7531\u4e8e\u7b14\u8bb0\u5b9e\u9645\u4e0a\u7edd\u5927\u591a\u6570\u90fd\u662f\u4e3b\u7b14\u4eba zhaochen20 \u4e00\u4eba\u6240\u5199\uff0c\u96be\u514d\u6709\u6240\u9519\u8bef\u3002</p> <p>\u5982\u679c\u6709\u8bef\uff0c\u53ef\u4ee5\u524d\u5f80 zhaochen20 \u7684 \u535a\u5ba2\u7559\u8a00\u3002</p>"},{"location":"languages/c-oop/#_4","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u9762\u5411\u5bf9\u8c61\u662f\u4e00\u79cd\u76f8\u5f53\u5e38\u7528\u7684\u7f16\u7a0b\u6a21\u5f0f\uff0c\u73b0\u4ee3\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u90fd\u652f\u6301\u8fd9\u4e00\u6a21\u5f0f\u3002\u5728\u719f\u6089\u4e86 C++ \u8bed\u8a00\u4e0b\u7684\u9762\u5411\u5bf9\u8c61\u4e4b\u540e\uff0c\u6211\u4eec\u63a8\u8350\u8bfb\u8005\u53bb\u5c1d\u8bd5\u4e86\u89e3\u5176\u4ed6\u8bed\u8a00\u4e4b\u4e0b\u7684\u9762\u5411\u5bf9\u8c61\u76f8\u5173\u8bed\u6cd5\uff0c\u5982 Python\u3001Java\u3001JavaScript \u7b49\u7b49\uff0c\u8fd9\u5bf9\u540e\u7eed\u7684\u5b66\u4e60\u4e5f\u6709\u6240\u88e8\u76ca\u3002</p> <pre><code>class Student {\nprivate:\n    int age;\n    std::string name;\n\npublic:\n    Student(int _age, std::string _name):\n        age(_age), name(_name) { }\n\n    void print() { }\n};\n</code></pre> <pre><code>class Student:\n    def __init__(self, _age, _name):\n        self.age = _age\n        self.name = _name\n\n    def print(self):\n        pass\n</code></pre> <pre><code>class Student {\n    constructor (_name, _age) {\n        this.name = _name;\n        this.age = _age;\n    }\n\n    print() { }\n}\n</code></pre>"},{"location":"languages/c-oop/#_5","title":"\u81f4\u8c22","text":"<p>\u9996\u5148\uff0c\u672c\u6587\u6863\u7684\u5185\u5bb9\u5b8c\u5168\u57fa\u4e8e\u5218\u77e5\u8fdc\u8001\u5e08\u7684\u8bfe\u7a0b\u4f53\u7cfb\u800c\u5efa\u7acb\uff0c\u8bda\u631a\u5730\u611f\u8c22\u5218\u77e5\u8fdc\u8001\u5e08\u4e0e\u4ed6\u7684\u6559\u5b66\u56e2\u961f\u5bf9 OOP \u8bfe\u7a0b\u7684\u6089\u5fc3\u4ed8\u51fa\u3002</p> <p>\u968f\u540e\uff0c\u81f4\u8c22\u4e3b\u7b14\u4eba zhaochen20 \u672c\u4eba\uff0c\u4ed6\u5728 2021 \u5e74 5 \u6708\u4efd\u72c2\u809d\u4e86\u5927\u6982 112 \u5c0f\u65f6\u5199\u51fa\u4e86\u521d\u7a3f\u3002</p> <p>\u800c\u540e\uff0c\u5bf9\u6574\u7406\u4e14\u505a\u4fee\u6539\u5de5\u4f5c\u7684 yiyj13 \u81f4\u4ee5\u611f\u8c22\uff0c\u795d\u613f\u4ed6\u8fdb\u5165\u4fe1\u606f\u5b66\u9662\u540e\u80fd\u591f\u6709\u6240\u6536\u83b7\u6709\u6240\u6210\u3002</p> <p>\u6700\u540e\uff0c\u6b63\u5982\u7ec6\u5fc3\u7684\u8bfb\u8005\u53ef\u80fd\u53d1\u73b0\u7684\u90a3\u6837\uff0c\u8fd9\u4efd\u6587\u6863\u6700\u540e\u4e24\u8282\u7684\u6587\u98ce\u4e0e\u524d\u6587\u4e0d\u5c3d\u76f8\u540c\uff0c\u81ea\u7136\uff0c\u8fd9\u5e76\u975e\u4e3b\u7b14\u4eba\u5b8c\u6210\u3002</p> <p>\u51fa\u4e8e\u4e00\u4e9b\u7279\u5b9a\u7684\u7f18\u7531\uff0c\u4e5f\u8868\u793a\u5bf9\u6700\u540e\u4e24\u8282\u4f5c\u8005\u7684\u5c0a\u91cd\uff0c\u4e3b\u7b14\u4eba\u5728\u6b64\u771f\u8bda\u5730\u611f\u8c22\u4ed6\u7684\u4e00\u4f4d\u6545\u4eba\u3002</p> <p></p> <p> Without whom, this tutorial would have been released half a year earlier.  </p> <p> Not every story has an happy endding. Anyway, this is why we shall call it a story. </p> <p>\u671f\u671b\u4ee5\u540e\u7684\u4e3b\u7b14\u4eba\u80fd\u591f\u82e6\u4e2d\u4f5c\u4e50\uff0c\u6574\u7406\u6587\u7a3f\u7684\u540c\u5b66\u4ea6\u80fd\u5fc3\u60f3\u4e8b\u6210\uff0c\u4e5f\u795d\u613f\u9605\u8bfb\u6587\u6863\u5e76\u5b66\u4e60 OOP \u8bfe\u7a0b\u7684\u540c\u5b66\u80fd\u591f\u6709\u6240\u6536\u83b7\uff0c\u5728 2022 \u5e74\u667a\u80fd\u4f53\u6bd4\u8d5b\u4e2d\u65a9\u83b7\u4f73\u7ee9\u3002</p> <p>\u672c OOP \u6587\u6863\u6700\u7ec8\u7531 Ashitemaru \u683c\u5f0f\u5316\u540e\u4ee3\u4e3a Commit \u5408\u5e76\u8fdb\u5165\u6280\u80fd\u5f15\u5bfc\u6587\u6863\u3002</p>"},{"location":"languages/c-oop/behavioral-pattern/","title":"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u884c\u4e3a\u578b\u6a21\u5f0f","text":"<p>\u8bbe\u8ba1\u6a21\u5f0f\u662f\u5728\u957f\u65f6\u95f4\u5b9e\u8df5\u4e2d\uff0c\u5f00\u53d1\u4eba\u5458\u603b\u7ed3\u51fa\u7684\u4f18\u79c0\u67b6\u6784\u4e0e\u89e3\u51b3\u65b9\u6848\u3002\u5b66\u4e60\u8bbe\u8ba1\u6a21\u5f0f\u5c06\u6709\u52a9\u4e8e\u7ecf\u9a8c\u4e0d\u8db3\u7684\u5f00\u53d1\u4eba\u5458\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u7075\u6d3b\u5730\u8fd0\u7528\u9762\u5411\u5bf9\u8c61\u7279\u6027\uff0c\u5e76\u80fd\u591f\u5feb\u901f\u6784\u5efa\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u7a0b\u5e8f\u6846\u67b6\uff0c\u5199\u51fa\u4f18\u8d28\u4ee3\u7801\u3002</p>"},{"location":"languages/c-oop/behavioral-pattern/#_2","title":"\u8bbe\u8ba1\u6a21\u5f0f\u5206\u7c7b","text":"<ul> <li>\u884c\u4e3a\u578b\u6a21\u5f0f\uff1a\u5173\u6ce8\u5bf9\u8c61\u884c\u4e3a\u529f\u80fd\u4e0a\u7684\u62bd\u8c61\uff0c\u4ece\u800c\u63d0\u5347\u5bf9\u8c61\u5728\u884c\u4e3a\u529f\u80fd\u4e0a\u7684\u53ef\u62d3\u5c55\u6027\uff0c\u80fd\u4ee5\u6700\u5c11\u7684\u4ee3\u7801\u53d8\u52a8\u5b8c\u6210\u529f\u80fd\u7684\u589e\u51cf\u3002</li> <li>\u7ed3\u6784\u578b\u6a21\u5f0f\uff1a\u5173\u6ce8\u5bf9\u8c61\u4e4b\u95f4\u7ed3\u6784\u5173\u7cfb\u4e0a\u7684\u62bd\u8c61\uff0c\u4ece\u800c\u63d0\u5347\u5bf9\u8c61\u7ed3\u6784\u7684\u53ef\u7ef4\u62a4\u6027\u3001\u4ee3\u7801\u7684\u5065\u58ee\u6027\uff0c\u80fd\u5728\u7ed3\u6784\u5c42\u9762\u4e0a\u5c3d\u53ef\u80fd\u7684\u89e3\u8026\u5408\u3002</li> <li>\u521b\u5efa\u578b\u6a21\u5f0f</li> </ul> <p>\u672c\u7ae0\u5185\u5bb9\u4e3b\u8981\u63a2\u8ba8\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7684\u884c\u4e3a\u578b\u6a21\u5f0f\u3002</p>"},{"location":"languages/c-oop/behavioral-pattern/#_3","title":"\u884c\u4e3a\u578b\u6a21\u5f0f\u5206\u7c7b","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u4e09\u79cd\u884c\u4e3a\u578b\u6a21\u5f0f\u3002</p> <ul> <li>\u6a21\u7248\u65b9\u6cd5\u6a21\u5f0f</li> <li>\u7b56\u7565\u6a21\u5f0f</li> <li>\u8fed\u4ee3\u5668\u6a21\u5f0f</li> </ul>"},{"location":"languages/c-oop/behavioral-pattern/#template-method","title":"\u6a21\u7248\u65b9\u6cd5 Template Method","text":"<p>\u6a21\u7248\u65b9\u6cd5\u662f\u4e00\u79cd\u9488\u5bf9\u63a5\u53e3\u7f16\u7a0b\u7684\u8bbe\u8ba1\u3002</p> <p>\u6a21\u7248\u65b9\u6cd5\u7684\u601d\u60f3\u662f\uff0c\u57fa\u7c7b\u662f\u4e00\u4e2a\u6a21\u677f\uff08\u4e5f\u53ef\u4ee5\u79f0\u4f5c\u539f\u578b\uff09\u3002\u57fa\u7c7b\u4f53\u73b0\u7684\u662f\u201c\u62bd\u8c61\u6982\u5ff5\u201d\uff0c\u91cc\u9762\u5b9a\u4e49\u82e5\u5e72\u4e2a\u7eaf\u865a\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u63d0\u4f9b\u4e86\u8fd9\u4e2a\u7c7b\u7684\u201c\u63a5\u53e3\u201d\u3002</p> <p>\u6bd4\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u64cd\u4f5c\u6709 <code>operation1</code>\u3001<code>operation2</code> \u4e24\u4e2a\u6b65\u9aa4\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u57fa\u7c7b\uff1a</p> <pre><code>class AbstractClass {\npublic:\n    virtual void Operation1() = 0;\n    virtual void Operation2() = 0;\n};\n</code></pre> <p>\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u80fd\u6709\u5f88\u591a\u4e2a\u7248\u672c\u3002\u6bcf\u4e2a\u7248\u672c\u7684\u5b9e\u73b0\u7ec6\u8282\u4e0d\u540c\u3002\u6bd4\u5982\uff0c<code>AbstractClass</code> \u53ef\u80fd\u662f\u201c\u76d1\u89c6\u8ba1\u7b97\u673a\u8282\u70b9\u7684\u8d1f\u8f7d\u72b6\u6001\u201d\u7684\u8fc7\u7a0b\uff0c<code>Operation1</code> \u662f\u201c\u5f97\u5230\u603b\u5185\u5b58\u201d\uff0c<code>Operation2</code> \u662f\u201c\u5f97\u5230\u5df2\u5360\u7528\u5185\u5b58\u201d\u3002\u800c\u8fd9\u4e24\u79cd\u64cd\u4f5c\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\uff0c\u6bd4\u5982 Win32 \u548c Win64 \u4e0b\u53ef\u80fd\u662f\u4e0d\u540c\u7684\u3002\u8fd9\u4e9b\u4e0d\u540c\u7684\u7ec6\u8282\u5219\u7531\u5b50\u7c7b\u8d1f\u8d23\u5b9e\u73b0\u3002</p> <p>\u5728\u4f7f\u7528\u65f6\uff0c\u62bd\u8c61\u7c7b\u7684\u7b97\u6cd5\u9aa8\u67b6\u63d0\u4f9b\u4e86\u5927\u81f4\u65b9\u6cd5\uff0c\u518d\u7531\u8fd9\u4e2a\u65b9\u6cd5\u6765\u6839\u636e\u9700\u8981\u8c03\u7528\u5177\u4f53\u7c7b\u7684\u5b9e\u73b0\u7ec6\u8282\u3002\u6bd4\u5982\uff1a</p> <pre><code>class ConcreteClassA: public AbstractClass {\n    void Operation1() {\n        cout &lt;&lt; \"Do Operation 1 of A\" &lt;&lt; endl;\n    }\n    void Operation2() {\n        cout &lt;&lt; \"Do Operation 2 of A\" &lt;&lt; endl;\n    }\n};\n</code></pre> <p>\u8fd9\u6837\u5f53\u6211\u4eec\u8981\u62d3\u5c55\u4e00\u79cd\u65b0\u7684\u5b9e\u73b0\u7c7b\u65f6\uff0c\u91cd\u65b0\u5bf9\u57fa\u7c7b\u8fdb\u884c\u7ee7\u627f\u4e0e\u5b9e\u73b0\u5373\u53ef\uff0c\u65e0\u9700\u5bf9\u5df2\u6709\u7684\u5b9e\u73b0\u7c7b\u8fdb\u884c\u4fee\u6539\u3002</p>"},{"location":"languages/c-oop/behavioral-pattern/#_4","title":"\u7531\u6a21\u677f\u5b9e\u73b0\u591a\u6001","text":"<p>\u73b0\u5728\u6211\u4eec\u6709\u4e86\u5f88\u591a\u7ee7\u627f\u81ea\u540c\u4e00\u4e2a\u62bd\u8c61\u7c7b\u7684\u5b9e\u73b0\u7c7b\uff0c\u8be5\u600e\u4e48\u5b9e\u73b0\u591a\u6001\u5462\uff1f</p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u6a21\u677f\u591a\u6001\u662f\u4f9d\u8d56\u4e8e\u6307\u9488\u548c\u5f15\u7528\u7684\u3002\u7f16\u8bd1\u5668\u80fd\u591f\u901a\u8fc7\u6307\u9488\u548c\u5f15\u7528\u5224\u65ad\u5b9e\u9645\u6307\u5411\u7684\u7c7b\u578b\uff0c\u5e76\u4e14\u8c03\u7528\u5b9e\u9645\u7c7b\u578b\u91cc\u9762 override \u4e86\u7684\u865a\u51fd\u6570\u3002\u6240\u4ee5\u5728\u4f7f\u7528\u6a21\u677f\u6a21\u5f0f\u7684\u65f6\u5019\uff0c\u5e38\u5e38\u521b\u5efa\u57fa\u7c7b\u6307\u9488\u6765\u8c03\u7528\u5b9e\u73b0\u7c7b\u7684\u51fd\u6570\u3002</p> <p>\u4f8b\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass AbstractClass {\npublic:\n    virtual void Operation1() = 0;\n    virtual void Operation2() = 0;\n};\n\nclass ConcreteClassA: public AbstractClass {\npublic:\n    void Operation1() {\n        cout &lt;&lt; \"Do Operation 1 of A\" &lt;&lt; endl;\n    }\n    void Operation2() {\n        cout &lt;&lt; \"Do Operation 2 of A\" &lt;&lt; endl;\n    }\n};\n\nclass ConcreteClassB: public AbstractClass {\npublic:\n    void Operation1() {\n        cout &lt;&lt; \"Do Operation 1 of B\" &lt;&lt; endl;\n    }\n    void Operation2() {\n        cout &lt;&lt; \"Do Operation 2 of B\" &lt;&lt; endl;\n    }\n};\n\nint main() {\n    AbstractClass *abstract;\n    abstract = new ConcreteClassB();\n    abstract-&gt;Operation1();\n    abstract-&gt;Operation2();\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/behavioral-pattern/#strategy-method","title":"\u7b56\u7565\u6a21\u5f0f Strategy Method","text":"<p>\u6a21\u677f\u6a21\u5f0f\u4e2d\uff0c\u6bcf\u4e2a\u5b9e\u73b0\u7c7b\u91cc\u9762\u53ef\u80fd\u6709\u591a\u4e2a\u529f\u80fd\uff08\u6bd4\u5982 <code>Operation1</code>\u3001<code>Operation2</code> \u7b49\uff09\u3002\u53ef\u80fd\u6709\u4e24\u4e2a\u7c7b\uff0c\u5b83\u4eec\u5404\u6709 N \u4e2a\u529f\u80fd\uff0c\u5176\u4e2d\u53ea\u6709\u4e00\u4e2a\u7684\u5b9e\u73b0\u6709\u533a\u522b\u3002\u5728\u6a21\u677f\u6a21\u5f0f\u4e0b\uff0c\u6211\u4eec\u5374\u5fc5\u987b\u5b9e\u73b0\u4e24\u4e2a\u7c7b\u3002\u8fd9\u5c31\u5f88\u9ebb\u70e6\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u3002</p> <p>\u7b56\u7565\u6a21\u5f0f\uff1a\u5b9a\u4e49\u4e00\u7cfb\u5217\u7b97\u6cd5\u5e76\u52a0\u4ee5\u5c01\u88c5\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u7b97\u6cd5\u53ef\u4ee5\u4e92\u76f8\u66ff\u6362\u3002\u8fd9\u6837\uff0c\u4e00\u79cd\u7b97\u6cd5\u5c31\u4e0d\u9700\u8981\u4f9d\u9644\u4e8e\u67d0\u4e2a\u5b9e\u73b0\u7c7b\u4e86\uff0c\u800c\u662f\u81ea\u6210\u4e00\u7c7b\u3002</p> <p>\u5177\u4f53\u800c\u8a00\uff1a</p> <ul> <li> <p>\u6bcf\u4e00\u79cd\u884c\u4e3a\u5404\u81ea\u6709\u65b9\u6cd5\u865a\u57fa\u7c7b <code>A</code>\u3001<code>B</code></p> </li> <li> <p>\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u57fa\u7c7b <code>A</code> \u6709\u82e5\u5e72\u5177\u4f53\u7684\u65b9\u6cd5 <code>A1</code>\u3001<code>A2</code>\u3001<code>A3</code>\u200b\uff0c\u6bcf\u4e00\u79cd\u90fd\u4f1a\u7ee7\u627f <code>A</code>\u200b</p> </li> <li> <p>\u6240\u6709\u5bf9\u8c61\u5177\u6709\u4e00\u4e2a\u5bf9\u8c61\u57fa\u7c7b <code>O</code>\u200b\uff0c\u5bf9\u8c61\u57fa\u7c7b <code>O</code>\u200b \u542b\u6709\u6240\u6709\u7684\u65b9\u6cd5\u57fa\u7c7b\u6307\u9488 <code>A*</code>\u200b\u3001<code>B*</code>\u200b\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u6001\u3002\u6ce8\u610f\u5230\u5bf9\u8c61\u57fa\u7c7b\u5982\u679c\u4ec5\u542b\u6709\u65b9\u6cd5\u57fa\u7c7b\u6307\u9488\uff0c\u5b9e\u9645\u4e0a\u6ca1\u6cd5\u8c03\u7528\u65b9\u6cd5\u57fa\u7c7b\u7684\u65b9\u6cd5\uff0c\u6545\u800c\u8fd8\u9700\u8981\u8c03\u7528\u63a5\u53e3</p> </li> <li> <p>\u6bcf\u79cd\u5bf9\u8c61\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u5bf9\u8c61\u7c7b <code>O1</code>\u3001<code>O2</code>\u3001<code>O3</code>\u200b\uff0c\u6bcf\u79cd\u90fd\u4f1a\u7ee7\u627f\u5bf9\u8c61\u7c7b <code>O</code>\u200b\uff0c\u540c\u65f6\u8ba9\u65b9\u6cd5\u57fa\u7c7b\u6307\u9488 <code>A*</code>\u200b\u3001<code>B*</code> \u200b\u5177\u4f53\u6307\u5411\u65b9\u6cd5\u6d3e\u751f\u7c7b\u4e0a <code>Ax</code>\u3001<code>By</code>\u200b</p> </li> </ul> <p>\u4f8b\u5b50</p> <p>\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a\u6709\u4e09\u79cd\u9e2d\u5b50\uff1aMallarDuck\uff08\u7eff\u5934\u9e2d\uff09\u3001RubberDuck\uff08\u6a61\u76ae\u9e2d\uff09\u3001DecoyDuck\uff08\u8bf1\u9975\u9e2d\u5b50\uff09</p> <ul> <li>MallarDuck \u4f1a quack \u5730\u53eb\uff0c\u4f1a\u98de</li> <li>RubberDuck \u4f1a queak \u5730\u53eb\uff0c\u4e0d\u4f1a\u98de</li> <li>DecoyDuck \u4e0d\u4f1a\u53eb\uff0c\u4e0d\u4f1a\u98de</li> </ul> <p>\u53d1\u73b0\u6240\u6709\u9e2d\u5b50\u90fd\u6709\u98de\u3001\u53eb\u4e24\u79cd\u529f\u80fd\uff0c\u4f46\u662f\u5404\u81ea\u7684\u5b9e\u73b0\u4e0d\u592a\u4e00\u6837\u3002\u6211\u4eec\u4e0d\u5728\u6bcf\u79cd\u9e2d\u5b50\u91cc\u5206\u522b\u5b9e\u73b0\uff0c\u800c\u662f\u5728\u57fa\u7c7b\u9e2d\u5b50\u91cc\u50a8\u5b58\u8fd9\u4e24\u79cd\u529f\u80fd\u7684\u57fa\u7c7b\u6307\u9488\uff0c\u7136\u540e\u8ba9\u9e2d\u5b50\u7684\u5b9e\u73b0\u7c7b\u6307\u5411\u5bf9\u5e94\u7684\u4e24\u79cd\u529f\u80fd\u7684\u5b9e\u73b0\u7c7b\u3002</p> <p>\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nclass FlyBehavior {\npublic:\n    virtual ~FlyBehavior() { };\n    virtual void fly() = 0;\n};\n\nclass QuackBehavior {\npublic:\n    virtual ~QuackBehavior() { };\n    virtual void quack() = 0;\n};\n\nclass Duck{\npublic:\n    Duck(FlyBehavior* p_FlyBehavior, QuackBehavior* p_QuackBehavior) {\n        pFlyBehavior = p_FlyBehavior;\n        pQuackBehavior = p_QuackBehavior;\n    }\n\n    virtual ~Duck() { };\n    virtual void display() { };\n\n    void performFly() {\n        pFlyBehavior-&gt;fly();\n    }\n\n    void performQuack() {\n        pQuackBehavior-&gt;quack();\n    }\n\nprivate:\n    FlyBehavior* pFlyBehavior;\n    QuackBehavior* pQuackBehavior;\n};\n\nclass FlyWithWings: public FlyBehavior {\npublic:\n    void fly() {\n        std::cout &lt;&lt; \"I'm flying!!\" &lt;&lt; std::endl;\n    }\n};\n\nclass FlyNoWay: public FlyBehavior {\npublic:\n    void fly() {\n        std::cout &lt;&lt; \"I can't fly\" &lt;&lt; std::endl;\n    }\n};\n\nclass Quack: public QuackBehavior {\npublic:\n    void quack() {\n        std::cout &lt;&lt; \"Quack\" &lt;&lt; std::endl;\n    }\n};\n\nclass MuteQuack: public QuackBehavior {\npublic:\n    void quack() {\n        std::cout &lt;&lt; \"&lt;&lt; Slience &gt;&gt;\" &lt;&lt; std::endl;\n    }\n};\n\nclass Squeak: public QuackBehavior {\npublic:\n    void quack() {\n        std::cout &lt;&lt; \"Squeak\" &lt;&lt; std::endl;\n    }\n};\n\nclass MallardDuck: public Duck { // \u7ee7\u627f\u4e86\u5bf9\u8c61\u57fa\u7c7b\uff0c\u5c31\u5df2\u7ecf\u6709\u4e86\u65b9\u6cd5\u57fa\u7c7b\u6307\u9488\npublic:\n    MallardDuck(\n        FlyBehavior* fly_behavior = new FlyWithWings(), // \u6784\u9020\u51fd\u6570\u542b\u6709\u7f3a\u7701\u503c\n        QuackBehavior* quack_behavior = new Quack())\n            : Duck(fly_behavior, quack_behavior) { } // \u7eff\u5934\u9e2d\u7684\u6784\u9020\u51fd\u6570\uff0c\u98de\u884c\u548c\u53eb\u58f0\u7684\u57fa\u7c7b\u6307\u9488\u5206\u522b\u6307\u5411\u4e86\u5bf9\u5e94\u7684\u5b9e\u73b0\u7c7b\n\n    void display() {\n        std::cout &lt;&lt; \"I'm a real Mallard duck\" &lt;&lt; std::endl;\n    }\n};\n\nclass RubberDuck: public Duck {\npublic:\n    RubberDuck(\n        FlyBehavior* fly_behavior = new FlyNoWay(),\n        QuackBehavior* quack_behavior = new Squeak())\n            : Duck(fly_behavior, quack_behavior) { }\n\n    void display() {\n        std::cout &lt;&lt; \"I'm a Rubber duck\" &lt;&lt; std::endl;\n    }\n};\n\nclass DecoyDuck: public Duck {\npublic:\n    DecoyDuck(\n        FlyBehavior* fly_behavior = new FlyNoWay(),\n        QuackBehavior* quack_behavior = new MuteQuack())\n            : Duck(fly_behavior, quack_behavior) { }\n\n    void display() {\n        std::cout &lt;&lt; \"I'm just a Decoy duck\" &lt;&lt; std::endl;\n    }\n};\n\nint main() {\n    Duck* mallard = new MallardDuck();\n    mallard-&gt;display();\n    mallard-&gt;performFly();\n    mallard-&gt;performQuack();\n\n    Duck*rubber = new RubberDuck();\n    rubber-&gt;display();\n    rubber-&gt;performQuack();\n    return 0;\n}\n\n/*\noutput:\nI'm a real Mallard duck\nI'm flying!!\nQuack\nI'm a Rubber duck\nSqueak\n*/\n</code></pre> <p>\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0c\u7b56\u7565\u6a21\u5f0f\u4e0d\u8fc7\u662f\u66f4\u52a0\u591a\u6001\u5316\u7684\u6a21\u677f\u6a21\u5f0f\u7f62\u4e86\u3002\u5728\u6a21\u677f\u6a21\u5f0f\u4e0b\uff0c\u6bcf\u4e2a\u7c7b\uff08\u6bd4\u5982\u5728\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u662f\u6bcf\u79cd\u9e2d\u5b50\uff09\u4e2d\u7684 <code>Fly</code>\u3001<code>Quack</code> \u51fd\u6570\u90fd\u5728\u8fd9\u4e2a\u9e2d\u5b50\u7c7b\u91cc\u5b9e\u73b0\u3002\u800c\u8fd9\u91cc\u5219\u662f\u5148\u5b9a\u4e49\u4e86 <code>Fly</code>\u3001<code>Quack</code> \u8fd9\u4e24\u79cd\u52a8\u4f5c\u7684\u57fa\u7c7b\uff0c\u5373 <code>QuackBehavior</code>\u3001<code>FlyBehavior</code>\u3002\u5e76\u4e14\u5728\u5728\u57fa\u7c7b\u9e2d\u5b50\u91cc\u50a8\u5b58\u4e86\u8fd9\u4e24\u79cd\u57fa\u7c7b\u7c7b\u578b\u7684\u6307\u9488\u3002</p> <p>\u7136\u540e\uff0c\u518d\u901a\u8fc7\u7ee7\u627f\u5173\u7cfb\u5b9e\u73b0\u4e86\u5404\u79cd\u4e0d\u540c\u7684 <code>Fly</code>\u3001<code>Quack</code> \u7684\u5b9e\u73b0\u7c7b\uff0c\u5e76\u4e14\u5728\u9e2d\u5b50\u7684\u5b9e\u73b0\u7c7b\u91cc\u8ba9 <code>QuackBehavior</code>\u3001<code>FlyBehavior</code> \u7684\u57fa\u7c7b\u6307\u9488\u6307\u5411\u4e0d\u540c\u7684 <code>Fly</code>\u3001<code>Quack</code> \u7684\u5b9e\u73b0\u7c7b\u3002</p>"},{"location":"languages/c-oop/class-advanced/","title":"C++ \u7c7b\u8bed\u6cd5\u8fdb\u9636","text":"<p>\u8fdb\u9636\u8bb2\u4e9b\u4ec0\u4e48\uff1f</p> <p>\u8fd9\u4e00\u90e8\u5206\u4e3b\u8981\u6df1\u5165\u5bf9\u8c61\u7684\u6784\u9020\u548c\u6790\u6784\uff0c\u5e76\u4e14\u6d89\u53ca\u5230\u5e38\u91cf\u3001\u9759\u6001\u3001\u53cb\u5143\u7684\u6982\u5ff5\u3002</p> <p>\u672c\u90e8\u5206\u8bb2\u89e3\u7684\u5185\u5bb9\u53ef\u4ee5\u6d53\u7f29\u4e3a\uff1a</p> <p></p>"},{"location":"languages/c-oop/class-advanced/#_1","title":"\u53d8\u91cf\u4e0e\u9759\u6001\u53d8\u91cf","text":""},{"location":"languages/c-oop/class-advanced/#_2","title":"\u56db\u7c7b\u53d8\u91cf\u7684\u533a\u522b","text":"<p>\u6309\u5b58\u50a8\u533a\u57df\u5206</p> <p>\u5168\u5c40\u53d8\u91cf\u3001\u9759\u6001\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u90fd\u5b58\u653e\u5728\u5185\u5b58\u7684\u9759\u6001\u5b58\u50a8\u533a\u57df\uff0c\u5c40\u90e8\u53d8\u91cf\u5b58\u653e\u5728\u5185\u5b58\u7684\u6808\u533a\u3002\u9759\u6001\u50a8\u5b58\u533a\u5728\u51fd\u6570\u7ed3\u675f\u540e\u4e0d\u4f1a\u9500\u6bc1\uff0c\u800c\u6808\u533a\u5728\u51fd\u6570\u7ed3\u675f\u540e\u4f1a\u9000\u6808\u800c\u9500\u6bc1\u3002</p> <p>\u6309\u4f5c\u7528\u57df\u5206</p> <ul> <li>\u52a8\u6001\u53d8\u91cf</li> </ul> <p>\u5168\u5c40\u53d8\u91cf\u5728\u6574\u4e2a\u5de5\u7a0b\u6587\u4ef6\u5185\u90fd\u6709\u6548\uff0c\u662f\u201c\u5728\u51fd\u6570\u5916\u5b9a\u4e49\u7684\u53d8\u91cf\u201d\uff0c\u5373\u4ece\u5b9a\u4e49\u53d8\u91cf\u7684\u4f4d\u7f6e\u5230\u672c\u6e90\u6587\u4ef6\u7ed3\u675f\u90fd\u6709\u6548\u3002\u7531\u4e8e\u540c\u4e00\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u51fd\u6570\u90fd\u80fd\u5f15\u7528\u5168\u5c40\u53d8\u91cf\u7684\u503c\uff0c\u56e0\u6b64\u5982\u679c\u5728\u4e00\u4e2a\u51fd\u6570\u4e2d\u6539\u53d8\u4e86\u5168\u5c40\u53d8\u91cf\u7684\u503c\uff0c\u5c31\u80fd\u5f71\u54cd\u5230\u5176\u4ed6\u51fd\u6570\u4e2d\u5168\u5c40\u53d8\u91cf\u7684\u503c\u3002\u6240\u8c13\u6574\u4e2a\u5de5\u7a0b\uff0c\u662f\u6307\u6240\u6709\u7684\u6587\u4ef6\u90fd\u53ef\u4ee5\u7528\uff0c\u4e0d\u5355\u5355\u5728\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\u7684\u90a3\u4e2a\u6587\u4ef6\u3002</p> <p>\u5c40\u90e8\u53d8\u91cf\u5728\u5b9a\u4e49\u5b83\u7684\u51fd\u6570\u5185\u6709\u6548\uff0c\u4f46\u662f\u51fd\u6570\u8fd4\u56de\u540e\u5931\u6548\uff0c\u662f\u201c\u5728\u51fd\u6570\u5185\u5b9a\u4e49\u7684\u53d8\u91cf\u201d\uff0c\u5373\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u53ea\u5728\u672c\u51fd\u6570\u8303\u56f4\u5185\u6709\u6548\u3002</p> <p>\u6ce8\u610f\uff1a\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u5982\u679c\u6ca1\u6709\u624b\u5de5\u521d\u59cb\u5316\uff0c\u5219\u7531\u7f16\u8bd1\u5668\u521d\u59cb\u5316\u4e3a <code>0</code>\u3002\u5c40\u90e8\u53d8\u91cf\u7684\u503c\u4e0d\u53ef\u77e5\u3002</p> <ul> <li>\u9759\u6001\u53d8\u91cf\uff08<code>static</code>\uff09</li> </ul> <p>\u9759\u6001\u51b3\u5b9a\u4e86\u4e24\u4ef6\u4e8b\uff0c\u7b2c\u4e00\u5c31\u662f\u5b58\u50a8\u540e\u4e0d\u4f1a\u7acb\u523b\u9500\u6bc1\u3002\u7b2c\u4e8c\u662f\u81ea\u5e26\u6709\u4e00\u5b9a\u7684\u9650\u5b9a\u53d8\u91cf\u4f5c\u7528\u533a\u57df\u7684\u529f\u80fd\uff0c\u5f3a\u5316\u5168\u5c40/\u5c40\u90e8\u7684\u5177\u4f53\u4f5c\u7528\u57df\u3002</p> <p>\u9759\u6001\u5168\u5c40\u53d8\u91cf\u53ea\u5728\u5b9a\u4e49\u5b83\u7684\u6587\u4ef6\u5185\u6709\u6548\uff0c\u6548\u679c\u548c\u5168\u5c40\u53d8\u91cf\u4e00\u6837\uff0c\u53ea\u662f\u5c31\u5728\u672c\u6587\u4ef6\u5185\u90e8\u3002</p> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u53ea\u5728\u5b9a\u4e49\u5b83\u7684\u51fd\u6570\u5185\u6709\u6548\uff0c\u53ea\u662f\u7a0b\u5e8f\u4ec5\u5206\u914d\u4e00\u6b21\u5185\u5b58\uff0c\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u8be5\u53d8\u91cf\u4e0d\u4f1a\u6d88\u5931\uff1b\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u751f\u5b58\u671f\u867d\u7136\u4e3a\u6574\u4e2a\u5de5\u7a0b\uff0c\u4f46\u662f\u5176\u4f5c\u7528\u4ecd\u4e0e\u5c40\u90e8\u53d8\u91cf\u76f8\u540c\uff0c\u5373\u53ea\u80fd\u5728\u5b9a\u4e49\u8be5\u53d8\u91cf\u7684\u51fd\u6570\u5185\u4f7f\u7528\u8be5\u53d8\u91cf\u3002\u9000\u51fa\u8be5\u51fd\u6570\u540e\uff0c\u5c3d\u7ba1\u8be5\u53d8\u91cf\u8fd8\u7ee7\u7eed\u5b58\u5728\u3002\u5c40\u90e8\u51b3\u5b9a\u5176\u65e0\u6cd5\u88ab\u5176\u4ed6\u51fd\u6570\u4f7f\u7528\u53ea\u80fd\u88ab\u540c\u4e00\u51fd\u6570\u4e0b\u6b21\u518d\u7528\u3002\u9759\u6001\u51b3\u5b9a\u5176\u4fdd\u5b58\u5728\u9759\u6001\u533a\uff0c\u65e0\u6cd5\u88ab\u7acb\u523b\u9500\u6bc1\u3002</p> <p>\u8fd9\u91cc\u8fd8\u7ee7\u7eed\u5b58\u5728\u610f\u5473\u7740\u5f88\u91cd\u8981\u7684\u6027\u8d28\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u51fd\u6570\u800c\u8a00\uff0c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u662f\u53ef\u4ee5\u590d\u7528\u7684\u3002\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u5728\u9759\u6001\u5b58\u50a8\u533a\u5185\u5206\u914d\u5b58\u50a8\u5355\u5143\u3002\u5728\u7a0b\u5e8f\u6574\u4e2a\u8fd0\u884c\u671f\u95f4\u90fd\u4e0d\u91ca\u653e\u3002\u800c\u81ea\u52a8\u53d8\u91cf\uff08\u5373\u52a8\u6001\u5c40\u90e8\u53d8\u91cf\uff09\u5c5e\u4e8e\u52a8\u6001\u5b58\u50a8\u7c7b\u522b\uff0c\u5b58\u50a8\u5728\u52a8\u6001\u5b58\u50a8\u533a\u7a7a\u95f4\u800c\u4e0d\u662f\u9759\u6001\u5b58\u50a8\u533a\u7a7a\u95f4\uff0c\u6bcf\u4e00\u6b21\u8be5\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\u5373\u91ca\u653e\u3002</p> <p>\u4e3a\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u8d4b\u521d\u503c\u662f\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u7684\uff0c\u5373\u53ea\u8d4b\u521d\u503c\u4e00\u6b21\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5b83\u5df2\u6709\u521d\u503c\u3002\u4ee5\u540e\u6bcf\u6b21\u8c03\u7528\u51fd\u6570\u65f6\u4e0d\u518d\u91cd\u65b0\u8d4b\u521d\u503c\u800c\u53ea\u662f\u4fdd\u7559\u4e0a\u6b21\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u65f6\u7684\u503c\u3002\u800c\u4e3a\u81ea\u52a8\u53d8\u91cf\u8d4b\u521d\u503c\uff0c\u4e0d\u662f\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u7684\uff0c\u800c\u662f\u5728\u51fd\u6570\u8c03\u7528\u65f6\u8fdb\u884c\uff0c\u6bcf\u8c03\u7528\u4e00\u6b21\u51fd\u6570\u91cd\u65b0\u7ed9\u4e00\u6b21\u521d\u503c\uff0c\u76f8\u5f53\u4e8e\u6267\u884c\u4e00\u6b21\u8d4b\u503c\u8bed\u53e5\u3002</p> <p>\u5982\u679c\u5728\u5b9a\u4e49\u5c40\u90e8\u53d8\u91cf\u65f6\u4e0d\u8d4b\u521d\u503c\u7684\u8bdd\uff0c\u5bf9\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u6765\u8bf4\uff0c\u7f16\u8bd1\u65f6\u81ea\u52a8\u8d4b\u521d\u503c <code>0</code>\uff08\u6570\u503c\u578b\u53d8\u91cf\uff09\u6216\u7a7a\u5b57\u7b26\uff08\u5b57\u7b26\u578b\u53d8\u91cf\uff09\u3002\u800c\u5bf9\u81ea\u52a8\u53d8\u91cf\u6765\u8bf4\uff0c\u5982\u679c\u4e0d\u8d4b\u521d\u503c\uff0c\u5219\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u4e0d\u786e\u5b9a\u7684\u503c\u3002\u8fd9\u662f\u7531\u4e8e\u6bcf\u6b21\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\u5b58\u50a8\u5355\u5143\u5df2\u91ca\u653e\uff0c\u4e0b\u6b21\u8c03\u7528\u65f6\u53c8\u91cd\u65b0\u53e6\u5206\u914d\u5b58\u50a8\u5355\u5143\uff0c\u800c\u6240\u5206\u914d\u7684\u5355\u5143\u4e2d\u7684\u503c\u662f\u4e0d\u786e\u5b9a\u7684\u3002</p> <p>\u867d\u7136\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u5728\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\u4ecd\u7136\u5b58\u5728\uff0c\u4f46\u5176\u4ed6\u51fd\u6570\u662f\u4e0d\u80fd\u5f15\u7528\u5b83\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u5176\u4ed6\u51fd\u6570\u4e2d\u5b83\u662f\u201c\u4e0d\u53ef\u89c1\u201d\u7684\uff08\u8fd9\u4e2a\u4e0d\u53ef\u89c1\u662f\u6307\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u540d\u79f0\u4e0d\u53ef\u5728\u5176\u4ed6\u51fd\u6570\u5185\u88ab\u64cd\u4f5c\u3002\u4f46\u662f\u7531\u4e8e\u5176\u5185\u5b58\u5e76\u6ca1\u6709\u88ab\u6790\u6784\u6389\uff0c\u6211\u4eec\u4f9d\u7136\u80fd\u591f\u5bf9\u8fd9\u5757\u5185\u5b58\u8fdb\u884c\u64cd\u4f5c\uff0c\u8fd9\u4e00\u795e\u5947\u7684\u64cd\u4f5c\u8be6\u89c1\u4e0a\u4e00\u7ae0\u8282\uff09\u3002</p> <p>\u9759\u6001\u53d8\u91cf\u4e0e\u5168\u5c40\u53d8\u91cf\u6700\u660e\u663e\u7684\u533a\u522b\u5c31\u5728\u4e8e\uff0c\u5168\u5c40\u53d8\u91cf\u5728\u5176\u5b9a\u4e49\u540e\u6240\u6709\u51fd\u6570\u90fd\u80fd\u7528\uff0c\u4f46\u662f\u9759\u6001\u5168\u5c40\u53d8\u91cf\u53ea\u80fd\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762\u4f7f\u7528\uff0c\u800c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u53ea\u80fd\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u4f7f\u7528\u3002</p> <p>\u5f62\u53c2\u53d8\u91cf</p> <p>\u53ea\u5728\u88ab\u8c03\u7528\u671f\u95f4\u624d\u5206\u914d\u5185\u5b58\u5355\u5143\uff0c\u8c03\u7528\u7ed3\u675f\u7acb\u5373\u91ca\u653e\u3002</p> <p>\u5728\u51fd\u6570\u4f53\u5185\uff0c\u5f62\u53c2\u7684\u7b49\u7ea7\u6700\u9ad8\u3002\u5f53\u5168\u5c40\u53d8\u91cf\u540d\u4e0e\u5f62\u53c2\u540d\u51b2\u7a81\u7684\u65f6\u5019\uff0c\u51fd\u6570\u4f1a\u64cd\u4f5c\u5f62\u53c2\uff0c\u800c\u4e0d\u662f\u5168\u5c40\u53d8\u91cf\u3002\u4f8b\u5982\uff1a</p> <pre><code>#include \"stdio.h\"\nint Max = 1;\nvoid add(int Max) {\n    Max = 2;\n}\n\nint main() {\n    add(Max);\n    printf(\"Max = %d\", Max);\n    getchar();\n    return 0;\n}\n</code></pre> <p>\u8fd9\u4e2a\u7ed3\u679c\u5f53\u7136\u662f <code>Max = 1</code>\u3002\u8fdb\u5165\u51fd\u6570\u540e\uff0c\u7528\u5b9e\u53c2\u6765\u6784\u9020\u4e86\u5f62\u53c2\uff0c\u5f62\u53c2\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u6539\u53d8\u5f62\u53c2\u4e0d\u6539\u53d8\u5168\u5c40\u53d8\u91cf\uff0c\u4e14\u51fd\u6570\u6267\u884c\u5b8c\u540e\uff0c\u5f62\u53c2\u91ca\u653e\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_3","title":"\u9759\u6001\u53d8\u91cf","text":"<p>\u610f\u4e49</p> <p><code>static</code> \u7684\u672c\u8d28\u610f\u4e49\u5728\u4e8e\u53ef\u63a7\u5236\u53d8\u91cf\u7684\u5b58\u50a8\u65b9\u5f0f\u548c\u53ef\u89c1\u6027\u3002</p> <p>\u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5f53\u7a0b\u5e8f\u6267\u884c\u5230\u5b83\u7684\u5b9a\u4e49\u5904\u65f6\uff0c\u7f16\u8bd1\u5668\u4e3a\u5b83\u5728\u6808\u4e0a\u5206\u914d\u7a7a\u95f4\uff0c\u51fd\u6570\u5728\u6808\u4e0a\u5206\u914d\u7684\u7a7a\u95f4\u5728\u6b64\u51fd\u6570\u6267\u884c\u7ed3\u675f\u65f6\u4f1a\u91ca\u653e\u6389\u3002\u5982\u679c\u60f3\u5c06\u51fd\u6570\u4e2d\u6b64\u53d8\u91cf\u7684\u503c\u4fdd\u5b58\u81f3\u4e0b\u4e00\u6b21\u8c03\u7528\u65f6\uff0c\u5e94\u8be5\u5982\u4f55\u5b9e\u73b0\uff1f\u6700\u5bb9\u6613\u60f3\u5230\u7684\u65b9\u6cd5\u662f\u5b9a\u4e49\u4e3a\u5168\u5c40\u7684\u53d8\u91cf\uff0c\u4f46\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u6709\u8bb8\u591a\u7f3a\u70b9\uff0c\u6700\u660e\u663e\u7684\u7f3a\u70b9\u662f\u7834\u574f\u4e86\u6b64\u53d8\u91cf\u7684\u8bbf\u95ee\u8303\u56f4\uff08\u4f7f\u5f97\u5728\u6b64\u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u4e0d\u4ec5\u4ec5\u53ea\u53d7\u6b64\u51fd\u6570\u63a7\u5236\uff09\u3002<code>static</code> \u5173\u952e\u5b57\u5219\u53ef\u4ee5\u5f88\u597d\u7684\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5728 C++ \u4e2d\uff0c\u9700\u8981\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\u4e3a\u6574\u4e2a\u7c7b\u800c\u975e\u67d0\u4e2a\u5bf9\u8c61\u670d\u52a1\uff0c\u540c\u65f6\u53c8\u529b\u6c42\u4e0d\u7834\u574f\u7c7b\u7684\u5c01\u88c5\u6027\uff0c\u5373\u8981\u6c42\u6b64\u6210\u5458\u9690\u85cf\u5728\u7c7b\u7684\u5185\u90e8\uff0c\u5bf9\u5916\u4e0d\u53ef\u89c1\u65f6\uff0c\u53ef\u5c06\u5176\u5b9a\u4e49\u4e3a\u9759\u6001\u6570\u636e\u3002</p> <p>\u5b9a\u4e49</p> <p>\u4f7f\u7528 <code>static</code> \u4fee\u9970\u7684\u53d8\u91cf\u3002\u4f8b\u5982 <code>static int i = 1</code>\u3002</p> <p>\u521d\u59cb\u5316</p> <p>\u521d\u6b21\u5b9a\u4e49\u65f6\u9700\u8981\u521d\u59cb\u5316\u3002\u5982\u679c\u662f\u5728\u51fd\u6570\u4f53\u5185\u7684\u9759\u6001\u5c40\u90e8\u53d8\u91cf\uff0c\u5219\u53ea\u4f1a\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u4e4b\u540e\u5982\u679c\u518d\u6b21\u8c03\u7528\u8be5\u51fd\u6570\uff0c\u8fd8\u6709\u521d\u59cb\u5316\u8bed\u53e5\uff0c\u4f46\u8fd9\u4e9b\u4e4b\u540e\u7684\u521d\u59cb\u5316\u8bed\u53e5\u5931\u6548\u3002\u4e5f\u5373\u662f\u5728\u4e00\u4e2a\u51fd\u6570\u6267\u884c\u4e00\u6b21\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u80fd\u4e24\u6b21\u5b9a\u4e49\u540c\u4e00\u4e2a <code>static</code> \u6570\u636e\u6210\u5458\u3002\u4e00\u4e2a\u51fd\u6570\u6267\u884c\u591a\u6b21\uff0c\u90a3\u4e48\u6bcf\u6b21\u90fd\u53ef\u4ee5\u6709\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u5b9a\u4e49\u7684\u8bed\u53e5\uff0c\u4f46\u662f\u53ea\u6709\u7b2c\u4e00\u6b21\u6709\u6548\u3002</p> <p>\u800c\u9759\u6001\u5168\u5c40\u53d8\u91cf\u53ea\u80fd\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u4e4b\u540e\u518d\u521d\u59cb\u5316\u5219\u62a5\u9519\u3002</p> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf</p> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u5b58\u50a8\u5728\u9759\u6001\u5b58\u50a8\u533a\uff0c\u751f\u547d\u5468\u671f\u5c06\u6301\u7eed\u5230\u6574\u4e2a\u7a0b\u5e8f\u7ed3\u675f\u3002</p> <p>\u9759\u6001\u5168\u5c40\u53d8\u91cf</p> <p>\u9759\u6001\u5168\u5c40\u53d8\u91cf\u5177\u6709\u5185\u90e8\u53ef\u94fe\u63a5\u6027\uff0c\u4f5c\u7528\u57df\u4ec5\u9650\u5176\u58f0\u660e\u7684\u6e90\u6587\u4ef6\uff0c\u4e0d\u80fd\u88ab\u5176\u4ed6\u6e90\u6587\u4ef6\u6240\u7528\uff0c\u53ef\u4ee5\u907f\u514d\u548c\u5176\u4ed6\u6e90\u6587\u4ef6\u4e2d\u7684\u540c\u540d\u53d8\u91cf\u51b2\u7a81\u3002</p> <p>\u663e\u5f0f <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u53d8\u91cf\u548c\u5168\u5c40\u51fd\u6570\u5373\u662f\u5728\u5176\u4ed6 <code>.cpp</code> \u91cc\u4f7f\u7528 <code>extern</code> \u4e5f\u4e0d\u80fd\u7528\u3002</p> <p><code>extern</code> \u4fee\u9970\u7b26</p> <p>\u9996\u5148\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u975e\u663e\u5f0f <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u53d8\u91cf\u548c\u5168\u5c40\u51fd\u6570\u9ed8\u8ba4\u90fd\u662f\u975e\u9759\u6001\u7684\uff0c\u5373\u53ef\u5171\u4eab\u7684\uff0c\u4f46\u662f\u5fc5\u987b\u5728\u5176\u4ed6\u6587\u4ef6\u91cc\u7528 <code>extern</code> \u6765\u58f0\u660e\u624d\u53ef\u4ee5\u7528\u3002</p> <p><code>extern</code> \u4fee\u9970\u7b26\u901a\u5e38\u7528\u4e8e\u5f53\u6709\u4e24\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u5e0c\u671b\u5171\u4eab\u76f8\u540c\u7684\u5168\u5c40\u53d8\u91cf\u6216\u51fd\u6570\u7684\u65f6\u5019\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6ca1\u6709\u663e\u5f0f\u52a0\u4e0a <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u53d8\u91cf\uff08\u8b6c\u5982 <code>int x</code>\uff09\u662f\u9ed8\u8ba4\u975e\u9759\u6001\u7684\u3002\u5982\u679c\u60f3\u5728\u5176\u4ed6\u7684\u7f16\u8bd1\u5355\u5143\u4e2d\u4f7f\u7528\u540c\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u5018\u82e5\u518d\u6b21\u5b9a\u4e49 <code>int x</code>\uff0c\u5fc5\u7136\u9020\u6210\u91cd\u590d\u5b9a\u4e49\u3002\u4e8e\u662f\u4f7f\u7528 <code>extern int x</code> \u6765\u58f0\u660e\u800c\u4e0d\u518d\u6b21\u5b9a\u4e49\uff08\u6ce8\u610f\uff0c\u4e0d\u53ef\u4ee5 <code>extern</code> \u4e00\u4e2a\u663e\u5f0f <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u56e0\u4e3a <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u53ea\u9650\u4e8e\u5b83\u88ab\u5b9a\u4e49\u7684\u90a3\u4e2a <code>cpp</code> \u6587\u4ef6\uff09\u3002\u8fd9\u6837\uff0c\u8be5\u5168\u5c40\u53d8\u91cf\u5bf9 <code>extern</code> \u5b83\u7684\u6240\u6709\u7684\u7a0b\u5e8f\u6587\u4ef6\u90fd\u53ef\u89c1\u7684\u3002</p> <p>\u8fdb\u4e00\u6b65\u8bb2\uff0c\u6211\u4eec\u5df2\u77e5\u4e0d\u53ef\u4ee5\u5728\u5934\u6587\u4ef6\u4e2d\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\uff0c\u8b6c\u5982 <code>int x</code>\uff08\u8fd9\u7b49\u4ef7\u4e8e <code>int x = 0</code>\uff09\u3002<code>#include</code> \u7684\u529f\u80fd\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u590d\u5236\u7c98\u8d34\u3002\u6545\u800c\u5bf9\u4e8e\u6bcf\u4e2a\u5305\u542b\u4e86\u8be5\u5934\u6587\u4ef6\u7684 <code>cpp</code> \u6587\u4ef6\uff0c\u590d\u5236\u7c98\u8d34\u540e\u76f8\u5f53\u4e8e\u90fd\u5b9a\u4e49\u4e86\u4e00\u6b21\u975e\u9759\u6001\u7684\u5168\u5c40\u53d8\u91cf <code>int x = 0</code>\uff0c\u9020\u6210\u91cd\u590d\u5b9a\u4e49\u800c\u94fe\u63a5\u5931\u8d25\u3002\u4ece\u800c\u53ea\u80fd\u5728\u5934\u6587\u4ef6\u4e2d\u58f0\u660e\u53d8\u91cf\uff0c<code>extern int x</code>\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5168\u5c40\u51fd\u6570\u4e5f\u662f\u9ed8\u8ba4\u975e <code>static</code> \u7684\u3002\u4f46 <code>extern</code> \u4fee\u9970\u5bf9\u4e8e\u4e00\u4e2a\u4e0d\u5e26 <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u51fd\u6570\u6ca1\u6709\u5fc5\u8981\uff0c\u56e0\u4e3a\u5f53\u6211\u4eec\u5728\u53e6\u4e00 <code>cpp</code> \u4e2d\u58f0\u660e\uff08\u800c\u975e\u91cd\u5b9a\u4e49\uff09\u8fd9\u4e00\u5168\u5c40\u51fd\u6570\u65f6\uff0c\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u89c6\u4e3a <code>extern</code>\u3002\u4ece\u800c\uff0c\u5728\u53e6\u4e00 <code>cpp</code> \u4e2d\u8c03\u7528\u8fd9\u4e00\u5168\u5c40\u51fd\u6570\uff0c\u4e0d\u9700\u8981 <code>extern</code> \u4fee\u9970\uff0c\u4f46\u662f\u4ecd\u9700\u58f0\u660e\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5c3d\u91cf\u4e5f\u4e0d\u5728\u5934\u6587\u4ef6\u4e2d\u5b9a\u4e49\u51fd\u6570\u3002\u5047\u8bbe\u5728\u5934\u6587\u4ef6\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u590d\u5236\u7c98\u8d34\u540e\u8fd8\u662f\u91cd\u5b9a\u4e49\uff0c\u4e5f\u53ea\u80fd\u5728\u5934\u6587\u4ef6\u4e2d\u58f0\u660e\u51fd\u6570\u3002\u4e0d\u8fc7\u5bf9\u4e8e\u975e\u663e\u5f0f <code>static</code> \u4fee\u9970\u7684\u51fd\u6570\u800c\u8a00\uff0c\u4e0d\u5e26 <code>extern</code> \u7684\u58f0\u660e\u4f1a\u88ab\u7f16\u8bd1\u5668\u89c6\u4e3a\u81ea\u52a8\u5e26\u4e0a <code>extern</code>\u3002</p> <p>\u7efc\u4e0a\uff0c<code>extern</code> \u7528\u4e8e\u5b9e\u73b0\u53ea\u58f0\u660e\uff0c\u4e0d\u5b9a\u4e49\u3002\uff08\u4e0d\u5206\u914d\u7a7a\u95f4\u5e76\u8d4b\u503c\uff09</p> <p>\u8fdb\u4e00\u6b65\u7684\u4f8b\u5b50\uff1a</p> <pre><code>// func.cpp \nint x = 0;\nint add(int a) {\n    x += a;\n    return x;\n} \n\n// main.cpp \nint add(int);\nint main() {\n    add(1);\n    return 0;\n}\n</code></pre> <p>\u8fd9\u91cc\u4e0d\u5fc5\u7136\u58f0\u660e <code>extern int x</code>\uff0c\u56e0\u4e3a\u8c03\u7528 <code>add</code> \u540e\uff0c<code>add</code> \u548c <code>x</code> \u5728\u4e00\u4e2a <code>cpp</code> \u4e0b\uff0c\u662f\u53ef\u4ee5\u8c03\u7528\u7684\u3002\u7136\u800c\uff0c\u5fc5\u987b\u8981\u5728 <code>main.cpp</code> \u5f53\u4e2d\u58f0\u660e <code>add</code> \u624d\u53ef\u4ee5\u8c03\u7528\u3002\u6ce8\u610f\u5230\uff0c<code>extern</code> \u5bf9\u4e8e\u975e\u663e\u5f0f <code>static</code> \u4fee\u9970\u7684\u5168\u5c40\u51fd\u6570\u6ca1\u6709\u5fc5\u8981\u662f\u6307\u4e0d\u5199 <code>extern</code> \u4e5f\u4f1a\u81ea\u52a8\u53d8 <code>extern</code>\uff0c\u800c\u4e0d\u662f\u8bf4\u5728\u5176\u4ed6 <code>cpp</code> \u4e2d\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u4e0d\u9700\u8981\u58f0\u660e\u3002</p> <p>\u53e6\u5916\uff0c\u7f16\u8bd1\u5668\u80fd\u591f\u8bc6\u522b <code>int add(int)</code> \u548c <code>int add(int x)</code> \u4e3a\u540c\u4e00\u4e2a\u51fd\u6570\uff0c\u540d\u5b57\u548c\u5f62\u53c2\u7c7b\u578b\u4e00\u6837\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u3002</p> <p>\u66f4\u8fdb\u4e00\u6b65\uff1a</p> <pre><code>// func.cpp \nint x = 0;\nint add(int a) {\n    x += a;\n    return x;\n}\n\n// main.cpp \nint x = 10;\nint add(int);\nint main() {\n    add(1);\n    return 0;\n}\n</code></pre> <p>\u6211\u7684\u4e24\u4e2a <code>x</code> \u5b9a\u4e49\u5728\u4e24\u4e2a <code>cpp</code> \u91cc\uff0c\u4e14\u5bf9\u4e8e\u5404\u81ea\u7684 <code>cpp</code> \u800c\u8a00\u800c\u8a00\u4ed6\u4eec\u90fd\u662f\u975e <code>static</code> \u7684\uff0c\u6545\u800c\u4f1a multi-definition\u3002</p> <p>\u7ed3\u8bba\uff1a\u5bf9\u4e8e\u5934\u6587\u4ef6\uff0c\u5c3d\u91cf\u53ea\u58f0\u660e\u51fd\u6570\u800c\u4e0d\u5b9e\u73b0\u51fd\u6570\u3002\u5c3d\u91cf\u53ea\u58f0\u660e\u5168\u5c40\u53d8\u91cf\u800c\u4e0d\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\u3002</p> <p>\u5168\u5c40\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf</p> <p>\u5168\u5c40\u53d8\u91cf\u548c\u5c40\u90e8\u53d8\u91cf\u662f\u4ece\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u7684\u89d2\u5ea6\u5212\u5206\u3002\u9759\u6001\u53d8\u91cf\u548c\u52a8\u6001\u53d8\u91cf\u662f\u4ece\u53d8\u91cf\u7684\u5185\u5b58\u5206\u914d\u7684\u89d2\u5ea6\u5212\u5206\u3002</p> <p>\u5168\u5c40\u53d8\u91cf\u672c\u8eab\u662f\u975e\u9759\u6001\u5b58\u50a8\u65b9\u5f0f\uff0c\u9759\u6001\u5168\u5c40\u53d8\u91cf\u662f\u9759\u6001\u5b58\u50a8\u65b9\u5f0f\u3002\u8fd9\u4e24\u8005\u5728\u5b58\u50a8\u65b9\u5f0f\u4e0a\u5e76\u65e0\u4e0d\u540c\uff0c\u533a\u522b\u5728\u4e8e\u975e\u9759\u6001\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u662f\u6574\u4e2a\u6e90\u7a0b\u5e8f\uff0c\u5f53\u4e00\u4e2a\u6e90\u7a0b\u5e8f\u7531\u591a\u4e2a\u6e90\u6587\u4ef6\u7ec4\u6210\u65f6\uff0c\u975e\u9759\u6001\u7684\u5168\u5c40\u53d8\u91cf\u5728\u5404\u4e2a\u6e90\u6587\u4ef6\uff08\u6240\u6709\u7684 <code>cpp</code> \u6587\u4ef6\uff09\u4e2d\u90fd\u662f\u6709\u6548\u7684\u3002\u800c\u9759\u6001\u5168\u5c40\u53d8\u91cf\u5219\u9650\u5236\u4e86\u5176\u4f5c\u7528\u57df\uff0c\u5373\u53ea\u5728\u5b9a\u4e49\u8be5\u53d8\u91cf\u7684\u6e90\u6587\u4ef6\uff08\u67d0\u4e2a <code>cpp</code> \u6587\u4ef6\uff09\u5185\u6709\u6548\uff0c\u5728\u540c\u4e00\u6e90\u7a0b\u5e8f\u7684\u5176\u5b83\u6e90\u6587\u4ef6\u4e2d\u4e0d\u80fd\u4f7f\u7528\u5b83\u3002\uff08\u5177\u4f53\u89e3\u91ca\u662f\u9759\u6001\u5168\u5c40\u53d8\u91cf\u4ec5\u4ec5\u5185\u90e8\u53ef\u94fe\u63a5\uff09</p> <p>\u5185\u90e8\u53ef\u94fe\u63a5\u4e0e\u5916\u90e8\u53ef\u94fe\u63a5</p> <p>\u7f16\u8bd1\u5355\u5143\uff1a\u7b80\u5355\u6765\u8bf4\u4e00\u4e2a <code>cpp</code> \u6587\u4ef6\u5c31\u662f\u4e00\u4e2a\u7f16\u8bd1\u5355\u5143\u3002\u5f53\u4e00\u4e2a <code>.c</code> \u6216 <code>.cpp</code> \u6587\u4ef6\u5728\u7f16\u8bd1\u65f6\uff0c\u9884\u5904\u7406\u5668\u9996\u5148\u9012\u5f52\u5305\u542b\u5934\u6587\u4ef6\uff0c\u5f62\u6210\u4e00\u4e2a\u542b\u6709\u6240\u6709\u5fc5\u8981\u4fe1\u606f\u7684\u5355\u4e2a\u6e90\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6e90\u6587\u4ef6\u5c31\u662f\u4e00\u4e2a\u7f16\u8bd1\u5355\u5143\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u7f16\u8bd1\u6bcf\u4e2a\u7f16\u8bd1\u5355\u5143\u65f6\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u5373\u6bcf\u4e2a <code>cpp</code> \u6587\u4ef6\u4e4b\u95f4\u662f\u4e0d\u77e5\u9053\u5bf9\u65b9\u7684\u5b58\u5728\u7684\u3002\uff08\u4e0d\u8003\u8651 <code>#include \"xxx.cpp\"</code> \u8fd9\u79cd\u5947\u8469\u7684\u5199\u6cd5\uff09\u7f16\u8bd1\u5668\u4f1a\u5206\u522b\u5c06\u6bcf\u4e2a\u7f16\u8bd1\u5355\u5143\u8fdb\u884c\u7f16\u8bd1\uff0c\u751f\u6210\u76f8\u5e94\u7684 <code>.o</code> \u6587\u4ef6\u3002\u7136\u540e\u94fe\u63a5\u5668\u4f1a\u5c06\u6240\u6709\u7684 <code>.o</code> \u6587\u4ef6\u8fdb\u884c\u94fe\u63a5\uff0c\u751f\u6210\u6700\u7ec8\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\u6211\u4eec\u77e5\u9053 C++ \u4e2d\u58f0\u660e\u548c\u5b9a\u4e49\u53ef\u4ee5\u5206\u5f00\u3002\u4f8b\u5982\u6211\u4eec\u53ef\u4ee5\u4e00\u4e2a\u51fd\u6570\u58f0\u660e\u5b9a\u4e49\u653e\u5728 <code>b.cpp</code> \u4e2d\uff0c\u5728 <code>a.cpp</code> \u53ea\u9700\u518d\u58f0\u660e\u4e00\u4e0b\u8fd9\u4e2a\u51fd\u6570\uff0c\u5c31\u53ef\u4ee5\u5728 <code>a.cpp</code> \u4e2d\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u3002\u4f8b\u5982\uff1a</p> <pre><code>// a.cpp\nvoid show();\nint main() {\n    show();\n    return 0;\n}\n\n// b.cpp\n#include &lt;iostream&gt;\nvoid show() {\n    std::cout &lt;&lt; \"Hello\" &lt;&lt; std::endl;\n}\n</code></pre> <p>\u800c\u901a\u8fc7\u4e4b\u524d\u7684\u4e86\u89e3\uff0c\u6211\u4eec\u77e5\u9053\u6bcf\u4e2a\u7f16\u8bd1\u5355\u5143\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u4e0d\u77e5\u9053\u5f7c\u6b64\u7684\u5b58\u5728\u7684\u3002\u90a3\u4e48 <code>a.cpp</code> \u53c8\u662f\u5982\u4f55\u77e5\u9053 <code>show</code> \u51fd\u6570\u7684\u5b9a\u4e49\u7684\u5462\uff1f</p> <p>\u5176\u5b9e\u5728\u7f16\u8bd1\u4e00\u4e2a\u7f16\u8bd1\u5355\u5143\u751f\u6210\u76f8\u5e94\u7684 <code>.o</code> \u6587\u4ef6\u8fc7\u7a0b\u4e2d\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c06\u5206\u6790\u8fd9\u4e2a\u7f16\u8bd1\u5355\u5143\uff0c\u5c06\u5176\u6240\u80fd\u63d0\u4f9b\u7ed9\u5176\u4ed6\u7f16\u8bd1\u5355\u5143\u4f7f\u7528\u7684\u51fd\u6570\uff0c\u53d8\u91cf\u5b9a\u4e49\u8bb0\u5f55\u4e0b\u6765\u3002\u800c\u5c06\u81ea\u5df1\u7f3a\u5c11\u7684\u51fd\u6570\uff0c\u53d8\u91cf\u7684\u5b9a\u4e49\u4e5f\u8bb0\u5f55\u4e0b\u6765\u3002\u6240\u4ee5\u53ef\u4ee5\u8ba4\u4e3a <code>a.o</code> \u548c <code>b.o</code> \u8bb0\u5f55\u4e86\u4ee5\u4e0b\u7684\u4fe1\u606f\uff1a</p> <ul> <li><code>a.o</code>\uff1a\u6211\u80fd\u63d0\u4f9b <code>main</code> \u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u6211\u9700\u8981 <code>show</code> \u51fd\u6570\u7684\u5b9a\u4e49</li> <li><code>b.o</code>\uff1a\u6211\u80fd\u63d0\u4f9b <code>show</code> \u51fd\u6570\u7684\u5b9a\u4e49</li> </ul> <p>\u7136\u540e\u5728\u94fe\u63a5\u5668\u8fde\u63a5\u7684\u65f6\u5019\u5c31\u4f1a\u77e5\u9053 <code>a.o</code> \u9700\u8981 <code>show</code> \u51fd\u6570\u5b9a\u4e49\uff0c\u800c <code>b.o</code> \u4e2d\u6070\u597d\u63d0\u4f9b\u4e86 <code>show</code> \u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u901a\u8fc7\u94fe\u63a5\uff0c\u5728\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u6211\u4eec\u80fd\u770b\u5230 <code>show</code> \u51fd\u6570\u7684\u8fd0\u884c\u3002</p> <p>\u5185\u90e8\u8fde\u63a5\uff1a\u5982\u679c\u4e00\u4e2a\u540d\u79f0\u5bf9\u7f16\u8bd1\u5355\u5143\u6765\u8bf4\u662f\u5c40\u90e8\u7684\uff0c\u5728\u94fe\u63a5\u7684\u65f6\u5019\u5176\u4ed6\u7684\u7f16\u8bd1\u5355\u5143\u65e0\u6cd5\u94fe\u63a5\u5230\u5b83\u4e14\u4e0d\u4f1a\u4e0e\u5176\u5b83\u7f16\u8bd1\u5355\u5143\u4e2d\u7684\u540c\u6837\u7684\u540d\u79f0\u76f8\u51b2\u7a81\u3002\u4f8b\u5982 <code>static</code> \u51fd\u6570\uff0c<code>inline</code> \u51fd\u6570\u7b49\uff08\u6ce8\uff1a\u7528 <code>static</code> \u4fee\u9970\u7684\u51fd\u6570\uff0c\u672c\u9650\u5b9a\u5728\u672c\u6e90\u7801\u6587\u4ef6\u4e2d\uff0c\u4e0d\u80fd\u88ab\u672c\u6e90\u7801\u6587\u4ef6\u4ee5\u5916\u7684\u4ee3\u7801\u6587\u4ef6\u8c03\u7528\u3002\u800c\u666e\u901a\u7684\u51fd\u6570\uff0c\u9ed8\u8ba4\u662f <code>extern</code> \u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u88ab\u5176\u5b83\u4ee3\u7801\u6587\u4ef6\u8c03\u7528\u8be5\u51fd\u6570\uff09</p> <p>\u5916\u90e8\u8fde\u63a5\uff1a\u5982\u679c\u4e00\u4e2a\u540d\u79f0\u5bf9\u7f16\u8bd1\u5355\u5143\u6765\u8bf4\u4e0d\u662f\u5c40\u90e8\u7684\uff0c\u800c\u5728\u94fe\u63a5\u7684\u65f6\u5019\u5176\u4ed6\u7684\u7f16\u8bd1\u5355\u5143\u53ef\u4ee5\u8bbf\u95ee\u5b83\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u53ef\u4ee5\u548c\u522b\u7684\u7f16\u8bd1\u5355\u5143\u4ea4\u4e92\u3002\u4f8b\u5982\u975e\u9759\u6001\u5168\u5c40\u53d8\u91cf\u5c31\u662f\u5916\u90e8\u94fe\u63a5\u3002</p>"},{"location":"languages/c-oop/class-advanced/#static","title":"<code>static</code> \u6570\u636e\u6210\u5458\uff08\u7c7b\u53d8\u91cf\uff09","text":"<p>\u58f0\u660e\u3001\u5b9a\u4e49\u3001\u521d\u59cb\u5316\u3001\u8d4b\u503c</p> <p>\u58f0\u660e\uff08\u82f1\u8bed\uff1aDeclaration\uff09\u6307\u5b9a\u4e86\u4e00\u4e2a\u53d8\u91cf\u7684\u6807\u8bc6\u7b26\uff0c\u7528\u6765\u63cf\u8ff0\u53d8\u91cf\u7684\u79cd\u7c7b\uff0c\u662f\u7c7b\u578b\u8fd8\u662f\u5bf9\u8c61\uff0c\u6216\u8005\u51fd\u6570\u7b49\u3002\u58f0\u660e\uff0c\u7528\u4e8e\u7f16\u8bd1\u5668\u8bc6\u522b\u53d8\u91cf\u540d\u6240\u5f15\u7528\u7684\u5b9e\u4f53\u3002</p> <p>\u5e7f\u4e49\u7684\u89d2\u5ea6\u4e0a\u6765\u8bb2\u5b9a\u4e49\u662f\u58f0\u660e\u7684\u7279\u4f8b\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u628a\u5206\u914d\u4e86\u5185\u5b58\u7a7a\u95f4\u7684\u58f0\u660e\u79f0\u4f5c\u5b9a\u4e49\uff0c\u4e0d\u9700\u8981\u5b58\u50a8\u7a7a\u95f4\u7684\u58f0\u660e\u79f0\u4f5c\u58f0\u660e\u3002</p> <p>\u5bf9\u4e8e\u5168\u5c40\u53d8\u91cf\uff0c<code>int a</code> \u662f\u5b9a\u4e49\u6027\u58f0\u660e\uff0c\u6216\u79f0\u5b9a\u4e49\u3002<code>extern int a</code> \u662f\u5f15\u7528\u6027\u58f0\u660e\u3002\u5bf9\u4e8e <code>.h</code> \u6587\u4ef6\u91cc\u7684 <code>class</code>\uff0c\u4ec5\u4ec5 <code>static int x</code> \u662f\u58f0\u660e\uff08\u6ca1\u6709\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff09\u3002\u5982\u679c\u5728 <code>class</code> \u91cc\u5c31\u5199\u4e0a <code>static int x = 0</code>\uff08\u5c31\u5730\u521d\u59cb\u5316\uff09\uff0c\u8fd9\u91cc\u65e2\u5b8c\u6210\u4e86\u58f0\u660e\uff0c\u53c8\u5b8c\u6210\u4e86\u5b9a\u4e49\uff08\u5206\u914d\u4e86\u5185\u5b58\u7a7a\u95f4\uff09\uff0c\u4f46\u662f\u8fd9\u4e48\u5199\u4e0d\u89c4\u8303\uff0c\u5927\u591a\u7f16\u8bd1\u5668\u90fd\u4f1a\u62a5\u9519\u3002</p> <p><code>extern int a</code> \u53ea\u80fd\u5168\u5c40\u53d8\u91cf\u7528\uff0c\u53ea\u58f0\u660e\u4f46\u662f\u4e0d\u5206\u914d\u3002\u4f46\u662f\u5168\u5c40\u53d8\u91cf <code>int a</code> \u65e2\u5b8c\u6210\u4e86\u58f0\u660e\u4e5f\u5b8c\u6210\u4e86\u5b9a\u4e49\uff0c\u7f16\u8bd1\u5668\u9ed8\u8ba4\u8d4b\u503c\u4e3a <code>0</code>\u3002\u5bf9\u4e8e <code>class</code>\uff0c<code>static int a</code> \u5c31\u8d77\u5230\u4e86\u53ea\u58f0\u660e\u4e0d\u5206\u914d\uff08\u4e5f\u5c31\u662f\u53ea\u58f0\u660e\u4e0d\u5b9a\u4e49\uff09\u7684\u4f5c\u7528\u3002</p> <p>\u521d\u59cb\u5316\u548c\u5b9a\u4e49\u7684\u610f\u4e49\u76f8\u8fd1\uff0c\u5e7f\u4e49\u4e0a\u5c06\u5c31\u662f\u5206\u914d\u4e86\u50a8\u5b58\u7a7a\u95f4\u5e76\u5b8c\u6210\u4e86\u8d4b\u521d\u59cb\u503c\u3002\u800c\u8d4b\u503c\u5c31\u662f\u7ed9\u5df2\u7ecf\u5b8c\u6210\u5b9a\u4e49\u7684\u5185\u5b58\u7a7a\u95f4\u8d4b\u503c\u3002</p> <p>\u9759\u6001\u6570\u636e\u6210\u5458\u5b9a\u4e49\u4e0e\u57fa\u672c\u6027\u8d28</p> <p>\u4f7f\u7528 <code>static</code> \u4fee\u9970\u7684\u6570\u636e\u6210\u5458\uff0c\u662f\u96b6\u5c5e\u4e8e\u7c7b\u7684\uff0c\u79f0\u4e3a\u7c7b\u7684\u9759\u6001\u6570\u636e\u6210\u5458\uff0c\u4e5f\u79f0\u7c7b\u53d8\u91cf\u3002\u8be5\u6570\u636e\u6210\u5458\u88ab\u8be5\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u5171\u4eab\uff0c\u5373\u6240\u6709\u5bf9\u8c61\u4e2d\u7684\u8fd9\u4e2a\u6570\u636e\u57df\u5904\u5728\u540c\u4e00\u5185\u5b58\u4f4d\u7f6e\uff0c\u5728\u7c7b\u5b9e\u4f8b\u5316\u5bf9\u8c61\u524d\u5df2\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u7c7b\u7684\u9759\u6001\u6210\u5458\uff08\u6570\u636e\u3001\u51fd\u6570\uff09\u65e2\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u6765\u8bbf\u95ee\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7c7b\u540d\u6765\u8bbf\u95ee\uff0c\u5982 <code>ClassName::static_var</code> \u6216\u8005 <code>a.static_var</code>\uff08<code>a</code> \u4e3a <code>ClassName</code> \u7c7b\u7684\u5bf9\u8c61\uff09\u3002</p> <p>\u7c7b\u7684\u9759\u6001\u6210\u5458\u5728\u5b9e\u73b0\u6587\u4ef6\u4e2d\u8d4b\u521d\u503c\uff0c\u683c\u5f0f\u4e3a <code>Type ClassName::static_var = Value</code>\u3002</p> <p>\u548c\u5168\u5c40\u53d8\u91cf\u4e00\u6837\uff0c\u7c7b\u7684\u9759\u6001\u6570\u636e\u6210\u5458\u5728\u7a0b\u5e8f\u5f00\u59cb\u524d\u521d\u59cb\u5316\u3002\u5e94\u8be5\u5728 <code>.h</code> \u6587\u4ef6\u91cc\u58f0\u660e\uff08\u4e0d\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff09\uff0c\u5728 <code>.cpp</code> \u6587\u4ef6\u91cc\u5b9a\u4e49\uff08\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u4e14\u521d\u59cb\u5316\uff09\u3002</p> <p>\u6700\u597d\u4e0d\u8981\u5728 <code>.h</code> \u6587\u4ef6\u91cc\u5b9a\u4e49\uff08\u4e5f\u5c31\u662f\u5199 <code>static int x = 0</code>\uff09\u3002\u5982\u679c\u8fd9\u4e48\u505a\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u91cd\u590d\u5b9a\u4e49\uff08\u91cd\u590d\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff09\uff0c\u6545\u800c\u8fd9\u4e48\u5199\u4e0d\u592a\u597d\u3002\u53ef\u80fd\u9020\u6210\u91cd\u5b9a\u4e49\u800c\u65e0\u6cd5\u5b8c\u6210\u94fe\u63a5\uff0c\u7f16\u8bd1\u5931\u8d25\u3002</p> <p>\u4f8b\u5b50</p> <p></p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u7684\u610f\u4e49\uff1a\u6ce8\u610f\u5230\u6211\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6784\u9020\u4e86\u4e2a <code>Test</code> \u6570\u7ec4\uff0c\u542b\u6709 10 \u4e2a\u5bf9\u8c61\uff0c\u6bcf\u8c03\u7528\u4e00\u6b21\u6784\u9020\u51fd\u6570\u5c31\u4f1a\u7ed9 <code>count++</code>\uff0c\u4ece\u800c\u52a0\u4e86 10 \u6b21\u3002\uff08\u8fd9\u5176\u5b9e\u4e5f\u4f53\u73b0\u4e86 <code>static</code> \u6570\u636e\u662f\u6574\u4e2a\u7c7b\u5171\u4eab\u7684\uff09</p>"},{"location":"languages/c-oop/class-advanced/#static_1","title":"<code>static</code> \u6210\u5458\u51fd\u6570","text":"<p>\u5b9a\u4e49\u4e0e\u57fa\u672c\u6027\u8d28</p> <p>\u5728\u8fd4\u56de\u503c\u524d\u9762\u6dfb\u52a0 <code>static</code> \u4fee\u9970\u7684\u6210\u5458\u51fd\u6570\uff0c\u79f0\u4e3a\u7c7b\u7684\u9759\u6001\u6210\u5458\u51fd\u6570\u3002</p> <p>\u548c\u9759\u6001\u6570\u636e\u6210\u5458\u7c7b\u4f3c\uff0c\u7c7b\u7684\u9759\u6001\u6210\u5458\u51fd\u6570\u65e2\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u6765\u8bbf\u95ee\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7c7b\u540d\u6765\u8bbf\u95ee\uff0c\u5982 <code>ClassName::static_function</code> \u6216\u8005 <code>a.static_function</code>\uff08<code>a</code> \u4e3a <code>ClassName</code> \u7c7b\u7684\u5bf9\u8c61\uff09\u3002</p> <p>\u9759\u6001\u6210\u5458\u51fd\u6570\u5c5e\u4e8e\u6574\u4e2a\u7c7b\uff0c\u5728\u7c7b\u5b9e\u4f8b\u5316\u5bf9\u8c61\u4e4b\u524d\u5df2\u7ecf\u5206\u914d\u4e86\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u7c7b\u7684\u975e\u9759\u6001\u6210\u5458\u5fc5\u987b\u5728\u7c7b\u5b9e\u4f8b\u5316\u5bf9\u8c61\u540e\u624d\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u3002\u5982\u679c\u4f7f\u7528\u9759\u6001\u6210\u5458\u51fd\u6570\u8bbf\u95ee\u975e\u9759\u6001\u6210\u5458\uff0c\u76f8\u5f53\u4e8e\u6ca1\u6709\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u5374\u8981\u4f7f\u7528\u5b83\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass A {  \n    int data;\npublic:\n    static void output() {  \n        cout &lt;&lt; data &lt;&lt; endl; // \u7f16\u8bd1\u9519\u8bef\n    }  \n};\n\nint main() {\n    A a;  \n    a.output();  \n    return 0;\n}\n</code></pre> <p>\u770b\u4e0a\u53bb <code>output</code> \u5c06\u4f1a\u8f93\u51fa <code>a</code> \u7684 <code>data</code>\uff0c\u800c\u4e14 <code>a</code> \u5df2\u7ecf\u521d\u59cb\u5316\u4e86\uff0c\u8c8c\u4f3c\u53ef\u4ee5\u8f93\u51fa\u3002\u4f46\u662f\u7531\u4e8e <code>static</code> \u6210\u5458\u51fd\u6570\u6ca1\u6709 <code>this</code> \u6307\u9488\uff0c\u6545\u800c <code>output</code> \u6ca1\u6cd5\u5f97\u77e5\u8f93\u51fa\u7684\u662f <code>this-&gt;data</code>\uff0c\u4ece\u800c\u7f16\u8bd1\u5931\u8d25\u3002</p> <p>\u4f46\u662f\u9759\u6001\u6210\u5458\u51fd\u6570\u662f\u53ef\u4ee5\u4fee\u6539\u9759\u6001\u6570\u636e\u6210\u5458\u7684\uff0c\u6bd4\u5982\u8fd9\u6bb5\u4ee3\u7801\uff1a</p> <pre><code>class Test {\n    const int member1;\n    static float member2;\npublic:\n    Test(int mem): member1(mem) { }\n    int MyMember1() const { return member1; }\n    static float Mymember2() { return member2; }\n};\nfloat Test::member2 = 0;\n</code></pre> <p>\u8fd9\u91cc <code>Mymember2</code> \u662f\u53ef\u4ee5\u8bbf\u95ee <code>member2</code> \u7684\uff0c\u56e0\u4e3a <code>member2</code> \u662f\u9759\u6001\u6570\u636e\u6210\u5458\u3002</p> <p>\u4e0e\u9759\u6001\u6570\u636e\u6210\u5458\u6709\u533a\u522b\u7684\u662f\uff0c\u9759\u6001\u6210\u5458\u51fd\u6570\u53ef\u4ee5\u5728 <code>.h</code> \u4e2d\u5b9e\u73b0\u3002\uff08\u53ef\u4ee5\u4f46\u662f\u4e0d\u63a8\u8350\uff0c\u5fd7\u613f\u8005\u8bf4\u5e0c\u671b\u5b9e\u73b0\u90fd\u653e\u5230\u76f8\u5e94\u7684 <code>.cpp</code> \u91cc\u9762\uff09</p>"},{"location":"languages/c-oop/class-advanced/#_4","title":"\u5e38\u91cf\u6570\u636e\u6210\u5458\u4e0e\u51fd\u6570","text":""},{"location":"languages/c-oop/class-advanced/#_5","title":"\u5e38\u91cf","text":"<p>\u5b9a\u4e49</p> <p>\u5e38\u91cf\u5173\u952e\u5b57 <code>const</code> \u5e38\u7528\u4e8e\u4fee\u9970\u53d8\u91cf\u3001\u5f15\u7528\u3001\u6307\u9488\u3001\u51fd\u6570\u8fd4\u56de\u503c\u3002</p> <p>\u6027\u8d28</p> <p>\u4fee\u9970\u53d8\u91cf\u65f6\uff08\u5982 <code>const int n = 1</code>\uff09\uff0c\u5fc5\u987b\u5c31\u5730\u521d\u59cb\u5316\uff0c\u8be5\u53d8\u91cf\u7684\u503c\u5728\u5176\u751f\u547d\u5468\u671f\u5185\u90fd\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u4fee\u9970\u5f15\u7528\u3001\u6307\u9488\u65f6\uff08\u5982 <code>int a = 1; const int&amp; b = a</code>\uff09\uff0c\u4e0d\u80fd\u901a\u8fc7\u8be5\u5f15\u7528\u3001\u6307\u9488\u4fee\u6539\u76f8\u5e94\u53d8\u91cf\u7684\u503c\uff0c\u5e38\u7528\u4e8e\u51fd\u6570\u53c2\u6570\u4ee5\u4fdd\u8bc1\u51fd\u6570\u4f53\u4e2d\u65e0\u6cd5\u4fee\u6539\u53c2\u6570\u7684\u503c\u3002\u4fee\u9970\u51fd\u6570\u8fd4\u56de\u503c\u65f6\uff08\u5982 <code>const int* func() { }</code>\uff09\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u7684\u5185\u5bb9\uff08\u6216\u5176\u6307\u5411\u7684\u5185\u5bb9\uff09\u4e0d\u80fd\u88ab\u4fee\u6539\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_6","title":"\u5e38\u91cf\u6570\u636e\u6210\u5458","text":"<p>\u5b9a\u4e49</p> <p>\u4f7f\u7528 <code>const</code> \u4fee\u9970\u7684\u6570\u636e\u6210\u5458\uff0c\u79f0\u4e3a\u7c7b\u7684\u5e38\u91cf\u6570\u636e\u6210\u5458\uff0c\u5728\u5bf9\u8c61\uff08\u5177\u4f53\u67d0\u4e2a\u5bf9\u8c61\uff0c\u800c\u975e\u4e00\u4e2a\u7c7b\u5171\u6709\uff09\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u91cc\u4e0d\u53ef\u66f4\u6539\u3002</p> <p>\u521d\u59cb\u5316</p> <p>\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u5217\u8868\u4e2d\u88ab\u521d\u59cb\u5316\uff0c\u5c31\u5730\u521d\u59cb\u5316\uff0c\u4f46\u662f\u4e0d\u5141\u8bb8\u5728\u6784\u9020\u51fd\u6570\u7684\u51fd\u6570\u4f53\u4e2d\u901a\u8fc7\u8d4b\u503c\u6765\u8bbe\u7f6e\u3002</p> <p>\u5bf9\u201c\u4e0d\u80fd\u8d4b\u503c\u201d\u7684\u7406\u89e3</p> <p>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5728\u6784\u9020\u51fd\u6570\u91cc\u9762\u521d\u59cb\u5316\u5e38\u91cf\uff1f</p> <ul> <li> <p>\u6784\u9020\u51fd\u6570\u4e5f\u662f\u51fd\u6570\uff0c\u5e38\u91cf\u7684\u610f\u601d\u5c31\u662f\u51fd\u6570\u4e0d\u53ef\u4ee5\u6539\u3002\u2014\u2014 cqq</p> </li> <li> <p>\u5e38\u91cf\u53ea\u80fd\u5b9a\u4e49\u4e0d\u80fd\u8d4b\u503c\uff0c\u5728\u4efb\u4f55\u51fd\u6570\u4f53\u91cc\u7684\u90fd\u7b97\u662f\u8d4b\u503c\u8bed\u53e5\uff0c\u6784\u9020\u51fd\u6570\u4f53\u4e5f\u7b97\u3002\u2014\u2014 cyd</p> </li> <li> <p>\u5f53\u6267\u884c\u5230\u6784\u9020\u51fd\u6570\u7684\u51fd\u6570\u4f53\u91cc\u7684\u65f6\u5019\uff0c\u5b9e\u4f8b\u5df2\u7ecf\u6784\u9020\u5b8c\u6210\u4e86\uff08<code>this</code> \u6307\u9488\u5df2\u7ecf\u5b58\u5728\uff09\uff0c\u8fd9\u65f6\u5c31\u53ea\u80fd\u4fee\u6539\u5b83\u7684\u4e00\u4e9b\u975e <code>const</code> \u5c5e\u6027\u4e86\u3002\u2014\u2014 \u5355\u5e26\u5e08</p> </li> </ul>"},{"location":"languages/c-oop/class-advanced/#_7","title":"\u5e38\u91cf\u6210\u5458\u51fd\u6570","text":"<p>\u5b9a\u4e49</p> <p>\u6210\u5458\u51fd\u6570\u4e5f\u80fd\u7528 <code>const</code> \u6765\u4fee\u9970\uff0c\u79f0\u4e3a\u5e38\u91cf\u6210\u5458\u51fd\u6570\u3002</p> <p>\u610f\u4e49</p> <p>\u5b9e\u73b0\u8bed\u53e5\u4e0d\u80fd\u4fee\u6539\u7c7b\u7684\u6570\u636e\u6210\u5458\uff0c\u5373\u4e0d\u80fd\u6539\u53d8\u5bf9\u8c61\u72b6\u6001\uff08\u5185\u5bb9\uff09\u3002</p> <p>\u975e\u5e38\u91cf\u5bf9\u8c61\u7684\u5e38\u91cf\u6210\u5458\u51fd\u6570\u4e0d\u80fd\u8bbf\u95ee\u4e0d\u4fee\u6539\u5bf9\u8c61\u72b6\u6001\u7684\u975e\u5e38\u91cf\u6210\u5458\u51fd\u6570\u3002</p> <p>\u6240\u8c13\u5e38\u91cf\u6210\u5458\u51fd\u6570\u4e0d\u80fd\u4fee\u6539\u7c7b\u7684\u6570\u636e\u6210\u5458\uff0c\u8fd9\u53e5\u8bdd\u662f\u5bf9\u7684\uff0c\u4f46\u662f\u8fd9\u53e5\u8bdd\u6709\u5f88\u591a\u95ee\u9898\u3002\u9996\u5148\uff0c\u5b9e\u9645\u4e0a <code>A</code> \u7c7b <code>a</code> \u5bf9\u8c61\u7684\u5e38\u91cf\u6210\u5458\u51fd\u6570\u4e0d\u80fd\u4fee\u6539 <code>a</code> \u7684\u6240\u6709\u6210\u5458\u6570\u636e\uff0c\u4f46\u662f\u53ef\u4ee5\u4fee\u6539 <code>A</code> \u7c7b\u7684\u9759\u6001\u6570\u636e\u6210\u5458\uff0c\u751a\u81f3\u8fd8\u53ef\u4ee5\u4fee\u6539 <code>A</code> \u7c7b\u53e6\u5916\u4e00\u4e2a <code>b</code> \u5bf9\u8c61\u7684\u6210\u5458\u6570\u636e\uff0c\u5c31\u53ea\u662f\u4e0d\u80fd\u4fee\u6539\u72ec\u5c5e\u4e8e\u81ea\u5df1\u7684\u6210\u5458\u6570\u636e\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\n    const int member1;\n    static float member2;\npublic:\n    int zcy = 0;\n    Test(int mem): member1(mem) { }\n    int MyMember1(Test &amp;a) const {\n        a.zcy += 100;\n        return member1;\n    }\n    static float Mymember2() { return member2; }\n};\nfloat Test::member2 = 0;\n\nint main() {\n    Test a(0), b(0);\n    a.MyMember1(b);\n    cout &lt;&lt; b.zcy &lt;&lt; endl; // 100\n    return 0;\n}\n</code></pre> <p>\u5199\u6cd5</p> <p>\u5e38\u51fd\u6570\u7684\u58f0\u660e\u4e3a\uff1a<code>ReturnType Func() const { }</code>\uff0c\u6ce8\u610f\u4e0e <code>const ReturnType Func() { }</code> \u533a\u522b\u3002</p> <p>\u540e\u8005\u662f\u8fd4\u56de\u503c\u4e3a\u5e38\u91cf\uff0c\u4e5f\u5c31\u662f\u524d\u6587\u63d0\u53ca\u7684\u201c\u4fee\u9970\u51fd\u6570\u8fd4\u56de\u503c\u65f6\uff08\u5982 <code>const int* func() { }</code>\uff09\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u7684\u5185\u5bb9\uff08\u6216\u5176\u6307\u5411\u7684\u5185\u5bb9\uff09\u4e0d\u80fd\u88ab\u4fee\u6539\u3002\u201d</p>"},{"location":"languages/c-oop/class-advanced/#_8","title":"\u5e38\u91cf\u5bf9\u8c61","text":"<p>\u82e5\u5bf9\u8c61\u88ab\u5b9a\u4e49\u4e3a\u5e38\u91cf\uff08<code>const ClassName a</code>\uff09\uff0c\u5219\u5b83\u53ea\u80fd\u8c03\u7528\u4ee5 <code>const</code> \u4fee\u9970\u7684\u6210\u5458\u51fd\u6570\u4e0e\u9759\u6001\u6210\u5458\u51fd\u6570\u3002\u4e0d\u80fd\u8c03\u7528\u4efb\u4f55\u65e2\u975e\u5e38\u91cf\uff0c\u4e5f\u975e\u9759\u6001\u7684\u51fd\u6570\u3002\u4ee5\u53ca\uff0c\u5e38\u91cf\u5bf9\u8c61\u53ef\u4ee5\u6210\u4e3a\u975e\u5e38\u91cf\u6210\u5458\u51fd\u6570\u7684\u53c2\u6570\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Test {\n    const int member1;\n    static float member2;\npublic:\n    int zcy = 0;\n    Test(int mem): member1(mem) { }\n\n    int func1() {\n        cout &lt;&lt; \"\u5f53\u7136\u8c03\u7528\u4e0d\u4e86\" &lt;&lt; endl;\n        return 0;\n    }\n\n    static int func2() {\n        cout &lt;&lt; \"\u8fd9\u4e2a\u8c03\u7528\u7684\u4e86\" &lt;&lt; endl;\n        return 0;\n    }\n\n    int MyMember1(Test &amp;a) const {\n        a.zcy += 100;\n        return member1;\n    }\n\n    static float Mymember2() { return member2; }\n};\nfloat Test::member2 = 0;\n\nint main() {\n    Test a(0), b(0);\n    const Test c(0);\n    c.func2(); // \"\u8fd9\u4e2a\u8c03\u7528\u7684\u4e86\"\n    a.MyMember1(b);\n    cout &lt;&lt; b.zcy &lt;&lt; endl; // 100\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/class-advanced/#_9","title":"\u5e38\u91cf\u9759\u6001\u53d8\u91cf","text":"<p>\u5b9a\u4e49</p> <p>\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u65e2\u662f\u5e38\u91cf\u4e5f\u662f\u9759\u6001\u7684\u53d8\u91cf\u3002\u5e38\u91cf\u610f\u5473\u7740\u4e0d\u53ef\u6539\uff0c\u9759\u91cf\u610f\u5473\u7740\u7279\u5b9a\u7684\u4f5c\u7528\u533a\u57df\u3002\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5b9a\u4e49\u5e38\u91cf\u9759\u6001\u6210\u5458\u6570\u636e\uff0c\u4f5c\u4e3a\u4e0d\u53ef\u66f4\u6539\u7684\u7c7b\u53d8\u91cf\u3002</p> <p>\u5b9a\u4e49\u65b9\u6cd5</p> <p>\u548c\u9759\u6001\u53d8\u91cf\u4e00\u6837\uff0c\u5728\u7c7b\u5185\u53ea\u8fdb\u884c\u58f0\u660e\uff08\u4e0d\u5206\u914d\u7a7a\u95f4\uff09\uff0c\u5728 <code>.cpp</code> \u91cc\u624d\u5b9a\u4e49\uff08\u5b8c\u6210\u5185\u5b58\u5206\u914d\u5e76\u8d4b\u521d\u503c\uff09\u3002\u56de\u987e\uff0c<code>static</code> \u6210\u5458\u6570\u636e\u8981\u5728 <code>cpp</code> \u91cc\u58f0\u660e\uff0c\u5728 <code>.h</code> \u91cc\u5b9a\u4e49\uff1b\u800c <code>const</code> \u7c7b\u578b\u8981\u5728\u521d\u59cb\u5316\u5217\u8868\u91cc\u521d\u59cb\u5316\u6216\u8005\u5c31\u5730\u521d\u59cb\u5316\u3002</p> <p>\u5199\u6210 <code>const static</code> \u548c <code>static const</code> \u6ca1\u6709\u533a\u522b\u3002</p> <p>\u6709\u4e24\u4e2a\u4f8b\u5916\uff1a<code>int</code> \u548c <code>enum</code>\uff08\u679a\u4e3e\u578b\uff09\u7c7b\u578b\u53ef\u4ee5\u5c31\u5730\u521d\u59cb\u5316\uff08\u4f46\u4e5f\u4e0d\u63a8\u8350\u8fd9\u4e48\u5199\uff09\u3002\u6545\u800c\uff0c\u9759\u6001\u6570\u636e\u6210\u5458\u5fc5\u987b\u5728\u7c7b\u5916\u5b9a\u4e49\uff0c\u4f46\u662f\u5e38\u91cf\u9759\u6001\u6570\u636e\u6210\u5458\u4e2d <code>int</code> \u548c <code>enum</code>\uff08\u679a\u4e3e\u578b\uff09\u7c7b\u578b\u53ef\u4ee5\u5c31\u5730\u521d\u59cb\u5316\u3002</p> <p>\u6545\u800c\u5224\u65ad\u9898\uff1a\u5e38\u91cf\u9759\u6001\u7684\u6210\u5458\u53d8\u91cf\u53ea\u80fd\u5728\u7c7b\u5916\u8fdb\u884c\u521d\u59cb\u5316\u3002\u662f\u9519\u7684\uff0c\u8fd9\u4e0d\u662f\u201c\u4f60\u53ef\u4ee5\u5728\u7c7b\u5185\u5199\uff0c\u4f46\u662f\u4e0d\u63a8\u8350\u201d\u8fd9\u610f\u601d\uff0c\u800c\u662f\u5f3a\u8c03\u4e86\u4e24\u4e2a\u7279\u4f8b\u3002</p> <p>\u8bbf\u95ee\u6743\u9650</p> <p>\u5e38\u91cf\u9759\u6001\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u4e00\u6837\uff0c\u6ee1\u8db3\u8bbf\u95ee\u6743\u9650\u7684\u4efb\u610f\u51fd\u6570\u5747\u53ef\u8bbf\u95ee\uff0c\u4f46\u7531\u4e8e <code>const</code> \u7684\u4fee\u9970\u90fd\u4e0d\u80fd\u4fee\u6539\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_10","title":"\u5e38\u91cf\u9759\u6001\u51fd\u6570\u4e0d\u5b58\u5728","text":"<p>\u5e38\u91cf\u6210\u5458\u51fd\u6570\u4f9d\u8d56\u4e8e\u5177\u4f53\u7684\u5bf9\u8c61\uff0c\u4e0d\u80fd\u4fee\u6539\u5bf9\u8c61\u7684\u6570\u636e\u6210\u5458\u3002\u9759\u6001\u6210\u5458\u51fd\u6570\u4e0d\u4f9d\u8d56\u4e8e\u5bf9\u8c61\uff0c\u5b83\u5c5e\u4e8e\u6574\u4e2a\u7c7b\uff0c\u53ea\u80fd\u8c03\u7528\u9759\u6001\u6210\u5458\u3002\u6545\u800c\u5bf9\u4e8e\u51fd\u6570\u800c\u8a00\uff0c\u5e38\u91cf\u548c\u9759\u6001\u662f\u77db\u76fe\u7684\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_11","title":"\u91cd\u8f7d\u5339\u914d\u6027","text":"<p>\u5e38\u91cf\u6210\u5458\u51fd\u6570\u548c\u975e\u5e38\u91cf\u6210\u5458\u51fd\u6570\u6784\u6210\u91cd\u8f7d\u65f6\uff0c\u4f20\u5165\u4e24\u51fd\u6570\u7684\u53c2\u6570\u4e2d <code>this</code> \u6307\u9488\u7684\u7c7b\u578b\u4e0d\u540c\u3002\u5e38\u91cf\u6210\u5458\u51fd\u6570\u7684\u4f20\u5165\u6307\u9488\u7c7b\u578b\u662f <code>const Num*</code>\uff0c\u800c\u975e\u5e38\u91cf\u6210\u5458\u51fd\u6570\u7684\u4f20\u5165\u6307\u9488\u7c7b\u578b\u662f <code>Num*</code>\uff0c\u6240\u4ee5\u975e\u5e38\u91cf\u5bf9\u8c61\u4f1a\u4f18\u5148\u5339\u914d\u975e\u5e38\u91cf\u6210\u5458\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u5c06 <code>this</code> \u8f6c\u6362\u4e3a <code>const this</code> \u518d\u4f7f\u7528\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_12","title":"\u6784\u9020\u4e0e\u6790\u6784","text":""},{"location":"languages/c-oop/class-advanced/#_13","title":"\u5e38\u91cf\u5bf9\u8c61\u7684\u6784\u9020\u4e0e\u6790\u6784","text":"<ul> <li>\u5e38\u91cf\u5bf9\u8c61\u548c\u975e\u5e38\u91cf\u5bf9\u8c61\u57fa\u672c\u76f8\u540c\u3002</li> <li>\u5e38\u91cf\u5168\u5c40\u5bf9\u8c61\uff1a\u5728 <code>main()</code> \u51fd\u6570\u8c03\u7528\u4e4b\u524d\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5728 <code>main()</code> \u51fd\u6570\u6267\u884c\u5b8c <code>return</code>\uff0c\u7a0b\u5e8f\u7ed3\u675f\u65f6\uff0c\u5bf9\u8c61\u88ab\u6790\u6784\u3002</li> <li>\u5e38\u91cf\u5c40\u90e8\u5bf9\u8c61\uff1a\u5728\u7a0b\u5e8f\u6267\u884c\u5230\u8be5\u5c40\u90e8\u5bf9\u8c61\u7684\u4ee3\u7801\u65f6\u88ab\u521d\u59cb\u5316\u3002\u5728\u5c40\u90e8\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7ed3\u675f\u3001\u5373\u6240\u5728\u4f5c\u7528\u57df\u7ed3\u675f\u540e\u88ab\u6790\u6784\u3002</li> </ul>"},{"location":"languages/c-oop/class-advanced/#_14","title":"\u9759\u6001\u5bf9\u8c61\u7684\u6784\u9020\u4e0e\u6790\u6784","text":"<p>\u9759\u6001\u5168\u5c40\u5bf9\u8c61\u7684\u6784\u9020\u4e0e\u6790\u6784\u65f6\u673a\u548c\u666e\u901a\u5168\u5c40\u5bf9\u8c61\u76f8\u540c\uff08\u5373\uff1a\u5728 <code>main()</code> \u8c03\u7528\u524d\u521d\u59cb\u5316\uff0c\u5728 <code>main()</code> \u6267\u884c\u5b8c <code>return</code> \u540e\u88ab\u6790\u6784\uff09\u3002</p> <p>\u9759\u6001\u5c40\u90e8\u5bf9\u8c61\u5728\u7a0b\u5e8f\u6267\u884c\u5230\u8be5\u9759\u6001\u5c40\u90e8\u5bf9\u8c61\u7684\u4ee3\u7801\u65f6\u88ab\u521d\u59cb\u5316\uff0c\u4f46\u662f\u79bb\u5f00\u4f5c\u7528\u57df\u4e0d\u6790\u6784\u3002\u7b2c\u4e8c\u6b21\u6267\u884c\u5230\u8be5\u5bf9\u8c61\u4ee3\u7801\u65f6\uff0c\u4e0d\u518d\u521d\u59cb\u5316\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0a\u4e00\u6b21\u7684\u5bf9\u8c61\uff08\u8fd9\u91cc\u548c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u975e\u5e38\u76f8\u4f3c\uff09\u3002</p> <p>\u5728 <code>main()</code> \u51fd\u6570\u7ed3\u675f\u540e\u88ab\u6790\u6784\u3002</p> <pre><code>void fun(int i, int n) {\n    if (i &gt;= n) static A static_obj(\"static\");\n}\n</code></pre> <p>\u6bd4\u5982\u8fd9\u6bb5\u4ee3\u7801\uff0c\u867d\u7136\u770b\u4e0a\u53bb\u4f1a\u7ed9 <code>static_obj</code> \u591a\u6b21\u6784\u9020\uff0c\u4f46\u662f\u7531\u4e8e\u5176\u662f\u9759\u6001\u5c40\u90e8\u5bf9\u8c61\uff0c\u6545\u800c\u53ea\u4f1a\u6784\u9020\u4e00\u6b21\u3002\u4e4b\u540e\u6bcf\u6b21\u5229\u7528\u4e0a\u4e00\u6b21\u5269\u4e0b\u90e8\u5206\uff08\u76f8\u5f53\u4e8e\u51fd\u6570\u91cc\u5185\uff0c\u7b2c\u4e00\u6b21\u4ee5\u540e\u7684\u5bf9\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u6784\u9020\u5931\u6548\uff09\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_15","title":"\u7c7b\u9759\u6001\u5bf9\u8c61\u6784\u9020\u4e0e\u6790\u6784","text":"<p>\u7c7b <code>A</code> \u7684\u5bf9\u8c61 <code>a</code> \u4f5c\u4e3a\u7c7b <code>B</code> \u7684\u9759\u6001\u53d8\u91cf\u3002\u6bd4\u5982\uff1a</p> <pre><code>class A { };\nclass B {\n    static A a;\n};\n</code></pre> <p><code>a</code> \u7684\u6784\u9020\u4e0e\u6790\u6784\u8868\u73b0\u548c\u5168\u5c40\u5bf9\u8c61\u7c7b\u4f3c\uff0c\u5373\u5728 <code>main()</code> \u51fd\u6570\u8c03\u7528\u4e4b\u524d\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5728 <code>main()</code> \u51fd\u6570\u6267\u884c\u5b8c <code>return</code>\uff0c\u7a0b\u5e8f\u7ed3\u675f\u65f6\uff0c\u5bf9\u8c61\u88ab\u6790\u6784\u3002<code>a</code> \u4f5c\u4e3a <code>b</code> \u7684\u7c7b\u5bf9\u8c61\uff0c\u548c <code>B</code> \u662f\u5426\u5b9e\u4f8b\u5316\u65e0\u5173\uff08\u8fd9\u4e2a\u548c\u7c7b\u91cc\u9762\u7684\u9ed8\u8ba4\u7c7b\u578b\u7684\u9759\u6001\u53d8\u91cf\uff0c\u6bd4\u5982 <code>B</code> \u91cc\u9762\u7684\u5bf9\u8c61 <code>static int c</code> \u662f\u4e00\u6837\u7684\uff09\u3002</p> <p></p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u503c\u5f97\u6ce8\u610f\u7684\u5c31\u662f\uff0c<code>fun</code> \u51fd\u6570\u4f53\u7c7b\u7684\u9759\u6001\u5c40\u90e8\u5bf9\u8c61\u53ea\u6709\u4e00\u6b21\u6784\u9020\uff0c\u5e76\u6ca1\u6709\u56db\u6b21\u3002</p> <p>\u53e6\u5916\uff0c<code>A B::a1(\"static B::a1\")</code>\u662f\u4ec0\u4e48\u610f\u601d\uff1f</p> <p>\u8fd9\u91cc\u662f\u5728\u7c7b\u5916\u5b9a\u4e49 <code>B</code> \u7684 <code>static</code> \u6570\u636e\u6210\u5458 <code>a1</code>\uff0c\u800c\u524d\u9762\u7684 <code>A</code> \u5219\u662f\u5728\u4f7f\u7528\u6784\u9020\u51fd\u6570\u3002\u8fd9\u91cc\u5fc5\u987b\u6307\u5b9a\u662f <code>B::a1</code>\uff0c\u4e0d\u7136 <code>A a1(\"static B::a1\")</code> \u5219\u4f1a\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u800c\u4e0d\u662f\u6784\u9020 <code>B</code> \u7684 <code>static</code> \u6570\u636e\u6210\u5458\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_16","title":"\u53c2\u6570\u5bf9\u8c61\u6784\u9020\u4e0e\u6790\u6784","text":"<p>\u4f20\u9012\u5f62\u53c2</p> <pre><code>void fun(A b) {\n    cout &lt;&lt; \"In fun: b.s = \" &lt;&lt; b.s &lt;&lt; endl;\n}\nfun(a);\n</code></pre> <p>\u5728\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c<code>b</code> \u88ab\u6784\u9020\uff0c\u8c03\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff08\u89c1\u4e0b\u4e00\u7ae0\u8282\uff09\u8fdb\u884c\u521d\u59cb\u5316\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8c61 <code>b</code> \u7684\u5c5e\u6027\u503c\u548c <code>a</code> \u4e00\u81f4\u3002\u5728\u51fd\u6570\u7ed3\u675f\u65f6\uff0c\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c<code>b</code> \u88ab\u6790\u6784\u3002</p> <p></p> <p>\u7ed3\u5408\u540e\u7eed\u5b66\u4e60\u7684\u62f7\u8d1d\u6784\u9020\u548c\u79fb\u52a8\u6784\u9020\uff0c\u6211\u4eec\u5f53\u7136\u53ef\u4ee5\u786e\u5b9a\u5f62\u53c2\u4f1a\u53d1\u751f\u4e00\u6b21\u62f7\u8d1d\u6784\u9020\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u6ca1\u6709\u76f8\u5e94\u7684\u8f93\u51fa\u5462\uff1f</p> <p>\u56e0\u4e3a\uff0c\u6ca1\u6709\u663e\u5f0f\u5b9a\u4e49\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u7cfb\u7edf\u8c03\u7528\u4e86\u9690\u5f0f\u751f\u6210\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u5f53\u7136\u662f\u6ca1\u6709\u8f93\u51fa\u7684\u3002\u5f62\u53c2\u7684\u6784\u9020\u7528\u7684\u662f\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u53ef\u662f\u6790\u6784\u5374\u662f\u5171\u7528\u7684\u4e00\u4e2a\u6790\u6784\u51fd\u6570\u3002</p> <p>\u4f20\u9012\u5f15\u7528\u4e0e\u6307\u9488</p> <pre><code>void fun(A&amp; b) {\n    cout &lt;&lt; \"In fun: b.s = \" &lt;&lt; b.s &lt;&lt; endl;\n}\nfun(a);\n</code></pre> <p>\u5728\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c<code>b</code> \u4e0d\u9700\u8981\u88ab\u62f7\u8d1d\u6784\u9020\uff0c\u56e0\u4e3a <code>b</code> \u662f <code>a</code> \u7684\u5f15\u7528\u3002\u5728\u51fd\u6570\u7ed3\u675f\u65f6\uff0c\u4e5f\u4e0d\u9700\u8981\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u56e0\u4e3a <code>b</code> \u53ea\u662f\u4e00\u4e2a\u5f15\u7528\uff0c\u800c\u4e0d\u662f <code>A</code> \u7684\u5bf9\u8c61\u3002</p> <p>\u7c7b\u6210\u5458\u542b\u6709\u6307\u9488</p> <p>\u5982\u679c\u4f20\u5165\u5f62\u53c2\u800c\u4e0d\u662f\u5f15\u7528\u6216\u6307\u9488\uff0c\u7531\u4e8e\u62f7\u8d1d\u6784\u9020\u4e0d\u4f1a\u5c06\u88ab\u62f7\u8d1d\u8005\u7f6e\u7a7a\uff0c\u6545\u800c\u5f62\u53c2\u548c\u5b9e\u53c2\u7684\u6307\u9488\u6307\u5411\u4e86\u5b8c\u5168\u76f8\u540c\u7684\u5730\u5740\u3002\u4f46\u662f\u5f62\u53c2\u4f1a\u5728\u51fd\u6570\u4f53\u7ed3\u675f\u540e\u6790\u6784\uff0c\u5c06\u5f62\u53c2\u6307\u5411\u7684\u7a7a\u95f4\u91ca\u653e\u6389\u3002\u6211\u7684\u5b9e\u53c2\u53c8\u4f1a\u5728\u4e3b\u51fd\u6570\u7ed3\u675f\u540e\u6790\u6784\uff0c\u8fd9\u65f6\u5b9e\u53c2\u6307\u5411\u7684\u7a7a\u95f4\u5c06\u4f1a\u88ab\u518d\u6b21\u6790\u6784\uff0c\u53cd\u590d\u6790\u6784\uff0c\u6790\u6784\u7a7a\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4ece\u800c\u62a5\u9519\u3002</p> <p>\u8fd9\u53e6\u4e00\u65b9\u9762\u542f\u53d1\u6211\u4eec\uff0c\u542b\u6709\u6307\u9488\u7684\u7c7b\uff0c\u4e00\u822c\u5e0c\u671b\u7528\u79fb\u52a8\u6784\u9020\u800c\u975e\u62f7\u8d1d\u6784\u9020\u3002</p> <p>\u4f20\u5165\u5f15\u7528\u7684\u4f18\u70b9</p> <p>\u5c3d\u91cf\u4f7f\u7528\u5bf9\u8c61\u5f15\u7528\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u6837\u505a\u8fd8\u53ef\u4ee5\u51cf\u5c11\u65f6\u95f4\u5f00\u9500\uff08\u56e0\u4e3a\u7701\u53bb\u4e86\u62f7\u8d1d\u6784\u9020\u5f62\u53c2\u7684\u65f6\u95f4\uff09\u3002</p>"},{"location":"languages/c-oop/class-advanced/#new-delete","title":"\u5bf9\u8c61\u7684 <code>new</code>  \u548c <code>delete</code>","text":""},{"location":"languages/c-oop/class-advanced/#_17","title":"\u6982\u8ff0","text":"<p><code>new</code>\u3002\u751f\u6210\u4e00\u4e2a\u7c7b\u5bf9\u8c61\uff08\u6ce8\u610f\u4e0d\u662f\u7c7b\u9759\u6001\u5bf9\u8c61\uff09\uff0c\u5e76\u8fd4\u56de\u5730\u5740\u3002</p> <pre><code>A *pA = new A[100]; // \u8c03\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u751f\u6210\u4e86 100 \u4e2a A \u7c7b\u5bf9\u8c61\nA *pA = new A(100); // \u8c03\u7528\u5e26\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\uff0c\u6784\u9020\u4e86 1 \u4e2a A \u7c7b\u5bf9\u8c61\n</code></pre> <p><code>delete</code>\u3002\u5220\u9664\u8be5\u7c7b\u5bf9\u8c61\uff0c\u91ca\u653e\u5185\u5b58\u8d44\u6e90\uff08\u8c03\u7528\u6790\u6784\u51fd\u6570\uff09\u3002</p> <pre><code>delete pA; // \u91ca\u653e\u751f\u6210\u7684\u90a3\u4e2a A \u7c7b\u5bf9\u8c61\ndelete[] pA; // \u91ca\u653e\u751f\u6210\u7684\u90a3 100 \u4e2a A \u7c7b\u5bf9\u8c61\n</code></pre>"},{"location":"languages/c-oop/class-advanced/#_18","title":"\u56fe\u793a","text":"<p>\u5bf9\u4e8e\u5927\u591a\u6570\u7f16\u8bd1\u5668\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53ef\u4ee5\u5982\u4e0b\u6982\u8ff0\u3002   </p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"languages/c-oop/class-advanced/#_19","title":"\u5339\u914d\u9879","text":"<p>\u642d\u914d\u4f7f\u7528</p> <p><code>new</code> \u548c <code>delete</code> \u8981\u914d\u5957\u4f7f\u7528\u3002<code>new</code> \u548c <code>delete</code> \u642d\u914d\uff0c<code>new[]</code> \u548c <code>delete[]</code> \u642d\u914d\u3002</p> <p>\u642d\u914d\u4e0d\u5f53</p> <p>\u5bf9\u4e8e\u5927\u591a\u7f16\u8bd1\u5668\uff0c\u5982\u679c\u540c\u65f6\u4f7f\u7528 <code>new[]</code> \u548c <code>delete</code>\uff0c\u4f1a\u6709\u4ec0\u4e48\u540e\u679c\uff1f</p> <pre><code>A *pA = new A[3];\ndelete pA;\n</code></pre> <p>\u8be5 <code>delete</code> \u547d\u4ee4\u505a\u4e86\u4e24\u4ef6\u4e8b\uff1a\u8c03\u7528\u4e00\u6b21 <code>pA</code> \u6307\u5411\u7684\u5bf9\u8c61\u7684\u6790\u6784\u51fd\u6570\uff0c\u91ca\u653e <code>pA</code> \u5730\u5740\u7684\u5185\u5b58\u3002\u56e0\u4e3a\uff0c\u53ea\u8c03\u7528\u4e86\u4e00\u6b21\u6790\u6784\u51fd\u6570\uff0c\u6545\u800c\u5982\u679c\u7c7b\u5bf9\u8c61\u4e2d\u6709\u5927\u91cf\u7533\u8bf7\u5185\u5b58\u7684\u64cd\u4f5c\uff0c\u90a3\u4e48\u56e0\u4e3a\u6ca1\u6709\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u8fd9\u4e9b\u5185\u5b58\u65e0\u6cd5\u88ab\u91ca\u653e\uff0c\u9020\u6210\u5185\u5b58\u6cc4\u6f0f\u3002</p> <p>\u6b64\u5916\uff0c\u76f4\u63a5\u91ca\u653e <code>pA</code> \u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u4e2a\u4f1a\u9020\u6210\u4e25\u91cd\u7684\u6bb5\u9519\u8bef\uff0c\u7a0b\u5e8f\u5fc5\u7136\u4f1a\u5d29\u6e83\u3002\u56e0\u4e3a\u5206\u914d\u7a7a\u95f4\u7684\u8d77\u59cb\u5730\u5740\u662f <code>pA</code> \u5730\u5740\u51cf\u53bb 4 \u4e2a\u5b57\u8282\uff08<code>delete[] pA</code> \u7684\u91ca\u653e\u5730\u5740\u81ea\u52a8\u8f6c\u6362\u4e3a <code>pA</code> \u5730\u5740\u51cf\u53bb 4 \u5b57\u8282\uff09\u3002</p> <p></p> <p><code>new</code> \u662f\u4f1a\u8c03\u7528\u7c7b <code>A</code> \u7684\u6784\u9020\u51fd\u6570\u7684\uff08\u8fc7\u7a0b\uff1a\u5206\u914d\u5185\u5b58\u3001\u521d\u59cb\u5316\u3001\u8fd4\u56de\u6307\u9488\uff09\u3002</p> <p>\u6ce8\u610f\u5230\u8fd9\u91cc\u7b2c\u56db\u4e2a\uff0c\u6211\u5b9e\u9645\u4e0a\u662f\u6784\u9020\u4e86 <code>A</code> \u7684\u6307\u9488\u6570\u7ec4\uff0c\u6784\u9020\u4e86 10 \u4e2a <code>A*</code> \u7c7b\u578b\u7684\u6307\u9488\uff0c\u4f46\u662f\u6ca1\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_20","title":"\u53cb\u5143","text":""},{"location":"languages/c-oop/class-advanced/#_21","title":"\u5b9a\u4e49\u4e0e\u57fa\u672c\u6027\u8d28","text":"<p><code>A</code> \u7c7b\u58f0\u660e <code>B</code> \u4e3a\u53cb\u5143\u7c7b\u6216\u8005\u53cb\u5143\u51fd\u6570\uff0c\u5219 <code>B</code> \u5177\u6709\u8bbf\u95ee <code>A</code> \u7684 <code>private</code> \u53ca <code>protected</code> \u6210\u5458\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u5373\u53ef\u4ee5\u8bbf\u95ee <code>A</code> \u7684\u4e00\u5207\u6210\u5458\u3002</p> <p>\u53cb\u5143\u7684\u58f0\u660e\u53ea\u80fd\u5728\u7c7b\u5185\u8fdb\u884c\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\n    int id;\npublic:\n    Test(int i): id(i) { cout &lt;&lt; \"obj_\" &lt;&lt; id &lt;&lt; \" created\\n\"; } \n\n    friend istream&amp; operator&gt;&gt;(istream&amp; in, Test&amp; dst); \n    friend ostream&amp; operator&lt;&lt;(ostream&amp; out, const Test&amp; src); \n};\n\nistream&amp; operator&gt;&gt;(istream&amp; in, Test&amp; dst) {\n    in &gt;&gt; dst.id;\n    return in;\n}\nostream&amp; operator&lt;&lt;(ostream&amp; out, const Test&amp; src) {\n    out &lt;&lt; src.id;\n    return out;\n}\n</code></pre> <p>\u6d41\u8fd0\u7b97\u7b26\u91cd\u8f7d\u5f80\u5f80\u4f1a\u58f0\u660e\u4e3a\u53cb\u5143\u51fd\u6570\uff0c\u56e0\u4e3a\u7ecf\u5e38\u9700\u8981\u8f93\u51fa\u79c1\u6709\u6210\u5458\u6570\u636e\u3002</p> <p>\u88ab\u53cb\u5143\u58f0\u660e\u7684\u51fd\u6570\u4e00\u5b9a\u4e0d\u662f\u5f53\u524d\u7c7b\u7684\u6210\u5458\u51fd\u6570\uff0c\u5373\u4f7f\u8be5\u51fd\u6570\u7684\u5b9a\u4e49\u5199\u5728\u5f53\u524d\u7c7b\u5185\uff08\u6ce8\u610f\u4e8b\u9879\u4e00\u5b9a\u4e0d\u662f\uff0c\u800c\u4e0d\u662f\u4e0d\u4e00\u5b9a\u662f\uff09\u3002\u5f53\u524d\u7c7b\u7684\u6210\u5458\u51fd\u6570\u4e5f\u4e0d\u9700\u8981\u53cb\u5143\u4fee\u9970\uff08\u56e0\u4e3a\u6210\u5458\u51fd\u6570\u672c\u8eab\u5c31\u53ef\u4ee5\u8bbf\u95ee\u6240\u6709\u6570\u636e\u6210\u5458\uff09\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_22","title":"\u8de8\u7c7b\u53cb\u5143","text":"<p>\u5b9a\u4e49</p> <p>\u53ef\u4ee5\u58f0\u660e\u522b\u7684\u7c7b\u7684\u6210\u5458\u51fd\u6570\uff0c\u4e3a\u5f53\u524d\u7c7b\u7684\u53cb\u5143\u3002\u5176\u4ed6\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3001\u6790\u6784\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u53cb\u5143\u3002</p> <pre><code>class Y {\n    int data; \n    friend void X::foo(Y); \n    friend X::X(Y), X::~X(); \n};\n</code></pre> <p><code>X</code> \u7684\u6784\u9020\u51fd\u6570 <code>X::X()</code> \u548c\u6790\u6784\u51fd\u6570 <code>X::~X()</code> \u4e3a <code>Y</code> \u7684\u53cb\u5143\u51fd\u6570\uff0c\u5219\u5728\u5b83\u4eec\u7684\u51fd\u6570\u4f53\u5185\u53ef\u76f4\u63a5\u8bbf\u95ee\u3001\u4fee\u6539 <code>Y</code> \u7684\u79c1\u6709\u6210\u5458\u3002</p> <p>\u533a\u57df\u65e0\u5173\u6027</p> <p>\u53cb\u5143\u7684\u58f0\u660e\u4e0e\u5f53\u524d\u6240\u5728\u57df\u662f\u5426\u4e3a <code>private</code> \u6216 <code>public</code> \u65e0\u5173\u3002</p> <p></p> <p>\u4e0d\u51b2\u7a81\u6027</p> <p>\u4e00\u4e2a\u666e\u901a\u51fd\u6570\u53ef\u4ee5\u662f\u591a\u4e2a\u7c7b\u7684\u53cb\u5143\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_23","title":"\u53cb\u5143\u7c7b","text":"<p>\u53ef\u5bf9 <code>class</code>\u3001<code>struct</code>\u3001<code>union</code> \u8fdb\u884c\u53cb\u5143\u58f0\u660e\uff0c\u4ee3\u8868\u8be5\u7c7b\u7684\u6240\u6709\u6210\u5458\u51fd\u6570\u5747\u4e3a\u53cb\u5143\u51fd\u6570\u3002</p> <p>\u5bf9\u57fa\u7840\u7c7b\u578b\u7684\u53cb\u5143\u58f0\u660e\u4f1a\u88ab\u5ffd\u7565\uff08\u56e0\u4e3a\u6ca1\u6709\u5b9e\u9645\u4ef7\u503c\uff09\u3002\u7f16\u8bd1\u5668\u53ef\u80fd\u4f1a\u53d1\u51fa\u8b66\u544a\uff0c\u4f46\u4e0d\u4f1a\u8ba4\u4e3a\u662f\u9519\u8bef\u3002</p> <p></p> <p>\u4e24\u884c\u7684\u533a\u522b\uff1a<code>friend Y</code> \u5fc5\u987b\u5148\u5b9a\u4e49 <code>class Y</code>\uff0c\u4f46\u662f <code>friend class X</code> \u53ef\u4ee5\u4e0d\u7528\u5148\u5b9a\u4e49 <code>class X</code>\u3002</p>"},{"location":"languages/c-oop/class-advanced/#_24","title":"\u53cb\u5143\u7684\u6ce8\u610f\u4e8b\u9879","text":"<p>\u975e\u5bf9\u79f0\u6027</p> <p>\u7c7b <code>A</code> \u4e2d\u58f0\u660e <code>B</code> \u662f <code>A</code> \u7684\u53cb\u5143\u7c7b\uff0c\u5219 <code>B</code> \u53ef\u4ee5\u8bbf\u95ee <code>A</code> \u7684\u79c1\u6709\u6210\u5458\uff0c\u4f46 <code>A</code> \u4e0d\u80fd\u8bbf\u95ee <code>B</code> \u7684\u79c1\u6709\u6210\u5458\u3002</p> <p>\u975e\u4f20\u9012\u6027</p> <p>\u4f60\u7684\u9644\u5eb8\u7684\u9644\u5eb8\u4e0d\u662f\u4f60\u7684\u9644\u5eb8\u3002</p> <p>\u4e0d\u53ef\u7ee7\u627f</p> <p>\u53cb\u5143\u58f0\u660e\u4e0d\u80fd\u5b9a\u4e49\u65b0\u7684 <code>class</code></p> <p></p> <p>\u5de6\u56fe\u662f\u6211\u5148\u6709\u4e86 <code>B</code> \u624d\u80fd\u5b9a\u4e49 <code>B</code> \u4e3a <code>A</code> \u7684\u53cb\u5143\u3002\u800c\u53f3\u8fb9\u4f01\u56fe\u5728 <code>X</code> \u7c7b\u5185\u5b9a\u4e49 <code>Y</code> \u4e3a\u53cb\u5143\u7c7b\uff0c\u5e76\u7ed9\u51fa <code>Y</code> \u7684\u5b9a\u4e49\uff0c\u8fd9\u662f\u4e0d\u5408\u6cd5\u7684\uff08\u4e0d\u8fc7 <code>friend class Y</code> \u5012\u662f\u53ef\u4ee5\uff0c\u5373\u4f7f\u8fd8\u6ca1\u6709\u5b9a\u4e49 <code>Y</code>\uff09\u3002</p>"},{"location":"languages/c-oop/class-easy/","title":"C++ \u7c7b\u8bed\u6cd5\u521d\u6b65","text":"<p>\u9762\u5411\u5bf9\u8c61\u7684\u6982\u5ff5</p> <p>\u5728\u4ecb\u7ecd\u7c7b\u4e4b\u524d\uff0c\u6211\u4eec\u7ec8\u4e8e\u8981\u5f15\u51fa\u9762\u5411\u5bf9\u8c61\u8fd9\u4e2a\u6982\u5ff5\u4e86\u3002</p> <p>\u9762\u5411\u5bf9\u8c61\uff08\u82f1\u8bed\uff1aObject oriented\uff09\u662f\u4e00\u79cd\u7f16\u7a0b\u8303\u5f0f\uff0c\u5176\u76ee\u7684\u662f\u5c06\u6570\u636e\u548c\u76f8\u5173\u65b9\u6cd5\u5c01\u88c5\u4e3a\u4e00\u4e2a\u6574\u4f53\u3002\u5728\u4f7f\u7528\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u6211\u4eec\u901a\u5e38\u5c06\u5177\u6709\u7c7b\u4f3c\u62bd\u8c61\u7279\u70b9\u7684\u4e8b\u7269\u5f52\u4e3a\u4e00\u4e2a\u7c7b\uff0c\u800c\u5177\u6709\u8fd9\u4e9b\u62bd\u8c61\u7279\u70b9\u7684\u4e8b\u7269\u5c31\u662f\u8fd9\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002</p> <p>\u6bd4\u5982\u8bf4\uff0c\u6240\u6709\u7684\u5b66\u751f\u90fd\u5e94\u8be5\u5177\u6709\u540d\u5b57\uff0c\u6709\u4e00\u4e2a\u6574\u6570\u7684\u5e74\u9f84\uff0c\u8fd9\u5c31\u662f\u5b66\u751f\u8fd9\u7c7b\u4e8b\u7269\u7684\u62bd\u8c61\u6982\u5ff5\u3002\u5728 C++ \u8bed\u8a00\u4e2d\u6211\u4eec\u5c31\u53ef\u4ee5\u63cf\u8ff0\u4e3a\uff1a</p> <pre><code>class Student {\n    int age;\n    std::string name;\n};\n</code></pre> <p>\u8fd9\u91cc <code>Student</code> \u662f\u7c7b\uff0c<code>age</code> \u548c <code>name</code> \u90fd\u662f\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u3002\u6210\u5458\u53d8\u91cf\u63cf\u8ff0\u4e86\u7c7b\u7684\u6570\u636e\u7279\u5f81\u3002</p> <p>\u800c\u7c7b\u4e4b\u4e2d\u8fd8\u53ef\u4ee5\u5177\u6709\u51fd\u6570\uff0c\u5176\u63cf\u8ff0\u4e86\u6211\u4eec\u53ef\u4ee5\u4ee5\u4f55\u79cd\u65b9\u5f0f\u64cd\u4f5c\u7c7b\u7684\u6210\u5458\u53d8\u91cf\uff0c\u6240\u4ee5\u8fd9\u4e9b\u51fd\u6570\u4e5f\u79f0\u4e3a\u7c7b\u65b9\u6cd5\u3002\u6bd4\u5982\u8bf4\u5b66\u751f\u90fd\u53ef\u4ee5\u53bb\u4e0a\u5b66\uff1a</p> <pre><code>class Student {\n    int age;\n    std::string name;\n\n    void goToSchool() { }\n};\n</code></pre> <p>\u5728\u63cf\u8ff0\u51fa\u5b66\u751f\u8fd9\u4e2a\u6982\u5ff5\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5b66\u751f\uff0c\u8fd9\u4e2a\u5b66\u751f\u4e00\u5b9a\u6709\u6211\u4eec\u5728\u7c7b\u4e4b\u4e2d\u89c4\u5b9a\u7684\u8fd9\u4e9b\u62bd\u8c61\u7279\u5f81\uff1a</p> <pre><code>Student* s = new Student();\n</code></pre> <p>\u8fd9\u5c31\u79f0\u4e3a\u7c7b\u7684\u5b9e\u4f8b\u5316\uff0c\u5373\u6211\u4eec\u521b\u5efa\u51fa\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7b26\u5408\u8fd9\u4e9b\u62bd\u8c61\u7279\u5f81\u3002</p> <p>\u5f53\u7136\uff0c\u4e0a\u9762\u8bf4\u7684\u90fd\u662f\u6700\u7b80\u5355\u7684\u9762\u5411\u5bf9\u8c61\u6982\u5ff5\u3002\u540e\u9762\u5c06\u4f1a\u6d89\u53ca\u5230\u8bbf\u95ee\u6743\u9650\u3001\u7ee7\u627f\u3001\u865a\u65b9\u6cd5\u7b49\u5404\u79cd\u66f4\u8fdb\u9636\u7684\u6982\u5ff5\uff0c\u4e0d\u8fc7\u4fdd\u6301\u7740\u8fd9\u6837\u7684\u6700\u57fa\u672c\u7684 OOP \u601d\u60f3\u662f\u91cd\u8981\u7684\u3002</p> <p>\u57fa\u7840\u8bb2\u4e9b\u4ec0\u4e48\uff1f</p> <p>\u8fd9\u4e00\u90e8\u5206\u4e3b\u8981\u8bb2\u89e3\u5bf9\u8c61\u7684\u6784\u9020\u548c\u6790\u6784\u3001\u5f15\u7528\u4ee5\u53ca\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p>"},{"location":"languages/c-oop/class-easy/#_1","title":"\u8bbf\u95ee\u6743\u9650","text":"<p>\u6709\u65f6\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u7c7b\u7684\u90e8\u5206\u9690\u79c1\u6210\u5458\u53d8\u91cf\u4e3a\u5916\u4eba\u6240\u77e5\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u7528 <code>private:</code> \u58f0\u660e\u4e3a\u79c1\u6709\u3002\u540c\u6837\uff0c\u53ef\u4ee5\u516c\u5f00\u7684\u6210\u5458\u53d8\u91cf\u5219\u53ef\u4ee5\u7528 <code>public:</code> \u58f0\u660e\u4e3a\u516c\u6709\u3002C++ \u7684\u7c7b\u9ed8\u8ba4\u6743\u9650\u4e3a\u79c1\u6709\uff1a</p> <pre><code>class Student {\npublic:\n    int age;\n    std::string name;\n\nprivate:\n    int ID;\n\npublic:\n    void goToSchool() { }\n}\n</code></pre> <p>\u7c7b\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u58f0\u660e\u516c\u6709\u548c\u79c1\u6709\u3002</p> <p>\u79c1\u6709\u7684\u7c7b\u6210\u5458\u548c\u7c7b\u65b9\u6cd5\u4ec5\u53ef\u4ee5\u5728\u7c7b\u81ea\u5df1\u7684\u65b9\u6cd5\u5185\u8bbf\u95ee\u6216\u8c03\u7528\uff0c\u5916\u90e8\u8c03\u7528\u4f1a\u62a5\u9519\u3002\u516c\u6709\u7684\u7c7b\u6210\u5458\u548c\u7c7b\u65b9\u6cd5\u5219\u53ef\u4ee5\u4efb\u610f\u8c03\u7528\u3001\u8bfb\u53d6\u3001\u4fee\u6539\u3002</p>"},{"location":"languages/c-oop/class-easy/#_2","title":"\u6784\u9020\u51fd\u6570\u4e0e\u6790\u6784\u51fd\u6570","text":""},{"location":"languages/c-oop/class-easy/#_3","title":"\u6784\u9020\u51fd\u6570","text":"<p>\u610f\u4e49</p> <p>\u6784\u9020\u51fd\u6570\u662f\u7f16\u8bd1\u5668\u5728\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\u81ea\u52a8\u8c03\u7528\u7684\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u5bf9\u8c61\u7684\u201c\u751f\u201d\uff08\u521d\u59cb\u5316\u5de5\u4f5c\uff09\u662f\u7531\u7f16\u8bd1\u5668\u5728\u521b\u5efa\u5bf9\u8c61\u5904\u81ea\u52a8\u751f\u6210\u8c03\u7528\u6784\u9020\u51fd\u6570\u7684\u4ee3\u7801\u6765\u5b8c\u6210\u7684\u3002\u6784\u9020\u51fd\u6570\u662f\u7c7b\u7684\u7279\u6b8a\u6210\u5458\u51fd\u6570\uff0c\u5b83\u7528\u6765\u786e\u4fdd\u7c7b\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u80fd\u6b63\u786e\u5730\u521d\u59cb\u5316\u3002</p> <p>\u8bed\u6cd5</p> <p>\u6784\u9020\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u51fd\u6570\u540d\u5fc5\u987b\u4e0e\u7c7b\u540d\u76f8\u540c\u3002\u7c7b\u7684\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u91cd\u8f7d\uff0c\u5373\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u51fd\u6570\u53c2\u6570\u8fdb\u884c\u5bf9\u8c61\u521d\u59cb\u5316\u3002</p> <pre><code>class Student {\n    int ID;\n\npublic:\n    Student(int id) { ID = id; }\n    Student(int year, int order) { \n        ID = year * 10000 + order; \n    }\n};\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u5b66\u751f\u7c7b\u7684\u4e24\u4e2a\u6784\u9020\u51fd\u6570\u3002\u6784\u9020\u51fd\u6570\u7684\u8c03\u7528\u8bed\u6cd5\uff08\u5373\u5bf9\u8c61\u521b\u5efa\u7684\u8bed\u6cd5\uff09\u6709\u51e0\u79cd\u5e38\u7528\u7684\uff1a</p> <pre><code>Student s1(20200001);\nStudent s2 = Student(20200001);\nStudent* sptr = new Student(20200001);\n</code></pre> <p>\u6ce8\u610f <code>new</code> \u5f97\u5230\u7684\u662f\u6307\u9488\u3002</p> <p>\u521d\u59cb\u5316\u5217\u8868</p> <p>\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528\u521d\u59cb\u5316\u5217\u8868\u521d\u59cb\u5316\u6210\u5458\u6570\u636e\uff0c\u4f7f\u7528 <code>\u6570\u636e\u6210\u5458(\u521d\u59cb\u503c)</code> \u7684\u5f62\u5f0f\u3002\u8be5\u5217\u8868\u5728\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\u4f7f\u7528\uff0c\u4f4d\u7f6e\u5728\u51fd\u6570\u4f53\u4e4b\u524d\u3001\u51fd\u6570\u53c2\u6570\u5217\u8868\u4e4b\u540e\uff0c\u4ee5\u5192\u53f7\u4f5c\u5f00\u5934\u3002</p> <p>\u8fd9\u79cd\u5199\u6cd5\u53ef\u4ee5\u5c06\u51fd\u6570\u4f53\u4e2d\u7684\u8d4b\u503c\u5199\u6cd5\u5199\u5230\u51fd\u6570\u4f53\u5916\uff0c\u4fbf\u4e8e\u68c0\u67e5\uff1a</p> <pre><code>class Student {\n    int ID;\n\npublic:\n    Student(int id): ID(id) { }\n};\n</code></pre> <p>\u521d\u59cb\u5316\u5217\u8868\u548c\u6784\u9020\u51fd\u6570\u4f53\u7684\u57fa\u672c\u533a\u522b</p> <ul> <li>\u5b9e\u73b0\u8fc7\u7a0b\u533a\u522b</li> </ul> <p>\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u5206\u4e24\u4e2a\u9636\u6bb5\u8fdb\u884c\uff0c\u5373\u521d\u59cb\u5316\u9636\u6bb5\u3001\u51fd\u6570\u4f53\u9636\u6bb5\u3002</p> <p>\u51fd\u6570\u4f53\u9636\u6bb5\u7531\u51fd\u6570\u4f53\u5185\u6240\u6709\u7684\u8bed\u53e5\u7ec4\u6210\u3002\u4e0d\u7ba1\u6210\u5458\u662f\u5426\u5728\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5217\u8868\u4e2d\u663e\u5f0f\u521d\u59cb\u5316\uff0c\u7c7b\u7684\u6570\u636e\u6210\u5458\u521d\u59cb\u5316\u603b\u662f\u5728\u521d\u59cb\u5316\u9636\u6bb5\u8fdb\u884c\uff0c\u521d\u59cb\u5316\u9636\u6bb5\u5148\u4e8e\u8ba1\u7b97\u9636\u6bb5\u3002\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5217\u8868\u662f\u5bf9\u7c7b\u7684\u6210\u5458\u505a\u521d\u59cb\u5316\uff0c\u800c\u5728\u6784\u9020\u51fd\u6570\u4f53\u5185\u53ea\u662f\u5bf9\u7c7b\u7684\u6570\u636e\u6210\u5458\u8fdb\u884c\u4e86\u4e00\u6b21\u8d4b\u503c\u64cd\u4f5c\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6784\u9020\u51fd\u6570\u51fd\u6570\u4f53\u5185\u5bf9\u4e8e\u6210\u5458\u6570\u636e\u7684\u8d4b\u503c\u610f\u5473\u7740\u521d\u59cb\u5316\u5df2\u7ecf\u5b8c\u6210\uff0c\u4ec5\u4ec5\u662f\u8fdb\u884c\u4e86\u8d4b\u503c\u3002\u8fd9\u4e00\u70b9\u53ef\u4ee5\u8054\u7cfb\u4e0b\u4e00\u7ae0\u8282\u5f53\u4e2d\u5bf9\u4e8e\u58f0\u660e\u3001\u5b9a\u4e49\u3001\u521d\u59cb\u5316\u3001\u8d4b\u503c\u7684\u8ba8\u8bba\u4e00\u540c\u7406\u89e3\u3002\u8fd9\u4e5f\u53ef\u4ee5\u7528\u4e8e\u7406\u89e3\uff0c\u4e3a\u4ec0\u4e48\u5e38\u91cf\u6210\u5458\u6570\u636e\u4ec5\u4ec5\u53ef\u4ee5\u5728\u521d\u59cb\u5316\u5217\u8868\u4e2d\u521d\u59cb\u5316\uff0c\u4f46\u662f\u4e0d\u53ef\u4ee5\u5728\u51fd\u6570\u4f53\u5185\u8d4b\u503c\u3002\uff08\u56e0\u4e3a\u5e38\u91cf\u6210\u5458\u4ec5\u80fd\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5374\u4e0d\u80fd\u5728\u521d\u59cb\u5316\u4e4b\u540e\u518d\u8d4b\u503c\uff0c\u56e0\u4e3a\u5e38\u91cf\u6210\u5458\u4e0d\u80fd\u66f4\u6539\u3002\u800c\u4e00\u4e2a\u5e38\u91cf\u6210\u5458\uff0c\u5373\u4f7f\u5728\u521d\u59cb\u5316\u5217\u8868\u4e2d\u6ca1\u6709\u88ab\u663e\u5f0f\u521d\u59cb\u5316\uff0c\u4e5f\u5df2\u7ecf\u88ab\u521d\u59cb\u5316\u8fc7\u4e86\uff0c\u4e00\u4e2a\u521d\u59cb\u5316\u8fc7\u7684\u5e38\u91cf\u81ea\u7136\u4e0d\u80fd\u5728\u51fd\u6570\u4f53\u91cc\u88ab\u4fee\u6539\uff09\u3002\u66f4\u52a0\u8be6\u7ec6\u7684\u8ba8\u8bba\u5728\u4e0b\u4e00\u7ae0\u8282\u3002</p> <ul> <li>\u6548\u7387\u533a\u522b</li> </ul> <p>\u5982\u524d\u6587\u6240\u8ff0\uff0c\u521d\u59cb\u5316\u5217\u8868\u663e\u7136\u907f\u514d\u4e86\u51fd\u6570\u4f53\u5185\u4e0d\u5fc5\u8981\u7684\u4e00\u4e9b\u8d4b\u503c\u8fc7\u7a0b\uff0c\u8fd9\u5728\u7c7b\u7684\u6210\u5458\u6570\u636e\u8f83\u4e3a\u590d\u6742\u65f6\u80fd\u591f\u663e\u8457\u5730\u63d0\u9ad8\u6548\u7387\u3002</p> <p>\u521d\u59cb\u5316\u5217\u8868\u7684\u521d\u59cb\u987a\u5e8f</p> <p>\u521d\u59cb\u5316\u5217\u8868\u7684\u6210\u5458\u662f\u6309\u7167\u58f0\u660e\u7684\u987a\u5e8f\u521d\u59cb\u5316\u7684\uff0c\u800c\u4e0d\u662f\u6309\u7167\u51fa\u73b0\u5728\u521d\u59cb\u5316\u5217\u8868\u4e2d\u7684\u987a\u5e8f\u3002\u6bd4\u5982\u4e0b\u5217\u4ee3\u7801\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Student {\n    int ID1;\n    int ID2;\n\npublic:\n    Student(int id): ID2(id), ID1(ID2) { }\n\n    void print() {\n        cout &lt;&lt; \"ID1 exist \" &lt;&lt; this-&gt;ID1 &lt;&lt; ' ';\n        cout &lt;&lt; this-&gt;ID2 &lt;&lt; endl;\n    }\n};\n\nint main() {\n    Student test(100);\n    test.print(); // \"ID1 exist 32767 100\"\n    return 0;\n}\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>ID1</code> \u5728 <code>ID2</code> \u4e4b\u524d\u58f0\u660e\uff0c\u4f46\u5176\u521d\u59cb\u5316\u4f9d\u8d56\u4e8e <code>ID2</code>\u3002\u521d\u59cb\u5316\u5217\u8868\u4f1a\u6309\u7167\u58f0\u660e\u987a\u5e8f\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5148\u7528\u672a\u77e5\u7684 <code>ID2</code> \u7684\u503c\u5bf9 <code>ID1</code> \u8fdb\u884c\u521d\u59cb\u5316\uff0c\u518d\u7528\u53ef\u77e5\u7684 <code>id</code> \u6765\u521d\u59cb\u5316 <code>ID2</code>\u3002\u4ece\u800c\u4f7f\u5f97 <code>ID1</code> \u7684\u503c\u4e0d\u53ef\u9884\u6d4b\u3002</p> <p>\u8fd9\u91cc\u7684\u4e0d\u53ef\u9884\u6d4b\u5728\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8868\u73b0\u4e0d\u540c\u3002\u53ef\u80fd\u4f1a\u6709\u5982\u4e0a\u8f93\u51fa\uff0c\u4e5f\u53ef\u80fd\u662f warning\uff08\u4e0d\u662f error\uff09\u3002\u4e00\u822c\u6765\u8bf4\u6211\u4eec\u4f1a\u53c2\u8003 <code>g++</code> \u7f16\u8bd1\u5668\u7684\u8f93\u51fa\uff0cVisual Studio \u7684\u7f16\u8bd1\u5668\u6709\u65f6\u4f1a\u66f4\u4e25\u683c\u3002</p>"},{"location":"languages/c-oop/class-easy/#_4","title":"\u59d4\u6d3e\u6784\u9020\u51fd\u6570","text":"<p>\u5b9a\u4e49</p> <p>\u5728\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u5217\u8868\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u8c03\u7528\u5176\u4ed6\u6784\u9020\u51fd\u6570\uff0c\u79f0\u4e3a\u201c\u59d4\u6d3e\u6784\u9020\u51fd\u6570\u201d\u3002</p> <p>\u610f\u4e49</p> <p>\u59d4\u6d3e\u6784\u9020\u51fd\u6570\u4e5f\u662f C++11 \u4e2d\u5bf9 C++ \u7684\u6784\u9020\u51fd\u6570\u7684\u4e00\u9879\u6539\u8fdb\uff0c\u5176\u76ee\u7684\u5c31\u662f\u51cf\u5c11\u7a0b\u5e8f\u5458\u5199\u6784\u9020\u51fd\u6570\u7684\u65f6\u95f4\u3002\u901a\u8fc7\u59d4\u6d3e\u5176\u4ed6\u6784\u9020\u51fd\u6570\uff0c\u591a\u6784\u9020\u51fd\u6570\u7684\u7c7b\u7f16\u5199\u8d77\u6765\u5c31\u5f88\u7b80\u5355\u5bb9\u6613\u3002</p> <p>\u5b9e\u4f8b</p> <p>\u5bf9\u6bd4\u5982\u4e0b\u4e24\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>class Info {\npublic:\n    Info(): type(1), name('a') {\n        InitRest();\n    }\n\n    Info(int i): type(i), name('a') {\n        InitRest();\n    }\n\n    Info(char e): type(1), name(e) {\n        InitRest();\n    }\n\nprivate:\n    void InitRest() { }\n    int type;\n    char name;\n};\n</code></pre> <p>\u4e0a\u8ff0\u5199\u6cd5\u53ef\u4ee5\u5199\u4e3a\uff1a</p> <pre><code>class Info {\npublic:\n    Info() { InitRest(); } // \u79f0\u4e3a\u76ee\u6807\u6784\u9020\u51fd\u6570\uff08\u88ab\u8c03\u7528\uff09\n    Info(int i): Info() { type = i; } // \u59d4\u6d3e\u6784\u9020\u51fd\u6570\uff08\u8c03\u7528\u8005\uff09\n    Info(char e): Info() { name = e; }\n\nprivate:\n    void InitRest() { }\n    int type {1};\n    char name {'a'};  \n};\n</code></pre> <p>\u59d4\u6d3e\u6784\u9020\u51fd\u6570\u4e0d\u80fd\u6709\u521d\u59cb\u5316\u5217\u8868\uff0c\u56e0\u4e3a C++ \u4e2d\uff0c\u6784\u9020\u51fd\u6570\u4e0d\u80fd\u540c\u65f6\u4f7f\u7528\u59d4\u6d3e\u548c\u521d\u59cb\u5316\u5217\u8868\u3002\u53ea\u80fd\u5728\u51fd\u6570\u4f53\u5185\u4e3a <code>type</code>\u3001<code>name</code> \u7b49\u6210\u5458\u8d4b\u503c\u3002</p> <p>\u5728\u6784\u9020\u51fd\u6570\u6bd4\u8f83\u591a\u65f6\uff0c\u53ef\u4ee5\u6709\u4e0d\u6b62\u4e00\u4e2a\u59d4\u6d3e\u6784\u9020\u51fd\u6570\u3002\u76ee\u6807\u6784\u9020\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u59d4\u6d3e\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u5728\u59d4\u6d3e\u6784\u9020\u51fd\u6570\u4e2d\u5f62\u6210\u94fe\u72b6\u7684\u59d4\u6d3e\u6784\u9020\u5173\u7cfb\u3002</p> <pre><code>class Info {\npublic:\n    Info(): Info(1) { }\n    Info(int i): Info(i, 'a') { }\n    Info(char e): Info(1, e) { }\n\nprivate:\n    Info(int i, char e): type(i), name(e) { }\n    int type;\n    char name;\n};\n</code></pre> <p>\u53ea\u8981\u6ce8\u610f\u59d4\u6d3e\u5173\u7cfb\u4e0d\u80fd\u6210\u73af\u5373\u53ef\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u5176\u5b9e\u86ee\u6709\u610f\u601d\u7684\u662f\uff0c\u6211\u4eec\u4e4b\u524d\u5f88\u5c11\u6709\u89c1\u5230\u6784\u9020\u51fd\u6570\u653e\u5728 <code>private</code> \u91cc\u9762\u7684\u4f8b\u5b50\u3002\u8fd9\u4e2a\u4f8b\u5b50\u5374\u5b9e\u73b0\u4e86\u8fd9\u4e00\u70b9\u3002</p>"},{"location":"languages/c-oop/class-easy/#_5","title":"\u5c31\u5730\u521d\u59cb\u5316","text":"<p>\u9996\u5148\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u5728\u8bfe\u7a0bPPT\u4e2d\u5bf9\u4e8e\u58f0\u660e\u3001\u521d\u59cb\u5316\u3001\u5b9a\u4e49\u8fd9\u4e09\u4e2a\u6982\u5ff5\u6709\u4e9b\u6df7\u7528\u3002\u4e09\u8005\u7684\u5e7f\u4e49\u6982\u5ff5\u754c\u5b9a\u5728\u4e0b\u4e00\u7ae0\u8282\u4e2d\u8fdb\u884c\u4e86\u9610\u8ff0\u3002</p> <p>C++11 \u4e4b\u524d\uff0c\u7c7b\u4e2d\u7684\u4e00\u822c\u6210\u5458\u53d8\u91cf\u4e0d\u80fd\u5728\u7c7b\u58f0\u660e\u65f6\u8fdb\u884c\u521d\u59cb\u5316\uff08\u5b9a\u4e49\uff09\uff0c\u5b83\u4eec\u7684\u521d\u59cb\u5316\u64cd\u4f5c\uff08\u5b9a\u4e49\uff09\u53ea\u80fd\u901a\u8fc7\u6784\u9020\u51fd\u6570\u8fdb\u884c\u3002C++11 \u65b0\u589e\u652f\u6301\u5982\u4e0b\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u79f0\u4e3a\u5c31\u5730\u521d\u59cb\u5316\uff08\u7c7b\u4f3c\u4e8e\u7ed9\u7c7b\u5185\u5bf9\u8c61\u63d0\u4f9b\u4e86\u7f3a\u7701\u503c\uff09\u3002\u4f60\u53ef\u4ee5\u8ba4\u4e3a\u5c31\u5730\u521d\u59cb\u5316\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u673a\u5236\uff0c\u4ed6\u53ef\u4ee5\u4f7f\u5f97\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u5728\u7c7b\u5185\u5f97\u4ee5\u8fdb\u884c\u3002</p> <pre><code>class A {\nprivate:\n    int a = 1; // \u58f0\u660e + \u521d\u59cb\u5316\uff08\u5b9a\u4e49\uff09\n    double b {2.0}; // \u58f0\u660e + \u521d\u59cb\u5316\uff08\u5b9a\u4e49\uff09\n\npublic:\n    A() { } // a = 1, b = 2.0\n    A(int i): a(i) { } // a = i, b = 2.0\n    A(int i, double j): a(i), b(j) { } // a = i, b = j\n};\n</code></pre> <p>\u6ce8\u610f\uff0c\u5c31\u5730\u521d\u59cb\u5316\u53ea\u662f\u4e00\u79cd\u7b80\u4fbf\u7684\u8868\u8fbe\u65b9\u5f0f\uff0c\u5b9e\u9645\u64cd\u4f5c\u4ecd\u7136\u5728\u5bf9\u8c61\u6784\u9020\u7684\u65f6\u5019\u6267\u884c\u3002</p>"},{"location":"languages/c-oop/class-easy/#_6","title":"\u9ed8\u8ba4\u6784\u9020\u51fd\u6570","text":"<p>\u5b9a\u4e49</p> <p>\u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\uff0c\u6216\u6bcf\u4e2a\u5f62\u53c2\u63d0\u4f9b\u9ed8\u8ba4\u5b9e\u53c2\u7684\u6784\u9020\u51fd\u6570\uff0c\u88ab\u79f0\u4e3a\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u79f0\u7f3a\u7701\u6784\u9020\u51fd\u6570\u3002</p> <p>\u8bed\u6cd5</p> <p>\u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff08\u6ca1\u6709\u53c2\u6570\uff09\u6765\u751f\u6210\u5bf9\u8c61\u65f6\uff0c\u5bf9\u8c61\u5b9a\u4e49\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>ClassName a;\nClassName b = ClassName();\n</code></pre> <p>\u6ce8\u610f\u548c\u4e0b\u65b9\u4ee3\u7801\u533a\u522b\u5f00\u6765\uff1a</p> <pre><code>ClassName c();\n</code></pre> <p>\u8fd9\u58f0\u660e\u4e86\u4e00\u4e2a\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a <code>ClassName</code> \u4e14\u4e0d\u5e26\u53c2\u6570\u7684\u51fd\u6570</p> <p>\u7f16\u8bd1\u5668\u7684\u989d\u5916\u64cd\u4f5c</p> <p>\u57fa\u4e8e\u4e4b\u540e\u6d89\u53ca\u5230\u7684\u7ec4\u5408\u7684\u6982\u5ff5\uff0c\u5728\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u9664\u4e86\u6267\u884c\u51fd\u6570\u4f53\u5185\u58f0\u660e\u7684\u8bed\u53e5\uff0c\u7f16\u8bd1\u5668\u8fd8\u4f1a\u505a\u4e00\u4e9b\u989d\u5916\u64cd\u4f5c\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass A {\npublic:\n    A() { cout &lt;&lt; \"A()\" &lt;&lt; endl; }\n};\n\nclass B {\npublic:\n    A a;\n    B() { cout &lt;&lt; \"B()\" &lt;&lt; endl; }\n};\n\nB b;\nint main() { return 0; }\n</code></pre> <p>\u8fd9\u91cc\u4f1a\u5148\u8f93\u51fa <code>A</code> \u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u5bf9\u5e94\u7684\u8f93\u51fa\uff0c\u518d\u8f93\u51fa <code>B</code> \u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u5bf9\u5e94\u7684\u8f93\u51fa\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u7c7b <code>A</code> \u91cc\u9762\u6709\u53e6\u4e00\u4e2a\u7c7b <code>B</code> \u4f5c\u4e3a\u8fd9\u4e2a\u7c7b\u7684\u6210\u5458\uff0c\u8c03\u7528\u7c7b <code>A</code> \u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u65f6\u4f1a\u5148\u8c03\u7528 <code>B</code> \u7684\u6784\u9020\u51fd\u6570\u3002\u5148\u6784\u9020\u6210\u5458\uff0c\u518d\u6784\u9020\u7c7b\u3002</p> <p>\u9690\u5f0f\u5b9a\u4e49\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570</p> <p>\u6709\u65f6\u5019\u6211\u4eec\u6ca1\u6709\u624b\u52a8\u5b9a\u4e49\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u4f46\u6211\u4eec\u4ecd\u7136\u80fd\u591f\u6309\u4e0a\u8ff0\u65b9\u5f0f\u5b9a\u4e49\u53d8\u91cf\u3002\u8fd9\u662f\u56e0\u4e3a\u7f16\u8bd1\u5668\u5e2e\u6211\u4eec\u9690\u5f0f\u5730\u5408\u6210\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <p></p> <p></p> <p>\u6ce8\u610f\u8fd9\u4e2a\u4f8b\u5b50\uff0c<code>b</code> \u7a76\u7adf\u662f\u8c03\u7528\u4e86\u54ea\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff1f</p> <p>\u6211\u4eec\u5c06\u4ee3\u7801\u4fee\u6539\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass A {\npublic:\n    A() { cout &lt;&lt; \"A()\" &lt;&lt; endl; }\n    A(int x) { cout &lt;&lt; \"A(int)\" &lt;&lt; endl; }\n};\n\nclass B {\n    A a;\npublic:\n    B(int x = 1): a(x) { }\n    B(): a(1) { }\n};\n\nint main() {\n    B b;\n    return 0;\n}\n</code></pre> <p>\u53d1\u73b0\u4f1a\u56e0\u4e3a\u51fd\u6570\u8c03\u7528\u4e0d\u660e\u786e\u800c error\uff0c\u6545\u800c\u53ef\u4ee5\u786e\u5b9a\u4e0a\u8ff0\u9009\u62e9\u9898\u662f\u8c03\u7528\u4e86\u7f3a\u7701\u7684\u6784\u9020\u51fd\u6570\u800c\u975e\u9690\u5f0f\u751f\u6210\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002\u8fd9\u4e00\u70b9\u5728\u51fd\u6570\u91cd\u8f7d\u6709\u8ba8\u8bba\u3002</p> <p>\u67d0\u79cd\u610f\u4e49\u4e0a\uff0c\u7f3a\u7701\u7684\u6784\u9020\u51fd\u6570\u672c\u8d28\u4e0a\u5df2\u7ecf\u5b9e\u73b0\u4e86\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u7684\u529f\u80fd\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u82e5\u7528\u6237\u5df2\u7ecf\u5b9a\u4e49\u4e86\u5176\u4ed6\u6784\u9020\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u5c06\u4e0d\u4f1a\u9690\u5f0f\u5408\u6210\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <pre><code>class A {\nprivate:\n    int a = 1;\n    double b {2.0}; \npublic:\n   A(int i): a(i) { }\n};\n\nA a;\n</code></pre> <p>\u8fd9\u4e2a\u4ee3\u7801\u4f1a\u62a5\u9519\u3002</p> <p>\u663e\u5f0f\u58f0\u660e\u9ed8\u8ba4\u6784\u9020\u51fd\u6570</p> <p>\u51fa\u4e8e\u67d0\u4e9b\u9700\u8981\uff0c\u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a\u751f\u6210\u9ed8\u8ba4\u7248\u672c\u7684\u6784\u9020\u51fd\u6570\u3002\u5373\u4fbf\u5176\u4ed6\u6784\u9020\u51fd\u6570\u5b58\u5728\uff0c\u7f16\u8bd1\u5668\u4e5f\u4f1a\u5b9a\u4e49\u9690\u5f0f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <pre><code>class A {\nprivate:\n    int a = 1;\n    double b {2.0}; \npublic:\n    A() = default;\n    A(int i): a(i) { }   \n};\nA a;\n</code></pre> <p>\u663e\u5f0f\u5220\u9664\u5371\u9669\u6784\u9020\u51fd\u6570</p> <p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u663e\u5f0f\u5730\u58f0\u660e\u7981\u7528\u67d0\u4e9b\u5e26\u6709\u98ce\u9669\u7684\u6784\u9020\u51fd\u6570\u3002\u8fd9\u79cd\u7981\u7528\u4e0d\u4ec5\u53ef\u4ee5\u7981\u7528\u7f16\u8bd1\u5668\u5408\u6210\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u7981\u6b62\u4e00\u4e9b\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u5e26\u6765\u7684\u6784\u9020\u51fd\u6570\u8c03\u7528\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass A {\nprivate:\n    int a = 1;\n    double b {2.0}; \n    char c = 'c';\npublic:\n    A() = default;\n    A(int i): a(i) { cout &lt;&lt; i &lt;&lt; endl; }   \n};\n\nint main() {\n    A a('c'); // 99\n    return 0;\n}\n</code></pre> <p>\u8fd9\u4e00\u4ee3\u7801\u5b58\u5728\u98ce\u9669\uff0c\u672c\u610f\u4e00\u5b9a\u662f\u5e0c\u671b\u4ed6\u62a5\u9519\uff0c\u4f46\u662f\u5b9e\u5219\u4e0d\u4f1a\u3002\u4ece\u6b63\u786e\u6027\u4e0a\u8bb2\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u6ca1\u6709\u95ee\u9898\uff0c<code>char</code> \u548c <code>int</code> \u53ef\u4ee5\u7c7b\u578b\u8f6c\u6362\uff0c\u6545\u800c\u5c06 <code>'c'</code> \u8f6c\u4e3a <code>int</code>\uff0c\u8c03\u7528\u4e86\u53c2\u6570\u4e3a <code>int</code> \u7684\u6784\u9020\u51fd\u6570\u3002\u4f46\u662f\u4ece\u5de5\u7a0b\u7684\u89d2\u5ea6\u8bb2\uff0c\u8fd9\u662f\u5f88\u5371\u9669\u7684\u884c\u4e3a\u3002\u56e0\u4e3a\u5728\u5f00\u53d1\u8005\u770b\u6765\uff0c\u7528\u5b57\u7b26\u521d\u59cb\u5316\u5e94\u8be5\u662f\u672a\u5b9a\u4e49\u7684\u884c\u4e3a\u3002</p> <p>\u6545\u800c\u663e\u5f0f\u5730\u7981\u7528\u67d0\u4e00\u6784\u9020\u51fd\u6570\u3002</p> <pre><code>class A {\nprivate:\n    int a = 1;\n    double b {2.0}; \n    char c = 'c';\npublic:\n    A() = default;\n    A(int i): a(i) { }\n    A(char ch) = delete;   \n};\n</code></pre>"},{"location":"languages/c-oop/class-easy/#_7","title":"\u4e3b\u51fd\u6570\u4e2d\u5bf9\u8c61\u6570\u7ec4\u7684\u521d\u59cb\u5316","text":"<p>\u65e0\u53c2\u5b9a\u4e49\u5bf9\u8c61\u6570\u7ec4\uff0c\u5fc5\u987b\u8981\u6709\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>A a[50];\n</code></pre> <p>\u5982\u679c\u6784\u9020\u51fd\u6570\u5e26\u6709\u53c2\u6570\uff0c\u5219\u53ef\u4ee5\uff1a</p> <pre><code>A a[3] = {1, 3, 5};\n</code></pre> <p>\u82b1\u62ec\u53f7\u4e2d\u7684\u5404\u4e2a\u5143\u7d20\u4f20\u9012\u7ed9\u4e86 <code>A</code> \u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002</p> <p>\u5e26\u6709\u591a\u4e2a\u53c2\u6570\u5219\u5199\u4e3a\uff1a</p> <pre><code>A a[3] = {A(1, 2), A(3, 5), A(0, 7)};\n</code></pre>"},{"location":"languages/c-oop/class-easy/#_8","title":"\u6790\u6784\u51fd\u6570","text":"<p>\u6982\u8ff0</p> <p>\u5bf9\u8c61\u7684\u201c\u6b7b\u201d\uff08\u6e05\u9664\u548c\u91ca\u653e\u8d44\u6e90\uff09\u662f\u7531\u7f16\u8bd1\u5668\u5728\u5bf9\u8c61\u4f5c\u7528\u57df\u7ed3\u675f\u5904\u81ea\u52a8\u751f\u6210\u8c03\u7528\u6790\u6784\u51fd\u6570\u4ee3\u7801\u6765\u5b8c\u6210\u7684\uff0c\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u5c31\u662f\u4e00\u79cd\u5178\u578b\u7684\u9700\u8981\u91ca\u653e\u7684\u8d44\u6e90\u3002\u5f53\u6267\u884c\u5230\u201c\u5305\u542b\u5bf9\u8c61\u5b9a\u4e49\u8303\u56f4\u7ed3\u675f\u5904\u201d\u65f6\uff0c\u7f16\u8bd1\u5668\u81ea\u52a8\u8c03\u7528\u5bf9\u8c61\u7684\u6790\u6784\u51fd\u6570\u3002\u6e05\u9664\u5bf9\u8c61\u5360\u7528\u7684\u8d44\u6e90\u662f\u65e0\u6761\u4ef6\u7684\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u9009\u9879\u3002\u56e0\u6b64\uff0c\u6790\u6784\u51fd\u6570\u6ca1\u6709\u53c2\u6570\uff0c\u4e14\u53ea\u6709\u4e00\u4e2a\uff0c\u5373\u6e05\u9664\u65b9\u5f0f\u552f\u4e00\u3002</p> <p>\u8fd9\u5728\u4e0b\u4e00\u7ae0\u8282\u7684\u4f8b\u5b50\u4e2d\u6709\u6240\u4f53\u73b0\u3002</p> <p></p> <p>\u6ca1\u6709\u663e\u5f0f\u5b9a\u4e49\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u7cfb\u7edf\u8c03\u7528\u4e86\u9690\u5f0f\u751f\u6210\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u5f53\u7136\u662f\u6ca1\u6709\u8f93\u51fa\u7684\u3002\u5f62\u53c2\u7684\u6784\u9020\u7528\u7684\u662f\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u53ef\u662f\u6790\u6784\u5374\u662f\u5171\u7528\u7684\u4e00\u4e2a\u6790\u6784\u51fd\u6570\u3002</p> <p>\u8bed\u6cd5</p> <p>\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u6790\u6784\u51fd\u6570\uff0c\u540d\u79f0\u662f <code>~\u7c7b\u540d</code>\uff0c\u6ca1\u6709\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u6ca1\u6709\u51fd\u6570\u53c2\u6570\u3002\u7f16\u8bd1\u5668\u5728\u5bf9\u8c61\u751f\u547d\u671f\u7ed3\u675f\u65f6\u81ea\u52a8\u8c03\u7528\u7c7b\u7684\u6790\u6784\u51fd\u6570\uff0c\u4ee5\u4fbf\u91ca\u653e\u5bf9\u8c61\u5360\u7528\u7684\u8d44\u6e90\uff0c\u6216\u5176\u4ed6\u540e\u5904\u7406\u3002</p> <pre><code>class ClassRoom {\n    int num;\n    int* ID_list;\npublic:\n    ClassRoom(): num(0), ID_list(nullptr) {}\n\n    ~ClassRoom() {\n        if (ID_list) delete[] ID_list;  \n    }\n};\n</code></pre> <p>\u6ce8\u610f\u5230\u8fd9\u4e2a\u4f8b\u5b50\u4e5f\u4f53\u73b0\u4e86\u6307\u9488 <code>delete</code> \u4e4b\u524d\u5e94\u5148\u68c0\u6d4b\u662f\u5426\u4e3a\u7a7a\u6307\u9488\u3002</p> <p>\u6790\u6784\u6392\u5e8f</p> <p>\u548c\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u4e00\u6837\uff0c\u6790\u6784\u51fd\u6570\u9664\u4e86\u6267\u884c\u51fd\u6570\u4f53\u5185\u58f0\u660e\u7684\u8bed\u53e5\uff0c\u7f16\u8bd1\u5668\u8fd8\u4f1a\u505a\u4e00\u4e9b\u989d\u5916\u64cd\u4f5c\u3002\u4f8b\u5982\u5728\u7ec4\u5408\u5f53\u4e2d\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u6210\u5458\u53d8\u91cf\u7684\u6790\u6784\u51fd\u6570\uff0c\u5148\u6267\u884c\u81ea\u5df1\u7684\u6790\u6784\u51fd\u6570\uff0c\u518d\u8c03\u7528\u6210\u5458\u53d8\u91cf\u7684\u6790\u6784\uff08\u8fd9\u70b9\u4e0e\u6784\u9020\u51fd\u6570\u6070\u6070\u76f8\u53cd\uff09\u3002\u4ee5\u53ca\u6700\u57fa\u672c\u7684\uff0c\u5148\u6784\u9020\u7684\u540e\u6790\u6784\u3002</p> <p>\u9ed8\u8ba4\u6790\u6784\u51fd\u6570</p> <p>\u548c\u6784\u9020\u51fd\u6570\u7c7b\u4f3c\uff0c\u5f53\u7528\u6237\u6ca1\u6709\u81ea\u5b9a\u4e49\u6790\u6784\u51fd\u6570\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5408\u6210\u4e00\u4e2a\u9690\u5f0f\u7684\u6790\u6784\u51fd\u6570\u3002</p> <p></p> <p>\u95ee\u9898\u5728\u4e8e\u9690\u5f0f\u5b9a\u4e49\u7684\u6790\u6784\u51fd\u6570\u4e0d\u4f1a\u91ca\u653e\u6307\u9488\u6210\u5458\uff0c\u53ef\u80fd\u9020\u6210\u5185\u5b58\u6cc4\u9732\u3002</p>"},{"location":"languages/c-oop/class-easy/#_9","title":"\u5bf9\u8c61\u7684\u6790\u6784\u4e0e\u6784\u9020","text":""},{"location":"languages/c-oop/class-easy/#_10","title":"\u5c40\u90e8\u5bf9\u8c61\u7684\u6790\u6784\u4e0e\u6784\u9020","text":"<p>\u5b9a\u4e49</p> <p>\u4f5c\u7528\u57df\u5b9a\u4e49\u4e3a\u67d0\u4e00\u4e2a\u53d8\u91cf\u80fd\u591f\u88ab\u5f15\u7528\u7684\u533a\u57df\u3002\u4f8b\u5982\uff0c\u82b1\u62ec\u53f7\u62ec\u8d77\u6765\u7684\u533a\u57df\u5c06\u4f1a\u5f62\u6210\u4e00\u4e2a\u4f5c\u7528\u57df\u3002</p> <ul> <li> <p>\u975e\u9759\u6001\u7684\u5c40\u90e8\u5bf9\u8c61\u3002\u5728\u7a0b\u5e8f\u6267\u884c\u5230\u8be5\u5c40\u90e8\u5bf9\u8c61\u7684\u4ee3\u7801\u65f6\u88ab\u521d\u59cb\u5316\u3002\u5728\u5c40\u90e8\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7ed3\u675f\u3001\u5373\u6240\u5728\u4f5c\u7528\u57df\u7ed3\u675f\u540e\u88ab\u6790\u6784\u3002\u8fd9\u91cc\u6ce8\u610f\u4e0e\u9759\u6001\u7684\u5c40\u90e8\u5bf9\u8c61\u8fdb\u884c\u5bf9\u6bd4\u3002\u8be6\u89c1\u4e0b\u4e00\u7ae0\u8282\u3002</p> </li> <li> <p>\u975e\u9759\u6001\u5168\u5c40\u53d8\u91cf\u3002\u5728\u4e3b\u51fd\u6570\u8c03\u7528\u4e4b\u524d\u8fdb\u884c\u521d\u59cb\u5316\u3002\u5728\u540c\u4e00\u7f16\u8bd1\u5355\u5143\u4e2d\uff0c\u6309\u7167\u5b9a\u4e49\u987a\u5e8f\u8fdb\u884c\u521d\u59cb\u5316\u3002</p> </li> </ul> <p>\u8fd9\u91cc\u540c\u4e00\u7f16\u8bd1\u5355\u5143\u901a\u5e38\u662f\u540c\u4e00\u6e90\u6587\u4ef6\u3002\u800c\u4e0d\u540c\u7f16\u8bd1\u5355\u5143\u95f4\uff0c\u5bf9\u8c61\u521d\u59cb\u5316\u987a\u5e8f\u4e0d\u786e\u5b9a\u3002</p> <p>\u5728\u4e3b\u51fd\u6570\u6267\u884c\u5b8c\u8fd4\u56de\u4e4b\u540e\uff0c\u5bf9\u8c61\u88ab\u6790\u6784\u3002</p> <p>\u5168\u5c40\u53d8\u91cf\u7684\u5c40\u9650\u6027</p> <p>\u5c3d\u91cf\u5c11\u7528\u5168\u5c40\u5bf9\u8c61\u3002\u9996\u5148\uff0c\u5168\u5c40\u5bf9\u8c61\u7684\u6784\u9020\u987a\u5e8f\u4e0d\u80fd\u5b8c\u5168\u786e\u5b9a\uff0c\u6240\u4ee5\u5168\u5c40\u5bf9\u8c61\u4e4b\u95f4\u4e0d\u80fd\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\u5176\u6b21\uff0c\u5168\u5c40\u5bf9\u8c61\u4f1a\u589e\u5927\u4ee3\u7801\u7684\u8026\u5408\u6027\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u96be\u4ee5\u590d\u7528\u6216\u8005\u6d4b\u8bd5\u3002</p> <p></p> <p>\u8fd9\u9053\u9898\u5c31\u662f\u5f3a\u8c03\u4e86\u5168\u5c40\u53d8\u91cf\u4e3b\u51fd\u6570\u6267\u884c\u5b8c\u8fd4\u56de\u4e4b\u540e\u88ab\u6790\u6784\u3002\u800c <code>local_obj</code> \u76f8\u5f53\u4e8e\u662f <code>main</code> \u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u4f1a\u5728\u5168\u5c40\u53d8\u91cf\u540e\u6790\u6784\u3002</p>"},{"location":"languages/c-oop/class-easy/#_11","title":"\u5f15\u7528","text":""},{"location":"languages/c-oop/class-easy/#_12","title":"\u5b9a\u4e49\u4e0e\u8bed\u6cd5","text":"<p>\u540c\u4e00\u4e2a\u5185\u5b58\u5355\u5143\u7684\u4e24\u4e2a\u4e0d\u540c\u540d\u5b57\u3002\u521b\u5efa\u5f15\u7528\u8981\u7528\u5230 <code>&amp;</code> \u7b26\u53f7\uff0c\u6bd4\u5982\u8bf4\u6574\u578b\u53d8\u91cf\u7684\u5f15\u7528\uff1a</p> <pre><code>int a = 1;\nint&amp; b = a;\n</code></pre> <p>\u5f15\u7528\u5fc5\u987b\u5728\u5b9a\u4e49\u65f6\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u4e14\u4e0d\u80fd\u4fee\u6539\u5f15\u7528\u6307\u5411\uff0c\u8fd9\u70b9\u548c\u6307\u9488\u4e0d\u540c\u3002</p> <p>\u88ab\u5f15\u7528\u53d8\u91cf\u540d\u53ef\u4ee5\u662f\u7c7b\u7684\u6210\u5458\u53d8\u91cf\uff0c\u5982 <code>int&amp; m = s.m</code>\u3002</p>"},{"location":"languages/c-oop/class-easy/#_13","title":"\u7ed3\u5408\u51fd\u6570\u4f7f\u7528","text":"<p>\u51fd\u6570\u53c2\u6570\u53ef\u4ee5\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u8868\u793a\u51fd\u6570\u7684\u5f62\u5f0f\u53c2\u6570\u4e0e\u5b9e\u9645\u53c2\u6570\u662f\u540c\u4e00\u4e2a\u53d8\u91cf\uff0c\u6539\u53d8\u5f62\u53c2\u5c06\u6539\u53d8\u5b9e\u53c2\uff0c\u4f7f\u7528\u5f97\u5f53\u4e5f\u53ef\u907f\u514d\u8bb8\u591a\u4e0d\u5fc5\u8981\u7684\u5f62\u53c2\u62f7\u8d1d\u3002\u5982\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u5c06\u4ea4\u6362\u5b9e\u53c2\u7684\u503c\uff1a</p> <pre><code>void swap(int&amp; a, int&amp; b) {\n    int tmp = b; b = a; a = tmp;\n}\n</code></pre> <p>\u51fd\u6570\u8fd4\u56de\u503c\u53ef\u4ee5\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u4f46\u4e0d\u5f97\u6307\u5411\u51fd\u6570\u7684\u975e\u9759\u6001\u7684\u4e34\u65f6\u53d8\u91cf\u3002\u6362\u8a00\u4e4b\uff0c\u4f60\u53ef\u4ee5\u8fd4\u56de\u4e34\u65f6\u53d8\u91cf\uff08\u8fd9\u76f8\u5f53\u4e8e\u628a\u5b83\u590d\u5236\u4e86\u4e00\u4efd\u7528\u4e8e\u8fd4\u56de\u51fa\u53bb\uff0c\u5b83\u672c\u8eab\u4f1a\u88ab\u9500\u6bc1\uff09\uff0c\u4f46\u4e0d\u80fd\u8fd4\u56de\u975e\u9759\u6001\u4e34\u65f6\u53d8\u91cf\u7684\u5f15\u7528\u3002\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u662f\u53ef\u4ee5\u4f5c\u4e3a\u8fd4\u56de\u503c\u7684\uff0c\u5e76\u4e14\u6709\u7740\u795e\u5947\u7684\u64cd\u4f5c\uff08\u8fd9\u4e00\u795e\u5947\u7684\u64cd\u4f5c\u6d89\u53ca\u5230\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u4f5c\u7528\uff0c\u8be6\u89c1\u4e0b\u4e00\u7ae0\u8282\uff09\u3002</p> <p></p> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b58\u5728\u975e\u6cd5\u5185\u5b58\u8bbf\u95ee\u3002\u6ce8\u610f\u5230 <code>func2</code> \u5b9a\u4e49\u7684\u5c40\u90e8\u53d8\u91cf <code>tmp</code> \u662f\u975e\u9759\u6001\u7684\uff0c\u6545\u800c <code>func2</code> \u7ed3\u675f\u4e4b\u540e\u7acb\u523b\u6790\u6784\u3002\u800c <code>f</code> \u88ab\u5b9a\u4e49\u4e3a\u4e86 <code>tmp</code> \u7684\u5f15\u7528\uff0c<code>tmp</code> \u5df2\u7ecf\u88ab\u9500\u6bc1\u4e86\uff0c\u8fd9\u5757\u5185\u5b58\u7a7a\u95f4\u5df2\u7ecf\u88ab\u91ca\u653e\u3002</p> <p>\u88ab\u91ca\u653e\u7684\u5185\u5b58\uff0c\u8bbf\u95ee\u662f\u5371\u9669\u7684\uff0c\u4f46\u5e76\u975e\u4e0d\u53ef\u8bbf\u95ee\u3002\u73b0\u5728\u4e00\u822c\u7684\u7f16\u8bd1\u5668\u90fd\u662f\u5141\u8bb8\u8bbf\u95ee\uff0c\u4f46\u8bbf\u95ee\u7684\u7ed3\u679c\u4e0d\u786e\u5b9a\uff0c\u6709\u53ef\u80fd\u662f\u8fd0\u884c\u9519\u8bef\uff0c\u6709\u53ef\u80fd\u662f\u4e0d\u786e\u5b9a\u7684\u503c\u3002\u8fd9\u4e2a\u53ef\u80fd\u9700\u8981\u7b49\u5230\u5b66\u6c47\u7f16\u4f1a\u4e86\u89e3\u7684\u66f4\u6e05\u695a\u3002</p> <p>\u6545\u800c\u8fd9\u6bb5\u4ee3\u7801\u5728 glot \u7f16\u8bd1\u5668\u4e0a\u7684\u7ed3\u679c\u4e3a <code>4_0</code>\u3002</p> <p>\u7136\u800c\u6211\u4eec\u5bf9\u5c40\u90e8\u53d8\u91cf <code>tmp</code> \u52a0\u4e0a <code>static</code> \u4fee\u9970\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Int {\npublic:\n    int data;\n    Int() { data = 1; }\n    Int(int i): data(i) { }\n};\n\nvoid func1(Int&amp; a, Int b) {\n    a.data += b.data;\n}\n\nInt&amp; func2(Int&amp; a, Int b) { \n    func1(a, b);\n    int static tmp(a.data + b.data);\n    return tmp; \n}\n\nint main() {\n    int a, b(3);\n    int&amp; f = func2(a, b);\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; f.data &lt;&lt; endl; // \"4_7\"\n    return 0;\n}\n</code></pre> <p>\u975e\u5e38\u795e\u5947\uff0c\u6211\u4eec\u4e0d\u4ec5\u901a\u8fc7 <code>static</code> \u4fee\u9970\u4fdd\u7559\u4e86\u5c40\u90e8\u53d8\u91cf\uff0c\u4f3c\u4e4e\u8fd8\u6539\u53d8\u4e86\u8fd9\u4e2a\u5c40\u90e8\u53d8\u91cf\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Int {\npublic:\n    int data;\n    Int() { data = 1; }\n    Int(int i): data(i) { }\n};\n\nvoid func1(Int&amp; a, Int b) {\n    a.data += b.data;\n}\n\nInt&amp; func2(Int&amp; a, Int b) { \n    func1(a, b);\n    Int static tmp(a.data + b.data);\n    return tmp; \n}\n\nint main() {\n    Int a, b(3);\n    Int&amp; f = func2(a, b);\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; f.data &lt;&lt; endl; // \"4_7\"\n    f.data++;\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; func2(a, b).data &lt;&lt; \"_\" &lt;&lt; a.data &lt;&lt; endl; // \"4_8_7\"\n    return 0;\n}\n</code></pre> <p>\u8fd9\u4f3c\u4e4e\u8fdd\u53cd\u4e86\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u53ea\u80fd\u591f\u88ab\u5b9a\u4e49\u5b83\u7684\u51fd\u6570\u4f53\u64cd\u4f5c\u8fd9\u4e00\u70b9\uff0c\u5b9e\u5219\u4e0d\u7136\u3002\u6211\u4eec\u4e4b\u524d\u53d9\u8ff0\u7684\u662f\uff0c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u4e0d\u80fd\u5728\u51fd\u6570\u5916\u88ab\u4f7f\u7528\uff0c\u4f46\u662f\u4f46\u5b83\u7684\u5185\u5b58\u7a7a\u95f4\u53ef\u4ee5\u3002\u4e0a\u4f8b\u662f\u7ed5\u8fc7\u4e86\u8bed\u8a00\u5c42\u9762\uff0c\u76f4\u63a5\u5bf9\u4e8e\u5185\u5b58\u8fdb\u884c\u4e86\u64cd\u4f5c\u3002</p> <p>\u5bf9\u4e8e\u53d8\u91cf\u7684\u64cd\u4f5c\uff0c\u662f\u6307\u4f8b\u5982\u7f16\u5199\u4e00\u884c C \u8bed\u8a00\u4ee3\u7801\uff0c\u660e\u786e\u5730\u64cd\u4f5c\u8fd9\u4e2a\u53d8\u91cf\uff0c\u6bd4\u5982 <code>x++</code>\u3002\u4f46\u662f\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u6307\u9488\uff0c\u6bd4\u5982\u5b9a\u4e49\u4e00\u4e2a\u6307\u9488 <code>p</code> \u6765\u6307\u5411\u8fd9\u4e2a\u5730\u5740\uff0c\u4e4b\u540e\u5bf9 <code>*p</code> \u8fdb\u884c\u5404\u7c7b\u64cd\u4f5c\u3002\u8fd9\u65f6\u5019\u7f16\u8bd1\u5668\u5e76\u4e0d\u77e5\u9053 <code>*p</code> \u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u7a76\u7adf\u600e\u4e48\u6765\u7684\uff0c\u5b83\u53ea\u77e5\u9053\u662f\u4e00\u6bb5\u5185\u5b58\u7a7a\u95f4\uff0c\u8fdb\u884c\u4e86\u4e00\u7cfb\u5217\u64cd\u4f5c\u3002</p> <p>\u7b80\u800c\u8a00\u4e4b\uff0c\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u4f53\u5916\u4f7f\u7528\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u540d\u5b57\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u5757\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u5728 <code>func2(a, b).data</code> \u4e2d\u7b2c\u4e8c\u6b21\u8c03\u7528 <code>func2(a, b)</code> \u65f6\uff0c\u7531\u4e8e\u4e4b\u524d\u5df2\u7ecf\u5b9a\u4e49\u4e86 <code>static int tmp</code>\uff0c\u6240\u4ee5\u7b2c\u4e8c\u6b21\u4e0d\u518d\u7528 <code>Int static tmp(a.data + b.data</code> \u6765\u6784\u9020\u65b0\u7684 <code>tmp</code>\uff0c\u76f8\u5f53\u4e8e\u6784\u9020 <code>tmp</code> \u7684\u8fd9\u4e00\u884c\u5931\u6548\u4e86\uff0c\u4f46\u662f <code>func1(a, b)</code> \u4ecd\u7136\u4f1a\u8fdb\u884c\uff0c\u6545\u800c <code>a</code> \u8fd8\u662f\u52a0\u4e86 <code>3</code>\u3002</p> <p>\u53c8\u6bd4\u5982\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Int {\npublic:\n    int data;\n    Int() { data = 1; }\n    Int(int i): data(i) { }\n};\n\nvoid func1(Int&amp; a, Int b) {\n    a.data += b.data;\n}\n\nInt&amp; func2(Int&amp; a, Int b) { \n    func1(a, b);\n    Int static tmp(a.data + b.data);\n    return tmp; \n}\n\nint main() {\n    Int a, b(3);\n    Int&amp; f = func2(a, b);\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; f.data &lt;&lt; endl; // \"4_7\"\n    func2(a,b).data++;\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; func2(a, b).data &lt;&lt; \"_\" &lt;&lt; a.data &lt;&lt; endl; // \"7_8_10\"\n    return 0;\n}\n</code></pre> <p>\u6211\u4f01\u56fe\u76f4\u63a5 <code>func2(a, b).data++</code>\uff0c\u56e0\u4e3a\u6211\u8fd4\u56de\u7c7b\u578b\u4e3a <code>tmp</code> \u7684\u5f15\u7528\uff0c\u4e5f\u6210\u529f\u5b9e\u73b0\u4e86\u5bf9\u4e8e <code>tmp</code> \u7684\u5185\u5b58\u7a7a\u95f4\u7684\u64cd\u4f5c\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Int {\npublic:\n    int data;\n    Int() { data = 1; }\n    Int(int i): data(i) { }\n};\n\nvoid func1(Int&amp; a, Int b) {\n    a.data += b.data;\n}\n\nInt&amp; func2(Int&amp; a, Int b) { \n    func1(a, b);\n    Int static tmp(a.data + b.data);\n    return tmp; \n}\n\nint main() {\n    Int a, b(3);\n    Int&amp; f = func2(a, b);\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; f.data &lt;&lt; endl;\n    tmp.data++;\n    cout &lt;&lt; a.data &lt;&lt; \"_\" &lt;&lt; func2(a, b).data &lt;&lt; \"_\" &lt;&lt; a.data &lt;&lt; endl;\n    return 0;\n}\n\n/*\nerror: use of undeclared identifier 'tmp'\n    tmp.data++;\n    ^\n1 error generated.\n*/\n</code></pre>"},{"location":"languages/c-oop/class-easy/#_14","title":"\u5f15\u7528\u7684\u5176\u4ed6\u7279\u70b9","text":"<ul> <li> <p>\u4e0d\u5b58\u5728\u7a7a\u5f15\u7528\u3002\u5f15\u7528\u5fc5\u987b\u8fde\u63a5\u5230\u4e00\u5757\u5408\u6cd5\u7684\u5185\u5b58\u3002</p> </li> <li> <p>\u4e00\u65e6\u5f15\u7528\u88ab\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c31\u4e0d\u80fd\u88ab\u6307\u5411\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u3002\u6307\u9488\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u6307\u5411\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u3002</p> </li> <li> <p>\u5f15\u7528\u5fc5\u987b\u5728\u521b\u5efa\u65f6\u88ab\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u3002\u6307\u9488\u53ef\u4ee5\u5728\u521d\u59cb\u5316\u65f6\u7f6e\u7a7a\uff0c\u4e4b\u540e\u518d\u6307\u5411\u5bf9\u8c61\u3002</p> </li> <li> <p>\u5f15\u7528\u7684\u4f18\u52bf\u4e3a\u66f4\u7075\u6d3b\u5730\u652f\u6301\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p> </li> <li> <p>\u5f15\u7528\u7684\u7279\u6027\uff1a\u521b\u5efa\u65f6\u5fc5\u987b\u521d\u59cb\u5316\u3001\u521d\u59cb\u5316\u540e\u4fbf\u4e0d\u80fd\u6307\u5411\u5176\u4ed6\u5bf9\u8c61\uff0c\u4e0d\u5b58\u5728\u7a7a\u5f15\u7528\u3002</p> </li> </ul>"},{"location":"languages/c-oop/class-easy/#_15","title":"\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":""},{"location":"languages/c-oop/class-easy/#_16","title":"\u610f\u4e49","text":"<p>\u7528\u6237\u81ea\u5b9a\u4e49\u7c7b\uff0c\u6ca1\u6709\u5bf9\u5e38\u7528\u7684\u8fd0\u7b97\u7b26\u8fdb\u884c\u5b9a\u4e49\uff0c\u6bd4\u5982\u60f3\u8981\u8868\u793a\u4e24\u4e2a\u7c7b\u5bf9\u8c61\u76f8\u52a0\uff0c\u65e0\u6cd5\u91c7\u7528 <code>a + b</code> \u8fd9\u79cd\u65b9\u5f0f\u3002\u53ef\u4ee5\u91c7\u53d6\u5b9a\u4e49\u4e00\u4e2a <code>add</code> \u51fd\u6570\u7684\u65b9\u5f0f\uff0c\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898\u3002\u4f46\u8fd9\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0c\u5728\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4f1a\u548c\u57fa\u7840\u7c7b\u578b\u5dee\u522b\u5f88\u5927\uff0c\u7f3a\u5c11\u7f16\u7a0b\u7684\u4e00\u81f4\u6027\u3002\u9700\u8981\u8fc7\u591a\u5730\u533a\u5206\u81ea\u5b9a\u4e49\u7c7b\u548c\u57fa\u7840\u7c7b\u522b\uff0c\u8c03\u7528\u8d77\u6765\u4e5f\u4e0d\u65b9\u4fbf\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5f15\u5165\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p>"},{"location":"languages/c-oop/class-easy/#_17","title":"\u8bed\u6cd5","text":"<p>\u8fd0\u7b97\u7b26\u91cd\u8f7d\u9700\u8981\u6309\u89c4\u5219\u58f0\u660e\u6267\u884c\u8be5\u8fd0\u7b97\u7684\u51fd\u6570\u3002\u4f8b\u5982 <code>+</code> \u5bf9\u5e94 <code>operator+</code>\u3002\u8fd0\u7b97\u7b26\u91cd\u8f7d\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\uff08\u6ce8\u610f\u53c2\u6570\u4e0d\u540c\uff09\uff0c\u4e14\u53ea\u80fd\u7528\u4e00\u79cd\u3002</p> <ul> <li>\u5168\u5c40\u51fd\u6570\u578b\u8fd0\u7b97\u7b26\u91cd\u8f7d</li> </ul> <pre><code>A operator+(A&amp; a1, A&amp; a2) {\n    A new_a(a1.data + a2.data);\n    return new_a;\n}\n</code></pre> <p>\u4f7f\u7528\u5168\u5c40\u51fd\u6570\u578b\u91cd\u8f7d\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass A {\npublic:\n    int data;\n    A(int i) { data = i; }\n};\n\nA operator+(A&amp; a1, A&amp; a2) {\n    A new_a(a1.data + a2.data);\n    return new_a;\n}\n\nint main() {\n    A a1(2), a2(3);\n    cout &lt;&lt; a1.data &lt;&lt; endl; // 2\n    cout &lt;&lt; (a1 + a2).data &lt;&lt; endl; // 5\n    return 0;\n}\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>a1 + a2</code> \u76f8\u5f53\u4e8e\u8c03\u7528\u51fd\u6570 <code>operator+(a1, a2)</code>\u3002</p> <ul> <li>\u6210\u5458\u51fd\u6570\u578b\u8fd0\u7b97\u7b26\u91cd\u8f7d</li> </ul> <pre><code>class A {\n    int data;\npublic:\n    A operator+(A&amp; a) {\n        A new_a(data + a.data);\n        return new_a;\n    }\n};\n</code></pre> <p>\u6ce8\u610f\u7406\u89e3\u53c2\u6570\u7684\u4e0d\u540c\u3002\u5b9a\u4e49\u4e3a\u5168\u5c40\u51fd\u6570\u578b\u8fd0\u7b97\u7b26\u91cd\u8f7d\u4e4b\u540e\uff0c\u9700\u8981\u6307\u51fa\u5bf9\u4e8e\u54ea\u4e24\u4e2a\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u3002\u4f46\u662f\u5b9a\u4e49\u4e3a\u6210\u5458\u51fd\u6570\u578b\u8fd0\u7b97\u7b26\u91cd\u8f7d\u65f6\uff0c\u8fd9\u4e00\u51fd\u6570\u662f\u67d0\u4e00\u5bf9\u8c61\u7684\u6210\u5458\u51fd\u6570\u3002\u5982\u679c\u662f\u53cc\u76ee\u8fd0\u7b97\u7b26\u53ea\u9700\u6307\u660e\u53e6\u4e00\u4e2a\u6570\u636e\u4e3a\u53c2\u6570\u3002</p> <p>\u4f7f\u7528\u6210\u5458\u51fd\u6570\u578b\u91cd\u8f7d\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass A {\npublic:\n    int data;\n    A(int i) { data = i; }\n\n    A&amp; operator+=(A&amp; a) {\n        data += a.data;\n        return *this;\n    }\n\n    A operator+(A&amp; a) { \n        A new_a(data + a.data);\n        return new_a;\n    }\n};\n\nint main() {\n    A a1(2), a2(3);\n    a1 += a2;\n    cout &lt;&lt; a1.data &lt;&lt; endl; // 5\n    cout &lt;&lt; (a1 + a2).data &lt;&lt; endl; // 8\n    return 0;\n}\n</code></pre> <p>\u663e\u7136 <code>+=</code> \u548c <code>+</code> \u90fd\u5e94\u8be5\u91cd\u8f7d\uff0c\u4e0d\u53ef\u80fd\u53ea\u91cd\u8f7d <code>+</code> \u5c31\u89e3\u51b3\u95ee\u9898\u3002\u8fd9\u91cc\u7684 <code>a1 + a2</code> \u76f8\u5f53\u4e8e\u8c03\u7528\u51fd\u6570 <code>a1.operator+(a2)</code>\u3002</p>"},{"location":"languages/c-oop/class-easy/#_18","title":"\u5177\u4f53\u7684\u91cd\u8f7d\u5b9e\u4f8b","text":""},{"location":"languages/c-oop/class-easy/#_19","title":"\u53ef\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26","text":"<ul> <li> <p>\u53cc\u76ee\u7b97\u672f\u8fd0\u7b97\u7b26\u3002<code>+</code>\uff08\u52a0\uff09\u3001<code>-</code>\uff08\u51cf\uff09\u3001<code>*</code>\uff08\u4e58\uff09\u3001<code>/</code>\uff08\u9664\uff09\u3001<code>%</code>\uff08\u53d6\u6a21\uff09</p> </li> <li> <p>\u5173\u7cfb\u8fd0\u7b97\u7b26\u3002<code>==</code>\uff08\u7b49\u4e8e\uff09\u3001<code>!=</code> \uff08\u4e0d\u7b49\u4e8e\uff09\u3001<code>&lt;</code> \uff08\u5c0f\u4e8e\uff09\u3001<code>&gt;</code> \uff08\u5927\u4e8e\uff09\u3001<code>&lt;=</code>\uff08\u5c0f\u4e8e\u7b49\u4e8e\uff09\u3001<code>&gt;=</code>\uff08\u5927\u4e8e\u7b49\u4e8e\uff09</p> </li> <li> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\u3002<code>||</code>\uff08\u903b\u8f91\u6216\uff09\u3001<code>&amp;&amp;</code>\uff08\u903b\u8f91\u4e0e\uff09\u3001<code>!</code>\uff08\u903b\u8f91\u975e\uff09</p> </li> <li> <p>\u5355\u76ee\u8fd0\u7b97\u7b26\u3002<code>+</code>\uff08\u6b63\uff09\u3001<code>-</code>\uff08\u8d1f\uff09\u3001<code>*</code>\uff08\u6307\u9488\uff09\u3001<code>&amp;</code>\uff08\u53d6\u5730\u5740\uff09</p> </li> <li> <p>\u81ea\u589e\u81ea\u51cf\u8fd0\u7b97\u7b26\u3002<code>++</code>\uff08\u81ea\u589e\uff09\u3001<code>--</code>\uff08\u81ea\u51cf\uff09</p> </li> <li> <p>\u4f4d\u8fd0\u7b97\u7b26\u3002<code>|</code> \uff08\u6309\u4f4d\u6216\uff09\u3001<code>&amp;</code> \uff08\u6309\u4f4d\u4e0e\uff09\u3001<code>~</code>\uff08\u6309\u4f4d\u53d6\u53cd\uff09\u3001<code>^</code>\uff08\u6309\u4f4d\u5f02\u6216\uff09\u3001<code>&lt;&lt;</code> \uff08\u5de6\u79fb\uff09\u3001<code>&gt;&gt;</code>\uff08\u53f3\u79fb\uff09</p> </li> <li> <p>\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002<code>=</code>\u3001<code>+=</code>\u3001<code>-=</code>\u3001<code>*=</code>\u3001<code>/=</code>\u3001<code>%=</code>\u3001<code>&amp;=</code>\u3001<code>|=</code>\u3001<code>^=</code>\u3001<code>&lt;&lt;=</code>\u3001<code>&gt;&gt;=</code></p> </li> <li> <p>\u7a7a\u95f4\u7533\u8bf7\u4e0e\u91ca\u653e\u3002<code>new</code>\u3001<code>delete</code>\u3001<code>new[]</code>\u3001<code>delete[]</code></p> </li> <li> <p>\u5176\u4ed6\u8fd0\u7b97\u7b26\u3002<code>()</code>\uff08\u51fd\u6570\u8c03\u7528\uff09\u3001<code>-&gt;</code>\uff08\u6210\u5458\u8bbf\u95ee\uff09\u3001<code>,</code>\uff08\u9017\u53f7\uff09</p> </li> </ul>"},{"location":"languages/c-oop/class-easy/#_20","title":"\u524d\u540e\u7f00\u91cd\u8f7d","text":"<ul> <li>\u58f0\u660e</li> </ul> <p>\u524d\u7f00\u8fd0\u7b97\u7b26\u91cd\u8f7d\u58f0\u660e\uff1a</p> <pre><code>ClassName operator++();\nClassName operator--();\n</code></pre> <p>\u540e\u7f00\u8fd0\u7b97\u7b26\u91cd\u8f7d\u58f0\u660e\uff1a</p> <pre><code>ClassName operator++(int dummy);\n</code></pre> <p><code>dummy</code> \u8868\u793a\u54d1\u5143\uff0c\u5b9e\u9645\u4e0a\u54d1\u5143\u53ef\u4ee5\u6ca1\u6709\u540d\u5b57\u3002</p> <p><code>++a</code> \u7b49\u4ef7\u4e8e <code>operator++(a)</code>\uff0c\u800c <code>a++</code> \u7b49\u4ef7\u4e8e <code>operator++(a, int)</code>\u3002</p> <p>\u54d1\u5143\u7684\u610f\u4e49\u5c31\u662f\uff0c\u8bbe\u60f3\u6ca1\u6709\u8fd9\u4e00\u54d1\u5143\uff0c\u90a3\u4e48 <code>a++</code> \u548c <code>++a</code> \u7684\u58f0\u660e\u5b8c\u5168\u76f8\u540c\u3002\u7136\u800c\u5b9e\u9645\u4e0a\uff0c\u4e24\u4e2a\u51fd\u6570\u7684\u529f\u80fd\u5b8c\u5168\u4e0d\u540c\uff0c\u9700\u8981\u5b9e\u73b0\u91cd\u8f7d\u3002\u8fd9\u4e00\u5b9e\u73b0\u5c31\u662f\u501f\u52a9\u54d1\u5143\u8fbe\u6210\u7684\u3002</p> <p>\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1 <code>a++</code> \u65f6\uff0c\u7b49\u4ef7\u4e8e <code>operator++(a,int)</code>\uff0c\u4ece\u800c\u8c03\u7528\u4e86\u540e\u7f00\u8fd0\u7b97\u7b26\u3002\u7f16\u8bd1\u5668\u81ea\u52a8\u8bc6\u522b\uff0c\u5c31\u50cf\u662f <code>a1 + a2</code> \u7b49\u4ef7\u4e8e <code>a1.operator+(a2)</code>\uff0c\u8fd9\u79cd\u7b49\u4ef7\u5c31\u662f\u7f16\u8bd1\u5668\u81ea\u52a8\u7b49\u4ef7\u3002</p> <ul> <li>\u8bed\u4e49\u8bc6\u522b</li> </ul> <pre><code>int a = ++b; // \u5148\u5b8c\u6210 b + 1 \u64cd\u4f5c\uff0c\u518d\u8d4b\u503c\nint a = b++; // \u5148\u5b8c\u6210\u8d4b\u503c\uff0c\u518d b + 1 \u64cd\u4f5c\n</code></pre> <ul> <li>\u524d\u7f00\u8fd0\u7b97\u7b26\u91cd\u8f7d\u5b9e\u4f8b</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\npublic:\n    int data = 1;\n    Test(int d) { data = d; }\n    Test&amp; operator++() {\n        ++data;\n        return *this;\n    }\n};\n\nint main() {\n    Test test(1); \n    ++test;\n    return 0;\n}\n</code></pre> <ul> <li>\u540e\u7f00\u8fd0\u7b97\u7b26\u91cd\u8f7d\u5b9e\u4f8b\uff08\u4e00\uff09</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Test {\npublic:\n    int data = 1;\n    Test(int d) { data = d; }\n    Test operator++(int) {\n        Test test(data);\n        ++data;\n        return test;\n    }\n};    \n\nint main() {\n    Test test(1); \n    test++;\n    return 0;\n}\n</code></pre> <p>\u9996\u5148\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5e76\u4e0d\u4e00\u5b9a\u9700\u8981\u4f7f\u7528\u3002\u8fd9\u4e00\u6bb5\u5c31\u662f\u5178\u578b\u7684\u4f8b\u5b50\uff0c\u5c3d\u7ba1\u6211\u8fd4\u56de\u7684\u662f\u4e2a <code>Test</code> \u5bf9\u8c61\uff0c\u4f46\u662f\u6ca1\u6709\u4eba\u63a5\u6536\u8fd9\u4e00\u5bf9\u8c61\uff0c\u4ed6\u4f1a\u5728\u4e3b\u51fd\u6570\u7684\u5bf9\u5e94\u8bed\u53e5\uff08\u4e5f\u5c31\u662f <code>test++</code>\uff09\u7ed3\u675f\u540e\u88ab\u91ca\u653e\u3002\u867d\u7136\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\uff0c<code>test++</code> \u5e76\u6ca1\u6709\u7528\u5230 <code>Test</code> \u7c7b\u578b\u7684\u8fd4\u56de\u503c\uff0c\u53ef\u4ee5\u6539\u4e3a <code>void</code>\uff0c\u4f46\u662f\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\u662f\u9700\u8981\u7528\u5230\u8fd9\u4e00\u4e2a\u8fd4\u56de\u503c\u7684\u3002</p> <p>\u5173\u4e8e\u6790\u6784\u65f6\u673a</p> <p>\u5bf9\u4e8e\u6b64\u5904\u5c40\u90e8\u5bf9\u8c61\u7684\u6790\u6784\u65f6\u673a\uff0c\u7ed3\u5408\u4e0b\u8ff0\u8fdb\u884c\u4e00\u5b9a\u7684\u89e3\u8bfb\u3002</p> <pre><code>Test f1(Test a) {\n    a.print(\"a\");\n    return a;\n}\nTest A = f1(a);\n</code></pre> <p>\u5bf9\u4e8e\u8fd9\u4e00\u8d4b\u503c\u6784\u9020\uff08\u6784\u9020\u5916\u9762\u7684 <code>A</code>\uff09\u548c\u51fd\u6570\u8c03\u7528\u8bed\u53e5\uff0c\u6784\u9020 <code>A</code> \u548c\u6790\u6784\u8fd4\u56de\u503c\u548c\u5f62\u53c2\u7684\u5148\u540e\u987a\u5e8f\u5e94\u8be5\u662f\uff0c\u5148\u6267\u884c\u5b8c <code>f1</code> \u7684\u51fd\u6570\u4f53\uff0c\u6682\u4e0d\u6790\u6784\u3002\u7136\u540e\u6267\u884c\u5b8c\u6574\u4e2a\u8bed\u53e5\uff0c\u5177\u4f53\u5230\u8fd9\u4e2a\u8bed\u53e5\uff0c\u5c31\u662f\u5916\u90e8\u5bf9 <code>A</code> \u7684\u79fb\u52a8\u6784\u9020\uff0c\u518d\u6790\u6784\u3002</p> <p>\u5b8c\u6210\u4e86\u5bf9 <code>A</code> \u7684\u79fb\u52a8\u6784\u9020\u4e4b\u540e\uff0c\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u4e24\u6b21\u5bf9\u5e94\u79fb\u52a8\u6784\u9020\u7684\u8f93\u51fa\u3002\u5206\u522b\u662f\u56e0\u4e3a\u8fd4\u56de\u503c\u4f18\u5316\u88ab\u7981\u7528\u800c\u5bf9\u8fd4\u56de\u503c\u8fdb\u884c\u7684\u89c4\u5b9a\u7684\u79fb\u52a8\u6784\u9020\uff0c\u4ee5\u53ca\u8fd4\u56de\u7684\u5bf9\u8c61\u5bf9\u4e8e <code>A</code> \u7684\u79fb\u52a8\u6784\u9020\u3002\u63a5\u4e0b\u6765\uff0c\u8fd9\u4e00\u8bed\u53e5\u6267\u884c\u5b8c\u6bd5\u540e\u624d\u8fdb\u884c\u51fd\u6570\u4f53\u7684\u6790\u6784\uff0c\u4e5f\u5c31\u662f\u8fde\u7eed\u7684\u4e24\u6b21\u6790\u6784\u3002\u7b2c\u4e00\u6b21\u6790\u6784\u6389\u8fd4\u56de\u503c\uff0c\u7b2c\u4e8c\u6b21\u6790\u6784\u6389\u5f62\u53c2\uff08\u5148\u6784\u9020\u7684\u540e\u6790\u6784\uff09\u3002</p> <p>\u4f46\u662f\u8fd9\u91cc\u7684\u6790\u6784\u987a\u5e8f\u5176\u5b9e\u8fd8\u6709\u8fdb\u4e00\u6b65\u8ba8\u8bba\uff1a</p> <p>\u7531\u4e8e\u51fd\u6570\u8fd4\u56de\u503c\u662f\u5bf9\u8c61\u800c\u5728 <code>return</code> \u65f6\u4e5f\u4f1a\u4ea7\u751f\u4e00\u6b21\u5bf9\u8c61\u6784\u9020\uff08\u901a\u5e38\u4f1a\u88ab\u7f16\u8bd1\u5668\u4f18\u5316\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5f00\u542f\u7f16\u8bd1\u6307\u4ee4 <code>-fon-elide-constructors</code> \u8ba9\u7f16\u8bd1\u5668\u4e0d\u4f18\u5316\uff09\uff0c\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u4f1a\u5728 <code>return</code> \u8bed\u53e5\u6267\u884c\u65f6\u88ab\u521b\u5efa\uff0c\u7b49 <code>return</code> \u8bed\u53e5\u7ed3\u675f\u540e\uff0c\u51fd\u6570\u4f53\u5185\u7684\u5bf9\u8c61\u88ab\u6790\u6784\uff0c\u7136\u540e\u8fd9\u4e2a\u4e34\u65f6\u53d8\u91cf\u88ab\u6790\u6784\uff0c\u6700\u540e\u624d\u5230\u4f5c\u4e3a\u53c2\u6570\u7684\u53d8\u91cf\u88ab\u6790\u6784\u3002</p> <p>\u6790\u6784\u987a\u5e8f\u662f\u5148\u6790\u6784\u51fd\u6570\u4f53\u5185\u5bf9\u8c61\uff0c\u7136\u540e\u662f\u8fd4\u56de\u503c\u5bf9\u8c61\uff0c\u6700\u540e\u662f\u5f62\u53c2\u3002\u867d\u7136\u8fd9\u548c\u901a\u5e38\u610f\u4e49\u4e0a\u7684\u5148\u6784\u9020\u7684\u540e\u6790\u6784\u6709\u4e9b\u77db\u76fe\uff0c\u4f46\u662f\u7279\u4f8b\u8bb0\u4f4f\u5c31\u597d\u3002</p> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u5bf9 <code>A</code> \u662f\u79fb\u52a8\u6784\u9020\uff1a</p> <pre><code>Test A = f1(a);\n</code></pre> <p><code>f1(a)</code> \u662f\u4e2a\u53f3\u503c\uff0c\u56e0\u4e3a\u4f60\u6ca1\u6cd5\u5bf9 <code>f1(a)++</code>\u3002<code>f1(a)</code> \u662f\u4e2a\u53f3\u503c\uff0c\u6545\u800c\u9ed8\u8ba4\u8c03\u7528\u4e86\u79fb\u52a8\u6784\u9020\u51fd\u6570\u3002</p> <p>\u8fd9\u91cc\u9700\u8981\u610f\u8bc6\u5230\uff0c<code>f1(a)</code> \u672c\u8eab\u662f\u4e2a\u53f3\u503c\uff0c\u4f46\u662f <code>A</code> \u5c31\u662f\u4e2a\u5de6\u503c\u4e86\u3002</p> <p>\u8fd8\u503c\u5f97\u8bf4\u660e\u7684\u662f\uff0c\u4e0a\u6587\u7684\u6790\u6784\u65f6\u673a\u662f\u5efa\u7acb\u5728\u4e3b\u51fd\u6570\u7684\u8bed\u53e5\u65e2\u6709\u8d4b\u503c\u53c8\u6709\u51fd\u6570\u8c03\u7528\u7684\u57fa\u7840\u4e0a\uff0c\u4e5f\u5c31\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6709\u8d4b\u503c\u4f5c\u7528\u3002\u5982\u679c\u51fd\u6570\u8fd4\u56de\u503c\u6ca1\u6709\u8d4b\u503c\u7684\u4f5c\u7528\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4f1a\u7acb\u523b\u5728\u51fd\u6570\u4f53\u7ed3\u675f\u540e\u88ab\u6790\u6784\uff0c\u800c\u4e0d\u662f\u4e3b\u51fd\u6570\u7684\u5bf9\u5e94\u8bed\u53e5\u7ed3\u675f\u540e\u6790\u6784\u3002\u8b6c\u5982\u4e0a\u6587\u7b80\u5355\u7684\u5199 <code>a++</code> \u5c31\u4f1a\u8ba9 <code>test</code> \u7acb\u523b\u88ab\u6790\u6784\u3002</p> <ul> <li>\u540e\u7f00\u8fd0\u7b97\u7b26\u91cd\u8f7d\u5b9e\u4f8b\uff08\u4e8c\uff09</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\npublic:\n    int data = 1;\n    Test(int d) { data = d; }\n    Test operator++(int) {\n        Test test(data);\n        ++data;\n        return test;\n    }\n};\n\nint main() {\n    Test test(1); \n    test = test++;\n    cout &lt;&lt; test.data &lt;&lt; endl; // 1\n    return 0;\n}\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u4f1a\u8f93\u51fa <code>1</code>\uff1f\u6211\u4eec\u7ed3\u5408\u4fee\u6539\u540e\u7684\u4ee3\u7801\u8fdb\u884c\u89e3\u91ca\u3002</p> <p>\u5148\u6784\u5efa\u4e86 <code>new_test</code>\uff0c\u7136\u540e\u5bf9\u539f\u6709\u7684 <code>test.data++</code>\uff0c\u7136\u540e\u628a <code>new_test</code> \u8fd4\u56de\u7ed9\u4e86 <code>test</code>\u3002\u6ce8\u610f\u5230\u8fd9\u4e00\u903b\u8f91\u8fc7\u7a0b\u7684\u5148\u540e\u987a\u5e8f\uff0c\u6211\u867d\u7136\u5bf9\u4e8e <code>test.data++</code> \u4e86\uff0c\u4f46\u8fd9\u6b65\u4e4b\u540e\u7528\u8fd4\u56de\u7684 <code>new_test</code>\uff08<code>data</code> \u8fd8\u662f <code>1</code>\uff09\u5bf9 <code>test</code> \u8fdb\u884c\u4e86\u79fb\u52a8\u8d4b\u503c\uff0c\u8986\u76d6\u4e86 <code>++</code> \u7684\u6548\u679c\uff0c\u6545\u800c <code>test.data</code> \u8fd8\u662f <code>1</code>\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u907f\u514d\u4e3b\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u4f53\u5c40\u90e8\u53d8\u91cf\u91cd\u540d\u5fc5\u7136\u662f\u4e2a\u597d\u4e60\u60ef\uff01</p> <ul> <li>\u5168\u5c40\u578b\u91cd\u8f7d\u524d\u540e\u7f00\u8fd0\u7b97\u7b26</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass A {\npublic:\n    int data;\n    A() { data = 0; }\n    A(int i) { data = i; }\n};\n\nA operator++(A&amp; a) {\n    ++a.data;\n    return a;\n}\n\nA operator++(A&amp; a, int) {\n    A new_a(a.data);\n    ++a.data;\n    return new_a;\n}\n\nint main() {\n    A a(1);\n    cout &lt;&lt; (++a).data &lt;&lt; endl; // 2\n    cout &lt;&lt; (a++).data &lt;&lt; endl; // 2\n    cout &lt;&lt; a.data &lt;&lt; endl; // 3\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/class-easy/#_21","title":"\u51fd\u6570\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<p>\u5728\u81ea\u5b9a\u4e49\u7c7b\u4e2d\u4e5f\u53ef\u4ee5\u91cd\u8f7d\u51fd\u6570\u8fd0\u7b97\u7b26 <code>()</code>\uff0c\u5b83\u4f7f\u5bf9\u8c61\u770b\u4e0a\u53bb\u5982\u540c\u662f\u4e00\u4e2a\u51fd\u6570\u540d\uff0c\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u51fd\u6570\u5bf9\u8c61\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\npublic:\n    int operator()(int a, int b) {\n        cout &lt;&lt; \"operator() called. \" &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; endl;\n        return a + b;\n    }\n};\n\nint main() {\n    Test sum;\n    int s = sum(3, 4);\n    cout &lt;&lt; \"a + b = \" &lt;&lt; s &lt;&lt; endl; // 7\n    int t = sum.operator()(5, 6); \n    cout &lt;&lt; \"a + b = \" &lt;&lt; s &lt;&lt; endl; // 11\n    return 0;\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\u5728\u8c03\u7528 <code>Obj(real_parameters)</code> \u65f6\uff0c\u7b49\u4ef7\u4e8e\u8c03\u7528\u4e86 <code>Obj.operator()(real_parameters)</code>\uff0c\u6ce8\u610f\u8fd9\u91cc\u8c03\u7528\u7684\u4e0d\u662f\u6784\u9020\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/class-easy/#_22","title":"\u6570\u7ec4\u4e0b\u6807\u91cd\u8f7d","text":"<p>\u5373\u91cd\u8f7d <code>[]</code> \u8fd0\u7b97\u7b26\u3002</p> <p>\u5982\u679c\u8fd4\u56de\u7c7b\u578b\u662f\u5f15\u7528\uff0c\u5219\u6570\u7ec4\u8fd0\u7b97\u7b26\u8c03\u7528\u53ef\u4ee5\u51fa\u73b0\u5728\u7b49\u53f7\u5de6\u8fb9\uff0c\u63a5\u53d7\u8d4b\u503c\uff0c\u5373 <code>Obj[index] = value</code>\uff08\u4e5f\u5c31\u662f\u8fd4\u56de\u5de6\u503c\uff09\u3002\u5982\u679c\u8fd4\u56de\u7c7b\u578b\u4e0d\u662f\u5f15\u7528\uff0c\u5219\u53ea\u80fd\u51fa\u73b0\u5728\u7b49\u53f7\u53f3\u8fb9 <code>Var = Obj[index]</code>\uff08\u4e5f\u5c31\u662f\u6210\u5458\u51fd\u6570\u51fd\u6570\u8fd4\u56de\u4e86\u53f3\u503c\uff0c\u4f46\u53f3\u503c\u4e0d\u53ef\u4ee5\u8d4b\u503c\uff09\u3002</p> <p>\u6ce8\u610f\u5230\uff0c\u8fd9\u91cc <code>Obj</code> \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u6570\u7ec4\u3002\u8fd9\u662f\u5bf9\u4e8e\u4e00\u4e2a\u7c7b\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6210\u5458\u51fd\u6570\u6765\u91cd\u8f7d\u6570\u7ec4\u4e0b\u6807\u3002</p> <pre><code>#include &lt;iostream&gt; \n#include &lt;cstring&gt;  \nusing namespace std;\nchar week_name[7][4] = {\"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\", \"sun\"};\n\nclass WeekTemperature {\n    int temperature[7];\n    int error_temperature;\npublic:\n    int&amp; operator[] (const char* name) {\n        for (int i = 0; i &lt; 7; i++) {\n            if (strcmp(week_name[i], name) == 0) \n                return temperature[i];\n        }\n        return error_temperature;\n    }\n};\n\nint main() {\n    WeekTemperature beijing;\n    beijing[\"mon\"] = -3;    \n    beijing[\"tue\"] = -1;\n    cout &lt;&lt; \"Monday Temperature: \" \n         &lt;&lt; beijing[\"mon\"] &lt;&lt; endl;\n    // \"Monday Temperature: -3\"\n    return 0;\n}\n</code></pre> <p><code>const char* name</code> \u8868\u793a\u4e00\u4e2a\u5e38\u91cf\u5b57\u7b26\u4e32\uff0c\u907f\u514d\u4fee\u6539\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5e38\u91cf\u5c31\u662f\u5728 <code>[]</code> \u91cc\u9762\u7684\u5185\u5bb9\uff0c\u6bd4\u5982 <code>[\"test\"]</code> \u90a3\u4f60\u7684\u53c2\u6570\u5c31\u662f <code>\"test\"</code>\uff08\u6ce8\u610f\u5230\u5fc5\u987b\u8981\u6709\u53cc\u5f15\u53f7\u624d\u80fd\u662f\u5b57\u7b26\u4e32\uff09\u3002</p> <p>\u6b64\u5904\uff0c\u5bf9\u4e8e <code>private:</code> \u505a\u4e00\u8bf4\u660e\uff0c<code>temp</code> \u662f\u79c1\u6709\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u8bbf\u95ee <code>temp</code> \u8fd9\u4e2a\u540d\u5b57\u4e0d\u53ef\u884c\uff0c\u4f46\u662f\u53ef\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u8bbf\u95ee\u5176\u5f15\u7528\uff0c\u8fdb\u800c\u53ef\u4fee\u6539\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u8fd9\u4e2a\u540d\u5b57\u88ab\u4fdd\u62a4\u4e86\uff0c\u4f46\u662f\u4ed6\u7684\u5185\u5b58\u5355\u5143\u6ca1\u6709\u88ab\u4fdd\u62a4\u3002<code>private:</code> \u4e00\u822c\u7528\u4e8e\u4fee\u9970\u7c7b\u7684\u5185\u90e8\u5c5e\u6027\uff08\u53d8\u91cf\uff09\u548c\u65b9\u6cd5\uff08\u51fd\u6570\uff09\uff08\u5373\u90a3\u4e9b\u4e0d\u60f3\u66b4\u9732\u7ed9\u5916\u90e8\u7684\uff09\uff0c\u5b83\u4fdd\u8bc1\u4e86\u5b83\u4fee\u9970\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u4e0d\u80fd\u5728\u7c7b\u7684\u5916\u90e8\u88ab\u76f4\u63a5\u8bbf\u95ee\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u7c7b\u7684\u4e00\u4e9b\u516c\u6709\u65b9\u6cd5\u5b9e\u73b0\u95f4\u63a5\u8bbf\u95ee\u3002\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\nprivate:\n    int i;\npublic:\n    Test(int j): i(j) { }\n    void print() { cout &lt;&lt; this-&gt;i; }\n};  \n\nint main() {\n    Test test(1);\n    int&amp; b = test.i;\n    b++;\n    test.print();\n    return 0;\n}\n</code></pre> <p>\u8fd9\u91cc\u5c06\u4f1a\u8bbf\u95ee\u5931\u8d25\uff0c\u56e0\u4e3a\u4e3b\u51fd\u6570\u5185\u4e0d\u53ef\u8bbf\u95ee\u76f4\u63a5 <code>private</code> \u6210\u5458\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Test {\nprivate:\n    int i;\npublic:\n    Test(int j): i(j) { }\n    void print() { cout &lt;&lt; this-&gt;i; }\n    int&amp; setTest() { return this-&gt;i; }\n};\n\nint main() {\n    Test test(1);\n    int&amp; b = test.setTest();\n    b++;\n    test.print();\n    return 0;\n}\n</code></pre> <p>\u6b64\u5904\uff0c\u6211\u901a\u8fc7 <code>setTest</code> \u8fd9\u4e00 <code>public</code> \u65b9\u6cd5\u5f97\u5230\u4e86 <code>i</code> \u7684\u5f15\u7528\uff0c\u518d\u6784\u9020\u4e86\u53e6\u5916\u4e00\u4e2a\u5f15\u7528\u3002\u76f4\u63a5\u7ed5\u8fc7\u4e86\u53d8\u91cf\uff0c\u5bf9\u5176\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u8fdb\u884c\u4e86\u64cd\u4f5c\u3002</p>"},{"location":"languages/c-oop/class-easy/#_23","title":"\u53ea\u80fd\u6210\u5458\u51fd\u6570\u578b\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26","text":"<p><code>=</code>\u3001<code>[]</code>\u3001<code>()</code>\u3001<code>-&gt;</code>\u53ea\u80fd\u901a\u8fc7\u6210\u5458\u51fd\u6570\u6765\u91cd\u8f7d\u3002</p> <p>\u8fd9\u91cc\u5176\u5b9e\u53ef\u4ee5\u8054\u7cfb\u5230\u4e4b\u540e\u5b66\u4e60\u7684\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\uff0c\u56e0\u4e3a\u672c\u8d28\u4e0a\u4e8c\u8005\u5c31\u662f\u5b9e\u73b0\u65b9\u5f0f\u503c\u5f97\u63a8\u7a76\u7684\u4e24\u79cd\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p> <p>\u5f53\u6211\u4eec\u6ca1\u6709\u663e\u5f0f\u5730\u5728\u7c7b\u5185\u5b9a\u4e49\u8fd9\u4e24\u4e2a\u8fd0\u7b97\u7b26\uff08\u91cd\u8f7d\uff09\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u7f3a\u5931\u7684\u90e8\u5206\u3002\u7f16\u8bd1\u5668\u65e0\u6cd5\u83b7\u77e5\uff08\u6216\u8005\u81f3\u5c11\u6ca1\u6709\u5c1d\u8bd5\u53bb\u83b7\u77e5\uff09\u7c7b\u4ee5\u5916\u5df2\u7ecf\u91cd\u8f7d\u4e86 <code>operator=</code>\uff0c\u5b83\u5728\u7f16\u8bd1\u8fd9\u4e2a\u7c7b\u65f6\u53d1\u73b0\u8fd9\u4e2a\u7c7b\u6ca1\u6709\u91cd\u8f7d <code>operator=</code>\uff0c\u4e8e\u662f\u5c31\u7ed9\u5b83\u8865\u4e0a\u4e86\u4e00\u4e2a\u3002\u4f46\u5982\u679c\u4e4b\u540e\u53c8\u5728\u7c7b\u4ee5\u5916\u91cd\u8f7d\u4e86\u4e00\u4e2a <code>operator=</code>\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u8c03\u7528\u7684\u65f6\u5019\u4e0d\u77e5\u9053\u7528\u54ea\u4e2a\uff0c\u4ea7\u751f\u6b67\u4e49\u3002\u7efc\u4e0a\uff0cC++ \u7981\u6b62\u4e86\u5728\u7c7b\u4ee5\u5916\u91cd\u8f7d <code>operator=</code>\u3002</p> <p>\u6362\u8a00\u4e4b\uff0c\u7f16\u8bd1\u5668\u7f16\u8bd1\u7c7b\u65f6\u80fd\u770b\u5230\u7c7b\u5185\u91cd\u8f7d\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u5c31\u4e0d\u4f1a\u81ea\u52a8\u751f\u6210 <code>=</code> \u7684\u91cd\u8f7d\u3002\u4f46\u5168\u5c40\u7684\u7f16\u8bd1\u5668\u65e0\u6cd5\u5728\u7f16\u8bd1\u65f6\u68c0\u6d4b\u5230\uff0c\u53ea\u6709\u5728\u94fe\u63a5\u7684\u65f6\u5019\u624d\u80fd\u68c0\u6d4b\u5230\u3002\u800c\u6b64\u65f6\u4f1a\u94fe\u63a5\u6b67\u4e49\u51fd\u6570\u3002</p> <p>\u4ec5\u4ec5\u662f\u53ea\u662f\u94fe\u63a5\u4e24\u4e2a\u6b67\u4e49\u51fd\u6570\u5e76\u4e0d\u4f1a\u51fa\u9519\uff0c\u5728\u53d1\u751f\u6709\u6b67\u4e49\u7684\u8c03\u7528\u7684\u65f6\u5019\u624d\u4f1a\u6709\u95ee\u9898\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5728\u7c7b\u5916\u91cd\u8f7d <code>operator=</code>\uff0c\u800c\u4e0d\u8c03\u7528 <code>=</code>\uff0c\u662f\u4e0d\u4f1a warning \u6216\u8005 error \u7684\u3002\u6bd4\u5982\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u540c\u65f6\u5b9a\u4e49 <code>int foo(int x, int y = 1)</code> \u548c <code>int foo(int x)</code> \u8fd9\u4e24\u4e2a\u51fd\u6570\uff0c\u53ea\u6709\u4f7f\u7528\u4e86 <code>foo(x)</code> \u624d\u4f1a\u5bfc\u81f4 CE\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid func(int x) { };\nvoid func(int x,int y = 0) { }\n\nint main() {\n    cout &lt;&lt; \"1\" &lt;&lt; endl;\n    return 0;\n} // OK!\n</code></pre>"},{"location":"languages/c-oop/class-easy/#_24","title":"\u6d41\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<p>\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7c7b\uff0c\u867d\u7136\u53ef\u4ee5\u50cf\u5185\u7f6e\u7c7b\u578b\u90a3\u6837\u5b9a\u4e49\u53d8\u91cf\uff08\u5bf9\u8c61\uff09\uff0c\u4f46\u60f3\u8981\u4f7f\u7528\u6d41\u8fd0\u7b97\u7b26\u8f93\u5165\u3001\u8f93\u51fa\u5bf9\u8c61\uff0c\u5219\u8fd8\u9700\u8981\u4e3a\u7c7b\u5b9a\u4e49\u6d41\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p> <ul> <li>\u8bed\u6cd5</li> </ul> <pre><code>istream&amp; operator&gt;&gt;(istream&amp; in, Test&amp; dst);\nostream&amp; operator&lt;&lt;(ostream&amp; out, const Test&amp; src);\n</code></pre> <p>\u51fd\u6570\u540d\u4e3a <code>operator&gt;&gt;</code> \u548c <code>operator&lt;&lt;</code>\u3002</p> <p>\u4e0d\u4fee\u6539 <code>istream</code> \u548c <code>ostream</code> \u7c7b\u7684\u60c5\u51b5\u4e0b\uff0c\u53ea\u80fd\u4f7f\u7528\u5168\u5c40\u51fd\u6570\u91cd\u8f7d\u3002</p> <p>\u8fd4\u56de\u503c\u4e3a <code>istream&amp;</code> \u548c <code>ostream&amp;</code>\u3002\u5747\u4e3a\u5f15\u7528\u3002</p> <p>\u53c2\u6570\u5206\u522b\u4e3a\u6d41\u5bf9\u8c61\u7684\u5f15\u7528\u3001\u76ee\u6807\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u5bf9\u4e8e\u8f93\u51fa\u6d41\uff0c\u76ee\u6807\u5bf9\u8c61\u4e00\u822c\u662f\u5e38\u91cf\u5f15\u7528\u3002</p> <p>\u5907\u6ce8\uff0c\u56e0\u4e3a\u6d41\u8fd0\u7b97\u7b26\u5f80\u5f80\u9700\u8981\u8f93\u51fa <code>private</code> \u6570\u636e\uff0c\u6545\u800c\u5f80\u5f80\u8bbe\u4e3a\u53cb\u5143\u51fd\u6570\u5e76\u5728\u7c7b\u5185\u58f0\u660e\uff0c\u5e76\u5c3d\u91cf\u5728\u7c7b\u5916\u65f6\u5b9e\u73b0\u3002\u540c\u65f6\uff0c\u5728\u7c7b\u5916\u5b9e\u73b0\u65f6\uff0c\u5df2\u7ecf\u4e0d\u7528\u518d\u5199 <code>friend</code> \u4e86\uff0c<code>friend</code> \u53ea\u662f\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\u5728\u7c7b\u5185\u7684\u6807\u8bb0\u3002</p> <p>\u4e3a\u4ec0\u4e48\u6d41\u8fd0\u7b97\u7b26\u4e0d\u80fd\u662f\u6210\u5458\u51fd\u6570\u91cd\u8f7d\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u53e5\u8bdd\u6307\u7684\u662f\uff0c\u6d41\u8fd0\u7b97\u7b26\u4e0d\u80fd\u662f\u67d0\u4e2a\u5bf9\u8c61\u7684\u6210\u5458\u51fd\u6570\u91cd\u8f7d\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u8c03\u7528\u6d41\u8fd0\u7b97\u7b26\u65f6\uff0c\u8c03\u7528\u987a\u5e8f\u662f <code>cout &lt;&lt; a</code> \u800c\u4e0d\u662f <code>a &lt;&lt; cout</code>\u3002\u4ece\u800c\u53ef\u4ee5\u770b\u51fa\uff0c\u8c03\u7528\u7684\u662f <code>ostream</code> \u7c7b\u7684\u4e00\u4e2a\u6210\u5458\u51fd\u6570\uff0c\u800c\u4e0d\u662f <code>a</code> \u7684\u7c7b\u7684\u6210\u5458\u51fd\u6570\u3002</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\n    int id;\npublic:\n    Test(int i): id(i) { cout &lt;&lt; \"obj_\" &lt;&lt; id &lt;&lt; \" created\\n\"; }   \n    friend istream&amp; operator&gt;&gt;(istream&amp; in, Test&amp; dst); \n    friend ostream&amp; operator&lt;&lt;(ostream&amp; out, const Test&amp; src); \n};\n\nistream&amp; operator&gt;&gt;(istream&amp; in, Test&amp; dst) {\n    in &gt;&gt; dst.id;\n    return in;\n}\n\nostream&amp; operator&lt;&lt;(ostream&amp; out, const Test&amp; src) {\n    out &lt;&lt; src.id &lt;&lt; endl;\n    return out;\n}\n\nint main() {\n    Test obj(1);    \n    cout &lt;&lt; obj;\n    cin &gt;&gt; obj;  \n    cout &lt;&lt; obj;    \n    return 0;\n}\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c\u51fd\u6570\u4f53\u5185\u7528\u7684\u90fd\u662f <code>in</code> \u548c <code>out</code>\uff0c\u800c\u4e0d\u662f <code>cin</code> \u548c <code>cout</code>\uff0c\u56e0\u4e3a\u4f60\u5728\u91cd\u8f7d <code>out</code>\uff0c\u4f60\u5e0c\u671b\u4f60\u7684 <code>out</code> \u5bf9\u4e8e\u6240\u6709\u7684\u8f93\u51fa\u6d41\u90fd\u9002\u7528\uff0c\u90a3\u4e48\u4e0d\u80fd\u5199 <code>cout</code>\u3002\u56e0\u4e3a\u8fd8\u6709 <code>fout</code> \u7b49\u7b49\u3002\u5982\u679c\u5199\u4e86 <code>cout</code>\uff0c\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u662f\u6ca1\u6cd5\u7ed9 <code>fout</code> \u8fd9\u4e9b\u7528\uff0c\u56e0\u6b64\u5199 <code>out</code>\u4e60\u60ef\u66f4\u597d\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/","title":"\u7ec4\u5408\u4e0e\u7ee7\u627f","text":""},{"location":"languages/c-oop/combination-and-derivation/#_2","title":"\u7ec4\u5408","text":""},{"location":"languages/c-oop/combination-and-derivation/#_3","title":"\u5b9a\u4e49","text":"<p>\u5982\u679c\u5bf9\u8c61 <code>a</code> \u662f\u5bf9\u8c61 <code>b</code> \u7684\u4e00\u4e2a\u7ec4\u6210\u90e8\u5206\uff0c\u5219\u79f0 <code>b</code> \u4e3a <code>a</code> \u7684\u6574\u4f53\u5bf9\u8c61\uff0c<code>a</code> \u4e3a <code>b</code> \u7684\u90e8\u5206\u5bf9\u8c61\u3002\u5e76\u628a <code>b</code> \u548c <code>a</code> \u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u79f0\u4e3a\u201c\u6574\u4f53-\u90e8\u5206\u201d\u5173\u7cfb\uff08\u4e5f\u53ef\u79f0\u4e3a\u201c\u7ec4\u5408\u201d\u6216\u201chas-a\u201d\u5173\u7cfb\uff09\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_4","title":"\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f","text":""},{"location":"languages/c-oop/combination-and-derivation/#_5","title":"\u516c\u6709\u6210\u5458","text":"<p>\u5df2\u6709\u7c7b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u65b0\u7c7b\u7684\u516c\u6709\u6570\u636e\u6210\u5458\uff0c\u8fd9\u6837\u901a\u8fc7\u5141\u8bb8\u76f4\u63a5\u8bbf\u95ee\u5b50\u5bf9\u8c61\u800c\u201c\u63d0\u4f9b\u201d\u65e7\u7c7b\u63a5\u53e3\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_6","title":"\u79c1\u6709\u6210\u5458","text":"<p>\u5df2\u6709\u7c7b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u65b0\u7c7b\u7684\u79c1\u6709\u6570\u636e\u6210\u5458\u3002\u65b0\u7c7b\u53ef\u4ee5\u8c03\u6574\u65e7\u7c7b\u7684\u5bf9\u5916\u63a5\u53e3\uff0c\u53ef\u4ee5\u4e0d\u4f7f\u7528\u65e7\u7c7b\u539f\u6709\u7684\u63a5\u53e3\uff08\u76f8\u5f53\u4e8e\u5bf9\u63a5\u53e3\u4f5c\u4e86\u8f6c\u6362\uff09\u3002</p> <p>\u6211\u4eec\u6709\u5982\u4e0b\u547d\u540d\u4e24\u7c7b\u7ec4\u5408\u65b9\u5f0f\uff1a</p> <pre><code>private:\n    Wheel w; // private \u7ec4\u5408\npublic:\n    Engine e; // public \u7ec4\u5408\n</code></pre>"},{"location":"languages/c-oop/combination-and-derivation/#public-private","title":"<code>public</code> \u63a5\u53e3\u8bbf\u95ee <code>private</code> \u6570\u636e","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Wheel {\n    int _num;\npublic:\n    void set(int n) { _num = n; }\n};\n\nclass Engine {\npublic:\n    int _num;\n    void set(int n) { _num = n; }\n};\n\nclass Car {\nprivate:\n    Wheel w;\npublic:\n    Engine e; // \u516c\u6709\u6210\u5458\uff0c\u76f4\u63a5\u8bbf\u95ee\u5176\u63a5\u53e3\n    void setWheel(int n) { w.set(n); } // \u63d0\u4f9b\u79c1\u6709\u6210\u5458\u7684\u8bbf\u95ee\u63a5\u53e3\n};\n\nint main() {\n    Car c;\n    c.e.set(1);\n    c.setWheel(4);\n    return 0;\n}\n</code></pre> <p><code>Car</code> \u7531 <code>Engine</code> \u548c <code>Wheel</code> \u4e24\u90e8\u5206\u7ec4\u6210\u3002\u5982\u679c\u6211\u7684 <code>Wheel</code> \u8bbe\u4e3a\u79c1\u6709\uff0c\u90a3\u4e48\u6211\u6ca1\u6cd5\u76f4\u63a5\u5728\u7c7b\u5916\uff08\u4e3b\u51fd\u6570\u91cc\uff09\u8bbf\u95ee <code>w.set(n)</code>\uff0c\u56e0\u4e3a\u7c7b\u5916\u65e0\u6cd5\u8bbf\u95ee\u79c1\u6709\u6210\u5458\u3002\u79c1\u6709\u6210\u5458\u7684\u6240\u6709\u63a5\u53e3\u4f1a\u5728\u7c7b\u5916\u6574\u4f53\u79c1\u6709\u5316\uff0c\u4f46\u662f\u79c1\u6709\u6210\u5458\u7684 <code>public</code> \u63a5\u53e3\u4ecd\u7136\u53ef\u4ee5\u88ab\u7c7b\u5185\u51fd\u6570\u8c03\u7528\u3002\u53ef\u4ee5\u8bbe\u7f6e <code>public</code> \u63a5\u53e3 <code>setWheel</code>\uff0c<code>setW Weel</code> \u662f\u4e2a <code>public</code> \u7684\u7c7b\u5185\u51fd\u6570\uff0c\u53ef\u4ee5\u8bbf\u95ee\u7c7b\u5185 <code>private</code> \u6210\u5458\uff0c\u4ece\u800c\u6211\u80fd\u591f\u901a\u8fc7\u6b64\u63a5\u53e3\u8bbf\u95ee\u5230 <code>private</code> \u6570\u636e\u6210\u5458 <code>Wheel w</code> \u7684 <code>public</code> \u63a5\u53e3\uff0c\u4f46\u662f\u4e5f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee <code>private</code> \u90e8\u5206\u7684 <code>private</code> \u6570\u636e\u3002\u540c\u7406\uff0c\u89c2\u5bdf <code>Wheel</code> \u7c7b\u548c <code>Engine</code> \u7c7b\u7684\u5199\u6cd5\uff0c\u5176\u5b9e\u4e5f\u662f\u8fd9\u79cd\u7ed9 <code>private</code> \u5bf9\u8c61\u6dfb\u52a0 <code>public</code> \u63a5\u53e3\u7684\u601d\u60f3\u3002</p> <p>\u5c06\u6b64\u4f8b\u5b50\u8fdb\u4e00\u6b65\u9610\u8ff0\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Wheel {\n    int _num;\npublic:\n    Wheel(int x) { _num = x; }\n    void set(int n) { _num = n; } // \u6ca1\u6709 get \u51fd\u6570\u662f\u6ca1\u6cd5\u76f4\u63a5\u5728 Car \u7c7b\u91cc\u8bbf\u95ee\u5230 private \u6210\u5458\u7684\n    int getwheelvalue() { return this-&gt;_num; }\n};\n\nclass Engine {\npublic:\n    Engine(int y) { _num = y; }\n    int _num;\n    void set(int n) { _num = n; }\n};\n\nclass Car {\nprivate:\n    Wheel w;\npublic:\n    Engine e; // \u516c\u6709\u6210\u5458\uff0c\u76f4\u63a5\u8bbf\u95ee\u5176\u63a5\u53e3\n    void setWheel(int n) { w.set(n); } // \u63d0\u4f9b\u79c1\u6709\u6210\u5458\u7684\u8bbf\u95ee\u63a5\u53e3\n    Car(int x,int y): w(x), e(y) { }\n    void print() {\n        cout &lt;&lt; \"my Engine is \" &lt;&lt; this-&gt;e._num\n             &lt;&lt;\" my Wheel is \" &lt;&lt; this-&gt;w.getwheelvalue()\n             &lt;&lt; endl;\n    }\n};\n\nint main() {\n    Car c(5, 3);\n    c.print();\n    c.e.set(1);\n    c.print();\n    c.setWheel(4);\n    c.print();\n    return 0;\n}\n\n/*\noutput:\nmy Engine is 3 my Wheel is 5\nmy Engine is 1 my Wheel is 5\nmy Engine is 1 my Wheel is 4\n*/\n</code></pre> <p>\u7b2c\u4e00\uff0c<code>Wheel w</code> \u662f <code>Car</code> \u7684\u79c1\u6709\u6210\u5458\uff0c<code>Car</code> \u7684 <code>public</code> \u63a5\u53e3\u53ef\u4ee5\u8bbf\u95ee <code>Car</code> \u7684 <code>private</code> \u6570\u636e\u6210\u5458\uff0c\u6545\u800c\u53ef\u4ee5\u8bbf\u95ee <code>w</code>\uff0c\u4f46\u662f\u65e0\u6cd5\u8bbf\u95ee\u79c1\u6709\u6570\u636e\u6210\u5458\u7684\u79c1\u6709\u6570\u636e\u6210\u5458\uff0c\u6545\u800c\u65e0\u6cd5\u76f4\u63a5\u5728 <code>print</code> \u4e2d\u8f93\u51fa <code>w._num</code>\uff0c\u6211\u4eec\u9009\u62e9\u4e86\u518d\u5bf9 <code>Wheel</code> \u8bbe\u8ba1\u79c1\u6709\u6570\u636e\u6210\u5458\u7684\u63a5\u53e3 <code>getWheelValue</code> \u6765\u8bbf\u95ee <code>Wheel</code> \u7684 <code>_num</code>\u3002</p> <p>\u7b2c\u4e8c\uff0c\u5bf9\u4e8e <code>Car</code> \u7684\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u5217\u8868\uff0c\u5f53 <code>Car</code> \u7684\u6570\u636e\u6210\u5458\u662f <code>int x</code> \u65f6\uff0c\u6211\u4eec\u5199\u7684\u662f <code>x(i)</code>\uff0c\u800c\u4e0d\u662f <code>int(i)</code>\uff08\u5426\u5219\uff0c\u5982\u679c\u6709\u591a\u4e2a <code>int</code> \u7c7b\u7684\u6210\u5458\uff0c\u521d\u59cb\u5316\u5c31\u65e0\u6cd5\u8fdb\u884c\u4e86\uff09\u3002\u6240\u4ee5\u8fd9\u91cc\u5199\u7684\u4e5f\u662f <code>w(x)</code>\uff0c\u800c\u4e0d\u662f <code>Wheel(x)</code>\u3002\u8fd9\u91cc\u5176\u5b9e\u4e5f\u4f53\u73b0\u4e86\u57fa\u672c\u6570\u636e\u548c\u81ea\u5b9a\u4e49\u7c7b\u7684\u7c7b\u6bd4\u5173\u7cfb\u3002</p> <p>\u7b2c\u4e09\uff0c\u6211\u4eec\u8fd9\u91cc\u91c7\u7528\u4e86\u521d\u59cb\u5316\u5217\u8868\u6765\u6784\u9020 <code>Car</code>\uff0c\u800c\u4e0d\u662f\u91c7\u7528\u51fd\u6570\u4f53\u5185\u8d4b\u503c\u3002\u56e0\u4e3a C++11 \u76f4\u63a5\u7981\u6b62\u4e86\u8fd9\u7c7b\u7684\u51fd\u6570\u4f53\u5185\u8d4b\u503c\u3002</p> <p>\u6211\u4eec\u5bf9\u6b64\u7684\u7406\u89e3\uff1a\u5982\u679c\u662f\u51fd\u6570\u4f53\u5185\u8d4b\u503c\u6765\u6784\u9020 <code>Car</code>\uff0c\u90a3\u4e48\u9700\u8981\u5b9a\u4e49 <code>Wheel</code> \u548c <code>Engine</code> \u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff08\u5982\u679c\u6211\u4eec\u4e0d\u5b9a\u4e49\u5e26\u6709\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u751f\u6210\uff09\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u7c7b\u4f3c <code>w = 5</code> \u8fd9\u6837\u7684\u8bed\u53e5\u8fd8\u9700\u8981\u9690\u5f0f\u8c03\u7528\u5e26\u6709\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u751f\u6210 <code>Wheel(5)</code>\uff0c\u7136\u540e\u8c03\u7528\u9690\u5f0f\u751f\u6210\u7684\u79fb\u52a8\u8d4b\u503c\u8bed\u53e5\u7ed9 <code>w</code> \u8d4b\u503c\u3002\u8fd9\u4e2a\u65b9\u5f0f\u6bd4\u8d77\u521d\u59cb\u5316\u5217\u8868\u6548\u7387\u4f4e\u4e0b\u592a\u591a\uff08\u5982\u6b64\u7981\u6b62\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u7684\u56e0\u679c\u5173\u7cfb\uff09\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_7","title":"\u6784\u9020\u4e0e\u6790\u6784","text":""},{"location":"languages/c-oop/combination-and-derivation/#_8","title":"\u5b50\u5bf9\u8c61\u53c2\u6570\u6784\u9020","text":"<p>\u5b50\u5bf9\u8c61\u6784\u9020\u65f6\u82e5\u9700\u8981\u53c2\u6570\uff0c\u5219\u5e94\u5728\u5f53\u524d\u7c7b\u7684\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u5217\u8868\u4e2d\u8fdb\u884c\u3002\u4e0d\u80fd\u591f\u901a\u8fc7\u5148\u9ed8\u8ba4\u6784\u9020\u3002\u7136\u540e\u518d\u5728\u51fd\u6570\u4f53\u5185\u8d4b\u503c\u3002</p> <p>\u5177\u4f53\u800c\u8a00\uff0cC++11 \u7684\u89c4\u5b9a\u662f\u5176\u4ed6\u7c7b\u7684\u5b50\u5bf9\u8c61\u5fc5\u987b\u8981\u901a\u8fc7\u521d\u59cb\u5316\u5217\u8868\u6765\u6784\u9020\uff0c\u5982\u679c\u4e0d\u5199\u5728\u521d\u59cb\u5316\u5217\u8868\u91cc\uff0c\u90a3\u4e48\u5c31\u8c03\u7528\u9ed8\u8ba4\u6784\u9020\u3002</p> <p>\u5982\u679c <code>A</code> \u7c7b\u5185\u7ec4\u5408\u6709\u5176\u4ed6\u7c7b <code>B</code> \u7684\u5bf9\u8c61\uff0c\u90a3\u4e48 <code>B</code> \u7684\u5bf9\u8c61\u5fc5\u987b\u8981\u901a\u8fc7\u521d\u59cb\u5316\u5217\u8868\u6765\u6784\u9020\uff0c\u53ef\u4ee5\u4e0d\u5199\u521d\u59cb\u5316\u5217\u8868\uff0c\u90a3\u4e48\u4f1a\u8c03\u7528 <code>B</code> \u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002\u4f46\u662f\u4e00\u5b9a\u4e0d\u80fd\u5728 <code>A</code> \u7684\u6784\u9020\u51fd\u6570\u4f53\u5185\u8fdb\u884c\u6784\u9020\uff0c\u6548\u7387\u592a\u4f4e\u3002</p> <p>\u8fd9\u4e2a\u5730\u65b9\u611f\u89c9\u4f1a\u548c\u6211\u4eec\u7684\u7406\u89e3\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u4e3a\u7c7b\u5f53\u4e2d\u7ecf\u5e38\u4f1a\u9700\u8981 <code>int</code> \u6570\u636e\u6210\u5458\u3002<code>int</code> \u662f\u4e00\u4e2a\u7c7b\uff0c\u90a3\u96be\u9053 <code>int</code> \u53ea\u80fd\u5728\u521d\u59cb\u5316\u5217\u8868\u91cc\u8d4b\u503c\u5417\uff1f</p> <p>\u8fd9\u4e2a\u7406\u89e3\u662f\u9519\u7684\u3002<code>int</code> \u4e0d\u80fd\u7b97\u662f\u4e00\u4e2a\u7c7b\uff0c\u5b83\u548c <code>char</code>\u3001<code>long</code>\u3001<code>double</code> \u90fd\u53ea\u662f\u57fa\u672c\u7684\u53d8\u91cf\u7c7b\u578b\u3002\u7ec4\u5408\u6307\u7684\u662f\u7c7b\u548c\u7c7b\u4e4b\u95f4\uff0c\u6570\u636e\u6210\u5458\u91cc\u7684 <code>int</code>\uff0c\u8fd9\u4e0d\u662f\u7ec4\u5408\u3002\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u81ea\u5df1\u5199\u7684\u7c7b\u4e0d\u662f\u4e00\u4e2a\u4e1c\u897f\u3002\u800c\u4e14\u5bf9\u4e8e\u77ed\u8d4b\u503c\u8bed\u53e5\uff0c\u5c3d\u91cf\u80fd\u653e\u521d\u59cb\u5316\u5217\u8868\u5c31\u4e0d\u653e\u51fd\u6570\u4f53\u5185\uff0c\u524d\u8005\u6548\u7387\u66f4\u9ad8\u3002</p> <p>\u4f46\u662f <code>std::vector</code> \u662f\u4e2a\u5c01\u88c5\u597d\u4e86\u7684\u7c7b\uff0c<code>#include &lt;vector&gt;</code> \u5c31\u662f\u628a\u5305\u542b\u5b83\u7684\u5e93\u641e\u5230\u4f60\u7684\u7a0b\u5e8f\u4e2d\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_9","title":"\u5b50\u5bf9\u8c61\u9ed8\u8ba4\u6784\u9020","text":"<p>\u82e5\u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u6765\u6784\u9020\u5b50\u5bf9\u8c61\uff0c\u5219\u4e0d\u7528\u505a\u4efb\u4f55\u5904\u7406\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_10","title":"\u6784\u9020\u6b21\u5e8f","text":"<p>\u5148\u5b8c\u6210\u5b50\u5bf9\u8c61\u6784\u9020\uff0c\u518d\u5b8c\u6210\u7236\u5bf9\u8c61\u6784\u9020\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_11","title":"\u6790\u6784\u6b21\u5e8f","text":"<p>\u5b50\u5bf9\u8c61\u6784\u9020\u7684\u6b21\u5e8f\u4ec5\u7531\u5728\u7c7b\u4e2d\u58f0\u660e\u7684\u6b21\u5e8f\u6240\u51b3\u5b9a\u3002</p> <p>\u6790\u6784\u51fd\u6570\u7684\u6b21\u5e8f\u4e0e\u6784\u9020\u51fd\u6570\u76f8\u53cd\uff0c\u4e5f\u5c31\u662f\u5b8c\u5168\u53cd\u7740\u6790\u6784\u4e00\u6b21\u5373\u53ef\u3002</p> <p>\u4f8b\u5b50</p> <ul> <li>\u6784\u9020\u4e0e\u6790\u6784\u7684\u6267\u884c\u987a\u5e8f</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass S1 { // Single1 \u7c7b\u522b\n    int ID;\npublic:\n    S1(int id): ID(id) { cout &lt;&lt; \"S1(int)\" &lt;&lt; endl; }\n    ~S1() { cout &lt;&lt; \"~S1()\" &lt;&lt; endl; }\n};\n\nclass S2 { // Single2 \u7c7b\u522b\npublic:\n    S2() { cout &lt;&lt; \"S2()\" &lt;&lt; endl; }\n    ~S2() { cout &lt;&lt; \"~S2()\" &lt;&lt; endl; }\n};\n\nclass C3 { // Composite3 \u7c7b\u522b\n    int num;\n    S1 sub_obj1; // \u6784\u9020\u51fd\u6570\u5e26\u53c2\u6570\n    S2 sub_obj2; // \u6784\u9020\u51fd\u6570\u4e0d\u5e26\u53c2\u6570\npublic:\n    C3(): num(0), sub_obj1(123) { // \u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5217\u8868\u4e2d\u6784\u9020\u5b50\u5bf9\u8c61\n        cout &lt;&lt; \"C3()\" &lt;&lt; endl;\n    }\n\n    C3(int n): num(n), sub_obj1(123) {\n        cout &lt;&lt; \"C3(int)\" &lt;&lt; endl;\n    }\n\n    C3(int n, int k): num(n), sub_obj1(k) {\n        cout &lt;&lt; \"C3(int, int)\" &lt;&lt; endl;\n    }\n\n    ~C3() { cout &lt;&lt; \"~C3()\" &lt;&lt; endl; }\n};\n\nint main() {\n    C3 a, b(1), c(2), d(3, 4);\n    return 0;\n}\n\n/*\noutput:\nS1(int)\nS2()\nC3()\nS1(int)\nS2()\nC3(int)\nS1(int)\nS2()\nC3(int)\nS1(int)\nS2()\nC3(int, int)\n~C3()\n~S2()\n~S1()\n~C3()\n~S2()\n~S1()\n~C3()\n~S2()\n~S1()\n~C3()\n~S2()\n~S1()\n*/\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff0c\u524d\u9762 12 \u884c\uff0c\u6bcf\u4e09\u884c\u4e3a\u4e00\u4e2a\u5355\u4f4d\uff0c\u662f\u4e00\u4e2a\u6784\u9020\u3002\u4e14\u5148\u6309\u7167\u58f0\u660e\u6b21\u5e8f\u6784\u9020\u5b50\u5bf9\u8c61 <code>sub_obj1</code>\uff0c\u4e4b\u540e\u662f <code>sub_obj2</code>\uff0c\u6700\u540e\u5b8c\u6210 <code>C3</code> \u6784\u9020\u3002</p> <p>\u81f3\u4e8e\u6790\u6784\u987a\u5e8f\uff0c\u90a3\u5c31\u7eaf\u7cb9\u662f\u628a\u524d 12 \u884c\u5411\u4e0b\u5bf9\u6298\u3002</p> <ul> <li>\u5bf9\u8c61\u7ec4\u5408\u7684\u62f7\u8d1d\u4e0e\u8d4b\u503c\uff08\u5bf9\u8bfe\u4ef6\u4e0a\u7684\u4f8b\u5b50\u8fdb\u884c\u4f18\u5316\uff0c\u66f4\u6e05\u695a\u4e9b\uff09</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass C1 {\npublic:\n    int i;\n    C1(int n): i(n) { cout &lt;&lt; \"C1 with int: \" &lt;&lt; n &lt;&lt; endl; }\n    C1(const C1 &amp;other) { // \u663e\u5f0f\u5b9a\u4e49\u62f7\u8d1d\u6784\u9020\u51fd\u6570\n        i = other.i;\n        cout &lt;&lt; \"C1(const C1 &amp;other)\" &lt;&lt; endl;\n    }\n};\n\nclass C2 {\npublic:\n    int j;\n    C2(int n): j(n) { cout &lt;&lt; \"C2 with int: \" &lt;&lt; n &lt;&lt; endl; }\n    C2&amp; operator=(const C2&amp; right) { // \u663e\u5f0f\u5b9a\u4e49\u8d4b\u503c\u8fd0\u7b97\u7b26\n        if (this != &amp;right) {\n            j = right.j;\n            cout &lt;&lt; \"operator=(const C2&amp;)\" &lt;&lt; endl;\n        }\n        return *this;\n    }\n};\n\nclass C3 {\npublic:\n    C1 c1;\n    C2 c2;\n    C3(): c1(0), c2(0) { cout &lt;&lt; \"C3 without arg\" &lt;&lt; endl; }\n    C3(int i, int j): c1(i), c2(j) { cout &lt;&lt; \"C3 with i and j\" &lt;&lt; endl; }\n    void print() { cout &lt;&lt; \"c1.i = \" &lt;&lt; c1.i &lt;&lt; \" c2.j = \" &lt;&lt; c2.j &lt;&lt; endl; }\n};\n\nint main() {\n    C3 a(1, 2);\n    C3 b(a); // C1 \u6267\u884c\u663e\u5f0f\u5b9a\u4e49\u7684\u62f7\u8d1d\u6784\u9020\uff0cC2 \u6267\u884c\u9690\u5f0f\u5b9a\u4e49\u7684\u62f7\u8d1d\u6784\u9020\n    cout &lt;&lt; \"b: \";\n    b.print();\n    C3 c;\n    cout &lt;&lt; \"c: \";\n    c.print();\n    c = a; // C1 \u6267\u884c\u9690\u5f0f\u5b9a\u4e49\u7684\u62f7\u8d1d\u8d4b\u503c\uff0cC2 \u6267\u884c\u663e\u5f0f\u5b9a\u4e49\u7684\u62f7\u8d1d\u8d4b\u503c\n    cout &lt;&lt; \"c: \";\n    c.print();\n    return 0;\n}\n\n/*\noutput:\nC1 with int: 1\nC2 with int: 2\nC3 with i and j\nC1(const C1 &amp;other)\nb: c1.i = 1 c2.j = 2\nC1 with int: 0\nC2 with int: 0\nC3 without arg\nc: c1.i = 0 c2.j = 0\noperator=(const C2&amp;)\nc: c1.i = 1 c2.j = 2\n*/\n</code></pre> <ul> <li>\u533a\u5206\u6570\u636e\u6765\u6e90</li> </ul> <p>\u9519\u8bef\u7684\u662f\uff1a</p> <p></p> <p>\u6ce8\u610f\uff0c<code>int data{2018}</code> \u548c <code>int data = 2018</code> \u8fd9\u4e24\u4e2a\u5199\u6cd5\u4e00\u81f4\u3002\u8fd9\u91cc <code>B</code> \u7c7b\u7684 <code>print</code> \u51fd\u6570\u8f93\u51fa\u7684\u662f <code>B</code> \u7684 <code>data</code>\uff0c\u800c\u4e0d\u662f\u6570\u636e\u6210\u5458 <code>a</code> \u7684 <code>data</code>\u3002\u4f46\u662f\u6784\u9020\u51fd\u6570 <code>B(int i): a(i)</code> \u662f\u7528 <code>2019</code> \u5728\u6784\u9020 <code>a</code>\uff0c\u8fd9\u4e00\u4e2a\u5c0f\u7ec6\u8282\u6bd4\u8f83\u5751\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_12","title":"\u7ee7\u627f","text":""},{"location":"languages/c-oop/combination-and-derivation/#_13","title":"\u5b9a\u4e49","text":"<p>\u201c\u4e00\u822c-\u7279\u6b8a\u201d\u7ed3\u6784\uff0c\u4e5f\u79f0\u201c\u5206\u7c7b\u7ed3\u6784\u201d\uff0c\u662f\u7531\u4e00\u7ec4\u5177\u6709\u201c\u4e00\u822c-\u7279\u6b8a\u201d\u5173\u7cfb\u7684\u7c7b\u6240\u7ec4\u6210\u7684\u7ed3\u6784\uff0cC++ \u4f7f\u7528\u7ee7\u627f\u6765\u8868\u8fbe\u7c7b\u95f4\u7684\u201c\u4e00\u822c-\u7279\u6b8a\u7ed3\u6784\u201d\u3002</p> <p><code>A</code> \u7ee7\u627f <code>B</code>\uff0c\u5219\uff1a</p> <ul> <li>\u5c5e\u6027\u548c\u670d\u52a1\u4e0a\uff1a\u7c7b <code>A</code> \u5177\u6709\u7c7b <code>B</code> \u5168\u90e8\u7684\u5c5e\u6027\u548c\u670d\u52a1\uff0c\u800c\u4e14\u5177\u6709\u81ea\u5df1\u7279\u6709\u7684\u67d0\u4e9b\u5c5e\u6027\u6216\u670d\u52a1\u3002<code>A</code> \u4e3a <code>B</code> \u7684\u7279\u6b8a\u7c7b\uff0c<code>B</code> \u4e3a <code>A</code> \u7684\u4e00\u822c\u7c7b\u3002</li> <li>\u5bf9\u8c61\u5173\u7cfb\u4e0a\uff1a\u7c7b <code>A</code> \u7684\u5168\u90e8\u5bf9\u8c61\u90fd\u662f\u7c7b <code>B</code> \u7684\u5bf9\u8c61\uff0c\u800c\u4e14\u7c7b <code>B</code> \u4e2d\u5b58\u5728\u4e0d\u5c5e\u4e8e\u7c7b <code>A</code> \u7684\u5bf9\u8c61\u3002<code>A</code> \u662f <code>B</code> \u7684\u7279\u6b8a\u7c7b\uff0c<code>B</code> \u662f <code>A</code> \u7684\u4e00\u822c\u7c7b\u3002</li> </ul>"},{"location":"languages/c-oop/combination-and-derivation/#_14","title":"\u7ee7\u627f\u65b9\u5f0f\u4e0e\u8bed\u6cd5","text":"<p>\u88ab\u7ee7\u627f\u7684\u5df2\u6709\u7c7b\uff0c\u88ab\u79f0\u4e3a\u57fa\u7c7b\uff0c\u4e5f\u79f0\u201c\u7236\u7c7b\u201d\u3001\u201c\u4e00\u822c\u7c7b\u201d\u3002 \u901a\u8fc7\u7ee7\u627f\u5f97\u5230\u7684\u65b0\u7c7b\uff0c\u88ab\u4e3a\u6d3e\u751f\u7c7b\uff0c\u4e5f\u79f0\u201c\u5b50\u7c7b\u201d\u3001\u201c\u6269\u5c55\u7c7b\u201d\u3001\u201c\u7279\u6b8a\u7c7b\u201d\u3002</p> <p>\u5e38\u89c1\u7684\u7ee7\u627f\u65b9\u5f0f\uff1a<code>public</code>\u3001<code>private</code>\u3002</p> <ul> <li> <p><code>class Derived: [private] Base { }</code>\uff0c\u7f3a\u7701\u7ee7\u627f\u65b9\u5f0f\u4e3a <code>private</code> \u7ee7\u627f\u3002</p> </li> <li> <p><code>class Derived: public Base { }</code>\u3002</p> </li> <li> <p><code>class Derived: protected Base { }</code>\uff0c<code>protected</code> \u7ee7\u627f\u5f88\u5c11\u88ab\u4f7f\u7528\u3002</p> </li> </ul> <p>\u6ce8\u610f\uff0c<code>protected</code> \u6570\u636e\u7ecf\u8fc7\u7ee7\u627f\u53ef\u4ee5\u7ed9\u5b50\u7c7b\u8bbf\u95ee\uff0c\u4f46\u662f <code>private</code> \u6570\u636e\u7ecf\u8fc7\u7ee7\u627f\u4e0d\u80fd\u7ed9\u5b50\u7c7b\u8bbf\u95ee\uff0c\u4e14\u4e8c\u8005\u90fd\u4e0d\u80fd\u7c7b\u5916\u8bbf\u95ee\u3002\u8fd9\u91cc\u63cf\u8ff0\u7684\u662f <code>protected</code> \u6570\u636e\u7c7b\u578b\uff0c\u800c\u4e0d\u662f <code>protected</code> \u7ee7\u627f\uff0c<code>protected</code> \u7ee7\u627f\u5f88\u5c11\u7528\u5230\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_15","title":"\u65e0\u6cd5\u7ee7\u627f","text":"<p>\u6784\u9020\u51fd\u6570\uff1a\u521b\u5efa\u6d3e\u751f\u7c7b\u5bf9\u8c61\u65f6\uff0c\u5fc5\u987b\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u8c03\u7528\u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u521b\u5efa\u6d3e\u751f\u5bf9\u8c61\u7684\u57fa\u7c7b\u90e8\u5206\u3002C++11 \u65b0\u589e\u4e86\u7ee7\u627f\u6784\u9020\u51fd\u6570\u7684\u673a\u5236\uff08\u4f7f\u7528 <code>using</code>\uff09\uff0c\u4f46\u9ed8\u8ba4\u4e0d\u7ee7\u627f\u3002</p> <p>\u6790\u6784\u51fd\u6570\uff1a\u91ca\u653e\u5bf9\u8c61\u65f6\uff0c\u5148\u8c03\u7528\u6d3e\u751f\u7c7b\u6790\u6784\u51fd\u6570\uff0c\u518d\u8c03\u7528\u57fa\u7c7b\u6790\u6784\u51fd\u6570\u3002\u8fd9\u4e2a\u548c\u7ec4\u5408\u76f8\u4f3c\u3002</p> <p>\u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a\u7f16\u8bd1\u5668\u4e0d\u4f1a\u7ee7\u627f\u57fa\u7c7b\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08\u53c2\u6570\u4e3a\u57fa\u7c7b\uff09\u3002\u4f46\u4f1a\u81ea\u52a8\u5408\u6210\u9690\u5f0f\u5b9a\u4e49\u7684\u6d3e\u751f\u7c7b\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08\u53c2\u6570\u4e3a\u6d3e\u751f\u7c7b\uff09\uff0c\u5176\u529f\u80fd\u4e3a\u8c03\u7528\u57fa\u7c7b\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002</p> <p>\u53cb\u5143\u51fd\u6570\uff1a\u4e0d\u662f\u7c7b\u6210\u5458\uff0c\u6545\u800c\u65e0\u6cd5\u7ee7\u627f</p> <p>\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic:\n    int k = 0;\n    void f() { cout &lt;&lt; \"Base::f()\" &lt;&lt; endl; }\n    Base&amp; operator=(const Base &amp;right) {\n        if (this != &amp;right) {\n            k = right.k;\n            cout &lt;&lt; \"operator= (const Base &amp;right)\" &lt;&lt; endl;\n        }\n        return *this;\n    }\n};\n\nclass Derive: public Base{ };\n\nint main() {\n    Derive d, d2;\n    cout &lt;&lt; d.k &lt;&lt; endl; // Base \u6570\u636e\u6210\u5458\u88ab\u7ee7\u627f\n    d.f(); // Base::f() \u88ab\u7ee7\u627f\n\n    Base e;\n    // d = e; // \u7f16\u8bd1\u9519\u8bef\uff0cBase \u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\u4e0d\u88ab\u7ee7\u627f\n    d = d2; // \u8c03\u7528\u9690\u5f0f\u5b9a\u4e49\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u6d3e\u751f\u7c7b\u9690\u5f0f\u5408\u6210\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\u4f1a\u8c03\u7528\u57fa\u7c7b\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\n    return 0;\n}\n\n/*\noutput:\n0\nBase::f()\noperator= (const Base &amp;right)\n*/\n</code></pre> <p>\u6ce8\u610f\u524d\u6587\u63d0\u53ca\u6d3e\u751f\u7c7b\u4f1a\u81ea\u52a8\u751f\u6210\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u53c2\u6570\u4e3a\u6d3e\u751f\u7c7b\u3002\u4e5f\u5c31\u662f\u4ec5\u4ec5\u5728\u6d3e\u751f\u7c7b\u5bf9\u8c61\u95f4\u8d4b\u503c\uff0c\u57fa\u7c7b\u548c\u6d3e\u751f\u7c7b\u76f8\u4e92\u8d4b\u503c\u5728\u4e0d\u5b9a\u4e49\u7c7b\u578b\u8f6c\u6362\u7684\u60c5\u51b5\u4e0b\u662f\u4e0d\u5141\u8bb8\u7684\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_16","title":"\u6784\u9020\u4e0e\u6790\u6784","text":"<p>\u7ee7\u627f\u4e0e\u7ec4\u5408\u5728\u6784\u9020\u4ee5\u53ca\u6790\u6784\u4e0a\u7684\u6267\u884c\u987a\u5e8f\u7c7b\u4f3c\u3002</p> <p>\u57fa\u7c7b\u4e2d\u7684\u6570\u636e\u6210\u5458\uff0c\u901a\u8fc7\u7ee7\u627f\u6210\u4e3a\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u4e00\u90e8\u5206\uff0c\u9700\u8981\u5728\u6784\u9020\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\u8c03\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u6765\u6b63\u786e\u521d\u59cb\u5316\u3002</p> <p>\u82e5\u6ca1\u6709\u663e\u5f0f\u8c03\u7528\uff0c\u5219\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528\u57fa\u7c7b\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <p>\u82e5\u60f3\u8981\u663e\u5f0f\u8c03\u7528\uff0c\u5219\u53ea\u80fd\u5728\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u6210\u5458\u5217\u8868\u4e2d\u8fdb\u884c\uff0c\u65e2\u53ef\u4ee5\u8c03\u7528\u57fa\u7c7b\u4e2d\u4e0d\u5e26\u53c2\u6570\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u8c03\u7528\u5408\u9002\u7684\u5e26\u53c2\u6570\u7684\u5176\u4ed6\u6784\u9020\u51fd\u6570\u3002\u5148\u6267\u884c\u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316\u7ee7\u627f\u6765\u7684\u6570\u636e\uff0c\u518d\u6267\u884c\u6d3e\u751f\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002</p> <p>\u5bf9\u8c61\u6790\u6784\u65f6\uff0c\u5148\u6267\u884c\u6d3e\u751f\u7c7b\u6790\u6784\u51fd\u6570\uff0c\u518d\u6267\u884c\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u8c03\u7528\u7684\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u3002</p> <p>\u4f8b\u5b50</p> <ul> <li>\u9690\u5f0f\u8c03\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570</li> </ul> <pre><code>class Base {\n    int data;\npublic:\n    Base(): data(0) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; data &lt;&lt; \")\\n\"; }\n    Base(int i): data(i) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; data &lt;&lt; \")\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    Derive() { cout &lt;&lt; \"Derive::Derive()\" &lt;&lt; endl; } \n    //  \u65e0\u663e\u5f0f\u8c03\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5219\u8c03\u7528\u57fa\u7c7b\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n};\n\nint main() {\n    Derive obj; \n    return 0;\n} // g++ 1.cpp \u2013o 1.out -std=c++11\n\n/*\noutput:\nBase::Base(0)\nDerive::Derive()\n*/\n</code></pre> <p>\u5148\u5b8c\u6210\u4e86\u57fa\u7c7b\u90e8\u5206\u7684\u6784\u9020\uff0c\u518d\u5b8c\u6210\u4e86\u6d3e\u751f\u7c7b\u90e8\u5206\u7684\u6784\u9020\u3002</p> <ul> <li>\u663e\u5f0f\u8c03\u7528\u4e86\u57fa\u7c7b\u5e26\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570</li> </ul> <pre><code>class Base {\n    int data;\npublic:\n    Base(): data(0) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; data &lt;&lt; \")\\n\"; }\n    Base(int i): data(i) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; data &lt;&lt; \")\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    Derive(int i): Base(i) { cout &lt;&lt; \"Derive::Derive()\" &lt;&lt; endl; } \n    // \u663e\u5f0f\u8c03\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570\n};\n\nint main() {\n    Derive obj(356);    \n    return 0;\n} // g++ 1.cpp \u2013o 1.out -std=c++11\n</code></pre> <p>\u663e\u5f0f\u8c03\u7528\u4e86\u57fa\u7c7b\u7684\u5e26\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u53ea\u80fd\u5728\u521d\u59cb\u5316\u5217\u8868\u4e2d\u8fdb\u884c\u3002</p> <ul> <li>\u542f\u7528 <code>using</code> \u5173\u952e\u5b57</li> </ul> <pre><code>class Base {\n    int data;\npublic:\n    Base(int i): data(i) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    using Base::Base; // \u76f8\u5f53\u4e8e Derive(int i): Base(i) { };\n};\n\nint main() {\n    Derive obj(356);\n    return 0;\n} // g++ 1.cpp \u2013o 1.out -std=c++11\n\n/*\noutput:\nBase::Base(356)\n*/\n</code></pre> <p>\u5728\u6d3e\u751f\u7c7b\u4e2d\u4f7f\u7528 <code>using Base::Base</code> \u6765\u7ee7\u627f\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u76f8\u5f53\u4e8e\u7ed9\u6d3e\u751f\u7c7b\u201c\u5b9a\u4e49\u201d\u4e86\u76f8\u5e94\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u3002\u5982\u679c\u57fa\u7c7b\u91cc\u6709\u591a\u4e2a\u4e0d\u540c\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\uff0c<code>using</code> \u8bed\u53e5\u4f1a\u5206\u522b\u6784\u9020\u5bf9\u5e94\u7684\u4e0d\u540c\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u3002</p> <ul> <li><code>using</code> \u4e00\u5e76\u542f\u7528</li> </ul> <pre><code>class Base {\n    int data;\npublic:\n    Base(int i): data(i) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n    Base(int i, int j) {\n        cout &lt;&lt; \"Base::Base(\" &lt;&lt; i &lt;&lt; \",\" &lt;&lt; j &lt;&lt; \")\\n\";\n    }\n};\n\nclass Derive: public Base {\npublic:\n    using Base::Base; // \u76f8\u5f53\u4e8e Derive(int i): Base(i) { };\n                      // \u52a0\u4e0a Derive(int i, int j): Base(i, j) { };\n};\n\nint main() {\n    Derive obj1(356);\n    Derive obj2(356, 789);\n    return 0;\n} // g++ 1.cpp \u2013o 1.out -std=c++11\n\n/*\noutput:\nBase::Base(356)\nBase::Base(356, 789)\n*/\n</code></pre> <p>\u5f53\u57fa\u7c7b\u5b58\u5728\u591a\u4e2a\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f7f\u7528 <code>using</code> \u4f1a\u7ed9\u6d3e\u751f\u7c7b\u81ea\u52a8\u6784\u9020\u591a\u4e2a\u76f8\u5e94\u7684\u6784\u9020\u51fd\u6570\u3002\u6ce8\u610f\u8fd9\u91cc\u662f\u6307\u4e00\u4e2a\u57fa\u7c7b\u6709\u591a\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u591a\u91cd\u7ee7\u627f\u3002</p> <p>\u5982\u679c\u57fa\u7c7b\u7684\u67d0\u4e2a\u6784\u9020\u51fd\u6570\u88ab\u58f0\u660e\u4e3a\u79c1\u6709\u6210\u5458\u51fd\u6570\uff0c\u5219\u4e0d\u80fd\u5728\u6d3e\u751f\u7c7b\u4e2d\u58f0\u660e\u7ee7\u627f\u8be5\u6784\u9020\u51fd\u6570\uff08\u5728\u5148\u524d\u7ae0\u8282\u6709\u53d9\u8ff0\u8fc7\u7ed3\u5408\u59d4\u6d3e\u6784\u9020\u51fd\u6570\u5c06\u6784\u9020\u51fd\u6570\u8bbe\u7f6e\u4e3a\u79c1\u6709\u6210\u5458\u51fd\u6570\u7684\u4f8b\u5b50\uff09\u3002</p> <p>\u5982\u679c\u6d3e\u751f\u7c7b\u4f7f\u7528\u4e86\u7ee7\u627f\u6784\u9020\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u5c31\u4e0d\u4f1a\u518d\u4e3a\u6d3e\u751f\u7c7b\u751f\u6210\u9690\u5f0f\u5b9a\u4e49\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <ul> <li>\u901a\u8fc7 <code>using Base::Base</code> \u6765\u7ee7\u627f\u6784\u9020\u51fd\u6570\u6709\u9650\u5236\uff0c\u53ef\u80fd\u9700\u8981\u6d3e\u751f\u7c7b\u5728\u57fa\u7c7b\u57fa\u7840\u4e4b\u5916\u6ca1\u6709\u6ca1\u6709\u65b0\u7684\u6570\u636e\u6210\u5458\uff0c\u4f46\u662f\u6d3e\u751f\u7c7b\u53ef\u4ee5\u6709\u65b0\u7684\u65b9\u6cd5\uff1a</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\n    int data;\npublic:\n    Base(int i): data(i) { cout &lt;&lt; \"Base::Base(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    int a;\n    using Base::Base; // \u76f8\u5f53\u4e8e Derive(int i): Base(i) { };\n};\n\nint main() {\n    Derive obj(356);\n    cout &lt;&lt; obj.a &lt;&lt; endl;\n    return 0;\n} // g++ 1.cpp \u2013o 1.out -std=c++11\n</code></pre> <p>\u5f53 <code>a</code> \u4e0d\u5c31\u5730\u521d\u59cb\u5316\u65f6\uff0c\u901a\u8fc7 <code>using Base::Base</code> \u6765\u7684\u6784\u9020\u51fd\u6570\u4f1a\u4f7f\u5f97 <code>a</code> \u7684\u503c\u5b8c\u5168\u4e0d\u786e\u5b9a\uff0c\u800c\u5c31\u5730\u521d\u59cb\u5316\u5316\u540e\u53ef\u4ee5\u786e\u5b9a\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_17","title":"\u4e24\u7c7b\u7ee7\u627f\u65b9\u5f0f\u7684\u9009\u62e9","text":""},{"location":"languages/c-oop/combination-and-derivation/#public","title":"<code>public</code> \u7ee7\u627f","text":"<p>\u57fa\u7c7b\u4e2d\u516c\u6709\u6210\u5458\u4ecd\u80fd\u5728\u6d3e\u751f\u7c7b\u4e2d\u4fdd\u6301\u516c\u6709\u3002\u539f\u63a5\u53e3\u53ef\u6cbf\u7528\uff0c\u6700\u5e38\u7528\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#private","title":"<code>private</code> \u7ee7\u627f","text":"<p>is-implementing-in-terms-of\uff08\u7167\u6b64\u5b9e\u73b0\uff09\uff1a\u7528\u57fa\u7c7b\u63a5\u53e3\u5b9e\u73b0\u6d3e\u751f\u7c7b\u529f\u80fd\u3002\u79fb\u9664\u4e86 is-a \u5173\u7cfb\u3002</p> <p>\u901a\u5e38\u4e0d\u4f7f\u7528\uff0c\u7528 <code>private</code> \u7ec4\u5408\u66ff\u4ee3\u3002\u53ef\u7528\u4e8e\u9690\u85cf\u6216\u516c\u5f00\u57fa\u7c7b\u7684\u90e8\u5206\u63a5\u53e3\u3002\u516c\u5f00\u65b9\u6cd5\uff1a<code>using</code> \u5173\u952e\u5b57\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_18","title":"\u6210\u5458\u8bbf\u95ee\u6743\u9650","text":"<p>\u57fa\u7c7b\u4e2d\u7684\u79c1\u6709\u6210\u5458\uff0c\u4e0d\u5141\u8bb8\u5728\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u8bbf\u95ee\uff0c\u4e5f\u4e0d\u5141\u8bb8\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u8bbf\u95ee\u5b83\u4eec\uff0c\u4ec5\u5141\u8bb8\u57fa\u7c7b\u7684\u516c\u5f00\u63a5\u53e3\u8bbf\u95ee\u4ed6\u4eec\uff0c\u4f46\u662f\u57fa\u7c7b\u7684\u516c\u5f00\u63a5\u53e3\u5728\u4e0d\u540c\u7684\u7ee7\u627f\u5f53\u4e2d\u8bbf\u95ee\u6743\u9650\u4e0d\u540c\u3002\uff08\u7ec4\u5408\u5f53\u4e2d\u4e5f\u662f\u5982\u6b64\uff09</p> <p>\u90a3\u4e48\u5982\u4f55\u8bbf\u95ee\u57fa\u7c7b\u4e2d\u7684\u79c1\u6709\u6210\u5458\uff1f</p> <p></p> <p>\u60c5\u51b5\u4e00\uff0c<code>public</code> \u7ee7\u627f\u3002\u6d3e\u751f\u7c7b\u5bf9\u8c61\u548c\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u57fa\u7c7b\u7684\u516c\u5f00\u63a5\u53e3\u4ece\u800c\u8bbf\u95ee\u57fa\u7c7b\u79c1\u6709\u6210\u5458\u3002</p> <p></p> <p>\u60c5\u51b5\u4e8c\uff0c<code>private</code> \u7ee7\u627f\u3002\u548c <code>private</code> \u7ec4\u5408\u540c\u7406\uff0c\u5728\u7c7b\u5916\u65e2\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u7684 <code>private</code> \u6210\u5458\uff0c\u4e5f\u65e0\u6cd5\u8bbf\u95ee\u57fa\u7c7b\u7684 <code>public</code> \u6210\u5458\uff08\u56e0\u4e3a\u7ee7\u627f\u4e4b\u540e\u88ab\u79c1\u6709\u5316\u4e86\uff09\u3002</p> <p>\u4efb\u4f55\u7ee7\u627f\u5f53\u4e2d\uff0c\u57fa\u7c7b\u7684 <code>private</code> \u6210\u5458\u90fd\u65e0\u6cd5\u88ab\u6d3e\u751f\u7c7b\u7684\u5171\u6709\u63a5\u53e3\u8bbf\u95ee\uff0c\u4ec5\u4ec5\u53ef\u4ee5\u88ab\u57fa\u7c7b\u7684\u5171\u6709\u90e8\u5206\u8bbf\u95ee\u3002<code>private</code> \u7ee7\u627f\u4e2d\uff0c\u57fa\u7c7b\u7684 <code>public</code> \u63a5\u53e3\u4e0d\u80fd\u6d3e\u751f\u7c7b\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\uff0c\u4f46\u662f\u53ef\u4ee5\u88ab\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u7684\u5171\u6709\u63a5\u53e3\u53ef\u4ee5\u8bbf\u95ee\u3002</p> <p>\u6545\u800c\u6211\u4eec\u5148\u8bbe\u7f6e\u57fa\u7c7b\u7684\u516c\u6709\u63a5\u53e3\u8bbf\u95ee\u57fa\u7c7b\u7684\u79c1\u6709\u6210\u5458\uff0c\u63a5\u7740\u8bbe\u8ba1\u6d3e\u751f\u7c7b\u7684\u516c\u6709\u63a5\u53e3\u8bbf\u95ee\u57fa\u7c7b\u7684\u516c\u6709\u63a5\u53e3\uff0c\u4ece\u800c\u95f4\u63a5\u5b9e\u73b0\u4e86\u8bbf\u95ee\u57fa\u7c7b\u7684\u79c1\u6709\u6210\u5458\u3002</p> <p>\u8bbf\u95ee\u57fa\u7c7b\u79c1\u6709\u90e8\u5206\u53ea\u80fd\u901a\u8fc7\u57fa\u7c7b\u7684 <code>public</code> \u63a5\u53e3\u5b9e\u73b0\u3002<code>private</code> \u7ee7\u627f\u65f6\uff0c\u57fa\u7c7b <code>public</code> \u63a5\u53e3\u4ec5\u53ef\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u8bbf\u95ee\uff0c\u4ece\u800c\u8bbf\u95ee\u57fa\u7c7b\u79c1\u6709\u90e8\u5206\u9700\u8981\u4e24\u6b21\u95f4\u63a5\u8bbf\u95ee\u3002\u800c <code>public</code> \u7ee7\u627f\u65f6\uff0c\u57fa\u7c7b <code>public</code> \u63a5\u53e3\u5bf9\u6d3e\u751f\u7c7b\u51fd\u6570\u548c\u7c7b\u5916\u51fd\u6570\u90fd\u662f\u5f00\u653e\u7684\u3002\u53ef\u4ee5\u6d3e\u751f\u7c7b\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b <code>public</code> \u63a5\u53e3\uff0c\u4e5f\u53ef\u4ee5\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u6210\u5458\u51fd\u6570\u8bbf\u95ee\u57fa\u7c7b <code>public</code> \u63a5\u53e3\u3002</p> <ul> <li>\u57fa\u7c7b\u4e2d\u7684\u516c\u6709\u6210\u5458</li> </ul> <p>\u5141\u8bb8\u5728\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u88ab\u8bbf\u95ee\u3002</p> <p>\u82e5\u662f\u4f7f\u7528 <code>public</code> \u7ee7\u627f\u65b9\u5f0f\uff0c\u5219\u6210\u4e3a\u6d3e\u751f\u7c7b\u516c\u6709\u6210\u5458\uff0c\u53ef\u4ee5\u88ab\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u8bbf\u95ee\uff0c\u4e5f\u53ef\u4ee5\u88ab\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u8bbf\u95ee\u3002</p> <p>\u82e5\u662f\u4f7f\u7528 <code>private</code>/<code>protected</code> \u7ee7\u627f\u65b9\u5f0f\uff0c\u5219\u6210\u4e3a\u6d3e\u751f\u7c7b\u79c1\u6709/\u4fdd\u62a4\u6210\u5458\uff0c\u4e0d\u80fd\u5728\u7c7b\u5916\u76f4\u63a5\u8bbf\u95ee\u3002\u82e5\u60f3\u8ba9\u67d0 <code>public</code> \u6210\u5458\u6570\u636e\u5728 <code>private</code>/<code>protected</code> \u7ee7\u627f\u540e\u80fd\u88ab\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u8bbf\u95ee\uff0c\u53ef\u5728\u6d3e\u751f\u7c7b <code>public</code> \u90e8\u5206\u7528\u5173\u952e\u5b57 <code>using</code> \u58f0\u660e\u5b83\u7684\u540d\u5b57\uff08<code>.h</code> \u6587\u4ef6\u91cc\uff09\u3002\u6216\u8005\u6309\u7167\u4e0a\u6587\u8bbe\u8ba1\u6d3e\u751f\u7c7b\u7684\u5171\u6709\u63a5\u53e3\u8bbf\u95ee\u57fa\u7c7b\u7684 <code>public</code> \u6210\u5458\uff0c\u4f46\u662f\u4e5f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u57fa\u7c7b\u7684 <code>public</code> \u6210\u5458\u3002</p> <p>\u6240\u8c13\u4e0d\u80fd\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u8bbf\u95ee\uff1a\u8fd9\u91cc\u662f\u6307\u76f4\u63a5\u5728\u7c7b\u5916\u901a\u8fc7 <code>obj.data</code> \u7684\u65b9\u5f0f\u8bbf\u95ee\uff0c\u800c\u4e0d\u662f\u8bf4\u4e0d\u53ef\u4ee5\u901a\u8fc7\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u51fd\u6570\u6765\u8bbf\u95ee\u3002</p> <ul> <li>\u57fa\u7c7b\u4e2d\u7684\u4fdd\u62a4\u6210\u5458</li> </ul> <p>\u4fdd\u62a4\u6210\u5458\u5141\u8bb8\u5728\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u88ab\u8bbf\u95ee\uff0c\u4f46\u4e0d\u80fd\u88ab\u5916\u90e8\u51fd\u6570\u8bbf\u95ee\uff0c\u4e5f\u4e0d\u5141\u8bb8\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002</p> <p>\u4f8b\u5b50</p> <ul> <li><code>public</code> \u76f4\u63a5\u7ee7\u627f\u57fa\u7c7b\u5171\u6709\u63a5\u53e3</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic: \n    void baseFunc() { cout &lt;&lt; \"in Base::baseFunc()...\" &lt;&lt; endl; }\n};\n\nclass Derive1: public Base { }; // D1 \u7c7b\u7684\u7ee7\u627f\u65b9\u5f0f\u662f public \u7ee7\u627f\n\nint main() {\n    Derive1 obj1; \n    cout &lt;&lt; \"calling obj1.baseFunc()...\" &lt;&lt; endl;\n    obj1.baseFunc(); // \u57fa\u7c7b\u63a5\u53e3\u6210\u4e3a\u6d3e\u751f\u7c7b\u63a5\u53e3\u7684\u4e00\u90e8\u5206\uff0c\u6d3e\u751f\u7c7b\u5bf9\u8c61\u53ef\u8c03\u7528\n    return 0;\n}\n\n/*\noutput:\ncalling obj1.baseFunc()...\nin Base::baseFunc()...\n*/\n</code></pre> <ul> <li><code>private</code> \u95f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u5171\u6709\u63a5\u53e3</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic: \n    void baseFunc() { cout &lt;&lt; \"in Base::baseFunc()...\" &lt;&lt; endl; }\n};\n\nclass Derive2: private Base { // \u79c1\u6709\u7ee7\u627f\uff0c\u7528\u57fa\u7c7b\u63a5\u53e3\u5b9e\u73b0\u6d3e\u751f\u7c7b\u529f\u80fd\npublic:\n    void deriveFunc() {\n        cout &lt;&lt; \u201cin Derive2::deriveFunc(), calling Base::baseFunc()...\" &lt;&lt; endl;\n        baseFunc(); // \u79c1\u6709\u7ee7\u627f\u65f6\uff0c\u57fa\u7c7b\u63a5\u53e3\u5728\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u53ef\u4ee5\u4f7f\u7528\n    }\n};\n\nint main() {\n    Derive2 obj2; \n    cout &lt;&lt; \"calling obj2.deriveFunc()...\" &lt;&lt; endl;\n    obj2.deriveFunc(); \n    // obj2.baseFunc(); // ERROR: \u4e0d\u5141\u8bb8\u5728\u7c7b\u5916\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u63a5\u53e3\n    return 0;\n}\n</code></pre> <ul> <li><code>private</code> \u7ee7\u627f\u7ed3\u5408 <code>using</code> \u542f\u7528\u57fa\u7c7b\u5171\u6709\u63a5\u53e3</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic: \n    void baseFunc() { cout &lt;&lt; \"in Base::baseFunc()...\" &lt;&lt; endl; }\n};\n\nclass Derive3: private Base { // \u79c1\u6709\u7ee7\u627f\npublic:\n    // \u79c1\u6709\u7ee7\u627f\u65f6\uff0c\u5728\u6d3e\u751f\u7c7b public \u90e8\u5206\u58f0\u660e\u57fa\u7c7b\u6210\u5458\u540d\u5b57\n    using Base::baseFunc; \n};\n\nint main() {\n    Derive3 obj3;\n    cout &lt;&lt; \"calling obj3.baseFunc()...\" &lt;&lt; endl;\n    obj3.baseFunc(); // \u57fa\u7c7b\u63a5\u53e3\u5728\u6d3e\u751f\u7c7b public \u90e8\u5206\u58f0\u660e\uff0c\u5219\u6d3e\u751f\u7c7b\u5bf9\u8c61\u53ef\u8c03\u7528\n    return 0;\n}\n</code></pre> <ul> <li>\u4fdd\u62a4\u6210\u5458\u7684\u8bbf\u95ee</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\nprivate:\n    int a {0};\nprotected:\n    int b {0};\n};\n\nclass Derive: private Base {\npublic:\n    void getA() { cout &lt;&lt; a &lt;&lt; endl; } // \u7f16\u8bd1\u9519\u8bef\uff0c\u4e0d\u53ef\u8bbf\u95ee\u57fa\u7c7b\u4e2d\u79c1\u6709\u6210\u5458\n    void getB() { cout &lt;&lt; b &lt;&lt; endl; } // \u53ef\u4ee5\u8bbf\u95ee\u57fa\u7c7b\u4e2d\u4fdd\u62a4\u6210\u5458\n};\n\nint main() {\n    Derive d;\n    d.getB();\n    // cout &lt;&lt; d.b; // \u7f16\u8bd1\u9519\u8bef\uff0c\u6d3e\u751f\u7c7b\u5bf9\u8c61\u4e0d\u53ef\u8bbf\u95ee\u57fa\u7c7b\u4e2d\u4fdd\u62a4\u6210\u5458\n    return 0;\n}\n</code></pre> <p>\u5c0f\u7ed3\uff1a</p> <ul> <li> <p><code>public</code> \u7ee7\u627f\uff1a\u57fa\u7c7b\u7684\u516c\u6709\u6210\u5458\uff0c\u4fdd\u62a4\u6210\u5458\uff0c\u79c1\u6709\u6210\u5458\u4f5c\u4e3a\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u65f6\uff0c\u90fd\u4fdd\u6301\u539f\u6709\u7684\u72b6\u6001\u3002</p> </li> <li> <p><code>private</code> \u7ee7\u627f\uff1a\u57fa\u7c7b\u7684\u516c\u6709\u6210\u5458\uff0c\u4fdd\u62a4\u6210\u5458\uff0c\u79c1\u6709\u6210\u5458\u4f5c\u4e3a\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u65f6\uff0c\u90fd\u4f5c\u4e3a\u79c1\u6709\u6210\u5458\u3002</p> </li> <li> <p><code>protected</code> \u7ee7\u627f\uff1a\u57fa\u7c7b\u7684\u516c\u6709\u6210\u5458\uff0c\u4fdd\u62a4\u6210\u5458\u4f5c\u4e3a\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u65f6\uff0c\u90fd\u6210\u4e3a\u4fdd\u62a4\u6210\u5458\uff0c\u57fa\u7c7b\u7684\u79c1\u6709\u6210\u5458\u4ecd\u7136\u662f\u79c1\u6709\u7684\u3002</p> </li> </ul> <p></p>"},{"location":"languages/c-oop/combination-and-derivation/#_19","title":"\u603b\u7ed3","text":"<ul> <li> <p>\u5148\u7406\u6e05\u695a\u57fa\u7c7b\u7684 <code>public</code> \u7684\u8bbf\u95ee\u6743\u9650\uff1a</p> <ul> <li>\u57fa\u7c7b\u7684 <code>public</code> \u5728 <code>private</code> \u7ee7\u627f\u4e2d\u6210\u4e3a <code>private</code>\uff0c\u4ec5\u5141\u8bb8\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u51fd\u6570\u8bbf\u95ee\uff0c\u4e0d\u5141\u8bb8\u6d3e\u751f\u7c7b\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002</li> <li>\u57fa\u7c7b\u7684 <code>public</code> \u5728 <code>protected</code> \u7ee7\u627f\u4e2d\u6210\u4e3a <code>protected</code>\uff0c\u4ec5\u5141\u8bb8\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u51fd\u6570\u8bbf\u95ee\uff0c\u4e0d\u5141\u8bb8\u6d3e\u751f\u7c7b\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002</li> <li>\u57fa\u7c7b\u7684 <code>public</code> \u5728 <code>public</code> \u7ee7\u627f\u4e2d\u8fd8\u662f <code>public</code>\uff0c\u53ef\u4ee5\u5728\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u8bbf\u95ee\uff0c\u4e5f\u53ef\u4ee5\u6d3e\u751f\u7c7b\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002</li> </ul> </li> <li> <p>\u4e4b\u540e\u662f\u57fa\u7c7b\u7684 <code>private</code> \u7684\u8bbf\u95ee\u6743\u9650\uff1a</p> <ul> <li>\u57fa\u7c7b\u7684 <code>private</code>\uff0c\u5728\u4e09\u79cd\u7ee7\u627f\u65b9\u5f0f\u4e2d\u5747\u662f <code>private</code>\uff0c\u53ea\u80fd\u901a\u8fc7\u57fa\u7c7b\u7684 <code>public</code> \u51fd\u6570\u8bbf\u95ee\uff0c\u4e0d\u53ef\u4ee5\u6d3e\u751f\u7c7b\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002\u57fa\u7c7b\u7684 <code>public</code> \u51fd\u6570\u5728\u4e09\u79cd\u7ee7\u627f\u65b9\u5f0f\u4e2d\u8bbf\u95ee\u6743\u9650\u4e0d\u540c\u3002<code>public</code> \u7ee7\u627f\uff0c\u5219\u57fa\u7c7b\u7684 <code>public</code> \u51fd\u6570\u53ef\u4ee5\u7c7b\u5916\u76f4\u63a5\u8bbf\u95ee\u3002<code>protected</code> \u548c <code>private</code> \u7ee7\u627f\uff0c\u57fa\u7c7b\u7684 <code>public</code> \u51fd\u6570\u53ea\u5141\u8bb8\u6d3e\u751f\u7c7b\u51fd\u6570\u8bbf\u95ee\u3002</li> </ul> </li> <li> <p>\u6700\u540e\u662f\u57fa\u7c7b\u7684 <code>protected</code> \u7684\u8bbf\u95ee\u6743\u9650\uff1a</p> <ul> <li>\u57fa\u7c7b\u7684 <code>protected</code> \u5f88\u7b80\u5355\uff0c\u4e09\u79cd\u7ee7\u627f\u90fd\u662f\u5fc5\u7136\u5141\u8bb8\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u51fd\u6570\u8bbf\u95ee\uff0c\u4e0d\u5141\u8bb8\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002\u57fa\u7c7b\u7684 <code>protected</code> \u5728 <code>public</code> \u4e0e <code>protected</code> \u7ee7\u627f\u4e2d\u8fd8\u662f <code>protected</code>\uff0c\u4f46\u5728 <code>private</code> \u7ee7\u627f\u540e\u867d\u7136\u662f <code>private</code> \u5c5e\u6027\uff0c\u4f46\u4e5f\u5141\u8bb8\u57fa\u7c7b\u7684 <code>public</code> \u51fd\u6570\u4e0e\u6d3e\u751f\u7c7b\u7684 <code>public</code> \u51fd\u6570\u8bbf\u95ee\uff0c\u4e0d\u80fd\u5bf9\u8c61\u76f4\u63a5\u8bbf\u95ee\u3002</li> </ul> </li> <li> <p>\u5355\u72ec\u8ba8\u8bba <code>protected</code> \u7ee7\u627f\uff1a</p> <ul> <li><code>protected</code> \u7ee7\u627f\u4f1a\u4f7f\u5f97\u57fa\u7c7b\u7684 <code>public</code> \u548c <code>protected</code> \u6210\u4e3a <code>protected</code>\uff0c\u53ea\u80fd\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u8bbf\u95ee\u3002\u800c <code>private</code> \u7ecf\u8fc7 <code>protected</code> \u7ee7\u627f\uff0c\u8fd8\u662f\u53ea\u80fd\u57fa\u7c7b\u7684 <code>public</code> \u51fd\u6570\u8bbf\u95ee\uff0c\u800c\u57fa\u7c7b\u7684 <code>public</code> \u6210\u5458\u51fd\u6570\u53ea\u80fd\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u8bbf\u95ee\uff0c\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u6b64\u65f6\u7684\u57fa\u7c7b <code>private</code> \u6570\u636e\u3002</li> </ul> </li> </ul> \u4f8b\u9898 <p></p> <p><code>protected</code> \u5bf9\u8c61\u4e0d\u53ef\u7c7b\u5916\u8bbf\u95ee\uff0c\u4f46\u662f\u53ef\u4ee5\u88ab\u7ee7\u627f\u7c7b\u7684\u6210\u5458\u51fd\u6570\u8bbf\u95ee\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_20","title":"\u7ec4\u5408\u4e0e\u7ee7\u627f\u7684\u5173\u7cfb","text":"<p>\u4f18\u70b9\uff1a\u652f\u6301\u589e\u91cf\u5f00\u53d1\uff0c\u5f15\u5165\u65b0\u4ee3\u7801\u800c\u4e0d\u5f71\u54cd\u5df2\u6709\u4ee3\u7801\u6b63\u786e\u6027\u3002</p> <p>\u76f8\u4f3c\u70b9\uff1a\u5b9e\u73b0\u4ee3\u7801\u91cd\u7528\u3002\u5c06\u5b50\u5bf9\u8c61\u5f15\u5165\u65b0\u7c7b\uff0c\u4f7f\u7528\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u6210\u5458\u5217\u8868\u521d\u59cb\u5316\u3002</p> <p>\u4e0d\u540c\u70b9\uff1a</p> <ul> <li>\u7ec4\u5408\u3002\u5d4c\u5165\u4e00\u4e2a\u5bf9\u8c61\u4ee5\u5b9e\u73b0\u65b0\u7c7b\u7684\u529f\u80fd\uff0chas-a \u5173\u7cfb\uff0c\u65e0\u91cd\u5199\u9690\u85cf\u3002</li> <li>\u7ee7\u627f\u3002\u6cbf\u7528\u5df2\u5b58\u5728\u7684\u7c7b\u63d0\u4f9b\u7684\u63a5\u53e3\uff0cis-a \u4e0e is-implementing-in-terms-of\uff0c\u6709\u91cd\u5199\u9690\u85cf\u3002</li> </ul>"},{"location":"languages/c-oop/combination-and-derivation/#_21","title":"\u91cd\u8f7d\u4e0e\u91cd\u5199\u9690\u85cf","text":""},{"location":"languages/c-oop/combination-and-derivation/#_22","title":"\u5b9a\u4e49","text":"<ul> <li>\u91cd\u8f7d\uff08\u82f1\u8bed\uff1aoverload\uff09</li> </ul> <p>\u76ee\u7684\uff1a\u63d0\u4f9b\u540c\u540d\u51fd\u6570\u7684\u4e0d\u540c\u5b9e\u73b0\uff0c\u5c5e\u4e8e\u9759\u6001\u591a\u6001\u3002</p> <p>\u51fd\u6570\u540d\u5fc5\u987b\u76f8\u540c\uff0c\u51fd\u6570\u53c2\u6570\u5fc5\u987b\u4e0d\u540c\uff0c\u4f5c\u7528\u57df\u76f8\u540c\uff08\u5982\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7c7b\u4e2d\u6216\u540c\u540d\u5168\u5c40\u51fd\u6570\uff09\u3002</p> <ul> <li>\u91cd\u5199\u9690\u85cf\uff08\u82f1\u8bed\uff1aredefining\uff09</li> </ul> <p>\u76ee\u7684\uff1a\u5728\u6d3e\u751f\u7c7b\u4e2d\u91cd\u65b0\u5b9a\u4e49\u57fa\u7c7b\u51fd\u6570\uff0c\u5b9e\u73b0\u6d3e\u751f\u7c7b\u7684\u7279\u6b8a\u529f\u80fd\u3002</p> <p>\u5c4f\u853d\u4e86\u57fa\u7c7b\u7684\u6240\u6709\u5176\u5b83\u540c\u540d\u51fd\u6570\u3002</p> <p>\u51fd\u6570\u540d\u5fc5\u987b\u76f8\u540c\uff0c\u51fd\u6570\u53c2\u6570\u53ef\u4ee5\u4e0d\u540c\u3002</p> <p>\u7ec4\u5408\u4e0d\u4f1a\u53d1\u751f\u91cd\u5199\u9690\u85cf\uff0c\u4f46\u662f\u7ee7\u627f\u4f1a\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Wheel {\npublic:\n    void inflate() {\n        cout &lt;&lt; \"Wheel::inflate\" &lt;&lt; endl;\n    }\n\n    void start() {\n        cout &lt;&lt; \"Wheel::start\" &lt;&lt; endl;\n    }\n};\n\nclass Engine {\npublic:\n    void start() {\n        cout &lt;&lt; \"Engine::start\" &lt;&lt; endl;\n    }\n\n    void stop() { }\n};\n\nclass Car {\npublic:\n    Engine engine;\n    Wheel wheel[4];\n    void start() {\n        cout &lt;&lt; \"Car::start\" &lt;&lt; endl;\n    }\n};\n\nint main() {\n    Car car;\n    car.wheel[0].inflate();   \n    car.engine.start();\n    car.wheel[2].start();\n    car.start();\n    return 0;\n}\n\n/*\noutput:\nWheel::inflate\nEngine::start\nWheel::start\nCar::start\n*/\n</code></pre> <p>\u5728\u7ec4\u5408\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u5bf9\u4e8e\u6bcf\u4e00\u7c7b\u7684\u540c\u540d\u51fd\u6570\u8c03\u7528\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Pet {\npublic:\n    void eat() { cout &lt;&lt; \"Pet eat\" &lt;&lt; endl; }\n    void sleep() { cout &lt;&lt; \"Pet sleep\" &lt;&lt; endl; }\n};\n\nclass Duck: public Pet {\npublic:\n    void eat() { cout &lt;&lt; \"Duck eat\" &lt;&lt; endl; }\n};\n\nint main() {\n    Duck duck;\n    duck.eat();\n    duck.sleep();\n    return 0;\n}\n\n/*\noutput:\nDuck eat\nPet sleep\n*/\n</code></pre> <p>\u7136\u800c\u5728\u7ee7\u627f\u4e2d\uff0c\u5f88\u660e\u663e <code>Pet</code> \u7c7b\u7684 <code>eat</code> \u51fd\u6570\u88ab\u6d3e\u751f\u7c7b\u91cd\u5b9a\u4e49\uff0c\u65e0\u6cd5\u88ab\u8c03\u7528\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass T { };\nclass Base {\npublic:\n    void f() { cout &lt;&lt; \"B::f()\\n\"; }\n    void f(int i) { cout &lt;&lt; \"Base::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; } // \u91cd\u8f7d\n    void f(double d) { cout &lt;&lt; \"Base::f(\" &lt;&lt; d &lt;&lt; \")\\n\"; } // \u91cd\u8f7d\n    void f(T) { cout &lt;&lt; \"Base::f(T)\\n\"; } // \u91cd\u8f7d\n};\n\nclass Derive: public Base {\npublic:\n    void f(int i) { cout &lt;&lt; \"Derive::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; } // \u91cd\u5199\u9690\u85cf\n};\n\nint main() {\n    Derive d;\n    d.f(10);\n    d.f(4.9); // \u7f16\u8bd1\u8b66\u544a\u3002\u6267\u884c\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u3002\n    // d.f(); // \u88ab\u5c4f\u853d\uff0c\u7f16\u8bd1\u9519\u8bef\n    // d.f(T()); //  \u88ab\u5c4f\u853d\uff0c\u7f16\u8bd1\u9519\u8bef\n    return 0;\n}\n</code></pre> <p>\u5728 <code>retexter_gcc</code> \u7f16\u8bd1\u5668\u4e0a\u65e0\u6cd5\u8b66\u544a\uff0c\u4f46\u662f\u4f7f\u7528 <code>clang</code> \u7f16\u8bd1\u5668\u7684\u8b66\u544a\u5982\u4e0b\uff1a</p> <pre><code>1869255217/source.cpp:18:7: warning: implicit conversion from 'double' to 'int' changes value from 4.9 to 4 [-Wliteral-conversion]\n  d.f(4.9);           \n    ~ ^~~\n1 warning generated.\n</code></pre>"},{"location":"languages/c-oop/combination-and-derivation/#using","title":"<code>using</code> \u4e00\u5e76\u4f7f\u7528","text":"<p>\u548c\u5bf9\u6784\u9020\u51fd\u6570\u7684\u7ee7\u627f\u4e00\u6837\uff0c<code>using</code> \u53ef\u4ee5\u4e00\u5e76\u542f\u7528\u6240\u6709\u88ab\u91cd\u5199\u8986\u76d6\u7684\u540c\u540d\u51fd\u6570\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass T { };\nclass Base {\npublic:\n    void f() { cout &lt;&lt; \"Base::f()\\n\"; }\n    void f(int i) { cout &lt;&lt; \"Base::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n    void f(double d) { cout &lt;&lt; \"Base::f(\" &lt;&lt; d &lt;&lt; \")\\n\"; }\n    void f(T) { cout &lt;&lt; \"Base::f(T)\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    using Base::f;\n    void f(int i) { cout &lt;&lt; \"Derive::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n};\n\nint main() {\n    Derive d;\n    d.f(10);\n    d.f(4.9);\n    d.f();\n    d.f(T());\n    return 0;\n}\n\n/*\noutput:\nDerive::f(10)\nBase::f(4.9)\nBase::f()\nBase::f(T)\n*/\n</code></pre> <p>\u5e76\u4e14\u6ce8\u610f\u5230\uff0c<code>Derive</code> \u548c <code>Base</code> \u90fd\u6709 <code>void f(int i)</code> \u51fd\u6570\uff0c\u6b64\u5904\u6ca1\u6709\u53d1\u751f\u91cd\u5b9a\u4e49\uff0c\u800c\u662f\u8c03\u7528\u4e86\u6d3e\u751f\u7c7b\u7684 <code>void f(int i)</code>\u3002</p> <p>\u53e6\u5916\u4e00\u79cd\u5728\u6d3e\u751f\u7c7b\u4e2d\u8c03\u7528\u57fa\u7c7b\u540c\u540d\u51fd\u6570\u7684\u65b9\u6cd5\u662f\u76f4\u63a5\u4f7f\u7528\u5bf9\u5e94\u7684\u7c7b\u540d\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\npublic:\n    void print() { cout &lt;&lt; \"Base::print()\" &lt;&lt; endl; }\n};\n\nclass Derive: public Base {\npublic:\n    void print() { cout &lt;&lt; \"Derive::print()\" &lt;&lt; endl; }\n};\n\nvoid fun(Base obj) { obj.print(); }\n\nint main() {\n    Derive d;\n    d.Base::print();    \n    fun(d); \n    return 0;\n}\n\n/*\noutput:\nBase::print()\nBase::print()\n*/\n</code></pre> <p>\u6b64\u5904\u8c03\u7528 <code>d.Base::print()</code> \u6ca1\u6709\u5bfc\u81f4\u4efb\u4f55\u4e00\u4e2a\u540c\u540d\u51fd\u6570\u88ab\u8986\u76d6\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_23","title":"\u603b\u7ed3","text":"<p>\u6240\u8c13\u7684\u91cd\u5199\u9690\u85cf\u5176\u5b9e\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u8c03\u7528\u4f18\u5148\u7ea7\u95ee\u9898\u3002\u6d3e\u751f\u7c7b\u9ed8\u8ba4\u4f18\u5148\u8c03\u7528\u81ea\u8eab\u7684\u51fd\u6570\u3002\u5982\u679c\u4e0d\u542f\u7528 <code>using</code> \u5173\u952e\u5b57\uff0c\u90a3\u4e48\u9664\u975e\u4f7f\u7528\u7c7b\u540d\uff0c\u5426\u5219\u65e0\u6cd5\u8c03\u7528\u57fa\u7c7b\u7684\u51fd\u6570\uff0c\u54ea\u6015\u53d1\u751f\u7c7b\u578b\u8f6c\u6362\u63d0\u793a warning \u4e5f\u8981\u4f18\u5148\u8c03\u7528\u81ea\u8eab\u7684\u51fd\u6570\u3002\u800c\u542f\u7528\u4e86 <code>using</code> \u5173\u952e\u5b57\u540e\uff0c\u4e0d\u4f7f\u7528\u547d\u540d\u7a7a\u95f4\u65f6\uff0c\u4ecd\u7136\u4f18\u5148\u8c03\u7528\u81ea\u8eab\u7684\u51fd\u6570\u3002\u4f46\u662f\u4e0d\u540c\u4e8e\u6ca1\u6709\u542f\u7528 <code>using</code> \u5173\u952e\u5b57\u7684\u65f6\u5019\uff0c\u6b64\u65f6\u5982\u679c\u65e0\u6cd5\u76f4\u63a5\u8c03\u7528\u81ea\u8eab\u7684\u51fd\u6570\uff08\u6bd4\u5982\u9700\u8981\u7c7b\u578b\u8f6c\u6362\uff09\uff0c\u90a3\u4e48\u54ea\u6015\u5f3a\u5236\u4f7f\u7528\u6d3e\u751f\u7c7b\u7684\u7c7b\u540d\u4e5f\u4f1a\u8c03\u7528\u57fa\u7c7b\u7684\u51fd\u6570\u3002</p> <p>\u6b64\u5904\u542f\u7528 <code>using</code> \u5173\u952e\u5b57\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass T { };\nclass Base {\npublic:\n    void f() { cout &lt;&lt; \"Base::f()\\n\"; }\n    void f(int i) { cout &lt;&lt; \"Base::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n    void f(double d) { cout &lt;&lt; \"Base::f(\" &lt;&lt; d &lt;&lt; \")\\n\"; }\n    void f(T) { cout &lt;&lt; \"Base::f(T)\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    using Base::f;\n    void f(int i) { cout &lt;&lt; \"Derive::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n};\n\nint main() {\n    Derive d;\n    d.f(10);\n    d.Base::f(10);\n    d.f(4.9);\n    d.Derive::f(4.9);\n    d.f();\n    d.f(T());\n    return 0;\n}\n\n/*\noutput:\nDerive::f(10)\nBase::f(10)\nBase::f(4.9)\nBase::f(4.9)\nBase::f()\nBase::f(T)\n*/\n</code></pre> <p>\u6b64\u5904\u4e0d\u542f\u7528 <code>using</code> \u5173\u952e\u5b57\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass T { };\nclass Base {\npublic:\n    void f() { cout &lt;&lt; \"Base::f()\\n\"; }\n    void f(int i) { cout &lt;&lt; \"Base::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n    void f(double d) { cout &lt;&lt; \"Base::f(\" &lt;&lt; d &lt;&lt; \")\\n\"; }\n    void f(T) { cout &lt;&lt; \"Base::f(T)\\n\"; }\n};\n\nclass Derive: public Base {\npublic:\n    void f(int i) { cout &lt;&lt; \"Derive::f(\" &lt;&lt; i &lt;&lt; \")\\n\"; }\n};\n\nint main() {\n    Derive d;\n    d.f(10);\n    d.Base::f(10);\n    d.f(4.9);\n    d.Base::f(4.9);\n    d.Base::f();\n    d.Base::f(T());\n    return 0;\n}\n\n/*\noutput:\nDerive::f(10)\nBase::f(10)\nDerive::f(4)\nBase::f(4.9)\nBase::f()\nBase::f(T)\n*/\n</code></pre> <p>\u4e0d\u542f\u7528 <code>using</code> \u5173\u952e\u5b57\u65f6\u76f4\u63a5\u8c03\u7528 <code>f()</code> \u548c <code>f(T)</code> \u662f\u4e0d\u5408\u6cd5\u7684\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#using_1","title":"<code>using</code> \u5173\u952e\u5b57\u4f5c\u7528\u603b\u7ed3","text":"<ol> <li>\uff08\u5728\u6d3e\u751f\u7c7b\u4e2d\uff09\u7ee7\u627f\u57fa\u7c7b\u6240\u6709\u6784\u9020\u51fd\u6570\u3001\u6062\u590d\u88ab\u5c4f\u853d\u7684\u6240\u6709\u540c\u540d\u57fa\u7c7b\u6210\u5458\u51fd\u6570</li> <li>\u6307\u793a\u547d\u540d\u7a7a\u95f4\uff0c\u5982 <code>using namespace std</code></li> <li>\u5c06\u53e6\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u7684\u6210\u5458\u5f15\u5165\u5f53\u524d\u547d\u540d\u7a7a\u95f4\uff0c\u5982 <code>using std::cout</code></li> <li>\u5b9a\u4e49\u7c7b\u578b\u522b\u540d\uff0c\u5982 <code>using a = int;</code></li> </ol> <p>\u4f8b\u9898\uff1a</p> <p></p> <p>D \u9009\u9879\uff0c\u6ce8\u610f\u5230 B \u4e2d\u53ea <code>using</code> \u4e86 A \u7684\u6784\u9020\u51fd\u6570\uff0c\u6ca1\u6709\u6062\u590d A \u7684 <code>f</code> \u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_24","title":"\u591a\u91cd\u7ee7\u627f","text":""},{"location":"languages/c-oop/combination-and-derivation/#_25","title":"\u5b9a\u4e49\u3001\u610f\u4e49\u548c\u6f5c\u5728\u98ce\u9669","text":"<p>\u6d3e\u751f\u7c7b\u540c\u65f6\u7ee7\u627f\u591a\u4e2a\u57fa\u7c7b\u3002</p> <p>\u683c\u5f0f\uff1a</p> <pre><code>class Derive: public MiddleA, public MiddleB { };\n</code></pre> <ul> <li>\u6570\u636e\u5b58\u50a8\u98ce\u9669</li> </ul> <p>\u5982\u679c\u6d3e\u751f\u7c7b <code>D</code> \u7ee7\u627f\u7684\u4e24\u4e2a\u57fa\u7c7b <code>A</code>\u3001<code>B</code>\uff0c\u662f\u540c\u4e00\u57fa\u7c7b <code>Base</code> \u7684\u4e0d\u540c\u7ee7\u627f\uff0c\u5219 <code>A</code>\u3001<code>B</code> \u4e2d\u7ee7\u627f\u81ea <code>Base</code> \u7684\u6570\u636e\u6210\u5458\u4f1a\u5728 <code>D</code> \u6709\u4e24\u4efd\u72ec\u7acb\u7684\u526f\u672c\uff0c\u53ef\u80fd\u5e26\u6765\u6570\u636e\u5197\u4f59\u3002</p> <ul> <li>\u4e8c\u4e49\u6027\u98ce\u9669</li> </ul> <p>\u5982\u679c\u6d3e\u751f\u7c7b <code>D</code> \u7ee7\u627f\u7684\u4e24\u4e2a\u57fa\u7c7b <code>A</code>\u3001<code>B</code>\uff0c\u6709\u540c\u540d\u6210\u5458\u51fd\u6570\u6216\u540c\u540d\u6210\u5458\u6570\u636e <code>a</code>\uff0c\u5219\u8bbf\u95ee <code>D</code> \u4e2d <code>a</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u65e0\u6cd5\u5224\u65ad\u8981\u8bbf\u95ee\u7684\u54ea\u4e00\u4e2a\u57fa\u7c7b\u6210\u5458\u3002</p> <p>\u4e8c\u4e49\u6027\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic:\n    int a {0};\n};\n\nclass MiddleA: public Base {\npublic:\n    void addA() { cout &lt;&lt; \"a=\" &lt;&lt; ++a &lt;&lt; endl; };\n    void bar() { cout &lt;&lt; \"A::bar\" &lt;&lt; endl; };\n};\n\nclass MiddleB: public Base {\npublic:\n    void addB() { cout &lt;&lt; \"a=\" &lt;&lt; ++a &lt;&lt; endl; };\n    void bar() { cout &lt;&lt; \"B::bar\" &lt;&lt; endl; };\n};\n\nclass Derive: public MiddleA, public MiddleB { };\n\nint main() {\n    Derive d;\n    d.bar();\n}\n\n/*\noutput:\nmain.cpp:22:7: error: member 'bar' found in multiple base classes of different types\n    d.bar();\n      ^\nmain.cpp:10:8: note: member found by ambiguous name lookup\n  void bar() { cout &lt;&lt; \"A::bar\" &lt;&lt; endl; };\n       ^\nmain.cpp:15:8: note: member found by ambiguous name lookup\n  void bar() { cout &lt;&lt; \"B::bar\" &lt;&lt; endl; };\n       ^\n1 error generated.\n*/\n</code></pre> <p>\u7a0d\u4f5c\u4fee\u6539\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\npublic:\n    int a {0};\n};\n\nclass MiddleA: public Base {\npublic:\n    void addA() { cout &lt;&lt; \"a=\" &lt;&lt; ++a &lt;&lt; endl; };\n    void abar() { cout &lt;&lt; \"A::bar\" &lt;&lt; endl; };\n};\nclass MiddleB: public Base {\npublic:\n    void addB() { cout &lt;&lt; \"a=\" &lt;&lt; ++a &lt;&lt; endl; };\n    void bbar() { cout &lt;&lt; \"B::bar\" &lt;&lt; endl; };\n};\n\nclass Derive: public MiddleA, public MiddleB { };\n\nint main() {\n    Derive d;\n    d.abar();\n    d.bbar();\n}\n\n/*\noutput:\nA::bar\nB::bar\n*/\n</code></pre> <p>\u53e6\u5916\u4e00\u4f8b\uff0c\u540c\u540d\u6210\u5458\u64cd\u4f5c\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic:\n    int a {0};\n};\n\nclass MiddleA: public Base {\npublic:\n    void addA() { cout &lt;&lt; \"a=\" &lt;&lt; ++a &lt;&lt; endl; };\n    void bar() { cout &lt;&lt; \"A::bar\" &lt;&lt; endl; };\n};\n\nclass MiddleB: public Base {\npublic:\n    void addB() { cout &lt;&lt; \"a=\" &lt;&lt; ++a &lt;&lt; endl; };\n    void bar() { cout &lt;&lt; \"B::bar\" &lt;&lt; endl; };\n};\n\nclass Derive: public MiddleA, public MiddleB { };\n\nint main() {\n    Derive d;\n    d.addA();\n    d.addB();\n    d.addB();\n    cout &lt;&lt; d.MiddleA::a &lt;&lt; endl; \n    cout &lt;&lt; d.MiddleB::a &lt;&lt; endl; \n    d.MiddleA::bar(); \n    d.MiddleB::bar(); \n    return 0;\n}\n\n/*\noutput:\na=1\na=1\na=2\n1\n2\nA::bar\nB::bar\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c\u591a\u91cd\u7ee7\u627f\u7684\u4e8c\u4e49\u6027\u5e76\u6ca1\u6709\u5bfc\u81f4\u91cd\u590d\u5b9a\u4e49\uff0c\u7f16\u8bd1\u5668\u901a\u8fc7\u547d\u540d\u7a7a\u95f4\u533a\u5206\u4e86\u4e8c\u8005\u4e0d\u540c\u7684 <code>a</code> \u4e0e <code>bar</code>\u3002\u4f46\u662f\u4e0d\u52a0\u547d\u540d\u7a7a\u95f4\uff0c\u5219\u65e0\u6cd5\u533a\u5206\u3002</p>"},{"location":"languages/c-oop/combination-and-derivation/#_26","title":"\u591a\u91cd\u7ee7\u627f\u7684\u6790\u6784\u987a\u5e8f","text":"<p>\u7ed3\u5408\u4e4b\u540e\u63d0\u5230\u7684\u865a\u51fd\u6570\uff0c\u591a\u91cd\u7ee7\u627f\u4e5f\u4f1a\u914d\u5408\u591a\u6001\u4f1a\u52a8\u6001\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u5148\u6790\u6784\u57fa\u7c7b\u90e8\u5206\uff0c\u518d\u6790\u6784\u6d3e\u751f\u7c7b\u90e8\u5206\u3002\u6790\u6784\u987a\u5e8f\u4e5f\u662f\u548c\u6784\u9020\u987a\u5e8f\u53cd\u5411\uff0c\u4f46\u662f\u6784\u9020\u987a\u5e8f\u662f\u6309\u7167\u7533\u660e\u987a\u5e8f\u6765\u7684\u3002\u6bd4\u5982\uff1a</p> <pre><code>// what.h\n#pragma once\nclass WhatCanSpeak {\npublic:\n    virtual ~WhatCanSpeak() { cout &lt;&lt; \"obj cannot speak\" &lt;&lt; endl; }\n    virtual void speak() = 0;  \n    virtual void stop() = 0;  \n};\n\nclass WhatCanMotion {\npublic:\n    virtual ~WhatCanMotion() { cout &lt;&lt; \"obj cannot move\" &lt;&lt; endl; }\n    virtual void motion() = 0;\n    virtual void stop() = 0;  \n};\n\n// main.cpp\n#include \"what.h\"\nclass Alien: public WhatCanMotion, public WhatCanSpeak {\npublic:\n    std::string name;\n    Alien(std::string x): name(x) { }\n    void speak() { std::cout &lt;&lt; name &lt;&lt; \" is speaking\" &lt;&lt; std::endl; }\n    void stop() { std::cout &lt;&lt; name &lt;&lt; \" stops\" &lt;&lt; std::endl; }\n    void motion() {std::cout &lt;&lt; name &lt;&lt; \" is moving\" &lt;&lt; std::endl; }\n    ~Alien() { };\n};\n</code></pre> <p>\u5bf9\u4e8e <code>Alien</code> \u7684\u6790\u6784\u662f\u6784\u9020\u7684\u53cd\u5411\u3002\u800c\u6784\u9020\u662f\u5148\u6784\u9020 <code>WhatCanMotion</code>\uff0c\u4e4b\u540e <code>WhatCanSpeak</code>\uff0c\u6700\u540e\u518d\u662f\u6d3e\u751f\u7c7b\u90e8\u5206\uff0c\u6545\u800c\u6790\u6784\u987a\u5e8f\u662f\u5148\u6d3e\u751f\u7c7b\uff0c\u4e4b\u540e <code>WhatCanSpeak</code>\uff0c\u6700\u540e <code>WhatCanMotion</code>\u3002</p>"},{"location":"languages/c-oop/environment/","title":"\u7f16\u7a0b\u73af\u5883","text":"<p>\u4ece\u5355\u4e2a C++ \u4ee3\u7801\u6587\u4ef6\u5230\u591a\u4e2a C++ \u4ee3\u7801\u6587\u4ef6</p> <p>\u5728\u8bb2\u89e3\u9762\u5411\u5bf9\u8c61\u8fd9\u4e2a\u7f16\u7a0b\u6982\u5ff5\u4e4b\u524d\uff0c\u6211\u4eec\u8ba4\u4e3a\u6709\u5fc5\u8981\u7b80\u5355\u4ecb\u7ecd\u6211\u4eec\u662f\u5982\u4f55\u4ece C++ \u4ee3\u7801\u6587\u4ef6\u5f97\u5230\u53ef\u6267\u884c\u6587\u4ef6\u7684\uff0c\u4ee5\u53ca\u5982\u4f55\u7f16\u8bd1\u591a\u4e2a C++ \u4ee3\u7801\u6587\u4ef6\u3002\u7b80\u5355\u4e86\u89e3\u8fd9\u4e9b\u77e5\u8bc6\u6709\u52a9\u4e8e\u8bfb\u8005\u540e\u7eed\u7406\u89e3\u3002</p>"},{"location":"languages/c-oop/environment/#_2","title":"\u6e90\u7a0b\u5e8f\u7684\u7ed3\u6784\u4e0e\u9884\u7f16\u8bd1","text":""},{"location":"languages/c-oop/environment/#_3","title":"\u6e90\u7a0b\u5e8f\u7684\u7ed3\u6784","text":"<p>\u4e00\u4e2a\u7ecf\u5178\u7684 C++ \u4ee3\u7801\u6587\u4ef6\u7684\u7ed3\u6784\u4e3a\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std; // \u5934\u6587\u4ef6\u4e0e\u7f16\u8bd1\u6307\u4ee4\n\nint add(int a, int b) { return a + b; } // \u8f85\u52a9\u51fd\u6570\u5b9a\u4e49\n\nint main() { // \u4e3b\u51fd\u6570\u5b9a\u4e49\n    cout &lt;&lt; add(3, 4);\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/environment/#_4","title":"\u9884\u7f16\u8bd1\u6307\u4ee4","text":"<p>\u5b9a\u4e49</p> <p>\u4e0a\u6587\u4ee3\u7801\u4e2d\u63d0\u53ca\u7684\u201c\u5934\u6587\u4ef6\u4e0e\u7f16\u8bd1\u6307\u4ee4\u201d\u4e2d\u7684\u7f16\u8bd1\u6307\u4ee4\u5b9e\u9645\u4e0a\u662f\u9884\u7f16\u8bd1\u6307\u4ee4\u7684\u610f\u601d\uff0c\u800c\u9884\u7f16\u8bd1\u4e0e\u9884\u5904\u7406\u662f\u540c\u4e00\u6982\u5ff5\u3002</p> <p>C/C++ \u7f16\u8bd1\u7cfb\u7edf\u7f16\u8bd1\u7a0b\u5e8f\u7684\u8fc7\u7a0b\u4e3a\u9884\u7f16\u8bd1\u3001\u7f16\u8bd1\u3001\u94fe\u63a5\u3002\u9884\u5904\u7406\u5668\u5728\u7a0b\u5e8f\u6e90\u6587\u4ef6\u88ab\u7f16\u8bd1\u4e4b\u524d\u6839\u636e\u9884\u5904\u7406\u6307\u4ee4\u5bf9\u7a0b\u5e8f\u6e90\u6587\u4ef6\u8fdb\u884c\u5904\u7406\u3002</p> <p>\u800c\u9884\u5904\u7406\u5668\u6307\u4ee4\u4ee5 <code>#</code> \u53f7\u5f00\u5934\u6807\u8bc6\uff0c\u5e76\u4e0d\u662f\u4e00\u53e5\u6307\u4ee4\uff0c\u672b\u5c3e\u4e0d\u5305\u542b\u5206\u53f7\u3002\u9884\u5904\u7406\u547d\u4ee4\u4e0d\u662f C/C++ \u8bed\u8a00\u672c\u8eab\u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e0d\u80fd\u76f4\u63a5\u5bf9\u5b83\u4eec\u8fdb\u884c\u7f16\u8bd1\u548c\u94fe\u63a5\u3002C/C++ \u8bed\u8a00\u7684\u4e00\u4e2a\u91cd\u8981\u529f\u80fd\u662f\u53ef\u4ee5\u4f7f\u7528\u9884\u5904\u7406\u6307\u4ee4\u548c\u5177\u6709\u9884\u5904\u7406\u7684\u529f\u80fd\u3002\u4e8c\u8005\u63d0\u4f9b\u7684\u9884\u5904\u7406\u529f\u80fd\u4e3b\u8981\u6709\u6587\u4ef6\u5305\u542b\u3001\u5b8f\u66ff\u6362\u3001\u6761\u4ef6\u7f16\u8bd1\u7b49\u3002</p> <p>\u6587\u4ef6\u5305\u542b</p> <p>\u9884\u5904\u7406\u6307\u4ee4 <code>#include</code> \u5c06\u88ab\u5305\u542b\u7684\u6587\u4ef6\u4ee3\u7801\uff0c\u76f4\u63a5\u590d\u5236\u5230\u5f53\u524d\u6587\u4ef6\uff0c\u4e00\u822c\u88ab\u7528\u4e8e\u5305\u542b\u5934\u6587\u4ef6\uff08\u5b9e\u9645\u4e5f\u80fd\u5305\u542b\u4efb\u610f\u4ee3\u7801\uff09\u3002\u6709\u4e24\u79cd\u5f62\u5f0f\uff1a<code>#include &lt;xxx.h&gt;</code> \u4ee5\u53ca <code>#include \"xxx.h\"</code>\u3002\u5c16\u62ec\u53f7\u5f62\u5f0f\u8868\u793a\u88ab\u5305\u542b\u7684\u6587\u4ef6\u5728\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u5982\u679c\u88ab\u5305\u542b\u7684\u6587\u4ef6\u4e0d\u4e00\u5b9a\u5728\u7cfb\u7edf\u76ee\u5f55\u4e2d\uff0c\u5e94\u8be5\u7528\u53cc\u5f15\u53f7\u5f62\u5f0f\uff08\u6ce8\u610f\u5230\u662f\u5e94\u8be5\u7528\uff0c\u4e0d\u662f\u6700\u597d\u7528\uff09\u3002</p> <p>\u5728\u53cc\u5f15\u53f7\u5f62\u5f0f\u4e2d\u53ef\u4ee5\u6307\u51fa\u6587\u4ef6\u8def\u5f84\u548c\u6587\u4ef6\u540d\u3002\u5982\u679c\u5728\u53cc\u5f15\u53f7\u4e2d\u6ca1\u6709\u7ed9\u51fa\u7edd\u5bf9\u8def\u5f84\uff0c\u5219\u9ed8\u8ba4\u4e3a\u7528\u6237\u5f53\u524d\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\uff0c\u6b64\u65f6\u7cfb\u7edf\u9996\u5148\u5728\u7528\u6237\u5f53\u524d\u76ee\u5f55\u4e2d\u5bfb\u627e\u8981\u5305\u542b\u7684\u6587\u4ef6\uff0c\u82e5\u627e\u4e0d\u5230\u518d\u5728\u7cfb\u7edf\u76ee\u5f55\u4e2d\u67e5\u627e\u3002\u5bf9\u4e8e\u7528\u6237\u81ea\u5df1\u7f16\u5199\u7684\u5934\u6587\u4ef6\uff0c\u5e94\u7528\u53cc\u5f15\u53f7\u5f62\u5f0f\u3002\u5bf9\u4e8e\u7cfb\u7edf\u63d0\u4f9b\u7684\u5934\u6587\u4ef6\uff0c\u65e2\u53ef\u4ee5\u7528\u5c16\u62ec\u53f7\u5f62\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u7528\u53cc\u5f15\u53f7\u5f62\u5f0f\uff0c\u90fd\u80fd\u627e\u5230\u88ab\u5305\u542b\u7684\u6587\u4ef6\uff0c\u4f46\u4f7f\u7528\u7528\u5c16\u62ec\u53f7\u5f62\u5f0f\u66f4\u76f4\u622a\u4e86\u5f53\uff0c\u6548\u7387\u66f4\u9ad8\u3002</p> <p>\u5b8f\u66ff\u6362</p> <ul> <li>\u610f\u4e49</li> </ul> <p><code>#define</code> \u662f C++ \u8bed\u8a00\u4e2d\u7684\u4e00\u4e2a\u9884\u7f16\u8bd1\u6307\u4ee4\uff0c\u5b83\u7528\u6765\u5c06\u4e00\u4e2a\u6807\u8bc6\u7b26\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8be5\u6807\u8bc6\u7b26\u88ab\u79f0\u4e3a\u5b8f\u540d\uff0c\u88ab\u5b9a\u4e49\u7684\u5b57\u7b26\u4e32\u79f0\u4e3a\u66ff\u6362\u6587\u672c\u3002\u5728\u7a0b\u5e8f\u88ab\u7f16\u8bd1\u524d\uff0c\u5148\u5c06\u5b8f\u540d\u7528\u88ab\u5b9a\u4e49\u7684\u5b57\u7b26\u4e32\u66ff\u6362\uff0c\u8fd9\u79f0\u4e3a\u5b8f\u66ff\u6362\uff0c\u66ff\u6362\u540e\u624d\u8fdb\u884c\u7f16\u8bd1\uff0c\u5b8f\u66ff\u6362\u662f\u7b80\u5355\u7684\u66ff\u6362\u3002</p> <ul> <li>\u5b8f\u5b9a\u4e49</li> </ul> <p>\u5b8f\u5b9a\u4e49\u5305\u62ec\u65e0\u53c2\u6570\u5b8f\u5b9a\u4e49\u548c\u5e26\u53c2\u6570\u5b8f\u5b9a\u4e49\u4e24\u7c7b\u3002\u5b8f\u540d\u548c\u5b8f\u53c2\u6570\u6240\u4ee3\u8868\u7684\u4ee3\u7801\u5e8f\u5217\u53ef\u4ee5\u662f\u4efb\u4f55\u610f\u4e49\u7684\u5185\u5bb9\uff0c\u5982\u7c7b\u578b\u3001\u5e38\u91cf\u3001\u53d8\u91cf\u3001\u64cd\u4f5c\u7b26\u3001\u8868\u8fbe\u5f0f\u3001\u8bed\u53e5\u3001\u51fd\u6570\u3001\u4ee3\u7801\u5757\u7b49\u3002\u4f46\u662f\u5b8f\u540d\u548c\u5b8f\u53c2\u6570\u5fc5\u987b\u662f\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\uff0c\u5176\u6240\u4ee3\u8868\u7684\u5185\u5bb9\u53ca\u610f\u4e49\u5728\u5b8f\u5c55\u5f00\u524d\u540e\u5fc5\u987b\u4e00\u76f4\u662f\u72ec\u7acb\u4e14\u4fdd\u6301\u4e0d\u53d8\u7684\uff0c\u4e0d\u80fd\u5206\u5f00\u89e3\u91ca\u548c\u6267\u884c\u3002</p> <ul> <li>\u65e0\u53c2\u6570\u5b8f</li> </ul> <p>\u7528\u4e00\u4e2a\u7528\u6237\u6307\u5b9a\u7684\u79f0\u4e3a\u5b8f\u540d\u7684\u6807\u8bc6\u7b26\u6765\u4ee3\u8868\u4e00\u4e2a\u4ee3\u7801\u5e8f\u5217\uff0c\u8fd9\u79cd\u5b9a\u4e49\u7684\u4e00\u822c\u5f62\u5f0f\u4e3a <code>#define \u6807\u8bc6\u7b26 \u4ee3\u7801\u5e8f\u5217</code>\u3002\u5176\u4e2d <code>#define</code> \u4e4b\u540e\u7684\u6807\u8bc6\u7b26\u79f0\u4e3a\u5b8f\u5b9a\u4e49\u540d\uff08\u7b80\u79f0\u5b8f\u540d\uff09\uff0c\u5728\u5b8f\u5b9a\u4e49 <code>#define</code> \u4e4b\u524d\u53ef\u4ee5\u6709\u82e5\u5e72\u4e2a\u7a7a\u683c\u3001\u5236\u8868\u7b26\uff0c\u4f46\u4e0d\u5141\u8bb8\u6709\u5176\u5b83\u5b57\u7b26\uff0c\u5b8f\u540d\u4e0e\u4ee3\u7801\u5e8f\u5217\u4e4b\u95f4\u7528\u7a7a\u683c\u7b26\u5206\u9694\u3002\u4f8b\u5982\uff1a</p> <pre><code>#define PI 3.1415926535\n</code></pre> <p>\u5728 C++ \u4e2d\uff0c\u8fd9\u79cd\u66ff\u6362\u4e00\u822c\u88ab <code>const</code> \u53d6\u4ee3\uff0c\u8fdb\u800c\u80fd\u4fdd\u8bc1\u7c7b\u578b\u7684\u6b63\u786e\u6027\u3002</p> <pre><code>const double PI = 3.1415926535\n</code></pre> <ul> <li>\u5e26\u53c2\u6570\u5b8f</li> </ul> <p>\u5e26\u53c2\u6570\u5b8f\u5b9a\u4e49\u8fdb\u4e00\u6b65\u6269\u5145\u4e86\u65e0\u53c2\u6570\u5b8f\u5b9a\u4e49\u7684\u80fd\u529b\uff0c\u8fd9\u65f6\u7684\u5b8f\u5c55\u5f00\u65e2\u8fdb\u884c\u5b8f\u540d\u7684\u66ff\u6362\u53c8\u8fdb\u884c\u5b8f\u53c2\u6570\u7684\u66ff\u6362\u3002\u5e26\u53c2\u6570\u7684\u5b8f\u5b9a\u4e49\u7684\u4e00\u822c\u5f62\u5f0f\u4e3a <code>#define \u6807\u8bc6\u7b26(\u53c2\u6570\u8868) \u4ee3\u7801\u5e8f\u5217</code>\uff0c\u5176\u4e2d\u53c2\u6570\u8868\u4e2d\u7684\u53c2\u6570\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5728\u4ee3\u7801\u5e8f\u5217\u4e2d\u5fc5\u987b\u8981\u5305\u542b\u53c2\u6570\u8868\u4e2d\u7684\u7684\u53c2\u6570\u3002\u5728\u5b9a\u4e49\u5e26\u53c2\u6570\u7684\u5b8f\u65f6\uff0c\u5b8f\u540d\u4e0e\u5de6\u5706\u62ec\u53f7\u4e4b\u95f4\u4e0d\u5141\u8bb8\u6709\u7a7a\u767d\u7b26\uff0c\u5e94\u7d27\u63a5\u5728\u4e00\u8d77\uff0c\u5426\u5219\u53d8\u6210\u4e86\u65e0\u53c2\u6570\u7684\u5b8f\u5b9a\u4e49\u3002\u5e26\u53c2\u6570\u5b8f\u8c03\u7528\u63d0\u4f9b\u7684\u5b9e\u5728\u53c2\u6570\u4e2a\u6570\u5fc5\u987b\u4e0e\u5b8f\u5b9a\u4e49\u4e2d\u7684\u5f62\u5f0f\u53c2\u6570\u4e2a\u6570\u76f8\u540c\u3002\u4f8b\u5982\uff1a</p> <pre><code>#define sqr(x) ((x) * (x))\nsqr(3 + 2); // ((3 + 2) * (3 + 2));\n</code></pre> <p>\u5728 C++ \u4e2d\uff0c\u8fd9\u79cd\u66ff\u4ee3\u4e00\u822c\u88ab\u5185\u8054\u51fd\u6570\u53d6\u4ee3\uff0c\u8fdb\u800c\u80fd\u4fdd\u8bc1\u7c7b\u578b\u7684\u6b63\u786e\u6027\u3002\u5185\u8054\u51fd\u6570\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u8bb2\u89e3\u3002</p> <pre><code>inline double sqr(double x) { return x * x; }\n</code></pre> <ul> <li>\u5b8f\u4f5c\u7528\u57df</li> </ul> <p>\u5b8f\u5b9a\u4e49\u7684\u6709\u6548\u8303\u56f4\u79f0\u4e3a\u5b8f\u540d\u7684\u4f5c\u7528\u57df\uff0c\u5b8f\u540d\u7684\u4f5c\u7528\u57df\u4ece\u5b8f\u5b9a\u4e49\u7684\u7ed3\u675f\u5904\u5f00\u59cb\u5230\u5176\u6240\u5728\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u672b\u5c3e\u3002\u5b8f\u540d\u7684\u4f5c\u7528\u57df\u4e0d\u53d7\u5206\u7a0b\u5e8f\u7ed3\u6784\u7684\u5f71\u54cd\u3002\u5982\u679c\u9700\u8981\u7ec8\u6b62\u5b8f\u540d\u7684\u4f5c\u7528\u57df\uff0c\u53ef\u4ee5\u7528\u9884\u5904\u7406\u6307\u4ee4 <code>#undef</code> \u52a0\u4e0a\u5b8f\u540d\u3002</p> <ul> <li>\u5b8f\u5c55\u5f00</li> </ul> <p>\u9884\u5904\u7406\u5668\u5728\u5904\u7406\u5b8f\u5b9a\u4e49\u65f6\uff0c\u4f1a\u5bf9\u5b8f\u8fdb\u884c\u5c55\u5f00\uff08\u5373\u5b8f\u66ff\u6362\uff09\u3002\u5b8f\u66ff\u6362\u9996\u5148\u5c06\u6e90\u6587\u4ef6\u4e2d\u5728\u5b8f\u5b9a\u4e49\u968f\u540e\u6240\u6709\u51fa\u73b0\u7684\u5b8f\u540d\u5747\u7528\u5176\u6240\u4ee3\u8868\u7684\u4ee3\u7801\u5e8f\u5217\u66ff\u6362\u4e4b\uff0c\u5982\u679c\u662f\u5e26\u53c2\u6570\u5b8f\u5219\u63a5\u7740\u5c06\u4ee3\u7801\u5e8f\u5217\u4e2d\u7684\u5b8f\u5f62\u53c2\u540d\u66ff\u6362\u4e3a\u5b8f\u5b9e\u53c2\u540d\u3002</p> <p>\u5b8f\u66ff\u6362\u53ea\u4f5c\u4ee3\u7801\u5b57\u7b26\u5e8f\u5217\u7684\u66ff\u6362\u5de5\u4f5c\uff0c\u4e0d\u4f5c\u4efb\u4f55\u8bed\u6cd5\u7684\u68c0\u67e5\uff0c\u4e5f\u4e0d\u4f5c\u4efb\u4f55\u7684\u4e2d\u95f4\u8ba1\u7b97\uff0c\u4e00\u5207\u5176\u5b83\u64cd\u4f5c\u90fd\u8981\u5728\u66ff\u6362\u5b8c\u540e\u624d\u80fd\u8fdb\u884c\u3002\u5982\u679c\u5b8f\u5b9a\u4e49\u4e0d\u5f53\uff0c\u9519\u8bef\u8981\u5230\u9884\u5904\u7406\u4e4b\u540e\u7684\u7f16\u8bd1\u9636\u6bb5\u624d\u80fd\u53d1\u73b0\u3002 \u6e90\u4ee3\u7801\u4e2d\u7684\u5b8f\u540d\u548c\u5b8f\u5b9a\u4e49\u4ee3\u7801\u5e8f\u5217\u4e2d\u7684\u5b8f\u5f62\u53c2\u540d\u5fc5\u987b\u662f\u6807\u8bc6\u7b26\u624d\u4f1a\u88ab\u66ff\u6362\uff0c\u5373\u53ea\u66ff\u6362\u6807\u8bc6\u7b26\uff0c\u4e0d\u66ff\u6362\u522b\u7684\u4e1c\u897f\uff0c\u50cf\u6ce8\u91ca\u3001\u5b57\u7b26\u4e32\u5e38\u91cf\u4ee5\u53ca\u6807\u8bc6\u7b26\u5185\u51fa\u73b0\u7684\u5b8f\u540d\u6216\u5b8f\u5f62\u53c2\u540d\u5219\u4e0d\u4f1a\u88ab\u66ff\u6362\u3002\u4f8b\u5982\u4e0b\u5217\u5b8f\uff1a</p> <pre><code>#define NAME vrmozart\n</code></pre> <p>\u5b8f\u66ff\u6362\u4e0d\u4f1a\u66ff\u6362\u6389 <code>// NAME</code>\u3001<code>/* NAME */</code>\u3001<code>\"NAME\"</code>\u3001<code>my_NAME_blog</code> \u4e2d\u7684 <code>NAME</code>\u3002</p> <p>\u6807\u8bc6\u7b26\u7684\u6982\u5ff5\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u9610\u8ff0\u3002</p> <ul> <li>\u5b8f\u7684\u72ec\u7acb\u6027</li> </ul> <p>\u524d\u6587\u63d0\u53ca\uff0c\u5b8f\u540d\u548c\u5b8f\u5f62\u53c2\u540d\u6240\u4ee3\u8868\u7684\u5185\u5bb9\u53ca\u610f\u4e49\u5728\u5b8f\u5c55\u5f00\u524d\u540e\u5fc5\u987b\u4e00\u76f4\u662f\u72ec\u7acb\u4e14\u4fdd\u6301\u4e0d\u53d8\u7684\uff0c\u4e0d\u80fd\u5206\u5f00\u89e3\u91ca\u548c\u6267\u884c\u3002\u7136\u800c\uff0c\u5728\u5b8f\u8c03\u7528\u65f6\uff0c\u9884\u5904\u7406\u5668\u7528\u5b8f\u5b9a\u4e49\u7684\u4ee3\u7801\u5e8f\u5217\u66ff\u6362\u5b8f\u540d\uff0c\u7528\u5b8f\u5b9e\u53c2\u540d\u66ff\u6362\u5b8f\u5f62\u53c2\u540d\u3002\u66ff\u6362\u540e\uff0c\u5b8f\u5b9a\u4e49\u7684\u4ee3\u7801\u5e8f\u5217\u5c31\u4e0e\u6e90\u6587\u4ef6\u4e2d\u76f8\u90bb\u7684\u4ee3\u7801\u81ea\u7136\u8fde\u63a5\uff0c\u5b8f\u5b9e\u53c2\u540d\u4e5f\u4e0e\u4ee3\u7801\u5e8f\u5217\u4e2d\u76f8\u90bb\u7684\u4ee3\u7801\u81ea\u7136\u8fde\u63a5\uff0c\u5b8f\u5b9a\u4e49\u7684\u4ee3\u7801\u5e8f\u5217\u548c\u5b8f\u5b9e\u53c2\u540d\u7684\u72ec\u7acb\u6027\u5c31\u4e0d\u4e00\u5b9a\u4f9d\u65e7\u5b58\u5728\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u5e0c\u671b\u4f7f\u7528\u4e0b\u5217\u5b8f\u5b9e\u73b0\u5e73\u65b9\u64cd\u4f5c\uff1a</p> <pre><code>#define SQR(x) x * x\n</code></pre> <p>\u5bf9\u4e8e\u5b8f\u8c03\u7528 <code>p = SQR(y)</code>\uff0c\u80fd\u5f97\u5230\u5e0c\u671b\u7684\u5b8f\u5c55\u5f00 <code>p = y * y</code>\u3002\u4f46\u5bf9\u4e8e\u5b8f\u8c03\u7528 <code>q = SQR(u + v)</code>\uff0c\u5f97\u5230\u7684\u5b8f\u5c55\u5f00\u662f <code>q = u + v * u + v</code>\u3002\u663e\u7136\uff0c\u540e\u8005\u7684\u5c55\u5f00\u7ed3\u679c\u4e0d\u662f\u7a0b\u5e8f\u8bbe\u8ba1\u8005\u6240\u5e0c\u671b\u7684\u3002\u4e3a\u80fd\u4fdd\u6301\u5b8f\u5b9e\u53c2\u540d\u66ff\u6362\u540e\u7684\u72ec\u7acb\u6027\uff0c\u5e94\u5728\u5b8f\u5b9a\u4e49\u4e2d\u7ed9\u5f62\u5f0f\u53c2\u6570\u52a0\u4e0a\u62ec\u53f7\u3002\u8fdb\u4e00\u6b65\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5b8f\u540d\u8c03\u7528\u7684\u72ec\u7acb\u6027\uff0c\u4f5c\u4e3a\u7b97\u5f0f\u7684\u5b8f\u5b9a\u4e49\u4ee3\u7801\u5e8f\u5217\u4e5f\u5e94\u52a0\u62ec\u53f7\u3002<code>SQR</code> \u5b8f\u5b9a\u4e49\u6539\u5199\u6210 <code>#define SQR(x) ((x) * (x))</code> \u624d\u662f\u6b63\u786e\u7684\u5b8f\u5b9a\u4e49\u3002\u5373\u4fbf\u5982\u6b64\uff0c\u8fd9\u6837\u7684\u5b8f\u5b9a\u4e49\u4f9d\u7136\u5f88\u5371\u9669\u3002</p> <ul> <li>\u5b8f\u8c03\u7528\u4e0e\u51fd\u6570\u8c03\u7528</li> </ul> <p>\u51fd\u6570\u8c03\u7528\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5b9e\u884c\uff0c\u800c\u5b8f\u5c55\u5f00\u662f\u5728\u7f16\u8bd1\u7684\u9884\u5904\u7406\u9636\u6bb5\u8fdb\u884c\u3002\u51fd\u6570\u8c03\u7528\u5360\u7528\u7a0b\u5e8f\u8fd0\u884c\u65f6\u95f4\uff0c\u5b8f\u8c03\u7528\u53ea\u5360\u7f16\u8bd1\u65f6\u95f4\u3002\u51fd\u6570\u8c03\u7528\u5bf9\u5b9e\u53c2\u6709\u7c7b\u578b\u8981\u6c42\uff0c\u800c\u5b8f\u8c03\u7528\u5b9e\u5728\u53c2\u6570\u4e0e\u5b8f\u5b9a\u4e49\u5f62\u5f0f\u53c2\u6570\u4e4b\u95f4\u6ca1\u6709\u7c7b\u578b\u7684\u6982\u5ff5\uff0c\u53ea\u6709\u5b57\u7b26\u5e8f\u5217\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u51fd\u6570\u8c03\u7528\u53ef\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u5b8f\u8c03\u7528\u83b7\u5f97\u5e0c\u671b\u7684\u4ee3\u7801\u5e8f\u5217\u3002</p> <ul> <li>\u5176\u4ed6\u6027\u8d28</li> </ul> <p>\u5b8f\u540d\u4e00\u822c\u7528\u5927\u5199\u5b57\u6bcd\uff0c\u4ee5\u4fbf\u4e0e\u53d8\u91cf\u540d\u533a\u522b\u3002\u5982\u6709\u5fc5\u8981\uff0c\u5b8f\u540d\u53ef\u88ab\u91cd\u590d\u5b9a\u4e49\uff0c\u88ab\u91cd\u590d\u5b9a\u4e49\u540e\uff0c\u5b8f\u540d\u539f\u5148\u7684\u610f\u4e49\u88ab\u65b0\u610f\u4e49\u6240\u4ee3\u66ff\u3002</p> <p>\u5b8f\u5b9a\u4e49\u4ee3\u7801\u5e8f\u5217\u4e2d\u53ef\u4ee5\u5f15\u7528\u5df2\u7ecf\u5b9a\u4e49\u7684\u5b8f\u540d\uff0c\u5373\u5b8f\u5b9a\u4e49\u53ef\u4ee5\u5d4c\u5957\u3002</p>"},{"location":"languages/c-oop/environment/#_5","title":"\u6761\u4ef6\u7f16\u8bd1\u6307\u4ee4","text":"<ul> <li>\u5b9a\u4e49</li> </ul> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5728\u8fdb\u884c\u7f16\u8bd1\u65f6\u5bf9\u6e90\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u4e00\u884c\u90fd\u8981\u7f16\u8bd1\uff0c\u4f46\u662f\u6709\u65f6\u5e0c\u671b\u7a0b\u5e8f\u4e2d\u67d0\u4e00\u90e8\u5206\u5185\u5bb9\u53ea\u5728\u6ee1\u8db3\u4e00\u5b9a\u6761\u4ef6\u65f6\u624d\u8fdb\u884c\u7f16\u8bd1\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0c\u5c31\u4e0d\u7f16\u8bd1\u8fd9\u90e8\u5206\u5185\u5bb9\uff0c\u8fd9\u5c31\u662f\u6761\u4ef6\u7f16\u8bd1\u3002\u6761\u4ef6\u7f16\u8bd1\u4e3b\u8981\u662f\u8fdb\u884c\u7f16\u8bd1\u65f6\u8fdb\u884c\u6709\u9009\u62e9\u7684\u6311\u9009\uff0c\u6ce8\u91ca\u6389\u4e00\u4e9b\u6307\u5b9a\u7684\u4ee3\u7801\uff0c\u4ee5\u8fbe\u5230\u591a\u4e2a\u7248\u672c\u63a7\u5236\u3001\u9632\u6b62\u5bf9\u6587\u4ef6\u91cd\u590d\u5305\u542b\u3002<code>#if</code>\u3001<code>#ifndef</code>\u3001<code>#ifdef</code>\u3001<code>#else</code>\u3001<code>#elif</code>\u3001<code>#endif</code> \u662f\u6bd4\u8f83\u5e38\u89c1\u6761\u4ef6\u7f16\u8bd1\u9884\u5904\u7406\u6307\u4ee4\uff0c\u53ef\u6839\u636e\u8868\u8fbe\u5f0f\u7684\u503c\u6216\u67d0\u4e2a\u7279\u5b9a\u5b8f\u662f\u5426\u88ab\u5b9a\u4e49\u6765\u786e\u5b9a\u7f16\u8bd1\u6761\u4ef6\u3002</p> <ul> <li>\u6307\u4ee4\u542b\u4e49</li> </ul> <p><code>#if</code> \u8868\u793a\u8868\u8fbe\u5f0f\u975e\u96f6\u5c31\u5bf9\u4ee3\u7801\u8fdb\u884c\u7f16\u8bd1\u3002<code>#ifdef</code> \u8868\u793a\u5982\u679c\u5b8f\u88ab\u5b9a\u4e49\u5c31\u8fdb\u884c\u7f16\u8bd1\u3002<code>#ifndef</code> \u8868\u793a\u5982\u679c\u5b8f\u672a\u88ab\u5b9a\u4e49\u5c31\u8fdb\u884c\u7f16\u8bd1\u3002<code>#else</code> \u4f5c\u4e3a\u5176\u5b83\u9884\u5904\u7406\u7684\u5269\u4f59\u9009\u9879\u3002<code>#elif</code> \u662f\u4e00\u79cd <code>#else</code> \u548c <code>#if</code> \u7684\u7ec4\u5408\u9009\u9879\u3002<code>#endif</code> \u7ed3\u675f\u7f16\u8bd1\u5757\u7684\u63a7\u5236\u3002</p> <ul> <li>\u9632\u6b62\u5934\u6587\u4ef6\u91cd\u590d\u5305\u542b</li> </ul> <p>\u6211\u4eec\u5148\u524d\u63d0\u5230\u8fc7 <code>#include</code> \u6307\u4ee4\u7684\u6548\u679c\u662f\u628a\u6e90\u6587\u4ef6\u76f4\u63a5\u590d\u5236\u5230\u6e90\u4ee3\u7801\u4e2d\uff0c\u90a3\u4e48\u8003\u8651\u8fd9\u6837\u7684\u591a\u6587\u4ef6\u3002\u5934\u6587\u4ef6 <code>A.h</code> \u4e2d\u5305\u542b\u4e86\u5934\u6587\u4ef6 <code>B.h</code>\uff1a</p> <pre><code>// A.h\n#include \"B.h\"\n/* A.h CODE */\n</code></pre> <p>\u800c\u4e3b\u6587\u4ef6\u540c\u65f6\u5305\u542b <code>A.h</code> \u548c <code>B.h</code>\uff1a</p> <pre><code>// main.cpp\n#include \"A.h\"\n#include \"B.h\"\n\nint main() { }\n</code></pre> <p>\u9884\u5904\u7406\u5668\u5904\u7406\u5230\u4e3b\u6587\u4ef6\u7684 <code>#include \"A.h\"</code> \u7684\u65f6\u5019\u76f4\u63a5\u5c06 <code>A.h</code> \u7684\u5185\u5bb9\u590d\u5236\u8fc7\u6765\uff1a</p> <pre><code>// main.cpp\n#include \"B.h\"\n/* A.h CODE */\n#include \"B.h\"\n\nint main() {  }\n</code></pre> <p>\u4f1a\u53d1\u73b0\u8fd9\u91cc\u51fa\u73b0\u4e86\u91cd\u590d\u5305\u542b\uff0c\u5982\u679c <code>B.h</code> \u4e2d\u6709\u51fd\u6570\u5b9a\u4e49\uff0c\u5219\u6709\u53ef\u80fd\u5bfc\u81f4\u51b2\u7a81\uff0c\u4ece\u800c\u65e0\u6cd5\u7f16\u8bd1\u6210\u529f\u3002\u90a3\u4e48\u4e3a\u4e86\u9632\u6b62\u8fd9\u6837\u7684\u5934\u6587\u4ef6\u91cd\u590d\u5305\u542b\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u6bcf\u4e00\u4e2a\u5934\u6587\u4ef6\u6309\u7167\u8fd9\u6837\u7684\u683c\u5f0f\u7f16\u5199\uff0c\u5982 <code>B.h</code>\uff1a</p> <pre><code>// B.h\n#ifndef B_H\n#define B_H\n\n/* B.h CODE */\n\n#endif // B_H\n</code></pre> <p>\u8fd9\u6837\u5373\u4f7f\u51fa\u73b0\u91cd\u590d\u5305\u542b\uff0c\u7531\u4e8e\u7b2c\u4e00\u6b21\u5305\u542b\u7684\u65f6\u5019 <code>B_H</code> \u5b8f\u5c31\u5df2\u7ecf\u5b9a\u4e49\u8fc7\u4e86\uff0c\u6240\u4ee5\u540e\u9762\u7684 <code>#ifndef</code> \u5c31\u4f1a\u4fdd\u8bc1 <code>B.h</code> \u7684\u4ee3\u7801\u4e0d\u4f1a\u518d\u6b21\u5305\u542b\u8fdb\u6765\u3002</p> <p>\u4e8b\u5b9e\u4e0a\u73b0\u5728\u66f4\u5e38\u7528\u7684\u9632\u6b62\u91cd\u590d\u5305\u542b\u7684\u9884\u7f16\u8bd1\u6307\u4ee4\u4e3a <code>#pragma once</code>\u3002</p> <ul> <li>\u9884\u5904\u7406\u5668\u8868\u8fbe\u5f0f</li> </ul> <p>\u9884\u5904\u7406\u5668\u8868\u8fbe\u5f0f\u5305\u62ec\u7684\u64cd\u4f5c\u7b26\u4e3b\u8981\u6d89\u53ca\u5230\u5355\u4e2a\u6570\u7684\u64cd\u4f5c\uff08<code>+</code>\u3001<code>-</code>\u3001<code>~</code>\u3001<code>&lt;&lt;</code>\u3001<code>&gt;&gt;</code>\uff09\u3001\u591a\u4e2a\u6570\u7684\u8fd0\u7b97\uff08<code>*</code>\u3001<code>/</code>\u3001<code>%</code>\u3001<code>+</code>\u3001<code>-</code>\u3001<code>&amp;</code>\u3001<code>^</code>\u3001<code>|</code>\uff09\u3001\u5173\u7cfb\u6bd4\u8f83\uff08<code>&lt;</code>\u3001<code>&lt;=</code>\u3001<code>&gt;</code>\u3001<code>&gt;=</code>\u3001<code>==</code>\u3001<code>!=</code>\uff09\u3001\u5b8f\u5b9a\u4e49\u5224\u65ad\uff08<code>defined</code>\uff09\u3001\u903b\u8f91\u64cd\u4f5c\uff08<code>!</code>\u3001<code>&amp;&amp;</code>\u3001<code>||</code>\uff09\uff0c\u5176\u4f18\u5148\u7ea7\u548c\u884c\u4e3a\u65b9\u5f0f\u4e0e C++ \u8868\u8fbe\u5f0f\u64cd\u4f5c\u7b26\u76f8\u540c\u3002\u9884\u5904\u7406\u5668\u8868\u8fbe\u5f0f\u5728\u7f16\u8bd1\u5668\u9884\u5904\u7406\u5668\u4e0a\u6267\u884c\uff0c\u5728\u7f16\u8bd1\u524d\u8fdb\u884c\u3002</p> <p>\u4f8b\u5982 <code>#ifndef</code> \u4e0e <code>#if !defined</code> \u610f\u4e49\u76f8\u540c\uff0c<code>#ifdef</code> \u4e0e <code>#if defined</code> \u610f\u4e49\u76f8\u540c\u3002</p>"},{"location":"languages/c-oop/environment/#_6","title":"\u5176\u5b83\u9884\u5904\u7406\u6307\u4ee4","text":"<p>\u9664\u4e86\u4e0a\u9762\u8ba8\u8bba\u7684\u5e38\u7528\u9884\u5904\u7406\u6307\u4ee4\u5916\uff0c\u8fd8\u6709\u4e09\u4e2a\u4e0d\u592a\u5e38\u89c1\u7684\u9884\u5904\u7406\u6307\u4ee4\uff1a<code>#line</code>\u3001<code>#error</code>\u3001<code>#pragma</code>\uff0c\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u3002</p> <ul> <li><code>#line</code></li> </ul> <p><code>#line</code> \u6307\u4ee4\u7528\u4e8e\u91cd\u65b0\u8bbe\u5b9a\u5f53\u524d\u7531 <code>__FILE__</code> \u548c <code>__LINE__</code> \u5b8f\u6307\u5b9a\u7684\u6e90\u6587\u4ef6\u540d\u5b57\u548c\u884c\u53f7\u3002<code>#line</code> \u4e00\u822c\u5f62\u5f0f\u4e3a <code>#line number \"filename\"</code>\uff0c\u5176\u4e2d\u884c\u53f7 <code>number</code> \u4e3a\u4efb\u4f55\u6b63\u6574\u6570\uff0c\u6587\u4ef6\u540d <code>filename</code> \u53ef\u9009\u3002<code>#line</code> \u4e3b\u8981\u7528\u4e8e\u8c03\u8bd5\u53ca\u5176\u5b83\u7279\u6b8a\u5e94\u7528\uff0c\u6ce8\u610f\u5728 <code>#line</code> \u540e\u9762\u6307\u5b9a\u7684\u884c\u53f7\u6570\u5b57\u662f\u8868\u793a\u4ece\u4e0b\u4e00\u884c\u5f00\u59cb\u7684\u884c\u53f7\u3002</p> <ul> <li><code>#error</code></li> </ul> <p><code>#error</code> \u6307\u4ee4\u4f7f\u9884\u5904\u7406\u5668\u53d1\u51fa\u4e00\u6761\u9519\u8bef\u6d88\u606f\uff0c\u7136\u540e\u505c\u6b62\u6267\u884c\u9884\u5904\u7406\u3002\u4e00\u822c\u5f62\u5f0f\u4e3a <code>#error info</code>\uff0c\u5982 <code>#error MFC requires C++ compilation</code>\u3002</p> <ul> <li><code>#pragma</code></li> </ul> <p><code>#pragma</code> \u6307\u4ee4\u53ef\u80fd\u662f\u6700\u590d\u6742\u7684\u9884\u5904\u7406\u6307\u4ee4\uff08\u4e5f\u6700\u65b9\u4fbf\uff09\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u8bbe\u5b9a\u7f16\u8bd1\u5668\u7684\u72b6\u6001\u6216\u6307\u793a\u7f16\u8bd1\u5668\u5b8c\u6210\u4e00\u4e9b\u7279\u5b9a\u7684\u52a8\u4f5c\u3002\u4e00\u822c\u5f62\u5f0f\u4e3a <code>#pragma para</code>\uff0c\u5176\u4e2d <code>para</code> \u4e3a\u53c2\u6570\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u7528\u7684\u53c2\u6570\u3002</p> <pre><code>- `#pragma once`\uff0c\u53ea\u8981\u5728\u5934\u6587\u4ef6\u7684\u6700\u5f00\u59cb\u52a0\u5165\u8fd9\u6761\u6307\u4ee4\u5c31\u80fd\u591f\u4fdd\u8bc1\u5934\u6587\u4ef6\u88ab\u7f16\u8bd1\u4e00\u6b21\u3002\n- `#pragma message(\"info\")`\uff0c\u5728\u7f16\u8bd1\u4fe1\u606f\u8f93\u51fa\u7a97\u53e3\u4e2d\u8f93\u51fa\u76f8\u5e94\u7684\u4fe1\u606f\uff0c\u4f8b\u5982 `#pragma message(\"Hello\")`\u3002\n- `#pragma warning`\uff0c\u8bbe\u7f6e\u7f16\u8bd1\u5668\u5904\u7406\u7f16\u8bd1\u8b66\u544a\u4fe1\u606f\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982 `#pragma warning(disable: 4507 34; once: 4385; error: 164)` \u8868\u793a\u4e0d\u663e\u793a 4507 \u548c 34 \u53f7\u8b66\u544a\u4fe1\u606f\u30014385 \u53f7\u8b66\u544a\u4fe1\u606f\u4ec5\u62a5\u544a\u4e00\u6b21\u3001\u628a 164 \u53f7\u8b66\u544a\u4fe1\u606f\u4f5c\u4e3a\u4e00\u4e2a\u9519\u8bef\u3002\n- `#pragma comment(...)`\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u6ce8\u91ca\u8bb0\u5f55\u5230\u5bf9\u8c61\u6587\u4ef6\u6216\u8005\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u3002\u5e38\u7528  `lib` \u6ce8\u91ca\u7c7b\u578b\uff0c\u7528\u6765\u5c06\u4e00\u4e2a\u5e93\u6587\u4ef6\u94fe\u63a5\u5230\u76ee\u6807\u6587\u4ef6\u4e2d\uff0c\u4e00\u822c\u5f62\u5f0f\u4e3a `#pragma comment(lib, \"*.lib\")`\uff0c\u5176\u4f5c\u7528\u4e0e\u5728\u9879\u76ee\u5c5e\u6027\u94fe\u63a5\u5668\u201c\u9644\u52a0\u4f9d\u8d56\u9879\u201d\u4e2d\u8f93\u5165\u5e93\u6587\u4ef6\u7684\u6548\u679c\u76f8\u540c\u3002\n</code></pre>"},{"location":"languages/c-oop/environment/#_7","title":"\u6807\u8bc6\u7b26","text":""},{"location":"languages/c-oop/environment/#_8","title":"\u5b9a\u4e49","text":"<p>\u6807\u8bc6\u7b26\u5373\u4e3a\u7f16\u7a0b\u7684\u65f6\u5019\u4f7f\u7528\u7684\u201c\u540d\u5b57\u201d, \u7ed9\u7c7b\u3001\u63a5\u53e3\u3001\u65b9\u6cd5\u3001\u53d8\u91cf\u3001\u5e38\u91cf\u540d\u7b49\u8d77\u540d\u5b57\u7684\u5b57\u7b26\u5e8f\u5217\u3002</p>"},{"location":"languages/c-oop/environment/#_9","title":"\u7ec4\u6210","text":"<p>\u82f1\u6587\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\uff08<code>_</code>\uff09\u548c\u7f8e\u5143\u7b26\u53f7\uff08<code>$</code>\uff09\u3002\u53ef\u4ee5\u4f7f\u7528\u6c49\u5b57\u6216\u5176\u4ed6\u5408\u6cd5\u5b57\u7b26\u547d\u540d\uff0c\u4f46\u662f\u4e0d\u63a8\u8350\u3002</p>"},{"location":"languages/c-oop/environment/#_10","title":"\u5b9a\u4e49\u89c4\u5219","text":"<p>\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4e0d\u80fd\u662f\u5173\u952e\u5b57\uff0c\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199\u3002\u53ef\u4ee5\u662f\u6c49\u5b57\u6216\u5176\u4ed6\u5408\u6cd5\u5b57\u7b26\u547d\u540d\uff0c\u4f46\u4e0d\u63a8\u8350\u3002</p>"},{"location":"languages/c-oop/environment/#_11","title":"\u547d\u540d\u89c4\u8303\uff08\u975e\u5f3a\u5236\uff09","text":"<ul> <li> <p>\u7c7b\u548c\u63a5\u53e3\u3002\u9996\u4e2a\u5b57\u6bcd\u5927\u5199\uff0c\u5982\u679c\u6709\u591a\u4e2a\u5355\u8bcd\uff0c\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u5927\u5199\u3002\u5982 <code>HelloWorld</code>\u3001<code>Student</code></p> </li> <li> <p>\u53d8\u91cf\u548c\u65b9\u6cd5\u3002\u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5982\u679c\u6709\u591a\u4e2a\u5355\u8bcd\uff0c\u4ece\u7b2c\u4e8c\u4e2a\u5355\u8bcd\u5f00\u59cb\u9996\u5b57\u6bcd\u5927\u5199\u3002\u5982 <code>getName</code>\u3001<code>studyJava</code></p> </li> <li> <p>\u5e38\u91cf\u540d\uff08\u81ea\u5b9a\u4e49\u5e38\u91cf\uff09\u3002\u6240\u6709\u5b57\u6bcd\u90fd\u5927\u5199\uff0c\u591a\u4e2a\u5355\u8bcd\u7528\u4e0b\u5212\u7ebf\u9694\u5f00\u3002\u5982 <code>MAX_VALUE</code></p> </li> </ul>"},{"location":"languages/c-oop/environment/#_12","title":"\u7f16\u8bd1\u4e0e\u94fe\u63a5","text":""},{"location":"languages/c-oop/environment/#_13","title":"\u8fc7\u7a0b","text":"<ul> <li> <p>\u9884\u5904\u7406\u3002\u9884\u5904\u7406\u5668\u5728\u7a0b\u5e8f\u6e90\u6587\u4ef6\u88ab\u7f16\u8bd1\u4e4b\u524d\u6839\u636e\u9884\u5904\u7406\u6307\u4ee4\u5bf9\u7a0b\u5e8f\u6e90\u6587\u4ef6\u8fdb\u884c\u5904\u7406\uff0cC/C++ \u4e3b\u8981\u7684\u9884\u5904\u7406\u529f\u80fd\u6709\u6587\u4ef6\u5305\u542b\u3001\u5b8f\u66ff\u6362\u3001\u6761\u4ef6\u7f16\u8bd1\u7b49\u3002</p> </li> <li> <p>\u7f16\u8bd1\u3002\u7f16\u8bd1\u9636\u6bb5\u662f\u68c0\u67e5\u8bed\u6cd5\uff0c\u751f\u6210\u6c47\u7f16\u3002\u7b2c\u4e00\u904d\u6267\u884c\u8bed\u6cd5\u5206\u6790\u548c\u9759\u6001\u7c7b\u578b\u68c0\u67e5\uff0c\u5c06\u6e90\u4ee3\u7801\u89e3\u6790\u4e3a\u8bed\u6cd5\u5206\u6790\u6811\u7684\u7ed3\u6784\u3002\u7b2c\u4e8c\u904d\u7531\u4ee3\u7801\u751f\u6210\u5668\u904d\u5386\u8bed\u6cd5\u5206\u6790\u6811\uff0c\u628a\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u8f6c\u6362\u4e3a\u6c47\u7f16\u8bed\u8a00\u6216\u673a\u5668\u4ee3\u7801\uff0c\u751f\u6210\u76ee\u6807\u6a21\u5757\uff08<code>.o</code> \u6216 <code>.obj</code> \u6587\u4ef6\uff09</p> </li> <li> <p>\u6c47\u7f16\u3002\u6c47\u7f16\u4ee3\u7801\u8f6c\u6362\u673a\u5668\u7801\u3002\u975e\u5e95\u5c42\u7684\u7a0b\u5e8f\u5458\u4e0d\u9700\u8981\u8003\u8651\u8fd9\u4e00\u9636\u6bb5\uff0c\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u51fa\u9519\u3002\u6c47\u7f16\u4e0e C/C++\u5f00\u53d1\u8005\u65e0\u5173\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u53cd\u6c47\u7f16\u6765\u8c03\u8bd5\u4ee3\u7801\uff0c\u5b66\u4e60\u6c47\u7f16\u8bed\u8a00\u4f9d\u7136\u662f\u5fc5\u5907\u7684\u3002</p> </li> <li> <p>\u94fe\u63a5\u3002\u628a\u4e00\u7ec4\u76ee\u6807\u6a21\u5757\u94fe\u63a5\u4e3a\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u4f7f\u5f97\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u6267\u884c\u5b83\u3002\u5904\u7406\u76ee\u6807\u6a21\u5757\u4e2d\u7684\u51fd\u6570\u6216\u53d8\u91cf\u5f15\u7528\uff0c\u5fc5\u8981\u65f6\u641c\u7d22\u5e93\u6587\u4ef6\u5904\u7406\u6240\u6709\u7684\u5f15\u7528\u3002</p> </li> </ul>"},{"location":"languages/c-oop/environment/#_14","title":"\u7f16\u8bd1\u6307\u4ee4","text":"<p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 <code>g++</code> \u7f16\u8bd1\u5668\u8bb2\u89e3\u7f16\u8bd1\u6307\u4ee4\u3002</p> <ul> <li><code>g++ -c</code> \u8868\u793a\u53ea\u7f16\u8bd1\u4e0d\u94fe\u63a5</li> <li><code>g++ -o ex1.out ex1.o</code> \u8868\u793a\u5c06 <code>ex1.o</code> \u94fe\u63a5\u4e3a\u53ef\u6267\u884c\u6587\u4ef6 <code>ex1.out</code></li> <li><code>g++ ex5_main.cpp func.cpp -o</code> \u76f4\u63a5\u7f16\u8bd1\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff08`g++ \u5e2e\u6211\u4eec\u7701\u7565\u4e86\u4e00\u4e9b\u6b65\u9aa4\uff09</li> </ul>"},{"location":"languages/c-oop/environment/#_15","title":"\u94fe\u63a5","text":"<p>\u5c06\u5404\u4e2a\u76ee\u6807\u6587\u4ef6\u4e2d\u7684\u5404\u6bb5\u4ee3\u7801\u8fdb\u884c\u5730\u5740\u5b9a\u4f4d\uff0c\u751f\u6210\u4e0e\u7279\u5b9a\u5e73\u53f0\u76f8\u5173\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5916\u90e8\u51fd\u6570\u7684\u58f0\u660e\uff08\u4e00\u822c\u58f0\u660e\u5728\u5934\u6587\u4ef6\u4e2d\uff09\u53ea\u662f\u4ee4\u7a0b\u5e8f\u987a\u5229\u901a\u8fc7\u7f16\u8bd1\uff0c\u6b64\u65f6\u5e76\u4e0d\u9700\u8981\u641c\u7d22\u5230\u5916\u90e8\u51fd\u6570\u7684\u5b9e\u73b0\uff08\u6216\u5b9a\u4e49\uff09\u3002\u5728\u94fe\u63a5\u8fc7\u7a0b\u4e2d\uff0c\u5916\u90e8\u51fd\u6570\u7684\u5b9e\u73b0\uff08\u6216\u5b9a\u4e49\uff09\u624d\u4f1a\u88ab\u5bfb\u627e\u548c\u6dfb\u52a0\u8fdb\u7a0b\u5e8f\uff0c\u4e00\u65e6\u6ca1\u6709\u627e\u5230\u51fd\u6570\u5b9e\u73b0\uff0c\u5c31\u65e0\u6cd5\u6210\u529f\u94fe\u63a5\u3002</p>"},{"location":"languages/c-oop/environment/#_16","title":"\u5934\u6587\u4ef6","text":""},{"location":"languages/c-oop/environment/#_17","title":"\u610f\u4e49","text":"<p>\u6709\u65f6\u8f85\u52a9\u51fd\u6570\uff08\u5982\u5168\u5c40\u51fd\u6570\uff09\u4f1a\u5728\u591a\u4e2a\u6e90\u6587\u4ef6\u4e2d\u88ab\u4f7f\u7528\u3002\u5c06\u8f85\u52a9\u51fd\u6570\u7f16\u5165\u5934\u6587\u4ef6\u4e2d\uff0c\u4ece\u800c\u907f\u514d\u53cd\u590d\u7f16\u5199\u540c\u4e00\u6bb5\u58f0\u660e\uff0c\u4e5f\u80fd\u591f\u7edf\u4e00\u8f85\u52a9\u51fd\u6570\u7684\u58f0\u660e\uff0c\u907f\u514d\u9519\u8bef\u3002</p>"},{"location":"languages/c-oop/environment/#_18","title":"\u4f8b\u5b50","text":"<p>\u7a0b\u5e8f\u5728\u8fde\u63a5\u65f6\uff0c\u641c\u7d22\u4e86\u7f16\u8bd1\u547d\u4ee4\u91cc\u7684\u6240\u6709\u6587\u4ef6\uff0c\u672c\u9898\u4e2d\u5373\u4e3a\u4e24\u4e2a C++ \u6587\u4ef6\u3002\u56e0\u4e3a <code>main.cpp</code> \u91cc\u9762\u5199\u4e86 <code>#include \"func.h\"</code>\uff0c\u6240\u4ee5\u80fd\u627e\u5230 <code>func.h</code>\u3002\u5982\u679c\u628a <code>main.cpp</code> \u91cc\u7684 <code>#include</code> \u4e5f\u53bb\u6389\uff0c\u5c31\u65e0\u6cd5\u7f16\u8bd1\u4e86\u3002</p>"},{"location":"languages/c-oop/environment/#_19","title":"\u51fd\u6570\u7684\u58f0\u660e\u4e0e\u5b9a\u4e49","text":""},{"location":"languages/c-oop/environment/#_20","title":"\u6982\u5ff5","text":"<p>\u51fd\u6570\u58f0\u660e\u7684\u8bed\u6cd5\u4e3a\uff1a</p> <pre><code>int add(int a, int b);\nint add(int, int); // \u53d8\u91cf\u540d\u53ef\u7701\u7565\uff0c\u4f8b\u5982\u540e\u7f00\u8fd0\u7b97\u7b26\u91cd\u8f7d\u4e2d\u7684\u54d1\u5143\n</code></pre> <p>\u51fd\u6570\u5b9a\u4e49\uff08\u5373\u5b9e\u73b0\uff09\u7684\u8bed\u6cd5\u4e3a\uff1a</p> <pre><code>int add(int a, int b) { return a + b; }\n</code></pre> <p>\u540c\u4e00\u4e2a\u51fd\u6570\u53ef\u4ee5\u6709\u591a\u6b21\u58f0\u660e\uff0c\u4f46\u53ea\u80fd\u6709\u4e00\u6b21\u5b9e\u73b0\uff0c\u591a\u6b21\u5b9e\u73b0\u4f1a\u5bfc\u81f4\u94fe\u63a5\u9519\u8bef\u3002\u6ce8\u610f\u8fd9\u548c\u91cd\u8f7d\u7684\u533a\u522b\uff0c\u91cd\u8f7d\u662f\u540c\u540d\u51fd\u6570\u4f46\u662f\u53c2\u6570\u4e0d\u540c\uff0c\u91cd\u8f7d\u6211\u4eec\u540e\u7eed\u4ecb\u7ecd\u3002</p>"},{"location":"languages/c-oop/environment/#_21","title":"\u53d8\u91cf\u7684\u58f0\u660e\u4e0e\u5b9a\u4e49","text":"<p>TODO</p> <p>\u5173\u4e8e\u53d8\u91cf\u7684\u58f0\u660e\u4e0e\u5b9a\u4e49\u66f4\u52a0\u8be6\u7ec6\u7684\u8ba8\u8bba\u5728L5-\u521b\u5efa\u4e0e\u9500\u6bc1\u00b7\u4e8c1.3.0\u8282\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"languages/c-oop/environment/#extern","title":"<code>extern</code> \u5173\u952e\u5b57","text":"<p>TODO</p> <p>\u5173\u4e8e <code>extern</code> \u4fee\u9970\u7b26\u66f4\u52a0\u8be6\u7ec6\u7684\u8ba8\u8bba\u5728L5-\u521b\u5efa\u4e0e\u9500\u6bc1\u00b7\u4e8c1.2.5\u8282\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"languages/c-oop/environment/#_22","title":"\u4e00\u4e9b\u7f16\u7a0b\u5efa\u8bae","text":"<p>\u5bf9\u4e8e\u5934\u6587\u4ef6\uff0c\u5c3d\u91cf\u53ea\u58f0\u660e\u51fd\u6570\u800c\u4e0d\u5b9e\u73b0\u51fd\u6570\u3002\u5c3d\u91cf\u53ea\u58f0\u660e\u5168\u5c40\u53d8\u91cf\u800c\u4e0d\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/","title":"\u51fd\u6570\u5bf9\u8c61\u548c\u667a\u80fd\u6307\u9488","text":""},{"location":"languages/c-oop/function-object-and-smart-pointers/#_2","title":"\u51fd\u6570\u5bf9\u8c61","text":""},{"location":"languages/c-oop/function-object-and-smart-pointers/#_3","title":"\u4ec0\u4e48\u662f\u51fd\u6570\u6307\u9488","text":"<p>\u51fd\u6570\u672c\u8d28\u4e0a\u5b58\u5728\u4e8e\u4ee3\u7801\u6bb5\uff0c\u56e0\u6b64\uff0c\u6bcf\u4e2a\u51fd\u6570\u5728\u4ee3\u7801\u6bb5\u4e2d\uff0c\u4e5f\u6709\u7740\u81ea\u5df1\u7684\u5165\u53e3\u5730\u5740\u3002</p> <p>\u51fd\u6570\u6307\u9488\u662f\u4e00\u4e2a\u6307\u9488\u7c7b\u578b\u7684\u53d8\u91cf\u3002\u5b83\u6307\u5411\u4ee3\u7801\u6bb5\u4e2d\u51fd\u6570\u5165\u53e3\u7684\u5730\u5740\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_4","title":"\u51fd\u6570\u6307\u9488\u7684\u58f0\u660e","text":"<p>\u58f0\u660e\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>ret (*func)(args, ...);\n</code></pre> <p>\u5176\u4e2d\uff0c<code>ret</code> \u662f\u51fd\u6570\u6307\u9488\u6307\u5411\u7684\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\uff0c<code>func</code> \u662f\u8be5\u6307\u9488\u7684\u540d\u5b57\uff0c\u800c <code>args, ...</code> \u662f\u8be5\u6307\u9488\u6307\u5411\u7684\u51fd\u6570\u7684\u53c2\u6570\u5217\u8868\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u540d\u4e3a <code>func</code> \u7684\u6307\u9488\u53ea\u80fd\u6307\u5411\u8fd4\u56de\u503c\u7c7b\u578b\u3001\u53c2\u6570\u7c7b\u578b\u90fd\u76f8\u540c\u7684\u90a3\u4e9b\u51fd\u6570\u3002</p> <p>\u51fd\u6570\u6307\u9488\u7531\u4e8e\u8fd4\u56de\u503c\u3001\u53c2\u6570\u4e0d\u540c\u800c\u6709\u5f88\u591a\u79cd\u7c7b\u578b\u3002\u6bcf\u79cd\u7c7b\u578b\u53ea\u80fd\u6307\u5411\u7279\u5b9a\u7684\u4e00\u4e9b\u51fd\u6570\u3002</p> <p>\u7531\u4e8e\u51fd\u6570\u7684\u7c7b\u578b\u6bd4\u8f83\u96be\u5199\uff0c\u5e38\u5e38\u7528 <code>auto</code> \u5173\u952e\u5b57\u63a8\u65ad\u51fd\u6570\u6307\u9488\u7c7b\u578b\uff0c\u76f4\u63a5\u4ee4\u51fd\u6570\u6307\u9488\u7b49\u4e8e\u67d0\u4e00\u51fd\u6570\u540d\u3002\u6ce8\u610f\u5982\u679c\u7528 <code>auto</code>\uff0c\u5728\u5bf9\u51fd\u6570\u6307\u9488\u58f0\u660e\u7684\u540c\u65f6\u5fc5\u987b\u5bf9\u5176\u521d\u59cb\u5316\uff0c\u5426\u5219\u7f16\u8bd1\u5668\u65e0\u6cd5\u81ea\u52a8\u63a8\u5bfc\u6307\u9488\u7c7b\u578b\u3002\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nint arr[5] = {5, 2, 3, 1, 7};\nvoid increase(int &amp;x) { x++; }\nvoid decrease(int &amp;x) { x--; }\nint main() {\n    int flag; \n    std::cin &gt;&gt; flag;\n\n    auto func = flag == 1 ? increase : decrease;\n    for (int &amp;x: arr) {\n        func(x);\n        cout &lt;&lt; x;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_5","title":"\u51fd\u6570\u6307\u9488\u7684\u521d\u59cb\u5316","text":"<p>\u7ed9\u4f60\u4e00\u4e2a\u51fd\u6570\uff0c\u600e\u4e48\u8ba9\u4e00\u4e2a\u6307\u9488\u6307\u5411\u5b83\u5462\uff1f</p> <p>\u4e0e\u6570\u7ec4\u7c7b\u4f3c\uff0c\u5728\u6570\u7ec4\u4e2d\uff0c\u6570\u7ec4\u540d\u5c31\u662f\u8be5\u6570\u7ec4\u7684\u9996\u5730\u5740\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u6837\uff0c\u51fd\u6570\u540d\u5c31\u662f\u8be5\u51fd\u6570\u7684\u5165\u53e3\u5730\u5740\uff0c\u56e0\u6b64\uff0c\u51fd\u6570\u540d\u5c31\u662f\u8be5\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u51fd\u6570\u540d <code>A</code> \u662f\u4e2a\u6307\u9488\uff0c\u8be5\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u548c\u50a8\u5b58\u8be5\u6307\u9488\u7684\u5185\u5b58\u7a7a\u95f4\u662f\u540c\u4e00\u5757\uff0c\u5c31\u662f\u50a8\u5b58\u8be5\u51fd\u6570\u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5934\u90e8\u4f4d\u7f6e\u3002\u4f46\u662f\u5982\u679c\u7528\u522b\u7684\u6307\u9488 <code>B</code> \u6307\u5411\u4e86\u51fd\u6570\uff0c\u90a3\u4e48\u50a8\u5b58 <code>B</code> \u7684\u5185\u5b58\u7a7a\u95f4\u548c <code>B</code> \u6307\u5411\u7684\u5143\u7d20\u7684\u5185\u5b58\u7a7a\u95f4\u4e0d\u662f\u540c\u4e00\u5757\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid func() { }\n\nint main() {\n    int arrow[10];\n    auto p = func;\n    cout &lt;&lt; arrow &lt;&lt; endl;\n    cout &lt;&lt; &amp;arrow &lt;&lt; endl;\n    cout &lt;&lt; func &lt;&lt; endl;\n    cout &lt;&lt; &amp;func &lt;&lt; endl;\n    cout &lt;&lt; p &lt;&lt; endl;\n    cout &lt;&lt; &amp;p &lt;&lt; endl;\n}\n\n/*\noutput:\n0x7fff7a33d6b0\n0x7fff7a33d6b0\n1\n1\n1\n0x7fff7a33d6a8\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_6","title":"\u51fd\u6570\u6307\u9488\u7684\u7528\u9014","text":"<p>\u51fd\u6570\u6307\u9488\u4e3b\u8981\u6709\u4e24\u4e2a\u7528\u9014\uff1a\u505a\u51fd\u6570\u7684\u53c2\u6570\u3001\u8c03\u7528\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_7","title":"\u51fd\u6570\u6307\u9488\u8c03\u7528\u51fd\u6570","text":"<p>\u7528\u51fd\u6570\u6307\u9488\u8c03\u7528\u51fd\u6570\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u90fd\u4e0d\u8981\u5fd8\u8bb0\u53c2\u6570\u5217\u8868\u7684\u5706\u62ec\u53f7 <code>()</code>\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nstring func() { return \"I love my darling, mua!\"; }\n\nvoid fun() { cout &lt;&lt; \"love you too!\" &lt;&lt; endl; }\n\nint main() {\n    string zcy = (*func)(); // \u8fd9\u79cd\u5199\u6cd5\u66f4\u80fd\u4f53\u73b0\u6307\u9488\n    cout &lt;&lt; zcy &lt;&lt; endl;\n    auto x = fun;\n    x();\n}\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_8","title":"\u51fd\u6570\u6307\u9488\u505a\u51fd\u6570\u53c2\u6570","text":"<p>\u56de\u5fc6\u6765\u81ea <code>&lt;algorithm&gt;</code> \u7684 <code>sort</code> \u51fd\u6570\u3002\u5b83\u6709\u4e24\u79cd\u8c03\u7528\u65b9\u6cd5\uff1a</p> <pre><code>sort(arr,arr + 5);\nsort(arr,arr + 5, comp); // \u7528\u81ea\u5b9a\u4e49\u7684 comp \u51fd\u6570\u6765 sort\n</code></pre> <p>\u7b2c\u4e8c\u79cd\u5b9a\u4e49\u65b9\u5f0f\u91cc\uff0c\u6211\u4eec\u628a <code>comp</code> \u8fd9\u4e2a\u51fd\u6570\u540d\uff08\u51fd\u6570\u540d\u4e5f\u5c31\u662f\u51fd\u6570\u6307\u9488\uff09\u4f5c\u4e3a\u53c2\u6570\u4f20\u4e86\u8fdb\u53bb\u3002\u6211\u4eec\u77e5\u9053\u51fd\u6570\u540d\u5b9e\u9645\u4e0a\u50a8\u5b58\u7740\u51fd\u6570\u5730\u5740\u3002\u6240\u4ee5\u8fd9\u5b9e\u9645\u4e0a\u5c31\u662f\u4f20\u8fdb\u4e86\u51fd\u6570\u6307\u9488\u505a\u53c2\u6570\u3002</p> <p>\u7528\u81ea\u5b9a\u4e49\u7684 <code>comp</code> \u51fd\u6570\u5b9e\u73b0\u9006\u5e8f <code>sort</code>\uff1a</p> <pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nbool comp(int a, int b) { return a &gt; b; }\n\nint main() {\n    int arr[5] = {5, 2, 3, 1, 7};\n    std::sort(arr, arr + 5, comp);\n    for (int x: arr) {\n        cout &lt;&lt; x &lt;&lt; \" \";\n    }  \n    return 0;\n}\n\n/*\noutput:\n7 5 3 2 1\n*/\n</code></pre> <p>\u5bf9 <code>sort</code> \u51fd\u6570\u6765\u8bf4\uff0c\u5b83\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u51fd\u6570\u6307\u9488\uff0c\u56e0\u4e3a\u6211\u4eec\u4f20\u5165\u7684\u662f <code>comp()</code> \u51fd\u6570\u7684\u5934\u6307\u9488\uff0c\u5373 <code>comp</code>\uff0c\u800c\u4e0d\u662f <code>comp()</code>\u3002</p> <p>\u8fd9\u4e2a\u51fd\u6570\u6307\u9488\u7684\u7c7b\u578b\u662f\uff1a</p> <pre><code>bool (*)(T, T);\n</code></pre> <p>\u8fd9\u662f\u4e00\u79cd\u53eb <code>Compare</code> \u7c7b\u578b\u7684\u7279\u6b8a\u51fd\u6570\u6307\u9488\u7c7b\u578b\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_9","title":"\u51fd\u6570\u5bf9\u8c61","text":"<p>\u9664\u4e86\u81ea\u5b9a\u4e49\u7684 <code>comp</code>\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528 STL \u63d0\u4f9b\u7684\u9884\u5b9a\u4e49\u7684\u6bd4\u8f83\u51fd\u6570\uff08\u9700\u8981 <code>#include &lt;functional&gt;</code>\uff09\u3002</p> <pre><code>sort(arr, arr + 5, less&lt;int&gt;()); // \u4ece\u5c0f\u5230\u5927\nsort(arr, arr + 5, greater&lt;int&gt;()); // \u4ece\u5927\u5230\u5c0f\n</code></pre> <p>\u6ce8\u610f\u5230\u51fd\u6570\u5bf9\u8c61\u672c\u8d28\u4e0a\u662f\u91cd\u8f7d\u4e86 <code>()</code>\uff0c\u4f46\u662f <code>greater&lt;int&gt;()</code> \u8868\u793a\u7684\u662f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u91cc\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002<code>greater&lt;int&gt;()()</code> \u7684\u7b2c\u4e00\u4e2a\u62ec\u53f7\u662f\u8c03\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u662f\u91cd\u8f7d <code>()</code>\u3002</p> <p><code>less&lt;int&gt;()</code>\u3001<code>greater&lt;int&gt;()</code> \u548c <code>comp</code> \u4e00\u6837\uff0c\u5b83\u4eec\u6709 <code>Compare</code> \u7c7b\u578b\u51fd\u6570\u6307\u9488\u7684\u529f\u80fd\uff0c\u4f46\u5b83\u5176\u5b9e\u662f\u4e00\u4e2a\u51fd\u6570\u5bf9\u8c61\uff01</p> <p>\u4ee5 <code>greater&lt;int&gt;()</code> \u4e3a\u4f8b\uff0c\u5176\u5185\u90e8\u5b9e\u73b0\u673a\u5236\u5982\u4e0b\u3002</p> <p>\u6ce8\u610f\u5230\uff0c<code>greater</code> \u7684\u5b9e\u73b0\u5df2\u7ecf\u5185\u7f6e\u5728\u4e86 <code>&lt;functional&gt;</code> \u4e2d\uff0c\u5373\u4ee5\u4e0b\u4ee3\u7801\u5728\u5b9e\u9645\u5e94\u7528\u65f6\u4e0d\u5fc5\u5199\u51fa\u3002\u6b64\u5904\u4e3a\u4e86\u907f\u514d\u5173\u952e\u5b57\u51b2\u7a81\uff0c\u5c06 <code>greater</code> \u5199\u4e3a <code>Greater</code>\u3002\u8fd9\u5c31\u597d\u6bd4 <code>std</code> \u91cc\u7684 <code>swap</code> \u548c\u81ea\u5df1\u624b\u5199\u7684 <code>swap</code> \u4e00\u6837\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\ntemplate&lt;class T&gt;\nclass Greater {\npublic:\n    Greater() { };\n    bool operator()(const T &amp;a, const T &amp;b) const {\n        return a &gt; b;\n    }\n};\n</code></pre> <p>\u901a\u8fc7\u5728 <code>public</code> \u4e2d\u5b8c\u6210\u5bf9 <code>operator()</code> \u7684\u91cd\u8f7d\uff0c\u5f53\u8be5\u6a21\u7248\u88ab\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>()</code> \u8c03\u7528\u8be5\u5bf9\u8c61\uff0c\u770b\u8d77\u6765\u5c31\u50cf\u4e00\u4e2a\u51fd\u6570\u3002\u8fd9\u6837\u7684\u91cd\u8f7d\u4e86 <code>()</code> \u7684\u5bf9\u8c61\u79f0\u4e3a\u201c\u51fd\u6570\u5bf9\u8c61\u201d\u3002</p> <p>\u8c03\u7528\u51fd\u6570\u5bf9\u8c61\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate&lt;class T&gt;\nclass Greater {\npublic:\n    Greater() { };\n    bool operator()(const T &amp;a, const T &amp;b) const {\n        return a &gt; b;\n    }\n};\n\nint main() {\n    auto func = Greater&lt;int&gt;();\n    cout &lt;&lt; func(2, 1) &lt;&lt; endl; // true\n    cout &lt;&lt; func(1, 1) &lt;&lt; endl; // false\n    cout &lt;&lt; func(1, 2) &lt;&lt; endl; // false\n    return 0;\n}\n</code></pre> <p>\u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u5f88\u4f18\u96c5\u5730\u5199 <code>func(1,2)</code> \u662f\u56e0\u4e3a\u4e4b\u524d\u5df2\u7ecf\u628a\u540d\u53eb <code>Greater</code> \u7684\u7c7b\u6a21\u7248\u5b9e\u4f8b\u5316\u4e3a\u4e86\u4e00\u4e2a\u5bf9\u8c61\u3002\u5b9e\u9645\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5b9e\u4f8b\u5316\u800c\u76f4\u63a5\u8c03\u7528\u3002\u4f46\u8fd9\u65f6\u4e00\u5b9a\u4e0d\u8981\u5fd8\u8bb0 <code>()</code>\uff0c\u7b2c\u4e00\u4e2a <code>()</code> \u4ee3\u8868\u6784\u9020\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a <code>()</code> \u624d\u4ee3\u8868\u5bf9\u62ec\u53f7\u7684\u91cd\u8f7d\u3002</p> <pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;functional&gt;\nusing namespace std;\nint main() {\n    cout &lt;&lt; greater&lt;int&gt;()(1, 2);\n    return 0;\n}\n</code></pre> <p>\u4ee5 <code>greater&lt;int&gt;()</code> \u4e3a\u53c2\u6570\u8c03\u7528 <code>sort</code>\uff1a</p> <pre><code>#include &lt;functional&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nint main() {\n    auto func = greater&lt;int&gt;();\n    int arr[5] = {1, 4, 2, 8, 3};\n    sort(arr, arr + 5, greater&lt;int&gt;());\n    for (int i: arr) { cout &lt;&lt; i &lt;&lt; ' '; }\n    return 0;\n}\n\n/*\noutput:\n8 4 3 2 1\n*/ \n</code></pre> <p>\u6240\u4ee5\uff0c<code>std::sort</code> \u65e2\u53ef\u4ee5\u63a5\u53d7\u51fd\u6570\u6307\u9488\uff0c\u53c8\u53ef\u63a5\u53d7\u51fd\u6570\u5bf9\u8c61\u4f5c\u4e3a\u7b2c\u4e09\u4e2a\u53c2\u6570\u3002\u5b9e\u9645\u4e0a\uff0c<code>sort</code> \u662f\u4e00\u4e2a\u51fd\u6570\u6a21\u677f\uff0c\u5176\u6a21\u7248\u53c2\u6570\u662f\u5f85 <code>sort</code> \u7684\u6570\u7ec4\u7684\u7c7b\u578b\u548c\u4e00\u4e2a <code>Compare</code> \u7c7b\u578b\u7684\u51fd\u6570\u6307\u9488\u3002\u8c03\u7528 <code>sort</code> \u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>sort(Iterator first, Iterator last, Compare comp);\n</code></pre> <p>\u8c03\u7528\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u884c\u63a8\u5bfc\u51fd\u6570\u6a21\u7248\u53c2\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u5fc5\u624b\u5de5\u6307\u5b9a\u3002</p> <p>\u6700\u540e\uff0c\u5173\u4e8e <code>sort</code> \u51fd\u6570\u7684\u4e00\u4e2a\u7ec6\u8282\uff1a<code>sort</code> \u51fd\u6570\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765 <code>sort</code> \u6570\u7ec4\uff0c\u8fd8\u53ef\u4ee5 <code>sort</code> \u4efb\u4f55\u6709\u5e8f\u7684\u5bb9\u5668\u3002\u6bd4\u5982 <code>vector</code>\u3002\u65e0\u8bba\u662f\u6570\u7ec4\u3001<code>list</code> \u8fd8\u662f <code>vector</code>\uff0c<code>sort</code> \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u90fd\u5e94\u8be5\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u800c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5219\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e4b\u540e\u7684\u90a3\u4e2a\u4f4d\u7f6e\uff0c\u800c\u4e0d\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002</p> <p>\u5f53\u7136\uff0c<code>vec</code> \u91cc\u9762\u7684\u6570\u636e\u5f97\u5148\u80fd compare\u3002</p> <pre><code>int arr[5] = {1, 3, 2, 6, 4};\nvector&lt;int&gt; vec = {1, 3, 2, 6, 4};\nsort(arr, arr + 5);\nsort(vec.begin(), vec.end());\n</code></pre> <p>\u66f4\u5177\u4f53\u7684\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;functional&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nint main() {\n    auto func = greater&lt;int&gt;();\n    vector&lt;int&gt; vec = {1, 3, 2, 6, 4};\n    sort(vec.begin(), vec.end());\n    for (int i: vec) { cout &lt;&lt; i &lt;&lt; ' '; }\n    cout &lt;&lt; endl;\n    sort(vec.begin(), vec.end(), func);\n    for (int i: vec) { cout &lt;&lt; i &lt;&lt; ' '; }\n    return 0;\n}\n\n/*\noutput:\n1 2 3 4 6 \n6 4 3 2 1\n*/ \n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#stdfunction","title":"<code>std::function</code> \u7c7b","text":"<p>\u7531\u5bf9 <code>sort</code> \u7684\u8ba8\u8bba\uff0c\u6211\u4eec\u53d1\u73b0\u51fd\u6570\u6307\u9488\u548c\u51fd\u6570\u5bf9\u8c61\u6709\u9ad8\u5ea6\u7684\u4e00\u81f4\u6027\u3002\u4f46\u53e6\u4e00\u65b9\u9762\uff0c\u5b83\u4eec\u7684\u5f62\u5f0f\u53c8\u4e0d\u7edf\u4e00\u3002</p> <p>\u5728\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4ece\u5c4f\u5e55\u3001\u6587\u4ef6\u8bfb\u53d6\u8fd9\u4e24\u4e2a\u51fd\u6570\u4e0d\u80fd\u88ab\u540c\u4e00\u4e2a\u6570\u7ec4\u7edf\u4e00\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;functional&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\nstring readFromScreen() {\n    string input;\n    getline(cin, input);\n    return input;\n}\n\nclass ReadFromFile {\npublic:\n    string operator()() {\n        string input;\n        getline(ifstream(\"input.txt\"), input);\n        return input;\n    }\n};\n\nint main() {\n    auto readArr[] = {readFromScreen, ReadFromFile()}; // \u63a8\u5bfc\u5931\u8d25\n    return 0;\n}\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a<code>std::function</code> \u7c7b\uff0c\u6765\u81ea <code>&lt;functional&gt;</code> \u5934\u6587\u4ef6\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#function","title":"<code>function</code> \u7c7b\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7c7b\u6a21\u7248","text":"<p><code>function</code> \u7c7b\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7c7b\u6a21\u677f\uff0c\u6a21\u677f\u53c2\u6570\u662f\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\u548c\u53c2\u6570\u7c7b\u578b\u3002\u4f46\u662f\u7279\u6b8a\u7684\u662f\uff0c<code>function</code> \u53ea\u6709\u6210\u5458\u51fd\u6570\uff0c\u65e0\u6570\u636e\u6210\u5458\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#function_1","title":"<code>function</code> \u7c7b\u7684\u5b9e\u4f8b\u5316","text":"<p><code>function</code> \u7c7b\u4e3a\u51fd\u6570\u6307\u9488\u4e0e\u5bf9\u8c61\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u63a5\u53e3\u3002\u5b9e\u9645\u4e0a\uff0c<code>function</code> \u7684\u5b9e\u4f8b\u53ef\u4ee5\u5b58\u50a8\u3001\u590d\u5236\u548c\u8c03\u7528\u7684\u4e0d\u4ec5\u4ec5\u662f\u51fd\u6570\u6307\u9488\u4e0e\u5bf9\u8c61\uff0c\u8fd8\u5305\u62ec lambda \u8868\u8fbe\u5f0f\uff0c\u7ed1\u5b9a\u8868\u8fbe\u5f0f\u548c\u6307\u5411\u6210\u5458\u51fd\u6570\u548c\u6307\u5411\u6570\u636e\u6210\u5458\u7684\u6307\u9488\u3002\u4e0d\u7ba1\u91c7\u7528\u54ea\u79cd\u65b9\u5f0f\uff0c\u53ea\u8981\u8c03\u7528\u5f62\u5f0f\u4e00\u6837\uff08\u8fd4\u56de\u503c\u7c7b\u578b\u3001\u5b9e\u53c2\u7c7b\u578b\uff09\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528 <code>function</code> \u7c7b\u578b\u6765\u7edf\u4e00\u3002</p> <p><code>function</code> \u7c7b\u7684\u5b9e\u4f8b\u5316\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>function&lt;ret(args...)&gt; Func;\n</code></pre> <p>\u5176\u4e2d <code>ret</code> \u662f\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\uff0c<code>()</code>\u4e2d\u662f\u53c2\u6570\u7c7b\u578b\u5217\u8868\uff0c<code>Func</code> \u662f\u8be5 <code>function</code> \u7c7b\u5bf9\u8c61\u7684\u540d\u5b57\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#function_2","title":"<code>function</code> \u7c7b\u7684\u5e94\u7528","text":"<p>\u4e0a\u9762\u7684\u4e24\u4e2a\u8bfb\u53d6\u51fd\u6570\u53ef\u4ee5\u7edf\u4e00\u5728 <code>function</code> \u7c7b\u4e2d\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;functional&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\nstring readFromScreen() {\n    string input;\n    getline(cin, input);\n    return input;\n}\n\nclass ReadFromFile {\npublic:\n    string operator()() {\n        string input;\n        getline(ifstream(\"input.txt\"), input);\n        return input;\n    }\n};\n\nint main() {\n    function&lt;string()&gt; readArr[] = {readFromScreen, ReadFromFile()};\n    function&lt;string()&gt; readFunc;\n    readFunc = readFromScreen; \n    readFunc = ReadFromFile();\n\n    string (*readFunc2)();\n    readFunc2 = readFromScreen;\n    // readFunc2 = ReadFromFile(); // \u4e0d\u80fd\u88ab\u51fd\u6570\u5bf9\u8c61\u8d4b\u503c\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#function_3","title":"\u7528 <code>function</code> \u5b9e\u73b0\u591a\u6001","text":"<p>\u6b63\u5982 <code>sort</code> \u51fd\u6570\u6240\u5b9e\u73b0\u7684\u90a3\u6837\uff0c\u901a\u8fc7\u5c06 <code>function</code> \u7c7b\u578b\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\uff0c\u53ef\u4ee5\u7edf\u4e00\u51fd\u6570\u5bf9\u8c61\u548c\u51fd\u6570\u6307\u9488\u3002\u4ee5 <code>function</code> \u7c7b\u578b\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u7684\u51fd\u6570\u53ef\u4ee5\u4ec5\u4ec5\u6539\u53d8\u53c2\u6570\uff0c\u83b7\u5f97\u4e0d\u540c\u7684\u529f\u80fd\u3002</p> <p>\u4f8b\u5b50</p> <ul> <li>\u4f8b\uff1a</li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;functional&gt;\nusing namespace std;\n\n// \u7701\u7565 readFromScreen\u3001ReadFromFile\u3001calculateAdd\u3001writeToScreen\nvoid process(\n    function&lt;string()&gt; read,\n    function&lt;string(string)&gt; calculate,\n    function&lt;void(string)&gt; write) {\n    string data = read();\n    string output = calculate(data);\n    write(output);\n}\n\nint main() {\n    process(readFromScreen, calculateAdd, writeToScreen);\n    process(ReadFromFile(), calculateAdd, writeToScreen); // \u591a\u6001\n    return 0;\n}\n</code></pre> <ul> <li>\u53e6\u4e00\u4e2a\u4f8b\u5b50:</li> </ul> <p>\u5f53 <code>process</code> \u7684\u53c2\u6570\u7c7b\u578b\u662f <code>function&lt;string()&gt;</code> \u65f6\uff0c\u53ef\u4ee5\u540c\u65f6\u63a5\u53d7 <code>func1</code>\u3001<code>func2</code>\u3001<code>func3</code> \u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u3002</p> <p>\u5982\u679c <code>process</code> \u7684\u53c2\u6570\u7c7b\u578b\u662f <code>string (*func)()</code>\uff0c\u5c31\u65e0\u6cd5\u63a5\u53d7 <code>func2</code>\u3001<code>func3</code>\u3002</p> <p>\u5982\u679c <code>process</code> \u7684\u53c2\u6570\u7c7b\u578b\u662f <code>Func2</code> \u7c7b\u5bf9\u8c61\uff0c\u5c31\u65e0\u6cd5\u63a5\u53d7 <code>func1</code>\u3001<code>func3</code>\u3002</p> <pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;functional&gt;\nusing namespace std;\n\nstring func1();\nclass Func2 {\npublic:\n    string operator()();\n};\nFunc2 func2;\n\nfunction&lt;string()&gt; func3;\n\nvoid process(function&lt;string()&gt; func) {\n    string str = func();\n    cout &lt;&lt; str;\n}\n\nint main() {\n    process(func1);\n    process(func2);\n    process(func3);\n    return 0;\n}\n</code></pre> <p>STL \u4e2d\u5927\u91cf\u51fd\u6570\u7528\u5230\u4e86\u51fd\u6570\u5bf9\u8c61\u3002\u4ee5\u4e0b\u8fd9\u4e9b\u51fd\u6570\u90fd\u8c03\u7528\u4e86\u51fd\u6570\u6307\u9488\u6216\u8005\u51fd\u6570\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002</p> <ul> <li><code>for_each</code>\u3002\u5bf9\u5e8f\u5217\u8fdb\u884c\u6307\u5b9a\u64cd\u4f5c</li> <li><code>find_if</code>\u3002\u627e\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5bf9\u8c61</li> <li><code>count_if</code>\u3002\u5bf9\u6ee1\u8db3\u6761\u4ef6\u7684\u5bf9\u8c61\u8ba1\u6570</li> <li><code>binary_search</code>\u3002\u4e8c\u5206\u67e5\u627e\u6ee1\u8db3\u6761\u4ef6\u7684\u5bf9\u8c61</li> </ul> <p>\u5e76\u4e14\u4e5f\u6709\u8bb8\u591a\u9884\u7f6e\u7684\u51fd\u6570\u5bf9\u8c61\uff1a</p> <ul> <li><code>less</code>\u3002\u6bd4\u8f83 <code>a &lt; b</code></li> <li><code>equal_to</code>\u3002\u6bd4\u8f83 <code>a == b</code></li> <li><code>greater</code>\u3002\u6bd4\u8f83 <code>a &gt; b</code></li> <li><code>plus</code>\u3002\u8fd4\u56de <code>a + b</code></li> </ul> <p>\u719f\u7ec3\u4f7f\u7528\u51fd\u6570\u5bf9\u8c61\u6709\u52a9\u4e8e\u5b9e\u73b0\u590d\u6742\u7684\u529f\u80fd\u3002\u4ee5 <code>for_each</code> \u4e3a\u4f8b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nvoid myfunction(int&amp; i) {\n    i++;\n    std::cout &lt;&lt; i &lt;&lt; ' ';\n}\n\nstruct myclass {\n    void operator()(int&amp; i) {\n        i += 2;\n        std::cout &lt;&lt; i &lt;&lt; ' ';\n    }\n} myobject;\n\nint main() {\n    std::vector&lt;int&gt; myvector;\n    myvector.push_back(10);\n    myvector.push_back(20);\n    myvector.push_back(30);\n\n    std::cout &lt;&lt; \"after myfunction, now myvector contains: \";\n    for_each(myvector.begin(), myvector.end(), myfunction); // \u4f20\u8fdb\u51fd\u6570\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\n    std::cout &lt;&lt; std::endl;\n\n    std::cout &lt;&lt; \"after myobject, now myvector contains: \";\n    for_each(myvector.begin(), myvector.end(), myobject); // \u4f20\u8fdb\u51fd\u6570\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\n    // \u5b8c\u5168\u7b49\u4ef7\u4e8e for_each(myvector.begin(), myvector.end(), myclass())\n    return 0;\n}\n\n/*\noutput:\nafter myfunction, now myvector contains: 11 21 31 \nafter myobject, now myvector contains: 13 23 33\n*/\n</code></pre> <p>\u4e24\u6b21\u8c03\u7528\u4e86 <code>for_each</code> \u51fd\u6570\uff0c\u5206\u522b\u5bf9 <code>vector</code> \u91cc\u9762\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u6267\u884c\u4e86 <code>myfunction</code> \u548c <code>myobject</code>\u3002\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u51fd\u6570\u53c2\u6570\u90fd\u662f\u5f15\u7528\uff0c\u4e3b\u51fd\u6570\u4e2d\u7684\u53d8\u91cf\u4e5f\u4f1a\u88ab\u4fee\u6539\u3002</p> <p>\u53e6\u4e00\u4e2a <code>count_if</code> \u7684\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nbool IsOdd (int i) { return ((i % 2) == 1); }\n\nint main () {\n    std::vector&lt;int&gt; myvector;\n    for (int i = 1; i &lt; 10; i++) myvector.push_back(i); // myvector: 1 2 3 4 5 6 7 8 9\n\n    int mycount = count_if(myvector.begin(), myvector.end(), IsOdd);\n    std::cout &lt;&lt; \"myvector contains \" &lt;&lt; mycount &lt;&lt; \" odd values.\\n\";\n\n    return 0;\n}\n\n/*\noutput:\nmyvector contains 5 odd values.\n*/\n</code></pre> <p><code>count_if</code> \u51fd\u6570\u9700\u8981\u4f20\u8fdb\u4e00\u4e2a\u8fd4\u56de\u503c\u4e3a <code>bool</code> \u7c7b\u578b\u7684\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_10","title":"\u4e0e\u5176\u4ed6\u591a\u6001\u5b9e\u73b0\u65b9\u5f0f\u7684\u5bf9\u6bd4","text":"<ul> <li>\u4f7f\u7528\u865a\u51fd\u6570\u5b9e\u73b0</li> </ul> <p>\u5bf9\u57fa\u7c7b\u7684\u6307\u9488\u6216\u8005\u5f15\u7528\uff0c\u5728\u8fd0\u884c\u65f6\u901a\u8fc7\u865a\u51fd\u6570\u8868\u786e\u8ba4\u8be5\u6307\u9488\u6216\u5f15\u7528\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u5e76\u8c03\u7528\u5b9e\u9645\u7c7b\u578b\u7684\u91cd\u5199\u8986\u76d6\u540e\u7684\u51fd\u6570\uff0c\u4ee5\u5b9e\u73b0\u591a\u6001\u3002\u662f\u665a\u7ed1\u5b9a\uff08\u8fd0\u884c\u65f6\u7ed1\u5b9a\uff09\u3002</p> <ul> <li>\u4f7f\u7528\u6a21\u677f\u5b9e\u73b0</li> </ul> <p>\u4e0a\u6587\u4e2d\u7684 <code>greater&lt;int&gt;()</code> \u5c31\u662f\u6a21\u7248\u5b9e\u73b0\u591a\u6001\u7684\u4f8b\u5b50\u3002\u901a\u8fc7\u4f20\u5165\u4e0d\u540c\u7684\u6a21\u7248\u53c2\u6570\uff0c\u81ea\u52a8\u5b9e\u73b0\u91cd\u8f7d\uff0c\u53ef\u4ee5\u5b9e\u73b0\u51fd\u6570\u5bf9\u8c61\u548c\u51fd\u6570\u6307\u9488\u7684\u591a\u6001\u3002\u662f\u65e9\u7ed1\u5b9a\uff08\u7f16\u8bd1\u671f\u7ed1\u5b9a\uff09\u3002</p> <ul> <li>\u4f7f\u7528 <code>std::function</code> \u5b9e\u73b0</li> </ul> <p>\u4e5f\u53ef\u4ee5\u652f\u6301\u51fd\u6570\u6307\u9488\u548c\u51fd\u6570\u5bf9\u8c61\uff08\u901a\u8fc7 <code>function</code> \u7684\u591a\u6001\uff09\u3002\u662f\u665a\u7ed1\u5b9a\uff08\u8fd0\u884c\u65f6\u7ed1\u5b9a\uff09\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_11","title":"\u610f\u4e49","text":"<p>\u5c06\u51fd\u6570\u4e5f\u5bf9\u8c61\u5316\u3002\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\uff0c\u51fd\u6570\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u53d8\u91cf\u50a8\u5b58\uff0c\u5e76\u4e14\u53ea\u8981\u51fd\u6570\u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u76f8\u540c\uff0c\u5c31\u53ef\u4ee5\u88ab\u89c6\u4e3a\u540c\u4e00\u79cd\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u4e0d\u518d\u9700\u8981\u6a21\u677f\u6765\u8c03\u7528\u4e0d\u540c\u7684\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_12","title":"\u667a\u80fd\u6307\u9488","text":"<p>\u5f53\u4e24\u4e2a\u6307\u9488 <code>A</code>\u3001<code>B</code> \u540c\u65f6\u6307\u5411\u4e00\u4e2a\u53d8\u91cf <code>C</code> \u7684\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u53ea\u6709 <code>A</code>\u3001<code>B</code> \u5747\u88ab\u6790\u6784\u7684\u65f6\u5019\uff0c<code>C</code> \u624d\u88ab\u6790\u6784\u3002</p> <p>\u5982\u4f55\u505a\u5230\uff1f\u5f15\u5165\u667a\u80fd\u6307\u9488\uff08\u5305\u542b\u5728\u5934\u6587\u4ef6 <code>&lt;memory&gt;</code> \u4e2d\uff09\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_13","title":"\u6784\u9020\u667a\u80fd\u6307\u9488","text":"<p>\u667a\u80fd\u6307\u9488\u7684\u521b\u5efa\uff1a</p> <pre><code>shared_ptr&lt;int&gt; p1(new int(1)); // \u6307\u5411\u5185\u5bb9\u4e3a 1 \u7684\u4e00\u5757\u5185\u5b58\nshared_ptr&lt;int&gt; p2; // \u7a7a\u6307\u9488\uff08\u4e0d\u521d\u59cb\u5316\uff09\nauto p3 = make_shared&lt;int&gt;(3); // make_shared&lt;T&gt;(args) \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd4\u56de\u503c\u662f\u4e00\u4e2a share_ptr\nint a;\nshared_ptr&lt;int&gt;p4(a); // \u7528\u5df2\u6709\u5bf9\u8c61\u521b\u5efa\u667a\u80fd\u6307\u9488\uff0cp4 \u6307\u5411 a\n</code></pre> <p>\u8ba9\u4e24\u4e2a\u6307\u9488\u6307\u5411\u540c\u4e00\u4e2a\u4f4d\u7f6e\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\nusing namespace std;\n\nclass Myclass {\npublic:\n    int myint;\n    Myclass(int i): myint(i) { };\n};\n\nint main() {\n    shared_ptr&lt;Myclass&gt; p2 = make_shared&lt;Myclass&gt;(2);\n    shared_ptr&lt;Myclass&gt; p3 = p2; // p2 \u548c p3 \u6307\u5411\u540c\u4e00\u5757\u5185\u5b58\n    // p2\u3001p3 \u90fd\u662f\u667a\u80fd\u6307\u9488\uff0c\u6307\u5411\u540c\u4e00\u5757\u5185\u5b58\u3002\n    // auto p3(p2) \u548c\u4e0a\u9762\u7684\u53e5\u5b50\u7b49\u4ef7\n    shared_ptr&lt;Myclass&gt; p4;\n    p4 = p3; // \u5bf9\u5df2\u6709\u7684\u667a\u80fd\u6307\u9488\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u8d4b\u503c\n             // \u5982\u679c p4 \u539f\u672c\u6307\u5411\u67d0\u4e2a\u5185\u5b58\u7a7a\u95f4\uff0c\u8be5\u5185\u5b58\u7a7a\u95f4\u7684\u6240\u6709\u667a\u80fd\u6307\u9488\u7684\u5f15\u7528\u8ba1\u6570\u51cf\u4e00\n             // \u7136\u540e p3 \u6307\u5411\u7a7a\u95f4\u7684\u6240\u6709\u667a\u80fd\u6307\u9488\u5f15\u7528\u8ba1\u6570\u52a0\u4e00\n             // \u6b64\u5904 p4 \u6784\u9020\u4e4b\u540e\u662f\u4e2a\u7a7a\u6307\u9488\uff0c\u6240\u4ee5\u53ea\u4f1a\u7ed9 p3 \u7684\u5185\u5b58\u7a7a\u95f4\u5f15\u7528\u8ba1\u6570\u52a0\u4e00\n    cout &lt;&lt; p2 &lt;&lt; endl;\n    cout &lt;&lt; p3 &lt;&lt; endl;\n    cout &lt;&lt; p4 &lt;&lt; endl;\n} \n\n/*\noutput:\n0x14b0e80\n0x14b0e80\n0x14b0e80\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#use_count","title":"\u5f15\u7528\u8ba1\u6570 <code>use_count()</code>","text":"<p>\u7528 <code>obj.use_count()</code> \u51fd\u6570\uff0c\u53ef\u4ee5\u5f97\u5230\u667a\u80fd\u6307\u9488 <code>obj</code> \u6b64\u523b\u6307\u5411\u7684\u7269\u4f53\uff08\u5305\u62ec <code>obj</code> \u81ea\u5df1\u5728\u5185\uff09\u5171\u6709\u51e0\u4e2a\u667a\u80fd\u6307\u9488\u6307\u5411\u5b83\u3002</p> <ul> <li>\u4ee3\u7801\u793a\u4f8b\uff1a</li> </ul> <pre><code>#include &lt;memory&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    shared_ptr&lt;int&gt; p1(new int(4));\n    cout &lt;&lt; p1.use_count() &lt;&lt; ' '; // 1\n    {\n        shared_ptr&lt;int&gt; p2 = p1;\n        cout &lt;&lt; p1.use_count() &lt;&lt; ' '; // 2\n        cout &lt;&lt; p2.use_count() &lt;&lt; ' '; // 2\n    } // p2 \u51fa\u4f5c\u7528\u57df\n    cout &lt;&lt; p1.use_count() &lt;&lt; ' '; // 1\n}\n</code></pre> <p>\u5982\u679c\u51fd\u6570\u53c2\u6570\u662f\u667a\u80fd\u6307\u9488\u7c7b\u578b\uff0c\u5219\u5728\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u7531\u4e8e\u8c03\u7528\u4e86\u62f7\u8d1d\u6784\u9020\u6784\u9020\u667a\u80fd\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\uff0c\u65b0\u6784\u9020\u51fa\u7684\u667a\u80fd\u6307\u9488\u6307\u5411\u540c\u4e00\u5bf9\u8c61\uff0c\u4f1a\u53d1\u751f <code>count</code> \u589e\u52a0\u3002\u5982\u679c\u60f3\u8981\u907f\u514d\uff0c\u53ef\u4ee5\u5c06\u51fd\u6570\u53c2\u6570\u7c7b\u578b\u6539\u4e3a\u667a\u80fd\u6307\u9488\u7684\u5f15\u7528\u3002</p> <p>\u4e0d\u7528\u8003\u8651\u7684\u592a\u590d\u6742\uff0c\u5f15\u7528\u4f20\u53c2\u672c\u6765\u5c31\u4e0d\u53d1\u751f\u6784\u9020\u548c\u6790\u6784\u3002</p> <pre><code>#include &lt;memory&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nvoid f1(shared_ptr&lt;int&gt; p1) { // \u62f7\u8d1d\u6784\u9020\u4e86\u667a\u80fd\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\n    cout &lt;&lt; p1.use_count(); // \u6b64\u65f6 count \u4e3a 2\n}\n\nvoid f2(shared_ptr&lt;int&gt; &amp;p1) { // \u53c2\u6570\u662f\u667a\u80fd\u6307\u9488\u5f15\u7528\n    cout &lt;&lt; p1.use_count(); // \u6b64\u65f6 count \u4ecd\u4e3a 1\n}\n\nint main() {\n    shared_ptr&lt;int&gt; p1(new int); // \u6b64\u65f6 count \u4e3a 1\n    f1(p1);\n    cout &lt;&lt; p1.use_count(); // \u51fa f1 \u51fd\u6570\u4f53\u65f6\uff0c\u53c2\u6570\u88ab\u6790\u6784\uff0ccount \u56de\u5f52\u5230 1\n    f2(p1);\n    cout &lt;&lt; p1.use_count();\n    return 0;\n}\n\n/*\noutput:\n2111\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_14","title":"\u667a\u80fd\u6307\u9488\u7684\u5b9e\u73b0\u539f\u7406","text":"<p>\u667a\u80fd\u6307\u9488\u6307\u5411\u7684\u662f\u8f85\u52a9\u6307\u9488 <code>Uptr</code>\uff0c\u8f85\u52a9\u6307\u9488\u518d\u6307\u5411\u771f\u6b63\u6307\u5411\u6570\u636e\u5b58\u653e\u4f4d\u7f6e\u7684\u6307\u9488 <code>p</code>\u3002</p> <p>\u8f85\u52a9\u6307\u9488 <code>Uptr</code> \u6709\u4e24\u4e2a\u529f\u80fd\uff1a\u4e00\u65b9\u9762\uff0c\u5b83\u6307\u5411\u771f\u6b63\u6307\u5411\u6570\u636e\u5b58\u653e\u4f4d\u7f6e\u7684\u6307\u9488 <code>p</code>\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u5b83\u5177\u6709\u6210\u5458 <code>count</code>\uff0c\u8bb0\u5f55\u6709\u51e0\u4e2a\u667a\u80fd\u6307\u9488\u6307\u5411\u81ea\u5df1\u3002\u6bcf\u4e2a\u6307\u5411\u201c\u771f\u6b63\u7684\u201d\u6570\u636e\u7684\u6307\u9488 <code>p</code> \u90fd\u53ea\u88ab\u4e00\u4e2a\u8f85\u52a9\u6307\u9488\u6307\u5411\uff0c<code>p</code> \u548c <code>Uptr</code> \u4e00\u4e00\u5bf9\u5e94\u3002</p> <p>\u57fa\u4e8e\u4e0a\u56fe\u539f\u7406\u7ed9\u51fa\u4ee5\u4e0b\u7ed3\u8bba\uff1a</p> <ul> <li>\u4e0d\u80fd\u76f4\u63a5\u7528\u667a\u80fd\u6307\u9488\u7ed9\u666e\u901a\u6307\u9488\u8d4b\u503c\uff0c\u56e0\u4e3a\u666e\u901a\u6307\u9488\u6ca1\u6709\u8f85\u52a9\u6307\u9488\u3002</li> <li>\u4e00\u4e2a\u666e\u901a\u6307\u9488\u6700\u591a\u7ed9\u4e00\u4e2a\u667a\u80fd\u6307\u9488\u8d4b\u503c\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u591a\u4e2a\u8f85\u52a9\u6307\u9488\u3002</li> <li>\u667a\u80fd\u6307\u9488\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u8d4b\u503c\uff0c\u5171\u540c\u6307\u5411\u8f85\u52a9\u6307\u9488\u5373\u53ef\u3002</li> </ul> <pre><code>#include &lt;memory&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    shared_ptr&lt;int&gt; p1(new int(4));\n    cout &lt;&lt; p1.use_count() &lt;&lt; ' '; // 1\n    int *normal = p1; // \u6211\u4eec\u5e0c\u671b normal \u53ef\u4ee5\u548c p1 \u6307\u5411\u76f8\u540c\u7684\u5185\u5b58\n    return 0;\n} \n\n/*\noutput:\n.code.tio.cpp:8:7: error: no viable conversion from 'shared_ptr&lt;int&gt;' to 'int *'\n        int *normal=p1;\n            ^      ~~ \n*/\n</code></pre> <p>\u90a3\u5982\u679c\u60f3\u8ba9\u666e\u901a\u6307\u9488\u6307\u5411\u667a\u80fd\u6307\u9488\u771f\u6b63\u6307\u5411\u7684\u4f4d\u7f6e\u8be5\u600e\u4e48\u529e\u5462\uff1f\u5229\u7528 <code>p.get()</code> \u51fd\u6570\uff01<code>p.get()</code> \u8fd4\u56de\u667a\u80fd\u6307\u9488 <code>p</code> \u771f\u6b63\u6307\u5411\u7684\u6570\u636e\u7684\u88f8\u6307\u9488\u3002</p> <pre><code>int *normal = p1.get();\n</code></pre> <p>\u66f4\u5177\u4f53\u7684\u793a\u4f8b\uff1a</p> <pre><code>#include &lt;memory&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    int *pi = new int(2);\n    shared_ptr&lt;int&gt; ptr(pi); // \u7528\u5df2\u6709\u5bf9\u8c61\u521d\u59cb\u5316\n    cout &lt;&lt; \"ptr now points to \";\n    cout &lt;&lt; ptr.get() &lt;&lt; endl;\n    int *p = ptr.get();\n    cout &lt;&lt; \"p now points to \";\n    cout &lt;&lt; p &lt;&lt; endl;\n    cout &lt;&lt; \"But the count of ptr is \" &lt;&lt; ptr.use_count();\n    return 0;\n}\n\n/*\noutput:\nptr now points to 0x1557e70\np now points to 0x1557e70\nBut the count of ptr is 1\n*/\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\uff0c \u867d\u7136\u7406\u8bba\u4e0a\u53ef\u4ee5\u8fd9\u4e48\u505a\uff0c\u4f46\u56e0\u4e3a\u666e\u901a\u6307\u9488\u4e0d\u548c\u8f85\u52a9\u6307\u9488\u53d1\u751f\u5173\u7cfb\uff0c\u65e0\u6cd5\u589e\u52a0 <code>count</code> \u7684\u6570\u91cf\u3002\u56e0\u6b64\u4e00\u822c\u4e0d\u80fd\u6df7\u5408\u4f7f\u7528\u666e\u901a\u6307\u9488\u548c\u667a\u80fd\u6307\u9488\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u6709\u4e00\u4e2a\u6307\u5411\u8be5\u7269\u4f53\u7684\u6307\u9488\uff0c\u5e76\u4e14\u4e0d\u88ab\u8bb0\u5165 <code>count</code>\uff0c\u8003\u8651\u5230\u5b89\u5168\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>weak_ptr</code> \u4ee3\u66ff\u666e\u901a\u6307\u9488\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_15","title":"\u667a\u80fd\u6307\u9488\u7684\u521d\u59cb\u5316","text":"<p>\u53ef\u4ee5\u7528\u667a\u80fd\u6307\u9488\u521d\u59cb\u5316\u53e6\u4e00\u4e2a\u667a\u80fd\u6307\u9488\uff1a</p> <pre><code>shared_ptr&lt;int&gt; ptr2(new int(3));\nshared_ptr&lt;int&gt; ptr3(ptr2);\n</code></pre> <p>\u4f46\u662f\u4e0d\u80fd\u4f7f\u7528\u540c\u4e00\u88f8\u6307\u9488\u521d\u59cb\u5316\u591a\u4e2a\u667a\u80fd\u6307\u9488\uff08\u8fd9\u6837\u4f1a\u51fa\u73b0\u591a\u4e2a\u8f85\u52a9\u6307\u9488\uff09\u3002</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u662f\u9519\u7684\u3002</p> <pre><code>int* p = new int(); \nshared_ptr&lt;int&gt; p1(p);\nshared_ptr&lt;int&gt; p2(p); \n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_16","title":"\u667a\u80fd\u6307\u9488\u7684\u6790\u6784","text":"<p>\u667a\u80fd\u6307\u9488\u6790\u6784\u7684\u65f6\u5019\uff0c\u5176\u5185\u90e8\u7684\u6210\u5458\u8f85\u52a9\u6307\u9488\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u88ab\u6790\u6784\uff0c\u56e0\u4e3a\u8fd8\u53ef\u80fd\u6709\u5176\u4ed6\u667a\u80fd\u6307\u9488\u6307\u5411\u8be5\u8f85\u52a9\u6307\u9488\u3002\u5728\u667a\u80fd\u6307\u9488\u6790\u6784\u7684\u65f6\u5019\u65f6\uff0c\u5176\u8f85\u52a9\u6307\u9488\u5185\u8bb0\u5f55\u667a\u80fd\u6307\u9488\u6570\u91cf\u7684\u6210\u5458 <code>count</code> \u53d1\u751f <code>count--</code>\u3002</p> <p>\u53ea\u6709 <code>count--</code> \u540e\u4e3a <code>0</code> \u7684\u65f6\u5019\uff0c\u8f85\u52a9\u6307\u9488\u624d\u4f1a\u88ab\u540c\u65f6\u6790\u6784\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_17","title":"\u667a\u80fd\u6307\u9488\u7684\u5176\u4ed6\u64cd\u4f5c","text":"<pre><code>p.get(); // \u83b7\u53d6\u88f8\u6307\u9488\uff0c\u5373\u83b7\u5f97\u5b9e\u9645\u6307\u9488\u7684\u60c5\u51b5\np.reset(); // \u6e05\u9664\u6307\u9488\u5e76\u51cf\u5c11\u5f15\u7528\u8ba1\u6570\uff0c\u89c1\u4e0b\nshared_ptr&lt;myType&gt; q = static_pointer_cast&lt;myType&gt;(p); // \u4e0d\u505a\u7c7b\u578b\u68c0\u67e5\uff0c\u76f4\u63a5\u628a\u4e00\u4e2a\u5176\u4ed6\u7c7b\u7c7b\u667a\u80fd\u6307\u9488\u8f6c\u5316\u4e3a myType \u7c7b\u667a\u80fd\u6307\u9488\nshared_ptr&lt;Base&gt; q = dynamic_pointer_cast&lt;Base&gt;(p); // \u628a\u4e00\u4e2a\u5176\u4ed6\u7c7b\u667a\u80fd\u6307\u9488\u8f6c\u5316\u4e3a Base \u7c7b\u667a\u80fd\u6307\u9488\uff0c\u8fd8\u505a\u7c7b\u578b\u68c0\u67e5\n</code></pre> <p>\u5176\u4e2d\uff0c<code>dynamic_pointer_cast</code> \u548c <code>static_pointer_cast</code> \u6240\u9075\u5faa\u7684\u89c4\u5219\u548c\u6211\u4eec\u5728\u591a\u6001\u4e0e\u6a21\u677f\u4e2d\u5b66\u8fc7\u7684 <code>dynamic_cast</code>\u3001<code>static_cast</code> \u76f8\u540c\u3002\u4f46\u662f\u5176\u53c2\u6570\u548c\u8fd4\u56de\u503c\u90fd\u662f <code>shared_ptr</code>\u3002</p> <p>\u8fd9\u91cc\u5bf9 <code>dynamic_cast</code> \u505a\u4e00\u4e2a\u8bf4\u660e\uff1a</p> <ul> <li><code>T2* pObj = dynamic_cast&lt;T2*&gt;(obj_p)</code> \u8fd9\u4e00\u4e2a\u8bed\u53e5\u91cc\u4f1a\u51fa\u73b0\u4e24\u4e2a <code>T2</code>\uff0c\u7b2c\u4e00\u4e2a\u662f <code>pObj</code> \u7684\u7c7b\u578b\uff0c\u7b2c\u4e8c\u4e2a\u662f <code>obj_p</code> \u7684\u8f6c\u6362\u76ee\u6807\u3002</li> <li><code>dynamic_cast</code> \u4e00\u822c\u7528\u6765\u505a\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\uff0c\u56e0\u4e3a\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\u76f4\u63a5\u8d4b\u503c\u5c31\u53ef\u4ee5\u4e86\u3002</li> <li><code>dynamic_pointer_cast</code> \u53c2\u6570\u90fd\u662f\u667a\u80fd\u6307\u9488\u3002</li> </ul> <pre><code>shared_ptr&lt;Base&gt; q = dynamic_pointer_cast&lt;Base&gt;(p); // \u8be5 dynamic_cast \u4f5c\u7528\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u8bed\u53e5\uff0c\u4f46\u662f\u7ed3\u679c\u662f\u4e2a shared_ptr\nBase* q = dynamic_cast&lt;Base*&gt;(p.get());\n</code></pre> <p>\u5907\u6ce8\uff1a\u6307\u5411\u540c\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u7684\u6240\u6709 <code>shared_ptr</code>\uff0c\u4e0d\u8bba\u6307\u9488\u672c\u8eab\u7684\u7c7b\u578b\uff0c\u90fd\u4f1a\u7ed9 <code>use_count++</code>\u3002</p> <p><code>reset</code> \u51fd\u6570\uff1a\u5c06 <code>p</code> \u6307\u5411\u53e6\u5916\u4e00\u4e2a\u5bf9\u8c61\u3002\u5f53 <code>()</code> \u4e3a\u7a7a\u7684\u65f6\u5019\uff0c<code>p</code> \u6307\u5411 <code>null</code>\uff0c\u5f53\u4f7f\u7528 <code>reset</code> \u51fd\u6570\u65f6\uff0c\u539f\u6765 <code>p</code> \u6307\u5411\u7684\u5bf9\u8c61\u7684 <code>count</code> \u4f1a\u51cf\u4e00\u3002</p> <p><code>reset</code> \u548c\u76f4\u63a5\u5bf9\u6307\u9488\u8d4b\u503c\u7684\u533a\u522b\uff1a<code>reset</code> \u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f46\u662f\u76f4\u63a5\u5bf9\u6307\u9488\u8d4b\u503c\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5730\u5740\u6216\u8005\u522b\u7684\u6307\u9488\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\nusing namespace std;\n\nint main() {\n    shared_ptr&lt;int&gt; sp(new int(1)) ;\n    cout &lt;&lt; \"the address is \" &lt;&lt; sp &lt;&lt; '\\n';\n    sp.reset(new int(2));\n    cout &lt;&lt; \"the address is \" &lt;&lt; sp &lt;&lt; '\\n';\n    sp.reset();\n    cout &lt;&lt; \"the address is \" &lt;&lt; sp &lt;&lt; '\\n';\n    return 0;\n}\n\n/*\noutput:\nthe address is 0x17e1e70\nthe address is 0x17e1eb0\nthe address is 0\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_18","title":"\u667a\u80fd\u6307\u9488\u7684\u95ee\u9898","text":"<pre><code>#include &lt;memory&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nclass Child; // \u5148\u58f0\u660e\uff0c\u540e\u5b9a\u4e49\nclass Parent {\n    shared_ptr&lt;Child&gt; child;\n    public:\n    Parent() { cout &lt;&lt; \"parent constructing\" &lt;&lt; endl; }\n    ~Parent() { cout &lt;&lt; \"parent destructing\" &lt;&lt; endl; }\n    void setChild(shared_ptr&lt;Child&gt; c) {\n        child = c;\n    }\n};\n\nclass Child {\n    shared_ptr&lt;Parent&gt; parent;\npublic:\n    Child() { cout &lt;&lt; \"child constructing\" &lt;&lt; endl; }\n    ~Child() { cout &lt;&lt; \"child destructing\" &lt;&lt; endl; }\n    void setParent(shared_ptr&lt;Parent&gt; p) {\n        parent = p;\n    }\n};\n\nvoid test() {\n    shared_ptr&lt;Parent&gt; p(new Parent());\n    shared_ptr&lt;Child&gt; c(new Child());\n    p-&gt;setChild(c);\n    c-&gt;setParent(p);\n    // p \u548c c \u88ab\u9500\u6bc1\n}\n\nint main() {\n    test();\n    return 0;\n}\n\n/*\noutput:\nparent constructing\nchild constructing          \n*/\n</code></pre> <p><code>Parent</code> \u548c <code>Child</code> \u4e24\u4e2a\u5bf9\u8c61\u4e2d\u7684\u6210\u5458\u5206\u522b\u662f\u6307\u5411\u5bf9\u65b9\u7684\u667a\u80fd\u6307\u9488\uff0c\u5bfc\u81f4 <code>p</code>\u3001<code>c</code> \u88ab\u6790\u6784\u4e4b\u540e\uff0c<code>Parent</code> \u548c <code>Child</code> \u6240\u5728\u5185\u5b58\u6ca1\u6709\u88ab\u6790\u6784\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a<code>weak_ptr</code>\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#weak_ptr","title":"\u5f31\u5f15\u7528 <code>weak_ptr</code>","text":"<p>\u5f31\u5f15\u7528\u6307\u9488\u6307\u5411\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u88ab <code>count</code> \u8ba1\u6570\u3002<code>weak_ptr</code> \u5fc5\u987b\u7531 <code>shared_ptr</code> \u6784\u9020\uff0c\u4f46\u662f\u4e0d\u4f1a\u8ba1\u6570\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u80fd\u591f\u88ab\u667a\u80fd\u6307\u9488\u8d4b\u503c\u7684\u201c\u666e\u901a\u6307\u9488\u201d\u3002</p>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_19","title":"\u6784\u9020\u5f31\u5f15\u7528\u6307\u9488","text":"<pre><code>shared_ptr&lt;int&gt; sp(new int(3));\nweak_ptr&lt;int&gt; wp1 = sp; // weak_ptr \u5fc5\u987b\u7531 shared_ptr \u6784\u9020\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_20","title":"\u5f31\u5f15\u7528\u6307\u9488\u7684\u64cd\u4f5c","text":"<pre><code>wp.use_count(); // \u83b7\u53d6\u5f15\u7528\u8ba1\u6570\uff0c\u867d\u7136\u5f31\u5f15\u7528\u6307\u9488\u4e0d\u88ab count \u8ba1\u6570\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u83b7\u53d6\u5f15\u7528\u6b21\u6570 count\uff0ccount \u503c\u4e3a\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u667a\u80fd\u6307\u9488\u7684\u6570\u91cf\u3002\nwp.reset(); // \u6e05\u9664\u6307\u9488\nwp.expired(); // \u5f53\u5f31\u5f15\u7528\u6307\u9488\u7684 count == 0 \u65f6\uff0c\u5931\u6548\uff0c\u8fd4\u56de true\u3002\u5426\u5219\u8fd4\u56de false\nsp = wp.lock(); // \u4ece\u5f31\u5f15\u7528 wp \u83b7\u5f97\u4e00\u4e2a\u667a\u80fd\u6307\u9488 sp\uff0c\u8be5\u667a\u80fd\u6307\u9488\u4f1a\u589e\u52a0 count\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#unique_ptr","title":"\u72ec\u4eab\u6240\u6709\u6743 <code>unique_ptr</code>","text":"<p><code>unique_ptr</code>\uff1a\u6bcf\u4e2a\u5bf9\u8c61\u53ea\u80fd\u7531\u4e00\u4e2a <code>unique_ptr</code> \u6307\u5411\u5b83\u3002\u8be5\u5bf9\u8c61\u4e0d\u80fd\u88ab\u5176\u4ed6 <code>shared_ptr</code>\u3001<code>weak_ptr</code> \u6307\u5411\u3002</p> <p>\u67d0\u4e2a\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a <code>unique_ptr</code> \u6307\u5411\u4e00\u4e2a\u7ed9\u5b9a\u5bf9\u8c61\uff0c\u7531\u4e8e\u4e00\u4e2a <code>unique_ptr</code>\u201c\u62e5\u6709\u201d\u5b83\u6307\u5411\u7684\u5bf9\u8c61\uff0c\u56e0\u6b64 <code>unique_ptr</code> \u4e0d\u652f\u6301\u666e\u901a\u7684\u62f7\u8d1d\u6216\u8d4b\u503c\u64cd\u4f5c\u3002</p> <p>\u6ce8\u610f\u5230 <code>unique</code> \u53ea\u662f\u548c <code>shared</code> \u4e0e <code>weak</code> \u4e0d\u80fd\u5171\u4eab\uff0c\u4f46\u662f\u4ecd\u7136\u53ef\u4ee5\u548c\u666e\u901a\u6307\u9488\u548c\u5f15\u7528\u5171\u4eab\u3002</p> <pre><code>#include &lt;memory&gt;\n#include &lt;utility&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    int a = 1;\n    auto u4 = make_unique&lt;int&gt;(a); // \u521b\u5efa\u65b9\u5f0f\u5728\u4e4b\u540e\u8bb2\u8ff0\n    int&amp; b = a;\n    int* x = &amp;a;\n    cout &lt;&lt; *x &lt;&lt; endl;\n    cout &lt;&lt; b &lt;&lt; endl;\n    cout &lt;&lt; *u4 &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\n1\n1\n1\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#unique_ptr_1","title":"<code>unique_ptr</code> \u7684\u521b\u5efa","text":"<pre><code>unique_ptr&lt;int&gt; u1; // \u7a7a\u6307\u9488\nunique_ptr&lt;int&gt; u2(new int(3)); // \u65b0\u5206\u914d\u4e00\u5757\u5185\u5b58\u7ed9 unique_ptr\nint a = 1;\nunique_ptr&lt;int&gt; u3(a); // \u7528\u5df2\u6709\u5bf9\u8c61 a \u521b\u5efa unique_ptr\nauto u4 = std::make_unique&lt;int&gt;(20); // \u4e5f\u662f\u65b0\u5206\u914d\u4e00\u5757\u5185\u5b58\u7ed9 unique_ptr\n                                     // make_unique \u51fd\u6570\u81ea\u52a8\u8fd4\u56de unique_ptr \u7c7b\u578b\u7684\u8fd4\u56de\u503c\n                                     // \u4f9b\u7f16\u8bd1\u5668\u63a8\u5bfc u4 \u7684\u7c7b\u578b\n</code></pre> <p>\u548c <code>weak_ptr</code> \u4e0d\u540c\uff0c<code>unique_ptr</code> \u4e0d\u9700\u8981\u548c <code>shared_ptr</code> \u5171\u540c\u4f7f\u7528\u3002\u5b9e\u9645\u4e0a\uff0c<code>unique_ptr</code> \u4e0d\u80fd\u548c <code>shared_ptr</code> \u540c\u65f6\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e5f\u4e0d\u80fd\u7528 <code>shared_ptr</code> \u6784\u9020 <code>unique_ptr</code>\u3002</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u662f\u9519\u7684\u3002</p> <pre><code>shared_ptr&lt;int&gt; sp(new int(1));\nunique_ptr&lt;int&gt; up(sp);\n</code></pre> <p>\u5148\u7ed9\u51fa\u7ed3\u8bba\uff0c<code>unique_ptr</code> \u76f8\u6bd4\u4e8e\u666e\u901a\u6307\u9488\u5177\u6709\u5982\u4e0b\u7684\u7279\u70b9\uff1a</p> <ul> <li>\u4e0d\u53ef\u7528 <code>unique_ptr</code> \u7ed9\u5176\u4ed6\u6307\u9488\u8d4b\u503c</li> </ul> <pre><code>int* p = new int(20);\nint&amp; b = *p; // \u53ef\u4ee5\nauto p = make_unique&lt;int&gt;(20);\nint* g = *p; // \u4e0d\u53ef\u4ee5\n</code></pre> <ul> <li>\u4e0d\u53ef\u4ee5\u8f93\u51fa</li> </ul> <pre><code>auto p = make_unique&lt;int&gt;(20);\ncout &lt;&lt; p &lt;&lt; endl; // \u4e0d\u53ef\u4ee5\n</code></pre> <ul> <li>\u4e0d\u53ef\u4ee5 <code>delete</code></li> </ul> <pre><code>auto p = make_unique&lt;int&gt;(20);\ndelete p;\n\n/*\noutput:\n1152177172/source.cpp: In function 'int main()':\n1152177172/source.cpp:7:12: error: type 'class std::unique_ptr&lt;int, std::default_delete&lt;int&gt; &gt;' argument given to 'delete', expected pointer\n     delete p;\n            ^\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#unique_ptr_2","title":"<code>unique_ptr</code> \u7684\u64cd\u4f5c","text":"<pre><code>unique_ptr&lt;int&gt; u1; // \u521b\u5efa\u7a7a unique_ptr\nu1 = nullptr; // \u6b64\u65f6\u4f1a\u91ca\u653e u1 \u6307\u5411\u7684\u5bf9\u8c61\u7684\u6743\u9650\uff0c\u4f46\u662f\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u6790\u6784\nu1.release(); // \u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u6307\u5411\u8be5\u5bf9\u8c61\u7684\u666e\u901a\u6307\u9488\uff0c\u6b64\u65f6 u1 \u6307\u9488\u88ab\u7834\u574f\uff0c\u5177\u4f53\u89c1\u4e0b\nu1.reset(); // \u5728\u6539\u53d8 u1 \u6307\u5411\u7684\u540c\u65f6\uff0c\u4f1a\u91ca\u653e u1 \u6307\u5411\u7684\u5bf9\u8c61\n</code></pre> <p>\u5bf9\u4e8e <code>release</code> \u7684\u8bf4\u660e\uff08\u8fd9\u4e9b\u8bf4\u660e\u90fd\u662f\u57fa\u4e8e <code>retexter</code>\uff0c\u6211\u53d1\u73b0 <code>glot</code> \u6839\u672c\u4e0d\u652f\u6301 <code>make_unique</code>\uff0c\u800c <code>tio</code> \u4e0d\u4f1a\u62a5\u9519\u3002\u518d\u6b21\u4f53\u73b0\u4e86\u4e09\u4e2a\u5e73\u53f0\u90fd\u5f88\u6709\u7528\uff0c\u90fd\u5f97\u7528\u60ef\uff09\uff1a</p> <pre><code>#include &lt;memory&gt;\n#include &lt;utility&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    int a = 1;\n    auto u4 = make_unique&lt;int&gt;();\n    cout &lt;&lt; *u4 &lt;&lt; endl;\n    cout &lt;&lt; \"====================\" &lt;&lt; endl;\n    u4.release();\n    // cout &lt;&lt; *u4 &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\n0\n====================\n*/\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u628a\u7b2c 11 \u884c\u7684\u6ce8\u91ca\u53bb\u6389\uff0c\u8bd5\u56fe\u6253\u5370\u51fa <code>release</code> \u540e\u7684 <code>unique_ptr</code>\u3002</p> <pre><code>#include &lt;memory&gt;\n#include &lt;utility&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    int a = 1;\n    auto u4 = make_unique&lt;int&gt;();\n    cout &lt;&lt; *u4 &lt;&lt; endl;\n    cout &lt;&lt; \"====================\" &lt;&lt; endl;\n    u4.release();\n    cout &lt;&lt; a &lt;&lt; endl;\n    cout &lt;&lt; *u4 &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\nInvalid memory reference (SIGSEGV)\n0\n====================\n1\n*/\n</code></pre> <p>\u53ef\u4ee5\u89c1\u5f97\uff0c\u6700\u540e\u90a3\u4e2a\u8f93\u51fa\u8bed\u53e5\u4e00\u5b9a\u662f\u975e\u6cd5\u7684\uff0c<code>release</code> \u76f8\u5f53\u4e8e\u7834\u574f\u4e86 <code>u4</code>\uff0c\u8fd4\u56de\u4e86\u4e00\u4e2a\u88f8\u6307\u9488\uff0c<code>u4</code> \u5c06\u65e0\u6cd5\u88ab\u590d\u7528\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6211\u4eec\u4ea4\u6362 11\u300112 \u884c\uff0c\u5148\u6253\u5370\u5df2\u7ecf\u88ab <code>release</code> \u7684 <code>u4</code> \u518d\u6253\u5370 <code>a</code>\uff0c\u65e0\u6cd5\u628a <code>a</code> \u6253\u5370\u51fa\u6765\uff0c\u56e0\u4e3a\u5f53\u6211\u4eec\u8bd5\u56fe\u6253\u5370 <code>*u4</code> \u7684\u65f6\u5019\uff0c\u7a0b\u5e8f\u5c31\u7ed3\u675f\u4e86\uff0c\u56e0\u800c\u8f93\u51fa\u662f\u8fd9\u6837\uff1a</p> <pre><code>#include &lt;memory&gt;\n#include &lt;utility&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    int a = 1;\n    auto u4 = make_unique&lt;int&gt;();\n    cout &lt;&lt; *u4 &lt;&lt; endl;\n    cout &lt;&lt; \"====================\" &lt;&lt; endl;\n    u4.release();\n    cout &lt;&lt; *u4 &lt;&lt; endl;\n    cout &lt;&lt; a &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\nInvalid memory reference (SIGSEGV)\n0\n====================\n*/\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#unique_ptr_3","title":"\u5c06\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u6743\u5728\u4e24\u4e2a <code>unique_ptr</code> \u4e4b\u95f4\u8f6c\u6362\u7684\u65b9\u6cd5","text":"<pre><code>// \u5c06 p1 \u6307\u5411\u7684\u5bf9\u8c61\u8f6c\u79fb\u7ed9 p2\nunique_ptr&lt;int&gt; p1(new int (1));\nunique_ptr&lt;int&gt; p2(p1.release()); // release \u5c06 p1 \u7f6e\u4e3a\u7a7a\uff0c\u5e76\u4e14\u8fd4\u56de\u88f8\u6307\u9488\n\n\n// \u5c06 p3 \u6307\u5411\u7684\u5bf9\u8c61\u8f6c\u79fb\u7ed9 p2\nunique_ptr&lt;int&gt; p3(new int(3));\np2.reset(p3.release()); // reset \u91ca\u653e\u4e86 p2 \u539f\u6765\u6307\u5411\u7684\u5185\u5b58\n</code></pre> <p><code>release</code> \u6210\u5458\u8fd4\u56de <code>unique_ptr</code> \u5f53\u524d\u4fdd\u5b58\u7684\u6307\u9488\u5e76\u5c06\u5176\u7f6e\u4e3a\u7a7a\u3002\u56e0\u6b64\uff0c<code>p2</code> \u88ab\u521d\u59cb\u5316\u4e3a <code>p1</code> \u539f\u6765\u4fdd\u5b58\u7684\u6307\u9488\uff0c\u800c <code>p1</code> \u88ab\u7f6e\u4e3a\u7a7a\u3002</p> <p><code>reset</code> \u6210\u5458\u63a5\u53d7\u4e00\u4e2a\u53ef\u9009\u7684\u6307\u9488\u53c2\u6570\uff0c\u4ee4 <code>unique_ptr</code> \u91cd\u65b0\u6307\u5411\u7ed9\u5b9a\u7684\u6307\u9488\u3002</p> <p>\u8c03\u7528 <code>release</code> \u4f1a\u5207\u65ad <code>unique_ptr</code> \u548c\u5b83\u539f\u6765\u7ba1\u7406\u7684\u7684\u5bf9\u8c61\u95f4\u7684\u8054\u7cfb\u3002<code>release</code> \u8fd4\u56de\u7684\u6307\u9488\u901a\u5e38\u88ab\u7528\u6765\u521d\u59cb\u5316\u53e6\u4e00\u4e2a\u667a\u80fd\u6307\u9488\u6216\u7ed9\u53e6\u4e00\u4e2a\u667a\u80fd\u6307\u9488\u8d4b\u503c\u3002</p> <pre><code>// \u6ce8\u610f\u8fd9\u91cc\u975e\u5e38\u795e\u5947\uff0c\u6211\u4eec\u5728\u4e4b\u524d\u7ed9\u7684\u6784\u9020\u65b9\u6cd5\u4e2d\uff0c\u8981\u4e48\u662f\u7528\u6784\u9020\u65b0\u6307\u9488\u6307\u5411\u67d0\u4e2a\u5bf9\u8c61\uff0c\u6bd4\u5982\uff1a\nint a = 20;\nunique_ptr&lt;int&gt; p2(a);\n// \u8981\u4e48\u662f\u5148\u6784\u9020\u65b0\u6307\u9488\uff0c\u518d\u7528\u522b\u7684\u6307\u9488\u7ed9\u4ed6\u8d4b\u503c\uff0c\u6bd4\u5982\nunique_ptr&lt;int&gt; u1; // \u7a7a\u6307\u9488\nint a = 20;\nu1 = &amp;a;\n</code></pre> <p>\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;memory&gt;\n#include &lt;utility&gt;\nusing namespace std;\nint main() {\n    auto up1 = std::make_unique&lt;int&gt;(20);\n    // unique_ptr&lt;int&gt; up2 = up1; // \u9519\u8bef\uff0c\u4e0d\u80fd\u590d\u5236 unique \u6307\u9488\n    unique_ptr&lt;int&gt; up2 = std::move(up1); // \u53ef\u4ee5\u79fb\u52a8 unique \u6307\u9488\n    int* p = up2.release(); // \u653e\u5f03\u6307\u9488\u63a7\u5236\u6743\uff0c\u8fd4\u56de\u88f8\u6307\u9488\n    delete p;\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/function-object-and-smart-pointers/#_21","title":"\u603b\u7ed3","text":"<p>\u667a\u80fd\u6307\u9488\u53ef\u4ee5\u5e2e\u52a9\u7ba1\u7406\u5185\u5b58\uff0c\u907f\u514d\u5185\u5b58\u6cc4\u9732\u3002\u5728\u624b\u52a8\u7ef4\u62a4\u6307\u9488\u4e0d\u53ef\u884c\u3001\u590d\u5236\u5bf9\u8c61\u5f00\u9500\u592a\u5927\u65f6\uff0c\u667a\u80fd\u6307\u9488\u662f\u552f\u4e00\u9009\u62e9\u3002</p> <p>\u7f3a\u70b9\uff1a</p> <ul> <li> <p>\u5f15\u7528\u8ba1\u6570\u4f1a\u5f71\u54cd\u6027\u80fd</p> </li> <li> <p>\u667a\u80fd\u6307\u9488\u4e0d\u603b\u662f\u667a\u80fd\uff0c\u9700\u8981\u4e86\u89e3\u5185\u90e8\u539f\u7406</p> </li> <li> <p>\u9700\u8981\u5c0f\u5fc3\u73af\u72b6\u7ed3\u6784\u548c\u6570\u7ec4\u6307\u9488</p> </li> </ul>"},{"location":"languages/c-oop/function/","title":"C++ \u8bed\u8a00\u51fd\u6570\u8fdb\u9636","text":"<p>\u4e00\u4e9b\u65b0\u4e1c\u897f</p> <p>\u6211\u4eec\u76f8\u4fe1\u8bfb\u8005\u5df2\u7ecf\u77e5\u6653\u5982\u4f55\u7f16\u5199 C/C++ \u8bed\u8a00\u4e4b\u4e2d\u7684\u51fd\u6570\uff0c\u73b0\u5728\u6211\u4eec\u5c06\u8981\u8bb2\u89e3\u4e00\u4e9b\u7c7b\u4f3c\u51fd\u6570\u91cd\u8f7d\u3001\u9ed8\u8ba4\u53c2\u6570\u7b49\u8fdb\u9636\u529f\u80fd\u3002\u5229\u7528\u597d\u8fd9\u4e9b\u529f\u80fd\u53ef\u4ee5\u7b80\u5316\u7f16\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"languages/c-oop/function/#_1","title":"\u51fd\u6570\u91cd\u8f7d","text":""},{"location":"languages/c-oop/function/#_2","title":"\u5b9a\u4e49\u4e0e\u610f\u4e49","text":"<p>\u540c\u4e00\u540d\u79f0\u7684\u51fd\u6570\uff0c\u6709\u4e24\u4e2a\u4ee5\u4e0a\u4e0d\u540c\u7684\u51fd\u6570\u5b9e\u73b0\uff0c\u88ab\u79f0\u4e3a\u51fd\u6570\u91cd\u8f7d\uff08\u82f1\u8bed\uff1aOverload\uff09\u3002</p>"},{"location":"languages/c-oop/function/#_3","title":"\u533a\u522b\u65b9\u6cd5","text":"<p>\u591a\u4e2a\u540c\u540d\u7684\u51fd\u6570\u5b9e\u73b0\u4e4b\u95f4\uff0c\u5fc5\u987b\u4fdd\u8bc1\u81f3\u5c11\u6709\u4e00\u4e2a\u51fd\u6570\u53c2\u6570\u7684\u7c7b\u578b\u6709\u533a\u522b\u3002\u5373\u8fd9\u4e9b\u540c\u540d\u51fd\u6570\u7684\u5f62\u5f0f\u53c2\u6570\u7684\u4e2a\u6570\u3001\u7c7b\u578b\u6216\u8005\u987a\u5e8f\u5fc5\u987b\u4e0d\u540c\uff0c\u800c\u8fd4\u56de\u503c\u3001\u53c2\u6570\u540d\u79f0\u7b49\u4e0d\u80fd\u4f5c\u4e3a\u533a\u5206\u6807\u8bc6\u3002</p> <pre><code>float f(int s) { return s / 2.0; }\nint f(int s) { return s * 2; }\nint main() {\n    cout &lt;&lt; f(3) &lt;&lt; endl;\n    return 0;\n}\n</code></pre> <p>\u4e0a\u8ff0\u4e24\u4e2a <code>f</code> \u51fd\u6570\u5e76\u4e0d\u662f\u51fd\u6570\u91cd\u8f7d\uff0c\u56e0\u4e3a\u5176\u53ea\u6709\u8fd4\u56de\u503c\u7c7b\u578b\u4e0d\u540c\u3002\u5728\u4e3b\u51fd\u6570\u4e2d\u8c03\u7528 <code>f(3)</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u4f9d\u7136\u65e0\u6cd5\u786e\u5b9a\u8c03\u7528\u54ea\u4e00\u4e2a\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/function/#_4","title":"\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362","text":"<p>\u5b9a\u4e49\u4e0e\u6027\u8d28</p> <p>\u5982\u679c\u51fd\u6570\u8c03\u7528\u8bed\u53e5\u7684\u5b9e\u53c2\u4e0e\u51fd\u6570\u5b9a\u4e49\u4e2d\u7684\u5f62\u53c2\u6570\u636e\u7c7b\u578b\u4e0d\u540c\uff0c\u4e14\u4e24\u79cd\u6570\u636e\u7c7b\u578b\u5728 C++ \u4e2d\u53ef\u4ee5\u8fdb\u884c\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\uff08\u5982 <code>int</code> \u548c <code>float</code>\uff0c<code>float</code> \u5728\u81ea\u52a8\u8f6c\u6362\u6210 <code>int</code> \u65f6\u662f\u5411\u4e0b\u53d6\u6574\uff09\uff0c\u5219\u5b9e\u53c2\u4f1a\u88ab\u8f6c\u6362\u4e3a\u5f62\u53c2\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid print(float score) {\n    cout &lt;&lt; \"score =\" &lt;&lt; score &lt;&lt; endl;\n}\n\nint main() {\n    int a = 1;\n    print(a); // \u6b64\u65f6 a \u4f1a\u88ab\u8f6c\u6362\u4e3a float \u578b\n    return 0;\n}\n</code></pre> <p>\u53c8\u4f8b\u5982\uff0c\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u4e5f\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\u6765\u5b8c\u6210\u3002\u8fd9\u4e9b\u5c06\u4f1a\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u9610\u8ff0\u3002</p> <p>\u4f18\u5148\u5339\u914d\u8c03\u7528</p> <p>\u5f53\u51fd\u6570\u91cd\u8f7d\u65f6\uff0c\u4f1a\u4f18\u5148\u8c03\u7528\u7c7b\u578b\u5339\u914d\u7684\u51fd\u6570\u5b9e\u73b0\uff0c\u5426\u5219\u624d\u4f1a\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u3002\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid print(int score) { cout &lt;&lt; score &lt;&lt; endl; }\nvoid print(float score) { cout &lt;&lt; score &lt;&lt; endl; }\n\nint main() {\n    float a = 1.0;\n    print(a); // 1\n    return 0;\n}\n</code></pre> <p>\u8fd9\u91cc\u770b\u4e0a\u53bb\u548c\u4f18\u5148\u5339\u914d\u8c03\u7528\u76f8\u4e92\u77db\u76fe\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\uff0c\u8fd9\u662f\u7531\u4e8e <code>float</code> \u8f93\u51fa\u7cbe\u5ea6\u7684\u95ee\u9898\u3002\u6211\u4eec\u7a0d\u4f5c\u4fee\u6539\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\nusing namespace std;\nvoid print(int score) {\n    cout &lt;&lt; \"int = \" &lt;&lt; score &lt;&lt; endl;\n}\nvoid print(float score) {\n    cout &lt;&lt; \"float = \" &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; score &lt;&lt; endl;\n}\n\nint main() {\n    float a = 1.0;\n    print(a); // \"float = 1.00\"\n    return 0;\n}\n</code></pre> <p>\u8fd9\u91cc\u8c03\u7528\u4e86 <code>float</code> \u4f7f\u7528\u7684\u63a7\u5236\u7cbe\u5ea6\u7684\u5e93 <code>&lt;iomanip&gt;</code>\u3002</p>"},{"location":"languages/c-oop/function/#_5","title":"\u53c2\u6570\u7f3a\u7701\u503c","text":""},{"location":"languages/c-oop/function/#_6","title":"\u5b9a\u4e49","text":"<p>\u51fd\u6570\u53c2\u6570\u53ef\u4ee5\u5728\u5b9a\u4e49\u65f6\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff08\u7f3a\u7701\u503c\uff09\uff0c\u8fd9\u6837\u5728\u8c03\u7528\u8be5\u51fd\u6570\u65f6\uff0c\u82e5\u4e0d\u63d0\u4f9b\u76f8\u5e94\u7684\u5b9e\u53c2\uff0c\u5219\u7f16\u8bd1\u81ea\u52a8\u5c06\u76f8\u5e94\u5f62\u53c2\u8bbe\u7f6e\u6210\u7f3a\u7701\u503c\u3002\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid print(const char* msg = \"hello\") {\n    cout &lt;&lt; msg &lt;&lt; '#';\n}\n\nint main() {\n    print(); // \"hello#\"\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/function/#_7","title":"\u8bed\u6cd5","text":"<p>\u7f3a\u7701\u503c\u5fc5\u987b\u653e\u5728\u6ca1\u6709\u7f3a\u7701\u503c\u7684\u53c2\u6570\u4e4b\u540e\uff0c\u6709\u591a\u4e2a\u7f3a\u7701\u503c\u65f6\u540c\u7406\u3002</p>"},{"location":"languages/c-oop/function/#_8","title":"\u7f3a\u7701\u503c\u4fdd\u62a4","text":"<p>\u5982\u679c\u56e0\u4e3a\u51fd\u6570\u7f3a\u7701\u503c\uff0c\u5bfc\u81f4\u4e86\u51fd\u6570\u8c03\u7528\u7684\u4e8c\u4e49\u6027\uff0c\u7f16\u8bd1\u5668\u5c06\u62d2\u7edd\u4ee3\u7801\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53c2\u6570\u7c7b\u578b\u53ef\u4ee5\u53d1\u751f\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u7684\u51fd\u6570\u91cd\u8f7d\u662f\u5408\u6cd5\u7684\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u6709\u8c03\u7528\u7684\u4f18\u5148\u7ea7\u3002\u4f46\u662f\u7f3a\u7701\u503c\u5e26\u6765\u7684\u53c2\u6570\u7c7b\u578b\u91cd\u590d\u5374\u662f\u4e0d\u5408\u6cd5\u7684\u3002\u5982\u4e0b\u9762\u4ee3\u7801\uff0c\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u4e0d\u901a\u8fc7\uff1a</p> <pre><code>void fun(int a, int b = 1) {\n    cout &lt;&lt; a + b &lt;&lt; endl;\n}\nvoid fun(int a) {\n    cout &lt;&lt; a &lt;&lt; endl;\n}\n\nfun(2);\n</code></pre> <p>\u6b64\u65f6\u7f16\u8bd1\u5668\u65e0\u6cd5\u5224\u5b9a\u8be5\u8c03\u7528\u54ea\u4e00\u4e2a\u51fd\u6570\u3002</p> \u4f8b\u9898 <p>\u3010\u4f8b\u9898 1\u3011</p> <p></p> <p>\u5176\u4ed6\u9009\u9879\u9519\u8bef\u7684\u539f\u56e0\u5206\u522b\u4e3a\uff1a</p> <p>A. \u4e0d\u53ef\u6839\u636e\u5f62\u53c2\u540d\u5b57\u4e0e\u6709\u65e0\u5f62\u53c2\u6765\u533a\u522b\u51fd\u6570\u3002</p> <p>B. \u4e0d\u53ef\u6839\u636e\u8fd4\u56de\u503c\u7c7b\u578b\u4e0d\u540c\u6765\u533a\u522b\u51fd\u6570\u3002</p> <p>D. \u7f3a\u7701\u503c\u9020\u6210\u4e8c\u4e49\u6027\uff0c\u7f16\u8bd1\u5931\u8d25\u3002</p> <p>\u3010\u4f8b\u9898 2\u3011</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint fun(int a) { return a + 1; }\nfloat fun(float a) { return a; }\nint fun(int a, int b) { return a + b; }\n\nint main() {\n    float a = 1.5;\n    int b = 2;\n    cout &lt;&lt; fun(fun(a, b)) + fun(fun(a), b) &lt;&lt; endl;\n    return 0;\n}\n</code></pre> <p><code>fun(fun(a, b))</code> \u4e2d\u91cc\u5c42\u7684 <code>fun(a, b)</code> \u8c03\u7528 <code>int fun(int a, int b)</code>\uff0c\u76f4\u63a5\u5bf9 <code>float a</code> \u8fdb\u884c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u5e76\u5411\u4e0b\u53d6\u6574\uff0c\u5373 <code>fun(1, 2)</code>\uff0c\u6545\u800c\u8fd4\u56de <code>3</code> \u4e14\u4e3a <code>int</code> \u7c7b\u578b\u3002\u8c03\u7528 <code>int fun(int a = 1)</code>\uff0c\u8fd4\u56de <code>4</code>\u3002</p> <p><code>fun(fun(a), b)</code> \u4e2d\u91cc\u5c42 <code>fun(a)</code> \u8c03\u7528 <code>float fun(float a)</code>\uff0c\u8fd4\u56de <code>float 1.5</code>\uff0c\u63a5\u7740 <code>fun(1.5, 2)</code>\uff0c\u6b64\u5904\u4ec5\u53ef\u4ee5\u8c03\u7528 <code>int fun(int a, int b)</code>\uff0c\u6545\u800c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4e14\u5411\u4e0b\u53d6\u6574\uff0c\u5373 <code>fun(1, 2)</code>\u3002\u8fd4\u56de <code>3</code>\u3002</p> <p>\u7efc\u4e0a\uff0c\u7b54\u6848\u4e3a <code>7</code>\u3002</p>"},{"location":"languages/c-oop/function/#auto-decltype","title":"<code>auto</code> \u4e0e <code>decltype</code> \u7c7b\u578b\u63a8\u65ad","text":""},{"location":"languages/c-oop/function/#_9","title":"\u4f5c\u7528\u4e0e\u610f\u4e49","text":"<p>\u81ea\u52a8\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b</p> <p><code>auto</code> \u5173\u952e\u5b57\u53ef\u4ee5\u5141\u8bb8\u7531\u7f16\u8bd1\u5668\u6839\u636e\u4e0a\u4e0b\u6587\u81ea\u52a8\u786e\u5b9a\u53d8\u91cf\u7c7b\u578b\u3002\u4f8b\u5982\uff1a</p> <pre><code>auto i = 3; // i \u662f int \u578b\u53d8\u91cf\nauto f = 4.0f; // f \u662f float \u578b\u53d8\u91cf\nauto a('c'); // a \u662f char \u578b\u53d8\u91cf\nauto b = a; // b \u662f char \u578b\u53d8\u91cf\nauto* x = new auto(3); // x \u662f int* \u578b\u53d8\u91cf\n</code></pre> <p>\u8ffd\u8e2a\u8fd4\u56de\u7c7b\u578b\u7684\u51fd\u6570</p> <p>\u53ef\u4ee5\u5c06\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u7684\u58f0\u660e\u4fe1\u606f\u653e\u5230\u51fd\u6570\u53c2\u6570\u5217\u8868\u540e\u8fdb\u884c\u58f0\u660e\u3002</p> <pre><code>// \u666e\u901a\u51fd\u6570\u58f0\u660e\u5f62\u5f0f\nint func(char* ptr, int val);\n// \u8ffd\u8e2a\u8fd4\u56de\u7c7b\u578b\u7684\u51fd\u6570\u58f0\u660e\u5f62\u5f0f\nauto func(char* ptr,int val) -&gt; int;\n</code></pre> <p>\u8ffd\u8e2a\u8fd4\u56de\u7c7b\u578b\u5728\u539f\u672c\u51fd\u6570\u8fd4\u56de\u503c\u7684\u4f4d\u7f6e\u4f7f\u7528 <code>auto</code> \u5173\u952e\u5b57\u3002</p> <p>\u5728\u8fd9\u4e00\u4f8b\u5b50\u4e2d\uff0c<code>auto</code> \u5173\u952e\u5b57\u5e76\u6ca1\u6709\u5b9e\u8d28\u4f5c\u7528\uff0c\u7136\u800c\u5728\u6cdb\u578b\u7f16\u7a0b\u4e2d\uff0c<code>auto</code> \u6709\u7740\u5de8\u5927\u7684\u4f5c\u7528\u3002</p> <p>\u5728\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u8fc7\u7a0b\u4e2d\uff0c\u6bd4\u5982\u4e0b\u5217\u4ee3\u7801\uff1a</p> <pre><code>template&lt;typename T1, typename T2&gt;\ndecltype(t1 + t2) sum(T1&amp; t1, T2&amp; t2) {\n    return t1 + t2;\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e2d\uff0c<code>decltype</code> \u65e0\u6cd5\u63a8\u5bfc\u51fa <code>t1 + t2</code> \u7684\u7c7b\u578b\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u662f\u4ece\u5de6\u5411\u53f3\u5904\u7406\u7684\uff0c\u5f53\u5904\u7406\u5230 <code>decltype</code> \u7684\u65f6\u5019\uff0c\u7f16\u8bd1\u5668\u8fd8\u4e0d\u77e5\u9053 <code>t1 + t2</code> \u7684\u7c7b\u578b\u3002\u8ffd\u8e2a\u8fd4\u56de\u51fd\u6570\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u800c\u751f\u7684\uff0c\u4e0a\u9762\u7684\u51fd\u6570\u6211\u4eec\u53ef\u4ee5\u58f0\u660e\u5982\u4e0b\uff1a</p> <pre><code>template&lt;typename T1, typename T2&gt;\nauto sum(T1&amp; t1, T2&amp; t2) -&gt; decltype(t1 + t2) {\n    return t1 + t2;\n}\n</code></pre> <p>\u5982\u6b64\uff0c<code>decltype</code> \u5c31\u53ef\u4ee5\u6839\u636e <code>t1</code>\u3001<code>t2</code> \u7684\u7c7b\u578b\u63a8\u5bfc\u51fa\u51fd\u6570 <code>sum</code> \u7684\u8fd4\u56de\u7c7b\u578b\u3002</p> <p><code>auto</code> \u7684\u8fdb\u4e00\u6b65\u9610\u8ff0</p> <p><code>auto</code> \u5e76\u4e0d\u80fd\u4ee3\u8868\u4e00\u4e2a\u5b9e\u9645\u7684\u7c7b\u578b\u58f0\u660e\uff0c\u53ea\u662f\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u7684\u201c\u5360\u4f4d\u7b26\u201d\u3002\u4f7f\u7528 <code>auto</code> \u58f0\u660e\u7684\u53d8\u91cf\u5fc5\u987b\u9a6c\u4e0a\u521d\u59cb\u5316\uff0c\u4ee5\u8ba9\u7f16\u8bd1\u5668\u63a8\u65ad\u51fa\u5b83\u7684\u7c7b\u578b\uff0c\u5e76\u4e14\u5728\u7f16\u8bd1\u65f6\u5c06 <code>auto</code> \u5360\u4f4d\u7b26\u66ff\u6362\u4e3a\u771f\u6b63\u7684\u7c7b\u578b\u3002</p>"},{"location":"languages/c-oop/function/#auto","title":"<code>auto</code> \u7684\u5176\u4ed6\u6027\u8d28","text":"<ul> <li> <p><code>auto</code> \u53d8\u91cf\u5fc5\u987b\u5728\u7f16\u8bd1\u671f\u786e\u5b9a\u5176\u7c7b\u578b</p> </li> <li> <p><code>auto</code> \u53d8\u91cf\u5fc5\u987b\u5728\u5b9a\u4e49\u65f6\u521d\u59cb\u5316\uff1a</p> </li> </ul> <pre><code>auto a; // \u9519\u8bef\uff0c\u672a\u521d\u59cb\u5316\n</code></pre> <ul> <li>\u540c\u4e00\u4e2a <code>auto</code> \u5173\u952e\u5b57\u5e94\u5c06\u53d8\u91cf\u63a8\u5bfc\u4e3a\u540c\u4e00\u7c7b\u578b\uff1a</li> </ul> <pre><code>auto b4 = 10, b5 = 20.0, b6 = 'a'; // \u9519\u8bef\uff0c\u6ca1\u6709\u63a8\u5bfc\u4e3a\u540c\u4e00\u7c7b\u578b\n</code></pre> <ul> <li>\u53c2\u6570\u4e0d\u80fd\u88ab\u58f0\u660e\u4e3a <code>auto</code>\uff1a</li> </ul> <pre><code>void func(auto a) { } // \u9519\u8bef\n</code></pre> <ul> <li><code>auto</code> \u5e76\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u7c7b\u578b\u3002\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e9b\u4ee5\u7c7b\u578b\u4e3a\u64cd\u4f5c\u6570\u7684\u64cd\u4f5c\u7b26\uff0c\u5982 <code>sizeof</code> \u6216\u8005 <code>typeid</code>\uff1a</li> </ul> <pre><code>cout &lt;&lt; sizeof(auto) &lt;&lt; endl; // \u9519\u8bef\n</code></pre>"},{"location":"languages/c-oop/function/#decltype","title":"<code>decltype</code> \u5173\u952e\u5b57","text":"<p>\u914d\u5408 <code>auto</code> \u5173\u952e\u5b57\u4e00\u540c\u4f7f\u7528\uff0c\u4e3b\u8981\u7528\u4e8e\u6cdb\u578b\u7f16\u7a0b\u3002</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\nstruct {\n    char *name;\n} anon_u;\n\nstruct{\n    int d;\n    decltype(anon_u) id; // \u6ca1\u6709\u544a\u8bc9 id \u7684\u7c7b\u578b\uff0c\u7528 decltype \u81ea\u52a8\u63a8\u5bfc\n} anon_s[100]; // \u533f\u540d\u7684 struct \u6570\u7ec4\n\nint main() {\n    decltype(anon_s) as; // \u6ce8\u610f as \u7684\u7c7b\u578b\u3002\n    cin &gt;&gt; as[0].id.name;\n    return 0;\n}\n</code></pre> <p>\u7b2c\u4e00\u4e2a <code>decltype</code> \u7684\u7406\u89e3\u662f\uff0c\u7f16\u8bd1\u5668\u6839\u636e <code>anon_u</code> \u7684\u7ed3\u6784\u63a8\u5bfc\u51fa\u4e00\u4e2a\u7c7b\u578b\uff0c\u5e76\u521b\u5efa\u4e86\u8fd9\u4e2a\u7c7b\u578b\u7684\u65b0\u53d8\u91cf <code>id</code>\u3002</p> <p>\u7b2c\u4e8c\u4e2a <code>decltype</code> \u7684\u7406\u89e3\u662f\uff0c\u7f16\u8bd1\u5668\u6839\u636e <code>anon_s</code> \u7684\u7ed3\u6784\u63a8\u5bfc\u51fa\u4e00\u4e2a\u7c7b\u578b\uff0c\u8fd9\u4e2a\u7c7b\u578b\u662f\u67d0\u4e2a\u533f\u540d\u7684\u7ed3\u6784\u4f53\u6570\u7ec4\u3002\u5e76\u521b\u5efa\u4e86\u8fd9\u4e2a\u7ed3\u6784\u4f53\u6570\u7ec4\u7c7b\u578b\u7684\u65b0\u53d8\u91cf <code>as</code>\uff0c<code>as</code>\u4e5f\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u6570\u7ec4\uff08\u5982\u679c <code>decltype</code> \u62ec\u53f7\u91cc\u9762\u7684\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u90a3\u4e48\u63a8\u5bfc\u51fa\u7684\u7c7b\u578b\u4e5f\u662f\u4e2a\u6570\u7ec4\uff0c\u800c\u4e0d\u662f\u8fd9\u4e2a\u6570\u7ec4\u91cc\u6bcf\u4e00\u4e2a\u5143\u7d20\u7684\u7c7b\u578b\uff09\u3002</p> <p>\u914d\u5408 <code>auto</code> \u63a8\u5bfc\u51fa\u8fd4\u56de\u503c\u7c7b\u578b\uff1a</p> <pre><code>auto func(int x, int y) -&gt; decltype(x + y) {\n    return x + y;\n}\n</code></pre> <p>C++14 \u4e2d\u4e0d\u518d\u9700\u8981\u663e\u5f0f\u6307\u5b9a\u8fd4\u56de\u7c7b\u578b\uff1a</p> <pre><code>auto func(int x, int y) { return x + y; }\n</code></pre>"},{"location":"languages/c-oop/function/#auto_1","title":"<code>auto</code> \u7684\u4f18\u52bf","text":"<p>\u7528\u4e8e\u4ee3\u66ff\u5197\u957f\u590d\u6742\u3001\u53d8\u91cf\u4f7f\u7528\u8303\u56f4\u4e13\u4e00\u7684\u53d8\u91cf\u58f0\u660e\u3002\u6211\u4eec\u73b0\u5728\u5b66\u4e60\u7684\u7c7b\u578b\u90fd\u5e76\u4e0d\u590d\u6742\uff0c\u968f\u7740\u6a21\u677f\u7684\u5b66\u4e60\uff0c\u7c7b\u578b\u4f1a\u8d8a\u53d1\u590d\u6742\u3002</p> <pre><code>std::vector&lt;std::string&gt; vs; \nfor (std::vector&lt;std::string&gt;::iterator i = vs.begin();\n    i != vs.end(); i++) { } \n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u7b49\u4ef7\u66ff\u6362\u4e3a\uff1a</p> <pre><code>std::vector&lt;std::string&gt; vs; \nfor (auto i = vs.begin(); i != vs.end(); i++) { }\n</code></pre> <p>\u53e6\u5916\uff0c\u6709\u65f6\u5019\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u786e\u5b9a\u6a21\u677f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7684\u7c7b\u578b\uff0c\u5219\u53ef\u5728\u5b9a\u4e49\u6a21\u677f\u51fd\u6570\u65f6\uff0c\u7528\u4e8e\u58f0\u660e\u4f9d\u8d56\u6a21\u677f\u53c2\u6570\u7684\u53d8\u91cf\u7c7b\u578b\u3002</p> <pre><code>template &lt;typename _Tx, typename _Ty&gt; \nvoid multiply(_Tx x, _Ty y) {\n    auto v = x * y;\n    std::cout &lt;&lt; v;\n}\n</code></pre> <p>\u7ed3\u5408 <code>auto</code> \u548c <code>decltype</code>\uff0c\u8fd8\u53ef\u4ee5\u81ea\u52a8\u8ffd\u8e2a\u8fd4\u56de\u7c7b\u578b\uff1a</p> <pre><code>template &lt;typename _Tx, typename _Ty&gt; \nauto multiply(_Tx x, _Ty y) -&gt; decltype(x * y) {\n    return x * y;\n}\n</code></pre> \u4f8b\u9898 <p>\u3010\u4f8b\u9898 1\u3011</p> <p></p> <p>\u8be5\u9898\u975e\u5e38\u8be6\u7ec6\u7684\u89e3\u7b54\u5728 OOP \u8bfe\u7a0b\u7684 QA \u5899 \u4e0a\u3002</p> <p>\u3010\u4f8b\u9898 2\u3011</p> <p></p> <p>\u9898\u76ee\u5e76\u4e0d\u96be\uff0c\u4f46\u662f\u6b64\u5904\u7684\u904d\u5386\u8fd9\u5f88\u6709\u8bb2\u7a76\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    for (auto x: \"123\") {\n        cout &lt;&lt; x &lt;&lt; '-';\n    } // \"1-2-3--\"\n    return 0;\n}\n</code></pre> <p>\u6ce8\u610f\u5230 <code>3</code> \u4e4b\u540e\u6709\u4e24\u4e2a <code>-</code>\u3002\u6211\u4eec\u66f4\u6362\u5faa\u73af\u65b9\u5f0f\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    for (auto x: {1, 2, 3}) {\n        cout &lt;&lt; x &lt;&lt; '-';\n    } // \"1-2-3-\"\n    return 0;\n}\n</code></pre> <p>\u5176\u5b9e\u662f\u5b57\u7b26\u6570\u7ec4\u7ed3\u5c3e\u7684 <code>\\0</code> \u4e5f\u88ab\u904d\u5386\u4e86\uff0c\u4f46\u662f\u65e0\u6cd5\u8f93\u51fa\u3002</p> <p>\u4e0b\u9762\u7b80\u5355\u8bf4\u660e <code>\\0</code> \u548c\u7a7a\u683c\u7684\u5dee\u522b\uff1a</p> <ul> <li> <p>\u7a7a\u5b57\u7b26\u7684\u957f\u5ea6\u4e3a 0\uff0c\u7a7a\u683c\u7b26\u7684\u957f\u5ea6\u4e3a 1\u3002 <pre><code>char a[] = \"\\0\";\nchar b[] = \" \";\ncout &lt;&lt; strlen(a) &lt;&lt; endl; // 0\ncout &lt;&lt; strlen(b) &lt;&lt; endl; // 1\n</code></pre></p> </li> <li> <p><code>\\0</code> \u6807\u8bb0\u5b57\u7b26\u4e32\u7ed3\u675f\u3002 <pre><code>char crr[] = \"a b\";\nchar brr[] = \"a\\0b\";\ncout &lt;&lt; strlen(crr) &lt;&lt; endl; // 3\ncout &lt;&lt; strlen(brr) &lt;&lt; endl; // 1\n</code></pre></p> </li> <li> <p>\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a\uff0c<code>\\0</code> \u4ec0\u4e48\u90fd\u6ca1\u6709\uff0c\u800c\u7a7a\u683c\u662f\u7a7a\u683c\u3002</p> </li> </ul>"},{"location":"languages/c-oop/function/#_10","title":"\u5c01\u88c5\u4e0e\u5185\u8054\u51fd\u6570","text":""},{"location":"languages/c-oop/function/#_11","title":"\u51fd\u6570\u6743\u9650\u548c\u51fd\u6570\u91cd\u8f7d\u7684\u5148\u540e","text":"<p>\u8fd9\u91cc\u4f7f\u7528\u4e86\u7c7b\u7684\u8bed\u6cd5\uff0c\u8fd9\u7c7b\u8bed\u6cd5\u4f1a\u5728\u540e\u7eed\u8bb2\u89e3\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass A {\nprivate:\n    int a;\n    void f(int i = 2) { a = i; }\n\npublic: \n    void f(int i, int j = 2) { a = i + j; }\n    int get_a() { return a; } \n};\n\nint main() {\n    A aa;\n    aa.f(1);\n    cout &lt;&lt; aa.get_a() &lt;&lt; endl;\n    return 0;\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u4f1a\u62a5\u9519 <code>call to member function 'f' is ambiguous</code>\u3002</p> <p>\u4e0d\u8fc7\u7ed9\u4eba\u7684\u611f\u89c9\u662f\uff0c\u6211\u7684 <code>void f(int i = 2)</code> \u662f\u4e00\u4e2a\u79c1\u6709\u51fd\u6570\uff0c\u7406\u8bba\u4e0a\u5728\u4e3b\u51fd\u6570\u91cc\u9762\u662f\u65e0\u6cd5\u8bbf\u95ee\u7684\uff0c\u6240\u4ee5\u4e0d\u5e94\u8be5\u4f1a\u53d1\u751f\u8c03\u7528\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u7f16\u8bd1\u5668\u770b\u5230 <code>aa.f</code> \u7684\u65f6\u5019\u4f1a\u5148\u627e\u51fa\u6240\u6709\u7684 <code>f</code>\uff0c\u5224\u65ad\u8c03\u7528\u6b63\u786e\u4e4b\u540e\u624d\u5224\u65ad\u6743\u9650\u662f\u5426\u6b63\u786e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u51fd\u6570\u8c03\u7528\u4f18\u5148\u5339\u914d\u53c2\u6570\u5bf9\u5e94\u6027\uff0c\u518d\u5224\u65ad\u6743\u9650\u5408\u7406\u6027\u3002\u7f16\u8bd1\u4e3a\u6c47\u7f16\u8bed\u8a00\u540e\u7684\u7a0b\u5e8f\u91cc\u4e24\u4e2a <code>f</code> \u662f\u4e0d\u5206\u662f\u5426\u662f\u79c1\u6709\u7684\uff0c\u6743\u9650\u7684\u8bed\u6cd5\u68c0\u67e5\u5728\u7f16\u8bd1\u4e4b\u540e\u3002</p>"},{"location":"languages/c-oop/function/#_12","title":"\u5185\u8054\u51fd\u6570","text":"<p>\u5b9a\u4e49\u4e0e\u610f\u4e49</p> <p>\u51fd\u6570\u8c03\u7528\u8981\u8fdb\u884c\u4e00\u7cfb\u5217\u51c6\u5907\u548c\u540e\u5904\u7406\u5de5\u4f5c\uff08\u538b\u6808\u3001\u8df3\u8f6c\u3001\u9000\u6808\u3001\u8fd4\u56de\u7b49\uff09\uff0c\u6240\u4ee5\u51fd\u6570\u8c03\u7528\u662f\u4e00\u4e2a\u6bd4\u8f83\u6162\u7684\u8fc7\u7a0b\u3002\u5982\u679c\u5bf9\u4e8e\u4e00\u4e2a\u7b80\u5355\u7684\u51fd\u6570\u8fdb\u884c\u5927\u91cf\u7684\u8c03\u7528\uff0c\u4f1a\u964d\u4f4e\u7a0b\u5e8f\u6548\u7387\u3002</p> <p>\u6bd4\u8f83\u4e0b\u9762\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0c\u51fd\u6570\u6bd4\u7b49\u4ef7\u7684\u8868\u8fbe\u5f0f\u6548\u7387\u66f4\u4f4e\u3002</p> <pre><code>cout &lt;&lt; max(a, b) &lt;&lt; endl;\ncout &lt;&lt; (a &gt; b ? a : b) &lt;&lt; endl;\n</code></pre> <p>\u4f7f\u7528\u5185\u8054\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u81ea\u52a8\u4ea7\u751f\u7b49\u4ef7\u7684\u8868\u8fbe\u5f0f\u3002</p> <pre><code>inline int max(int a, int b) { \n    return a &gt; b ? a : b;\n}\ncout &lt;&lt; max(a, b) &lt;&lt; endl;\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>cout &lt;&lt; (a &gt; b ? a : b) &lt;&lt; endl;\n</code></pre> <p>\u5185\u8054\u51fd\u6570\u548c\u5b8f\u5b9a\u4e49\u7684\u533a\u522b</p> <p>\u5728\u5e26\u53c2\u6570\u5b8f\u7684\u90e8\u5206\u4e2d\u6211\u4eec\u63d0\u5230\u8fc7\uff0c\u7531\u4e8e\u5e26\u53c2\u6570\u5b8f\u5177\u6709\u9ad8\u5ea6\u6b67\u4e49\u6027\uff0c\u6545\u800c\u5f80\u5f80\u88ab\u5185\u8054\u51fd\u6570\u66ff\u4ee3\u3002\u4e24\u8005\u533a\u522b\u5728\uff1a</p> <ul> <li> <p>\u5b8f\u5b9a\u4e49\u53ea\u662f\u62f7\u8d1d\u4ee3\u7801\u5230\u88ab\u8c03\u7528\u7684\u5730\u65b9\uff0c\u800c\u5185\u8054\u51fd\u6570\u5219\u662f\u751f\u6210\u548c\u51fd\u6570\u7b49\u4ef7\u7684\u8868\u8fbe\u5f0f\u3002</p> </li> <li> <p>\u5185\u8054\u51fd\u6570\u53ef\u4ee5\u6267\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u8fdb\u884c\u7f16\u8bd1\u671f\u9519\u8bef\u68c0\u67e5\u3002</p> </li> <li> <p>\u5185\u8054\u51fd\u6570\u53ef\u8c03\u8bd5\uff0c\u800c\u5b8f\u5b9a\u4e49\u7684\u51fd\u6570\u4e0d\u53ef\u8c03\u8bd5\u3002</p> </li> <li> <p>\u5728 Debug \u7248\u672c\uff0c\u5185\u8054\u51fd\u6570\u6ca1\u6709\u771f\u6b63\u5185\u8054\uff0c\u800c\u662f\u548c\u4e00\u822c\u51fd\u6570\u4e00\u6837\uff0c\u56e0\u6b64\u5728\u8be5\u9636\u6bb5\u53ef\u4ee5\u88ab\u8c03\u8bd5\u3002</p> </li> <li> <p>\u5728 Release \u7248\u672c\uff0c\u5185\u8054\u51fd\u6570\u5b9e\u73b0\u4e86\u771f\u6b63\u7684\u5185\u8054\uff0c\u589e\u52a0\u6267\u884c\u6548\u7387\u3002</p> </li> <li> <p>\u5b8f\u5b9a\u4e49\u7684\u51fd\u6570\u65e0\u6cd5\u64cd\u4f5c\u79c1\u6709\u6570\u636e\u6210\u5458\u3002</p> </li> </ul> <p>\u5185\u8054\u51fd\u6570\u7684\u6ce8\u610f\u4e8b\u9879</p> <p>\u907f\u514d\u5bf9\u5927\u6bb5\u4ee3\u7801\u4f7f\u7528\u5185\u8054\u4fee\u9970\u7b26\u3002\u8fd9\u662f\u56e0\u4e3a\u5185\u8054\u4fee\u9970\u7b26\u76f8\u5f53\u4e8e\u628a\u8be5\u51fd\u6570\u5728\u6240\u6709\u88ab\u8c03\u7528\u7684\u5730\u65b9\u62f7\u8d1d\u4e86\u4e00\u4efd\uff0c\u6240\u4ee5\u5927\u6bb5\u4ee3\u7801\u7684\u5185\u8054\u4fee\u9970\u4f1a\u589e\u52a0\u8d1f\u62c5\u3002</p> <p>\u907f\u514d\u5bf9\u5305\u542b\u5faa\u73af\u6216\u8005\u590d\u6742\u63a7\u5236\u7ed3\u6784\u7684\u51fd\u6570\u4f7f\u7528\u5185\u8054\u5b9a\u4e49\u3002\u56e0\u4e3a\u5185\u8054\u51fd\u6570\u4f18\u5316\u7684\uff0c\u53ea\u662f\u5728\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4f1a\u4ea7\u751f\u7684\u538b\u6808\u3001\u8df3\u8f6c\u3001\u9000\u6808\u548c\u8fd4\u56de\u7b49\u64cd\u4f5c\u3002\u6240\u4ee5\u5982\u679c\u51fd\u6570\u5185\u90e8\u6267\u884c\u4ee3\u7801\u7684\u65f6\u95f4\u6bd4\u51fd\u6570\u8c03\u7528\u7684\u65f6\u95f4\u957f\u5f97\u591a\uff0c\u4f18\u5316\u51e0\u4e4e\u53ef\u4ee5\u5ffd\u7565\u3002</p> <p>\u4e0d\u53ef\u5c06\u5185\u8054\u51fd\u6570\u7684\u58f0\u660e\u548c\u5b9a\u4e49\u5206\u5f00\uff08\u4e0d\u540c\u4e8e\u5927\u591a\u6570\u51fd\u6570\u5c06\u751f\u547d\u548c\u5b9a\u4e49\u5206\u522b\u5199\u5728\u5934\u6587\u4ef6\u548c\u6e90\u6587\u4ef6\u91cc\uff09\u3002\u7f16\u8bd1\u5668\u7f16\u8bd1\u65f6\u9700\u8981\u5f97\u5230\u5185\u8054\u51fd\u6570\u7684\u5b9e\u73b0\uff0c\u56e0\u6b64\u591a\u6587\u4ef6\u7f16\u8bd1\u65f6\u5185\u8054\u51fd\u6570\u5148\u9700\u8981\u5c06\u5b9e\u73b0\u5199\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u5426\u5219\u65e0\u6cd5\u5b9e\u73b0\u5185\u8054\u6548\u679c\u3002</p> <p>\u5b9a\u4e49\u5728\u7c7b\u58f0\u660e\u4e2d\u7684\u51fd\u6570\u9ed8\u8ba4\u4e3a\u5185\u8054\u51fd\u6570\uff08\u4f46\u51fd\u6570\u4e00\u822c\u90fd\u4e0d\u5b9a\u4e49\u5728\u7c7b\u58f0\u660e\u5185\uff09\u3002\u4e00\u822c\u6784\u9020\u51fd\u6570\u3001\u6790\u6784\u51fd\u6570\u90fd\u88ab\u5b9a\u4e49\u4e3a\u5185\u8054\u51fd\u6570\u3002</p> <p>\u5185\u8054\u4fee\u9970\u7b26\u66f4\u50cf\u662f\u5efa\u8bae\u800c\u4e0d\u662f\u547d\u4ee4\u3002\u7f16\u8bd1\u5668\u6709\u6743\u62d2\u7edd\u4e0d\u5408\u7406\u7684\u8bf7\u6c42\uff0c\u4f8b\u5982\u7f16\u8bd1\u5668\u8ba4\u4e3a\u67d0\u4e2a\u51fd\u6570\u4e0d\u503c\u5f97\u5185\u8054\uff0c\u5c31\u4f1a\u5ffd\u7565\u5185\u8054\u4fee\u9970\u7b26\u3002</p> <p>\u7f16\u8bd1\u5668\u4f1a\u5bf9\u4e00\u4e9b\u6ca1\u6709\u5185\u8054\u4fee\u9970\u7b26\u7684\u51fd\u6570\uff0c\u81ea\u884c\u5224\u65ad\u53ef\u5426\u8f6c\u5316\u4e3a\u5185\u8054\u51fd\u6570\uff0c\u4e00\u822c\u4f1a\u9009\u62e9\u77ed\u5c0f\u7684\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/","title":"\u591a\u6001\u4e0e\u6a21\u677f","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_2","title":"\u62bd\u8c61\u7c7b\u4e0e\u7eaf\u865a\u51fd\u6570","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_3","title":"\u5b9a\u4e49","text":"<p>\u865a\u51fd\u6570\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u58f0\u660e\u4e3a\u7eaf\u865a\u51fd\u6570\uff0c\u53ea\u8981\u5305\u542b\u6709\u4e00\u4e2a\u7eaf\u865a\u51fd\u6570\u7684\u7c7b\uff0c\u5373\u4e3a\u201c\u62bd\u8c61\u7c7b\u201d\u3002\u8bed\u6cd5\u4e3a\u51fd\u6570\u6700\u540e\u52a0\u4e0a <code>= 0</code>\u3002</p> <p>\u9700\u8981\u6ce8\u610f\uff0c\u62bd\u8c61\u7c7b\u4e0d\u5141\u8bb8\u5b9a\u4e49\u5bf9\u8c61\u3002</p> <p>\u5b9a\u4e49\u57fa\u7c7b\u4e3a\u62bd\u8c61\u7c7b\uff0c\u4e3b\u8981\u7528\u9014\u662f\u4e3a\u6d3e\u751f\u7c7b\u89c4\u5b9a\u5171\u6027\u201c\u63a5\u53e3\u201d\u3002\u6b64\u5916\uff0c\u62bd\u8c61\u7c7b\u7684\u5b9a\u4e49\u80fd\u907f\u514d\u8d4b\u503c\u578b\u5bf9\u8c61\u5207\u7247\uff0c\u4fdd\u8bc1\u53ea\u6709\u6307\u9488\u548c\u5f15\u7528\u80fd\u88ab\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\uff08\u56e0\u4e3a\u62bd\u8c61\u7c7b\u65e0\u6cd5\u5b9a\u4e49\u5bf9\u8c61\uff0c\u4f46\u662f\u53ef\u4ee5\u6709\u6307\u9488\u548c\u5f15\u7528\u6307\u5411\u5b83\uff09\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>class A {\npublic:\n    virtual void f() = 0; // \u53ef\u5728\u7c7b\u5916\u5b9a\u4e49\u51fd\u6570\u4f53\u63d0\u4f9b\u9ed8\u8ba4\u5b9e\u73b0\u3002\u6d3e\u751f\u7c7b\u901a\u8fc7 A::f() \u8c03\u7528\n};\nA obj; // \u4e0d\u51c6\u62bd\u8c61\u7c7b\u5b9a\u4e49\u5bf9\u8c61\uff01\u7f16\u8bd1\u4e0d\u901a\u8fc7\uff01\n</code></pre> <p>\u4ee5\u53ca\u66f4\u4e3a\u5177\u4f53\u7684\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Pet { \npublic:  \n    virtual void motion() = 0;\n};\nvoid Pet::motion() { cout &lt;&lt; \"Pet motion: \" &lt;&lt; endl; }\n\nclass Dog: public Pet { \npublic: \n    void motion() override {\n        Pet::motion();\n        cout &lt;&lt; \"dog run\" &lt;&lt; endl;\n    } \n}; // \u91cd\u5199\u8986\u76d6\u540e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5982 d1.Base::foo() \u6765\u8c03\u7528\u57fa\u7c7b\u51fd\u6570\n\nclass Bird: public Pet {\npublic: \n    void motion() override {\n        Pet::motion();\n        cout &lt;&lt; \"bird fly\" &lt;&lt; endl;\n    } \n};\n\nint main() {\n    Pet* p = new Dog; // \u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\n    p-&gt;motion();\n    p = new Bird; // \u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\n    p-&gt;motion();\n    // p = new Pet; // \u4e0d\u5141\u8bb8\u5b9a\u4e49\u62bd\u8c61\u7c7b\u5bf9\u8c61\n    return 0;\n}\n\n/*\noutput:\nPet motion: \ndog run\nPet motion: \nbird fly\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\u5148\u524d\u6709\u63d0\u5230\u8fc7\uff0c\u91cd\u5199\u8986\u76d6 <code>override</code> \u4e0e\u91cd\u5199\u9690\u85cf <code>redefining</code> \u76f8\u4f3c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5982 <code>d1.Base::foo()</code> \u6765\u8c03\u7528\u57fa\u7c7b\u51fd\u6570\u3002\u6b64\u4f8b\u4e2d\u867d\u7136\u53d1\u751f\u4e86\u91cd\u5199\u8986\u76d6\uff0c\u4f46\u662f\u901a\u8fc7\u76f4\u63a5\u8c03\u7528 <code>Pet::motion()</code> \u6765\u8c03\u7528\u4e86\u57fa\u7c7b\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_4","title":"\u62bd\u8c61\u7c7b\u7ee7\u627f","text":"<p>\u57fa\u7c7b\u7eaf\u865a\u51fd\u6570\u88ab\u6d3e\u751f\u7c7b\u91cd\u5199\u8986\u76d6\u4e4b\u524d\u4ecd\u662f\u7eaf\u865a\u51fd\u6570\u3002\u56e0\u6b64\u5f53\u7ee7\u627f\u4e00\u4e2a\u62bd\u8c61\u7c7b\u65f6\uff0c\u9664\u7eaf\u865a\u6790\u6784\u51fd\u6570\u5916\uff08\u968f\u540e\u89e3\u91ca\uff09\uff0c\u5fc5\u987b\u5b9e\u73b0\u6240\u6709\u7eaf\u865a\u51fd\u6570\uff0c\u5426\u5219\u7ee7\u627f\u51fa\u7684\u7c7b\u4e5f\u662f\u62bd\u8c61\u7c7b\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_5","title":"\u7eaf\u865a\u6790\u6784\u51fd\u6570","text":"<p>\u6790\u6784\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u7eaf\u865a\u51fd\u6570\uff0c\u7eaf\u865a\u6790\u6784\u51fd\u6570\u4ecd\u7136\u9700\u8981\u51fd\u6570\u4f53\u3002</p> <p>\u76ee\u7684\uff1a\u4f7f\u57fa\u7c7b\u6210\u4e3a\u62bd\u8c61\u7c7b\uff0c\u4e0d\u80fd\u521b\u5efa\u57fa\u7c7b\u7684\u5bf9\u8c61\u3002\u5982\u679c\u6709\u5176\u4ed6\u51fd\u6570\u662f\u7eaf\u865a\u51fd\u6570\uff0c\u5219\u6790\u6784\u51fd\u6570\u65e0\u8bba\u662f\u5426\u4e3a\u7eaf\u865a\u7684\uff0c\u57fa\u7c7b\u5747\u4e3a\u62bd\u8c61\u7c7b\u3002</p> <p>\u5b9e\u9645\u4e0a\u7f16\u7a0b\u7684\u65f6\u5019\u4e0d\u4f1a\u5199\u7eaf\u865a\u6790\u6784\u51fd\u6570\uff0c\u53ea\u9700\u8981\u5199\u865a\u6790\u6784\u51fd\u6570\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_6","title":"\u7eaf\u865a\u6790\u6784\u51fd\u6570\u548c\u5176\u4ed6\u7eaf\u865a\u51fd\u6570\u7684\u533a\u522b","text":"<p>\u4e00\u822c\u7684\u7eaf\u865a\u51fd\u6570\u88ab\u6d3e\u751f\u7c7b\u91cd\u5199\u8986\u76d6\u4e4b\u524d\u4ecd\u662f\u7eaf\u865a\u51fd\u6570\u3002\u5982\u679c\u6d3e\u751f\u7c7b\u4e0d\u8986\u76d6\u7eaf\u865a\u51fd\u6570\uff0c\u90a3\u4e48\u6d3e\u751f\u7c7b\u4e5f\u662f\u62bd\u8c61\u7c7b\u3002</p> <p>\u4f46\u5bf9\u4e8e\u5bf9\u4e8e\u7eaf\u865a\u6790\u6784\u51fd\u6570\u800c\u8a00\uff0c\u5373\u4fbf\u6d3e\u751f\u7c7b\u4e2d\u4e0d\u663e\u5f0f\u5b9e\u73b0\u6790\u6784\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u4e5f\u4f1a\u81ea\u52a8\u5408\u6210\u9ed8\u8ba4\u6790\u6784\u51fd\u6570\uff0c\u5b8c\u6210\u91cd\u5199\u8986\u76d6\uff0c\u4f7f\u5f97\u6d3e\u751f\u7c7b\u4e0d\u662f\u62bd\u8c61\u7c7b\u3002\u6545\u800c\uff0c\u5373\u4f7f\u6d3e\u751f\u7c7b\u4e0d\u663e\u5f0f\u8986\u76d6\u7eaf\u865a\u6790\u6784\u51fd\u6570\uff0c\u53ea\u8981\u6d3e\u751f\u7c7b\u5b8c\u5168\u8986\u76d6\u4e86\u5176\u4ed6\u7eaf\u865a\u51fd\u6570\uff0c\u8be5\u6d3e\u751f\u7c7b\u5c31\u4e0d\u662f\u62bd\u8c61\u7c7b\uff0c\u53ef\u4ee5\u5b9a\u4e49\u6d3e\u751f\u7c7b\u5bf9\u8c61\u3002</p> \u4f8b\u5b50 <ul> <li>\u4f8b 1</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base { \npublic: \n    virtual void func() = 0; \n};\n\nclass Derive1: public Base { }; // Derive1 \u4ecd\u4e3a\u62bd\u8c61\u7c7b\n\nclass Derive2: public Base {\npublic: \n    void func() {\n        cout &lt;&lt; \"Derive2::func\" &lt;&lt; endl;\n    } \n};\n\nint main() {\n    // Derive1 d1; // \u7f16\u8bd1\u9519\u8bef\uff0cDerive1 \u4ecd\u4e3a\u62bd\u8c61\u7c7b\n    Derive2 d2;\n    d2.func();\n    return 0;\n}\n\n/*\noutput:\nDerive2::func\n*/\n</code></pre> <ul> <li>\u4f8b 2</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base{ \npublic: \n    virtual ~Base() = 0; \n};\n\nBase::~Base() { cout &lt;&lt; \"Base destroyed\" &lt;&lt; endl; }\n\nclass Derive1: public Base { };\nclass Derive2: public Base {\npublic: \n    virtual ~Derive2() { cout &lt;&lt; \"Derive2 destroyed\" &lt;&lt; endl; }\n};\n\nint main() {\n    Base* p1 = new Derive1;\n    Base* p2 = new Derive2;\n    delete p1;\n    cout &lt;&lt; \"------\" &lt;&lt; endl;\n    delete p2;\n    return 0;\n}\n\n/*\noutput:\nBase destroyed\n------\nDerive2 destroyed\nBase destroyed\n*/\n</code></pre> <ul> <li>\u4f8b\u9898</li> </ul> <p></p> <p>\u4e00\u4e9b\u9009\u9879\u7684\u89e3\u91ca\uff1a</p> <p>A. \u665a\u6346\u7ed1\u4f9d\u8d56\u4e8e\u865a\u51fd\u6570\u8868\u4e0e\u865a\u51fd\u6570\uff0c\u53ea\u5bf9\u7c7b\u4e2d\u865a\u51fd\u6570\u8d77\u4f5c\u7528\uff0c\u5e76\u4e14\u53ea\u5bf9\u57fa\u7c7b\u6307\u9488\u548c\u5f15\u7528\u8d77\u4f5c\u7528\u3002</p> <p>D. \u4e00\u4e2a\u7eaf\u865a\u51fd\u6570\u5c31\u4f1a\u4f7f\u5f97\u4e00\u4e2a\u7c7b\u6210\u4e3a\u7eaf\u865a\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_7","title":"\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_8","title":"\u5b9a\u4e49","text":"<p>\u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u57fa\u7c7b\u6307\u9488\u3001\u5f15\u7528\u8f6c\u6362\u6210\u6d3e\u751f\u7c7b\u6307\u9488\u3001\u5f15\u7528\uff0c\u5219\u79f0\u4e3a\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\uff08\u7c7b\u5c42\u6b21\u4e2d\u5411\u4e0b\u79fb\u52a8\uff09\u3002</p> <p>\u5f53\u6211\u4eec\u7528\u57fa\u7c7b\u6307\u9488\u8868\u793a\u5404\u79cd\u6d3e\u751f\u7c7b\u65f6\uff08\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\uff09\uff0c\u4fdd\u7559\u4e86\u4ed6\u4eec\u7684\u5171\u6027\uff0c\u4f46\u662f\u4e22\u5931\u4e86\u4ed6\u4eec\u7684\u7279\u6027\u3002\u5982\u679c\u6b64\u65f6\u8981\u8868\u73b0\u7279\u6027\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u57fa\u7c7b\u6307\u9488\u6570\u7ec4\u5bf9\u5404\u79cd\u6d3e\u751f\u7c7b\u5bf9\u8c61\u8fdb\u884c\u7ba1\u7406\uff0c\u5f53\u5177\u4f53\u5904\u7406\u65f6\u6211\u4eec\u53ef\u4ee5\u5c06\u57fa\u7c7b\u6307\u9488\u8f6c\u6362\u4e3a\u5b9e\u9645\u7684\u6d3e\u751f\u7c7b\u6307\u9488\uff0c\u8fdb\u800c\u8c03\u7528\u6d3e\u751f\u7c7b\u4e13\u6709\u7684\u63a5\u53e3\u3002</p> <p>\u4f46\u662f\u9700\u8981\u6ce8\u610f\u5230\uff0c\u8fd9\u91cc\u662f\u8bf4\u7528\u57fa\u7c7b\u6307\u9488\u53ef\u4ee5\u7ba1\u7406\u6d3e\u751f\u7c7b\uff0c\u6545\u800c\u53ef\u4ee5\u628a\u8fd9\u4e2a\u6307\u9488\u5411\u4e0b\u8f6c\u6362\uff0c\u751f\u6210\u5b9e\u9645\u4f7f\u7528\u7684\u6d3e\u751f\u7c7b\u6307\u9488\u3002\u4f46\u662f\uff0c\u5982\u679c\u662f\u57fa\u7c7b\u6307\u9488\u7ba1\u7406\u57fa\u7c7b\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u57fa\u7c7b\u6307\u9488\u672c\u6765\u5c31\u6307\u5411\u57fa\u7c7b\u5bf9\u8c61\u65f6\uff0c\u57fa\u7c7b\u5bf9\u8c61\u672c\u8eab\u5c31\u6ca1\u6709\u6d3e\u751f\u7c7b\u591a\u51fa\u7684\u6570\u636e\u548c\u670d\u52a1\uff0c\u8fd8\u8981\u628a\u8fd9\u4e2a\u57fa\u7c7b\u6307\u9488\u5411\u4e0b\u8f6c\u6362\u4e3a\u6d3e\u751f\u7c7b\u6307\u9488\uff0c\u8981\u4e48\u662f\u9519\u7684\uff0c\u8981\u4e48\u662f\u5371\u9669\u7684\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_9","title":"\u8f6c\u6362\u65b9\u5f0f","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_10","title":"\u5b89\u5168\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\uff08\u57fa\u7c7b\u5411\u6d3e\u751f\u7c7b\u7684\u8f6c\u6362\uff09","text":"<p>C++ \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u79f0\u4e3a <code>dynamic_cast</code>\uff0c\u662f\u4e00\u79cd\u5b89\u5168\u7684\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u3002\u4f7f\u7528 <code>dynamic_cast</code> \u7684\u5bf9\u8c61\u5fc5\u987b\u6709\u865a\u51fd\u6570\uff0c\u56e0\u4e3a\u5b83\u4f7f\u7528\u4e86\u5b58\u50a8\u5728\u865a\u51fd\u6570\u8868\u4e2d\u7684\u4fe1\u606f\u5224\u65ad\u5b9e\u9645\u7684\u7c7b\u578b\u3002</p> <p>\u6240\u8c13\u5bf9\u8c61\u5fc5\u987b\u6709\u865a\u51fd\u6570\uff0c\u5b9e\u9645\u4e0a\u662f\u6307\u6709\u7ee7\u627f\u5173\u7cfb\u65f6\uff0c\u57fa\u7c7b\u548c\u6d3e\u751f\u7c7b\u90fd\u6709\u865a\u51fd\u6570\u3002\u57fa\u7c7b\u6709\u865a\u51fd\u6570\uff0c\u662f\u591a\u6001\u7684\uff0c\u90a3\u4e48\u6d3e\u751f\u7c7b\u5f53\u7136\u4e5f\u6709\u865a\u51fd\u6570\u3002\u91cd\u5199\u8986\u76d6\u662f\u7528\u865a\u51fd\u6570\u8986\u76d6\u865a\u51fd\u6570\uff0c\u4ecd\u7136\u53ef\u4ee5\u7528 <code>Base::</code> \u7684\u65b9\u5f0f\u8c03\u7528\u57fa\u7c7b\u865a\u51fd\u6570\uff0c\u4e0d\u7834\u574f\u591a\u6001\u6027\u3002\u800c\u91cd\u5199\u9690\u85cf\u66f4\u4e0d\u4f1a\u7834\u574f\u5176\u591a\u6001\u6027\u3002</p> <p>\u8bed\u6cd5\uff1a<code>T2</code> \u662f <code>T1</code> \u7684\u6d3e\u751f\u7c7b\uff0c<code>obj_p</code>\u3001<code>obj_r</code> \u5206\u522b\u662f <code>T1</code> \u7c7b\u578b\u7684\u6307\u9488\u548c\u5f15\u7528\uff0c\u4e8c\u8005\u90fd\u6307\u5411\u4e00\u4e2a\u6d3e\u751f\u7c7b <code>T2</code> \u7684\u5bf9\u8c61\u3002</p> <pre><code>T2* pObj = dynamic_cast&lt;T2*&gt;(obj_p); // \u5931\u8d25\u65f6\u8fd4\u56de nullptr\nT2&amp; refObj = dynamic_cast&lt;T2&amp;&gt;(obj_r); // \u5931\u8d25\u65f6\u5f02\u5e38\n</code></pre>"},{"location":"languages/c-oop/polymorphism-and-templates/#_11","title":"\u5feb\u901f\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362","text":"<p>\u5982\u679c\u6211\u4eec\u77e5\u9053\u76ee\u6807\u7684\u64cd\u4f5c\u662f\u5b89\u5168\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>static_cast</code> \u6765\u52a0\u5feb\u901f\u5ea6\u3002<code>static_cast</code> \u5728\u7f16\u8bd1\u65f6\u9759\u6001\u6d4f\u89c8\u7c7b\u5c42\u6b21\uff0c\u53ea\u68c0\u67e5\u7ee7\u627f\u5173\u7cfb\u3002\u6ca1\u6709\u7ee7\u627f\u5173\u7cfb\u7684\u7c7b\u4e4b\u95f4\uff0c\u5fc5\u987b\u5177\u6709\u8f6c\u6362\u9014\u5f84\u624d\u80fd\u8fdb\u884c\u8f6c\u6362\uff08\u8981\u4e48\u81ea\u5b9a\u4e49\uff0c\u8981\u4e48\u662f\u8bed\u8a00\u8bed\u6cd5\u652f\u6301\uff09\uff0c\u5426\u5219\u4e0d\u8fc7\u7f16\u8bd1\u3002\u56e0\u4e3a\u5feb\u901f\uff0c<code>static_cast</code> \u8fd0\u884c\u65f6\u65e0\u6cd5\u786e\u8ba4\u662f\u5426\u6b63\u786e\u8f6c\u6362\u3002</p> <p>\u8bed\u6cd5\uff1a<code>T2</code> \u662f <code>T1</code> \u7684\u6d3e\u751f\u7c7b\uff0c<code>obj_p</code>\u3001<code>obj_r</code> \u5206\u522b\u662f <code>T1</code> \u7c7b\u578b\u7684\u6307\u9488\u548c\u5f15\u7528\uff0c\u4e8c\u8005\u90fd\u6307\u5411\u4e00\u4e2a\u6d3e\u751f\u7c7b <code>T2</code> \u7684\u5bf9\u8c61\u3002</p> <pre><code>T2* pObj = static_cast&lt;T2*&gt;(obj_p); // \u8f6c\u6362\u4e3a T2 \u6307\u9488\nT2&amp; refObj = static_cast&lt;T2&amp;&gt;(obj_r); // \u8f6c\u6362\u4e3a T2 \u5f15\u7528\n</code></pre> <p>\u4e0d\u5b89\u5168\uff1a\u5982\u679c\u57fa\u7c7b\u6307\u9488\u672c\u6765\u5c31\u6307\u5411\u57fa\u7c7b\u5bf9\u8c61\uff0c\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u5c31\u662f\u4e0d\u5408\u6cd5\u7684\u3002\u6b64\u65f6\u4e0d\u4fdd\u8bc1\u6307\u5411\u76ee\u6807\u662f <code>T2</code> \u5bf9\u8c61\uff0c\u53ef\u80fd\u5bfc\u81f4\u975e\u6cd5\u5185\u5b58\u8bbf\u95ee\u3002</p> \u4f8b\u5b50 <ul> <li>\u7b2c\u4e00\u7c7b\u4e0d\u5408\u6cd5\u8f6c\u6362</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass B { \npublic:\n    virtual void f() { } \n};\n\nclass D: public B {\npublic: \n    int i {2018};\n};\n\nint main() {\n    D d;\n    B b;\n    // D d1 = static_cast&lt;D&gt;(b); // \u672a\u5b9a\u4e49\u7c7b\u578b\u8f6c\u6362\u65b9\u5f0f\uff0c\u6ce8\u610f\u8fd9\u4e2a\u76f4\u63a5\u662f\u5bf9\u8c61\u7684\u8f6c\u6362\u800c\u4e0d\u662f\u6307\u9488\u7684\u8f6c\u6362\n    // D d2 = dynamic_cast&lt;D&gt;(b); // \u8fd9\u662f\u4e0d\u5408\u6cd5\u7684\uff0cdynamic_cast \u53ea\u5141\u8bb8\u6307\u9488\u548c\u5f15\u7528\u8f6c\u6362\n\n    D* pd1 = static_cast&lt;D*&gt;(&amp;b); // \u6709\u7ee7\u627f\u5173\u7cfb\uff0c\u5141\u8bb8\u8f6c\u6362\uff0c\u8ba9 D \u7c7b\u578b\u6307\u9488 pd1 \u6307\u5411\u4e86 B \u7c7b\u578b\u7684\u5bf9\u8c61 b\n\n    if (pd1 != nullptr) {      \n        cout &lt;&lt; \"static_cast, B*(B) --&gt; D*: OK\" &lt;&lt; endl;  \n        cout &lt;&lt; \"D::i=\" &lt;&lt; pd1-&gt;i &lt;&lt;endl;\n    } // \u4f46\u662f\u4e0d\u5b89\u5168\uff0cpd1 \u8bbf\u95ee D \u4e2d\u6210\u5458 i \u65f6\uff0c\u53ef\u80fd\u662f\u975e\u6cd5\u8bbf\u95ee\n\n    D* pd2 = dynamic_cast&lt;D*&gt;(&amp;b);\n    if (pd2 == nullptr) // \u4e0d\u5141\u8bb8\u4e0d\u5b89\u5168\u7684\u8f6c\u6362\n        cout &lt;&lt; \"dynamic_cast, B*(B) --&gt; D*: FAILED\" &lt;&lt; endl;\n\n    B* pb = &amp;d; \n    D* pd3 = static_cast&lt;D*&gt;(pb); \n    if (pd3 != nullptr) {    \n        cout &lt;&lt; \"static_cast, B*(D) --&gt; D*: OK\" &lt;&lt; endl;\n        cout &lt;&lt; \"D::i=\" &lt;&lt; pd3-&gt;i &lt;&lt;endl;\n    }\n\n    D* pd4 = dynamic_cast&lt;D*&gt;(pb); \n    if (pd4 != nullptr) { // \u8f6c\u6362\u6b63\u786e   \n        cout &lt;&lt; \"dynamic_cast, B*(D) --&gt; D*: OK\" &lt;&lt; endl;   \n        cout &lt;&lt; \"D::i=\" &lt;&lt; pd4-&gt;i &lt;&lt;endl;\n    }\n    return 0;\n}\n\n/*\noutput:\nstatic_cast, B*(B) --&gt; D*: OK\nD::i=4817112\ndynamic_cast, B*(B) --&gt; D*: FAILED\nstatic_cast, B*(D) --&gt; D*: OK\nD::i=2018\ndynamic_cast, B*(D) --&gt; D*: OK\nD::i=2018\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\u524d\u6587\u63d0\u8fc7\u5371\u9669\u8f6c\u6362\u7684\u60c5\u51b5\uff0c\u5982\u679c\u57fa\u7c7b\u6307\u9488\u672c\u6765\u5c31\u6307\u5411\u57fa\u7c7b\u5bf9\u8c61\uff0c\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u5c31\u662f\u4e0d\u5408\u6cd5\u7684\u3002\u4ece\u800c\u6211\u4eec\u89c2\u5bdf\u5230\uff0c\u4f7f\u7528 <code>dynamic_cast</code> \u5c06 <code>&amp;b</code> \u8f6c\u4e3a <code>D</code> \u7684\u6307\u9488\u662f\u9519\u8bef\u7684\uff0c\u8fd4\u56de\u4e86\u7a7a\u6307\u9488\u3002\u800c <code>static_cast</code> \u867d\u7136\u5b9e\u73b0\u4e86\u8f6c\u6362\uff0c\u4f46\u662f\u8f93\u51fa\u7684\u5b8c\u5168\u662f\u975e\u6cd5\u5185\u5b58\u3002\u4e14\u5728\u5927\u591a\u6570\u7f16\u8bd1\u5668\u4e0a\uff0c<code>static_cast</code> \u8fd9\u6837\u64cd\u4f5c\u4f1a RE\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u73b0\u5728\u8ba8\u8bba\u7684\u7684\u90fd\u662f\u6307\u9488\u8f6c\u6362\uff0c\u800c\u5bf9\u8c61\u7684\u76f4\u63a5\u8f6c\u6362\u662f\u7c7b\u578b\u8f6c\u6362\uff0c\u6545\u800c\u4e0d\u52a0\u5176\u4ed6\u5b9a\u4e49\u65f6\u7528 <code>static_cast</code> \u548c <code>dynamic_cast</code> \u90fd\u662f\u4e0d\u5b89\u5168\u7684\u3002</p> <ul> <li>\u7b2c\u4e8c\u7c7b\u4e0d\u5408\u6cd5\u8f6c\u6362</li> </ul> <pre><code>#pragma once\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nclass Animal {\nprivate:\n    std::string name, type;\n    Animal(const std::string &amp;_name, const std::string &amp;_type):\n        name(_name), type(_type) { }\n};\n\nclass Dog: public Animal {\npublic:\n    Dog(const std::string &amp;_name): Animal(_name, \"dog\") { };\n};\n\nclass Bird: public Animal {\npublic:\n    Bird(const std::string &amp;_name): Animal(_name, \"bird\") { };\n};\n\nvoid action(Animal* animal, std::vector&lt;Dog&gt;&amp; dogzone, std::vector&lt;Bird&gt;&amp; birdzone) {\n    Dog* point1 = dynamic_cast&lt;Dog*&gt;(animal);\n    Bird* point2 = dynamic_cast&lt;Bird*&gt;(animal); \n    if (point1 != nullptr) {\n        dogzone.push_back(std::move(*point1));\n    } else {\n        birdzone.push_back(std::move(*point2));\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u9898\u653e\u4e0a\u4e86\u4f2a\u4ee3\u7801\uff0c\u7ed9\u51fa\u4e86\u7b2c\u4e8c\u7c7b\u975e\u6cd5\u8f6c\u6362\u7684\u4f8b\u5b50\u3002\u4e00\u4e2a\u57fa\u7c7b\u6d3e <code>D</code> \u751f\u51fa\u4e86\u591a\u4e2a\u6d3e\u751f\u7c7b <code>A</code>\u3001<code>B</code>\u3001<code>C</code>\u3002\u6bd4\u5982\u57fa\u7c7b\u6307\u9488 <code>d</code> \u6307\u5411\u4e86\u6d3e\u751f\u7c7b <code>A</code> \u5bf9\u8c61 <code>a</code>\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u628a <code>d</code> \u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u4e3a <code>B</code> \u7c7b\u6307\u9488\uff0c\u4e5f\u662f\u975e\u6cd5\u8f6c\u6362\u3002\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u53ef\u4ee5\u770b\u51fa\uff0c\u5728\u4e0a\u4f8b\u4e2d\uff0c<code>Animal</code> \u7c7b\u7684 <code>type</code> \u662f <code>private</code>\uff0c\u6ca1\u6709\u63a5\u53e3\u662f\u6ca1\u6cd5\u8bbf\u95ee\u7684\u3002\u6211\u4eec\u672c\u6765\u9700\u8981\u6839\u636e <code>type</code> \u6765\u51b3\u5b9a\u5411\u4e0b\u8f6c\u6362\u7684\u7c7b\u578b\uff0c\u4f46\u662f\u8bbf\u95ee\u4e0d\u4e86\u3002\u4e8e\u662f\u6211\u4eec\u76f4\u63a5\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\uff0c\u76f4\u63a5\u901a\u8fc7\u662f\u5426\u8f6c\u4e3a <code>nullptr</code> \u6765\u68c0\u6d4b\u662f\u5426\u8f6c\u6362\u6b63\u786e\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_12","title":"\u603b\u7ed3","text":"<p><code>dynamic_cast</code> \u4e0e <code>static_cast</code> \u76f8\u6bd4\uff1a</p> <ul> <li> <p>\u76f8\u540c\u70b9\uff1a\u90fd\u53ef\u5b8c\u6210\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362</p> </li> <li> <p>\u4e0d\u540c\u70b9\uff1a</p> <ul> <li><code>static_cast</code> \u5728\u7f16\u8bd1\u65f6\u9759\u6001\u6267\u884c\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362</li> <li><code>dynamic_cast</code> \u4f1a\u5728\u8fd0\u884c\u65f6\u68c0\u67e5\u88ab\u8f6c\u6362\u7684\u5bf9\u8c61\u662f\u5426\u786e\u5b9e\u662f\u6b63\u786e\u7684\u6d3e\u751f\u7c7b\u3002\u989d\u5916\u7684\u68c0\u67e5\u9700\u8981 RTTI\uff08\u82f1\u8bed\uff1aRun-Time Type Information\uff09\uff0c\u56e0\u6b64\u8981\u6bd4 <code>static_cast</code> \u6162\u4e00\u4e9b\uff0c\u4f46\u662f\u66f4\u5b89\u5168\u3002</li> </ul> </li> </ul> <p>\u4e00\u822c\u4f7f\u7528 <code>dynamic_cast</code> \u8fdb\u884c\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u3002</p> <p>\u6307\u9488\u8f6c\u6362\u7684\u91cd\u8981\u539f\u5219\uff1a\u6e05\u695a\u6307\u9488\u6240\u6307\u5411\u7684\u771f\u6b63\u5bf9\u8c61\u3002</p> <ol> <li>\u6307\u9488\u6216\u5f15\u7528\u7684\u5411\u4e0a\u8f6c\u6362\u603b\u662f\u5b89\u5168\u7684\u3002</li> <li>\u5411\u4e0b\u8f6c\u6362\u65f6\u7528 <code>dynamic_cast</code>\uff0c\u5b89\u5168\u68c0\u67e5\u3002</li> <li>\u907f\u514d\u5bf9\u8c61\u4e4b\u95f4\u7684\u8f6c\u6362\u3002\u5c3d\u53ef\u80fd\u7528\u6307\u9488\u3001\u5f15\u7528\u8fdb\u884c\u8f6c\u6362\u3002\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7\u9a8c\u8bc1\u865a\u51fd\u6570\u8868\u5224\u65ad\u8f6c\u6362\u662f\u5426\u5b89\u5168\u3002</li> </ol> <p>\u5386\u53f2\u9057\u7559\u95ee\u9898\uff0c\u5173\u4e8e\u4f20\u53c2\u7684\u672c\u8d28\uff08\u4e0b\u9762\u8fd9\u4e2a\u7a0b\u5e8f\u6709\u5f88\u5927\u95ee\u9898\uff09\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid swap(int *a, int *b) {\n    int tmp = *a;\n    *a = *b;\n    *b = tmp;\n}\n\nint main() {\n    int x = 1, y(2);\n    swap(x, y);\n    cout &lt;&lt; x &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\n2\n*/\n</code></pre> <p>\u6211\u4eec\u8bd5\u56fe\u8fd0\u884c\u8be5\u7a0b\u5e8f\uff0c\u5f88\u663e\u7136\uff0c\u8f93\u51fa\u4e86 <code>2</code>\u3002\u6211\u4eec\u4f3c\u4e4e\u5df2\u7ecf\u5bdf\u89c9\u5230\u4e86\u5730\u5740\u548c\u6307\u9488\u4e4b\u95f4\u7684\u7f8e\u5999\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u8f93\u51fa\u6307\u9488\u7684\u503c\u5c31\u662f\u6307\u9488\u6307\u5411\u7684\u5730\u5740\u3002\u6211\u4eec\u9690\u7ea6\u5bdf\u89c9\u5230\uff0c\u8fd9\u91cc <code>int* a</code> \u8c8c\u4f3c\u4f1a\u6307\u5411 <code>x</code> \u7684\u5730\u5740\uff0c\u6240\u4ee5\u6211\u4eec\u8bd5\u56fe\u628a\u5730\u5740\u6253\u5370\u51fa\u6765\u3002</p> <p>\uff08\u4e0b\u9762\u8fd9\u4e2a\u7a0b\u5e8f\u6709\u5f88\u5927\u95ee\u9898\uff09</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid swap(int *a, int *b) {\n    cout &lt;&lt; a &lt;&lt; endl;\n    int tmp = *a;\n    *a = *b;\n    *b = tmp;\n}\n\nint main() {\n    int x = 1, y(2);\n    swap(x, y);\n    cout &lt;&lt; &amp;x &lt;&lt; endl;\n    cout &lt;&lt; x &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\n0x7ffebcbe46e8\n2\n*/\n</code></pre> <p>\u770b\u4e0a\u53bb\u5f88\u5bf9\uff0c\u4f46\u662f\uff0c\u4f3c\u4e4e\u5c11\u4e86\u70b9\u4ec0\u4e48\uff1f\u6211\u4eec <code>swap</code> \u51fd\u6570\u91cc\u5bf9 <code>int* a</code> \u7684\u8f93\u51fa\u5462\uff1f\u8fd9\u4e9b\u7a0b\u5e8f\u6709\u4ec0\u4e48\u95ee\u9898\uff1f</p> <p>\u539f\u56e0\u662f\uff0c\u5728 <code>std</code> \u7a7a\u95f4\u91cc\u672c\u8eab\u5c31\u5305\u542b\u6709 <code>swap</code> \u51fd\u6570\uff0c\u8fd9\u4e48\u5199 <code>swap</code> \u6839\u672c\u65e0\u6cd5\u8c03\u7528\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684 <code>swap</code>\uff0c\u6545\u800c\u4e0d\u53ef\u4f7f\u7528 <code>std</code> \u7a7a\u95f4\uff08\u8fd9\u4e5f\u544a\u8beb\u4e86\u6211\u4eec\u5c11\u7528 <code>std</code> \u7a7a\u95f4\uff0c\u6216\u8005\u628a\u51fd\u6570\u540d\u5b57\u8d77\u7684\u590d\u6742\u70b9\uff09\u3002</p> <p>\u6211\u4eec\u7981\u7528\u4e86 <code>std</code> \u7a7a\u95f4\u540e\uff1a</p> <pre><code>#include &lt;iostream&gt;\n// using namespace std;\nvoid swap(int *a, int *b) {\n    int tmp = *a;\n    *a = *b;\n    *b = tmp;\n}\n\nint main() {\n    int x = 1, y(2);\n    swap(x, y);\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n    return 0;\n}\n\n/*\noutput:\nmain.cpp:11:2: error: no matching function for call to 'swap'\n swap(x,y);\n ^~~~\nmain.cpp:3:6: note: candidate function not viable: no known conversion from 'int' to 'int *' for 1st argument; take the address of the argument with &amp;\nvoid swap(int *a, int *b)\n     ^\n1 error generated.\n*/\n</code></pre> <p>\u6211\u4eec\u7ec8\u4e8e\u53d1\u73b0\u4e86\u95ee\u9898\uff0c\u5728\u8c03\u7528\u53c2\u6570\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6839\u672c\u65e0\u6cd5\u8ba9\u4e00\u4e2a <code>int x</code> \u4f20\u5165 <code>int* a</code>\u3002\u9996\u5148\uff0c\u4f20\u53c2\u6570\u7684\u8fc7\u7a0b\u53ef\u4ee5\u7406\u89e3\u4e3a\u8d4b\u503c\u8bed\u53e5\uff1a\u6bd4\u5982\u6211\u4eec\u51fd\u6570\u5b9a\u4e49 <code>void swap(int a, int b)</code>\u3002\u90a3\u4e48\u8c03\u7528\u65f6\uff0c<code>swap(x,y)</code> \u9700\u8981 <code>int a = x, int b = y</code> \u8fd9\u4e24\u4e2a\u8d4b\u503c\u8bed\u53e5\u90fd\u6ca1\u6cd5\u5b9e\u73b0\u3002\u4f46\u662f\u6211\u4eec\u8c03\u7528 <code>swap(&amp;x, &amp;y)</code> \u65f6\uff0c\u5b9e\u9645\u4e0a\u662f <code>int* a = &amp;x, int* b = &amp;y</code>\uff0c\u8fd9\u4e24\u4e2a\u8d4b\u503c\u90fd\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4e14 <code>&amp;x</code> \u548c <code>&amp;y</code> \u5b9e\u9645\u4e0a\u662f\u53d6\u5730\u5740\u800c\u4e0d\u662f\u53d6\u5f15\u7528\u7684\u610f\u601d\u3002</p> <p>\u4fee\u6539\u597d\u7684\u7a0b\u5e8f\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n// using namespace std;\nvoid swap(int *a, int *b) {\n    std::cout &lt;&lt; a &lt;&lt; std::endl;\n    int tmp = *a;\n    *a = *b;\n    *b = tmp;\n}\n\nint main() {\n    int a = 1, b(2);\n    std::cout &lt;&lt; &amp;a &lt;&lt; std::endl;\n    swap(&amp;a, &amp;b);\n    std::cout &lt;&lt; a &lt;&lt; std::endl;\n    return 0;\n}\n\n/*\noutput:\n0x7fff8f992eb8\n0x7fff8f992eb8\n2\n*/\n</code></pre> <p>\u4ece\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u5bf9\u5b9e\u53c2\u53d6\u5730\u5740\uff0c\u7136\u540e <code>int* a = &amp;x</code> \uff0c\u5c31\u4f1a\u4f7f\u5f97 <code>a</code> \u6307\u9488\u786e\u5207\u7684\u6307\u5411 <code>x</code> \u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u6307\u9488 <code>a</code> \u63a7\u5236 <code>x</code> \u7684\u5185\u5b58\u7a7a\u95f4\u3002\u54ea\u6015 <code>x</code> \u7684\u751f\u547d\u5468\u671f\u7ed3\u675f\u4e86\uff0c\u9000\u51fa\u4e86\u51fd\u6570\u4f53\u4e4b\u540e\u628a <code>a</code> \u6307\u9488\u6790\u6784\u6389\uff0c\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u4eba\u4e3a\u5b9a\u4e49 <code>delete a</code>\uff0c\u800c\u9ed8\u8ba4\u6790\u6784\u51fd\u6570\u4e0d\u4f1a <code>delete a</code>\uff0c\u6545\u800c\u4e5f\u4e0d\u4f1a\u5f71\u54cd <code>x</code> \u7684\u5185\u5b58\u7a7a\u95f4\u3002\u7efc\u4e0a\u6240\u8ff0\uff0c\u7ec8\u4e8e\u89e3\u51b3\u4e86\u5386\u53f2\u9057\u7559\u95ee\u9898\u3002\u6211\u4eec\u518d\u505a\u4e24\u4e2a\u5b9e\u9a8c\u6765\u9a8c\u8bc1\u4e0b\uff1a</p> <p>\u5b9e\u9a8c\u4e00\uff0c\u5728\u51fd\u6570\u4f53\u5185 <code>delete a</code>\uff0c\u679c\u7136\u6e05\u9664\u4e86 <code>x</code> \u5185\u5b58\u7a7a\u95f4\uff0c\u5bfc\u81f4 <code>x</code> \u975e\u6cd5\u8bbf\u95ee\u3002</p> <pre><code>#include &lt;iostream&gt;\nvoid swap(int *a, int *b) {\n    std::cout &lt;&lt; a &lt;&lt; std::endl;\n    int tmp = *a;\n    *a = *b;\n    *b = tmp;\n    delete a;\n    return;\n}\n\nint main() {\n    int x = 1, y(2);\n    std::cout &lt;&lt; &amp;x &lt;&lt; std::endl;\n    swap(&amp;x, &amp;y);\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n    return 0;\n}\n\n/*\noutput:\nfree(): invalid pointer\n*/\n</code></pre> <p>\u5b9e\u9a8c\u4e8c\uff0c\u4f20\u5f15\u7528\u4e5f\u662f\u5982\u6b64\uff1a</p> <pre><code>#include &lt;iostream&gt;\nvoid swap(int &amp;a, int &amp;b) {\n    std::cout &lt;&lt; &amp;a &lt;&lt; std::endl;\n    int tmp = a;\n    a = b;\n    b = tmp;\n    return;\n}\n\nint main() {\n    int x = 1, y(2);\n    std::cout &lt;&lt; &amp;x &lt;&lt; std::endl;\n    swap(x, y);\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n    return 0;\n}\n\n/*\noutput:\n0x7fff2af01638\n0x7fff2af01638\n2\n*/\n</code></pre> <p>\u57fa\u4e8e\u4e0a\u8ff0\u5f15\u4f8b\uff0c\u8003\u5bdf\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Pet {\npublic:\n    virtual ~Pet() { }\n};\n\nclass Dog: public Pet { \npublic:     \n    void run() { cout &lt;&lt; \"dog run\" &lt;&lt; endl; }\n};\n\nclass Bird: public Pet {\npublic:     \n    void fly() { cout &lt;&lt; \"bird fly\" &lt;&lt; endl; }\n};\n\nvoid action(Pet* p) {\n    auto d = dynamic_cast&lt;Dog*&gt;(p);\n    auto b = dynamic_cast&lt;Bird*&gt;(p);\n    if (d)\n        d-&gt;run();\n    else if (b)\n        b-&gt;fly();\n}\n\nint main() {\n    Pet* p[2];\n    p[0] = new Dog;\n    p[1] = new Bird;\n    for (int i = 0; i &lt; 2; ++i) {\n        action(p[i]);\n    }\n    return 0;\n}\n\n/*\noutput:\ndog run\nbird fly\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\uff0c\u5411\u4e0b\u7c7b\u578b\u8f6c\u6362\u90fd\u4e0d\u662f\u91cd\u70b9\uff0c\u91cd\u70b9\u5728\u4f20\u53c2\u7684\u8fd9\u4e00\u6b65\u3002\u56e0\u4e3a\u6211\u4eec\u7684 <code>p[i]</code> \u662f\u7684\u7c7b\u578b\u662f <code>Pet*</code>\uff0c\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u662f <code>Dog</code> \u6216\u8005 <code>Bird</code>\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4f20\u53c2\u662f\u5408\u6cd5\u7684\uff01\u4e5f\u5c31\u662f\u8d4b\u503c\u8bed\u53e5\uff0c\u4f20\u53c2\u8fc7\u7a0b\u4e2d <code>Pet* p = p[i]</code> \u662f\u5408\u6cd5\u7684\uff0c\u8fd9\u4e2a\u4f20\u53c2\u5c31\u662f\u5408\u6cd5\u7684\uff08\u5c06\u4f20\u53c2\u89c6\u4e3a\u7ed9\u51fd\u6570\u53c2\u6570\u5217\u8868\u91cc\u7684\u5f62\u53c2\u8d4b\u503c\u7684\u8fc7\u7a0b\uff09\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_13","title":"\u62bd\u8c61\u7c7b\u4e0e\u7eaf\u865a\u51fd\u6570","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_14","title":"\u591a\u91cd\u7ee7\u627f","text":"<p>\u4f18\u70b9\uff1a\u6e05\u6670\uff0c\u7b26\u5408\u76f4\u89c9\u3002\u7ed3\u5408\u591a\u4e2a\u63a5\u53e3</p> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u4e8c\u4e49\u6027\uff1a\u5982\u679c\u6d3e\u751f\u7c7b <code>D</code> \u7ee7\u627f\u7684\u4e24\u4e2a\u57fa\u7c7b <code>A</code>\u3001<code>B</code>\uff0c\u6709\u540c\u540d\u6210\u5458 a\uff0c\u5219\u8bbf\u95ee <code>D</code> \u4e2d <code>a</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u65e0\u6cd5\u5224\u65ad\u8981\u8bbf\u95ee\u7684\u54ea\u4e00\u4e2a\u57fa\u7c7b\u6210\u5458\u3002</li> <li>\u94bb\u77f3\u578b\u7ee7\u627f\u6811\u5e26\u6765\u7684\u6570\u636e\u5197\u4f59\uff1a\u53f3\u56fe\u4e2d\u5982\u679c <code>InputFile</code> \u548c <code>OutputFile</code> \u90fd\u542b\u6709\u7ee7\u627f\u81ea <code>File</code> \u7684 <code>filename</code> \u53d8\u91cf\uff0c\u5219 <code>IOFile</code> \u4f1a\u6709\u4e24\u4efd\u72ec\u7acb\u7684 <code>filename</code>\uff0c\u800c\u8fd9\u5b9e\u9645\u4e0a\u5e76\u4e0d\u9700\u8981\u3002</li> </ul> <p>\u4f18\u5316\u65b9\u6848\uff1a</p> <p>\u6700\u591a\u7ee7\u627f\u4e00\u4e2a\u975e\u62bd\u8c61\u7c7b\uff08has-a\uff09\uff0c\u53ef\u4ee5\u7ee7\u627f\u591a\u4e2a\u62bd\u8c61\u7c7b\uff08\u63a5\u53e3\uff09\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u591a\u91cd\u7ee7\u627f\u7684\u4e8c\u4e49\u6027\uff0c\u4e5f\u53ef\u4ee5\u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_15","title":"\u4f8b\u5b50","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass WhatCanSpeak {\npublic:\n    virtual ~WhatCanSpeak() { }\n    virtual void speak() = 0;  \n};\n\nclass WhatCanMotion {\npublic:\n    virtual ~WhatCanMotion() { }\n    virtual void motion() = 0;   \n};\n\nclass Human: public WhatCanSpeak, public WhatCanMotion {\n    void speak() { cout &lt;&lt; \"say\" &lt;&lt; endl; }\n    void motion() { cout &lt;&lt; \"walk\" &lt;&lt; endl; }\n};\n\nvoid doSpeak(WhatCanSpeak* obj) { obj-&gt;speak(); }\nvoid doMotion(WhatCanMotion* obj) { obj-&gt;motion(); }\n\nint main() {\n    Human human;\n    doSpeak(&amp;human);\n    doMotion(&amp;human);\n    return 0;\n}\n\n/*\noutput:\nsay\nwalk\n*/\n</code></pre>"},{"location":"languages/c-oop/polymorphism-and-templates/#_16","title":"\u591a\u6001","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_17","title":"\u5b9a\u4e49","text":"<p>\u6309\u7167\u57fa\u7c7b\u7684\u63a5\u53e3\u5b9a\u4e49\uff0c\u8c03\u7528\u6307\u9488\u6216\u5f15\u7528\u6240\u6307\u5bf9\u8c61\u7684\u63a5\u53e3\u51fd\u6570\uff0c\u51fd\u6570\u6267\u884c\u8fc7\u7a0b\u56e0\u5bf9\u8c61\u5b9e\u9645\u6240\u5c5e\u6d3e\u751f\u7c7b\u7684\u4e0d\u540c\u800c\u5448\u73b0\u4e0d\u540c\u7684\u6548\u679c\uff08\u8868\u73b0\uff09\uff0c\u8fd9\u4e2a\u73b0\u8c61\u88ab\u79f0\u4e3a\u201c\u591a\u6001\u201d\u3002\u8fd9\u4e2a\u5b9a\u4e49\u975e\u5e38\u7e41\u7410\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u6309\u7167\u5b9e\u9645\u7c7b\u578b\u8c03\u7528\u51fd\u6570\u7f62\u4e86\u3002</p> <p>\u5f53\u5229\u7528\u57fa\u7c7b\u6307\u9488\u3001\u5f15\u7528\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u865a\u51fd\u6570\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\u6267\u884c\u54ea\u4e2a\u7248\u672c\uff0c\u53d6\u51b3\u4e8e\u5f15\u7528\u6216\u6307\u9488\u5bf9\u8c61\u7684\u771f\u5b9e\u7c7b\u578b\u3002</p> <p>\u975e\u865a\u51fd\u6570\u5728\u7f16\u8bd1\u65f6\u7ed1\u5b9a\uff0c\u6545\u800c\u8c03\u7528\u5728\u6307\u9488\u6743\u9650\u8303\u56f4\u5185\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u51fd\u6570\u3002\u5173\u4e8e\u6307\u9488\u7684\u6743\u9650\u8303\u56f4\u5728\u5148\u524d\u5df2\u7ecf\u53d9\u8ff0\u8fc7\u3002</p> <p>\u5f53\u5229\u7528\u7c7b\u7684\u5bf9\u8c61\u76f4\u63a5\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u65e0\u8bba\u4ec0\u4e48\u51fd\u6570\uff0c\u5747\u5728\u7f16\u8bd1\u65f6\u7ed1\u5b9a\u3002</p> <p>\u4ea7\u751f\u591a\u6001\u6548\u679c\u7684\u6761\u4ef6\uff1a\u7ee7\u627f\u3001\u865a\u51fd\u6570\u3001\u5f15\u7528\u6216\u6307\u9488\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_18","title":"\u4f18\u52bf","text":"<p>\u5168\u90e8\u8bbe\u8ba1\u62bd\u8c61\u7c7b\u6307\u9488\u6307\u5411\u6d3e\u751f\u7c7b\u540e\uff0cC++ \u8bed\u8a00\u53ef\u4ee5\u7528\u4e00\u6bb5\u76f8\u540c\u7684\u4ee3\u7801\uff0c\u5728\u8fd0\u884c\u65f6\u5b8c\u6210\u4e0d\u540c\u7684\u4efb\u52a1\uff0c\u8fd9\u4e9b\u4e0d\u540c\u8fd0\u884c\u7ed3\u679c\u7684\u5dee\u5f02\u7531\u6d3e\u751f\u7c7b\u4e4b\u95f4\u7684\u5dee\u5f02\u51b3\u5b9a\uff0c\u4e0d\u5fc5\u5bf9\u6bcf\u4e00\u4e2a\u6d3e\u751f\u7c7b\u7279\u6b8a\u5904\u7406\uff0c\u53ea\u9700\u8981\u8c03\u7528\u62bd\u8c61\u57fa\u7c7b\u7684\u63a5\u53e3\u5373\u53ef\u3002\u5927\u5927\u63d0\u9ad8\u7a0b\u5e8f\u7684\u53ef\u590d\u7528\u6027\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u4e0d\u540c\u6d3e\u751f\u7c7b\u5bf9\u540c\u4e00\u63a5\u53e3\u7684\u5b9e\u73b0\u4e0d\u540c\uff0c\u80fd\u8fbe\u5230\u4e0d\u540c\u7684\u6548\u679c\uff0c\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u53ef\u62d3\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p> <p>\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Animal {\npublic:  \n    void action() {\n        speak();\n        motion();\n    }\n    virtual void speak() { cout &lt;&lt; \"Animal speak\" &lt;&lt; endl; }\n    virtual void motion() { cout &lt;&lt; \"Animal motion\" &lt;&lt; endl; }\n};\n\nclass Bird: public Animal {\npublic:\n    void speak() { cout &lt;&lt; \"Bird singing\" &lt;&lt; endl; }\n    void motion() { cout &lt;&lt; \"Bird flying\" &lt;&lt; endl; }\n};\n\nclass Fish: public Animal {\npublic:\n    void speak() { cout &lt;&lt; \"Fish cannot speak ...\" &lt;&lt; endl; }\n    void motion() { cout &lt;&lt; \"Fish swimming\" &lt;&lt; endl; }\n};\n\nint main() {\n    Fish fish;\n    Bird bird;\n    fish.action();\n    bird.action();\n    Animal *pBase1 = new Fish;\n    Animal *pBase2 = new Bird;\n    pBase1-&gt;action();\n    pBase2-&gt;action();\n    return 0;\n}\n\n/*\noutput:\nFish cannot speak ...\nFish swimming\nBird singing\nBird flying\nFish cannot speak ...\nFish swimming\nBird singing\nBird flying\n*/\n</code></pre> <p>\u5f88\u6709\u610f\u601d\u7684\u662f\uff0c\u76f4\u63a5\u901a\u8fc7\u6d3e\u751f\u7c7b\u5bf9\u8c61\u8c03\u7528 <code>action</code> \u51fd\u6570\u65f6\uff0c\u7531\u4e8e\u6d3e\u751f\u7c7b\u6ca1\u6709\u91cd\u5b9a\u4e49 <code>action</code>\uff0c\u6545\u800c\u76f4\u63a5\u8c03\u7528\u4e86\u57fa\u7c7b\u7684 <code>action</code>\u3002\u4e4b\u540e\u4ee5 <code>fish</code> \u4e3a\u4f8b\uff0c\u8c03\u7528\u4e86 <code>fish.speak()</code> \u548c <code>fish.motion()</code>\u3002\u7136\u800c\u6ce8\u610f\u5230\uff0c<code>Fish</code> \u7c7b\u5df2\u7ecf\u91cd\u5199\u8986\u76d6\u4e86 <code>Animal</code> \u7684\u865a\u51fd\u6570 <code>speak()</code>\uff0c\u6545\u800c\u4f1a\u8c03\u7528\u81ea\u8eab\u91cd\u5b9a\u4e49\u7684 <code>speak()</code>\u3001<code>motion()</code> \u540c\u7406\u3002</p> <p>\u4e0b\u65b9\u7684\u901a\u8fc7\u57fa\u7c7b\u6307\u9488\u8c03\u7528\u5c31\u662f\u5178\u578b\u7684\u91cd\u5199\u8986\u76d6\u4e0e\u52a8\u6001\u7ed1\u5b9a\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_19","title":"\u51fd\u6570\u6a21\u677f\u4e0e\u7c7b\u6a21\u677f","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_20","title":"\u610f\u4e49\u4e0e\u5b9a\u4e49","text":"<p>\u5982\u679c\u6211\u4eec\u60f3\u5b9e\u73b0\u5bf9\u4e8e\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u81ea\u5b9a\u4e49\u7c7b\u7684\u6392\u5e8f\u51fd\u6570\uff0c\u8fd9\u4e9b\u6392\u5e8f\u672c\u8d28\u4e0a\u7b97\u6cd5\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5199\u5f88\u591a\u4e2a\u76f8\u4f3c\u7684\u51fd\u6570\u3002</p> <p>\u6709\u4e9b\u7b97\u6cd5\u5b9e\u73b0\u4e0e\u7c7b\u578b\u65e0\u5173\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\u4e5f\u5b9a\u4e49\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u201c\u53c2\u6570\u201d\uff0c\u8fd9\u6837\u5c31\u5f97\u5230\u4e86\u201c\u51fd\u6570\u6a21\u677f\u201d\u3002</p> <p>\u5b9a\u4e49\u51fd\u6570\u6a21\u677f\u7684\u65b9\u6cd5\uff08\u53ef\u4ee5\u4e0d\u5199\u5728\u5206\u5f00\u7684\u4e24\u884c\uff09\u3002</p> <pre><code>template &lt;typename T&gt;\nReturnType Func(Args);\n</code></pre> <p>\u5982\uff1a\u4efb\u610f\u7c7b\u578b\u4e24\u4e2a\u53d8\u91cf\u76f8\u52a0\u7684\u201c\u51fd\u6570\u6a21\u677f\u201d\uff1a</p> <pre><code>template &lt;typename T&gt;\nT sum(T a, T b) { return a + b; }\n</code></pre> <p>\u6ce8\uff1a<code>typename</code> \u4e5f\u53ef\u6362\u4e3a <code>class</code>\u3002</p> <pre><code>template &lt;class T&gt; \nT sum(T a, T b) { return a + b; }\n</code></pre> <p>\u6a21\u677f\u5fc5\u987b\u5728\u5934\u6587\u4ef6\u4e2d\u5b9e\u73b0\uff0c\u539f\u56e0\u6bd4\u8f83\u590d\u6742\uff0c\u6d89\u53ca\u94fe\u63a5\u539f\u7406\uff0c\u4e0d\u505a\u8d58\u8ff0\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_21","title":"\u5b9e\u4f8b\u5316\u4e0e\u81ea\u52a8\u63a8\u5bfc","text":"<p>\u51fd\u6570\u6a21\u677f\u5728\u8c03\u7528\u65f6\uff0c\u7f16\u8bd1\u5668\u80fd\u81ea\u52a8\u63a8\u5bfc\u51fa\u5b9e\u9645\u53c2\u6570\u7684\u7c7b\u578b\uff08\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a\u5b9e\u4f8b\u5316\uff09\u3002\u6240\u4ee5\uff0c\u5f62\u5f0f\u4e0a\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u6a21\u677f\u4e0e\u666e\u901a\u51fd\u6570\u6ca1\u6709\u533a\u522b\uff0c\u5982\uff1a</p> <pre><code>cout &lt;&lt; sum(9, 3);      \ncout &lt;&lt; sum(2.1, 5.7);\n</code></pre> <p>\u8c03\u7528\u7c7b\u578b\u9700\u8981\u6ee1\u8db3\u51fd\u6570\u7684\u8981\u6c42\u3002\u672c\u4f8b\u4e2d\uff0c\u8981\u6c42\u7c7b\u578b <code>T</code> \u5b9a\u4e49\u4e86\u52a0\u6cd5\u8fd0\u7b97\u7b26\u3002</p> <p>\u5f53\u591a\u4e2a\u53c2\u6570\u7684\u7c7b\u578b\u4e0d\u4e00\u81f4\u5e76\u4e14\u4e0d\u5f3a\u5236\u8981\u6c42\u7c7b\u578b\u63a8\u5bfc\u65f6\uff0c\u65e0\u6cd5\u63a8\u5bfc\uff1a<code>cout &lt;&lt; sum(9, 2.1)</code>\u3002</p> <p>\u53ef\u4ee5\u5f3a\u5236\u6307\u5b9a\u7c7b\u578b\u63a8\u5bfc\u65b9\u5f0f\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;class T&gt; \nT sum(T a, T b) { return a + b; }\n\nint main() {\n    cout &lt;&lt; sum&lt;int&gt;(9.9, 2.5) &lt;&lt; endl;\n    cout &lt;&lt; sum&lt;float&gt;(9.9, 2.5) &lt;&lt; endl;\n    cout &lt;&lt; sum&lt;double&gt;(9.9, 2.5) &lt;&lt; endl;\n}\n\n/*\noutput:\n11\n12.4\n12.4\n*/\n</code></pre> <p>\u4ece\u4e0a\u4f8b\u4e2d\u53ef\u770b\u51fa\u5148\u8f6c\u6362\u518d\u8fdb\u884c\u52a0\u6cd5\u3002</p> \u4f8b\u5b50 <ul> <li>\u793a\u4f8b</li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\ntemplate&lt;class T&gt;\nvoid sort(T* data, int len) {\n    for (int i = 0; i &lt; len; i++) { // \u9009\u62e9\u6392\u5e8f\n        for (int j = i + 1; j &lt; len; j++) {\n            if (data[i] &gt; data[j])\n                std::swap(data[i], data[j]); // \u4ea4\u6362\u5143\u7d20\u4f4d\u7f6e\n        }\n    }\n}\n\ntemplate&lt;class T&gt;\nvoid output(T* data, int len) {\n    for (int i = 0; i &lt; len; i++)\n        std::cout &lt;&lt; data[i] &lt;&lt; \" \";\n    std::cout &lt;&lt; std::endl;\n}\n\nint main() {\n    int arr_a[] = {3, 2, 4, 1, 5};\n    sort(arr_a, 5); // \u8c03\u7528 int \u7c7b\u578b\u7684 sort\n    output(arr_a, 5); // \u8c03\u7528 int \u7c7b\u578b\u7684 output\n\n    float arr_b[] = {3.2, 2.1, 4.3, 1.5, 5.7};\n    sort(arr_b, 5); // \u8c03\u7528 float \u7c7b\u578b\u7684 sort\n    output(arr_b, 5); // \u8c03\u7528 float \u7c7b\u578b\u7684 output\n    return 0;\n}\n\n/*\noutput:\n1 2 3 4 5\n1.5 2.1 3.2 4.3 5.7\n*/\n</code></pre> <ul> <li>\u53e6\u4e00\u4e2a\u4f8b\u5b50</li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\ntemplate&lt;class T&gt;\nvoid sort(T* data, int len) {\n    for (int i = 0; i &lt; len; i++) { // \u9009\u62e9\u6392\u5e8f\n        for (int j = i + 1; j &lt; len; j++) {\n            if (data[i] &gt; data[j])\n                std::swap(data[i], data[j]); // \u4ea4\u6362\u5143\u7d20\u4f4d\u7f6e\n        }\n    }\n}\n\ntemplate&lt;class T&gt;\nvoid output(T* data, int len) {\n    for (int i = 0; i &lt; len; i++)\n        std::cout &lt;&lt; data[i] &lt;&lt; \" \";\n    std::cout &lt;&lt; std::endl;\n}\n\nclass MyInt {\npublic:\n    int data;\n    MyInt(int val): data(val) { };\n}\n\nint main() {\n    MyInt arr_c[] = {3, 2, 4, 1, 5};\n    sort(arr_c, 5);\n    output(arr_c, 5);\n    return 0;\n}\n\n/*\noutput:\nmain.cpp: In instantiation of 'void sort(T*, int) [with T = MyInt]':\nmain.cpp:33:15: required from here\nmain.cpp:9:15: error: no match for 'operator&gt;' (operand types are 'MyInt' and 'MyInt')\n*/\n</code></pre> <p>\u6a21\u677f\u7f16\u8bd1\u9519\u8bef\u4f1a\u5f15\u8d77\u4e0a\u767e\u884c\u7684\u9519\u8bef\uff0c\u5173\u6ce8\u4e0a\u65b9\u51e0\u884c\u3002<code>sort</code> \u4e2d\u9700\u8981 <code>operator&gt;</code> \u4f46 <code>MyInt</code> \u5e76\u4e0d\u652f\u6301\u3002</p> <ul> <li>\u7a0d\u4f5c\u4fee\u6539\uff1a</li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\ntemplate&lt;class T&gt;\nvoid sort(T* data, int len) {\n    for (int i = 0; i &lt; len; i++) { // \u9009\u62e9\u6392\u5e8f\n        for (int j = i + 1; j &lt; len; j++) {\n            if (data[i] &gt; data[j])\n                std::swap(data[i], data[j]); // \u4ea4\u6362\u5143\u7d20\u4f4d\u7f6e\n        }\n    }\n}\ntemplate&lt;class T&gt;\nvoid output(T* data, int len) {\n    for (int i = 0; i &lt; len; i++)\n        std::cout &lt;&lt; data[i] &lt;&lt; \" \";\n    std::cout &lt;&lt; std::endl;\n}\n\nclass MyInt {\npublic:\n    int data;\n    MyInt(int val): data(val) { };\n\n    bool operator&gt;(const MyInt&amp; b) { //\u7528\u4e8esort\n        return data &gt; b.data;\n    }\n\n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const MyInt&amp; obj) {\n        out &lt;&lt; obj.data;\n        return out;\n    }\n};\n\nint main() {\n    MyInt arr_c[] = {3, 2, 4, 1, 5};\n    sort(arr_c, 5);\n    output(arr_c, 5);\n    return 0;\n}\n\n/*\noutput:\n1 2 3 4 5\n*/\n</code></pre> <p>\u5b8c\u5168\u91cd\u8f7d\u4e86\u6d41\u8fd0\u7b97\u7b26\u548c\u5927\u5c0f\u8fd0\u7b97\u7b26\u3002</p>"},{"location":"languages/c-oop/polymorphism-and-templates/#_22","title":"\u6a21\u677f\u539f\u7406","text":"<p>\u5bf9\u51fd\u6570\u6a21\u677f\u7684\u5904\u7406\u662f\u5728\u7f16\u8bd1\u671f\u8fdb\u884c\u7684\uff0c\u6bcf\u5f53\u7f16\u8bd1\u5668\u53d1\u73b0\u5bf9\u6a21\u677f\u7684\u4e00\u79cd\u53c2\u6570\u7684\u4f7f\u7528\uff0c\u5c31\u751f\u6210\u5bf9\u5e94\u53c2\u6570\u7684\u4e00\u4efd\u4ee3\u7801\u3002</p> <pre><code>template&lt;typename T&gt;\nT sum(T a, T b) { return a + b; }\n\nint main() {\n    int a = sum(1, 2); // \u751f\u6210\u5e76\u7f16\u8bd1 int sum(int, int)\n    double b = sum(1.0, 2.0); // \u751f\u6210\u5e76\u7f16\u8bd1 double sum(double, double)\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/polymorphism-and-templates/#_23","title":"\u7c7b\u6a21\u677f","text":""},{"location":"languages/c-oop/polymorphism-and-templates/#_24","title":"\u5b9a\u4e49","text":"<p>\u5728\u5b9a\u4e49\u7c7b\u65f6\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e9b\u7c7b\u578b\u4fe1\u606f\u62bd\u53d6\u51fa\u6765\uff0c\u7528\u6a21\u677f\u53c2\u6570\u6765\u66ff\u6362\uff0c\u4ece\u800c\u4f7f\u7c7b\u66f4\u5177\u901a\u7528\u6027\u3002\u8fd9\u79cd\u7c7b\u88ab\u79f0\u4e3a\u201c\u7c7b\u6a21\u677f\u201d\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\nclass A {\n    T data;\npublic:\n    A(T _data): data(_data) { }\n    void print() { cout &lt;&lt; data &lt;&lt; endl; }\n};\n\nint main() {\n    A&lt;int&gt; a(1); // \u51fd\u6570\u6a21\u677f\u53ef\u4ee5\u81ea\u52a8\u63a8\u5bfc\u7c7b\u578b\uff0c\u4f46\u662f\u7c7b\u6a21\u677f\u4e0d\u53ef\u4ee5\n    a.print();\n    return 0;\n}\n</code></pre> <p>\u6210\u5458\u51fd\u6570\u4e5f\u53ef\u4ee5\u5982\u6b64\u5b9a\u4e49\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\nclass A {\n    T data;\npublic:\n    A(T _data): data(_data) { }\n    void print();\n};\n\ntemplate&lt;typename T&gt;\nvoid A&lt;T&gt;::print() { cout &lt;&lt; data &lt;&lt; endl; }\n\nint main() {\n    A&lt;int&gt; a(1);\n    a.print();\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/polymorphism-and-templates/#_25","title":"\u6a21\u677f\u53c2\u6570","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c06\u7c7b\u6a21\u677f\u89c6\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u201c\u51fd\u6570\u201d\uff0c\u9700\u8981\u5411\u5176\u4e2d\u4f20\u5165\u53c2\u6570\u624d\u80fd\u591f\u5b9a\u4e49\u4e00\u4e2a\u5b8c\u6574\u7684\u7c7b\uff0c\u800c\u8fd9\u4e9b\u4f20\u5165\u7684\u53c2\u6570\u6709\u4e24\u79cd\u3002\u4e00\u79cd\u662f\u7c7b\u578b\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u5728 <code>typename</code> \u6216\u8005 <code>class</code> \u4e4b\u540e\u7684\u53c2\u6570\uff08\u4e0b\u4f8b\u4e2d\u7684\u5c0f <code>T</code>\uff09\uff0c\u7b2c\u4e8c\u79cd\u662f\u975e\u7c7b\u578b\u53c2\u6570\uff0c\u8fd9\u4e2a\u53ef\u80fd\u6709\u975e\u5e38\u591a\u79cd\uff0c\u6bd4\u5982\u6574\u6570\u3001\u679a\u4e3e\u3001\u6307\u9488\uff08\u6307\u5411\u5bf9\u8c61\u6216\u51fd\u6570\uff09\uff0c\u5f15\u7528\uff08\u5f15\u7528\u5bf9\u8c61\u6216\u5f15\u7528\u51fd\u6570\uff09\uff0c\u65e0\u7b26\u53f7\u6574\u6570\u7b49\u7b49\uff0c\u6bd4\u5982\u4e0b\u4f8b\u5c31\u662f\u65e0\u7b26\u53f7\u6574\u6570\u6765\u5b9a\u4e49\u4e86\u6570\u7ec4\u7684\u5927\u5c0f\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6a21\u677f\u6bd4\u8f83\u590d\u6742\u65f6\uff0c\u5c16\u62ec\u53f7\u91cc\u53ef\u4ee5\u653e\u5f88\u591a\uff0c\u53ef\u4ee5\u662f\u7c7b\u578b\u4e5f\u53ef\u4ee5\u662f\u975e\u7c7b\u578b\u3002\u5f53\u7136\u7c7b\u578b\u53c2\u6570\u4e5f\u53ef\u4ee5\u6709\u591a\u4e2a\u3002</p> <pre><code>template&lt;typename T, unsigned size&gt;\nclass array {\n    T elems[size];\n};\n\narray&lt;char, 10&gt; array0;\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c<code>size</code> \u53ea\u662f\u4e00\u4e2a\u65e0\u7b26\u53f7\u6574\u6570\u7684\u540d\u5b57\u800c\u5df2\uff0c<code>unsigned</code> \u548c <code>typename</code> \u624d\u662f\u5173\u952e\uff0c\u5b8c\u6574\u7684\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\u624d\u53ef\u5f62\u6210\u4e00\u4e2a\u5b8c\u6574\u7684\u7c7b\uff0c\u5e76\u5b9a\u4e49\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\u3002</p> <p>\u4e00\u4e2a\u6a21\u677f\u53ef\u80fd\u4f1a\u5199\u51fa\u591a\u4e2a\u65b0\u7684\u7c7b\uff0c\u8fd9\u4e9b\u7c7b\u662f\u4e0d\u540c\u7684\uff0c\u4e0d\u8fc7\u78b0\u5de7\u90fd\u7528\u4e86\u540c\u4e00\u4e2a\u6a21\u677f\u7684\u540d\u5b57\uff08\u6bd4\u5982\u4e0a\u4f8b\u4e2d\u7684 <code>array</code> \u6a21\u677f\u540d\u5b57\uff09\u3002</p> <pre><code>template&lt;typename T, unsigned size&gt;\nclass array {\n    T elems[size];\n}; \n\nint main() {\n    int n = 5;\n    // array&lt;char, n&gt; array0; // \u4e0d\u80fd\u4f7f\u7528\u53d8\u91cf\n    const int m = 5;\n    array&lt;char, m&gt; array1; // \u53ef\u4ee5\u4f7f\u7528\u5e38\u91cf\n    array&lt;char, 5&gt; array2; // \u6216\u5177\u4f53\u6570\u503c\n    return 0;\n}\n</code></pre> <p>\u6240\u6709\u6a21\u677f\u53c2\u6570\u5fc5\u987b\u5728\u7f16\u8bd1\u671f\u786e\u5b9a\uff0c\u56e0\u800c\u4e0d\u53ef\u4ee5\u4f7f\u7528\u53d8\u91cf\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\ntemplate&lt;class T, unsigned size&gt;\nclass MyArr {\n    T data[size];\npublic: \n    void sort() {\n        for (int i = 0; i &lt; size; i++) { // \u9009\u62e9\u6392\u5e8f\n            for (int j = i + 1; j &lt; size; j++) {\n                if (data[i] &gt; data[j])\n                    std::swap(data[i], data[j]); // \u4ea4\u6362\u4e24\u8005\u4f4d\u7f6e\n            }\n        }\n    }\n\n    void output() {\n        for (int i = 0; i &lt; size; i++)\n            std::cout &lt;&lt; data[i] &lt;&lt; \" \";\n        std::cout &lt;&lt; std::endl;\n    }\n\n    void input() {\n        for (int i = 0; i &lt; size; i++)\n            std::cin &gt;&gt; data[i];\n    }\n};\n\nint main() {\n    MyArr&lt;int, 5&gt; arr_a;\n    arr_a.input();\n    arr_a.sort();\n    arr_a.output();\n\n    MyArr&lt;float, 5&gt; arr_b;\n    arr_b.input();\n    arr_b.sort();\n    arr_b.output();\n    return 0;\n}\n\n/*\ninput:\n3 2 4 1 5\n3.2 2.1 4.3 1.5 5.7\n\noutput:\n1 2 3 4 5\n1.5 2.1 3.2 4.3 5.7\n*/\n</code></pre>"},{"location":"languages/c-oop/polymorphism-and-templates/#_26","title":"\u6a21\u677f\u4e0e\u591a\u6001","text":"<p>\u6a21\u677f\u4f7f\u7528\u6cdb\u578b\u6807\u8bb0\uff0c\u4f7f\u7528\u540c\u4e00\u6bb5\u4ee3\u7801\uff0c\u6765\u5173\u8054\u4e0d\u540c\u4f46\u76f8\u4f3c\u7684\u7279\u5b9a\u884c\u4e3a\uff0c\u6700\u540e\u53ef\u4ee5\u83b7\u5f97\u4e0d\u540c\u7684\u7ed3\u679c\u3002\u6a21\u677f\u4e5f\u662f\u591a\u6001\u7684\u4e00\u79cd\u4f53\u73b0\u3002</p> <p>\u4f46\u6a21\u677f\u7684\u5173\u8054\u662f\u5728\u7f16\u8bd1\u671f\u5904\u7406\uff0c\u79f0\u4e3a\u9759\u591a\u6001\u3002</p> <p>\u6a21\u677f\u7684\u7279\u70b9\uff1a</p> <ul> <li>\u5f80\u5f80\u548c\u51fd\u6570\u91cd\u8f7d\u540c\u65f6\u4f7f\u7528</li> <li>\u9ad8\u6548\uff0c\u7701\u53bb\u51fd\u6570\u8c03\u7528</li> <li>\u7f16\u8bd1\u540e\u4ee3\u7801\u589e\u591a</li> </ul> <p>\u57fa\u4e8e\u7ee7\u627f\u548c\u865a\u51fd\u6570\u7684\u591a\u6001\u5728\u8fd0\u884c\u671f\u5904\u7406\uff0c\u79f0\u4e3a\u52a8\u591a\u6001\u3002</p> <p>\u865a\u51fd\u6570\u7684\u7279\u70b9\uff1a</p> <ul> <li>\u8fd0\u884c\u65f6\uff0c\u7075\u6d3b\u65b9\u4fbf</li> <li>\u4fb5\u5165\u5f0f\uff0c\u5fc5\u987b\u7ee7\u627f</li> <li>\u5b58\u5728\u51fd\u6570\u8c03\u7528</li> </ul> <p>\u6240\u8c13\u7684\u7701\u53bb\u51fd\u6570\u8c03\u7528\u662f\u6307\uff0c\u5982\u679c <code>doSomethingOnA</code> \u548c <code>doSomethingOnB</code> \u7684\u5b9e\u73b0\u9664\u4e86\u7c7b\u578b\u4e0d\u540c\uff0c\u5176\u4ed6\u57fa\u672c\u4e00\u81f4\u7684\u8bdd\u5219\u53ef\u7701\u53bb\u5982\u4e0b\u4ee3\u7801\u3002</p> <pre><code>if (typeof(a) == A) {\n    doSomethingOnA(a);\n} else if (typeof(a) == B) {\n    doSomethingOnB(a);\n}\n</code></pre> <p>\u76f4\u63a5\u5199\u4e00\u4e2a\u6a21\u677f\u7136\u540e <code>dosomethingOnWhatever</code>\u3002</p>"},{"location":"languages/c-oop/reference-copy/","title":"\u5f15\u7528\u4e0e\u590d\u5236","text":""},{"location":"languages/c-oop/reference-copy/#_2","title":"\u5e38\u91cf\u5f15\u7528","text":""},{"location":"languages/c-oop/reference-copy/#_3","title":"\u5e38\u91cf\u5f15\u7528\u7684\u610f\u4e49","text":"<p>\u6309\u7167\u6700\u5c0f\u7279\u6743\u539f\u5219\uff1a\u7ed9\u51fd\u6570\u8db3\u591f\u7684\u6743\u9650\u53bb\u5b8c\u6210\u76f8\u5e94\u7684\u4efb\u52a1\uff0c\u4f46\u4e0d\u8981\u7ed9\u4e88\u4ed6\u4efb\u4f55\u591a\u4f59\u7684\u6743\u9650\u3002\u4f8b\u5982\u51fd\u6570 <code>void add(int&amp; a, int&amp; b)</code>\uff0c\u5982\u679c\u5c06\u53c2\u6570\u7c7b\u578b\u5b9a\u4e49\u4e3a <code>int&amp;</code>\uff0c\u5219\u7ed9\u4e88\u8be5\u51fd\u6570\u5728\u51fd\u6570\u4f53\u5185\u4fee\u6539 <code>a</code> \u548c <code>b</code> \u7684\u503c\u7684\u6743\u9650\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u7ed9\u4e88\u51fd\u6570\u4fee\u6539\u6743\u9650\uff0c\u5219\u53ef\u4ee5\u5728\u53c2\u6570\u4e2d\u4f7f\u7528\u5e38\u91cf\u3001\u5e38\u91cf\u5f15\u7528 <code>void add(const int&amp; a, const int&amp; b)</code>\u3002\u6b64\u65f6\u51fd\u6570\u4e2d\u4ec5\u80fd\u8bfb\u53d6 <code>a</code> \u548c <code>b</code> \u7684\u503c\uff0c\u65e0\u6cd5\u5bf9 <code>a</code>\u3001<code>b</code> \u8fdb\u884c\u4efb\u4f55\u4fee\u6539\u64cd\u4f5c\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_4","title":"\u62f7\u8d1d\u6784\u9020\u51fd\u6570","text":""},{"location":"languages/c-oop/reference-copy/#_5","title":"\u5b9a\u4e49\u4e0e\u8bed\u6cd5\u89c4\u5219","text":"<p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6784\u9020\u51fd\u6570\uff0c\u5b83\u7684\u53c2\u6570\u662f\u8bed\u8a00\u89c4\u5b9a\u7684\uff0c\u662f\u540c\u7c7b\u5bf9\u8c61\u7684\u5e38\u91cf\u5f15\u7528\u3002\u4f5c\u7528\uff1a\u7528\u53c2\u6570\u5bf9\u8c61\u7684\u5185\u5bb9\u521d\u59cb\u5316\u5f53\u524d\u5bf9\u8c61\u3002</p> <pre><code>Vector::Vector(const Vector&amp; other) {\n    capacity = other.capacity;\n    len = other.len;\n    array = new Node[other.capacity];\n    for (int i = 0; i &lt; len; i++) {\n        array[i] = other.array[i];\n    }\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_6","title":"\u8c03\u7528\u65f6\u673a","text":"<p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u88ab\u8c03\u7528\u7684\u4e09\u79cd\u5e38\u89c1\u60c5\u51b5\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528\u201c\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u201d\uff0c\u5728\u5df2\u6709\u5bf9\u8c61\u57fa\u7840\u4e0a\u751f\u6210\u65b0\u5bf9\u8c61\u3002</p> <p>\u7528\u4e00\u4e2a\u7c7b\u5bf9\u8c61\u5b9a\u4e49\u53e6\u4e00\u4e2a\u65b0\u7684\u7c7b\u5bf9\u8c61\uff1a</p> <pre><code>Test a;\nTest b(a);\nTest c = a;\n</code></pre> <p>\u51fd\u6570\u8c03\u7528\u65f6\u4ee5\u7c7b\u7684\u5bf9\u8c61\u4e3a\u5f62\u53c2\uff1a</p> <pre><code>Func(Test a)\n</code></pre> <p>\u51fd\u6570\u8fd4\u56de\u7c7b\u5bf9\u8c61\uff08\u65e0\u8fd4\u56de\u503c\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\uff09\uff1a</p> <pre><code>Test Func(void)\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_7","title":"\u9690\u5f0f\u62f7\u8d1d\u6784\u9020\u51fd\u6570","text":"<p>\u7c7b\u7684\u65b0\u5bf9\u8c61\u88ab\u5b9a\u4e49\u540e\uff0c\u4f1a\u8c03\u7528\u6784\u9020\u51fd\u6570\u6216\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002\u5982\u679c\u8c03\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u4e14\u5f53\u524d\u6ca1\u6709\u7ed9\u7c7b\u663e\u5f0f\u5b9a\u4e49\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u5c06\u81ea\u52a8\u5408\u6210\u201c\u9690\u5f0f\u5b9a\u4e49\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u201d\uff0c\u5176\u529f\u80fd\u662f\u8c03\u7528\u6240\u6709\u6570\u636e\u6210\u5458\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u6216\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002</p> <p>\u5bf9\u4e8e\u57fa\u7840\u7c7b\u578b\u6765\u8bf4\uff0c\u9ed8\u8ba4\u7684\u62f7\u8d1d\u65b9\u5f0f\u4e3a\u4f4d\u62f7\u8d1d\uff08\u82f1\u8bed\uff1aBitwise Copy\uff09\uff0c\u5373\u76f4\u63a5\u5bf9\u6574\u5757\u5185\u5b58\u8fdb\u884c\u590d\u5236\u3002</p> <p>\u4f4d\u62f7\u8d1d\u539f\u672c\u662f C \u4e2d\u7684\u6982\u5ff5\u3002\u5728 C++ \u4e2d\uff0c\u53ea\u6709\u57fa\u7840\u7c7b\u578b\uff08<code>int</code>\u3001<code>double</code> \u7b49\uff09\u624d\u4f1a\u8fdb\u884c\u4f4d\u62f7\u8d1d\uff1b\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u7c7b\uff0c\u7f16\u8bd1\u5668\u4f1a\u9012\u5f52\u8c03\u7528\u6240\u6709\u6570\u636e\u6210\u5458\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u6216\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002\u4f46\u4e00\u4e9b\u6559\u6750\u4e2d\u4ecd\u7136\u628a\u8fd9\u79cd\u884c\u4e3a\u79f0\u4e3a\u201c\u4f4d\u62f7\u8d1d\u201d\uff0c\u4ee5\u533a\u522b\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u62f7\u8d1d\u65b9\u6cd5\u3002</p> <p>\u9690\u5f0f\u5b9a\u4e49\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u7f3a\u9677\uff1a\u9690\u5f0f\u5b9a\u4e49\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u5728\u9047\u5230\u6307\u9488\u7c7b\u578b\u6210\u5458\u65f6\u53ef\u80fd\u4f1a\u51fa\u9519,\u5bfc\u81f4\u591a\u4e2a\u6307\u9488\u7c7b\u578b\u7684\u53d8\u91cf\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_8","title":"\u6267\u884c\u987a\u5e8f","text":"<p>\u57fa\u672c\u7684\u6267\u884c\u987a\u5e8f</p> <p>\u4ee5\u4e0b\u8ff0\u7684 <code>func</code> \u51fd\u6570\u4e3a\u4f8b\uff0c\u8c03\u7528\u8be5\u51fd\u6570\u65f6\uff0c\u51fd\u6570\u4e2d\u5404\u7c7b\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570\u7684\u6267\u884c\u987a\u5e8f\u5982\u4e0b\u3002</p> <p></p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5b9e\u9645\u4e0a\u5728\u4e3b\u51fd\u6570\u4f53\u5185\uff0c\u5047\u8bbe\u6211\u4eec\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316\u3002<code>Myclass a = func(d)</code> \u8fd9\u4e2a\u8bed\u53e5\u5185\u7684\u8fd4\u56de\u503c\u7c7b\u6784\u9020\u8c03\u7528\u4e86\u62f7\u8d1d\u6784\u9020\uff0c\u5e76\u4e14\u76f8\u5173\u7684\u6790\u6784\u975e\u5e38\u503c\u5f97\u7814\u7a76\uff0c\u4e0b\u6587\u5c06\u5728\u79fb\u52a8\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\u4e2d\u5c06\u8fdb\u4e00\u6b65\u9610\u8ff0\u3002</p> <p>\u4f8b\u5b50</p> <p>\uff08\u7f16\u8bd1\u6307\u4ee4 <code>g++ test.cpp --std=c++11 -fno-elide-constructors \u2013o test</code>\uff09</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\npublic:\n    Test() { // \u6784\u9020\u51fd\u6570\n        cout &lt;&lt; \"Test()\" &lt;&lt; endl; \n    }\n\n    Test(const Test&amp; src) { // \u62f7\u8d1d\u6784\u9020\n        cout &lt;&lt; \"Test(const Test&amp;)\" &lt;&lt; endl; \n    }\n\n    ~Test() { // \u6790\u6784\u51fd\u6570\n        cout &lt;&lt; \"~Test()\" &lt;&lt; endl;\n    }\n};\n\nTest copyObj(Test obj) { \n    cout &lt;&lt; \"func()...\" &lt;&lt; endl; \n    return Test();\n}\n\nint main() {\n    cout &lt;&lt; \"main()...\" &lt;&lt; endl;\n    Test t;\n    t = copyObj(t);\n    return 0;\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>main()...\nTest()\nTest(const Test&amp;)\nfunc()...\nTest()\nTest(const Test&amp;)\n~Test()\n~Test()\n~Test()\n~Test()\n</code></pre> <p>\u5bf9\u5e94\u5173\u7cfb\u5e76\u4e0d\u590d\u6742\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5176\u5b9e\u6700\u6709\u610f\u601d\u7684\u662f\uff0c\u8fd9\u91cc\u5bf9\u4e8e\u8fd4\u56de\u7c7b\u5bf9\u8c61\u7684\u6784\u9020\u3002\u5728\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316\u7684\u6761\u4ef6\u4e0b\uff0c\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u67d0\u4e2a\u5bf9\u8c61\uff0c\u90a3\u5728\u51fd\u6570\u8fd4\u56de\u524d\u9700\u8981\u8c03\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u6784\u5efa\u8fd4\u56de\u503c\u3002</p> <p>\u5373\u4f7f\u6211\u8fd4\u56de\u7684\u4e1c\u897f\u5c31\u662f\u6211\u4f20\u8fdb\u6765\u7684\u5f62\u53c2\u5bf9\u8c61\uff0c\u8fd4\u56de\u524d\u7684\u8fd9\u6b21\u6784\u9020\u4ecd\u7136\u4f1a\u53d1\u751f\uff0c\u4e5f\u5c31\u662f\u8fd9\u9053\u9898\u4e2d <code>f1</code> \u7684\u7b2c\u4e8c\u6b21\u6784\u9020\u51fd\u6570\u8c03\u7528\u3002</p> <p>\u4f46\u662f\u5bf9\u4e8e\u8fd4\u56de\u503c\u7684\u6784\u9020\u8c03\u7528\u7684\u5230\u5e95\u662f\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u8fd8\u662f\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u5bf9\u6b64 C++11 \u6709\u89c4\u5b9a\uff1a\u5728\u65e0\u8fd4\u56de\u503c\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u8c03\u7528\u79fb\u52a8\u6784\u9020\u51fd\u6570\u3002</p> <p>\u6309\u6b64\u7406\u89e3\uff0c\u6b64\u5904\u6784\u9020\u8fd4\u56de\u503c\u7406\u5e94\u8c03\u7528\u79fb\u52a8\u6784\u9020\uff0c\u800c\u975e\u62f7\u8d1d\u6784\u9020\uff0c\u4f3c\u4e4e\u4ea7\u751f\u4e86\u77db\u76fe\u3002\u7136\u800c\uff0c\u5f53\u6211\u4eec\u663e\u5f0f\u5b9a\u4e49\u4e86\u62f7\u8d1d\u6784\u9020\uff0c\u7f16\u8bd1\u5668\u5c31\u4e0d\u4f1a\u9ed8\u8ba4\u751f\u6210\u79fb\u52a8\u6784\u9020\u4e86\u3002\u4ece\u800c\u7981\u7528\u4e86\u8fd4\u56de\u503c\u4f18\u5316\u540e\uff0c\u5728\u8fd4\u56de\u503c\u7684\u6784\u9020\u5f53\u4e2d\u8c03\u7528\u4e86\u62f7\u8d1d\u6784\u9020\u800c\u975e\u79fb\u52a8\u6784\u9020\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u4e0d\u4f1a\u9ed8\u8ba4\u751f\u6210\u79fb\u52a8\u6784\u9020\uff0c\u6211\u4e5f\u6ca1\u6709\u81ea\u5df1\u5b9a\u4e49\u3002</p> <p>\u66f4\u8fdb\u4e00\u6b65\uff0c\u5982\u679c\u6211\u663e\u5f0f\u5b9a\u4e49\u4e86\u62f7\u8d1d\u8d4b\u503c\uff0c\u5c31\u4e0d\u4f1a\u9ed8\u8ba4\u751f\u6210\u79fb\u52a8\u8d4b\u503c\u4e86\u3002\u5982\u679c\u4e24\u4e2a\u90fd\u4e0d\u5b9a\u4e49\uff0c\u4e24\u4e2a\u90fd\u4f1a\u9ed8\u8ba4\u751f\u6210\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_9","title":"\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u7f3a\u9677","text":"<p>\u5f53\u7c7b\u5185\u542b\u6307\u9488\u7c7b\u578b\u7684\u6210\u5458\u65f6\uff0c\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u4f1a\u4f7f\u5f97\u4e24\u4e2a\u6307\u6b63\u6307\u5411\u540c\u4e00\u5185\u5b58\u7a7a\u95f4\u3002\u5728\u6790\u6784\u65f6\uff0c\u8be5\u5185\u5b58\u7a7a\u95f4\u53ef\u80fd\u88ab\u53cd\u590d\u91ca\u653e\u3002\u4e3a\u907f\u514d\u6307\u9488\u88ab\u91cd\u590d\u5220\u9664\uff0c\u4e0d\u5e94\u4f7f\u7528\u9690\u5f0f\u5b9a\u4e49\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002</p> <p>\u4ee5\u53ca\uff0c\u5f53\u5bf9\u8c61\u8f83\u5927\u65f6\uff0c\u9891\u7e41\u7684\u62f7\u8d1d\u6784\u9020\u4f1a\u9020\u6210\u7a0b\u5e8f\u6548\u7387\u7684\u663e\u8457\u4e0b\u964d\u3002</p> <p>\u6545\u800c\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u5e94\u5c3d\u53ef\u80fd\u907f\u514d\u4f7f\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_10","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<ul> <li>\u4f7f\u7528\u5f15\u7528\u3001\u5e38\u91cf\u5f15\u7528\u4f20\u53c2\u6570\u6216\u8fd4\u56de\u5bf9\u8c61\uff1a</li> </ul> <pre><code>func(MyClass a) // BAD\nfunc(const MyClass&amp; a) // GOOD\n\nMyClass func() // BAD\nMyClass&amp; func() // GOOD\n</code></pre> <ul> <li>\u5c06\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u58f0\u660e\u4e3a <code>private</code>\uff1a</li> </ul> <pre><code>class MyClass {\n    MyClass(const MyClass&amp;) { }\npublic:\n    MyClass() = default;\n}\n</code></pre> <ul> <li>\u7528 <code>delete</code> \u5173\u952e\u5b57\u8ba9\u7f16\u8bd1\u5668\u4e0d\u751f\u6210\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u9690\u5f0f\u5b9a\u4e49\u7248\u672c\u3002</li> </ul> <pre><code>class MyClass {\npublic:\n    MyClass() = default;\n    MyClass(const MyClass&amp;) = delete;\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_11","title":"\u79fb\u52a8\u6784\u9020\u51fd\u6570","text":""},{"location":"languages/c-oop/reference-copy/#_12","title":"\u53f3\u503c\u4e0e\u53f3\u503c\u5f15\u7528","text":"<p>\u5de6\u53f3\u503c</p> <ul> <li>\u5de6\u503c\uff1a\u53ef\u4ee5\u53d6\u5730\u5740\u3001\u6709\u540d\u5b57\u7684\u503c\u3002</li> <li>\u53f3\u503c\uff1a\u4e0d\u80fd\u53d6\u5730\u5740\u3001\u6ca1\u6709\u540d\u5b57\u7684\u503c\u3002\u5e38\u89c1\u4e8e\u5e38\u503c\u3001\u51fd\u6570\u8fd4\u56de\u503c\u3001\u8868\u8fbe\u5f0f\u3002</li> </ul> <p>\u867d\u7136\u53f3\u503c\u4e0d\u80fd\u53d6\u5730\u5740\u4e5f\u6ca1\u6709\u540d\u5b57\uff0c\u4f46\u662f\u53f3\u503c\u53ef\u4ee5\u8fd0\u7b97\u3002</p> <pre><code>int a = 1;\nint b = func();\nint c = a + b;\n</code></pre> <p>\u5176\u4e2d<code>a</code>\u3001<code>b</code>\u3001<code>c</code>\u4e3a\u5de6\u503c\uff0c<code>1</code>\u3001<code>func</code> \u51fd\u6570\u8fd4\u56de\u503c\u3001<code>a + b</code> \u7684\u7ed3\u679c\u4e3a\u53f3\u503c\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint x();\nint main() {\n    int&amp;&amp; a = x() + 1;\n    cout &lt;&lt; a &lt;&lt; endl; // 2\n    a++;\n    cout &lt;&lt; a &lt;&lt; endl; // 3\n    return 0;\n}\n\nint x() { return 1; }\n</code></pre> <p>\u53f3\u503c\u53ef\u4ee5\u8fd0\u7b97\uff0c\u4e14\u53f3\u503c\u5f15\u7528\u63a5\u6536\u53f3\u503c\u540e\u4e5f\u53ef\u4ee5\u8fd0\u7b97\u3002</p> <p>\u5de6\u503c\u53ef\u4ee5\u53d6\u5730\u5740\uff0c\u5e76\u4e14\u53ef\u4ee5\u88ab <code>&amp;</code> \u5f15\u7528\uff08\u5de6\u503c\u5f15\u7528\uff09\uff1a</p> <pre><code>int *d = &amp;a;\nint &amp;d = a; // OK\n\nint *e = &amp;(a + b);\nint &amp;e = a + b; // Error!\n</code></pre> <p>\u53f3\u503c\u5f15\u7528</p> <p>\u867d\u7136\u53f3\u503c\u65e0\u6cd5\u53d6\u5730\u5740\uff0c\u4f46\u53ef\u4ee5\u88ab <code>&amp;&amp;</code> \u5f15\u7528\uff08\u53f3\u503c\u5f15\u7528\uff09\u3002</p> <p>\u53f3\u503c\u5f15\u7528\u53ef\u4ee5\u7ed1\u5b9a\u53f3\u503c\uff1a\u6bd4\u5982\u53ef\u4ee5 <code>int&amp;&amp; e = a + b</code>\u3002</p> <p>\u53f3\u503c\u5f15\u7528\u65e0\u6cd5\u7ed1\u5b9a\u5de6\u503c\uff1a\u8bed\u53e5 <code>int&amp;&amp; e = a</code> \u4f1a\u62a5\u9519\u3002</p> <p>\u603b\u4e4b\uff0c\u5de6\u503c\u5f15\u7528\u80fd\u7ed1\u5b9a\u5de6\u503c\uff0c\u53f3\u503c\u5f15\u7528\u80fd\u7ed1\u5b9a\u53f3\u503c\u3002\u7279\u4f8b\uff1a\u5e38\u91cf\u5de6\u503c\u5f15\u7528\u80fd\u4e5f\u7ed1\u5b9a\u53f3\u503c\uff0c\u56e0\u4e3a\u5e38\u91cf\u5de6\u503c\u5f15\u7528\u4e0d\u4f1a\u6539\u53d8\u5185\u5b58\u7a7a\u95f4\u7684\u6570\u636e\uff0c\u6545\u800c\u4e0d\u4f1a\u5f71\u54cd\u53f3\u503c\u3002\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7ed1\u5b9a\u3002</p> <pre><code>const int &amp;e = 3; // OK\nconst int &amp;e = a * b; // OK\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c\u6240\u6709\u7684\u5f15\u7528\uff08\u5305\u62ec\u53f3\u503c\u5f15\u7528\uff09\u672c\u8eab\u90fd\u662f\u5de6\u503c\uff0c\u7ed3\u5408\u8be5\u89c4\u5219\u548c\u4e0a\u8868\u4fbf\u53ef\u5224\u65ad\u5404\u79cd\u6784\u9020\u51fd\u6570\u3001\u8d4b\u503c\u8fd0\u7b97\u7b26\u4e2d\u4f20\u9012\u53c2\u6570\u548c\u53d6\u8fd4\u56de\u503c\u7684\u5f15\u7528\u7ed1\u5b9a\u60c5\u51b5\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint x();\nint main() {\n    int&amp;&amp; a = x() + 1;\n    cout &lt;&lt; a &lt;&lt; endl; // 2\n    a++;\n    cout &lt;&lt; a &lt;&lt; endl; // 3\n    int&amp; b = a;\n    b++;\n    cout &lt;&lt; a &lt;&lt; endl; // 4\n    return 0;\n}\n\nint x() { return 1; }\n</code></pre> <p>\u5982\u6b64\u4f8b\uff0c\u53f3\u503c\u5f15\u7528\u672c\u8eab\u662f\u5de6\u503c\uff0c\u53ef\u4ee5\u88ab\u53d6\u5730\u5740\u3002</p> <p>\u53e6\u5916\u4e00\u4f8b\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid ref(int&amp; x) {\n    cout &lt;&lt; \"left \" &lt;&lt; x &lt;&lt; endl;\n}\n\nvoid ref(int&amp;&amp; x) {\n    cout &lt;&lt; \"right \" &lt;&lt; x &lt;&lt; endl;\n}\n\nint main() {\n    int a = 1;\n    ref(a); // \"left 1\"\n    ref(2); // \"right 2\"\n    return 0;\n}\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u5b9a\u4e49 <code>ref(int&amp;&amp; x)</code> \u51fd\u6570\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</p> <p><code>ref(int&amp; x)</code> \u7684\u51fd\u6570\u53c2\u6570\u7c7b\u578b\u662f\u4e00\u4e2a\u5de6\u503c\u5f15\u7528\uff0c\u800c <code>2</code> \u662f\u4e00\u4e2a\u53f3\u503c\uff0c\u4e0d\u80fd\u8c03\u7528 <code>ref (int&amp; x)</code>\u3002\u56e0\u6b64\u6ca1\u6709\u53ef\u4f9b\u8c03\u7528\u7684\u51fd\u6570\u3002</p> <p>\u53e6\u5916\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid ref(int&amp; x) {\n    cout &lt;&lt; \"left \" &lt;&lt; x &lt;&lt; endl;\n}\n\nvoid ref(int&amp;&amp; x) {\n    cout &lt;&lt; \"right \" &lt;&lt; x &lt;&lt; endl;\n    ref(x);\n}\n\nint main() {\n    ref(1); // \"right 1\" \"left 1\"\n    return 0;\n}\n</code></pre> <p>\u5982\u524d\u6587\u6240\u8ff0\uff0c\u6240\u6709\u5f15\u7528\u672c\u8eab\u90fd\u662f\u5de6\u503c\uff0c\u6545\u800c <code>ref(1)</code> \u9996\u5148\u8c03\u7528 <code>ref(int&amp;&amp; x)</code> \u51fd\u6570\uff0c\u6b64\u65f6\u53f3\u503c\u5f15\u7528 <code>x</code> \u4e3a\u5de6\u503c\uff0c\u56e0\u6b64 <code>ref(x)</code> \u8c03\u7528 <code>ref(int&amp; x)</code> \u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_13","title":"\u79fb\u52a8\u6784\u9020\u51fd\u6570","text":"<p>\u5b9a\u4e49\u4e0e\u610f\u4e49</p> <p>\u53f3\u503c\u5f15\u7528\u53ef\u4ee5\u5ef6\u7eed\u5373\u5c06\u9500\u6bc1\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\uff0c\u7528\u4e8e\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63d0\u5347\u5904\u7406\u6548\u7387\uff0c\u5728\u6b64\u8fc7\u7a0b\u4e2d\u5c3d\u53ef\u80fd\u5c11\u5730\u8fdb\u884c\u62f7\u8d1d\u3002</p> <p>\u4f7f\u7528\u53f3\u503c\u5f15\u7528\u4f5c\u4e3a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u53eb\u505a\u79fb\u52a8\u6784\u9020\u51fd\u6570\u3002</p> <pre><code>ClassName(ClassName&amp;&amp; VariableName);\n</code></pre> <p>\u4e24\u79cd\u6784\u9020\u672c\u8d28\u533a\u522b</p> <p>\u79fb\u52a8\u6784\u9020\u51fd\u6570\u4e0e\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u6700\u4e3b\u8981\u7684\u5dee\u522b\u5c31\u662f\u7c7b\u4e2d\u5806\u5185\u5b58\u662f\u91cd\u65b0\u5f00\u8f9f\u5e76\u62f7\u8d1d\uff0c\u8fd8\u662f\u76f4\u63a5\u5c06\u6307\u9488\u6307\u5411\u90a3\u5757\u5730\u5740\u3002\u5bf9\u4e8e\u4e00\u4e9b\u5373\u5c06\u6790\u6784\u7684\u4e34\u65f6\u7c7b\uff0c\u79fb\u52a8\u6784\u9020\u51fd\u6570\u76f4\u63a5\u5229\u7528\u4e86\u539f\u6765\u4e34\u65f6\u5bf9\u8c61\u4e2d\u7684\u5806\u5185\u5b58\uff0c\u65b0\u7684\u5bf9\u8c61\u65e0\u9700\u5f00\u8f9f\u5185\u5b58\uff0c\u4e34\u65f6\u5bf9\u8c61\u65e0\u9700\u91ca\u653e\u5185\u5b58\uff0c\u4ece\u800c\u5927\u5927\u63d0\u9ad8\u8ba1\u7b97\u6548\u7387\u3002</p> <p>\u4f8b\u5b50</p> <p>\u5b8c\u6574\u5b9a\u4e49\u6240\u6709\u51fd\u6570\u4ee5\u53ca\u542f\u7528\u8fd4\u56de\u503c\u4f18\u5316 <code>g++ test.cpp --std=c++11 -o test</code>\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Test {\npublic:\n    int* buf;\n\n    Test() {\n        buf = new int[10];\n        cout &lt;&lt; \"Test(): this-&gt;buf @ \" &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n    }\n\n    ~Test() {\n        cout &lt;&lt; \"~Test(): this-&gt;buf @ \" &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n        if (buf) delete[] buf;\n    }\n\n    Test(const Test&amp; t): buf(new int[10]) {\n        for (int i = 0; i &lt; 10; i++) buf[i] = t.buf[i];\n        cout &lt;&lt; \"Test(const Test&amp;) called. this-&gt;buf @ \"\n             &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n    }\n\n    Test(Test&amp;&amp; t): buf(t.buf) {\n        cout &lt;&lt; \"Test(Test&amp;&amp;) called. this-&gt;buf @ \"\n             &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n        t.buf = nullptr;\n    }\n};\n\nTest GetTemp() {\n    Test tmp;\n    cout &lt;&lt; \"GetTemp(): tmp.buf @ \"\n         &lt;&lt; hex &lt;&lt; tmp.buf &lt;&lt; endl;\n    return tmp;\n}\n\nvoid fun(Test t) {\n    cout &lt;&lt; \"fun(Test t): t.buf @ \"\n         &lt;&lt; hex &lt;&lt; t.buf &lt;&lt; endl;\n}\n\nint main() {\n    Test a = GetTemp();\n    cout &lt;&lt; \"main(): a.buf @ \" &lt;&lt; hex &lt;&lt; a.buf &lt;&lt; endl;\n    fun(a);\n    return 0;\n}\n\n/*\noutput:\nTest(): this-&gt;buf @ 0x7fa908c04b90\nGetTemp(): tmp.buf @ 0x7fa908c04b90\nmain(): a.buf @ 0x7fa908c04b90\nTest(const Test&amp;) called. this-&gt;buf @ 0x7fa908c04ba0\nfun(Test t): t.buf @ 0x7fa908c04ba0\n~Test(): this-&gt;buf @ 0x7fa908c04ba0\n~Test(): this-&gt;buf @ 0x7fa908c04b90\n*/\n</code></pre> <p>\u6ca1\u6709\u8c03\u7528\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u5c11\u8c03\u7528\u4e86\u51e0\u6b21\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002</p> <p>\u5173\u952e\u70b9\u5728\u4e8e\uff0c\u8fd4\u56de\u503c\u4f18\u5316\u4e4b\u540e\u4e0d\u4f1a\u901a\u8fc7\u79fb\u52a8\u6784\u9020\u6765\u6784\u9020\u8fd4\u56de\u503c\u7c7b\uff0c\u4e5f\u4e0d\u4f1a\u901a\u8fc7\u79fb\u52a8\u6784\u9020\u6765\u6784\u9020 <code>a</code>\uff0c\u5b9e\u73b0\u4e86\u76f4\u63a5 <code>return</code>\u3002</p> <p>\u53e6\u4e00\u4f8b\uff0c\u5b8c\u6574\u5b9a\u4e49\u6240\u6709\u51fd\u6570\u4f46\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316 <code>g++ test.cpp --std=c++11 -fno-elide-constructors -o test</code>\uff1a</p> <p>\u8fd9\u91cc\u8bfe\u4ef6\u4e0a\u7684\u6ce8\u91ca\u6709\u4e9b\u8bef\u5bfc\uff0c\u6211\u5728 <code>rextester</code> \u8f93\u51fa\u8be5\u6bb5\u4ee3\u7801\uff0c\u91c7\u7528\u7684\u6307\u4ee4\u4e3a <code>g++ -Wall -std=c++14 -O2 -fno-elide-constructors -o a.out source_file.cpp</code>\uff1a</p> <pre><code>output:\nTest(): this-&gt;buf @ 0x563a2616ae70\nGetTemp(): tmp.buf @ 0x563a2616ae70\nTest(Test&amp;&amp;) called. this-&gt;buf @ 0x563a2616ae70\n~Test(): this-&gt;buf @ 0\nTest(Test&amp;&amp;) called. this-&gt;buf @ 0x563a2616ae70\n~Test(): this-&gt;buf @ 0\nmain() : a.buf @ 0x563a2616ae70\nTest(const Test&amp;) called. this-&gt;buf @ 0x563a2616beb0\nfun(Test t): t.buf @ 0x563a2616beb0\n~Test(): this-&gt;buf @ 0x563a2616beb0\n~Test(): this-&gt;buf @ 0x563a2616ae70\n</code></pre> <p>\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316\u4f46\u662f\u540c\u65f6\u5b9a\u4e49\u4e86\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u6545\u800c\u9700\u8981\u901a\u8fc7\u79fb\u52a8\u6784\u9020\u6765\u6784\u9020\u8fd4\u56de\u503c\u7c7b\u3002\u4e4b\u540e\u7acb\u523b\u5c06 <code>tmp</code> \u6790\u6784\uff08\u7531\u4e8e\u79fb\u52a8\u6784\u9020\u5df2\u7ecf\u5c06 <code>tmp</code> \u7684\u6307\u9488\u7f6e\u7a7a\u4e86\uff0c\u6545\u800c <code>buf</code> \u5730\u5740\u4e3a <code>0</code>\uff09\uff0c\u4f46\u662f\u6ca1\u6709\u6790\u6784\u8fd4\u56de\u503c\u7c7b <code>GetTemp</code>\u3002\u8fd4\u56de\u503c\u7c7b <code>GetTemp</code> \u5bf9 <code>a</code> \u79fb\u52a8\u6784\u9020\uff0c\u8fd9\u4f7f\u5f97 <code>GetTemp</code> \u7684 <code>buf</code> \u5730\u5740\u4e5f\u4e3a <code>0</code>\u3002\u8fd9\u4e00\u6b65\u79fb\u52a8\u6784\u9020\u540e\uff0c\u9a6c\u4e0a\u6790\u6784\u4e86 <code>GetTemp</code>\u3002</p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c<code>Test a = GetTemp()</code> \u8fd9\u4e00\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\u662f\u5148\u6784\u9020 <code>tmp</code>\uff0c\u79fb\u52a8\u6784\u9020\u8fd4\u56de\u503c\u7c7b\u3002\u7acb\u523b\u6790\u6784 <code>tmp</code>\uff0c\u8fd4\u56de\u503c\u7c7b\u79fb\u52a8\u6784\u9020 <code>a</code>\uff0c\u63a5\u7740\u6790\u6784\u8fd4\u56de\u503c\u7c7b\u3002</p> <p>\u7ed3\u5408\u4f8b\u5b50\uff0c\u6211\u4eec\u6765\u63a2\u7a76\u4e0b\u8fd4\u56de\u503c\u7c7b\u5728\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316\u6761\u4ef6\u4e0b\u7684\u6790\u6784\u987a\u5e8f\u3002\u6d4b\u8bd5\u4ee3\u7801\u5982\u4e0b\uff0c\u7f16\u8bd1\u6307\u4ee4\u4e3a <code>g++ -Wall -std=c++14 -O2 -fno-elide-constructors -o a.out source_file.cpp</code>\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Test {\npublic:\n    int* buf;\n\n    Test() {\n        buf = new int[10];\n        cout &lt;&lt; \"Test(): this-&gt;buf @ \" &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n    }\n\n    ~Test() {\n        cout &lt;&lt; \"~Test(): this-&gt;buf @ \" &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n        if (buf) delete[] buf;\n    }\n\n    Test(const Test&amp; t): buf(new int[10]) {\n        for (int i = 0; i &lt; 10; i++) buf[i] = t.buf[i];\n        cout &lt;&lt; \"Test(const Test&amp;) called. this-&gt;buf @ \"\n             &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n    }\n\n    Test(Test&amp;&amp; t): buf(t.buf) {\n        cout &lt;&lt; \"Test(Test&amp;&amp;) called. this-&gt;buf @ \"\n             &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n        t.buf = nullptr;\n    }\n};\n\nTest GetTemp(Test x) {\n    Test tmp;\n    cout &lt;&lt; \"GetTemp(): tmp.buf @ \"\n         &lt;&lt; hex &lt;&lt; tmp.buf &lt;&lt; endl;\n    return tmp;\n}\n\nvoid fun(Test t) {\n    cout &lt;&lt; \"fun(Test t): t.buf @ \"\n         &lt;&lt; hex &lt;&lt; t.buf &lt;&lt; endl;\n}\n\nint main() {\n    Test d;\n    Test a = GetTemp(d);\n    cout &lt;&lt; \"main(): a.buf @ \" &lt;&lt; hex &lt;&lt; a.buf &lt;&lt; endl;\n    fun(a);\n    return 0;\n}\n\n/*\noutput:\nTest(): this-&gt;buf @ 0x5572ec8c2e70\nTest(const Test&amp;) called. this-&gt;buf @ 0x5572ec8c3eb0\nTest(): this-&gt;buf @ 0x5572ec8c3ee0\nGetTemp(): tmp.buf @ 0x5572ec8c3ee0\nTest(Test&amp;&amp;) called. this-&gt;buf @ 0x5572ec8c3ee0\n~Test(): this-&gt;buf @ 0\nTest(Test&amp;&amp;) called. this-&gt;buf @ 0x5572ec8c3ee0\n~Test(): this-&gt;buf @ 0\n~Test(): this-&gt;buf @ 0x5572ec8c3eb0\nmain(): a.buf @ 0x5572ec8c3ee0\nTest(const Test&amp;) called. this-&gt;buf @ 0x5572ec8c3eb0\nfun(Test t): t.buf @ 0x5572ec8c3eb0\n~Test(): this-&gt;buf @ 0x5572ec8c3eb0\n~Test(): this-&gt;buf @ 0x5572ec8c3ee0\n~Test(): this-&gt;buf @ 0x5572ec8c2e70\n*/\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5148\u62f7\u8d1d\u6784\u9020\u4e86 <code>x</code>\uff0c\u63a5\u7740\u6784\u9020 <code>tmp</code>\uff0c\u79fb\u52a8\u6784\u9020 <code>GetTemp</code>\uff0c\u9a6c\u4e0a\u6790\u6784 <code>tmp</code>\uff0c\u79fb\u52a8\u6784\u9020 <code>a</code>\uff0c\u6790\u6784 <code>GetTemp</code>\uff0c\u6790\u6784 <code>x</code>\u3002\u65454\u548c5\u4e4b\u95f4\u53ef\u80fd\u8fd8\u4f1a\u8fdb\u884c\u975e\u5e38\u591a\u7684\u64cd\u4f5c\u3002</p> <p>\u518d\u8005\uff0c\u5220\u9664\u79fb\u52a8\u6784\u9020\u51fd\u6570\u4e14\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316\u3002\u7f16\u8bd1\u6307\u4ee4 <code>g++ -Wall -std=c++14 -O2 -fno-elide-constructors -o a.out source_file.cpp</code>\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Test {\npublic:\n    int* buf;\n\n    Test() {\n        buf = new int[10];\n        cout &lt;&lt; \"Test(): this-&gt;buf @ \" &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n    }\n\n    ~Test() {\n        cout &lt;&lt; \"~Test(): this-&gt;buf @ \" &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n        if (buf) delete[] buf;\n    }\n\n    Test(const Test&amp; t): buf(new int[10]) {\n        for (int i = 0; i &lt; 10; i++) buf[i] = t.buf[i];\n        cout &lt;&lt; \"Test(const Test&amp;) called. this-&gt;buf @ \"\n             &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n    }\n\n    Test(Test&amp;&amp; t): buf(t.buf) {\n        cout &lt;&lt; \"Test(Test&amp;&amp;) called. this-&gt;buf @ \"\n             &lt;&lt; hex &lt;&lt; buf &lt;&lt; endl;\n        t.buf = nullptr;\n    }\n};\n\nTest GetTemp() {\n    Test tmp;\n    cout &lt;&lt; \"GetTemp(): tmp.buf @ \"\n         &lt;&lt; hex &lt;&lt; tmp.buf &lt;&lt; endl;\n    return tmp;\n}\n\nvoid fun(Test t) {\n    cout &lt;&lt; \"fun(Test t): t.buf @ \"\n         &lt;&lt; hex &lt;&lt; t.buf &lt;&lt; endl;\n}\n\nint main() {\n    Test a = GetTemp();\n    cout &lt;&lt; \"main(): a.buf @ \" &lt;&lt; hex &lt;&lt; a.buf &lt;&lt; endl;\n    fun(a);\n    return 0;\n}\n\n/*\noutput:\nTest(): this-&gt;buf @ 0x5638c49e8e70\nGetTemp(): tmp.buf @ 0x5638c49e8e70\nTest(const Test&amp;) called. this-&gt;buf @ 0x5638c49e9eb0\n~Test(): this-&gt;buf @ 0x5638c49e8e70\nTest(const Test&amp;) called. this-&gt;buf @ 0x5638c49e8e70\n~Test(): this-&gt;buf @ 0x5638c49e9eb0\nmain(): a.buf @ 0x5638c49e8e70\nTest(const Test&amp;) called. this-&gt;buf @ 0x5638c49e9eb0\nfun(Test t): t.buf @ 0x5638c49e9eb0\n~Test(): this-&gt;buf @ 0x5638c49e9eb0\n~Test(): this-&gt;buf @ 0x5638c49e8e70\n*/\n</code></pre> <p>\u8fd9\u91cc\u53ea\u6709\u62f7\u8d1d\u6784\u9020\uff0c\u7f16\u8bd1\u5668\u6ca1\u6709\u9ed8\u8ba4\u751f\u6210\u79fb\u52a8\u6784\u9020\u3002\u62f7\u8d1d\u6784\u9020\u4e86\u8fd4\u56de\u503c\u7c7b\u540e\uff0c\u7acb\u523b\u6790\u6784\u4e86 <code>tmp</code>\uff0c\u91ca\u653e\u4e86\u5c3e\u53f7\u4e3a <code>70</code> \u7684\u7a7a\u95f4\u3002\u6ce8\u610f\u5230\uff0c\u7a7a\u95f4\u91ca\u653e\u4e4b\u540e\u9a6c\u4e0a\u5c31\u53ef\u4ee5\u518d\u6b21\u88ab\u4f7f\u7528\uff0c\u6240\u4ee5\u8fd4\u56de\u503c\u7c7b\u53bb\u62f7\u8d1d\u6784\u9020 <code>a</code> \u65f6\uff0c\u7528\u7684\u4fbf\u662f\u4e0a\u6b21\u88ab\u6790\u6784\u91ca\u653e\u51fa\u6765\u7684\u5c3e\u53f7\u4e3a <code>70</code> \u7684\u7a7a\u95f4\u3002\u63a5\u4e0b\u6765\u6790\u6784\u6389\u8fd4\u56de\u503c\u7c7b\uff0c\u91ca\u653e\u4e86\u5c3e\u53f7\u4e3a <code>b0</code> \u7684\u7a7a\u95f4\uff0c\u4e0b\u4e00\u6b21 <code>fun(a)</code> \u5f53\u4e2d\u5bf9\u5f62\u53c2\u7684\u62f7\u8d1d\u6784\u9020\u9a6c\u4e0a\u5c31\u5229\u7528\u4e86 <code>b0</code> \u7a7a\u95f4\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_14","title":"\u79fb\u52a8\u8bed\u53e5","text":"<p>\u8bed\u6cd5\u4e0e\u610f\u4e49</p> <p>\u79fb\u52a8\u6784\u9020\u51fd\u6570\u52a0\u5feb\u4e86\u53f3\u503c\u521d\u59cb\u5316\u7684\u6784\u9020\u901f\u5ea6\uff0c\u6545\u800c\u5e0c\u671b\u5bf9\u5de6\u503c\u8c03\u7528\u79fb\u52a8\u6784\u9020\u51fd\u6570\u4ee5\u52a0\u5feb\u5de6\u503c\u521d\u59cb\u5316\u7684\u6784\u9020\u901f\u5ea6\u3002</p> <p>\u8fd9\u91cc\u4ecb\u7ecd <code>std::move</code> \u51fd\u6570\u3002\u8f93\u5165\uff1a\u5de6\u503c\uff08\u5305\u62ec\u53d8\u91cf\u7b49\uff0c\u8be5\u5de6\u503c\u4e00\u822c\u4e0d\u518d\u4f7f\u7528\u3002\u79fb\u52a8\u540e\u5c31\u4e0d\u80fd\u518d\u6b21\u4f7f\u7528\uff09\u3002\u8fd4\u56de\u503c\uff1a\u8be5\u5de6\u503c\u5bf9\u5e94\u7684\u53f3\u503c\u3002</p> <pre><code>Test a;\nTest b = std::move(a);\n</code></pre> <p><code>move</code> \u51fd\u6570\u672c\u8eab\u4e0d\u5bf9\u5bf9\u8c61\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u4ec5\u505a\u7c7b\u578b\u8f6c\u6362\uff0c\u5373\u8f6c\u6362\u4e3a\u53f3\u503c\u3002\u79fb\u52a8\u7684\u5177\u4f53\u64cd\u4f5c\u5728\u79fb\u52a8\u6784\u9020\u51fd\u6570\u5185\u5b9e\u73b0\u3002</p> <p>\u53f3\u503c\u5f15\u7528\u7ed3\u5408 <code>std::move</code> \u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 <code>swap</code> \u51fd\u6570\u7684\u6027\u80fd\u3002</p> <p><code>std::move</code> \u5f15\u8d77\u79fb\u52a8\u6784\u9020\u51fd\u6570\u6216\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7684\u8c03\u7528\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>template &lt;class T&gt;\nswap(T&amp; a, T&amp; b) { \n    T tmp(a);\n    a = b;\n    b = tmp;\n}\n</code></pre> <p>\u6539\u5199\u4e3a\uff1a</p> <pre><code>template &lt;class T&gt;\nswap(T&amp; a, T&amp; b) { \n    T tmp(std::move(a));\n    a = std::move(b);\n    b = std::move(tmp);\n}\n</code></pre> <p>\u907f\u514d 3 \u6b21\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d\u64cd\u4f5c</p> <p>\u4f8b\u5b50</p> <p>\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316</p> <pre><code>#include &lt;iostream&gt;\nclass Test {\npublic:\n    Test() {\n        printf(\"Test()\\n\");\n    }\n\n    ~Test() {\n        printf(\"~Test()\\n\");\n    }\n\n    Test(const Test &amp;con) {\n        printf(\"Test(const Test &amp;con)\\n\");\n    }\n\n    Test(Test&amp;&amp; con) {\n        printf(\"Test(Test &amp;&amp;con)\\n\");\n    }\n};\n\nTest func(Test a) {\n    return Test();\n}\n\nint main() {\n    Test a;\n    Test b = func(a);\n    return 0;\n}\n</code></pre> <p>\u6700\u540e\u8f93\u51fa\u5982\u4e0b\uff0c\u5176\u4e2d <code>(1+)</code> \u548c <code>(1-)</code> \u8868\u793a 1 \u53f7\u5bf9\u8c61\u7684\u6784\u9020\u548c\u6790\u6784\u3002</p> <pre><code>Test()                  // (1+) \u6267\u884c Test a\nTest(const Test &amp;con)   // (2+) Test b = func(a)\n                        // func(a) \u4f20\u53c2\u8c03\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\nTest()                  // (3+) return Test()\n                        // Test() \u5bf9\u5e94\u7684\u6784\u9020\u51fd\u6570\nTest(Test &amp;&amp;con)        // (4+) return Test()\n                        // \u4e3a\u4e86\u4f20\u503c\u8c03\u7528\u7684\u79fb\u52a8\u6784\u9020\u51fd\u6570\n~Test()                 // (3-) return Test()\n                        // Test() \u5bf9\u5e94\u7684\u6790\u6784\u51fd\u6570\nTest(Test &amp;&amp;con)        // (5+) Test b = func(a)\n                        // \u4e2d\u7ed9 b \u4f20\u503c\u65f6\u8c03\u7528\u7684\u79fb\u52a8\u6784\u9020\u51fd\u6570\n~Test()                 // (4-) Test b = func(a)\n                        // \u5b8c\u6210\u8d4b\u503c\u540e func(a) \u8fd4\u56de\u503c\u5bf9\u5e94\u7684\u6790\u6784\u51fd\u6570\n~Test()                 // (2-) Test b = func(a)\n                        // \u53c2\u6570\u91ca\u653e\u5bf9\u5e94\u7684\u6790\u6784\u51fd\u6570\n~Test()                 // (5-) \u6790\u6784 b\n~Test()                 // (1-) \u6790\u6784 a\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_15","title":"\u4e24\u7c7b\u6784\u9020\u51fd\u6570\u7684\u8c03\u7528\u65f6\u673a","text":"<p>\u5224\u65ad\u4f9d\u636e</p> <p>\u5f15\u7528\u7684\u7ed1\u5b9a\u89c4\u5219\uff1a</p> <p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u5f62\u53c2\u7c7b\u578b\u4e3a\u5e38\u91cf\u5de6\u503c\u5f15\u7528\uff0c\u53ef\u4ee5\u7ed1\u5b9a\u5e38\u91cf\u5de6\u503c\u3001\u5de6\u503c\u548c\u53f3\u503c\u3002\u79fb\u52a8\u6784\u9020\u51fd\u6570\u7684\u5f62\u53c2\u7c7b\u578b\u4e3a\u53f3\u503c\u5f15\u7528\uff0c\u53ef\u4ee5\u7ed1\u5b9a\u53f3\u503c\u3002\u5f15\u7528\u7684\u7ed1\u5b9a\u5b58\u5728\u4f18\u5148\u7ea7\uff0c\u4f8b\u5982\u5e38\u91cf\u5de6\u503c\u5f15\u7528\u548c\u53f3\u503c\u5f15\u7528\u5747\u80fd\u7ed1\u5b9a\u53f3\u503c\uff0c\u5f53\u4f20\u5165\u5b9e\u53c2\u7c7b\u578b\u4e3a\u53f3\u503c\u65f6\u4f18\u5148\u5339\u914d\u5f62\u53c2\u7c7b\u578b\u4e3a\u53f3\u503c\u5f15\u7528\u7684\u51fd\u6570\u3002</p> <p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u5e38\u89c1\u8c03\u7528\u65f6\u673a</p> <ul> <li>\u7528\u4e00\u4e2a\u7c7b\u5bf9\u8c61\u3001\u5f15\u7528\u3001\u5e38\u91cf\u5f15\u7528\u521d\u59cb\u5316\u53e6\u4e00\u4e2a\u65b0\u7684\u7c7b\u5bf9\u8c61</li> <li>\u4ee5\u7c7b\u7684\u5bf9\u8c61\u4e3a\u51fd\u6570\u5f62\u53c2\uff0c\u4f20\u5165\u5b9e\u53c2\u4e3a\u7c7b\u7684\u5bf9\u8c61\u3001\u5f15\u7528\u3001\u5e38\u91cf\u5f15\u7528</li> <li>\u51fd\u6570\u8fd4\u56de\u7c7b\u5bf9\u8c61\uff08\u7c7b\u4e2d\u672a\u663e\u5f0f\u5b9a\u4e49\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u8fdb\u884c\u8fd4\u56de\u503c\u4f18\u5316\uff09</li> </ul> <p>\u79fb\u52a8\u6784\u9020\u51fd\u6570\u7684\u5e38\u89c1\u8c03\u7528\u65f6\u673a</p> <ul> <li>\u7528\u4e00\u4e2a\u7c7b\u5bf9\u8c61\u7684\u53f3\u503c\u521d\u59cb\u5316\u53e6\u4e00\u4e2a\u65b0\u7684\u7c7b\u5bf9\u8c61\uff08\u5e38\u914d\u5408 <code>std::move</code> \u51fd\u6570\u4e00\u8d77\u4f7f\u7528\uff09</li> <li>\u4ee5\u7c7b\u7684\u5bf9\u8c61\u4e3a\u51fd\u6570\u5f62\u53c2\uff0c\u4f20\u5165\u5b9e\u53c2\u4e3a\u7c7b\u5bf9\u8c61\u7684\u53f3\u503c\uff08\u5e38\u914d\u5408 <code>std::move</code> \u51fd\u6570\u4f7f\u7528\uff09</li> <li>\u4e0e <code>func(a)</code> \u4e0d\u540c\u51fd\u6570\u8fd4\u56de\u7c7b\u5bf9\u8c61\uff08\u7c7b\u4e2d\u663e\u5f0f\u5b9a\u4e49\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u8fdb\u884c\u8fd4\u56de\u503c\u4f18\u5316\uff09</li> </ul> <p></p> <p>\u6ce8\u610f\u5230 D \u662f\u9519\u7684\uff0c\u8fd4\u56de\u503c\u867d\u7136\u662f\u975e\u9759\u6001\u4e34\u65f6\u53d8\u91cf\u7684\u5e38\u91cf\u5de6\u503c\u5f15\u7528\uff0c\u4f46\u662f\u8fd4\u56de\u7c7b\u578b\u6839\u672c\u4e0d\u662f\u5f15\u7528\uff0c\u5e76\u4e0d\u662f\u8fd4\u56de\u4e34\u65f6\u53d8\u91cf\u7684\u5f15\u7528\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_16","title":"\u62f7\u8d1d\u4e0e\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26","text":""},{"location":"languages/c-oop/reference-copy/#_17","title":"\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u5b9a\u4e49\u4e0e\u610f\u4e49","text":"<p>\u5df2\u5b9a\u4e49\u7684\u5bf9\u8c61\u4e4b\u95f4\u76f8\u4e92\u8d4b\u503c\uff0c\u53ef\u901a\u8fc7\u8c03\u7528\u5bf9\u8c61\u7684\u201c\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u51fd\u6570\u201d\u6765\u5b9e\u73b0\u7684\u3002</p> <pre><code>ClassName&amp; operator=(const ClassName&amp; right) {\n    if (this != &amp;right) { // \u907f\u514d\u81ea\u5df1\u8d4b\u503c\u7ed9\u81ea\u5df1\n        // \u5c06 right \u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\u62f7\u8d1d\u5230\u5f53\u524d\u5bf9\u8c61\u4e2d\n    }\n    return *this;\n}\n</code></pre> <p>\u6ce8\u610f\u4f5c\u51fa\u533a\u5206\uff1a</p> <pre><code>ClassName a;\nClassName b;\na = b; // \u6b64\u5904\u4e3a\u62f7\u8d1d\u590d\u5236\u8fd0\u7b97\nClassName a = b; // \u6b64\u5904\u4e3a\u5b9a\u4e49\u65b0\u5bf9\u8c61\n</code></pre> <p>\u8d4b\u503c\u91cd\u8f7d\u51fd\u6570\u5fc5\u987b\u8981\u662f\u7c7b\u7684\u975e\u9759\u6001\u6210\u5458\u51fd\u6570\uff0c\u4e0d\u80fd\u662f\u53cb\u5143\u51fd\u6570\u3002\u56e0\u4e3a\u590d\u5236\u8fd0\u7b97\u662f\u5bf9\u4e8e\u8fd9\u4e2a\u7c7b\u800c\u8a00\u7684\uff0c\u663e\u7136\u662f\u7c7b\u51fd\u6570\u3002\u540c\u65f6\uff0c\u8d4b\u503c\u8fd0\u7b97\u4f9d\u8d56\u4e8e\u5177\u4f53\u7684\u5bf9\u8c61\uff0c\u4e0d\u80fd\u662f\u9759\u6001\u7684\u3002</p> <pre><code>Test&amp; operator=(const Test&amp; right) {\n    if (this == &amp;right) cout &lt;&lt; \"same obj!\\n\";\n    else {\n        for (int i = 0; i &lt; 10; i++)\n            buf[i] = right.buf[i]; // \u62f7\u8d1d\u6570\u636e\n        cout &lt;&lt; \"operator=(const Test&amp;) called.\\n\";\n    }\n    return *this;\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_18","title":"\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u4f5c\u7528\u4e0e\u610f\u4e49","text":"<p>\u548c\u79fb\u52a8\u6784\u9020\u51fd\u6570\u539f\u7406\u7c7b\u4f3c\u3002</p> <pre><code>Test&amp; operator=(Test&amp;&amp; right) {\n    if (this == &amp;right) cout &lt;&lt; \"same obj!\\n\";\n    else {  \n        this-&gt;buf = right.buf; // \u76f4\u63a5\u8d4b\u503c\u5730\u5740\n        right.buf = nullptr;\n        cout &lt;&lt; \"operator=(Test&amp;&amp;) called.\\n\";\n    }\n    return *this;\n}\n</code></pre> <p>\u4f8b\u5982\uff1a</p> <pre><code>swap(Test&amp; a, Test&amp; b) { \n     Test tmp(std::move(a)); // \u7b2c\u4e00\u884c\u8c03\u7528\u79fb\u52a8\u6784\u9020\u51fd\u6570\n     a = std::move(b);       // std::move \u7684\u7ed3\u679c\u4e3a\u53f3\u503c\u5f15\u7528\uff0c\n     b = std::move(tmp);     // \u540e\u4e24\u884c\u5747\u8c03\u7528\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_19","title":"\u8c03\u7528\u65f6\u673a","text":"<p>\u548c\u62f7\u8d1d\u3001\u79fb\u52a8\u6784\u9020\u51fd\u6570\u7684\u8c03\u7528\u65f6\u673a\u7c7b\u4f3c\uff0c\u4e3b\u8981\u5224\u65ad\u4f9d\u636e\u662f\u5f15\u7528\u7684\u7ed1\u5b9a\u89c4\u5219\u3002</p> <ul> <li> <p>\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u51fd\u6570\u7684\u5f62\u53c2\u7c7b\u578b\u4e3a\u5e38\u91cf\u5de6\u503c\u5f15\u7528\uff0c\u53ef\u4ee5\u7ed1\u5b9a\u5e38\u91cf\u5de6\u503c\u3001\u5de6\u503c\u548c\u53f3\u503c</p> </li> <li> <p>\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u51fd\u6570\u7684\u5f62\u53c2\u7c7b\u578b\u4e3a\u53f3\u503c\u5f15\u7528\uff0c\u53ef\u4ee5\u7ed1\u5b9a\u53f3\u503c\uff08\u5e38\u91cf\u3001\u8868\u8fbe\u5f0f\u3001\u51fd\u6570\u8fd4\u56de\uff09</p> </li> <li> <p>\u5f15\u7528\u7684\u7ed1\u5b9a\u5b58\u5728\u4f18\u5148\u7ea7\uff0c\u4f8b\u5982\u5e38\u91cf\u5de6\u503c\u5f15\u7528\u548c\u53f3\u503c\u5f15\u7528\u5747\u80fd\u7ed1\u5b9a\u53f3\u503c\uff0c\u5f53\u8d4b\u503c\u8fd0\u7b97\u7b26\u53f3\u4fa7\u4e3a\u53f3\u503c\u65f6\u4f18\u5148\u5339\u914d\u5f62\u53c2\u7c7b\u578b\u4e3a\u53f3\u503c\u5f15\u7528\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\u51fd\u6570</p> </li> <li> <p>\u6839\u636e\u8d4b\u503c\u8fd0\u7b97\u7b26\u53f3\u4fa7\u53d8\u91cf\u7684\u7c7b\u578b\u51b3\u5b9a\u8c03\u7528\u62f7\u8d1d\u6216\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u51fd\u6570</p> </li> </ul>"},{"location":"languages/c-oop/reference-copy/#_20","title":"\u81ea\u52a8\u5408\u6210\u7684\u51fd\u6570\u4e0e\u8fd0\u7b97\u7b26","text":"<p>\u7c7b\u4e2d\u7279\u6b8a\u7684\u6210\u5458\u51fd\u6570\u3001\u8fd0\u7b97\u7b26\uff0c\u5373\u4fbf\u7528\u6237\u4e0d\u663e\u5f0f\u5b9a\u4e49\uff0c\u7f16\u8bd1\u5668\u4e5f\u4f1a\u6839\u636e\u81ea\u8eab\u9700\u8981\u81ea\u52a8\u5408\u6210\u3002</p> <ul> <li>\u9ed8\u8ba4\u6784\u9020\u51fd\u6570</li> <li>\u62f7\u8d1d\u6784\u9020\u51fd\u6570</li> <li>\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff08C++11 \u8d77\uff09</li> <li>\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26</li> <li>\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08C++11 \u8d77\uff09</li> <li>\u6790\u6784\u51fd\u6570</li> </ul>"},{"location":"languages/c-oop/reference-copy/#_21","title":"\u8fd4\u56de\u503c\u4f18\u5316","text":""},{"location":"languages/c-oop/reference-copy/#_22","title":"\u4f18\u5316\u6761\u4ef6","text":"<ol> <li><code>return</code> \u7684\u503c\u7c7b\u578b\u4e0e\u51fd\u6570\u524d\u9762\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u76f8\u540c\u3002</li> <li><code>return</code> \u7684\u662f\u4e00\u4e2a\u5c40\u90e8\u5bf9\u8c61\u7684\u5de6\u503c\u3002</li> </ol>"},{"location":"languages/c-oop/reference-copy/#_23","title":"\u4f18\u5316\u610f\u4e49","text":"<ol> <li>\u5728\u7981\u7528\u8fd4\u56de\u503c\u4f18\u5316\u7684\u6761\u4ef6\u4e0b\uff0c\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u67d0\u4e2a\u5bf9\u8c61\uff0c\u90a3\u5728\u51fd\u6570\u8fd4\u56de\u524d\u9700\u8981\u8c03\u7528\u6784\u9020\u51fd\u6570\u6784\u5efa\u8fd4\u56de\u503c\u3002</li> <li>\u5373\u4f7f\u6211\u8fd4\u56de\u7684\u4e1c\u897f\u5c31\u662f\u6211\u4f20\u8fdb\u6765\u7684\u5f62\u53c2\u5bf9\u8c61\uff0c\u8fd4\u56de\u524d\u7684\u8fd9\u6b21\u6784\u9020\u4ecd\u7136\u4f1a\u53d1\u751f\u3002</li> <li>\u4f46\u662f\u5bf9\u4e8e\u8fd4\u56de\u503c\u7684\u6784\u9020\u8c03\u7528\u7684\u5230\u5e95\u662f\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u8fd8\u662f\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u5bf9\u6b64 C++11 \u6709\u89c4\u5b9a\uff1a\u5728\u65e0\u8fd4\u56de\u503c\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u8c03\u7528\u79fb\u52a8\u6784\u9020\u51fd\u6570\u3002</li> <li>\u7efc\u4e0a\u6240\u8ff0\uff0c\u8fd4\u56de\u4e00\u4e2a\u5c40\u90e8\u5bf9\u8c61\u7684\u5de6\u503c\uff0c\u901a\u8fc7\u79fb\u52a8\u6784\u9020\u6784\u9020\u8fd4\u56de\u503c\uff0c\u8fd4\u56de\u503c\u518d\u79fb\u52a8\u8d4b\u503c\u6216\u79fb\u52a8\u6784\u9020\u7ed9\u4e3b\u51fd\u6570\u8bed\u53e5\u3002</li> </ol>"},{"location":"languages/c-oop/reference-copy/#_24","title":"\u4f18\u5316\u5b9e\u4f8b","text":"<ul> <li>\u5982\u679c\u5f00\u542f\u4e86\u8fd4\u56de\u503c\u4f18\u5316\uff0c\u90a3\u4e48\u5982\u679c\u6211\u7684\u51fd\u6570\u91cc\u65b0\u5b9a\u4e49\u4e86\u4e00\u4e2a <code>Test</code> \u5bf9\u8c61\u5e76\u8fd4\u56de\u3002\u90a3\u7f16\u8bd1\u5668\u4f1a\u7ed9\u6211\u4f18\u5316\uff0c\u5148\u7528\u6784\u9020\u51fd\u6570\u6784\u9020 <code>tmp</code>\uff0c\u7136\u540e\u76f4\u63a5\u8fd4\u56de <code>tmp</code>\u3002</li> <li>\u8fd9\u91cc\u751a\u81f3\u4e0d\u4f1a\u8c03\u7528\u79fb\u52a8\u6784\u9020\uff0c\u4e5f\u5c31\u662f\u8bf4\u751a\u81f3\u4e0d\u662f\u7528 <code>tmp</code> \u79fb\u52a8\u6784\u9020\u4e86\u8981\u8fd4\u56de\u7684\u5bf9\u8c61\uff0c\u5c31\u662f\u76f4\u63a5\u8fd4\u56de\u3002</li> <li>\u4f46\u5982\u679c\u6ca1\u6709\u5f00\u542f\u4f18\u5316\uff0c\u4f1a\u9996\u5148\u8c03\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u6784\u9020 <code>tmp</code>\uff0c\u7136\u540e\u8c03\u7528\u79fb\u52a8\u6784\u9020\u51fd\u6570\u5c06\u7528 <code>tmp</code> \u79fb\u52a8\u6784\u9020\u8fd4\u56de\u503c\u3002</li> </ul>"},{"location":"languages/c-oop/reference-copy/#_25","title":"\u8fd4\u56de\u503c\u6784\u9020","text":"<ul> <li>\u5982\u679c\u8fd4\u56de\u503c\u662f\u666e\u901a\u7684 <code>Test</code> \u7684\u8bdd\uff0c\u90a3\u4e48\u51fd\u6570\u8fd4\u56de\u65f6\u9700\u8981\u6839\u636e <code>return</code> \u540e\u9762\u7684\u8868\u8fbe\u5f0f\u6765\u6784\u9020\u4e00\u4e2a <code>Test</code> \u5bf9\u8c61\uff0c\u6240\u4ee5\u624d\u6709\u79fb\u52a8\u6784\u9020\u6216\u8005\u62f7\u8d1d\u6784\u9020\u7684\u4e8b\u60c5\u3002</li> <li>\u5982\u679c\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u662f <code>const &amp;</code> \u6216\u8005 <code>&amp;</code>\uff0c\u90a3 <code>return</code> \u7684\u65f6\u5019\u5c31\u6ca1\u5fc5\u8981\u518d\u6784\u9020\u65b0\u7684\u5bf9\u8c61\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de\u76f8\u5e94\u7684\u5f15\u7528\u3002</li> </ul> <pre><code>const Test&amp; F(const Test&amp; a) {\n    Test b = a;\n    return Test(1);\n}\n\nint main() {\n    Test a;\n    const Test &amp;A = F(std::move(a));\n    return 0;\n}\n</code></pre> <p>\u6bd4\u5982\u6b64\u5904\uff0c\u7531\u4e8e\u6211\u7684\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u4e3a\u5f15\u7528\uff0c\u6545\u800c\u76f4\u63a5\u8fd4\u56de\u4e86\u8fd4\u56de\u503c\u7684\u5f15\u7528\u3002\u4e5f\u5c31\u662f <code>Test(1)</code> \u7684\u5e38\u91cf\u5de6\u503c\u5f15\u7528\u3002\u4f46\u662f\uff0c\u5728\u51fd\u6570\u7ed3\u675f\u4e4b\u540e\uff0c\u8fd9\u4e2a\u5e38\u503c\u5f15\u7528\u6240\u5f15\u7528\u7684 <code>Test(1)</code> \u5c31\u88ab\u6790\u6784\u4e86\uff0c\u90a3\u8fd9\u4e2a\u5e38\u503c\u5f15\u7528\u5c31\u6ca1\u7528\u4e86\u3002</p> <p>\u603b\u800c\u8a00\u4e4b\uff0c<code>F</code> \u7684\u8fd4\u56de\u7c7b\u578b\u662f\u4e00\u4e2a\u5e38\u91cf\u5de6\u503c\u5f15\u7528\uff0c\u800c\u8fd4\u56de\u503c\u662f <code>Test(1)</code> \u8fd9\u4e00\u4e34\u65f6\u53d8\u91cf\u3002\u4e34\u65f6\u53d8\u91cf\u4f1a\u5728\u51fd\u6570\u4f53\u7ed3\u675f\u540e\u88ab\u6790\u6784\uff0c\u4ece\u800c\u5f15\u7528\u5931\u6548\u3002\u6545\u800c\u4e0d\u80fd\u8fd4\u56de\u4e34\u65f6\u53d8\u91cf\u7684\u5f15\u7528\uff0c\u4ece\u800c\u7f16\u8bd1\u9519\u8bef\u3002</p> <p>\u4e0d\u8fc7\uff0c<code>Test(1)</code> \u611f\u89c9\u53ea\u662f\u4e2a\u4e34\u65f6\u7684\u53f3\u503c\uff0c\u8fd9\u80fd\u79f0\u4e3a\u4e34\u65f6\u53d8\u91cf\u5417\uff1f\u5b9e\u9645\u4e0a\u662f\u53ef\u4ee5\u7684\uff0c\u5982\u679c\u53bb\u770b\u7f16\u8bd1\u5f97\u5230\u7684\u6c47\u7f16\u7801\uff0c<code>return Test(1)</code> \u548c\u5148 <code>Test ret = Test(1)</code> \u7136\u540e <code>return ret</code> \u751f\u6210\u7684\u6c47\u7f16\u7801\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_26","title":"\u4f8b\u5b50","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Test {\npublic:\n    int data = 0;\n    Test() { }\n    Test(const Test&amp; t) { }\n    Test(Test&amp;&amp; t) { }\n};\n\nTest fn1() {\n    Test tmp; return tmp; // (1)\n}\n\nTest&amp;&amp; fn2() {\n    Test tmp; return move(tmp); // (2)\n}\n\nTest fn3() {\n    Test tmp; return move(tmp); // (3)\n}\n\nint main() {\n    const Test&amp; a = fn1(); // (4)\n    Test&amp;&amp; b = fn1(); // (5)\n    Test c = fn1(); // (6)\n    Test&amp;&amp; d = fn2(); // (7)\n    return 0;\n}\n</code></pre> <p>\u5efa\u8bae\u505a\u6cd5\u5305\u62ec <code>(1)(4)(5)(6)</code>\uff0c\u907f\u514d\u591a\u4f59\u62f7\u8d1d\uff0c\u4f18\u5316\u8d44\u6e90\u5229\u7528\u3002</p> <p>\u4e0d\u5efa\u8bae\u505a\u6cd5\u5305\u62ec <code>(2)(3)(7)</code>\u3002<code>(2)(7)</code> \u4e2d <code>d</code> \u4f1a\u6307\u5411\u88ab\u6790\u6784\u7684 <code>tmp</code>\uff0c\u51fa\u73b0\u8fd0\u884c\u9519\u8bef\u3002<code>std::move()</code> \u5c06\u5de6\u503c\u8f6c\u53d8\u4e3a\u53f3\u503c\uff0c\u4e0d\u8fdb\u884c\u8fd4\u56de\u503c\u4f18\u5316\uff0c<code>(3)</code> \u4f1a\u79fb\u52a8\u6784\u9020\u4e34\u65f6\u53d8\u91cf</p> <p>\u8fd9\u91cc\uff0c<code>Test fn1()</code> \u6ee1\u8db3\u8fd4\u56de\u503c\u4f18\u5316\u6761\u4ef6\u3002</p> <p>\u53ef\u5229\u7528\u5e38\u91cf\u5de6\u503c\u5f15\u7528 <code>(2)</code>\uff0c\u53f3\u503c\u5f15\u7528 <code>(5)</code>\uff0c\u6784\u9020\u65b0\u5bf9\u8c61 <code>(7)</code> \u7684\u65b9\u5f0f\u63a5\u6536\u8fd4\u56de\u503c\u3002</p> <p>\u5173\u4e8e <code>(2)(7)</code>\uff0c\u9996\u5148\u8bb0\u4f4f\uff0c\u5982\u679c\u8fd4\u56de\u5f15\u7528\uff0c\u53ea\u6709\u8fd4\u56de\u5e38\u91cf\u5c40\u90e8\u53d8\u91cf\u7684\u5de6\u503c\u5f15\u7528\u662f\u5408\u6cd5\u7684\uff0c\u5176\u4ed6\u7684\u90fd\u4e0d\u5408\u6cd5\u3002\u5373\u4f7f\u5728\u67d0\u4e9b\u7f16\u8bd1\u5668\u4e0a\u901a\u8fc7\u4e86\uff0c\u4e5f\u5f88\u5371\u9669\u3002\u5728\u8f83\u4e3a\u4e25\u683c\u7684\u7f16\u8bd1\u5668\u4e0a\u4e0d\u4e00\u5b9a\u80fd\u901a\u8fc7\u3002</p> <pre><code>int&amp; func() { static int x = 0; return x; }\n</code></pre> <p>\u7528\u6b64\u5904 <code>(2)(7)</code> \u4e3e\u4f8b\uff0c<code>(2)(7)</code> \u7684\u610f\u601d\u662f\u8fd4\u56de\u4e86\u4e00\u4e2a\u53f3\u503c\u7684\u53f3\u503c\u5f15\u7528\uff0c\u628a\u8fd9\u4e2a\u53f3\u503c\u5f15\u7528\u7684\u8fd4\u56de\u503c\u8d4b\u503c\u7ed9\u4e86\u4e00\u4e2a\u53f3\u503c\u5f15\u7528\u3002</p> <p>\u6211\u4eec\u5199\u51fa\u5982\u4e0b\u4e00\u4e2a\u7c7b\u4f3c\u7684\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint&amp;&amp; func() {\n    int tmp = 1;\n    return std::move(tmp);\n}\n\nint main() {\n    int&amp;&amp; x = func() + 1;\n    cout &lt;&lt; x;\n    return 0;\n}\n</code></pre> <p>\u91c7\u7528 <code>glot</code> \u5e73\u53f0\u8fd0\u884c\uff0c\u8f93\u51fa <code>2</code>\u3002</p> <p>\u91c7\u7528 <code>retexter</code> \u5e73\u53f0\u8fd0\u884c\uff0c\u7f16\u8bd1\u6307\u4ee4\u91c7\u7528 <code>clang++ -Wall -std=c++14 -stdlib=libc++ -O2 -o a.out source_file.cpp</code>\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\u5b8c\u5168\u4e0d\u786e\u5b9a\u7684\u6574\u6570\u3002\u867d\u7136\u76f4\u89c9\u4e0a\u53ef\u4ee5\u5b8c\u6210\u8d4b\u503c\uff0c\u4f46\u662f\u7531\u4e8e <code>tmp</code> \u4e0d\u662f\u9759\u6001\u5c40\u90e8\u53d8\u91cf\uff0c\u9010\u8bed\u53e5\u7ed3\u675f\u540e\u4f1a\u88ab\u6790\u6784\uff0c\u5bfc\u81f4 <code>x</code> \u5728\u8bbf\u95ee\u975e\u6cd5\u5185\u5b58\u3002</p> <p>\u91c7\u7528 <code>retexter</code> \u5e73\u53f0\u8fd0\u884c\uff0c\u7f16\u8bd1\u6307\u4ee4\u91c7\u7528 <code>g++ -Wall -std=c++14 -O2 -o a.out source_file.cpp</code>\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a <code>1</code>\uff0cwarning \u5982\u4e0b\uff1a</p> <pre><code>1944460822/source.cpp: In function 'int&amp;&amp; func()':\n1944460822/source.cpp:5:25: warning: function returns address of local variable [-Wreturn-local-addr]\nreturn std::move(tmp);\n                         ^\n1944460822/source.cpp:4:9: note: declared here\n     int tmp = 1;\n         ^~~\n1944460822/source.cpp: In function \u2018int main()\u2019:\n1944460822/source.cpp:8:19: warning: \u2018tmp\u2019 is used uninitialized in this function [-Wuninitialized]\n     int&amp;&amp; x = func() + 1;\n                        ^\n</code></pre> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u8fd4\u56de\u975e\u9759\u6001\u4e34\u65f6\u53d8\u91cf\u7684\u5f15\u7528\u98ce\u9669\u6781\u5927\u3002</p> <p>\u5907\u6ce8\uff1a\u8fd9\u4e2a\u4f8b\u5b50\u672c\u8eab\u5e76\u4e0d\u592a\u597d\u3002\u5982\u679c\u5b9e\u5728\u60f3\u68c0\u6d4b\u8fd9\u6837\u7684\u51fd\u6570\uff0c\u4e0d\u5e94\u8be5\u7528 <code>int</code> \u7c7b\u578b\u3002\u56e0\u4e3a <code>int</code> \u662f\u7f16\u8bd1\u5668\u81ea\u5e26\u7684\u57fa\u672c\u7c7b\u578b\uff0c\u91c7\u7528\u8fc7\u591a\u7684\u4f18\u5316\uff0c\u6545\u800c <code>glot</code> \u8f93\u51fa <code>2</code> \u4e5f\u662f\u5408\u7406\u7684\u3002\u8fd9\u6837\u7684\u68c0\u6d4b\u6700\u597d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7c7b\u578b\u5e76\u5b8c\u6574\u5730\u5b9a\u4e49\u6240\u6709\u7684\u6784\u9020\u3001\u6790\u6784\u3001\u62f7\u8d1d\u6784\u9020\u3001\u79fb\u52a8\u6784\u9020\u3001\u79fb\u52a8\u8d4b\u503c\u4e0e\u62f7\u8d1d\u8d4b\u503c\uff0c\u786e\u4fdd\u7f16\u8bd1\u5668\u4f18\u5316\u4e0d\u591a\u3002</p>"},{"location":"languages/c-oop/reference-copy/#delete","title":"<code>delete</code> \u4e0e\u68c0\u6d4b","text":""},{"location":"languages/c-oop/reference-copy/#delete_1","title":"<code>delete</code> \u7684\u610f\u4e49","text":"<pre><code>delete[] array; // delete \u91ca\u653e\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u533a\n</code></pre> <p>\u6545\u800c <code>delete[]</code> \u4e4b\u540e\uff0c\u5185\u5b58\u533a\u7684\u6570\u636e\u5c31\u6e05\u9664\u4e86\u3002</p> <p><code>delete</code> \u91ca\u653e\u7684\u662f\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u6307\u9488\u53d8\u91cf\u672c\u8eab\u4ecd\u7136\u5b58\u5728\u53ef\u4ee5\u4f7f\u7528\uff08\u7528\u4e8e\u8d4b\u503c\u7b49\uff09\u3002\u4f46\u662f\u8c03\u7528 <code>array[i]</code> \u4f1a\u4ea7\u751f\u8fd0\u884c\u65f6\u9519\u8bef segmentation fault\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u6307\u5411\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u7528\u4e8e\u5b58\u50a8\u6570\u636e\u3002</p> <p>\u6e05\u9664\u4e0d\u7b49\u540c\u4e8e\u8bbe\u4e3a <code>0</code>\u3002\u800c\u4e14\u5b9e\u9645\u4e0a\uff0c\u5982\u679c <code>delete[]</code> \u4e4b\u540e\u8fd8\u628a <code>array[i]</code> \u8d4b\u503c\u4e3a <code>0</code>\uff0c\u4e0d\u4ec5\u6ca1\u6709\u610f\u4e49\uff08\u56e0\u4e3a\u5185\u5b58\u5df2\u7ecf\u88ab\u6e05\u9664\u4e86\uff09\uff0c\u800c\u4e14\u4f1a\u56e0\u4e3a\u8c03\u7528\u4e86\u591a\u6b21\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u800c\u6d6a\u8d39\u4e86\u6548\u7387\u3002\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u5199\u6cd5\u7eaf\u5c5e\u6d6a\u8d39\u6548\u7387\uff0c\u8fd8\u6709\u9519\u8bef\u3002\u5728 <code>delete[] array</code> \u8bed\u53e5\u540e\uff0c\u5982\u679c\u60f3\u8fdb\u884c\u8d4b\u503c\u4e3a <code>0</code> \u7684\u64cd\u4f5c\uff0c<code>array</code> \u8981\u91cd\u65b0\u7533\u8bf7\u6307\u5411\u4e00\u5757\u5185\u5b58\u3002</p> <pre><code>Vector&amp; Vector::operator=(const Vector&amp; other) {\n    if (this != &amp;other) {\n        if (this-&gt;array != nullptr) delete[] array;\n        for (int i = 0; i &lt; capacity; i++) array[i] = 0;\n    }\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#delete_2","title":"<code>delete</code> \u7684\u68c0\u6d4b","text":"<p>\u5efa\u8bae\u5728 <code>delete</code> \u524d\u68c0\u6d4b\u6307\u9488\u662f\u5426\u4e3a\u7a7a\u6307\u9488\uff0c\u56e0\u4e3a\u7a7a\u6307\u9488 <code>delete</code> \u4f1a\u62a5\u9519\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_27","title":"\u8d4b\u503c\u7684\u68c0\u6d4b","text":"<p>\u548c <code>delete</code> \u76f8\u4f3c\uff0c\u5efa\u8bae\u8d4b\u503c\u4e5f\u8981\u5148\u8fdb\u884c\u68c0\u6d4b\uff0c\u907f\u514d\u6d6a\u8d39\u6548\u7387</p> <pre><code>Vector&amp; Vector::operator=(const Vector&amp; other) {\n    if (this != &amp;other) \n        // \u5efa\u8bae\u8d4b\u503c\u7684\u65f6\u5019\u68c0\u6d4b\u662f\u5426\u76f8\u540c\uff0c\u68c0\u6d4b\u7684\u539f\u7406\u672c\u8d28\u4e0a\u5c31\u662f\u68c0\u6d4b\u5730\u5740\u662f\u5426\u76f8\u540c\n        if (this-&gt;array != nullptr) delete[] array;\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#move","title":"<code>move</code> \u4e0e\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"languages/c-oop/reference-copy/#move_1","title":"<code>move</code> \u7684\u610f\u4e49","text":"<p><code>move</code> \u7684\u4f5c\u7528\u5c31\u662f\u4ec5\u4ec5\u628a\u5de6\u53f3\u503c\u8fd9\u4e2a\u5c5e\u6027\u6539\u4e3a\u53f3\u503c\uff0c\u5176\u4f59\u7684\u5c5e\u6027\u4e0d\u53d8\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_28","title":"\u4f8b\u5b50","text":"<pre><code>Test F(const Test&amp; a) {\n    Test b = std::move(a);\n    return b;\n}\n\nint main() {\n    Test A = F(1);\n    return 0;\n}\n</code></pre> <p>\u8fd9\u4e2a\u5730\u65b9\u6781\u5176\u6709\u8da3\u7684\u662f <code>F</code> \u51fd\u6570\u4f53\u5185\u5bf9 <code>b</code> \u7684\u6784\u9020\u662f\u91c7\u7528\u4e86\u62f7\u8d1d\u6784\u9020\u800c\u975e\u79fb\u52a8\u6784\u9020\u3002</p> <p>\u8fd9\u662f\u7531\u4e8e <code>move</code> \u548c <code>const</code> \u7684\u53cc\u91cd\u4f5c\u7528\u3002\u5982\u540c\u524d\u6587\u6240\u8ff0\uff0c<code>move</code> \u4e00\u5b9a\u53ef\u4ee5\u628a\u4efb\u610f\u5bf9\u8c61\u8c03\u6574\u4e3a\u53f3\u503c\uff0c\u4e0d\u7ba1\u662f\u4e0d\u662f <code>const</code>\u3002</p> <p>\u6df1\u5c42\u6b21\u5730\u8bf4\uff0c\u53d8\u91cf\u50a8\u5b58\u5728\u5185\u5b58\u91cc\u7684\u65f6\u5019\u5b58\u7684\u90fd\u662f\u5b83\u7684\u6570\u636e\uff0c\u800c\u4e0d\u4f1a\u4e13\u95e8\u5f00\u8f9f\u4e00\u5757\u7a7a\u95f4\u6765\u8bf4\u660e\u5b83\u662f\u4e0d\u662f <code>const</code>\uff0c\u662f\u4e0d\u662f <code>&amp;</code> \u7b49\uff0c<code>const</code> \u548c <code>&amp;</code> \u8fd9\u4e9b\u201c\u7c7b\u578b\u201d\u662f\u7531\u7f16\u8bd1\u5668\u6765\u5904\u7406\u7684\u3002</p> <p>\u6211\u4eec\u8bf4\u7c7b\u578b\u8f6c\u6362\uff0c\u6307\u7684\u5c31\u662f\u6539\u53d8\u7c7b\u578b\uff0c\u800c\u4e0d\u53d8\u52a8\u5b83\u5728\u5185\u5b58\u91cc\u7684\u50a8\u5b58\u5f62\u5f0f\u3002\u6bd4\u5982\u4e00\u4e2a\u6307\u9488\uff0c\u5b83\u5728\u5185\u5b58\u91cc\u5b58\u7684\u5c31\u662f\u4e00\u4e32\u6570\u5b57\u8868\u793a\u5730\u5740\uff0c\u6211\u4eec\u770b\u5b83\u7684\u5185\u5b58\u60c5\u51b5\u65f6\uff0c\u5b8c\u5168\u53ef\u4ee5\u628a\u8fd9\u5757\u5185\u5b58\u5f53\u505a\u5b58\u7684\u662f\u4e00\u4e2a\u6574\u578b\u53d8\u91cf\u3002\u6211\u4eec\u5f3a\u884c\u628a\u6307\u9488\u5f53\u505a\u6574\u578b\u53d8\u91cf\u6765\u770b\u7684\u65f6\u5019\u5c31\u662f\u8fdb\u884c\u4e86\u4e00\u4e2a\u7c7b\u578b\u8f6c\u6362\u3002</p> <p>\u6240\u4ee5 <code>std::move(a)</code> \u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u5c31\u662f <code>const&amp;&amp;</code>\uff0c\u56e0\u4e3a\u5b83\u53d1\u751f\u4e86\u7c7b\u578b\u8f6c\u6362\u3002\u800c\u8f6c\u6362\u4e4b\u540e\uff0c<code>a</code> \u8f6c\u4e3a <code>const&amp;&amp;</code>\uff0c\u8fd9\u662f\u4e00\u4e2a\u5e38\u91cf\u53f3\u503c\u5f15\u7528\uff0cC++ \u56fa\u5b9a\u5176\u53ea\u80fd\u591f\u88ab <code>const&amp;</code> \u7ed1\u5b9a\u3002\u6545\u800c\u5728\u6784\u9020\u51fd\u6570\u91cd\u8f7d\u7684\u60c5\u51b5\u4e0b\u8c03\u7528\u4e86\u76f8\u5e94 <code>const&amp;</code> \u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_29","title":"\u8fdb\u4e00\u6b65\u8ba8\u8bba","text":"<p>\u8fd9\u5f20\u8868\u7ed9\u51fa\u4e86\u5173\u4e8e\u7ed1\u5b9a\u548c\u5de6\u53f3\u503c\u7684\u5173\u7cfb\u3002\u5de6\u8fb9\u7684\u4e00\u5217\u662f\u53c2\u6570\u7684\u5c5e\u6027\uff0clvalue \u662f\u6307\u5de6\u503c\uff0crvalue \u662f\u6307\u53f3\u503c\uff0cconst \u662f\u6307\u5e38\u91cf\u3002\u4e0a\u65b9\u4e00\u884c\u7ed9\u51fa\u4e86\u80fd\u591f\u7ed1\u5b9a\u7684\u7c7b\u578b\u3002\u800c\u8868\u4e2d\u7684\u6b21\u5e8f\u4ee3\u8868\u591a\u79cd\u7ed1\u5b9a\u65f6\u7684\u4f18\u5148\u7ea7\u3002\u4ece\u800c\u53ef\u89c1\uff0c\u5e38\u91cf\u53f3\u503c\u4f18\u5148\u5728\u6211\u4eec\u7684\u4e24\u4e2a\u6784\u9020\u51fd\u6570\u5f53\u4e2d\u53ea\u80fd\u7ed1\u5b9a <code>const&amp;</code>\uff08\u56e0\u4e3a\u6ca1\u6709 <code>const&amp;&amp;</code> \u7c7b\u578b\u7684\u91cd\u8f7d\uff0c\u6545\u800c\u7ed1\u5b9a\u7684\u662f\uff09\uff0c\u4ece\u800c\u8c03\u7528\u4e86\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_30","title":"\u7f6e\u7a7a\u6027\u8ba8\u8bba","text":""},{"location":"languages/c-oop/reference-copy/#_31","title":"\u6790\u6784\u7f6e\u7a7a","text":"<p>\u6790\u6784\u51fd\u6570\u9700\u8981\u5c06\u6210\u5458\u6570\u636e\u4e2d\u7684\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u7f6e\u7a7a\u3002</p> <pre><code>Vector::~Vector() {\n    if (array != nullptr) delete[] array;\n}\n</code></pre> <p>\u4e0b\u6587\u4ee5 <code>A = B</code> \u4e3a\u4f8b\uff0c\u8ba8\u8bba\u8d4b\u503c\u8fc7\u7a0b\u4e2d\u7684\u7f6e\u7a7a\u6027\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_32","title":"\u79fb\u52a8\u7f6e\u7a7a","text":"<p>\u6bcf\u6b21\u79fb\u52a8\u65f6\uff0c\u6211\u4eec\u5c06 <code>B</code> \u5b8c\u5168\u7f6e\u7a7a\u4f46\u662f\u4e0d <code>delete</code>\u3002</p> <p>\u79fb\u52a8\u548c\u62f7\u8d1d\u7684\u8bed\u4e49\u533a\u522b</p> <p>\u79fb\u52a8\u548c\u62f7\u8d1d\u7684\u8bed\u4e49\u533a\u522b\u5728\u4e8e\uff0c\u88ab\u62f7\u8d1d\u7684\u5bf9\u8c61\u4e4b\u540e\u8fd8\u53ef\u80fd\u4f1a\u88ab\u4f7f\u7528\u7684\uff0c\u800c\u88ab\u79fb\u52a8\u7684\u5bf9\u8c61\u5fc5\u987b\u7f6e\u7a7a\uff08\u4f46\u4e0d\u662f <code>delete</code>\uff0c<code>delete</code> \u51fa\u73b0\u5728\u8d4b\u503c\u7f6e\u7a7a\u548c\u6790\u6784\u7f6e\u7a7a\u5f53\u4e2d\uff09\u3002\u56e0\u4e3a\u79fb\u52a8\u7684\u672c\u8d28\u539f\u7406\u662f\u628a\u5bf9\u540c\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u66f4\u6362\u4e3a\u65b0\u6307\u9488\uff0c\u5e76\u4e14\u5c06\u539f\u6307\u9488\u7f6e\u7a7a\u3002</p> <p>\u79fb\u52a8\u548c\u62f7\u8d1d\u7684\u539f\u7406\u533a\u522b</p> <ul> <li>\u62f7\u8d1d\u7684\u539f\u7406</li> </ul> <p><code>A</code> \u4e0e <code>B</code> \u5404\u81ea\u6709\u4e00\u4e2a\u6307\u9488\uff0c\u5982\u679c <code>A != B</code> \u65f6\uff0c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u4e24\u5757\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff08<code>A = B</code> \u65f6\u65e0\u9700\u62f7\u8d1d\uff09\u3002\u73b0\u5c06 <code>A</code> \u5185\u5b58\u7a7a\u95f4\u91cc\u6240\u6709\u6570\u636e\u6e05\u9664\uff0c\u63a5\u7740\u628a <code>B</code> \u7684\u5185\u5b58\u7a7a\u95f4\u5185\u6240\u6709\u6570\u636e\u4f20\u9012\u7ed9 <code>A</code> \u7684\u5185\u5b58\u7a7a\u95f4\u3002\u8fd9\u4e00\u4f20\u9012\u8fc7\u7a0b\u4e0d\u4f1a\u7834\u574f <code>B</code> \u7684\u6570\u636e\uff0c\u4f46\u662f\u6548\u7387\u8f83\u4f4e\u3002</p> <ul> <li>\u79fb\u52a8\u7684\u539f\u7406</li> </ul> <p><code>A</code> \u4e0e <code>B</code> \u5404\u81ea\u6709\u4e00\u4e2a\u6307\u9488\u3002\u5982\u679c <code>A != B</code> \u65f6\uff0c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u4e24\u5757\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff08<code>A = B</code> \u65f6\u65e0\u9700\u79fb\u52a8\uff09\u3002\u5982\u679c\u6b64\u65f6 <code>A</code> \u7684\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u4e0d\u4e3a\u7a7a\uff0c\u4e5f\u5c31\u662f <code>A</code> \u6307\u9488\u4e0d\u4e3a\u7a7a\u6307\u9488\uff0c\u90a3\u4e48\u5c06 <code>A</code> \u7684\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u901a\u8fc7 <code>delete</code> \u6e05\u9664\uff0c<code>A</code> \u6307\u9488\u5373\u8f6c\u4e3a\u7a7a\u6307\u9488\u3002\u5c06 <code>B</code> \u7684\u6307\u9488\u8d4b\u503c\u7ed9 <code>A</code> \u7684\u6307\u9488\uff0c\u5e76\u5c06 <code>B</code> \u6307\u9488\u7f6e\u4e3a\u7a7a\u6307\u9488\u3002\u8fd9\u4e00\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u662f\u6539\u53d8\u4e86\u5185\u5b58\u7a7a\u95f4\u7684\u6307\u9488\u4f46\u662f\u6ca1\u6709\u6539\u53d8\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u79fb\u52a8\u8fc7\u7a0b\u4e2d <code>B</code> \u6307\u9488\u7f6e\u7a7a</p> <p>\u5728\u6790\u6784\u51fd\u6570\u91cc\uff0c\u6211\u4eec\u4f1a\u8c03\u7528 <code>delete</code>\u3002</p> <p>\u5018\u82e5\u4e0d\u628a <code>B</code> \u6307\u9488\u7f6e\u7a7a\uff0c\u90a3\u4e48\u6211\u4eec\u4f1a\u6790\u6784 <code>delete</code> \u4e00\u6b21 <code>B</code> \u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u7136\u800c <code>A</code> \u6307\u9488\u4e0d\u4e3a\u7a7a\u3002\u5728\u6790\u6784\u65f6\uff0c\u53c8\u5c06\u5bf9\u540c\u4e00\u4e2a\u5185\u5b58\u7a7a\u95f4 <code>delete</code> \u4e00\u6b21\u3002<code>delete</code> \u7a7a\u7684\u7a7a\u95f4\u662f\u4e0d\u5141\u8bb8\u7684\u3002\u6545\u800c\u79fb\u52a8\u6784\u9020\u5fc5\u7136\u8981\u5c06B\u6307\u9488\u7f6e\u7a7a\u4ee5\u907f\u514d\u591a\u6b21 <code>delete</code> \u540c\u4e00\u7a7a\u95f4\u3002\u8fd9\u6837\u4e5f\u5bfc\u81f4\u4e86 <code>B</code> \u6307\u9488\u4e0d\u80fd\u518d\u6b21\u4f7f\u7528\uff08\u6574\u4e2a <code>B</code> \u65e0\u6cd5\u518d\u53bb\u8d4b\u503c\uff09\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u79fb\u52a8\u6784\u9020\u5fc5\u7136\u8981\u7834\u574f\u7528\u6765\u6784\u9020\u7684\u5bf9\u8c61\uff1a\u56e0\u4e3a\u4e0d\u80fd\u51fa\u73b0\u4e24\u4e2a\u6307\u9488\u6307\u5411\u540c\u4e00\u5757\u7a7a\u95f4\u7684\u60c5\u51b5\u3002</p> <p>\u79fb\u52a8\u8fc7\u7a0b\u4e2d <code>B</code> \u5b8c\u5168\u7f6e\u7a7a</p> <p>\u6211\u4eec\u5728\u4e0a\u6587\u5df2\u7ecf\u53d9\u8ff0\u4e86\u4e3a\u4ec0\u4e48\u9700\u8981\u5c06 <code>B</code> \u6307\u9488\u7f6e\u7a7a\u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e <code>B</code> \u5bf9\u8c61\u88ab\u79fb\u52a8\u4e4b\u540e\u5df2\u7ecf\u4e0d\u518d\u6b21\u4f7f\u7528\uff0c\u9700\u8981\u5c06\u5176\u5b8c\u5168\u7f6e\u7a7a\uff08\u6240\u6709\u7684\u6210\u5458\u6570\u636e\u90fd\u8981\u7f6e\u7a7a\uff0c\u800c\u4e0d\u53ea\u662f <code>B</code> \u91cc\u9762\u7684\u6307\u9488\u5bf9\u8c61\uff09\uff0c\u4ece\u800c\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_33","title":"\u8d4b\u503c\u7f6e\u7a7a","text":"<p>\u6bcf\u6b21\u8d4b\u503c\u65f6\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 <code>delete</code> \u5c06 <code>A</code> \u7f6e\u7a7a\u3002</p> <p>\u62f7\u8d1d\u8d4b\u503c</p> <p>\u62f7\u8d1d\u8d4b\u503c\u65f6\uff0c\u68c0\u6d4b\u5b8c <code>A == B</code> \u540e\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 <code>delete</code> \u5c06 <code>A</code> \u7f6e\u7a7a\u3002</p> <p>\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u8981\u5148\u6e05\u9664 <code>A</code> \u7684\u539f\u5185\u5b58\u7a7a\u95f4\uff1f</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u7684\u79fb\u52a8\u8d4b\u503c\u9700\u8981\u4e8c\u8005\u8d4b\u503c\u5b8c\u540e\u5b8c\u5168\u76f8\u540c\uff0c\u5982\u679c <code>A</code> \u539f\u5185\u5b58\u7a7a\u95f4\u8d85\u51fa <code>B</code> \u7684\u90a3\u90e8\u5206\u5bb9\u79ef\u6709\u591a\u4e8e\u5185\u5bb9\uff0c\u4e0d\u6e05\u9664\u5c06 <code>A</code> \u5219\u65e0\u6cd5\u4f7f\u5f97 <code>A</code> \u4e0e <code>B</code> \u5b8c\u5168\u76f8\u540c\u3002\u5176\u6b21\uff0c\u4e0d\u6e05\u9664\u66f4\u5927\u7684\u95ee\u9898\u662f\u5185\u5b58\u6cc4\u9732\u4e25\u91cd\u3002</p> <p>\u6ce8\u610f\u5230\u62f7\u8d1d\u8d4b\u503c\u73b0\u5c06 <code>A</code> \u7684\u5185\u5b58\u7a7a\u95f4 <code>delete</code> \u4e4b\u540e\uff0c<code>A</code> \u7684\u6307\u9488\u9700\u8981\u6307\u5411\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u624d\u80fd\u4f7f <code>A</code> \u63a5\u53d7 <code>B</code> \u7684\u62f7\u8d1d\u8d4b\u503c\u3002\u6545\u9700\u8981\u7533\u8bf7\u65b0\u7684\u5185\u5b58\u7a7a\u95f4\uff08\u4e0e <code>B</code> \u7684\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u5b8c\u5168\u76f8\u540c\uff09\u3002</p> <p>\u79fb\u52a8\u8d4b\u503c</p> <p>\u7efc\u5408\u524d\u6587\u6240\u8ff0\uff0c\u79fb\u52a8\u9700\u8981\u5c06 <code>B</code> \u5b8c\u5168\u7f6e\u7a7a\u4f46\u662f\u4e0d <code>delete</code>\uff0c\u800c\u8d4b\u503c\u9700\u8981\u5c06 <code>A</code> \u901a\u8fc7 <code>delete</code> \u7f6e\u7a7a\u4e4b\u540e\u518d\u6b21\u7533\u8bf7\u65b0\u7684\u7a7a\u95f4\u3002\u6240\u4ee5\u7528 <code>B</code> \u79fb\u52a8\u8d4b\u503c <code>A</code> \u7684\u65f6\u5019\u9700\u8981\u4e24\u6b21\u7f6e\u7a7a\uff0c\u4e00\u6b21 <code>delete</code>\uff08\u5bf9 <code>A</code> \u7684\uff09\u800c\u53e6\u4e00\u6b21\u4e0d <code>delete</code>\uff08\u5bf9 <code>B</code> \u7684\uff09\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_34","title":"\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"languages/c-oop/reference-copy/#_35","title":"\u610f\u4e49","text":"<p>\u5f53\u7f16\u8bd1\u5668\u53d1\u73b0\u8868\u8fbe\u5f0f\u548c\u51fd\u6570\u8c03\u7528\u6240\u9700\u7684\u6570\u636e\u7c7b\u578b\u548c\u5b9e\u9645\u7c7b\u578b\u4e0d\u540c\u65f6\uff0c\u4fbf\u4f1a\u8fdb\u884c\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u3002</p> <p>\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u53ef\u901a\u8fc7\u5b9a\u4e49\u7279\u5b9a\u7684\u8f6c\u6362\u8fd0\u7b97\u7b26\u548c\u6784\u9020\u51fd\u6570\u6765\u5b8c\u6210\u3002</p> <p>\u9664\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u5916\uff0c\u5728\u6709\u5fc5\u8981\u7684\u65f6\u5019\u8fd8\u53ef\u4ee5\u8fdb\u884c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u3002</p> <pre><code>void print(int d) { } \nint main() {\n    print(3.5);\n    print('c');\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_36","title":"\u8bed\u6cd5","text":"<p>\u65b9\u6cd5\u4e00\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Dst {\npublic:\n    Dst() { cout &lt;&lt; \"Dst::Dst()\" &lt;&lt; endl; }\n};\n\nclass Src {\npublic:\n    Src() { cout &lt;&lt; \"Src::Src()\" &lt;&lt; endl; }\n    operator Dst() const { \n        cout &lt;&lt; \"Src::operator Dst() called\" &lt;&lt; endl;\n        return Dst(); \n    }\n};\n</code></pre> <p>\u5373\u5728\u6e90\u7c7b\u4e2d\u5b9a\u4e49\u201c\u6e90\u7c7b\u4e2d\u91cd\u8f7d\u76ee\u6807\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\u201d\u3002</p> <p>\u6ce8\u610f\uff1a\u4e0d\u9700\u8981\u6307\u5b9a\u8fd4\u56de\u7c7b\u578b\uff0c\u56e0\u4e3a <code>operator</code> \u540e <code>Dst()</code> \u5df2\u7ecf\u6307\u660e\uff0c\u8fd4\u56de\u503c\u662f <code>Dst()</code>\uff0c\u8fd4\u56de\u51fd\u6570\u540d\u6545\u800c\u4e0d\u9700\u8981\u8fd4\u56de\u7c7b\u578b\u3002\u8fd9\u662f\u7c7b\u578b\u8f6c\u6362\u7684\u56fa\u5b9a\u8bed\u6cd5\uff0c\u5982\u540c\u6784\u9020\u51fd\u6570\u4e0d\u9700\u8981\u5c31\u597d\u3002</p> <p>\u65b9\u6cd5\u4e8c\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Src; // \u524d\u7f6e\u7c7b\u578b\u58f0\u660e\uff0c\u56e0\u4e3a\u5728 Dst \u4e2d\u8981\u7528\u5230 Src \u7c7b\nclass Dst {\npublic:\n    Dst() { cout &lt;&lt; \"Dst::Dst()\" &lt;&lt; endl; }\n    Dst(const Src&amp; s) { \n        cout &lt;&lt; \"Dst::Dst(const Src&amp;)\" &lt;&lt; endl; \n    }\n};\n\nclass Src {\npublic:\n    Src() { cout &lt;&lt; \"Src::Src()\" &lt;&lt; endl; }\n};\n</code></pre> <p>\u5373\u5728\u76ee\u6807\u7c7b\u4e2d\u5b9a\u4e49\u201c\u76ee\u6807\u7c7b\u4e2d\u5b9a\u4e49\u6e90\u7c7b\u5bf9\u8c61\u4f5c\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u201d\u3002</p> <p>\u4e24\u79cd\u65b9\u6cd5\u4efb\u9009\u4e00\u79cd\u5373\u53ef\u8fd0\u884c\u3002\u4f46\u662f\u4e00\u5b9a\u8981\u6ce8\u610f\u533a\u5206\u4e24\u79cd\u8f6c\u6362\u65b9\u5f0f\uff0c\u5982\u679c\u6ca1\u6709\u505a\u533a\u5206\uff0c\u5e38\u5e38\u4f1a\u5bfc\u81f4\u8f6c\u6362\u65b9\u5411\u9519\u8bef\u3002\u6b64\u5916\uff0c\u4e24\u79cd\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u7684\u65b9\u6cd5\u4e0d\u80fd\u540c\u65f6\u4f7f\u7528\uff0c\u4f7f\u7528\u65f6\u5fc5\u987b\u4efb\u9009\u5176\u4e2d\u4e00\u79cd\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_37","title":"\u4f8b\u5b50","text":"<p>\u7b2c\u4e00\u4f8b\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Dst {\npublic:\n    Dst() { cout &lt;&lt; \"Dst::Dst()\" &lt;&lt; endl; }\n};\n\nclass Src {\npublic:\n    Src() { cout &lt;&lt; \"Src::Src()\" &lt;&lt; endl; }\n    operator Dst() const { \n        cout &lt;&lt; \"Src::operator Dst() called\" &lt;&lt; endl;\n        return Dst(); \n    }\n};\n\nvoid Transform(Dst d) { }\n\nint main() {\n    Src s;\n    Dst d1(s);\n    Dst d2 = s; \n    Transform(s); \n    return 0;\n}\n\n/*\nSrc::Src()\nSrc::operator Dst() called\nDst::Dst()\nSrc::operator Dst() called\nDst::Dst()\nSrc::operator Dst() called\nDst::Dst()\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u5e76\u4e0d\u4f1a\u53d1\u751f\u7c7b\u4f3c\u5207\u7247\u7684\u6548\u679c\uff0c\u53ea\u662f\u7528\u67d0\u4e00\u4e2a\u7c7b\u578b\u751f\u6210\u4e86\u53e6\u4e00\u7c7b\u578b\u800c\u5df2\u3002\u8fd9\u91cc\u4e3b\u51fd\u6570\u5185 <code>Dst d2 = s</code> \u7b49\u4ef7\u4e8e <code>Dst d2(s)</code>\uff0c\u800c <code>void Transform(Dst d)</code> \u8c03\u7528\u7684\u53c2\u6570\u672c\u8be5\u662f <code>Dst</code> \u7c7b\u578b\uff0c\u7531\u4e8e\u5b9a\u4e49\u4e86\u4ece <code>s</code> \u5230 <code>Dst</code> \u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u6545\u800c\u4e5f\u53ef\u4ee5\u6267\u884c\uff0c\u5e76\u8fdb\u884c\u4e86\u8f6c\u6362\u3002</p> <p>\u73b0\u5728\uff0c\u5c1d\u8bd5\u5bfb\u627e\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef</p> <pre><code>class SmallInt;\noperator int(SmallInt&amp;); // \u9519\u8bef\uff1a\u7c7b\u578b\u8f6c\u6362\u7b26\u5fc5\u987b\u662f\u6210\u5458\u51fd\u6570\nclass SmallInt {\npublic:\n    int operator int() const; // \u9519\u8bef\uff1a\u7c7b\u578b\u8f6c\u6362\u7b26\u4e0d\u80fd\u6807\u8bb0\u8fd4\u56de\u7c7b\u578b \n    operator int(int = 0) const; // \u9519\u8bef\uff1a\u5728\u6e90\u7c7b\u4e2d\u5b9a\u4e49\u76ee\u6807\u7c7b\u7684\u91cd\u8f7d\u8fd0\u7b97\u7b26\u9700\u8981\u53c2\u6570\u5217\u8868\u4e3a\u7a7a\n    operator int*() const { return 42; }  // \u9519\u8bef\uff1a42 \u4e0d\u662f\u4e00\u4e2a\u5408\u6cd5\u6307\u9488\n};\n</code></pre> <p>\u53e6\u5916\u4e00\u4f8b\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass SmallInt {\npublic:\n    SmallInt(int i = 0): val(i) {\n        cout &lt;&lt; \"SmallInt_Init\" &lt;&lt; endl;\n    }\n\n    operator int() const { \n        cout &lt;&lt; \"Int_Transform\" &lt;&lt; endl;\n        return val;\n    }\n\n    void print() { \n        cout &lt;&lt; val &lt;&lt; endl; \n    }\n\nprivate:\n    size_t val;\n};\n\nint main() {\n    SmallInt si;\n    si.print();\n    si = 4.10;\n    si.print();\n    si = si + 3;\n    si.print();\n    return 0;\n}\n\n/*\noutput:\nSmallInt_Init\n0\nSmallInt_Init\n4\nInt_Transform\nSmallInt_Init\n7\n*/\n</code></pre> <p>\u9996\u5148\uff0c\u8fd9\u91cc\u5b9a\u4e49\u7684 <code>val</code> \u662f <code>size_t</code> \u7c7b\u578b\u3002\u5b83\u662f\u4e00\u79cd\u201c\u6574\u578b\u201d\u7c7b\u578b\uff0c\u91cc\u9762\u4fdd\u5b58\u7684\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u5c31\u50cf <code>int</code>\u3001<code>long</code> \u4e00\u6837\u3002\u8fd9\u79cd\u6574\u6570\u7528\u6765\u8bb0\u5f55\u4e00\u4e2a\u5927\u5c0f\u3002</p> <p><code>size_t</code> \u7684\u5168\u79f0\u5e94\u8be5\u662f <code>size type</code>\uff0c\u5c31\u662f\u8bf4\u201c\u4e00\u79cd\u7528\u6765\u8bb0\u5f55\u5927\u5c0f\u7684\u6570\u636e\u7c7b\u578b\u201d\u3002\u901a\u5e38\u6211\u4eec\u7528 <code>sizeof()</code> \u64cd\u4f5c\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u6240\u5f97\u5230\u7684\u7ed3\u679c\u5c31\u662f <code>size_t</code> \u7c7b\u578b\u3002\u56e0\u4e3a <code>size_t</code> \u7c7b\u578b\u7684\u6570\u636e\u5176\u5b9e\u662f\u4fdd\u5b58\u4e86\u4e00\u4e2a\u6574\u6570\uff0c\u6240\u4ee5\u5b83\u4e5f\u53ef\u4ee5\u505a\u52a0\u51cf\u4e58\u9664\uff0c\u4e5f\u53ef\u4ee5\u8f6c\u5316\u4e3a <code>int</code> \u5e76\u8d4b\u503c\u7ed9 <code>int</code> \u7c7b\u578b\u7684\u53d8\u91cf\u3002</p> <p>\u6ce8\u610f\u7b2c\u4e8c\u4e2a <code>SmallInt_Init</code> \u51fa\u73b0\u5728 <code>si = 4.10</code>\uff0c\u9996\u5148\u5185\u7f6e\u7c7b\u578b\u8f6c\u6362\u5c06 <code>double</code> \u8f6c\u6362\u4e3a <code>int</code>\uff0c\u7136\u540e\u8c03\u7528\u6784\u9020\u51fd\u6570\u6784\u9020\u4e86\u4ee5 <code>(int)4</code> \u4e3a\u53c2\u6570\u7684 <code>SmallInt(4)</code>\uff0c\u9690\u5f0f\u5730\u5c06 <code>4</code> \u8f6c\u6362\u6210 <code>SmallInt</code> \u7c7b\u578b\u3002\u4e4b\u540e\u628a\u8fd9\u4e2a <code>SmallInt(4)</code> \u8d4b\u503c\u7ed9 <code>si</code>\uff0c\u7cfb\u7edf\u81ea\u52a8\u751f\u6210\u4e86 <code>SmallInt</code> \u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p> <p><code>si = si + 3</code> \u8bed\u53e5\u4e2d\u9996\u5148\u6267\u884c <code>si + 3</code>\uff0c\u4e4b\u540e\u6267\u884c\u8d4b\u503c\u8bed\u53e5\u3002</p> <p>\u8fd9\u53ef\u80fd\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\u60c5\u51b5\u4e00\uff0c\u628a <code>si</code> \u8f6c\u4e3a <code>int</code>\uff0c\u7136\u540e\u6267\u884c <code>int</code> \u7684\u52a0\u6cd5\uff0c\u5f97\u5230 <code>7</code>\uff1b\u5f97\u5230 <code>7</code> \u4e4b\u540e\u7684\u6b65\u9aa4\u5373\u4e3a\u8d4b\u503c\u8bed\u53e5 <code>si = 7</code>\uff0c\u548c\u4e0a\u65b9\u7684 <code>si = 4</code> \u7c7b\u4f3c\u3002\u8c03\u7528\u6784\u9020\u51fd\u6570\u6784\u9020\u4e86\u4ee5 <code>(int)7</code> \u4e3a\u53c2\u6570\u7684 <code>SmallInt(7)</code>\uff0c\u9690\u5f0f\u5730\u5c06 <code>7</code> \u8f6c\u6362\u6210 <code>SmallInt</code> \u7c7b\u578b\uff0c\u4e4b\u540e\u518d\u8c03\u7528\u7f16\u8bd1\u5668\u81ea\u52a8\u751f\u6210\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002\u60c5\u51b5\u4e8c\uff0c\u628a <code>3</code> \u8f6c\u4e3a <code>SmallInt</code> \u518d\u548c <code>si</code> \u76f8\u52a0\u3002\u8fd9\u5c31\u6709\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u6ca1\u6709\u663e\u5f0f\u5730\u91cd\u8f7d <code>SmallInt</code> \u7684 <code>+</code> \u8fd0\u7b97\u7b26\uff0c\u6545\u800c\u65e0\u6cd5\u8fd9\u4e2a\u8f6c\u6362\u5373\u662f\u5b8c\u6210\u4e86\uff0c\u4e5f\u65e0\u6cd5\u7ee7\u7eed\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u6211\u4eec\u5728\u6b64\u57fa\u7840\u4e0a\u91cd\u8f7d\u4e86 <code>SmallInt</code> \u7684 <code>+</code> \u8fd0\u7b97\u7b26\uff0c\u6211\u4eec\u4e0d\u4ec5\u6709 <code>SmallInt</code> \u8f6c\u4e3a <code>int</code> \u7136\u540e\u4e24\u4e2a <code>int</code> \u76f8\u52a0\u518d\u6784\u9020 <code>SmallInt(7)</code> \u518d\u8d4b\u503c\u8fd9\u6761\u8def\uff0c\u540c\u65f6\u8fd8\u6709 <code>3</code> \u5229\u7528\u6784\u9020\u51fd\u6570\u9690\u5f0f\u8f6c\u4e3a <code>SmallInt</code> \u4e4b\u540e\u4e24\u4e2a <code>SmallInt</code> \u76f8\u52a0\uff0c\u518d\u8d4b\u503c\u7ed9 <code>si</code> \u8fd9\u6761\u8def\u3002\u4f1a\u51fa\u73b0\u8def\u5f84\u6b67\u4e49\u800c\u7f16\u8bd1\u9519\u8bef\u3002\u5982\u4f55\u53ea\u8fdb\u884c\u7b2c\u4e8c\u6761\u8def\uff0c\u6211\u4eec\u901a\u8fc7\u4e0b\u4e00\u4f8b\u6765\u5b9e\u73b0\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass SmallInt {\npublic:\n    SmallInt(int i = 0): val(i) {\n        cout &lt;&lt; \"SmallInt_Init\" &lt;&lt; endl;\n    }\n\n    SmallInt&amp; operator=(const SmallInt&amp; src) {\n        if (this == &amp;src) return *this;\n        cout &lt;&lt; \"operator=\" &lt;&lt; endl;\n        this-&gt;val = src.val;\n        return *this;\n    }\n\n    SmallInt operator+(const SmallInt&amp; b) {\n        cout &lt;&lt; \"operator+\" &lt;&lt; endl;\n        return SmallInt(this-&gt;val + b.val);\n    }\n\nprivate:\n    size_t val;\n};\n\nint main() {\n    SmallInt si;\n    si = 4.10;\n    si = si + 3;\n    return 0;\n}\n\n/*\noutput:\nSmallInt_Init\nSmallInt_Init\noperator=\nSmallInt_Init\noperator+\nSmallInt_Init\noperator=\n*/\n</code></pre> <p>\u8fd9\u4e00\u4f8b\u5b50\u9a8c\u8bc1\u4e86\u4e4b\u524d\u7684\u7406\u89e3\u3002\u6211\u4eec\u6709\u4e86 <code>si = SmallInt(4)</code> \u5bf9\u5e94\u7684 <code>=</code> \u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u91cd\u8f7d\u7684\u8f93\u51fa\u3002\u5728 <code>si = si + 3</code> \u8fd9\u4e00\u6b65\uff0c\u9996\u5148\u628a <code>3</code> \u8f6c\u4e3a\u4e86 <code>SmallInt(3)</code>\uff0c\u63a5\u7740\u5229\u7528\u4e86 <code>operator+</code>\u3002\u6ce8\u610f\u5230 <code>operator+</code> \u7684\u8fd4\u56de\u503c\u518d\u6b21\u8c03\u7528\u4e86\u6784\u9020\u51fd\u6570\uff0c\u63a5\u7740\u628a\u8fd4\u56de\u503c\u62f7\u8d1d\u8d4b\u503c\u7ed9 <code>si</code>\u3002</p> <p>\u4f46\u662f\u8fd9\u662f\u5982\u4f55\u907f\u514d\u4e86\u8def\u5f84\u6b67\u4e49\u5462\uff1f\u6ce8\u610f\u5230\u6211\u4eec\u5220\u9664\u4e86\u4ece <code>SmallInt</code> \u8f6c\u4e3a <code>int</code> \u7684\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\uff0c\u6545\u800c\u6ca1\u6709\u8def\u5f84\u4e00\uff0c\u53ea\u6709\u8def\u5f84\u4e8c\u3002</p>"},{"location":"languages/c-oop/reference-copy/#_38","title":"\u7981\u6b62\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362","text":"<p>\u5982\u679c\u7528 <code>explicit</code> \u4fee\u9970\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\u6216\u7c7b\u578b\u8f6c\u6362\u6784\u9020\u51fd\u6570\uff0c\u5219\u76f8\u5e94\u7684\u7c7b\u578b\u8f6c\u6362\u5fc5\u987b\u663e\u5f0f\u5730\u8fdb\u884c\u3002\u4f8b\u5982\uff1a</p> <pre><code>explicit operator Dst() const;\nexplicit Dst(const Src&amp; s);\n</code></pre> <p>\u5982\u679c\u4f7f\u7528 <code>explicit</code>\uff0c\u90a3\u4e48\uff1a</p> <pre><code>int main() {\n    Src s;\n    Dst d1(s); // \u53ef\u4ee5\u6267\u884c\uff0c\u88ab\u8ba4\u4e3a\u662f\u663e\u5f0f\u521d\u59cb\u5316\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/reference-copy/#_39","title":"\u56db\u7c7b\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362","text":"<ul> <li><code>const_cast</code>\uff0c\u53bb\u9664\u7c7b\u578b\u7684 <code>const</code> \u6216 <code>volatile</code> \u5c5e\u6027\u3002</li> <li><code>static_cast</code>\uff0c\u7c7b\u4f3c\u4e8e C \u98ce\u683c\u7684\u5f3a\u5236\u8f6c\u6362\u3002\u65e0\u6761\u4ef6\u8f6c\u6362\uff0c\u9759\u6001\u7c7b\u578b\u8f6c\u6362\u3002</li> <li><code>dynamic_cast</code>\uff0c\u52a8\u6001\u7c7b\u578b\u8f6c\u6362\uff0c\u5982\u6d3e\u751f\u7c7b\u548c\u57fa\u7c7b\u4e4b\u95f4\u7684\u591a\u6001\u7c7b\u578b\u8f6c\u6362\u3002</li> <li><code>reinterpret_cast</code>\uff0c\u4ec5\u4ec5\u91cd\u65b0\u89e3\u91ca\u7c7b\u578b\uff0c\u4f46\u6ca1\u6709\u8fdb\u884c\u4e8c\u8fdb\u5236\u7684\u8f6c\u6362\u3002</li> </ul> <p>\u4e4b\u524d\u7684\u4f8b\u5b50\u53ef\u4ee5\u91cd\u5199\u4e3a\uff1a</p> <pre><code>int main() {\n    Src s;\n    Dst d2 = static_cast&lt;Dst&gt;(s);\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/stl-and-string/","title":"STL \u548c\u5b57\u7b26\u4e32\u5904\u7406","text":""},{"location":"languages/c-oop/stl-and-string/#string","title":"<code>string</code> \u5b57\u7b26\u4e32\u7c7b","text":"<p>STL \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u65b9\u4fbf\u7684 <code>string</code> \u7c7b\u578b\uff1a</p> <ul> <li>\u5141\u8bb8\u7b80\u6d01\u7684\u62fc\u63a5\u64cd\u4f5c</li> </ul> <pre><code>string fullname = firstname + \" \" + lastname;\n</code></pre> <ul> <li>\u4e5f\u80fd\u591f\u4f7f\u7528\u60ef\u7528\u7684\u8f93\u5165\u8f93\u51fa\u65b9\u6cd5</li> </ul> <pre><code>std::cout &lt;&lt; fullname &lt;&lt; std::endl;\n</code></pre> <ul> <li>\u6784\u9020\u65b9\u5f0f</li> </ul> <pre><code>string s0(\"Initial string\"); // \u4ece C \u98ce\u683c\u5b57\u7b26\u4e32\u6784\u9020\nstring s1; // \u9ed8\u8ba4\u7a7a\u5b57\u7b26\u4e32\nstring s2(s0, 8, 3); // \u622a\u53d6\uff0cindex \u4ece 8 \u5f00\u59cb\uff0c\u957f\u5ea6\u4e3a 3\nstring s3(\"Another character sequence\", 12); // \u622a\u53d6\nstring s4(10, 'x'); // \u590d\u5236\u5b57\u7b26\nstring s5(s0.begin(), s0.begin() + 7); // \u590d\u5236\u622a\u53d6\nstr.c_str(); // \u8f6c\u6362\u4e3a C \u98ce\u683c\u5b57\u7b26\u4e32\n</code></pre> <ul> <li>\u8fed\u4ee3\u5668</li> </ul> <pre><code>// \u65b9\u5f0f\u4e00\n#include &lt;string&gt;\n#include &lt;iostream&gt;\nint main() {\n    std::string sample = \"Kanashi koto wa kitto owaru darou\";\n    for (auto it = sample.begin(); it != sample.end(); it++) {\n        std::cout &lt;&lt; *it &lt;&lt; std::endl;\n    }\n    return 0;\n}\n\n// \u65b9\u5f0f\u4e8c\nfor (char c: sample) {\n    std::cout &lt;&lt; c &lt;&lt; std::endl;\n}\n</code></pre> <ul> <li>\u5e38\u89c1\u51fd\u6570</li> </ul> <pre><code>cout &lt;&lt; str[1]; // \u8bbf\u95ee\u5143\u7d20\nstr[1] = 'a'; // \u4fee\u6539\u5143\u7d20\nstr.size() // \u67e5\u8be2\u957f\u5ea6\nstr.clear() // \u6e05\u7a7a \nstr.empty() // \u67e5\u8be2\u662f\u5426\u4e3a\u7a7a\nstr.push_back('a');\nstr.append(s2); // \u5411\u5c3e\u90e8\u589e\u52a0\n\n// \u76f4\u63a5\u6309\u7167\u5b57\u5178\u5e8f\u6765\u6bd4\u8f83\nstring a = \"alice\", b = \"bob\";\na == b // false\na &lt; b  // true\n</code></pre> <ul> <li>\u7c7b\u578b\u8f6c\u6362</li> </ul> <pre><code>// \u6570\u503c\u7c7b\u578b\u5b57\u7b26\u4e32\u5316\nto_string(1); // \"1\"\nto_string(3.14); // \"3.14\"\nto_string(3.1415926); // \"3.141593\"\uff0c\u6ce8\u610f\u7cbe\u5ea6\u635f\u5931\nto_string(1 + 2 + 3); // \"6\"\n\n// \u5b57\u7b26\u4e32\u8f6c\u6570\u503c\u7c7b\u578b\nint a = stoi(\"2001\"); // a = 2001\nstd::string::size_type sz; // size_t alias\nint b = stoi(\"50 cats\", &amp;sz); // b = 50 sz = 2\nint c = stoi(\"40c3\", nullptr, 16); // c = 0x40c3\uff0c\u5341\u516d\u8fdb\u5236\nint d = stoi(\"0x7f\", nullptr, 0); // d = 0x7f\uff0c\u81ea\u52a8\u68c0\u67e5\u8fdb\u5236\ndouble e = stod(\"34.5\"); // e = 34.5\n</code></pre> <ul> <li> <p><code>std::string</code> \u548c <code>std::vector&lt;char&gt;</code> \u7684\u533a\u522b</p> <ul> <li> <p><code>string</code> \u53ef\u4ee5 <code>length()</code> \u6216\u8005 <code>size()</code> \u6765\u83b7\u53d6\u957f\u5ea6\uff0c\u4f46\u662f <code>vector</code> \u53ea\u6709 <code>size()</code> \u51fd\u6570\u3002</p> </li> <li> <p><code>string</code> \u53ef\u4ee5\u901a\u8fc7 <code>cin &gt;&gt; str</code> \u4ece\u6807\u51c6\u8f93\u5165\u8f93\u5165\u5b57\u7b26\u4e32\u3002</p> </li> <li> <p><code>string</code> \u53ef\u4ee5\u901a\u8fc7 <code>str += \"abc\"</code> \u5411\u5b57\u7b26\u4e32\u5c3e\u90e8\u6dfb\u52a0\u5b57\u7b26\u3002</p> </li> <li> <p>\u90fd\u53ef\u4ee5\u4f7f\u7528 <code>for (char c: str)</code> \u904d\u5386\u5b57\u7b26\u4e32\u4e2d\u7684\u6240\u6709\u5b57\u7b26\u3002</p> </li> </ul> </li> </ul>"},{"location":"languages/c-oop/stl-and-string/#iostream","title":"<code>iostream</code> \u8f93\u5165\u8f93\u51fa\u6d41","text":"<pre><code>cout &lt;&lt; str &lt;&lt; endl;\ncin &gt;&gt; str;\nostream&amp; operator&lt;&lt;(ostream&amp; out, const Test&amp; src) {\n    out &lt;&lt; src.id &lt;&lt; endl;\n    return out;\n} \n</code></pre> <p>\u57fa\u7c7b\uff1a<code>istream</code> \u548c <code>ostream</code>\uff0c\u800c <code>iostream</code> \u662f\u6d3e\u751f\u7c7b\u3002<code>cin</code>\u3001<code>cout</code> \u662f\u5177\u4f53\u7684\u5bf9\u8c61\u3002<code>ifstream</code>\u3001<code>ofstream</code>\u3001<code>fstream</code> \u90fd\u662f\u9762\u5411\u6587\u4ef6\u7684\u8f93\u5165\u8f93\u51fa\u6d41\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5b57\u7b26\u4e32\u6765\u5b9a\u4e49\u4ea4\u4e92\u65b9\u5f0f\uff0c\u6bd4\u5982 <code>sstream</code>\u3002</p> <ul> <li><code>ostream</code> \u5373 output stream\uff0c\u662f STL \u5e93\u4e2d\u6240\u6709\u8f93\u51fa\u6d41\u7684\u57fa\u7c7b</li> </ul> <p>\u5b83\u91cd\u8f7d\u4e86\u9488\u5bf9\u57fa\u7840\u7c7b\u578b\u7684\u8f93\u51fa\u6d41\u8fd0\u7b97\u7b26\uff0c\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\uff0c\u518d\u8c03\u7528\u7cfb\u7edf\u51fd\u6570\u8fdb\u884c\u8f93\u51fa\u3002\u7edf\u4e00\u4e86\u8f93\u51fa\u63a5\u53e3\uff0c\u6539\u5584\u4e86 C \u4e2d\u8f93\u51fa\u65b9\u5f0f\u6df7\u4e71\u7684\u72b6\u51b5\uff0c\u6bd4\u5982 C \u4e2d\u9700\u8981\u7528\u6237\u5173\u5fc3\u975e\u5e38\u591a\u7684\u5185\u5bb9\uff0c\u624b\u52a8\u8bbe\u7f6e\u8f93\u51fa\u7c7b\u578b\uff0c\u5e38\u5e38\u51fa\u9519\u3002</p> <pre><code>printf(\"%d %f %s\", 1, 2.3, \"hello\");\n</code></pre> <p><code>cout</code> \u662f STL \u4e2d\u5185\u5efa\u7684\u4e00\u4e2a <code>ostream</code> \u5bf9\u8c61\uff0c\u5b83\u4f1a\u5c06\u6570\u636e\u9001\u5230\u6807\u51c6\u8f93\u51fa\u6d41\uff08\u4e00\u822c\u662f\u5c4f\u5e55\uff09\u3002</p> <pre><code>class ostream {\npublic:\n    ostream&amp; operator&lt;&lt;(char c) {\n        printf(\"%c\", c);\n        return *this;\n    }\n\n    ostream&amp; operator&lt;&lt;(const char* str) {\n        printf(\"%s\", str);\n        return *this;\n    }\n} cout;\n</code></pre> <p>\u8bed\u53e5 <code>cout &lt;&lt; \"hello\" &lt;&lt; ' ' &lt;&lt; \"world\"</code> \u5148\u6267\u884c <code>cout &lt;&lt; \"hello\"</code> \u8c03\u7528\u7b2c\u4e8c\u4e2a\u51fd\u6570\uff0c\u8fd4\u56de <code>c1</code>\uff08<code>cout</code> \u7684\u5f15\u7528\uff09\u3002\u518d\u6267\u884c <code>c1 &lt;&lt; ' '</code> \u8c03\u7528\u7b2c\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd4\u56de <code>c2</code>\uff08<code>cout</code> \u7684\u5f15\u7528\uff09\u3002\u6700\u540e\u6267\u884c <code>c2 &lt;&lt; \"world\"</code> \u8c03\u7528\u7b2c\u4e8c\u4e2a\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/stl-and-string/#_1","title":"\u683c\u5f0f\u5316\u8f93\u51fa","text":"<pre><code>#include &lt;iomanip&gt;\ncout &lt;&lt; fixed &lt;&lt; 2018.0 &lt;&lt; \" \" &lt;&lt; 0.0001 &lt;&lt; endl; // \u56fa\u5b9a\u5c0f\u6570\u4f4d\u6570\ncout &lt;&lt; scientific &lt;&lt; 2018.0 &lt;&lt; \" \" &lt;&lt; 0.0001 &lt;&lt; endl; // \u79d1\u5b66\u8ba1\u6570\u6cd5\ncout &lt;&lt; defaultfloat;  // \u8fd8\u539f\u9ed8\u8ba4\u8f93\u51fa\u683c\u5f0f\ncout &lt;&lt; setprecision(2) &lt;&lt; 3.1415926 &lt;&lt; endl; // \u8f93\u51fa\u7cbe\u5ea6\u8bbe\u7f6e\u4e3a 2\ncout &lt;&lt; oct &lt;&lt; 12 &lt;&lt; \" \" &lt;&lt; hex &lt;&lt; 12 &lt;&lt; endl; // \u516b\u8fdb\u5236\u8f93\u51fa\u4e0e\u5341\u516d\u8fdb\u5236\u8f93\u51fa\ncout &lt;&lt; dec; // \u8fd8\u539f\u5341\u8fdb\u5236\ncout &lt;&lt; setw(3) &lt;&lt; setfill('*') &lt;&lt; 5 &lt;&lt; endl; // \u8bbe\u7f6e\u5bf9\u9f50\u957f\u5ea6\u4e3a 3\uff0c\u5bf9\u9f50\u5b57\u7b26\u4e3a *\n</code></pre> <p>\u81ea\u5df1\u5b9e\u73b0\uff1a</p> <pre><code>class setprecision {\nprivate:\n    int precision;\npublic:\n    setprecision(int p): precision(p) { }\n    friend class ostream;\n};\n\n// \u51fd\u6570\u7c7b\nclass ostream {\nprivate:\n    int precision; // \u8bb0\u5f55\u6d41\u7684\u72b6\u6001\npublic:\n    ostream&amp; operator&lt;&lt;(const setprecision &amp;m) {\n        precision = m.precision;\n        return *this;\n    }\n} cout;\n\ncout &lt;&lt; setprecision(2);\n</code></pre> <p>\u501f\u52a9\u8f85\u52a9\u7c7b\uff0c\u8bbe\u7f6e\u6210\u5458\u53d8\u91cf\u3002\u8fd9\u79cd\u7c7b\u53eb\u6d41\u64cd\u7eb5\u7b97\u5b50\u3002</p> <p>\u4e3a\u4ec0\u4e48\u91cd\u8f7d\u6d41\u8fd0\u7b97\u7b26\u8981\u8fd4\u56de\u5f15\u7528\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u8fd4\u56de <code>cout</code>\uff1f</p> <p>\u59cb\u7ec8\u5728\u7528\u540c\u4e00\u4e2a\u8f93\u51fa\u6d41\u5bf9\u8c61 <code>cout</code>\uff0c\u6ca1\u6709\u6784\u9020\u65b0\u7684 <code>ostream</code>\u3002</p> <pre><code>ostream(const ostream&amp;) = delete;\nostream(ostream&amp;&amp; x);\n</code></pre> <p>\u7981\u6b62\u590d\u5236\u3001\u53ea\u5141\u8bb8\u79fb\u52a8\uff0c\u4ec5\u4f7f\u7528 <code>cout</code> \u4e00\u4e2a\u5168\u5c40\u5bf9\u8c61\u3002</p> <ul> <li>\u4e3a\u4ec0\u4e48\u53ea\u80fd\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\uff1f<ul> <li>\u51cf\u5c11\u590d\u5236\u5f00\u9500</li> <li>\u4e00\u4e2a\u5bf9\u8c61\u5bf9\u5e94\u4e00\u4e2a\u6807\u51c6\u8f93\u51fa\uff0c\u7b26\u5408 OOP \u601d\u60f3</li> <li>\u591a\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u65e0\u6cd5\u540c\u6b65\u8f93\u51fa\u72b6\u6001</li> </ul> </li> <li>\u662f\u5426\u80fd\u505a\u5f97\u66f4\u597d\uff1f<ul> <li>\u5168\u5c40\u5bf9\u8c61\u5f80\u5f80\u5f15\u5165\u521d\u59cb\u5316\u987a\u5e8f\u95ee\u9898</li> <li>\u5355\u4ef6\u6a21\u5f0f\uff08Singleton Pattern\uff09\uff0c\u5728\u4e4b\u540e\u7684\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u4f1a\u4ecb\u7ecd</li> </ul> </li> </ul>"},{"location":"languages/c-oop/stl-and-string/#_2","title":"\u6587\u4ef6\u8f93\u5165\u8f93\u51fa\u6d41","text":"<p>\u4ee5\u6587\u4ef6\u8f93\u5165\u6d41\u4f5c\u4e3a\u4f8b\u5b50\uff1a<code>ifstream</code> \u662f <code>istream</code> \u7684\u5b50\u7c7b\uff0c\u529f\u80fd\u662f\u4ece\u6587\u4ef6\u4e2d\u8bfb\u5165\u6570\u636e\u3002</p> <p>\u6253\u5f00\u6587\u4ef6\uff1a</p> <pre><code>ifstream ifs(\"input.txt\");\nifstream ifs(\"binary.bin\", ifstream::binary); // \u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u6253\u5f00\u6587\u4ef6\nifstream ifs; // \u5148\u521b\u5efa\u4e00\u4e2a sfstream \u7c7b\u7684\u5bf9\u8c61\nifs.open(\"file\");\nifs.close();\n</code></pre> <p>\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cctype&gt;\n#include &lt;fstream&gt;\nusing namespace std;\n\nint main() {\n    ifstream ifs(\"input.txt\");\n    while (ifs) { // \u5224\u65ad\u6587\u4ef6\u662f\u5426\u5230\u672b\u5c3e\uff0c\u5229\u7528\u4e86\u91cd\u8f7d\u7684 bool \u8fd0\u7b97\u7b26\n        ifs &gt;&gt; ws; // \u9664\u53bb\u524d\u5bfc\u7a7a\u683c ws \u4e5f\u662f\u6d41\u64cd\u7eb5\u7b97\u5b50\n        int c = ifs.peek(); // \u68c0\u67e5\u4e0b\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u4e0d\u8bfb\u53d6\n        if (c == EOF) break;\n        if (isdigit(c)) {\n            int n;\n            ifs &gt;&gt; n;\n            cout &lt;&lt; \"Read a number: \" &lt;&lt; n &lt;&lt; endl;\n        } else {\n            string str;\n            ifs &gt;&gt; str;\n            cout &lt;&lt; \"Read a word: \" &lt;&lt; str &lt;&lt; endl;\n        }\n    }\n}\n</code></pre> <p>\u8f85\u52a9\u51fd\u6570\uff1a</p> <pre><code>getline(cin, str);\n\n/* \u5176\u4ed6\u64cd\u4f5c */\nget(); // \u8bfb\u53d6\u4e00\u4e2a\u5b57\u7b26\nignore(int n = 1, int delim = EOF); // \u4e22\u5f03 n \u4e2a\u5b57\u7b26\uff0c\u6216\u8005\u76f4\u81f3\u9047\u5230 delim \u5206\u9694\u7b26\npeek(); // \u67e5\u770b\u4e0b\u4e00\u4e2a\u5b57\u7b26\nputback(char c); // \u8fd4\u8fd8\u4e00\u4e2a\u5b57\u7b26\nunget(); // \u8fd4\u8fd8\u4e00\u4e2a\u5b57\u7b26\n</code></pre> <ul> <li>\u4e3a\u4ec0\u4e48 C++ \u4f7f\u7528\u6d41\u8f93\u5165\u53d6\u4ee3\u4e86 <code>scanf</code>\uff1f</li> </ul> <p><code>scanf</code> \u4e0d\u53cb\u597d\uff0c\u4e0d\u540c\u7c7b\u578b\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u3002</p> <p>\u5bf9\u6bd4\uff1a</p> <pre><code>scanf(\"%d %hd %f %lf %s\", &amp;i, &amp;s, &amp;f, &amp;d, name);\ncin &gt;&gt; i &gt;&gt; s &gt;&gt; f &gt;&gt; d &gt;&gt; name;\n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li>\u5b89\u5168\u6027\uff1a<code>scanf(\"%d %d\", &amp;a)</code> \u53ef\u80fd\u5199\u5165\u975e\u6cd5\u5185\u5b58\uff1b</li> <li>\u53ef\u62d3\u5c55\u6027\uff1a<code>cin &gt;&gt; obj</code> \u53ef\u91cd\u8f7d\u6d41\u64cd\u4f5c\u8fd0\u7b97\u7b26</li> <li>\u6027\u80fd\uff1a<code>scanf</code> \u5728\u8fd0\u884c\u671f\u95f4\u9700\u8981\u5bf9\u683c\u5f0f\u5b57\u7b26\u4e32\u8fdb\u884c\u89e3\u6790\uff0c<code>istream</code> \u5728\u7f16\u8bd1\u671f\u95f4\u5df2\u7ecf\u89e3\u6790\u5b8c\u6bd5</li> </ul>"},{"location":"languages/c-oop/stl-and-string/#_3","title":"\u5b57\u7b26\u4e32\u6d41","text":"<p>\u4ee5\u8f93\u5165\u8f93\u51fa\u6d41\u4f5c\u4e3a\u4f8b\u5b50\uff1a</p> <ul> <li><code>stringstream</code> \u662f <code>iostream</code> \u7684\u5b50\u7c7b</li> <li><code>iostream</code> \u7ee7\u627f\u4e8e <code>istream</code> \u548c <code>ostream</code></li> <li><code>stringstream</code> \u5b9e\u73b0\u4e86\u8f93\u5165\u8f93\u51fa\u6d41\u53cc\u65b9\u7684\u63a5\u53e3</li> </ul> <pre><code>#include &lt;sstream&gt;\nusing namespace std;\n\nint main() {\n    stringstream ss;\n    ss &lt;&lt; \"10\"; // \u5c06 10 \u5b58\u5165 ss\n    ss &lt;&lt; \"0 200\";\n    int a, b;\n    ss &gt;&gt; a &gt;&gt; b; // a = 100, b = 200\n}\n</code></pre> <ul> <li>\u4ec0\u4e48\u662f\u8f93\u5165\uff0c\u4ec0\u4e48\u662f\u8f93\u51fa\uff1f</li> </ul> <p>\u4e3b\u4f53\u662f\u4f60\u7684\u7a0b\u5e8f\uff0c\u5ba2\u4f53\u662f\u4f60\u7684 <code>sstream</code>\u3001<code>ifstream</code>\u3002\u8f93\u5165\u8f93\u51fa\u662f\u76f8\u5bf9\u7a0b\u5e8f\u800c\u8a00\u7684\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/","title":"\u6a21\u677f\u8fdb\u9636\u4e0e STL \u5165\u95e8","text":""},{"location":"languages/c-oop/templates-and-intro-to-stl/#_1","title":"\u547d\u540d\u7a7a\u95f4","text":""},{"location":"languages/c-oop/templates-and-intro-to-stl/#_2","title":"\u5b9a\u4e49","text":"<p>\u4e3a\u4e86\u907f\u514d\u5728\u5927\u89c4\u6a21\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u4e2d\uff0c\u4ee5\u53ca\u5728\u7a0b\u5e8f\u5458\u4f7f\u7528\u5404\u79cd\u5404\u6837\u7684 C++ \u5e93\u65f6\uff0c\u6807\u8bc6\u7b26\u7684\u547d\u540d\u53d1\u751f\u51b2\u7a81\uff0c\u6807\u51c6 C++ \u5f15\u5165\u4e86\u5173\u952e\u5b57 <code>namespace</code>\uff08\u547d\u540d\u7a7a\u95f4\uff09\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u63a7\u5236\u6807\u8bc6\u7b26\u7684\u4f5c\u7528\u57df\u3002</p> <p>\u6807\u51c6 C++ \u5e93\uff08\u4e0d\u5305\u62ec\u6807\u51c6 C \u5e93\uff09\u4e2d\u6240\u5305\u542b\u7684\u6240\u6709\u5185\u5bb9\uff08\u5305\u62ec\u5e38\u91cf\u3001\u53d8\u91cf\u3001\u7ed3\u6784\u3001\u7c7b\u548c\u51fd\u6570\u7b49\uff09\u90fd\u88ab\u5b9a\u4e49\u5728\u547d\u540d\u7a7a\u95f4 <code>std</code>\uff08\u5373\u6807\u51c6\u547d\u540d\u7a7a\u95f4\uff09\u4e2d\u3002\u4f8b\u5982\uff1a<code>cout</code>\u3001<code>cin</code>\u3001<code>vector</code>\u3001<code>set</code>\u3001<code>map</code>\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c<code>namespace</code> \u672c\u8eab\u662f\u4e00\u79cd\u5173\u952e\u5b57\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u800c <code>std</code> \u4ec5\u4ec5\u662f\u5df2\u7ecf\u88ab\u5b9a\u4e49\u7684\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#_3","title":"\u4f8b\u5b50","text":""},{"location":"languages/c-oop/templates-and-intro-to-stl/#_4","title":"\u81ea\u5b9a\u4e49\u547d\u540d\u7a7a\u95f4","text":"<pre><code>namespace A {\n    int x, y;\n}\n</code></pre>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#_5","title":"\u4f7f\u7528\u547d\u540d\u7a7a\u95f4","text":"<pre><code>A::x = 3;\nA::y = 6;\n// \u5bf9\u4eba\u4e3a\u5b9a\u4e49\u7684\u547d\u540d\u7a7a\u95f4 A \u5185\u7684 x\u3001y \u8fdb\u884c\u8d4b\u503c\n</code></pre>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#using","title":"<code>using</code> \u7533\u660e","text":"<p>\u4f7f\u7528 <code>using</code> \u58f0\u660e\u7b80\u5316\u547d\u540d\u7a7a\u95f4\u4f7f\u7528\u3002</p> <pre><code>// \u4f7f\u7528\u6574\u4e2a\u547d\u540d\u7a7a\u95f4\uff1a\u6240\u6709\u6210\u5458\u90fd\u76f4\u63a5\u53ef\u7528\nusing namespace A;\nx = 3;\ny = 6;\n</code></pre> <p>\u4ee5\u53ca\uff1a</p> <pre><code>// \u4f7f\u7528\u90e8\u5206\u6210\u5458\uff1a\u6240\u9009\u6210\u5458\u53ef\u76f4\u63a5\u4f7f\u7528\nusing A::x;\nx = 3; A::y = 6;\n</code></pre> <p>\u4efb\u4f55\u60c5\u51b5\u4e0b\uff0c\u90fd\u4e0d\u5e94\u51fa\u73b0\u547d\u540d\u51b2\u7a81\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#stl_1","title":"STL \u521d\u6b65","text":""},{"location":"languages/c-oop/templates-and-intro-to-stl/#_6","title":"\u5b9a\u4e49","text":"<p>\u6807\u51c6\u6a21\u677f\u5e93\uff08\u82f1\u6587\uff1aStandard Template Library\uff0c\u7f29\u5199\uff1aSTL\uff09\uff0c\u662f\u4e00\u4e2a\u9ad8\u6548\u7684 C++ \u8f6f\u4ef6\u5e93\uff0c\u5b83\u88ab\u5bb9\u7eb3\u4e8e C++ \u6807\u51c6\u7a0b\u5e8f\u5e93 C++ Standard Library \u4e2d\u3002\u5176\u4e2d\u5305\u542b4\u4e2a\u7ec4\u4ef6\uff0c\u5206\u522b\u4e3a\u7b97\u6cd5\u3001\u5bb9\u5668\u3001\u51fd\u6570\u3001\u8fed\u4ee3\u5668\u3002\u8fd9\u4e9b\u90fd\u662f\u57fa\u4e8e\u6a21\u677f\u7f16\u5199\u800c\u6210\u3002</p> <p>\u5173\u952e\u7406\u5ff5\uff1a\u5c06\u201c\u5728\u6570\u636e\u4e0a\u6267\u884c\u7684\u64cd\u4f5c\u201d\u4e0e\u201c\u8981\u6267\u884c\u64cd\u4f5c\u7684\u6570\u636e\u201d\u5206\u79bb\u3002</p> <p>STL \u7684\u547d\u540d\u7a7a\u95f4\u662f <code>std</code>\uff0c\u4e00\u822c\u4f7f\u7528 <code>std::name</code> \u6765\u4f7f\u7528 STL \u7684\u51fd\u6570\u6216\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>using namespace std</code> \u6765\u5f15\u5165 STL \u7684\u547d\u540d\u7a7a\u95f4\u3002</p> <pre><code>using std::stringc; // \u4e0d\u63a8\u8350\u5728\u5927\u578b\u5de5\u7a0b\u4e2d\u4f7f\u7528\uff0c\u5bb9\u6613\u6c61\u67d3\u547d\u540d\u7a7a\u95f4\n</code></pre> <p>\u5173\u4e8e STL \u7684\u6587\u6863\u548c\u4f8b\u5b50\u53ef\u4ee5\u5728\u4ee5\u4e0b\u7f51\u5740\u67e5\u8be2 http://www.cplusplus.com/\u3002</p> <p>\u591a\u5199\u591a\u67e5\u591a\u7528\uff0c\u662f\u5b66\u4e60 STL \u5e93\u7684\u6700\u597d\u65b9\u6cd5\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#stl_2","title":"STL \u5bb9\u5668","text":"<p>\u5bb9\u5668\u662f\u5305\u542b\u3001\u653e\u7f6e\u6570\u636e\u7684\u5de5\u5177\u3002\u901a\u5e38\u4e3a\u6570\u636e\u7ed3\u6784\u3002\u5305\u62ec\uff1a</p> <ol> <li>\u7b80\u5355\u5bb9\u5668\uff08simple container\uff09</li> <li>\u5e8f\u5217\u5bb9\u5668\uff08sequence container\uff09</li> <li>\u5173\u7cfb\u5bb9\u5668\uff08associative container\uff09</li> </ol>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#pair","title":"<code>pair</code> \u5bb9\u5668","text":"<pre><code>// \u6700\u7b80\u5355\u7684\u5bb9\u5668\uff0c\u7531\u4e24\u4e2a\u5355\u72ec\u6570\u636e\u7ec4\u6210\ntemplate&lt;class T1, class T2&gt;\nstruct pair {\n    T1 first;\n    T2 second;\n    // \u82e5\u5e72\u5176\u5b83\u51fd\u6570\n};\n\n// \u901a\u8fc7 first\u3001second \u4e24\u4e2a\u6210\u5458\u53d8\u91cf\u83b7\u53d6\u6570\u636e\nstd::pair&lt;int, int&gt; t;\nt.first = 4;\nt.second = 5;\n</code></pre> <p>\u4e00\u4e9b\u8f85\u52a9\u51fd\u6570\uff1a</p> <pre><code>// \u521b\u5efa\uff1a\u4f7f\u7528\u51fd\u6570make_pair\nauto t = std::make_pair(\"abc\", 7.8);\n// \u81ea\u52a8\u63a8\u5bfc\u6210\u5458\u7c7b\u578b\n// \u6b64\u5904\u63a8\u5bfc\u51fa\u7684 t \u7684\u7c7b\u578b\u5c31\u662f pair \u7c7b\u578b\n</code></pre> <pre><code>// \u652f\u6301\u5c0f\u4e8e\u3001\u7b49\u4e8e\u7b49\u6bd4\u8f83\u8fd0\u7b97\u7b26\u3002\n// \u5148\u6bd4\u8f83 first\uff0c\u540e\u6bd4\u8f83 second\n// \u8981\u6c42\u6210\u5458\u7c7b\u578b\u652f\u6301\u6bd4\u8f83\nstd::make_pair(1, 4) &lt; std::make_pair(2, 3);\nstd::make_pair(1, 4) &gt; std::make_pair(1, 2);\n</code></pre> <pre><code>#include &lt;string&gt;\nint main() {\n    std::pair&lt;std::string, double&gt; p1(\"Alice\", 90.5); // \u624b\u5de5\u6307\u5b9a\u7c7b\u578b\u521d\u59cb\u5316\n    std::pair&lt;std::string, double&gt; p2;\n    p2.first = \"Bob\";\n    p2.second = 85.0; // \u5148\u5b9a\u4e49\uff0c\u518d\u8d4b\u503c\n    auto p3 = std::make_pair(\"David\", \"95.0\"); // \u81ea\u52a8\u63a8\u5bfc\u7c7b\u578b\u521d\u59cb\u5316\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#tuple","title":"<code>tuple</code> \u5bb9\u5668","text":"<p>C++11 \u65b0\u589e\uff0c\u8868\u793a\u7531\u82e5\u5e72\u6210\u5458\u7ec4\u6210\u7684\u5143\u7ec4\u7c7b\u578b\u3002</p> <pre><code>template&lt;class Types, ...&gt;\nclass tuple;\n</code></pre> <p>\u901a\u8fc7 <code>std::get</code> \u51fd\u6570\u83b7\u53d6\u6570\u636e\u3002</p> <pre><code>v0 = std::get&lt;0&gt;(tuple1);\nv1 = std::get&lt;1&gt;(tuple2);\n</code></pre> <p>\u5176\u4e0b\u6807\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\uff1a\u4e0d\u80fd\u8bbe\u5b9a\u8fd0\u884c\u65f6\u53ef\u53d8\u7684\u957f\u5ea6\uff0c\u4e0d\u80fd\u5f53\u505a\u52a8\u6001\u6570\u7ec4\u3002</p> <pre><code>int i = 0;\nv = std::get&lt;i&gt;(tuple); // \u7f16\u8bd1\u9519\u8bef\n</code></pre> <p>\u793a\u4f8b\u4ee3\u7801\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;tuple&gt;\nusing std::tuple;\nusing std::string;\n\nint main() {\n    std::tuple&lt;int, double, string&gt; t3 = {1, 2.0, \"3\"};\n    std::get&lt;0&gt;(t3) = 4;\n    std::cout &lt;&lt; std::get&lt;1&gt;(t3) &lt;&lt; std::endl;\n    std::cout &lt;&lt; std::get&lt;0&gt;(t3) &lt;&lt; std::endl;\n\n    int i;\n    double d;\n    string s;\n    std::tie(i, d, s) = t3;\n    i = 10;\n    std::cout &lt;&lt; i &lt;&lt; std::endl;\n    std::cout &lt;&lt; std::get&lt;0&gt;(t3) &lt;&lt; std::endl;\n}\n\n/*\noutput:\n2\n4\n10\n4\n*/\n</code></pre> <p>\u4ece\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c\u5b9e\u9645\u4e0a <code>get</code> \u51fd\u6570\u8fd4\u56de\u7684\u662f <code>tuple</code> \u7684\u67d0\u4e2a\u5143\u7d20\u7684\u5de6\u503c\u5f15\u7528\uff0c\u53ef\u4ee5\u8d4b\u503c\uff0c\u4e5f\u53ef\u4ee5\u88ab\u8f93\u51fa\u3002\u800c <code>tie</code> \u51fd\u6570\u5b9e\u9645\u4e0a\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u4ec5\u4ec5\u662f\u5b8c\u6210\u4e86\u5bf9\u5e94\u7684\u7b80\u5355\u8d4b\u503c\uff0c\u5e76\u4e0d\u662f\u751f\u6210\u5de6\u503c\u5f15\u7528\uff0c\u6539\u53d8 <code>i</code> \u5e76\u4e0d\u80fd\u6539\u53d8 <code>tuple</code>\u3002</p> <p><code>tuple</code> \u7684\u610f\u4e49\uff0c\u7528\u4e8e\u51fd\u6570\u591a\u8fd4\u56de\u503c\u4f20\u9012\uff1a</p> <pre><code>#include &lt;tuple&gt;\n#include &lt;iostream&gt;\n\nstd::tuple&lt;int, double&gt; f(int x) { \n    return std::make_tuple(x, double(x) / 2);\n}\n\nint main() {\n    int xval; \n    double half_x;\n    std::tie(xval, half_x) = f(7);\n    std::cout &lt;&lt; xval &lt;&lt; std::endl;\n    return 0;\n}\n\n/*\noutput:\n7\n*/\n</code></pre> <p>\u4f5c\u4e3a <code>tuple</code> \u7684\u7279\u4f8b\uff0c<code>pair</code> \u53ef\u7528\u4e8e\u4e24\u4e2a\u8fd4\u56de\u503c\u7684\u4f20\u9012\u3002\u9664\u6b64\u4e4b\u5916\uff0c<code>pair</code> \u5728 <code>map</code> \u4e2d\u5927\u91cf\u4f7f\u7528\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#vector","title":"<code>vector</code> \u5bb9\u5668","text":"<p>\u4f1a\u81ea\u52a8\u6269\u5c55\u5bb9\u91cf\u7684\u6570\u7ec4\uff0c\u4ee5\u5faa\u5e8f\u7684\u65b9\u5f0f\u7ef4\u62a4\u53d8\u91cf\u96c6\u5408\u3002        </p> <pre><code>template&lt;class T, class Allocator = std::allocator&lt;T&gt;&gt; \nclass vector;\n</code></pre> <p>STL \u4e2d\u6700\u57fa\u672c\u7684\u5e8f\u5217\u5bb9\u5668\uff0c\u63d0\u4f9b\u6709\u6548\u3001\u5b89\u5168\u7684\u6570\u7ec4\u4ee5\u66ff\u4ee3 C \u8bed\u8a00\u4e2d\u539f\u751f\u6570\u7ec4\u3002\u5141\u8bb8\u76f4\u63a5\u4ee5\u4e0b\u6807\u8bbf\u95ee\uff0c\u8bbf\u95ee\u901f\u5ea6\u5feb\uff1a</p> <pre><code>#include &lt;vector&gt;\nusing namespace std;\nint main() {\n    std::vector&lt;int&gt; x; // \u521b\u5efa\n    x.size(); // \u83b7\u53d6\u5f53\u524d\u6570\u7ec4\u957f\u5ea6\n    x.clear(); // \u6e05\u7a7a\n    x.push_back(1); // \u5728\u672b\u5c3e\u6dfb\u52a0 1\n    x.pop_back(); // \u5220\u9664\n    x.insert(x.begin() + 1, 5); // \u5728\u4e2d\u95f4\u6dfb\u52a0\uff08\u4f4e\u901f\uff09\n    x.erase(x.begin() + 1); // \u5728\u4e2d\u95f4\u5220\u9664\uff08\u4f4e\u901f\uff09\n    return 0;\n}\n</code></pre>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#_7","title":"\u8fed\u4ee3\u5668","text":"<p>\u4e00\u79cd\u68c0\u67e5\u5bb9\u5668\u5185\u5143\u7d20\u5e76\u904d\u5386\u5143\u7d20\u7684\u6570\u636e\u7c7b\u578b\u3002</p> <ul> <li> <p>\u63d0\u4f9b\u4e00\u79cd\u65b9\u6cd5\u987a\u5e8f\u8bbf\u95ee\u4e00\u4e2a\u805a\u5408\u5bf9\u8c61\u4e2d\u5404\u4e2a\u5143\u7d20, \u800c\u53c8\u4e0d\u9700\u66b4\u9732\u8be5\u5bf9\u8c61\u7684\u5185\u90e8\u8868\u793a\u3002</p> </li> <li> <p>\u4e3a\u904d\u5386\u4e0d\u540c\u7684\u805a\u5408\u7ed3\u6784\uff08\u9700\u62e5\u6709\u76f8\u540c\u7684\u57fa\u7c7b\uff09\u63d0\u4f9b\u4e00\u4e2a\u7edf\u4e00\u7684\u63a5\u53e3\u3002</p> </li> <li> <p>\u5bf9\u904d\u5386\u5143\u7d20\u4f7f\u7528\u7c7b\u4f3c\u6307\u9488\u3002</p> </li> </ul> <p>\u4ee5 <code>vector</code> \u4e3a\u4f8b\uff1a</p> <pre><code>vector&lt;int&gt;::iterator iter;\n</code></pre> <p>\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>iter</code> \u7684\u53d8\u91cf\uff0c\u5b83\u7684\u6570\u636e\u7c7b\u578b\u662f\u7531 <code>vector&lt;int&gt;</code> \u5b9a\u4e49\u7684 <code>iterator</code> \u7c7b\u578b\u3002</p> <pre><code>x.begin();\nx.end();\n</code></pre> <p><code>begin</code> \u8fd4\u56de <code>vector</code> \u4e2d\u521d\u59cb\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668\uff08\u6307\u9488\uff09\uff0c\u5373 <code>x[0]</code>\u3002</p> <p><code>end</code> \u51fd\u6570\u8fd4\u56de <code>x[x.size()]</code>\uff0c\u6ce8\u610f\u5230 <code>x.size()</code> \u5bf9\u5e94\u7684\u4e0d\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u800c\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e4b\u540e\u3002</p> <p>\u6545\u800c\u7ed3\u5408 <code>begin()</code> \u548c <code>end()</code> \u80fd\u591f\u5b9e\u73b0\u904d\u5386\u6240\u6709\u5143\u7d20\uff0c\u5373\u904d\u5386\u4e00\u4e2a <code>[0, size())</code>\u200b \u5de6\u95ed\u53f3\u5f00\u533a\u95f4\u3002</p> <p>\u8fed\u4ee3\u5668\u4e00\u822c\u5141\u8bb8\u7684\u64cd\u4f5c\uff1a</p> <pre><code>++iter;\n--iter;\niter += n;\niter -= n; // \u8fed\u4ee3\u5668\u79fb\u52a8\nint dist = iter1 - iter2; // \u8fd4\u56de\u5143\u7d20\u4f4d\u7f6e\u5dee\n*iter = 5; // * \u662f\u89e3\u5f15\u7528\u8fd0\u7b97\u7b26\uff0c\u8fd4\u56de\u7684\u662f\u5de6\u503c\u5f15\u7528\n</code></pre> <p>\u90a3\u4e48\uff0c\u5982\u4f55\u5229\u7528 <code>iterator</code> \u904d\u5386 <code>vector</code> \u5462\uff1f</p> <p>\u56e0\u4e3a <code>end()</code> \u4e0d\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u800c\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e4b\u540e\u7684\u4f4d\u7f6e\uff0c\u8be5\u4ee3\u7801\u53ef\u4ee5\u904d\u5386 <code>vec</code> \u4e2d\u6240\u6709\u5143\u7d20\uff1a</p> <pre><code>for (vector&lt;int&gt;::iterator it = vec.begin(); it != vec.end(); ++it) { }\n\n// \u4e5f\u53ef\u4ee5\u7528 auto \u7b80\u5316\u4ee3\u7801\uff0c\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u5bfc it \u662f vec \u7684 iterator\nfor (auto it = vec.begin(); it != vec.end(); ++it) { }\n\n// \u8fd8\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\u904d\u5386\nfor (auto x: vec) { }\n</code></pre> <p>\u8865\u5145\uff1a\u53cd\u5411\u904d\u5386\u5668\u8fed\u4ee3\u6574\u4e2a <code>vector</code>\uff1a</p> <pre><code>for (auto zex = vec.rbegin(); zex != vec.rend(); zex++) {\n    std::cout &lt;&lt; *zex &lt;&lt; std::endl;\n}\n</code></pre> <p>\u8fd9\u4e2a\u8bed\u6cd5\u5229\u7528 <code>rbegin</code> \u4e0e <code>rend</code> \u5b9e\u73b0\u4e86\u4ece\u540e\u5f80\u524d\u904d\u5386\u6574\u4e2a <code>vec</code> \u51fd\u6570\uff0c\u6ce8\u610f\u5bf9\u4e8e <code>zex</code> \u4ecd\u7136\u662f\u91c7\u7528 <code>++</code> \u8fd0\u7b97\u7b26\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#_8","title":"\u8fed\u4ee3\u5668\u5931\u6548","text":"<p>\u5f53\u8fed\u4ee3\u5668\u4e0d\u518d\u6307\u5411\u672c\u5e94\u6307\u5411\u7684\u5143\u7d20\u65f6\uff0c\u79f0\u6b64\u8fed\u4ee3\u5668\u5931\u6548\u3002\u8fd9\u5e76\u4e0d\u662f\u6307\u6307\u9488\u672c\u8eab\u51fa\u4e86\u95ee\u9898\uff0c\u800c\u662f\u6307\u5411\u4e0d\u518d\u6b63\u786e\u3002</p> <ul> <li> <p>\u8c03\u7528 <code>insert</code>\u3001<code>erase</code> \u540e\uff0c\u6240\u4fee\u6539\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668\u3001\u4ee5\u53ca\u8be5\u4f4d\u7f6e\u4e4b\u540e\u7684\u6240\u6709\u8fed\u4ee3\u5668\u5931\u6548\u3002</p> </li> <li> <p>\u8c03\u7528 <code>push_back</code> \u7b49\u4fee\u6539 <code>vector</code> \u5927\u5c0f\u7684\u65b9\u6cd5\u65f6\uff0c\u5982\u679c <code>vector</code> \u6070\u597d\u8fbe\u5230\u4e86 <code>capacity</code> \u4e0a\u9650\uff0c\u7f16\u8bd1\u5668\u4f1a\u7ed9 <code>voctor</code> \u6269\u5bb9\u3002\u6269\u5bb9\u540e\u6574\u4e2a <code>vector</code> \u4f1a\u53d1\u751f\u7a7a\u95f4\u6574\u4f53\u8fc1\u79fb\uff0c\u4f46\u662f\u8fed\u4ee3\u5668\u4ecd\u7136\u6307\u5411\u4e4b\u524d\u7684\u5185\u5b58\uff0c\u4ece\u800c\u4f1a\u4f7f\u6240\u6709\u8fed\u4ee3\u5668\u5931\u6548\u3002</p> </li> </ul> <p>\u81ea\u52a8\u6269\u5bb9</p> <p><code>vector</code> \u662f\u4f1a\u81ea\u52a8\u6269\u5c55\u5bb9\u91cf\u7684\u6570\u7ec4\uff0c\u9664\u4e86 <code>size</code>\uff0c\u53e6\u4fdd\u5b58 <code>capacity</code>\uff1a\u6700\u5927\u5bb9\u91cf\u9650\u5236\u3002</p> <p>\u5982\u679c <code>size</code> \u8fbe\u5230\u4e86 <code>capacity</code>\uff0c\u5219\u53e6\u7533\u8bf7\u4e00\u7247\u4e24\u500d\u4e8e <code>capacity</code> \u7684\u7a7a\u95f4\uff0c\u5e76\u6574\u4f53\u8fc1\u79fb <code>vector</code> \u7684\u5185\u5bb9\u3002</p> <p>\u8fd9\u4e00\u8fc7\u7a0b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\u5747\u644a O(1)\uff0c\u5e76\u4e14\u6574\u4f53\u8fc1\u79fb\u8fc7\u7a0b\u4f7f\u6240\u6709\u8fed\u4ee3\u5668\u5931\u6548\u3002</p> <p>\u6bcf\u6b21\u4ee5\u4e24\u500d\u4e3a\u5355\u4f4d\u6269\u5bb9\u5b9e\u9645\u4e0a\u662f\u6ee1\u8db3\u4e86\u5806\u4f18\u5316\uff0c\u662f\u4e00\u4e2a\u5f88\u4f18\u7684\u6269\u5bb9\u9009\u62e9\uff0c\u5c06\u5728\u6570\u636e\u7ed3\u6784\u4e2d\u5177\u4f53\u5b66\u4e60\u3002</p> <ul> <li>\u56e0\u4e3a\u6269\u5bb9\u5bfc\u81f4\u7684\u8fed\u4ee3\u5668\u5931\u6548\u200b</li> </ul> <p>\u5728\u904d\u5386\u7684\u65f6\u5019\u589e\u52a0\u5143\u7d20\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fed\u4ee3\u5668\u5931\u6548\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\nint main() {   \nvector&lt;int&gt; vec = {1, 2, 3, 4, 5};\n    for (auto it = vec.begin(); it != vec.end(); ++it)\n        vec.push_back(*it);\n    return 0;\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u4f1a\u4f7f <code>vec</code> \u53d8\u6210 <code>123451234512345...</code>\u3002\u76f4\u5230 <code>vec</code> \u8fbe\u5230 <code>capacity</code> \u4e0a\u9650\uff0c\u6b64\u65f6 <code>it</code> \u5931\u6548\uff0c\u51fa\u73b0 error\u3002</p> <p>\u5176\u5b9e\u8fd9\u79cd\u60c5\u51b5\u86ee\u597d\u7406\u89e3\u7684\uff0c\u56e0\u4e3a\u6bcf\u4e00\u6b21\u5faa\u73af\u90fd\u4f1a\u5224\u5b9a <code>it</code> \u662f\u5426\u7b49\u4e8e <code>vec.end()</code>\uff0c\u800c <code>vec.end()</code> \u4e0d\u65ad\u5728\u53d8\u5316\u3002</p> <p>\u6545\u800c\u5bfc\u81f4\u5faa\u73af\u4e0d\u505c\u6b62\uff0c\u76f4\u5230\u8fed\u4ee3\u5668\u56e0\u4e3a\u5bb9\u91cf\u7684\u8fc1\u79fb\u800c\u5931\u6548\u3002</p> <ul> <li>\u56e0\u4e3a\u5220\u9664\u5bfc\u81f4\u7684\u8fed\u4ee3\u5668\u5931\u6548</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#include &lt;vector&gt;\n\nint main() {\n    vector&lt;int&gt; vec = {1, 2, 3, 4, 5};\n    for (auto it = vec.begin(); it != vec.end(); it++) {\n        cout &lt;&lt; *it &lt;&lt; endl;\n    }\n    cout &lt;&lt; \"=====================\" &lt;&lt; endl;\n\n    auto first = vec.begin();\n    auto second = vec.begin() + 1;\n    auto find = vec.begin() + 6;\n    vec.erase(second);\n    auto ret = vec.erase(second);\n    cout &lt;&lt; *second &lt;&lt; endl;\n    cout &lt;&lt; *ret &lt;&lt; endl;\n    cout &lt;&lt; \"my size is \" &lt;&lt; vec.size() &lt;&lt; endl;\n    cout &lt;&lt; \"how could I find \" &lt;&lt; *find &lt;&lt; endl;\n    for (auto it = vec.begin(); it != vec.end(); it++) {\n        cout &lt;&lt; *it &lt;&lt; endl;\n    }\n    return 0;\n}\n\n/*\noutput:\n1\n2\n3\n4\n5\n=====================\n4\n4\nmy size is 3\nhow could I find 4113\n1\n4\n5\n*/\n</code></pre> <p>\u4ece\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u89c1\u5f97\uff1a</p> <ol> <li> <p><code>erase</code> \u51fd\u6570\u4f20\u5165\u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7c7b\u578b\u90fd\u662f <code>iterator</code>\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u9009\u62e9\u4e0d\u7528\u65b0\u7684 <code>iterator</code> \u63a5\u53d7\u8fd4\u56de\u503c\uff0c\u6bd4\u5982\u7b2c 15 \u884c\u3002</p> </li> <li> <p><code>erase</code> \u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u6307\u5411\u7684\u5fc5\u5b9a\u662f\u88ab <code>erase</code> \u6389\u7684\u6240\u6709\u5143\u7d20\u4e4b\u540e\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002</p> </li> <li> <p>\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u5bf9\u4e8e <code>vector</code> \u4f7f\u7528 <code>erase</code>\uff0c\u4f1a\u4f7f\u5f97\u88ab <code>erase</code> \u7684\u5143\u7d20\u4e0e\u968f\u540e\u7684\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u5168\u90e8\u5931\u6548\uff0c\u6545\u800c\u8fd9\u4e9b\u8bbf\u95ee\u90fd\u6ca1\u6709\u610f\u4e49\uff0c\u6bd4\u5982\u4e0a\u6587\u5bf9\u4e8e <code>find</code> \u7684\u8bbf\u95ee\uff0c\u7531\u4e8e <code>find</code> \u5df2\u7ecf\u662f\u91ce\u6307\u9488\u4e86\uff0c\u8fd9\u4e2a\u8bbf\u95ee\u6ca1\u6709\u5206\u6790\u7684\u610f\u4e49\u3002</p> </li> </ol> <p>\u6b64\u5904\u7ea0\u6b63\u5bf9\u4e8e\u6307\u9488\u7684\u957f\u671f\u9519\u8bef\u7406\u89e3</p> <p>\u6307\u9488\u3001\u8fed\u4ee3\u5668\u6307\u5411\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u53d8\u91cf\uff08\u5de6\u503c\uff0c\u5728\u5185\u5b58\u4e2d\u6709\u5bf9\u5e94\u7a7a\u95f4\u5373\u6709\u5730\u5740\uff09\uff0c\u800c\u4e0d\u80fd\u53ea\u662f\u4e00\u4e2a\u503c\uff08\u53f3\u503c\uff09\u3002</p> <p>\u6545\u800c\u6307\u9488\u6307\u5411\u5730\u5740\u8fd9\u4e2a\u8bf4\u6cd5\u672c\u8eab\u5c31\u4e0d\u51c6\u786e\uff0c\u56e0\u4e3a\u50a8\u5b58\u67d0\u4e2a\u53d8\u91cf\u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u53ea\u662f\u4e00\u4e2a\u53f3\u503c\uff0c\u800c\u4e0d\u662f\u53d8\u91cf\u3002</p> <p>\u53d8\u91cf <code>A</code> \u6784\u9020\u4e4b\u540e\uff0c\u50a8\u5b58 <code>A</code> \u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u5c31\u56fa\u5b9a\u4e86\uff0c\u6b64\u65f6\u5982\u679c\u6307\u9488 <code>P</code> \u6307\u5411 <code>A</code>\uff0c\u7b49\u4ef7\u4e8e\u6307\u5411\u4e86\u8fd9\u5757\u5730\u5740\uff0c\u7136\u800c\u6211\u4eec\u4ecd\u7136\u80fd\u591f\u8ba9 <code>P</code> \u6307\u9488\u6307\u5411\u65b0\u7684\u53d8\u91cf <code>B</code>\uff0c\u5374\u65e0\u6cd5\u6539\u53d8\u50a8\u5b58 <code>A</code> \u7684\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u56de\u5230 <code>vec</code> \u7684 <code>erase</code> \u51fd\u6570\uff0c\u6211\u4eec\u5df2\u7ecf\u660e\u786e\u4e86 <code>erase</code> \u51fd\u6570\u8fd4\u56de\u7684\u65b0\u8fed\u4ee3\u5668\u5c06\u4f1a\u6307\u5411\u88ab <code>erase</code> \u6389\u7684\u5143\u7d20\u4e4b\u540e\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002</p> <p><code>erase</code> \u64cd\u4f5c\u6709\u4e24\u79cd\u53ef\u80fd\uff0c\u7b2c\u4e00\u79cd\u4e0d\u4f1a\u53d1\u751f shrink\uff0c\u88ab\u6e05\u9664\u7684\u6570\u636e\u4e4b\u540e\u7684\u5143\u7d20\u5f80\u524d\u79fb\u52a8\uff0c\u586b\u8865\u4e4b\u524d\u88ab\u6e05\u9664\u7684\u5143\u7d20\u3002\u6bd4\u5982\u6211\u4f20\u5165 <code>vec[2]</code> \u7684\u8fed\u4ee3\u5668\uff0c\u53ea <code>erase</code> \u6389 <code>vec[2]</code>\uff0c\u90a3\u4e48\u539f\u672c\u4f4d\u4e8e <code>vec[3]</code> \u7684\u5143\u7d20\u5c31\u79fb\u52a8\u5230\u4e4b\u524d <code>vec[2]</code> \u6240\u5728\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u6211\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u4e00\u5b9a\u6307\u5411 <code>vec[3]</code>\uff0c\u6240\u4ee5\u770b\u4e0a\u53bb\u50cf\u662f\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u548c\u4f20\u5165\u7684\u8fed\u4ee3\u5668\u90fd\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u5185\u5b58\u7a7a\u95f4\uff0c\u4f46\u662f\u8fd9\u662f\u663e\u7136\u9519\u8bef\u7684\u3002\u4e0d\u8fc7\u662f\u6307\u5411\u7684\u5143\u7d20\u78b0\u5de7\u5148\u540e\u5360\u7528\u4e86\u540c\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u60c5\u51b5\u4e8c\uff0c<code>erase</code> \u5bfc\u81f4\u4e86 shrink \u7684\u53d1\u751f\u3002\u4e5f\u5c31\u662f\u8bf4 <code>vec</code> \u5bb9\u91cf\u51cf\u5c11\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u53d1\u751f shrink\uff0c\u53ef\u80fd\u6574\u4e2a <code>vector</code> \u88ab\u642c\u5230\u53e6\u5916\u4e00\u4e2a\u8f83\u5c0f\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c<code>erase</code> \u8fd4\u56de\u7684\u6307\u9488\u4ecd\u7136\u6307\u5411\u88ab <code>erase</code> \u6389\u7684\u6240\u6709\u5143\u7d20\u4e4b\u540e\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u50a8\u5b58\u8fd9\u4e2a\u5143\u7d20\u7684\u5185\u5b58\u7a7a\u95f4\u5730\u5740\u53ef\u80fd\u548c\u4e4b\u524d\u7684\u5b8c\u5168\u6ca1\u6709\u5173\u7cfb\u3002</p> <p>\u4e00\u4e2a\u7edd\u5bf9\u5b89\u5168\u7684\u51c6\u5219\uff1a</p> <ul> <li>\u7406\u89e3\u6e05\u695a\u8fed\u4ee3\u5668\u6240\u6307\u7684\u5bf9\u8c61\uff0c\u5728\u4fee\u6539\u8fc7\u5bb9\u5668\u540e\uff0c\u6362\u7528\u65b0\u7684\u8fed\u4ee3\u5668\uff0c\u4e0d\u4f7f\u7528\u4e4b\u524d\u7684\u8fed\u4ee3\u5668\u3002</li> </ul> <p>\u5728 C++ Reference \u4e2d\uff0c\u5bb9\u5668\u7684\u4fee\u6539\u64cd\u4f5c\u6709\u4e00\u9879 Iterator validity\uff0c\u8868\u793a\u8be5\u64cd\u4f5c\u662f\u5426\u4f1a\u5f15\u53d1\u8fed\u4ee3\u5668\u5931\u6548\u3002\u82e5\u4fee\u6539\u5bb9\u5668\u540e\u4ecd\u8981\u4f7f\u7528\u539f\u6765\u7684\u8fed\u4ee3\u5668\uff0c\u67e5\u6587\u6863\u786e\u5b9a\u8fed\u4ee3\u5668\u662f\u5426\u6709\u6548\u3002</p> <p>http://www.cplusplus.com/reference/algorithm/find/?kw=find</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#list","title":"<code>list</code> \u5bb9\u5668","text":"<p>\u94fe\u8868\u5bb9\u5668\uff08\u5e95\u5c42\u5b9e\u73b0\u662f\u53cc\u5411\u94fe\u8868\uff09\u3002</p> <pre><code>#include &lt;list&gt;\n#include &lt;algorithm&gt;\n\nstd::list&lt;int&gt; l; // \u5b9a\u4e49\nl.push_front(1); // \u63d2\u5165\u524d\u7aef\nl.push_back(2); // \u63d2\u5165\u672b\u7aef\nstd::find(l.begin(), l.end(), 2); // \u8fd4\u56de\u8fed\u4ee3\u5668\nl.insert(it, 4); // it \u4e3a\u8fed\u4ee3\u5668\uff0c\u5c06 4 \u63d2\u5165\u5230 it \u6307\u5411\u7684\u5143\u7d20\u524d\u9762\n</code></pre> <p>\u6ce8\u610f\uff0c\u5bf9 <code>list</code> \u4f7f\u7528\u7684 <code>find</code> \u51fd\u6570\uff0c\u9700\u8981\u5305\u542b\u5934\u6587\u4ef6 <code>&lt;algorithm&gt;</code>\u3002\u5982\u679c <code>find</code> \u51fd\u6570\u6ca1\u6709\u641c\u7d22\u5230\u60f3\u8981\u7684\u5bf9\u8c61\uff0c\u4f1a\u8fd4\u56de\u6307\u5411 <code>end</code> \u7684\u6307\u9488\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#include &lt;list&gt;\n#include &lt;algorithm&gt;\n\nstd::list&lt;int&gt; l; // \u5b9a\u4e49\nl.push_front(1); // \u63d2\u5165\u524d\u7aef\nl.push_back(2); // \u63d2\u5165\u672b\u7aef\nl.push_back(5); // \u63d2\u5165\u672b\u7aef\nl.push_front(100);// \u63d2\u5165\u524d\u7aef\nl.push_back(100); // \u63d2\u5165\u672b\u7aef\nl.push_back(2); // \u63d2\u5165\u672b\u7aef\nauto it = std::find(l.begin(), l.end(), 2); // \u8fd4\u56de\u8fed\u4ee3\u5668\nl.insert(it, 4); // it \u4e3a\u8fed\u4ee3\u5668\uff0c\u5c06 4 \u63d2\u5165\u5230 it \u6307\u5411\u7684\u5143\u7d20\u524d\u9762\n\ncout &lt;&lt; *it &lt;&lt; endl;\ncout &lt;&lt; \"==========================\" &lt;&lt; endl;\n\nfor (auto it = l.begin(); it != l.end(); it++) {\n    cout &lt;&lt; *it &lt;&lt; endl;\n}\n\n/*\noutput:\n2\n==========================\n100\n1\n4\n2\n5\n100\n2\n*/\n</code></pre> <p>\u4e0a\u8ff0\u4f8b\u5b50\u518d\u6b21\u9a8c\u8bc1\u4e86\u4e4b\u524d\u5bf9\u4e8e\u8fed\u4ee3\u5668\u7684\u7406\u89e3\u3002\u6211\u7684 <code>it</code> \u8fed\u4ee3\u5668\u6307\u5411\u7684\u6c38\u8fdc\u662f\u7b2c\u4e00\u4e2a <code>2</code> \u8fd9\u4e2a\u5143\u7d20\u3002\u867d\u7136\u6211\u5728 <code>it</code> \u524d\u9762\u63d2\u5165\u4e86 <code>4</code>\uff0c\u7136\u540e <code>2</code> \u8fd9\u4e2a\u5143\u7d20\u5f80\u540e\u79fb\u8d70\u4e86\uff0c\u4f46\u662f <code>it</code> \u4ecd\u7136\u6307\u5411 <code>2</code>\u3002\u53e6\u5916\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u53d1\u73b0\uff0c<code>list</code> \u7684 <code>find</code> \u529f\u80fd\u9047\u89c1\u591a\u4e2a\u76f8\u540c\u5143\u7d20\u65f6\uff0c\u4f1a\u9ed8\u8ba4\u8fd4\u56de\u4ece\u524d\u5230\u540e\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002</p> <p>\u5982\u679c <code>list</code> \u7684\u6210\u5458\u662f\u81ea\u5b9a\u4e49\u7684 <code>class</code> \u6216 <code>struct</code>\uff0c\u53ef\u4ee5\u901a\u8fc7\u91cd\u8f7d <code>operator==</code> \u548c\u81ea\u5df1\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u6765\u6784\u9020 <code>find</code>\u3002</p> <ul> <li>\u6ce8\u610f\uff1a<code>==</code> \u8fd0\u7b97\u7b26\u91cd\u8f7d\u7684\u53c2\u6570\u5fc5\u987b\u662f\u5e38\u91cf\u5de6\u503c\u5f15\u7528\u200b</li> </ul> <pre><code>class myint{\n    int i;\n    bool operator==(cosnt myint&amp; other) { return i == other.i; }\n    myint(int t): i(t) { };\n};\n\nint main() {\n  list&lt;myint&gt;test;\n  std::find(test.begin(), test.end(), myint(2)); // \u67e5\u627e test \u91cc\u9762\u6709\u6ca1\u6709\u6210\u5458 i \u4e3a 2 \u7684 myint\n}\n</code></pre> <p>\u7ed3\u5408\u94fe\u8868\u7684\u539f\u7406\u5f88\u5bb9\u6613\u5c31\u80fd\u7406\u89e3\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u4e0d\u652f\u6301\u4e0b\u6807\u7b49\u968f\u673a\u8bbf\u95ee\uff0c\u5373\u65e0\u6cd5\u4f7f\u7528\u7c7b\u4f3c <code>test[2]</code> \u7684\u8bed\u53e5\u3002<ul> <li>\u6545\u800c\u60f3\u8981\u904d\u5386 <code>list</code>\uff0c\u5fc5\u987b\u7528\u8fed\u4ee3\u5668\u3002</li> </ul> </li> <li>\u652f\u6301\u9ad8\u901f\u7684\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u3001\u5220\u9664\u6570\u636e\uff08\u94fe\u8868\u5e38\u5e38\u5728\u9700\u8981\u4e0d\u65ad\u63d2\u5165\u5220\u9664\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\uff09\u3002<ul> <li>\u5176\u8bbf\u95ee\u4e3b\u8981\u4f9d\u8d56\u8fed\u4ee3\u5668\u3002</li> <li>\u64cd\u4f5c\u4e0d\u4f1a\u5bfc\u81f4\u8fed\u4ee3\u5668\u5931\u6548\uff08\u9664\u6307\u5411\u88ab\u5220\u9664\u7684\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u5916\uff09\u3002</li> </ul> </li> </ul> <p>\u5173\u4e8e <code>list</code> \u7684\u66f4\u591a\u51fd\u6570\u53c2\u89c1\uff1ahttps://blog.csdn.net/yas12345678/article/details/52601578</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#set","title":"<code>set</code> \u5173\u8054\u5bb9\u5668","text":"<p>\u4e0d\u91cd\u590d\u5143\u7d20\u6784\u6210\u7684\u65e0\u5e8f\u96c6\u5408\uff1b\u5185\u90e8\u6309\u5927\u5c0f\u987a\u5e8f\u6392\u5217\uff0c\u6bd4\u8f83\u5668\u7531\u51fd\u6570\u5bf9\u8c61 <code>compare</code> \u5b8c\u6210\u3002\u65e0\u5e8f\u662f\u6307\u4e0d\u4fdd\u6301\u63d2\u5165\u987a\u5e8f\uff08\u4e0d\u540c\u4e8e <code>vector</code> \u548c <code>list</code>\uff09\uff0c\u5bb9\u5668\u5185\u90e8\u6392\u5217\u987a\u5e8f\u662f\u6839\u636e\u5143\u7d20\u5927\u5c0f\u6392\u5217\u3002</p> <pre><code>std::set&lt;int&gt; s; // \u5b9a\u4e49\ns.insert(1);\ns.find(1); // \u8fd4\u56de\u8fed\u4ee3\u5668\uff08\u4f4d\u7f6e\uff09\ns.erase(s.find(1)); // \u5bfc\u81f4\u88ab\u5220\u9664\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u5931\u6548\uff08\u8fd9\u53e5\u8bdd\u662f\u5220\u9664\u4e86\u96c6\u5408\u91cc\u7684\u5143\u7d20 1\uff09\ns.count(1); // 1\u7684\u4e2a\u6570\uff0c\u603b\u662f 0 \u6216 1\uff08\u5b58\u5728\u6027\uff09\n</code></pre>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#map","title":"<code>map</code> \u5173\u8054\u5bb9\u5668","text":"<p><code>map</code> \u7684\u503c\u7c7b\u578b\u4e3a <code>pair&lt;key, val&gt;</code>\u3002</p> <p><code>map</code> \u4e2d\u7684\u5143\u7d20 <code>key</code> \u4e92\u4e0d\u76f8\u540c\uff0c\u9700\u8981 <code>key</code> \u5b58\u5728\u6bd4\u8f83\u5668\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u8bbf\u95ee\uff08\u5373\u4f7f <code>key</code> \u4e0d\u662f\u6574\u6570\uff09\u3002\u4e0b\u6807\u8bbf\u95ee\u65f6\u5982\u679c\u5143\u7d20\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u5bf9\u5e94\u5143\u7d20\uff0c\u800c\u4e0d\u4f1a\u63d0\u793a\u8bbf\u95ee\u9519\u8bef\u3002\u4e5f\u53ef\u4f7f\u7528 <code>insert</code> \u51fd\u6570\u8fdb\u884c\u63d2\u5165\u3002</p> <p>\u6240\u8c13\u7684\u521b\u5efa\u5bf9\u5e94\u5143\u7d20\uff1a\u6bd4\u5982 <code>map</code> \u5305\u542b\u7684\u5143\u7d20\u4e3a <code>pair&lt;key, T&gt;</code>\uff0c\u90a3\u4e48\u627e\u4e0d\u5230 <code>key</code>\uff0c\u5c31\u4f1a\u6784\u9020 <code>T()</code>\uff0c\u8c03\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <pre><code>template&lt;class Key,\n   class T,\n   class Compare = std::less&lt;Key&gt;,\n   class Allocator = std::allocator&lt;std::pair&lt;const Key, T&gt; &gt;\n</code></pre> <p>\u6bcf\u4e2a\u5143\u7d20\u7531\u4e24\u4e2a\u6570\u636e\u9879\u7ec4\u6210\uff0c<code>map</code> \u5c06\u4e00\u4e2a\u6570\u636e\u9879\u6620\u5c04\u5230\u53e6\u4e00\u4e2a\u6570\u636e\u9879\u4e2d\u3002</p> <pre><code>#include &lt;string&gt;\n#include &lt;map&gt; \nint main() {\n    std::map&lt;std::string, int&gt; s; // \u521b\u5efa\u4e86 key \u4e3a string \u7c7b\u578b\uff0cval \u4e3a int \u7c7b\u578b\u7684 map\n    s[\"oop\"] = 1; // \u63d2\u5165\u65b9\u5f0f 1\n    // \u5982\u679c \"oop\" \u6709\u5bf9\u5e94\u7684 val\uff0c\u90a3\u5c31\u662f\u8d4b\u503c\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u63d2\u5165\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u6784\u9020\n    // \u770b\u8d77\u6765\u50cf\u662f\u91cd\u8f7d\u4e86 []\uff0c\u4f7f\u5f97\u4e0b\u6807\u4e0d\u662f int \u4e5f\u53ef\u4ee5\u8bbf\u95ee\uff0c\u8fd9\u662f map \u7c7b\u578b\u652f\u6301\u7684\u64cd\u4f5c\u3002\u5728 [] \u4e2d\u7528 key \u76f4\u63a5\u8bbf\u95ee val\n    s.insert(std::make_pair(std::string(\"oop\"), 1)); // \u63d2\u5165\u65b9\u5f0f 2\n    return 0;\n}\n</code></pre> <p><code>map</code> \u652f\u6301\u7528 <code>key</code> \u76f4\u63a5\u8bbf\u95ee\u5bf9\u5e94\u8fed\u4ee3\u5668\uff1a</p> <pre><code>s.find(key); // \u67e5\u8be2\uff0c\u4ec5\u9700\u8981\u63d0\u4f9b key \u503c\uff0c\u8fd4\u56de\u8fed\u4ee3\u5668\u3002\ns.count(key); // \u7edf\u8ba1\uff0c\u4ec5\u9700\u8981\u63d0\u4f9b key \u503c\uff0c\u8fd4\u56de 0 \u6216 1\u3002\ns.erase(it); // it \u662f\u8fed\u4ee3\u5668\uff0c\u5220\u9664 it \u6307\u5411\u7684\u5143\u7d20\uff0c\u5bfc\u81f4 it \u5931\u6548\ns.erase(s.find(key));\n</code></pre> <p><code>map</code> \u5e38\u7528\u4f5c\u8fc7\u5927\u7684\u7a00\u758f\u6570\u7ec4\u6216\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4e0b\u6807\u7684\u6570\u7ec4\u3002</p> <pre><code>#include &lt;string&gt;\n#include &lt;map&gt; \n\nint main() {\n    std::map&lt;std::string, std::string&gt; M;\n    M[\"fp\"] = \"c\";\n    M[\"oop\"] = M[\"fp\"] + \"++\"; // M[\"oop\"] = \"c++\"\n    // string \u7684\u795e\u5947\u64cd\u4f5c\uff1a\"a\" + \"b\" = \"ab\"\n    return 0;\n}\n</code></pre> <p><code>set</code> \u548c <code>map</code> \u6240\u7528\u5230\u7684\u6570\u636e\u7ed3\u6784\u90fd\u662f\u7ea2\u9ed1\u6811\uff08\u4e00\u79cd\u4e8c\u53c9\u5e73\u8861\u6811\uff09\uff0c\u5176\u51e0\u4e4e\u6240\u6709\u64cd\u4f5c\u590d\u6742\u5ea6\u5747\u4e3a O(\\log n)\u3002</p>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#_9","title":"\u603b\u7ed3","text":""},{"location":"languages/c-oop/templates-and-intro-to-stl/#_10","title":"\u5e8f\u5217\u5bb9\u5668\uff08\u6709\u987a\u5e8f\uff09\u548c\u5173\u8054\u5bb9\u5668\uff08\u65e0\u987a\u5e8f\uff09\u7684\u533a\u522b","text":"<ul> <li>\u5e8f\u5217\u5bb9\u5668\uff1a<code>vector</code>\u3001<code>list</code></li> <li>\u5173\u8054\u5bb9\u5668\uff1a<code>set</code>\u3001<code>map</code></li> <li>\u5e8f\u5217\u5bb9\u5668\u4e0e\u5173\u8054\u5bb9\u5668\u7684\u533a\u522b\uff1a<ul> <li>\u5e8f\u5217\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u6709\u987a\u5e8f\uff0c\u53ef\u4ee5\u6309\u987a\u5e8f\u8bbf\u95ee\u3002</li> <li>\u5173\u8054\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u65e0\u987a\u5e8f\uff0c\u53ef\u4ee5\u6309\u6570\u503c\uff08\u5927\u5c0f\uff09\u8bbf\u95ee\u3002</li> <li><code>vector</code> \u4e2d\u63d2\u5165\u5220\u9664\u64cd\u4f5c\u4f1a\u4f7f\u64cd\u4f5c\u4f4d\u7f6e\u4e4b\u540e\u5168\u90e8\u7684\u8fed\u4ee3\u5668\u5931\u6548\u3002</li> <li>\u5176\u4ed6\u5bb9\u5668\u4e2d\u53ea\u6709\u88ab\u5220\u9664\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u5931\u6548\u3002</li> </ul> </li> </ul>"},{"location":"languages/c-oop/templates-and-intro-to-stl/#_11","title":"\u9009\u62e9\u4f9d\u636e","text":"<p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u5bb9\u5668\u7684\u9009\u62e9\u53ef\u80fd\u9700\u8981\u7efc\u5408\u8003\u8651\u591a\u65b9\u9762\u56e0\u7d20\uff0c\u5305\u62ec\u7b97\u6cd5\u590d\u6742\u5ea6\uff0c\u529f\u80fd\u9700\u6c42\uff0c\u5185\u5b58\u5206\u914d\u7b56\u7565\u7b49\uff0c\u4e0b\u9762\u63d0\u4f9b\u51e0\u4e2a\u53ef\u4f9b\u53c2\u8003\u4f46\u4e0d\u5b8c\u6574\u7684\u89d2\u5ea6\uff08\u53ef\u4ee5\u8fdb\u4e00\u6b65\u9605\u8bfb\u300aEffective STL\u300b\uff09\uff1a</p> <ul> <li>\u7b97\u6cd5\u590d\u6742\u5ea6\uff1a\u5bf9\u4e8e\u5e8f\u5217\u5bb9\u5668\u800c\u8a00\uff0c\u5982\u679c\u5728\u5e8f\u5217\u4e2d\u95f4\u5b58\u5728\u9891\u7e41\u7684\u63d2\u5165\u6216\u5220\u9664\u64cd\u4f5c\uff0c\u4f7f\u7528 <code>list</code>\uff0c\u5426\u5219\u4f7f\u7528 <code>vector</code>\uff08\u6216 <code>deque</code>\uff09</li> <li>\u5143\u7d20\u7684\u987a\u5e8f\uff1a\u5982\u679c\u9700\u8981\u5728\u5bb9\u5668\u7684\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u65b0\u5143\u7d20\uff0c\u9700\u8981\u9009\u62e9\u5e8f\u5217\u5bb9\u5668\u800c\u4e0d\u662f\u5173\u8054\u5bb9\u5668</li> <li>\u5143\u7d20\u67e5\u627e\u901f\u5ea6\uff1a\u5982\u5143\u7d20\u7684\u67e5\u627e\u901f\u5ea6\u662f\u5173\u952e\u7684\u8003\u8651\u56e0\u7d20\uff0c\u53ef\u4ee5\u8003\u8651\u6392\u5e8f\u7684 <code>vector</code> \u6216\u5173\u8054\u5bb9\u5668 <code>set</code>\u3001<code>map</code> \u7b49</li> <li>\u8fed\u4ee3\u5668\u3001\u6307\u9488\u6216\u5f15\u7528\u5931\u6548\uff1a\u5982\u679c\u5e0c\u671b\u5728\u5143\u7d20\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u540e\uff0c\u8fed\u4ee3\u5668\u3001\u6307\u9488\u6216\u5f15\u7528\u5931\u6548\u7684\u60c5\u51b5\u5c3d\u53ef\u80fd\u5c11\u51fa\u73b0\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 <code>list</code> \u548c\u5173\u8054\u5bb9\u5668 <code>set</code>\u3001<code>map</code> \u7b49</li> </ul>"},{"location":"languages/c-oop/virtual-function/","title":"\u865a\u51fd\u6570","text":""},{"location":"languages/c-oop/virtual-function/#_2","title":"\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"languages/c-oop/virtual-function/#_3","title":"\u5b9a\u4e49","text":"<p>\u6d3e\u751f\u7c7b\u5bf9\u8c61\u3001\u5f15\u7528\u3001\u6307\u9488\u8f6c\u6362\u6210\u57fa\u7c7b\u5bf9\u8c61\u3001\u5f15\u7528\u3001\u6307\u9488\uff0c\u79f0\u4e3a\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\u3002\u53ea\u5bf9 <code>public</code> \u7ee7\u627f\u6709\u6548\uff0c\u5728\u7ee7\u627f\u56fe\u4e0a\u662f\u4e0a\u5347\u7684\uff1b\u5bf9 <code>private</code>\u3001<code>protected</code> \u7ee7\u627f\u65e0\u6548\u3002</p> <p>\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\uff08\u6d3e\u751f\u7c7b\u5230\u57fa\u7c7b\uff09\u53ef\u4ee5\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5b8c\u6210\uff0c\u662f\u4e00\u79cd\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002\u51e1\u662f\u63a5\u53d7\u57fa\u7c7b\u5bf9\u8c61\u3001\u5f15\u7528\u3001\u6307\u9488\u7684\u5730\u65b9\uff08\u5982\u51fd\u6570\u53c2\u6570\uff09\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u6d3e\u751f\u7c7b\u5bf9\u8c61\u3001\u5f15\u7528\u3001\u6307\u9488\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5c06\u6d3e\u751f\u7c7b\u5bf9\u8c61\u8f6c\u6362\u4e3a\u57fa\u7c7b\u5bf9\u8c61\u4ee5\u4fbf\u4f7f\u7528\u3002</p>"},{"location":"languages/c-oop/virtual-function/#public","title":"\u4e0d\u5141\u8bb8\u975e <code>public</code> \u7ee7\u627f\u7684\u5411\u4e0a\u8f6c\u6362","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\nprivate:\n    int data {0};\npublic:\n    int getData() { return data; }\n    void setData(int i) { data = i; }\n};\n\nclass Derive1: private Base {\npublic:\n    using Base::getData;\n};\n\nint main() {\n    Derive1 d1;\n    cout &lt;&lt; d1.getData();\n    Base&amp; b = d1; // \u4e0d\u5141\u8bb8\u79c1\u6709\u7ee7\u627f\u7684\u5411\u4e0a\u8f6c\u6362\n    b.setData(10); // \u5426\u5219\u53ef\u4ee5\u7ed5\u8fc7 D1\uff0c\u8c03\u7528\u57fa\u7c7b\u7684 setData \u51fd\u6570\n    return 0;\n}\n\n/*\noutput:\nerror: cannot cast 'Derive1' to its private base class 'Base'\nBase&amp; b = d1;\n*/\n</code></pre> <p>\u5982\u679c <code>private</code> \u7ee7\u627f\u4e5f\u53ef\u4ee5\u5411\u4e0a\u8f6c\u6362\uff0c\u90a3\u4e48\u57fa\u7c7b\u5bf9\u8c61\u91cc\u7684 <code>public</code> \u6210\u5458\u4e5f\u53ef\u4ee5\u88ab\u6d3e\u751f\u7c7b\u8c03\u7528\u4e86\u3002\u800c <code>private</code> \u7ee7\u627f\u7684\u539f\u610f\u5c31\u662f\u8ba9\u57fa\u7c7b\u6210\u5458\u5728\u6d3e\u751f\u7c7b\u91cc\u53d8\u6210 <code>private</code> \u5c5e\u6027\uff0c\u6240\u4ee5 <code>private</code> \u7ee7\u627f\u4e0d\u80fd\u5411\u4e0a\u8f6c\u6362\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_4","title":"\u4f8b\u5b50","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\npublic:\n    void print() { cout &lt;&lt; \"Base::print()\" &lt;&lt; endl; }\n};\n\nclass Derive: public Base {\npublic:\n    void print() { cout &lt;&lt; \"Derive::print()\" &lt;&lt; endl; }\n};\n\nvoid fun(Base obj) { obj.print(); } // \u8c03\u7528 Base \u5bf9\u8c61\u7684 print\n\nint main() {\n    Derive d;\n    d.print();   \n    fun(d); // \u672c\u610f\u5e0c\u671b\u5bf9 Derive::print \u8c03\u7528\n    return 0;\n}\n\n/*\noutput:\nDerive::print()\nBase::print()\n*/\n</code></pre> <p>\u6d3e\u751f\u7c7b\u4f1a\u8986\u76d6\u6389\u57fa\u7c7b\u7684\u540c\u540d\u51fd\u6570\uff0c\u672a\u53d1\u751f\u5207\u7247\u524d\uff0c\u60f3\u8981\u8ba9\u6d3e\u751f\u7c7b\u4f7f\u7528\u57fa\u7c7b\u7684 <code>print</code>\uff0c\u65b9\u6cd5\u4e00\u662f\u4f7f\u7528 <code>using</code> \u5173\u952e\u5b57\uff0c\u65b9\u6cd5\u4e8c\u662f\u542f\u7528\u547d\u540d\u7a7a\u95f4\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_5","title":"\u5bf9\u8c61\u5207\u7247","text":""},{"location":"languages/c-oop/virtual-function/#_6","title":"\u5b9a\u4e49","text":"<p>\u5f53\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61 <code>b</code>\uff08\u4e0d\u662f\u6307\u9488\u6216\u5f15\u7528\uff09\u88ab\u8f6c\u6362\u4e3a\u57fa\u7c7b\u7684\u5bf9\u8c61 <code>a</code> \u65f6\uff0c\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u88ab\u5207\u7247\u4e3a\u5bf9\u5e94\u57fa\u7c7b\u7684\u5b50\u5bf9\u8c61\u3002\u8fd9\u53e5\u8bdd\u7684\u610f\u4e49\u662f <code>a</code> \u4ec5\u4ec5\u53ea\u80fd\u542b\u6709 <code>b</code> \u4e2d\u57fa\u7c7b\u7684\u90e8\u5206\uff0c\u800c <code>b</code> \u5bf9\u8c61\u672c\u8eab\u4e0d\u53d7\u5230\u5f71\u54cd\u3002</p> <p>\u5207\u7247\u8fc7\u7a0b\u4e0d\u53ef\u9006\uff0c\u5373\u4fbf\u5207\u7247\u672c\u8eab\u4e0d\u6539\u53d8\u6307\u9488\u7684\u4f4d\u7f6e\uff0c\u6539\u53d8\u4e86\u6307\u9488\u7684\u7c7b\u578b\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u4e5f\u4e0d\u53ef\u9006\u3002</p> <p>\u4f8b\u5b50</p> <ul> <li>\u5b58\u50a8\u7a7a\u95f4\u7684\u53d8\u5316</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4) // \u6309\u7167\u56db\u5b57\u8282\u8fdb\u884c\u5185\u5b58\u5bf9\u9f50\nclass Pet { \npublic:\n    int att_i; // \u8868\u793a\u5c5e\u6027\n    Pet(int x = 0): att_i(x) { };\n};\n\nclass Dog: public Pet { \npublic:\n    int att_j;\n    Dog(int x = 0, int y = 0): Pet(x), att_j(y) { }\n};\n\nvoid getSize(Pet p) {\n    cout &lt;&lt; \"Pet size:\" &lt;&lt; sizeof(p) &lt;&lt; endl;\n}\n\nint main() {\n    Pet p;\n    cout &lt;&lt; \"Pet size:\" &lt;&lt; sizeof(p) &lt;&lt; endl;\n    Dog g;\n    cout &lt;&lt; \"Dog size:\" &lt;&lt; sizeof(g) &lt;&lt; endl;\n    getSize(g); // \u5bf9\u8c61\u5207\u7247\uff0cp \u4e22\u5931\u4e86 g \u7684\u6570\u636e\uff0c\u4f46\u662f g \u4e0d\u53d7\u5f71\u54cd\n    cout &lt;&lt; \"Dog size:\" &lt;&lt; sizeof(g) &lt;&lt; endl;\n    p = g;      // \u5bf9\u8c61\u5207\u7247\uff0cp \u4e22\u5931\u4e86 g \u7684\u6570\u636e\uff0c\u4f46\u662f g \u4e0d\u53d7\u5f71\u54cd\n    cout &lt;&lt; \"Dog size:\" &lt;&lt; sizeof(g) &lt;&lt; endl;\n    return 0;\n}\n\n/*\nPet size:4\nDog size:8\nPet size:4\nDog size:8\nDog size:8\n*/\n</code></pre> <ul> <li>\u6d3e\u751f\u7c7b\u6570\u636e\u65e0\u6743\u8bbf\u95ee</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4)\n\nclass Pet { \npublic:\n    int att_i; // \u8868\u793a\u5c5e\u6027\n    Pet(int x = 0): att_i(x) { }\n};\n\nclass Dog: public Pet { \npublic:\n    int att_j;\n    Dog(int x = 0, int y = 0): Pet(x), att_j(y) { }\n};\n\nint main() {\n    Pet p(1);\n    cout &lt;&lt; p.att_i &lt;&lt; endl;\n    Dog g(2, 3);\n    cout &lt;&lt; g.att_i &lt;&lt; \" \" &lt;&lt; g.att_j &lt;&lt; endl;\n    p = g; // \u5bf9\u8c61\u5207\u7247\uff0c\u53ea\u8d4b\u503c\u57fa\u7c7b\u6570\u636e\n    cout &lt;&lt; p.att_i &lt;&lt; endl;\n    // cout &lt;&lt; p.att_j &lt;&lt; endl; // \u6ca1\u6709\u8be5\u53c2\u6570\uff0c\u7f16\u8bd1\u9519\u8bef\n    return 0;\n}\n\n/*\noutput:\n1\n2 3\n2\n*/\n</code></pre> <ul> <li>\u6d3e\u751f\u7c7b\u65b9\u6cd5\u65e0\u6743\u8bbf\u95ee</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Pet { \npublic:  \n    void name() { cout &lt;&lt; \"Pet::name()\" &lt;&lt; endl; }\n};\n\nclass Dog: public Pet { \npublic:  \n    void name() { cout &lt;&lt; \"Dog::name()\" &lt;&lt; endl; }\n};\n\nvoid getName(Pet p) {\n    p.name();\n}\n\nint main() {\n    Dog g;\n    g.name(); \n    getName(g); // \u5bf9\u8c61\u5207\u7247\uff08\u4f20\u53c2\uff09\uff0c\u8c03\u7528\u57fa\u7c7b\u7684 name \u51fd\u6570\n    Pet p = g;\n    p.name(); // \u5bf9\u8c61\u5207\u7247\uff08\u8d4b\u503c\uff09\uff0c\u8c03\u7528\u57fa\u7c7b\u7684 name \u51fd\u6570\n    return 0;\n}\n\n/*\noutput:\nDog::name()\nPet::name()\nPet::name()\n*/\n</code></pre>"},{"location":"languages/c-oop/virtual-function/#_7","title":"\u5bf9\u8c61\u5207\u7247\u7684\u7406\u89e3","text":"<ul> <li>\u6307\u9488\u578b\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4)\n\nclass Pet { \npublic:\n    int att_i; // \u8868\u793a\u5c5e\u6027\n    Pet(int x = 0): att_i(x) { };\n};\n\nclass Dog: public Pet { \npublic:\n    int att_j;\n    Dog(int x = 0, int y = 0): Pet(x), att_j(y) { }\n};\n\nint main() {\n    Dog* g = new Dog(1, 2);\n    Pet* p = g;\n    cout &lt;&lt; g &lt;&lt; ' ' &lt;&lt; p &lt;&lt; endl;\n    int* a = (int*)g; // \u6307\u9488\u8f6c\u6362\n    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; a + 1 &lt;&lt; endl;\n    cout &lt;&lt; *a &lt;&lt; ' ' &lt;&lt; *(a + 1) &lt;&lt; endl;\n    cout &lt;&lt; p-&gt;att_i &lt;&lt; endl;\n    cout &lt;&lt; g-&gt;att_i &lt;&lt;\" \"&lt;&lt;g-&gt;att_j &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\n0x1c94eb0 0x1c94eb0\n0x1c94eb0 0x1c94eb4\n1 2\n1\n1 2\n*/\n</code></pre> <p>\u5728\u4e3b\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u57fa\u7c7b\u6307\u9488 <code>p</code> \u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61 <code>g</code>\u3002\u5c06 <code>p</code> \u548c <code>g</code> \u6307\u5411\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u6253\u5370\u51fa\u6765\uff0c\u540c\u65f6\u5c06 <code>g</code> \u6307\u5411\u5185\u5b58\u7a7a\u95f4\u4e0a\u7684\u4e24\u4e2a <code>int</code> \u5730\u5740\u6253\u5370\u51fa\u6765\uff0c\u6211\u4eec\u53d1\u73b0 <code>g</code> \u548c <code>p</code> \u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\uff08\u8fd9\u4e2a\u5730\u5740\u5c31\u662f <code>att_i</code>\uff09\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6570\u636e\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u7d27\u5bc6\u6392\u5217\u7684\u3002\u5148\u6392\u5217\u57fa\u7c7b\u6570\u636e <code>att_i</code>\uff0c\u518d\u6392\u5217\u6d3e\u751f\u7c7b\u6570\u636e <code>att_j</code>\u3002\u800c\u6211\u4eec\u7528\u57fa\u7c7b\u6307\u9488\u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61\u65f6\uff0c\u57fa\u7c7b\u548c\u6d3e\u751f\u7c7b\u6307\u9488\u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u5373\u57fa\u7c7b\u6570\u636e\u7684\u5730\u5740\u3002\u4f46\u662f\u8bbf\u95ee\u6743\u9650\u4e0d\u540c\uff0c\u57fa\u7c7b\u6307\u9488\u53ea\u80fd\u8bbf\u95ee\u57fa\u7c7b\u7684\u90e8\u5206\uff0c\u6d3e\u751f\u7c7b\u80fd\u8bbf\u95ee\u6240\u6709\u90e8\u5206\u3002\u60c5\u51b5\u4e00\u7c7b\u578b\u7684\u6570\u636e\u4e22\u5931\uff0c\u5e76\u975e\u6d3e\u751f\u7c7b\u6570\u636e\u9500\u6bc1\u4e86\uff0c\u800c\u662f\u88ab\u8f6c\u6362\u751f\u6210\u7684\u6307\u9488\u6ca1\u6709\u8bbf\u95ee\u6d3e\u751f\u7c7b\u6570\u636e\u7684\u6743\u9650\u3002</p> <p>\u4e0d\u8fc7\uff0c\u5f53\u591a\u91cd\u7ee7\u627f\u65f6\uff0c\u6bd4\u5982 <code>A</code> \u540c\u65f6 <code>public</code> \u7ee7\u627f <code>B</code>\u3001<code>C</code>\uff08\u6309\u7167\u7c7b\u7684\u5b9a\u4e49\u987a\u5e8f\u4ece\u5de6\u5230\u53f3\uff09\u3002\u5728\u5185\u5b58\u4e2d\u5219\u5148\u6392\u5217 <code>B</code>\uff0c\u4e4b\u540e <code>C</code>\uff0c\u6700\u540e <code>A</code>\u3002\u8fd8\u662f\u4f7f\u7528\u57fa\u7c7b\u6307\u9488\u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u8bdd\uff0c\u5982\u679c <code>A</code> \u7c7b\u6307\u9488 <code>a</code> \u548c <code>C</code> \u7c7b\u6307\u9488 <code>c</code> \u4e0d\u91cd\u5408\u3002<code>a</code> \u6307\u5411\u5934\u90e8\uff0c<code>c</code> \u6307\u5411 <code>C</code> \u7684\u90e8\u5206\uff0c\u8bbf\u95ee\u6743\u9650\u4e5f\u4e0d\u540c\u3002</p> <p></p> <ul> <li>\u62f7\u8d1d\u578b\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4)\n\nclass Pet { \npublic:  \n    int att_i; // \u8868\u793a\u5c5e\u6027\n    Pet(int x = 0): att_i(x) { };\n};\n\nclass Dog: public Pet { \npublic:  \n    int att_j;\n    Dog(int x = 0, int y = 0): Pet(x), att_j(y) { }\n};\n\nint main() {\n    Dog d(10, 12);\n    Pet t;\n    cout &lt;&lt; \"locate of d: \" &lt;&lt; &amp;d &lt;&lt; endl;\n    cout &lt;&lt; d.att_i &lt;&lt; \" \" &lt;&lt; d.att_j &lt;&lt; endl;\n    cout &lt;&lt; \"locate of t: \" &lt;&lt; &amp;t &lt;&lt; endl;\n    cout &lt;&lt; t.att_i &lt;&lt; endl;\n    t = d;\n    cout &lt;&lt; t.att_i &lt;&lt; endl;\n    cout &lt;&lt; \"locate of t: \" &lt;&lt; &amp;t &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\nlocate of d: 0x7ffefd9e81a0\n10 12\nlocate of t: 0x7ffefd9e8198\n0\n10\nlocate of t: 0x7ffefd9e8198\n*/\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728\u5b9a\u4e49\u4e86 <code>Pet t</code> \u540e\uff0c\u5c31\u5df2\u7ecf\u4e3a <code>t</code> \u5206\u914d\u4e86\u5185\u5b58\u7a7a\u95f4\uff0c\u548c <code>d</code> \u5e76\u4e0d\u662f\u540c\u4e00\u5757\u7a7a\u95f4\u3002\u63a5\u4e0b\u6765\u7684 <code>t = d</code> \u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u90e8\u5206\u62f7\u8d1d\u8d4b\u503c\u8bed\u53e5\uff0c\u5e76\u6ca1\u6709\u6539\u53d8 <code>t</code> \u548c <code>d</code> \u7684\u5730\u5740\u3002\u6bd4\u8d77\u6307\u9488\u578b\u7684\u5207\u7247\u7b80\u5355\u8bb8\u591a\u3002</p> <p></p>"},{"location":"languages/c-oop/virtual-function/#_8","title":"\u8fdb\u4e00\u6b65\u8ba8\u8bba","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4)\n\nclass Pet { \npublic:  \n    int att_i; // \u8868\u793a\u5c5e\u6027\n    Pet(int x = 0): att_i(x) { };\n};\n\nclass Dog: public Pet { \npublic:  \n    int att_j;\n    Dog(int x = 0, int y = 0): Pet(x), att_j(y) { }\n};\n\nvoid getSize(Pet p) {\n    cout &lt;&lt; \"locate of p: \" &lt;&lt; &amp;p &lt;&lt; endl;\n    cout &lt;&lt; \"Pet size:\" &lt;&lt; sizeof(p) &lt;&lt; endl;\n}\n\nint main() {\n    Dog* g = new Dog(1, 2);\n    cout &lt;&lt; \"locate of g: \" &lt;&lt; g &lt;&lt; endl;\n    Pet* j = g;\n    cout &lt;&lt; \"locate of j: \" &lt;&lt; j &lt;&lt; endl;\n    getSize(*g);\n    cout &lt;&lt; g-&gt;att_i &lt;&lt; endl;\n    delete j;\n    cout &lt;&lt; g-&gt;att_i;\n    return 0;\n}\n\n/*\noutput:\nlocate of g: 0x18beeb0\nlocate of j: 0x18beeb0\nlocate of p: 0x7ffe369b8848\nPet size:4\n1\n6334\n*/\n</code></pre> <p>\u8fd9\u91cc\u5bf9\u4e8e\u62f7\u8d1d\u578b\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\u548c\u6307\u9488\u578b\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\u8fdb\u884c\u5206\u6790\u3002\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u62f7\u8d1d\u578b\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\u662f\u5426\u4f1a\u5728\u53c2\u6570\u88ab\u6790\u6784\u540e\u7834\u574f\u539f\u6709\u7684\u6d3e\u751f\u7c7b\u6570\u636e\uff1f</p> <p>\u7b54\u6848\u662f\u4e0d\u4f1a\u7684\u3002</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u901a\u8fc7\u4f20\u9012\u53c2\u6570\u53c2\u6570\u4ea7\u751f\u7684\u5207\u7247\u5b9e\u8d28\u662f\u62f7\u8d1d\u4f20\u53c2\uff0c\u76f8\u5f53\u4e8e\u7528\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5728\u53e6\u5916\u4e00\u5757\u5730\u5740\u4e0a\u62f7\u8d1d\u4e86\u4e00\u4e2a\u57fa\u7c7b\u5bf9\u8c61\u3002\u8fd9\u4e00\u5bf9\u8c61\u6307\u9488\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u548c\u6d3e\u751f\u7c7b\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5f53\u7136\u4e0d\u662f\u540c\u4e00\u5757\uff0c\u6545\u800c\u6790\u6784\u7684\u65f6\u5019\u4e0d\u4f1a\u6709\u95ee\u9898\u3002</p> <p>\u800c\u5bf9\u4e8e\u6307\u9488\u578b\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\uff0c\u5728\u4e0a\u6587\u5df2\u7ecf\u8ba8\u8bba\u8fc7\u8fd9\u4e00\u5207\u7247\u7684\u672c\u8d28\u2014\u2014\u4e24\u4e2a\u6307\u5411\u5730\u5740\u76f8\u540c\u7684\u6307\u9488\uff0c\u4f46\u662f\u8bbf\u95ee\u6743\u9650\u4e0d\u540c\u3002</p> <p>\u5982\u540c\u4e0a\u6587\u8f93\u51fa\u6240\u793a\uff0c\u60c5\u51b5\u4e00\u7c7b\u578b\u7684\u5207\u7247\u751f\u6210\u7684\u57fa\u7c7b\u6307\u9488\u548c\u6d3e\u751f\u7c7b\u6307\u9488\u6307\u5411\u540c\u4e00\u5757\u7a7a\u95f4\u3002\u5c06\u57fa\u7c7b\u6307\u9488\u6240\u6307\u7a7a\u95f4\u91ca\u653e\u540e\uff0c\u7834\u574f\u4e86\u6d3e\u751f\u7c7b\u6570\u636e\u3002</p> <p>\u53c8\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4)\n\nclass Pet { \npublic:  \n    int att_i;\n    Pet(int x = 0): att_i(x) { }\n};\n\nclass Dog: public Pet { \npublic:  \n    int att_j;\n    Dog(int x = 0, int y = 0): Pet(x), att_j(y) { }\n};\n\nint main() {\n    Dog g(2, 3);\n    cout &lt;&lt; g.att_i &lt;&lt; \" \" &lt;&lt; g.att_j &lt;&lt; endl;\n    Pet&amp; p = g; // \u5f15\u7528\u5411\u4e0a\u8f6c\u6362\n    cout &lt;&lt; p.att_i &lt;&lt; endl;\n    p.att_i = 1; // \u4fee\u6539\u57fa\u7c7b\u5b58\u5728\u7684\u6570\u636e\n    cout &lt;&lt; p.att_i &lt;&lt; endl;\n    cout &lt;&lt; g.att_i &lt;&lt; \" \" &lt;&lt; g.att_j &lt;&lt; endl; // \u5f71\u54cd\u6d3e\u751f\u7c7b\uff0c\u4f46\u662f\u5c06\u6d3e\u751f\u7c7b\u8f6c\u5316\u4e3a\u57fa\u7c7b\u7684\u5f15\u7528\u540e\uff0c\u539f\u6765\u7684\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5e76\u4e0d\u4f1a\u88ab\u9500\u6bc1\n    return 0;\n}\n\n/*\noutput:\n2 3\n2\n1\n1 3\n*/\n</code></pre> <p>\u8bfe\u5802\u4e0a\u7684\u4f8b\u5b50\u53ea\u5f3a\u8c03\u4e86\u57fa\u7c7b\u5f15\u7528\u4f1a\u5f71\u54cd\u6d3e\u751f\u7c7b\u6570\u636e\uff0c\u5b9e\u9645\u4e0a\u5e94\u7ed3\u5408\u5730\u5740\u548c\u5185\u5b58\u7a7a\u95f4\u6765\u7406\u89e3\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Instrument {\npublic:\n    void play() { cout &lt;&lt; \"Instrument::play\" &lt;&lt; endl; }\n};\n\nclass Wind: public Instrument {\npublic:\n    // Redefine interface function\n    void play() { cout &lt;&lt; \"Wind::play\" &lt;&lt; endl; }\n};\n\nvoid tune(Instrument&amp; i) {\n    i.play();\n}\n\nint main() {\n    Wind flute;\n    tune(flute); // \u5f15\u7528\u7684\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\uff0c\u7f16\u8bd1\u5668\u65e9\u7ed1\u5b9a\uff0c\u65e0\u5bf9\u8c61\u5207\u7247\u4ea7\u751f\n    Instrument &amp;inst = flute; // \u5f15\u7528\u7684\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\n    inst.play();\n    return 0;\n}\n\n/*\noutput:\nInstrument::play\nInstrument::play\n*/\n</code></pre> <p>\u540c\u6837\u7684\uff0c<code>Ins</code> \u7c7b\u7684\u5f15\u7528\u7684\u6743\u9650\u4e0d\u8db3\u4ee5\u8bbf\u95ee <code>Wind</code> \u7684 <code>public</code> \u63a5\u53e3\u3002</p> <p>\u6700\u540e\uff0c\u6307\u9488\u7684\u57fa\u672c\u77e5\u8bc6\uff1a\u6307\u9488\u7684\u503c\u662f\u6307\u6307\u9488\u6240\u6307\u5411\u7684\u5730\u5740\u3002\u800c\u6307\u9488\u672c\u8eab\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u4e5f\u9700\u8981\u5185\u5b58\u7a7a\u95f4\u5b58\u653e\uff0c\u6307\u9488\u7684\u5730\u5740\u5c31\u662f\u5b58\u653e\u6307\u9488\u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u3002\u6bd4\u5982 <code>g</code> \u662f <code>Dog</code> \u7c7b\u578b\u7684\u6307\u9488</p> <p><code>cout &lt;&lt; \"locate of g: \" &lt;&lt; g &lt;&lt; endl</code> \u662f\u6253\u5370 <code>g</code> \u6307\u5411\u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u3002</p> <p><code>cout &lt;&lt; \"locate of g: \" &lt;&lt; &amp;g &lt;&lt; endl</code> \u662f\u5b58\u50a8 <code>g</code> \u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u3002</p> <p>\u800c\u5bf9\u4e8e\u53d8\u91cf\uff0c\u4f8b\u5982 <code>Pet p</code>\uff0c<code>&amp;</code> \u53d6\u5730\u5740\u7b26\u5373\u53ef\u8f93\u51fa\u5730\u5740\u3002\u5373 <code>cout &lt;&lt; \"locate of p: \" &lt;&lt; &amp;p &lt;&lt; endl</code>\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_9","title":"\u865a\u51fd\u6570","text":""},{"location":"languages/c-oop/virtual-function/#_10","title":"\u51fd\u6570\u8c03\u7528\u7ed1\u5b9a","text":"<p>\u628a\u51fd\u6570\u4f53\u4e0e\u51fd\u6570\u8c03\u7528\u76f8\u8054\u7cfb\u79f0\u4e3a\u6346\u7ed1\u3002\u5373\u5c06\u51fd\u6570\u4f53\u7684\u5177\u4f53\u5b9e\u73b0\u4ee3\u7801\uff0c\u4e0e\u8c03\u7528\u7684\u51fd\u6570\u540d\u7ed1\u5b9a\uff0c\u6267\u884c\u5230\u8c03\u7528\u4ee3\u7801\u65f6\u8fdb\u5165\u76f4\u63a5\u8fdb\u5165\u6346\u7ed1\u597d\u7684\u51fd\u6570\u4f53\u5185\u90e8\u3002</p> <p>\u5f53\u6346\u7ed1\u5728\u7a0b\u5e8f\u8fd0\u884c\u4e4b\u524d\uff08\u7531\u7f16\u8bd1\u5668\u548c\u94fe\u63a5\u5668\uff09\u5b8c\u6210\uff0c\u4e5f\u5373\u662f\u8fd0\u884c\u4e4b\u524d\u5df2\u7ecf\u51b3\u5b9a\u4e86\u51fd\u6570\u7a76\u7adf\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\uff0c\u79f0\u4e3a\u65e9\u6346\u7ed1\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Instrument {\npublic:\n    void play() { cout &lt;&lt; \"Instrument::play\" &lt;&lt; endl; }\n};\n\nclass Wind: public Instrument {\npublic:\n    // Redefine interface function\n    void play() { cout &lt;&lt; \"Wind::play\" &lt;&lt; endl; }\n};\n\nvoid tune(Instrument&amp; i) {\n    i.play();\n}\n\nint main() {\n    Wind flute;\n    tune(flute); // (1)\n    Instrument &amp;inst = flute;  // \u5f15\u7528\u7684\u5411\u4e0a\u7c7b\u578b\u8f6c\u6362(\u8d4b\u503c)\n    inst.play(); // (2)\n    // \u5982\u679c\u5bf9 play \u51fd\u6570\u52a0\u4e0a virtual \u5173\u952e\u5b57\uff0c\u5219\u4e24\u6b21\u8c03\u7528\u90fd\u4f1a\u8c03\u7528 Wind \u7684 play \u51fd\u6570\u4e86\u3002\uff08\u865a\u51fd\u6570\u5185\u5bb9\u89c1\u4e0b\uff09\n    return 0;\n}\n\n/*\noutput:\nInstrument::play\nInstrument::play\n*/\n</code></pre> <p><code>(1)</code> \u5904\u7531\u4e8e\u662f\u7f16\u8bd1\u5668\u65e9\u7ed1\u5b9a\uff0c\u7f16\u8bd1\u5668\u6839\u636e <code>tune</code> \u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff08\u4e5f\u5c31\u662f <code>Instrument</code>\uff09\u51b3\u5b9a\u8981\u8c03\u7528 <code>Instrument</code> \u7c7b\u578b\u7684 <code>play</code>\u3002\u6240\u4ee5\u5728\u771f\u6b63\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u5373\u4f7f\u4f20\u8fdb\u53bb\u7684\u662f\u4e00\u4e2a <code>Wind</code> \u7c7b\u578b\uff0c\u7f16\u8bd1\u5668\u4e3a\u4e86\u8c03\u7528 <code>Instrument</code> \u7c7b\u578b\u7684\u6210\u5458\u51fd\u6570\uff0c\u4f1a\u5bf9\u4f20\u8fdb\u53bb\u7684 <code>Wind</code> \u5bf9\u8c61\u8fdb\u884c\u5207\u7247\uff0c\u800c\u4e0d\u4f1a\u53bb\u8c03\u7528 <code>Wind</code> \u7684\u6210\u5458\u51fd\u6570\u3002</p> <p><code>(2)</code> \u5904 <code>inst</code> \u662f <code>flute</code> \u7684\u5f15\u7528\uff0c\u7531\u4e8e\u53d1\u751f\u5207\u7247\uff0c\u7f16\u8bd1\u5668\u5c06 <code>tune</code> \u4e2d\u7684\u51fd\u6570\u8c03\u7528 <code>i.play()</code> \u4e0e <code>Instrument::play()</code> \u7ed1\u5b9a\u3002</p> <p>\u5f53\u6346\u7ed1\u6839\u636e\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\uff08\u4e0a\u4f8b\u4e2d\u5373\u5b50\u7c7b <code>Wind</code> \u800c\u975e <code>Instrument</code>\uff09\uff0c\u53d1\u751f\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u79f0\u4e3a\u665a\u6346\u7ed1\uff0c\u53c8\u79f0\u52a8\u6001\u6346\u7ed1\u6216\u8fd0\u884c\u65f6\u6346\u7ed1\u3002</p> <p>\u4e5f\u5373\u662f\u8981\u6c42\u5728\u8fd0\u884c\u65f6\u80fd\u786e\u5b9a\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u5e76\u7ed1\u5b9a\u6b63\u786e\u7684\u51fd\u6570\u3002</p> <p>\u665a\u6346\u7ed1\u53ea\u5bf9\u7c7b\u4e2d\u7684\u865a\u51fd\u6570\u8d77\u4f5c\u7528\uff0c\u4f7f\u7528 <code>virtual</code> \u5173\u952e\u5b57\u58f0\u660e\u865a\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_11","title":"\u865a\u51fd\u6570\u5b9a\u4e49","text":"<p>\u5bf9\u4e8e\u88ab\u6d3e\u751f\u7c7b\u91cd\u65b0\u5b9a\u4e49\u7684\u6210\u5458\u51fd\u6570\uff0c\u82e5\u5b83\u5728\u57fa\u7c7b\u4e2d\u88ab\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff08\u5982\u4e0b\u6240\u793a\uff09\uff0c\u5219\u901a\u8fc7\u57fa\u7c7b\u6307\u9488\u6216\u5f15\u7528\u8c03\u7528\u8be5\u6210\u5458\u51fd\u6570\u65f6\uff0c\u7f16\u8bd1\u5668\u5c06\u6839\u636e\u6240\u6307\uff08\u6216\u5f15\u7528\uff09\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\u51b3\u5b9a\u662f\u8c03\u7528\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\uff0c\u8fd8\u662f\u8c03\u7528\u6d3e\u751f\u7c7b\u91cd\u5199\u7684\u51fd\u6570\u3002</p> <pre><code>class Base {\npublic:\n    virtual ReturnType FuncName(argument); // \u865a\u51fd\u6570\n};\n</code></pre> <p>\u82e5\u67d0\u6210\u5458\u51fd\u6570\u5728\u57fa\u7c7b\u4e2d\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u5f53\u6d3e\u751f\u7c7b override \u5b83\u65f6\uff08\u540c\u540d\uff0c\u540c\u53c2\u6570\u51fd\u6570\uff09\uff0c\u65e0\u8bba\u662f\u5426\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u8be5\u6210\u5458\u51fd\u6570\u90fd\u4ecd\u7136\u662f\u865a\u51fd\u6570\u3002</p> <p>\u533a\u5206 override \u548c redefining\u3002redefining \u662f\u5728\u6d3e\u751f\u7c7b\u4e2d\u91cd\u65b0\u5b9a\u4e49\u540c\u540d\u3001\u53c2\u6570\u53ef\u80fd\u4e0d\u540c\u7684\u51fd\u6570\uff0c\u5e76\u5c4f\u853d\u4e86\u57fa\u7c7b\u7684\u6240\u6709\u540c\u540d\u51fd\u6570\u3002override \u5219\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u91cd\u5199\u9690\u85cf\uff0c\u8981\u6c42\u4e0d\u4ec5\u540c\u540d\uff0c\u53c2\u6570\u4e5f\u8981\u76f8\u540c\uff0c\u662f\u4e00\u4e2a\u9488\u5bf9\u865a\u51fd\u6570\u7684\u6982\u5ff5\uff0c\u4f7f\u7528\u6761\u4ef6\u66f4\u52a0\u4e25\u683c\u3002</p> <p>\u4ec0\u4e48\u662f\u6307\u9488\u548c\u5f15\u7528\u7684\u201c\u5b9e\u9645\u7c7b\u578b\u201d\uff1f</p> <pre><code>Wind flute;\nInstrument* inst = &amp;flute; // \u6307\u9488 inst \u7684\u5b9e\u9645\u7c7b\u578b\u662f Wind\nWind flute;\nInstrument&amp; inst = flute; // \u5f15\u7528 inst \u7684\u5b9e\u9645\u7c7b\u578b\u662f Wind\n</code></pre> <p>\u7531\u6b64\u4e5f\u80fd\u770b\u51fa\u4e3a\u4ec0\u4e48\u53ea\u6709\u5728\u4f7f\u7528\u6307\u9488\u548c\u5f15\u7528\u7684\u65f6\u5019\u591a\u6001\u624d\u53ef\u80fd\u53d1\u751f\uff0c\u800c\u5bf9\u4e8e\u5bf9\u8c61\uff0c\u591a\u6001\u4e0d\u4f1a\u53d1\u751f\u3002\u6bd4\u5982\uff1a</p> <pre><code>Wind flute;\nInstrument inst = flute; // \u62f7\u8d1d\u5207\u7247\u540e\u6784\u9020\u4e86 Instrument \u5bf9\u8c61 inst\n</code></pre> <p>\u6b64\u65f6 <code>inst</code> \u5c31\u662f <code>Instrument</code> \u7c7b\u578b\uff0c\u6ca1\u6709\u201c\u5b9e\u9645\u7c7b\u578b\u201d\u548c\u201c\u8868\u73b0\u7c7b\u578b\u201d\u7684\u533a\u522b\u3002</p> <p>\u8fd9\u5bf9\u4e8e\u53c2\u6570\u662f <code>Instrument</code> \u7c7b\u578b\u7684\u5168\u5c40\u51fd\u6570\u4e5f\u9002\u7528\uff0c\u5982\u4e0b\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Instrument {\npublic:\n    virtual void play() { cout &lt;&lt; \"Instrument::play\" &lt;&lt; endl; }\n};\n\nclass Wind: public Instrument {\npublic:\n    void play() { cout &lt;&lt; \"Wind::play\" &lt;&lt; endl; }\n};\n\nvoid tune(Instrument&amp; ins) {\n    ins.play(); // \u7531\u4e8e Instrument::play \u662f\u865a\u51fd\u6570\uff0c\u7f16\u8bd1\u65f6\u4e0d\u518d\u76f4\u63a5\u7ed1\u5b9a\uff0c\u8fd0\u884c\u65f6\u6839\u636e ins \u7684\u5b9e\u9645\u7c7b\u578b\u8c03\u7528\u3002\n}\n\nint main() {\n    Wind flute;\n    tune(flute); // \u5411\u4e0a\u7c7b\u578b\u8f6c\u6362\n    return 0;\n}\n\n/*\noutput:\nWind::play\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\u4e0a\u65b9 <code>void tune(Instrument&amp; ins)</code> \u7684\u53c2\u6570\u662f\u5f15\u7528\uff08\u6216\u6307\u9488\uff09\uff0c\u624d\u6210\u529f\u8d77\u5230\u4e86\u665a\u7ed1\u5b9a\u6548\u679c\u3002\u5982\u679c\u53c2\u6570\u662f <code>void tune(Instrument ins)</code> \uff0c\u90a3\u4e48\u53d1\u751f\u62f7\u8d1d\u578b\u5207\u7247\uff0c\u4f9d\u7136\u65e0\u6cd5\u665a\u7ed1\u5b9a\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_12","title":"\u865a\u51fd\u6570\u8868","text":""},{"location":"languages/c-oop/virtual-function/#_13","title":"\u6982\u8ff0","text":"<p>\u4e3a\u4e86\u5b9e\u73b0 C++ \u7684\u591a\u6001\uff0cC++ \u4f7f\u7528\u4e86\u4e00\u79cd\u52a8\u6001\u7ed1\u5b9a\u7684\u6280\u672f\u3002\u8fd9\u4e2a\u6280\u672f\u7684\u6838\u5fc3\u662f\u865a\u51fd\u6570\u8868\uff08\u7b80\u79f0\u865a\u8868\uff09\u3002\u672c\u8282\u4ecb\u7ecd\u865a\u51fd\u6570\u8868\u662f\u5982\u4f55\u5b9e\u73b0\u52a8\u6001\u7ed1\u5b9a\u7684\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_14","title":"\u7c7b\u7684\u865a\u8868","text":"<p>\u6bcf\u4e2a\u5305\u542b\u4e86\u865a\u51fd\u6570\u7684\u7c7b\u90fd\u5305\u542b\u4e00\u4e2a\u5c5e\u4e8e\u6574\u4e2a\u7c7b\u7684\u865a\u8868\u3002</p> <p>\u5f53\u4e00\u4e2a\u7c7b <code>A</code> \u7ee7\u627f\u53e6\u4e00\u4e2a\u7c7b <code>B</code> \u65f6\uff0c\u7c7b <code>A</code> \u4f1a\u7ee7\u627f\u7c7b <code>B</code> \u7684\u51fd\u6570\u7684\u8c03\u7528\u6743\u3002\u6240\u4ee5\u5982\u679c\u4e00\u4e2a\u57fa\u7c7b\u5305\u542b\u4e86\u865a\u51fd\u6570\uff0c\u90a3\u4e48\u5176\u7ee7\u627f\u7c7b\u4e5f\u53ef\u8c03\u7528\u8fd9\u4e9b\u865a\u51fd\u6570\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e00\u4e2a\u7c7b\u7ee7\u627f\u4e86\u5305\u542b\u865a\u51fd\u6570\u7684\u57fa\u7c7b\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7c7b\u4e5f\u62e5\u6709\u81ea\u5df1\u7684\u865a\u8868\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>class A {\npublic:\n    virtual void vfunc1();\n    virtual void vfunc2();\n    void func1();\n    void func2();\nprivate:\n    int m_data1, m_data2;\n};\n</code></pre> <p>\u7c7b <code>A</code> \u5305\u542b\u865a\u51fd\u6570 <code>vfunc1</code>\u3001<code>vfunc2</code>\uff0c\u7531\u4e8e\u7c7b <code>A</code> \u5305\u542b\u865a\u51fd\u6570\uff0c\u6545\u7c7b <code>A</code> \u62e5\u6709\u4e00\u4e2a\u865a\u8868\u3002</p> <p></p> <p>\u865a\u8868\u662f\u4e00\u4e2a\u6307\u9488\u6570\u7ec4\uff0c\u5176\u5143\u7d20\u662f\u865a\u51fd\u6570\u7684\u6307\u9488\uff0c\u6bcf\u4e2a\u5143\u7d20\u5bf9\u5e94\u4e00\u4e2a\u865a\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u666e\u901a\u7684\u51fd\u6570\u5373\u975e\u865a\u51fd\u6570\uff0c\u5176\u8c03\u7528\u5e76\u4e0d\u9700\u8981\u7ecf\u8fc7\u865a\u8868\uff0c\u6240\u4ee5\u865a\u8868\u7684\u5143\u7d20\u5e76\u4e0d\u5305\u62ec\u666e\u901a\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u3002</p> <p>\u865a\u8868\u5185\u7684\u6761\u76ee\uff0c\u5373\u865a\u51fd\u6570\u6307\u9488\u7684\u8d4b\u503c\u53d1\u751f\u5728\u7f16\u8bd1\u5668\u7684\u7f16\u8bd1\u9636\u6bb5\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u4ee3\u7801\u7684\u7f16\u8bd1\u9636\u6bb5\uff0c\u865a\u8868\u5c31\u5b8c\u6210\u4e86\u6784\u9020\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_15","title":"\u865a\u8868\u6307\u9488","text":"<p>\u865a\u8868\u662f\u5c5e\u4e8e\u7c7b\u7684\uff0c\u800c\u4e0d\u662f\u5c5e\u4e8e\u67d0\u4e2a\u5177\u4f53\u7684\u5bf9\u8c61\uff0c\u4e00\u4e2a\u7c7b\u53ea\u9700\u8981\u4e00\u4e2a\u865a\u8868\u5373\u53ef\uff0c\u540c\u4e00\u4e2a\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u90fd\u4f7f\u7528\u540c\u4e00\u4e2a\u865a\u8868\uff08\u4f46\u53e6\u4e00\u65b9\u9762\uff0c\u4e0d\u540c\u7684\u7c7b\u7684\u865a\u8868\u4e0d\u540c\uff0c\u5373\u4f7f\u5b83\u4eec\u6709\u7ee7\u627f\u5173\u7cfb\uff09\u3002</p> <p>\u6bcf\u4e00\u4e2a\u865a\u51fd\u6570\u7c7b\u5bf9\u8c61\u5185\u90e8\u5305\u542b\u4e00\u4e2a\u6307\u5411\u6240\u5c5e\u7c7b\u7684\u865a\u8868\u7684\u6307\u9488\uff0c\u6765\u6307\u5411\u81ea\u5df1\u6240\u4f7f\u7528\u7684\u865a\u8868\u3002\u4e3a\u4e86\u8ba9\u6bcf\u4e2a\u5305\u542b\u865a\u8868\u7684\u7c7b\u7684\u5bf9\u8c61\u90fd\u62e5\u6709\u4e00\u4e2a\u865a\u8868\u6307\u9488\uff0c\u7f16\u8bd1\u5668\u5728\u7c7b\u4e2d\u9690\u5f0f\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6307\u9488 <code>*vptr</code>\uff0c\u7528\u6765\u6307\u5411\u865a\u8868\u3002\u8fd9\u6837\uff0c\u5f53\u7c7b\u7684\u5bf9\u8c61\u5728\u521b\u5efa\u65f6\u4fbf\u62e5\u6709\u4e86\u8fd9\u4e2a\u6307\u9488\uff0c\u4e14\u8fd9\u4e2a\u6307\u9488\u7684\u503c\u4f1a\u81ea\u52a8\u88ab\u8bbe\u7f6e\u4e3a\u6307\u5411\u7c7b\u7684\u865a\u8868\u3002</p> <p>\u8fdb\u4e00\u6b65\u800c\u8a00\uff0c\u5bf9\u8c61\u7684\u865a\u8868\u6307\u9488\u7528\u6765\u6307\u5411\u81ea\u5df1\u6240\u5c5e\u7c7b\u7684\u865a\u8868\uff0c\u865a\u8868\u4e2d\u7684\u51fd\u6570\u6307\u9488\u4f1a\u6307\u5411\u5176\u7ee7\u627f\u7684\u6700\u8fd1\u7684\u4e00\u4e2a\u7c7b\u7684\u865a\u51fd\u6570\u4e0e\u81ea\u8eab\u91cd\u5199\u8986\u76d6\u7684\u865a\u51fd\u6570\u3002</p> <p></p> <p>\u524d\u6587\u6307\u51fa\uff0c\u4e00\u4e2a\u7ee7\u627f\u7c7b\u7684\u57fa\u7c7b\u5982\u679c\u5305\u542b\u865a\u51fd\u6570\uff0c\u90a3\u4e2a\u8fd9\u4e2a\u7ee7\u627f\u7c7b\u4e5f\u6709\u62e5\u6709\u81ea\u5df1\u7684\u4e0d\u540c\u7684\u865a\u8868\u3002\u8fd9\u4e2a\u7ee7\u627f\u7c7b\u7684\u5bf9\u8c61\u4e5f\u5305\u542b\u4e00\u4e2a\u865a\u8868\u6307\u9488\uff0c\u7528\u6765\u6307\u5411\u5b83\u7684\u865a\u8868\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_16","title":"\u52a8\u6001\u7ed1\u5b9a","text":"<pre><code>class A {\npublic:\n    virtual void vfunc1();\n    virtual void vfunc2();\n    void func1();\n    void func2();\nprivate:\n    int m_data1, m_data2;\n};\n\nclass B: public A {\npublic:\n    virtual void vfunc1();\n    void func1();\nprivate:\n    int m_data3;\n};\n\nclass C: public B {\npublic:\n    virtual void vfunc2();\n    void func2();\nprivate:\n    int m_data1, m_data4;\n};\n</code></pre> <p>\u7c7b <code>A</code> \u662f\u57fa\u7c7b\uff0c\u7c7b <code>B</code> \u7ee7\u627f\u7c7b <code>A</code>\uff0c\u7c7b <code>C</code> \u53c8\u7ee7\u627f\u7c7b <code>B</code>\u3002\u7531\u4e8e\u8fd9\u4e09\u4e2a\u7c7b\u90fd\u6709\u865a\u51fd\u6570\uff0c\u6545\u7f16\u8bd1\u5668\u4e3a\u6bcf\u4e2a\u7c7b\u90fd\u521b\u5efa\u4e86\u4e00\u4e2a\u865a\u8868\uff0c\u5373\u7c7b <code>A</code> \u7684\u865a\u8868\uff0c\u7c7b <code>B</code> \u7684\u865a\u8868\uff0c\u7c7b <code>C</code> \u7684\u865a\u8868\u3002\u7c7b <code>A</code>\uff0c\u7c7b <code>B</code>\uff0c\u7c7b <code>C</code> \u7684\u5bf9\u8c61\u90fd\u62e5\u6709\u4e00\u4e2a\u865a\u8868\u6307\u9488 <code>*__vptr</code> \u7528\u6765\u6307\u5411\u81ea\u5df1\u6240\u5c5e\u7c7b\u7684\u865a\u8868\u3002</p> <p>\u6ce8\u610f\u5230\u524d\u6587\u6240\u8ff0\uff1a\u5bf9\u8c61\u7684\u865a\u8868\u6307\u9488\u7528\u6765\u6307\u5411\u81ea\u5df1\u6240\u5c5e\u7c7b\u7684\u865a\u8868\uff0c\u865a\u8868\u4e2d\u7684\u51fd\u6570\u6307\u9488\u4f1a\u6307\u5411\u5176\u7ee7\u627f\u7684\u6700\u8fd1\u7684\u4e00\u4e2a\u7c7b\u7684\u865a\u51fd\u6570\uff08\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48 <code>C</code> \u7c7b\u5bf9\u8c61\u7684\u865a\u8868\u4e2d\u7684\u51fd\u6570\u6307\u9488\u4f1a\u6307\u5411 <code>B::vfunc1</code>\uff09\u4e0e\u81ea\u8eab\u91cd\u5199\u8986\u76d6\u7684\u865a\u51fd\u6570\u3002</p> <p>\u7c7b <code>A</code> \u5305\u62ec\u4e24\u4e2a\u865a\u51fd\u6570\uff0c\u6545 <code>A</code> \u7684\u865a\u8868\u5305\u542b\u4e24\u4e2a\u6307\u9488\uff0c\u5206\u522b\u6307\u5411 <code>A::vfunc1()</code> \u548c <code>A::vfunc2()</code>\u3002</p> <p>\u7c7b <code>B</code> \u7ee7\u627f\u4e8e\u7c7b <code>A</code>\uff0c\u6545\u7c7b <code>B</code> \u53ef\u4ee5\u8c03\u7528\u7c7b <code>A</code> \u7684\u51fd\u6570\uff0c\u4f46\u7531\u4e8e\u7c7b <code>B</code> \u91cd\u5199\u4e86 <code>B::vfunc1()</code> \u51fd\u6570\uff0c\u6545 <code>B</code> \u7684\u865a\u8868\u7684\u4e24\u4e2a\u6307\u9488\u5206\u522b\u6307\u5411 <code>B::vfunc1()</code> \u548c <code>A::vfunc2()</code>\u3002</p> <p>\u7c7b <code>C</code> \u7ee7\u627f\u4e8e\u7c7b <code>B</code>\uff0c\u6545\u7c7b <code>C</code> \u53ef\u4ee5\u8c03\u7528\u7c7b <code>B</code> \u7684\u51fd\u6570\uff0c\u4f46\u7531\u4e8e\u7c7b <code>C</code> \u91cd\u5199\u4e86 <code>C::vfunc2()</code> \u51fd\u6570\uff0c\u6545 <code>C</code> \u7684\u865a\u8868\u7684\u4e24\u4e2a\u6307\u9488\u5206\u522b\u6307\u5411 <code>B::vfunc1()</code>\uff08\u6307\u5411\u7ee7\u627f\u7684\u6700\u8fd1\u7684\u4e00\u4e2a\u7c7b\u7684\u51fd\u6570\uff09\u548c <code>C::vfunc2()</code>\u3002</p> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u7c7b <code>X</code> \u7684\u865a\u51fd\u6570\u8868\u7684\u51fd\u6570\u6307\u9488\u6307\u5411\u7ee7\u627f\u94fe\u4e0a\u6240\u6709\u6ca1\u6709\u53d1\u751f\u91cd\u5199\u8986\u76d6\u7684\u865a\u51fd\u6570\u548c\u88ab <code>X</code> \u7c7b\u91cd\u5199\u8986\u76d6\u7684\u865a\u51fd\u6570\uff08\u4f46\u662f\uff0c\u5982\u679c\u7ee7\u627f\u94fe\u4e0a <code>X</code> \u4e4b\u4e0a\u7684\u7c7b\u4e2d\uff0c\u67d0\u51fd\u6570\u53d1\u751f\u4e86\u91cd\u5199\u8986\u76d6\uff0c\u4f46\u540c\u65f6\u91cd\u65b0\u58f0\u660e\u4e86 <code>virtual</code> \u5173\u952e\u5b57\uff0c\u90a3\u4e48\u5b83\u4f1a\u7ee7\u7eed\u51fa\u73b0\u5728\u8be5\u7c7b\u7684\u6d3e\u751f\u7c7b\u7684\u865a\u51fd\u6570\u8868\u4e2d\uff09\u3002\u800c\u6bcf\u4e00\u4e2a\u7c7b <code>X</code> \u7684\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u72ec\u5c5e\u4e8e\u81ea\u8eab\u7684\u865a\u8868\u6307\u9488\uff0c\u6765\u6307\u5411 <code>X</code> \u7c7b\u7684\u865a\u8868\u3002\u6ce8\u610f\u5230\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6d3e\u751f\u7c7b\u5bf9\u8c61 <code>y</code>\uff0c<code>y</code> \u7684\u865a\u8868\u6307\u9488\u4f4d\u4e8e\u57fa\u7c7b\u90e8\u5206\uff0c\u4e5f\u5c31\u662f <code>y</code> \u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5934\u90e8\u3002\u7ed3\u5408\u5230\u524d\u6587\u53d9\u8ff0\u7684\u201c\u7ee7\u627f\u7c7b\u7684\u5185\u5b58\u7ed3\u6784\u201d\uff0c\u65e0\u8bba\u7528\u54ea\u4e00\u4e2a\u57fa\u7c7b\u7684\u6307\u9488\u53bb\u6307\u5411\u4e00\u4e2a\u6d3e\u751f\u7c7b\u5bf9\u8c61\uff0c\u57fa\u7c7b\u6307\u9488\u90fd\u80fd\u6709\u6743\u8bbf\u95ee\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5185\u5b58\u7a7a\u95f4\u7684\u5934\u90e8\uff0c\u90fd\u6709\u6743\u8bbf\u95ee\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u865a\u51fd\u6570\u6307\u9488\uff0c\u8fdb\u800c\u80fd\u591f\u5b8c\u5168\u8bbf\u95ee\u6d3e\u751f\u7c7b\u7684\u865a\u51fd\u6570\u8868\u3002</p> <p>\u8fd9\u4e5f\u53ef\u4ee5\u89e3\u91ca\uff0c\u4e3a\u4ec0\u4e48\u53ea\u6709\u6307\u9488\u578b\u7684\u5207\u7247\u80fd\u591f\u5b9e\u73b0\u665a\u7ed1\u5b9a\u3002\u56e0\u4e3a\u62f7\u8d1d\u578b\u7684\u5207\u7247\u65e0\u6cd5\u8bbf\u95ee\u539f\u5bf9\u8c61\u7684\u5185\u5b58\u7a7a\u95f4\u5934\u90e8\uff0c\u800c\u662f\u5c06\u8fd9\u7247\u5185\u5b58\u7a7a\u95f4\u4e0a\u7684\u6570\u636e\u5728\u53e6\u4e00\u7247\u5185\u5b58\u7a7a\u95f4\u62f7\u8d1d\u4e86\u4e00\u756a\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>class A {\npublic:\n    virtual void vfunc1();\n    virtual void vfunc2();\n    void func1();\n    void func2();\nprivate:\n    int m_data1, m_data2;\n}; \n\nclass B: public A {\npublic:\n    virtual void vfunc1();\n    void func1();\nprivate:\n    int m_data3;\n};\n\nclass C: public B {\npublic:\n    virtual void vfunc2();\n    void func2();\nprivate:\n    int m_data1, m_data4;\n};\n\nint main() {\n    B bObject;\n    A *p = &amp;bObject;\n    p-&gt;vfunc1();\n}\n</code></pre> <p>\u7a0b\u5e8f\u5728\u6267\u884c <code>p-&gt;vfunc1()</code> \u65f6\uff0c\u68c0\u6d4b\u5230 <code>p</code> \u662f\u4e2a\u6307\u9488\uff08\u5df2\u7ecf\u65e0\u9700\u5728\u610f\u662f\u4ec0\u4e48\u7c7b\u7684\u6307\u9488\u4e86\uff09\uff0c\u4e14\u8c03\u7528\u7684\u51fd\u6570\u662f\u865a\u51fd\u6570\u3002\u9996\u5148\uff0c\u6839\u636e\u865a\u8868\u6307\u9488 <code>p-&gt;__vptr</code> \u6765\u8bbf\u95ee\u5bf9\u8c61 <code>bObject</code> \u5bf9\u5e94\u7684\u865a\u8868\u3002\u867d\u7136\u6307\u9488 <code>p</code> \u662f\u57fa\u7c7b <code>A*</code> \u7c7b\u578b\uff0c\u4f46\u662f <code>*__vptr</code> \u4e5f\u662f\u57fa\u7c7b\u7684\u4e00\u90e8\u5206\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7 <code>p-&gt;__vptr</code> \u53ef\u4ee5\u8bbf\u95ee\u5230\u5bf9\u8c61\u5bf9\u5e94\u7684\u865a\u8868\u3002</p> <p>\u7136\u540e\uff0c\u5728\u865a\u8868\u4e2d\u67e5\u627e\u6240\u8c03\u7528\u7684\u51fd\u6570\u5bf9\u5e94\u7684\u6761\u76ee\u3002\u7531\u4e8e\u865a\u8868\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u5df2\u5b8c\u6210\u6784\u9020\uff0c\u6240\u4ee5\u53ef\u4ee5\u6839\u636e\u6240\u8c03\u7528\u7684\u51fd\u6570\u5b9a\u4f4d\u5230\u865a\u8868\u4e2d\u7684\u5bf9\u5e94\u6761\u76ee\u3002<code>p-&gt;vfunc1()</code> \u7684\u8c03\u7528\u5bf9\u5e94 <code>B</code> \u865a\u8868\u7684\u7b2c\u4e00\u9879\uff0c\u5373\u662f <code>B::vfunc1</code> \u5bf9\u5e94\u7684\u6761\u76ee\u3002</p> <p>\u6700\u540e\uff0c\u6839\u636e\u865a\u8868\u4e2d\u627e\u5230\u7684\u51fd\u6570\u6307\u9488\uff0c\u8c03\u7528\u51fd\u6570\u3002\u4ece\u56fe\u53ef\u4ee5\u770b\u5230\uff0c<code>B</code> \u865a\u8868\u7684\u7b2c\u4e00\u9879\u6307\u5411 <code>B::vfunc1()</code>\uff0c\u6240\u4ee5 <code>p-&gt;vfunc1()</code> \u5b9e\u8d28\u4f1a\u8c03\u7528 <code>B::vfunc1()</code> \u51fd\u6570\u3002</p> <p>\u53c8\u6bd4\u5982\uff1a</p> <pre><code>int main() {\n    A aObject;\n    A *p = &amp;aObject;\n    p-&gt;vfunc1();\n}\n</code></pre> <p><code>p</code> \u6307\u5411\u7c7b <code>A</code> \u7684\u5bf9\u8c61\uff0c\u5f53 <code>aObject</code> \u5728\u521b\u5efa\u65f6\uff0c\u5b83\u7684\u865a\u8868\u6307\u9488 <code>__vptr</code> \u5df2\u8bbe\u7f6e\u4e3a\u6307\u5411 <code>A</code> \u7684\u865a\u8868\uff0c\u8fd9\u6837 <code>p-&gt;__vptr</code> \u5c31\u6307\u5411 <code>A</code> \u7684\u865a\u8868\u3002<code>vfunc1</code> \u5728 <code>A</code> \u7684\u865a\u8868\u5bf9\u5e94\u5728\u6761\u76ee\u6307\u5411\u4e86 <code>A::vfunc1()</code> \u51fd\u6570\uff0c\u6240\u4ee5 <code>p-&gt;vfunc1()</code> \u5b9e\u8d28\u4f1a\u8c03\u7528 <code>A::vfunc1()</code> \u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_17","title":"\u52a8\u6001\u7ed1\u5b9a\u7684\u6761\u4ef6","text":"<ul> <li>\u901a\u8fc7\u6307\u9488\u6765\u8c03\u7528\u51fd\u6570</li> <li>\u6307\u9488 upcast \u5411\u4e0a\u7c7b\u578b\u8f6c\u6362</li> <li>\u8c03\u7528\u7684\u662f\u865a\u51fd\u6570</li> </ul> <p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\u7b26\u5408\u4ee5\u4e0a\u4e09\u4e2a\u6761\u4ef6\uff0c\u7f16\u8bd1\u5668\u5c31\u4f1a\u628a\u8be5\u51fd\u6570\u8c03\u7528\u7f16\u8bd1\u6210\u52a8\u6001\u7ed1\u5b9a\uff0c\u5176\u51fd\u6570\u7684\u8c03\u7528\u8fc7\u7a0b\u8d70\u7684\u662f\u4e0a\u8ff0\u901a\u8fc7\u865a\u8868\u7684\u673a\u5236\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_18","title":"\u865a\u6307\u9488\u5927\u5c0f","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#pragma pack(4) // \u6309\u7167 4 \u5b57\u8282\u8fdb\u884c\u5185\u5b58\u5bf9\u9f50\n\nclass NoVirtual { // \u6ca1\u6709\u865a\u51fd\u6570\n    int a;\npublic:\n    void f1() const { }\n    int f2() const { return 1; }\n};\n\nclass OneVirtual { // \u4e00\u4e2a\u865a\u51fd\u6570\n    int a;\npublic:\n    virtual void f1() const { }\n    int f2() const { return 1; }\n};\n\nclass TwoVirtual { // \u4e24\u4e2a\u865a\u51fd\u6570\n    int a;\npublic:\n    virtual void f1() const { }\n    virtual int f2() const { return 1; }\n};\n\nint main() {\n    cout &lt;&lt; \"int: \" &lt;&lt; sizeof(int) &lt;&lt; endl;\n    cout &lt;&lt; \"NoVirtual: \" &lt;&lt; sizeof(NoVirtual) &lt;&lt; endl;\n    cout &lt;&lt; \"void*: \" &lt;&lt; sizeof(void*) &lt;&lt; endl;\n    cout &lt;&lt; \"OneVirtual: \" &lt;&lt; sizeof(OneVirtual) &lt;&lt; endl;\n    cout &lt;&lt; \"TwoVirtual: \" &lt;&lt; sizeof(TwoVirtual) &lt;&lt; endl;\n    return 0;\n}\n\n/*\noutput:\nint: 4\nNoVirtual: 4\nvoid*: 8\nOneVirtual: 12\nTwoVirtual: 12\n*/\n</code></pre> <p>\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0c\u865a\u6307\u9488\u7684\u5927\u5c0f\u4e3a 8 \u5b57\u8282\uff0c\u4e14\u865a\u6307\u9488\u53ea\u662f\u6307\u5411\u4e86\u865a\u8868\uff0c\u865a\u51fd\u6570\u7684\u4e2a\u6570\u53ea\u662f\u5f71\u54cd\u865a\u8868\u7684\u5927\u5c0f\uff0c\u4e0d\u5f71\u54cd\u865a\u6307\u9488\u7684\u5927\u5c0f\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_19","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u4f7f\u7528\u8fd9\u4e9b\u865a\u51fd\u6570\u8868\uff0c\u5373\u4f7f\u4f7f\u7528\u7684\u662f\u57fa\u7c7b\u7684\u6307\u9488\u6765\u8c03\u7528\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u8fbe\u5230\u6b63\u786e\u8c03\u7528\u8fd0\u884c\u4e2d\u5b9e\u9645\u5bf9\u8c61\u7684\u865a\u51fd\u6570\u3002</p> <p>\u628a\u7ecf\u8fc7\u865a\u8868\u8c03\u7528\u865a\u51fd\u6570\u7684\u8fc7\u7a0b\u79f0\u4e3a\u52a8\u6001\u7ed1\u5b9a\uff0c\u5176\u8868\u73b0\u51fa\u6765\u7684\u73b0\u8c61\u79f0\u4e3a\u8fd0\u884c\u65f6\u591a\u6001\u3002\u52a8\u6001\u7ed1\u5b9a\u533a\u522b\u4e8e\u4f20\u7edf\u7684\u51fd\u6570\u8c03\u7528\uff0c\u4f20\u7edf\u7684\u51fd\u6570\u8c03\u7528\u6211\u4eec\u79f0\u4e4b\u4e3a\u9759\u6001\u7ed1\u5b9a\uff0c\u5373\u51fd\u6570\u7684\u8c03\u7528\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u53ef\u4ee5\u786e\u5b9a\u4e0b\u6765\u3002\u5c01\u88c5\uff0c\u7ee7\u627f\uff0c\u591a\u6001\u662f\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u7684\u4e09\u4e2a\u7279\u5f81\uff0c\u800c\u591a\u6001\u662f\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u7684\u5173\u952e\u3002C++ \u901a\u8fc7\u865a\u51fd\u6570\u8868\uff0c\u5b9e\u73b0\u4e86\u865a\u51fd\u6570\u4e0e\u5bf9\u8c61\u7684\u52a8\u6001\u7ed1\u5b9a\uff0c\u4ece\u800c\u6784\u5efa\u4e86 C++ \u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u57fa\u77f3\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_20","title":"\u865a\u51fd\u6570\u4e0e\u6784\u9020\u3001\u6790\u6784","text":""},{"location":"languages/c-oop/virtual-function/#_21","title":"\u865a\u51fd\u6570\u4e0e\u6784\u9020\u51fd\u6570","text":"<p>\u5f53\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u6709\u865a\u51fd\u6570\u7684\u5bf9\u8c61\u65f6\uff0c\u5fc5\u987b\u521d\u59cb\u5316\u5b83\u7684 VPTR \u4ee5\u6307\u5411\u76f8\u5e94\u7684 VTABLE\u3002\u8bbe\u7f6e VPTR \u7684\u5de5\u4f5c\u7531\u6784\u9020\u51fd\u6570\u5b8c\u6210\u3002\u7f16\u8bd1\u5668\u5728\u6784\u9020\u51fd\u6570\u7684\u5f00\u5934\u79d8\u5bc6\u7684\u63d2\u5165\u80fd\u521d\u59cb\u5316 VPTR \u7684\u4ee3\u7801\u3002</p> <p>\u6784\u9020\u51fd\u6570\u4e0d\u80fd\u4e5f\u4e0d\u5fc5\u662f\u865a\u51fd\u6570\u3002</p> <p>\u4e0d\u80fd\uff1a\u5982\u679c\u6784\u9020\u51fd\u6570\u662f\u865a\u51fd\u6570\uff0c\u5219\u521b\u5efa\u5bf9\u8c61\u65f6\u9700\u8981\u5148\u77e5\u9053 VPTR\uff0c\u800c\u5728\u6784\u9020\u51fd\u6570\u8c03\u7528\u524d\uff0cVPTR \u672a\u521d\u59cb\u5316\u3002</p> <p>\u4e0d\u5fc5\uff1a\u6784\u9020\u51fd\u6570\u7684\u4f5c\u7528\u662f\u63d0\u4f9b\u7c7b\u4e2d\u6210\u5458\u521d\u59cb\u5316\uff0c\u8c03\u7528\u65f6\u660e\u786e\u6307\u5b9a\u8981\u521b\u5efa\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u6ca1\u6709\u5fc5\u8981\u662f\u865a\u51fd\u6570\u3002</p> <ul> <li>\u793a\u4f8b</li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\npublic:\n    virtual void foo() { cout &lt;&lt; \"Base::foo\" &lt;&lt; endl; }\n    Base() { foo(); } // \u5728\u6784\u9020\u51fd\u6570\u4e2d\u8c03\u7528\u865a\u51fd\u6570 foo\n    void bar() { foo(); } // \u5728\u666e\u901a\u51fd\u6570\u4e2d\u8c03\u7528\u865a\u51fd\u6570 foo\n};\n\nclass Derived: public Base {\npublic:\n    int _num;\n    void foo() { cout &lt;&lt; \"Derived::foo \" &lt;&lt; _num &lt;&lt; endl;}\n    Derived(int j): Base(), _num(j) { }\n};\n\nint main() {\n    Derived d(0);\n    Base&amp; b = d;\n    b.bar();\n    b.foo();\n    return 0;\n}\n\n/*\noutput:\nBase::foo\nDerived::foo 0\nDerived::foo 0\n*/\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c\u6784\u9020\u51fd\u6570\u91cc\u8c03\u7528\u7684\u662f <code>Base::foo()</code>\uff0c\u56e0\u4e3a\u521d\u59cb\u5316\u5217\u8868\u662f\u6309\u7167\u5b9a\u4e49\u7684\u5148\u540e\u987a\u5e8f\u6765\u521d\u59cb\u5316\u7684\uff0c\u4e0e\u521d\u59cb\u5316\u5217\u8868\u5199\u6cd5\u5148\u540e\u987a\u5e8f\u65e0\u5173\u3002\u800c\u6211\u4eec\u5df2\u77e5\uff0c\u521d\u59cb\u5316\u662f\u5148\u521d\u59cb\u5316\u57fa\u7c7b\u90e8\u5206\uff0c\u518d\u521d\u59cb\u5316\u6d3e\u751f\u7c7b\u90e8\u5206\u3002\u6545\u800c <code>Derived</code> \u7684\u521d\u59cb\u5316\u5217\u8868\u4e2d\u8c03\u7528 <code>Base</code> \u6765\u8fdb\u884c\u6784\u9020\u65f6\uff0c\u4e00\u5b9a\u4f1a\u5148\u8c03\u7528 <code>Base</code> \u7684\u672c\u5730\u7248\u672c\u7684 <code>foo</code>\uff0c\u56e0\u4e3a <code>_num</code> \u8fd8\u672a\u88ab\u521d\u59cb\u5316\u3002\u4e0d\u8fc7\uff0c\u5982\u679c\u5c06 <code>_num</code> \u53bb\u6389\u53c8\u4f1a\u5982\u4f55\uff1f</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\npublic:\n    virtual void foo() { cout &lt;&lt; \"Base::foo\" &lt;&lt; endl; }\n    Base() { foo(); } // \u5728\u6784\u9020\u51fd\u6570\u4e2d\u8c03\u7528\u865a\u51fd\u6570 foo\n    void bar() { foo(); } // \u5728\u666e\u901a\u51fd\u6570\u4e2d\u8c03\u7528\u865a\u51fd\u6570 foo\n};\n\nclass Derived: public Base {\npublic:\n    void foo() { cout &lt;&lt; \"Derived::foo\" &lt;&lt; endl; }\n    Derived(int j): Base() { }\n};\n\nint main() {\n    Derived d(0);\n    return 0;\n}\n\n/*\noutput:\nBase::foo\n*/\n</code></pre> <p>\u4f9d\u7136\u53ea\u662f\u8c03\u7528\u4e86\u672c\u5730\u7248\u672c\u7684 <code>foo</code> \u51fd\u6570\uff0c\u56e0\u4e3a\u5728\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u57fa\u7c7b\u4e2d\u8c03\u7528\u865a\u51fd\u6570\u5982\u679c\u5141\u8bb8\u591a\u6001\u7279\u6027\u7684\u8bdd\uff0c\u5c31\u4f1a\u4f7f\u7528\u6d3e\u751f\u7c7b\u4e2d\u8fd8\u6ca1\u6709\u6784\u9020\u7684\u90e8\u5206\uff0c\u8fd9\u6709\u98ce\u9669\u3002\u6545\u800c C++11 \u7981\u6b62\u4e86\u5728\u672a\u5b8c\u6210\u6784\u9020\u4e4b\u524d\u542f\u7528\u591a\u6001\u7279\u6027\u3002</p> <p>\u9000\u56de\u5230\u6700\u5f00\u59cb\u7684\u4f8b\u5b50\u3002\u5728\u6784\u9020 <code>d</code> \u4e4b\u540e\uff0c<code>b.bar()</code> \u8c03\u7528\u4e4b\u540e\u5b9e\u9645\u4e0a\u4e3a <code>b.foo()</code>\uff0c\u5b8c\u6210\u865a\u51fd\u6570\u5339\u914d\u8c03\u7528\uff0c\u6545\u800c\u8c03\u7528\u4e86 <code>Derived::foo()</code>\u3002</p> <p>\u603b\u7ed3\u3002\u5728\u6784\u9020\u51fd\u6570\u4e2d\u8c03\u7528\u4e00\u4e2a\u865a\u51fd\u6570\uff0c\u88ab\u8c03\u7528\u7684\u53ea\u662f\u8fd9\u4e2a\u51fd\u6570\u7684\u672c\u5730\u7248\u672c\uff08\u5373\u5f53\u524d\u7c7b\u7684\u7248\u672c\uff09\uff0c\u5373\u865a\u673a\u5236\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4e0d\u5de5\u4f5c\u3002</p> <p>\u6784\u9020\u51fd\u6570\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\uff08\u4e0e\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5217\u8868\u987a\u5e8f\u65e0\u5173\uff09\uff1a</p> <ol> <li>\u57fa\u7c7b\u521d\u59cb\u5316</li> <li>\u5bf9\u8c61\u6210\u5458\u521d\u59cb\u5316</li> <li>\u6784\u9020\u51fd\u6570\u4f53</li> </ol>"},{"location":"languages/c-oop/virtual-function/#_22","title":"\u865a\u51fd\u6570\u4e0e\u6790\u6784\u51fd\u6570","text":"<p>\u6790\u6784\u51fd\u6570\u53ef\u4ee5\u662f\u865a\u7684\uff0c\u4e14\u5e38\u5e38\u662f\u865a\u7684\u3002\u865a\u6790\u6784\u51fd\u6570\u4ecd\u9700\u5b9a\u4e49\u51fd\u6570\u4f53\u3002\u5e76\u4e14\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u662f\u865a\u7684\uff0c\u90a3\u4e48\u6d3e\u751f\u7c7b\u7684\u6790\u6784\u51fd\u6570\u4e5f\u662f\u865a\u7684\uff08\u8fd9\u548c\u91cd\u5199\u8986\u76d6\u8981\u6c42\u540c\u540d\u540c\u53c2\u6570\u5e76\u4e0d\u4e00\u6837\uff09\u3002</p> <p>\u865a\u6790\u6784\u51fd\u6570\u7684\u7528\u9014\uff1a\u5f53\u5220\u9664\u57fa\u7c7b\u5bf9\u8c61\u6307\u9488\u65f6\uff0c\u7f16\u8bd1\u5668\u5c06\u6839\u636e\u6307\u9488\u6240\u6307\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u8c03\u7528\u76f8\u5e94\u7684\u6790\u6784\u51fd\u6570\u3002</p> <p>\u82e5\u57fa\u7c7b\u6790\u6784\u4e0d\u662f\u865a\u51fd\u6570\uff0c\u5219\u5220\u9664\u57fa\u7c7b\u6307\u9488\u6240\u6307\u6d3e\u751f\u7c7b\u5bf9\u8c61\u65f6\uff0c\u7f16\u8bd1\u5668\u4ec5\u81ea\u52a8\u8c03\u7528\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\uff0c\u800c\u4e0d\u4f1a\u8003\u8651\u5b9e\u9645\u5bf9\u8c61\u662f\u4e0d\u662f\u57fa\u7c7b\u7684\u5bf9\u8c61\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002</p> <p>\u5728\u6790\u6784\u51fd\u6570\u4e2d\u8c03\u7528\u4e00\u4e2a\u865a\u51fd\u6570\uff0c\u88ab\u8c03\u7528\u7684\u53ea\u662f\u8fd9\u4e2a\u51fd\u6570\u7684\u672c\u5730\u7248\u672c\uff0c\u5373\u865a\u673a\u5236\u5728\u6790\u6784\u51fd\u6570\u4e2d\u4e0d\u5de5\u4f5c\u3002\u7406\u7531\u548c\u6784\u9020\u51fd\u6570\u7c7b\u4f3c\uff0c\u56e0\u4e3a\u6d3e\u751f\u7c7b\u5148\u88ab\u6790\u6784\u3002\u5982\u679c\u5728\u57fa\u7c7b\u7684\u6790\u6784\u91cc\u5141\u8bb8\u542f\u7528\u591a\u6001\u6027\uff0c\u53ef\u80fd\u5c31\u4f1a\u8bbf\u95ee\u5230\u5df2\u7ecf\u88ab\u6d3e\u751f\u7c7b\u6790\u6784\u51fd\u6570\u91ca\u653e\u7684\u5185\u5b58\uff0c\u5b58\u5728\u98ce\u9669\u3002</p> <p>\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8fd9\u4e48\u7406\u89e3\uff1a\u6d3e\u751f\u7c7b\u7684\u6790\u6784\u51fd\u6570\u5176\u5b9e\u662f\u53ea\u6790\u6784\u6d3e\u751f\u7c7b\u591a\u51fa\u7684\u90e8\u5206\u3002\u66f4\u5177\u4f53\u7684\u7ec6\u8282\u662f\u865a\u6307\u9488\u6307\u5411\u7684\u5b50\u7c7b\u865a\u51fd\u6570\u8868\u5df2\u7ecf\u88ab\u91ca\u653e\u4e86\uff0c\u4f1a\u4ea7\u751f\u5185\u5b58\u4e0d\u5b89\u5168\uff0c\u6240\u4ee5\u4e0d\u5141\u8bb8\u6790\u6784\u51fd\u6570\u542f\u7528\u591a\u6001\u6027\uff08\u8fd9\u4e2a\u66f4\u5177\u4f53\u7684\u7ec6\u8282\u6709\u5f85\u5546\u69b7\uff09\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base1 {\npublic:\n    ~Base1() { cout &lt;&lt; \"~Base1()\\n\"; }\n};\n\nclass Derived1: public Base1 {\npublic:\n    ~Derived1() { cout &lt;&lt; \"~Derived1()\\n\"; }\n};\n\nclass Base2 {\npublic:\n    virtual ~Base2() { cout &lt;&lt; \"~Base2()\\n\"; }\n};\n\nclass Derived2: public Base2 {\npublic:\n    ~Derived2() { cout &lt;&lt; \"~Derived2()\\n\"; }\n};\n\nint main() {\n    Base1* bp = new Derived1;\n    delete bp; // \u53ea\u8c03\u7528\u4e86\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\n    Base2* b2p = new Derived2;\n    delete b2p; // \u6d3e\u751f\u7c7b\u865a\u6790\u6784\u51fd\u6570\u8c03\u7528\u5b8c\u540e\u8c03\u7528\u57fa\u7c7b\u7684\u865a\u6790\u6784\u51fd\u6570\n    return 0;\n}\n\n/*\noutput:\n~Base1()\n~Derived2()\n~Base2()\n*/\n</code></pre> <p>\u6709\u7684\u65f6\u5019\u6211\u4eec\u53ef\u80fd\u4f1a\u8bf4\uff0c\u6790\u6784\u51fd\u6570\u4e2d\u4e0d\u80fd\u8c03\u7528\u865a\u51fd\u6570\uff0c\u8fd9\u53e5\u8bdd\u662f\u5bf9\u7684\u3002\u8fd9\u53e5\u8bdd\u5b9e\u9645\u4e0a\u662f\u6307\uff0c\u6790\u6784\u51fd\u6570\u548c\u6784\u9020\u51fd\u6570\u4e2d\u90fd\u6ca1\u6709\u591a\u6001\u6027\uff0c\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u5b8c\u6210\u8c03\u7528\u672c\u5730\u7248\u672c\u3002</p> <p>\u603b\u4e4b\uff0c\u91cd\u8981\u539f\u5219\uff1a\u603b\u662f\u5c06\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u8bbe\u7f6e\u4e3a\u865a\u6790\u6784\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_23","title":"\u91cd\u8f7d\u3001\u91cd\u5199\u9690\u85cf\u3001\u91cd\u5199\u8986\u76d6","text":""},{"location":"languages/c-oop/virtual-function/#overload","title":"\u91cd\u8f7d\uff08overload\uff09","text":"<p>\u76ee\u7684\uff1a\u63d0\u4f9b\u540c\u540d\u51fd\u6570\u7684\u4e0d\u540c\u5b9e\u73b0\uff0c\u5c5e\u4e8e\u9759\u6001\u591a\u6001\u3002</p> <p>\u51fd\u6570\u540d\u5fc5\u987b\u76f8\u540c\uff0c\u51fd\u6570\u53c2\u6570\u5fc5\u987b\u4e0d\u540c\uff0c\u4f5c\u7528\u57df\u76f8\u540c\uff08\u5982\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7c7b\u4e2d\u6216\u540c\u540d\u5168\u5c40\u51fd\u6570\uff09\u3002</p>"},{"location":"languages/c-oop/virtual-function/#redefining","title":"\u91cd\u5199\u9690\u85cf\uff08redefining\uff09","text":"<p>\u76ee\u7684\uff1a\u5728\u6d3e\u751f\u7c7b\u4e2d\u91cd\u65b0\u5b9a\u4e49\u57fa\u7c7b\u51fd\u6570\uff0c\u5b9e\u73b0\u6d3e\u751f\u7c7b\u7684\u7279\u6b8a\u529f\u80fd\u3002</p> <p>\u5c4f\u853d\u4e86\u57fa\u7c7b\u7684\u6240\u6709\u5176\u5b83\u540c\u540d\u51fd\u6570\u3002</p> <p>\u5982\u679c\u8be5\u51fd\u6570\u540d\u5728\u57fa\u7c7b\u91cc\u662f\u975e\u865a\u51fd\u6570\uff0c\u6b64\u65f6\u6d3e\u751f\u7c7b\u91cc\u91cd\u65b0\u5b9a\u4e49\u7684\u51fd\u6570\u65e0\u8bba\u53c2\u6570\u662f\u5426\u76f8\u540c\uff08\u8fd9\u79cd\u76f8\u540c\u662f\u4e0d\u8003\u8651\u9ed8\u8ba4\u503c\u7684\uff09\uff0c\u53d1\u751f\u7684\u90fd\u662f\u91cd\u5199\u9690\u85cf\uff1b\u800c\u5982\u679c\u8be5\u51fd\u6570\u5728\u57fa\u7c7b\u91cc\u662f\u865a\u51fd\u6570\uff0c\u6b64\u65f6\u6d3e\u751f\u7c7b\u91cc\u91cd\u65b0\u5b9a\u4e49\u7684\u51fd\u6570\u5982\u679c\u53c2\u6570\u76f8\u540c\uff0c\u5219\u53d1\u751f override\uff1b\u5982\u679c\u53c2\u6570\u4e0d\u540c\uff0c\u5219\u53d1\u751f redefining\u3002</p>"},{"location":"languages/c-oop/virtual-function/#override","title":"\u91cd\u5199\u8986\u76d6\uff08override\uff09","text":"<p>\u76ee\u7684\uff1a\u5bf9\u57fa\u7c7b\u7684\u865a\u51fd\u6570\u8fdb\u884c\u91cd\u5b9a\u4e49\uff0c\u51fd\u6570\u540d\u548c\u53c2\u6570\u5b8c\u5168\u76f8\u540c\uff0c\u8fd4\u56de\u503c\u4e00\u822c\u76f8\u540c\uff08\u5982\u679c\u6d3e\u751f\u7c7b\u5b9a\u4e49\u65b0\u51fd\u6570\u4e0e\u57fa\u7c7b\u865a\u51fd\u6570\u7684\u51fd\u6570\u540d\u76f8\u540c\u800c\u53c2\u6570\u4e0d\u540c\uff0c\u6d3e\u751f\u7c7b\u5b9a\u4e49\u7684\u51fd\u6570\u4f1a redefining \u57fa\u7c7b\u865a\u51fd\u6570\uff0c\u53d1\u751f\u9690\u85cf\u800c\u4e0d\u662f\u8986\u76d6\uff09\u3002</p> <p>\u8986\u76d6\u7684\u7531\u6765\uff1a\u57fa\u7c7b\u865a\u51fd\u6570\u8868\u4e2d\u7684\u865a\u51fd\u6570\u6307\u9488\u4f1a\u88ab\u6d3e\u751f\u7c7b\u4e2d\u91cd\u65b0\u5b9a\u4e49\u7684\u540c\u540d\u540c\u53c2\u6570\u7684\u865a\u51fd\u6570\u7684\u6307\u9488\u8986\u76d6\u6389\uff0c\u4ee5\u6b64\u6765\u5b9e\u73b0\u52a8\u6001\u7ed1\u5b9a\u3002</p>"},{"location":"languages/c-oop/virtual-function/#_24","title":"\u603b\u7ed3","text":"<p>\u975e\u865a\u540c\u540d\u51fd\u6570\u5728\u540c\u4e00\u4e2a\u7c7b\u4e2d\u53d1\u751f\u91cd\u8f7d\uff0c\u5728\u4e0d\u540c\u7c7b\uff08\u57fa\u7c7b\u548c\u6d3e\u751f\u7c7b\uff09\u4e2d\u53d1\u751f\u9690\u85cf\u3002</p> <p>\u865a\u540c\u540d\u51fd\u6570\uff0c\u53c2\u6570\u76f8\u540c\u5219\u5728\u6d3e\u751f\u7c7b\u4e2d\u53d1\u751f\u91cd\u5199\u8986\u76d6\uff0c\u53c2\u6570\u4e0d\u540c\u5219\u5728\u6d3e\u751f\u7c7b\u4e2d\u53d1\u751f\u91cd\u5199\u9690\u85cf\u3002</p> <ul> <li>\u91cd\u8f7d\uff1a\u540c\u7ea7\u8c03\u7528\u7684\u4f18\u5148\u5339\u914d\u95ee\u9898\u3002</li> <li>\u91cd\u5199\u9690\u85cf\uff1a\u6d3e\u751f\u7c7b\u4f18\u5148\u8c03\u7528\u6d3e\u751f\u7c7b\u540c\u540d\u51fd\u6570\u3002</li> <li> <p>\u91cd\u5199\u8986\u76d6\uff1a\u65e0\u8bba\u662f\u57fa\u7c7b\u8fd8\u662f\u6d3e\u751f\u7c7b\u7684\u6307\u9488\uff0c\u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61\u53ea\u80fd\u8c03\u7528\u6d3e\u751f\u7c7b\u540c\u540d\u51fd\u6570\u3002</p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base {\npublic:\n    virtual void foo() { cout &lt;&lt; \"Base::foo()\" &lt;&lt; endl; }\n    virtual void foo(int) { cout &lt;&lt; \"Base::foo(int)\" &lt;&lt; endl; } // \u91cd\u8f7d\n    void bar() { };\n};\n\nclass Derived1: public Base {\npublic:\n    void foo(int) { cout &lt;&lt; \"Derived1::foo(int)\" &lt;&lt; endl; } // \u91cd\u5199\u8986\u76d6\n};\n\nclass Derived2: public Base {\npublic:    \n    void foo(float) { cout &lt;&lt; \"Derived2::foo(float)\" &lt;&lt; endl; } // \u91cd\u5199\u9690\u85cf\n};\n\nint main() {\n    Derived1 d1;\n    Derived2 d2;\n    Base* p1 = &amp;d1;\n    Base* p2 = &amp;d2;\n    Derived2&amp; tag = d2;\n    Derived2* pointer = &amp;d2;\n    d1.Base::foo();\n    d2.Base::foo();\n    p1-&gt;foo();\n    p2-&gt;foo();\n    d1.foo(3);\n    d2.foo(3.0);\n    p1-&gt;foo(3);\n    p2-&gt;foo(3.0);  \n    d2.foo(3.0);\n    tag.foo(3.0);\n    pointer-&gt;foo(3.0);\n    return 0;\n}\n\n/*\noutput:\nBase::foo()\nBase::foo()\nBase::foo()\nBase::foo()\nDerived1::foo(int)\nDerived2::foo(float)\nDerived1::foo(int)\nBase::foo(int)\nDerived2::foo(float)\nDerived2::foo(float)\nDerived2::foo(float)\n*/\n</code></pre> <p>\u9996\u5148\uff0c<code>d1.foo()</code> \u4e0e <code>d2.foo()</code> \u90fd\u4e0d\u5408\u6cd5\uff0c\u7531\u4e8e\u6d3e\u751f\u7c7b\u90fd\u5b9a\u4e49\u4e86\u5e26\u53c2\u6570\u7684 <code>foo</code>\uff0c\u57fa\u7c7b <code>foo()</code> \u5bf9\u5b9e\u4f8b\u4e0d\u53ef\u89c1\uff08\u53d1\u751f\u4e86 redefining \u91cd\u5199\u9690\u85cf\uff09\u3002\u6545\u800c\u8fd9\u4e24\u53e5\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u7528 <code>Base::</code>\u3002</p> <p>\u5176\u6b21\uff0c<code>p1-&gt;foo()</code> \u65f6\uff0c\u6d3e\u751f\u7c7b\u6ca1\u6709\u540c\u540d\u540c\u53c2\u6570\u8986\u76d6\u6389\u57fa\u7c7b\u865a\u51fd\u6570\uff0c\u865a\u51fd\u6570\u8868\u7ee7\u627f\u57fa\u7c7b\u7684 <code>foo()</code> \u865a\u51fd\u6570\uff0c\u6545\u800c\u8c03\u7528\u4e86\u57fa\u7c7b\u7684 <code>foo()</code>\u3002</p> <p>\u6700\u540e\uff0c<code>p2-&gt;foo(3.0)</code> \u8fd9\u91cc\u6ca1\u6709\u53d1\u751f\u91cd\u5199\u8986\u76d6\uff0c\u53d1\u751f\u4e86\u91cd\u5199\u9690\u85cf\u3002\u5728\u6743\u9650\u8db3\u591f\u7684\u65f6\u5019\uff0c\u6bd4\u5982\u4ece\u6d3e\u751f\u7c7b\u5bf9\u8c61\u6216\u8005\u6d3e\u751f\u7c7b\u6307\u9488\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u540c\u540d\u51fd\u6570\u3002\u4f46\u662f\u7528\u57fa\u7c7b\u6307\u9488\u7684\u8bbf\u95ee\u6743\u9650\u4ec5\u9650\u4e8e\u57fa\u7c7b\u90e8\u5206\uff0c\u65e0\u6cd5\u8bbf\u95ee\u5b9a\u4e49\u5728\u6d3e\u751f\u7c7b\u90e8\u5206\u7684\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u51fd\u6570\uff0c\u6545\u800c\u53ea\u80fd\u8bbf\u95ee\u57fa\u7c7b\u5b9a\u4e49\u7684\u540c\u540d\u51fd\u6570\u4e2d\u5339\u914d\u7684\u4e00\u4e2a\u3002</p> <ul> <li>\u53e6\u4e00\u4e2a\u4f8b\u5b50</li> </ul> <p></p> <p>\u5bf9\u4e8e A\uff0c\u6ce8\u610f\u91cd\u5199\u8986\u76d6\u7684\u6761\u4ef6\uff1a\u5728\u6d3e\u751f\u7c7b\u4e2d\u5b9a\u4e49\u57fa\u7c7b\u865a\u51fd\u6570\u7684\u540c\u540d\u540c\u53c2\u51fd\u6570\u3002\u6b64\u5904 <code>(1)</code> \u4e0d\u662f\u865a\u51fd\u6570\uff0c\u6240\u4ee5\u4e0d\u662f\u91cd\u5199\u8986\u76d6\uff0c\u662f\u91cd\u5199\u9690\u85cf\u3002\u5bf9\u4e8e D\uff0c\u9996\u5148\uff0c<code>(5)</code> \u4e0d\u662f\u91cd\u5199\u8986\u76d6\uff0c\u662f\u91cd\u5199\u9690\u85cf\uff0c\u56e0\u800c\u76f4\u63a5\u8c03\u7528 <code>(5)</code>\u3002\u7b2c\u4e8c\uff0c\u57fa\u7c7b\u51fd\u6570\u5bf9\u4e8e\u6d3e\u751f\u7c7b\u5bf9\u8c61\u4e0d\u53ef\u89c1\uff0c\u6d3e\u751f\u7c7b\u5bf9\u8c61\u6216\u6d3e\u751f\u7c7b\u6307\u9488\u5f15\u7528\u54ea\u6015 warning \u4e5f\u4f1a\u5148\u8c03\u7528\u81ea\u8eab\u7684\u51fd\u6570\u3002\u5982\u679c\u81ea\u8eab\u7684\u51fd\u6570\u6ca1\u6709\u4e00\u4e2a\u53ef\u4ee5\u8c03\u7528\u7684\uff0c\u54ea\u6015\u57fa\u7c7b\u51fd\u6570\u6709\u53ef\u4ee5\u8c03\u7528\u7684\uff0c\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5b81\u613f error \u4e5f\u4e0d\u4f1a\u8c03\u7528\u57fa\u7c7b\u51fd\u6570\u3002</p>"},{"location":"languages/c-oop/virtual-function/#override_1","title":"<code>override</code> \u5173\u952e\u5b57","text":"<p>\u91cd\u5199\u8986\u76d6\u8981\u6ee1\u8db3\u7684\u6761\u4ef6\u5f88\u591a\uff0c\u5f88\u5bb9\u6613\u5199\u9519\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>override</code> \u5173\u952e\u5b57\u8f85\u52a9\u68c0\u67e5\u3002<code>override</code> \u5173\u952e\u5b57\u660e\u786e\u5730\u544a\u8bc9\u7f16\u8bd1\u5668\u4e00\u4e2a\u51fd\u6570\u662f\u5bf9\u57fa\u7c7b\u4e2d\u4e00\u4e2a\u865a\u51fd\u6570\u7684\u91cd\u5199\u8986\u76d6\uff0c\u7f16\u8bd1\u5668\u5c06\u5bf9\u91cd\u5199\u8986\u76d6\u8981\u6ee1\u8db3\u7684\u6761\u4ef6\u8fdb\u884c\u68c0\u67e5\uff0c\u6b63\u786e\u7684\u91cd\u5199\u8986\u76d6\u624d\u80fd\u901a\u8fc7\u7f16\u8bd1\u3002\u5982\u679c\u6ca1\u6709 <code>override</code> \u5173\u952e\u5b57\uff0c\u4f46\u662f\u6ee1\u8db3\u4e86\u91cd\u5199\u8986\u76d6\u7684\u5404\u9879\u6761\u4ef6\uff0c\u4e5f\u80fd\u5b9e\u73b0\u91cd\u5199\u8986\u76d6\u3002\u5b83\u53ea\u662f\u7f16\u8bd1\u5668\u7684\u4e00\u4e2a\u68c0\u67e5\uff0c\u6b63\u786e\u5b9e\u73b0 <code>override</code> \u65f6\uff0c\u5bf9\u7f16\u8bd1\u7ed3\u679c\u6ca1\u6709\u5f71\u54cd\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\npublic:\n    virtual void foo() { cout &lt;&lt; \"Base::foo()\" &lt;&lt; endl; }\n    virtual void foo(int) { cout &lt;&lt; \"Base::foo(int)\" &lt;&lt; endl; } // \u91cd\u8f7d\n    void bar() { };\n};\n\nclass Derived1: public Base {\npublic:  \n    void foo(int) { cout &lt;&lt; \"Derived1::foo(int )\" &lt;&lt; endl; } // \u91cd\u5199\u8986\u76d6\n};\n\nclass Derived2: public Base {\npublic:\n    void foo(float) { cout &lt;&lt; \"Derived2::foo(float)\" &lt;&lt; endl; }  // \u8bef\u628a\u53c2\u6570\u5199\u9519\u4e86\uff0c\u4f46\u662f\u4ecd\u7136\u901a\u8fc7\u4e86\u7f16\u8bd1\n};\n\nclass Derived3: public Base {\npublic:\n    void foo(int) override { cout &lt;&lt; \"Derived3::foo(int)\" &lt;&lt; endl; } // \u91cd\u5199\u8986\u76d6\u6b63\u786e\n    void foo(float) override { } // \u53c2\u6570\u4e0d\u540c\uff0c\u4e0d\u662f\u91cd\u5199\u8986\u76d6\uff0c\u7f16\u8bd1\u9519\u8bef\n    void bar() override { } // bar \u975e\u865a\u51fd\u6570\uff0c\u7f16\u8bd1\u9519\u8bef\n};\n</code></pre>"},{"location":"languages/c-oop/virtual-function/#final","title":"<code>final</code> \u5173\u952e\u5b57","text":"<p>\u5728\u865a\u51fd\u6570\u58f0\u660e\u6216\u5b9a\u4e49\u4e2d\u4f7f\u7528 <code>final</code> \u5173\u952e\u5b57\u540e\uff0c\u786e\u4fdd\u51fd\u6570\u4e3a\u865a\u4e14\u4e0d\u53ef\u88ab\u6d3e\u751f\u7c7b\u91cd\u5199\u3002\u53ef\u5728\u7ee7\u627f\u5173\u7cfb\u94fe\u7684\u201c\u4e2d\u9014\u201d\u8fdb\u884c\u8bbe\u5b9a\uff0c\u7981\u6b62\u540e\u7eed\u6d3e\u751f\u7c7b\u5bf9\u6307\u5b9a\u865a\u51fd\u6570\u91cd\u5199\uff0c\u4f46\u662f\u6d3e\u751f\u7c7b\u4ecd\u53ef\u8c03\u7528\u8be5\u865a\u51fd\u6570\u3002</p> <p>\u5728\u7c7b\u5b9a\u4e49\u4e2d\u4f7f\u7528\u65f6\uff0c<code>final</code> \u6307\u5b9a\u6b64\u7c7b\u4e0d\u53ef\u88ab\u7ee7\u627f\u3002</p> <p>\u683c\u5f0f\uff1afinal \u5199\u5728\u7ee7\u627f\u7c7b\u7c7b\u540d\u540e\uff0c\u7ee7\u627f\u65b9\u5f0f\u524d\u3002</p> <pre><code>class B final: public A {\n    /* CODE */\n}\n</code></pre> <p><code>final</code> \u548c <code>override</code> \u5728\u4fee\u9970\u51fd\u6570\u65f6\uff0c\u90fd\u53ea\u80fd\u4fee\u9970\u865a\u51fd\u6570\u3002\u4f8b\u5982\uff1a</p> <pre><code>class Base {\n    virtual void foo() { };\n};\n\nclass A: public Base {\n    void foo() final { }; // \u91cd\u5199\u8986\u76d6\uff0c\u4e14\u662f\u6700\u7ec8\u8986\u76d6\n    void bar() final { }; // bar \u975e\u865a\u51fd\u6570\uff0c\u7f16\u8bd1\u9519\u8bef\n};\n\nclass B final: public A {\n    void foo() override { }; // A::foo \u5df2\u662f\u6700\u7ec8\u8986\u76d6\uff0c\u7f16\u8bd1\u9519\u8bef\n};\n\nclass C: public B { // B \u4e0d\u80fd\u88ab\u7ee7\u627f\uff0c\u7f16\u8bd1\u9519\u8bef\n\n};\n</code></pre>"},{"location":"languages/css/","title":"CSS \u8bed\u8a00\u57fa\u7840","text":""},{"location":"languages/css/#_1","title":"\u6837\u5f0f\u4e0e\u6837\u5f0f\u8868","text":"<p>CSS \u7684\u5168\u79f0\u4e3a Cascading Style Sheets\uff08\u5c42\u53e0\u6837\u5f0f\u8868\uff09\uff0c\u53ef\u4ee5\u7cfb\u7edf\u5730\u63cf\u8ff0\u7f51\u9875\u5185\u5bb9\u7684\u5e03\u5c40\u4e0e\u9762\u8c8c\u3002</p> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u6765\u4f53\u4f1a\u4e00\u4e0b\u6837\u5f0f\u8868\u7684\u610f\u4e49\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u63cf\u8ff0\u7f51\u9875\u5185\u5bb9\u7684 HTML \u6587\u672c\u53ea\u6709\u4e00\u4efd\uff0c\u4f46\u901a\u8fc7\u6539\u53d8\u6837\u5f0f\u8868\uff0c\u7f51\u9875\u7684\u5e03\u5c40\u5c31\u6709\u4e86\u5929\u7ffb\u5730\u8986\u7684\u53d8\u5316\u3002</p> <p>\u5f15\u5165 CSS</p> <p>\u5728 HTML \u4e2d\u5f15\u5165\u6837\u5f0f\u7684\u65b9\u5f0f\u901a\u5e38\u6709\u4e09\u79cd\uff1a</p> <ul> <li>\u5185\u5d4c\u4e8e\u9875\u9762\u5143\u7d20\u4e2d\uff1b</li> <li>\u901a\u8fc7 <code>&lt;style&gt;</code> \u5143\u7d20\u5d4c\u5165\u7f51\u9875\uff1b</li> <li>\u901a\u8fc7\u5916\u90e8\u94fe\u63a5\u5f15\u7528\u3002</li> </ul> <p>\u5728\u8fd9\u4efd\u6587\u6863\u4e2d\uff0c\u51fa\u4e8e\u65b9\u4fbf\u8003\u8651\uff0c\u6211\u4eec\u91c7\u7528\u901a\u8fc7 <code>&lt;style&gt;</code> \u5143\u7d20\u5d4c\u5165\u7f51\u9875\u7684\u5f62\u5f0f\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>\u5e38\u89c1\u7684\u6837\u5f0f\u6709\u989c\u8272\u3001\u5b57\u4f53\u3001\u8fb9\u8ddd\u3001\u5bf9\u9f50\u3001\u80cc\u666f\u3001\u8fb9\u6846\u7b49\u3002</p> <p>\u6211\u4eec\u5148\u56de\u5230\u719f\u6089\u7684 HTML\uff1a</p> <pre><code>&lt;body&gt;\n    &lt;h1&gt;\u8fd9\u662f\u6807\u9898&lt;/h1&gt;\n    &lt;p&gt;\u8fd9\u662f\u6bb5\u843d\u3002\u548c\u6211\u4e00\u8d77\u8bfb\uff1a&lt;/p&gt;\n    &lt;p&gt;\u4f60\u2014\u2014\u597d\u2014\u2014\u4e16\u2014\u2014\u754c\u2014\u2014&lt;/p&gt;\n    &lt;p&gt;\n        &lt;a href=\"https://www.baidu.com\"&gt;\u524d\u5f80\u767e\u5ea6&lt;/a&gt;\n    &lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p>\u8003\u8651\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff1a</p> <ul> <li>\u5c06\u4e3b\u4f53\uff08<code>&lt;body&gt;</code>\uff09\u80cc\u666f\u8bbe\u4e3a\u6de1\u84dd\u8272\uff08<code>lightblue</code>\uff09\uff1b</li> <li>\u5c06\u6807\u9898\uff08<code>&lt;h1&gt;</code>\uff09\u8bbe\u4e3a\u767d\u8272\u5c45\u4e2d\uff1b</li> <li>\u5c06\u6b63\u6587\uff08<code>&lt;p&gt;</code>\uff09\u5b57\u53f7\u8bbe\u4e3a <code>20px</code>\uff1b</li> <li>\u5c06\u94fe\u63a5\uff08<code>&lt;a&gt;</code>\uff09\u989c\u8272\u8bbe\u4e3a\u7ea2\u8272\uff08<code>red</code>\uff09\u3002</li> </ul> <p>\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e9b\u6837\u5f0f\u5c42\u9762\u7684\u9700\u6c42\uff0c\u6837\u5f0f\u8868\u8bde\u751f\u4e86\u3002\u6211\u4eec\u5148\u770b\u793a\u4f8b\uff0c\u518d\u6765\u5206\u6790 CSS \u7684\u8bed\u6cd5\u683c\u5f0f\uff1a</p> <pre><code>body {\n    background: lightblue;\n}\n\nh1 {\n    color: white;\n    text-align: center;\n}\n\np {\n    font-size: 20px;\n}\n\na {\n    color: red;\n}\n</code></pre> <p>\u6211\u76f8\u4fe1\uff0c\u5f53\u4f60\u770b\u5230\u8fd9\u6837\u7684\u6587\u672c\u65f6\uff0c\u5df2\u7ecf\u80fd\u51ed\u501f\u76f4\u89c9\u7406\u89e3\u5b83\u7684\u542b\u4e49\u4e86\u3002\u4f8b\u5982\uff0c<code>body { background: lightblue; }</code> \u7684\u542b\u4e49\u5c31\u662f\u5c06\u6240\u6709 <code>&lt;body&gt;</code> \u5143\u7d20\u7684 <code>background</code> \u8bbe\u7f6e\u4e3a <code>lightblue</code>\u3002</p> <p>CSS \u7684\u8bed\u6cd5\u683c\u5f0f\u975e\u5e38\u7b80\u5355\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002\u4e5f\u6b63\u5f0f\u8fd9\u6837\u4e00\u7cfb\u5217\u7b80\u5355\u7684\u89c4\u5219\u63cf\u8ff0\uff0c\u76f8\u4e92\u7ec4\u5408\u4e4b\u540e\u5c31\u80fd\u63cf\u8ff0\u4e30\u5bcc\u7684\u7f51\u9875\u6392\u7248\u6837\u5f0f\u3002</p> <p></p> <p>\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b\uff0c\u5c06 CSS \u5f15\u5165 HTML \u540e\u7684\u4e00\u4e2a\u5b8c\u6574\u7f51\u9875\u6587\u4ef6\u5c06\u4f1a\u5448\u73b0\u600e\u6837\u7684\u7ed3\u6784\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;style&gt;\n        body { background: lightblue; }\n        h1 { color: white; text-align: center; }\n        p { font-size: 20px; }\n        a { color: red; }\n    &lt;/style&gt;\n    &lt;title&gt;CSS \u793a\u4f8b&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;\u8fd9\u662f\u6807\u9898&lt;/h1&gt;\n&lt;p&gt;\u8fd9\u662f\u6bb5\u843d\u3002\u548c\u6211\u4e00\u8d77\u8bfb\uff1a&lt;/p&gt;\n&lt;p&gt;\u4f60\u2014\u2014\u597d\u2014\u2014\u4e16\u2014\u2014\u754c\u2014\u2014&lt;/p&gt;\n&lt;p&gt;\n    &lt;a href=\"https://www.baidu.com\"&gt;\u524d\u5f80\u767e\u5ea6&lt;/a&gt;\n&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb\u94fe\u63a5 \u5f15\u5165 CSS \u524d \u4ee5\u53ca \u5f15\u5165 CSS \u540e \u6765\u611f\u53d7 CSS \u7684\u4f5c\u7528\u3002</p>"},{"location":"languages/css/#_2","title":"\u7c7b","text":"<p>\u4f7f\u7528\u4e0a\u8ff0\u6837\u5f0f\u8868\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u7f51\u9875\u4e2d\u6307\u5b9a\u7c7b\u578b\u7684\u5143\u7d20\u8bbe\u7f6e\u7edf\u4e00\u7684\u6837\u5f0f\u3002\u7136\u800c\uff0c\u6211\u4eec\u6709\u65f6\u4f1a\u5e0c\u671b\u53ea\u5bf9\u67d0\u4e00\u90e8\u5206\u5143\u7d20\u8bbe\u5b9a\u6837\u5f0f\uff0c\u8fd9\u65f6\u5c31\u8981\u5f15\u5165\u7c7b\u7684\u6982\u5ff5\u4e86\u3002</p> <p>\u7c7b\u7684 CSS \u9009\u62e9\u8bed\u6cd5\u4e0e\u5143\u7d20\u7684\u7c7b\u4f3c\uff0c\u53ea\u9700\u5728\u7c7b\u540d\u524d\u52a0\u4e0a\u4e00\u4e2a <code>.</code> \u5373\u53ef\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u5e0c\u671b\u5b9a\u4e49\u4e00\u4e2a\u7c7b <code>red</code>\uff0c\u5b83\u7684\u80cc\u666f\u8272\u662f\u7ea2\u8272\uff08<code>red</code>\uff09\uff0c\u6587\u672c\u989c\u8272\u4e3a\u767d\u8272\uff0c\u4e14\u5177\u6709 <code>10px</code> \u7684\u5185\u8fb9\u8ddd\uff08<code>padding</code>\uff09\u548c <code>5px</code> \u7684\u5916\u8fb9\u8ddd\uff08<code>margin</code>\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>.red {\n    background: red;\n    color: white;\n    padding: 10px;\n    margin: 5px;\n}\n</code></pre> <p>\u5728 HTML \u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u7ed9\u4e00\u4e2a\u5143\u7d20\u8d4b\u4e88 <code>class=\"red\"</code> \u7684\u5c5e\u6027\uff0c\u8fd9\u4e2a\u5143\u7d20\u5c31\u5177\u5907\u4e86\u6211\u4eec\u6240\u5b9a\u4e49\u7684 <code>red</code> \u7c7b\u7684\u6837\u5f0f\uff1a</p> <pre><code>&lt;div class=\"red\"&gt;\n    &lt;p&gt;\u7ea2\u8272\u4e3b\u9898&lt;/p&gt;\n&lt;/div&gt;\n</code></pre> <p>\u4f7f\u7528 <code>&lt;div&gt;</code> \u6dfb\u52a0\u5206\u7ec4</p> <p>\u5f53\u6211\u4eec\u60f3\u8981\u5c06\u4e00\u7cfb\u5217\u5143\u7d20\u89c6\u4e3a\u4e00\u4e2a\u6574\u4f53\u8fdb\u884c\u5e03\u5c40\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528 <code>&lt;div&gt;</code> \u5143\u7d20\u521b\u5efa\u4e00\u4e2a\u5206\u7ec4\uff0c\u5bf9\u8fd9\u4e2a\u5206\u7ec4\u8bbe\u7f6e\u6837\u5f0f\u6216\u8fdb\u884c\u6392\u7248\u3002</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4ee5\u6b64\u7c7b\u63a8\uff0c\u521b\u5efa <code>blue</code>\u3001<code>green</code> \u7c7b\u3002\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;style&gt;\n        .red {\n            background: red;\n            color: white;\n            padding: 10px;\n            margin: 5px;\n        }\n\n        .blue {\n            background: blue;\n            color: white;\n            padding: 10px;\n            margin: 5px;\n        }\n\n        .green {\n            background: green;\n            color: white;\n            padding: 10px;\n            margin: 5px;\n        }\n    &lt;/style&gt;\n    &lt;title&gt;CSS \u793a\u4f8b&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"red\"&gt;\n        &lt;p&gt;\u7ea2\u8272\u4e3b\u9898&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"blue\"&gt;\n        &lt;p&gt;\u84dd\u8272\u4e3b\u9898&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"green\"&gt;\n        &lt;p&gt;\u7eff\u8272\u4e3b\u9898&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5\u4ee3\u7801\u3002</p> <p>\u89c2\u5bdf\u4e0a\u8ff0\u4ee3\u7801\uff0c\u6211\u4eec\u53d1\u73b0\uff0c<code>red</code>\u3001<code>blue</code>\u3001<code>green</code> \u7c7b\u7684 CSS \u5b9a\u4e49\u4e2d\u90fd\u6709\u4e09\u6761\u91cd\u590d\u7684\u5c5e\u6027\u3002\u6211\u4eec\u53ef\u4ee5\u5c06\u516c\u5171\u90e8\u5206\u63d0\u53d6\u4e3a\u4e00\u4e2a\u516c\u5171\u7684\u7c7b <code>theme</code>\uff0c\u5e76\u7ed9 HTML \u4e2d\u7684\u6bcf\u4e2a <code>&lt;div&gt;</code> \u5143\u7d20\u7684 <code>class</code> \u5c5e\u6027\u90fd\u989d\u5916\u6dfb\u52a0\u4e00\u4e2a <code>theme</code> \u7c7b\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;style&gt;\n        .theme {\n            color: white;\n            padding: 10px;\n            margin: 5px;\n        }\n\n        .red {\n            background: red;\n        }\n\n        .blue {\n            background: blue;\n        }\n\n        .green {\n            background: green;\n        }\n    &lt;/style&gt;\n    &lt;title&gt;CSS \u793a\u4f8b&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"red theme\"&gt;\n        &lt;p&gt;\u7ea2\u8272\u4e3b\u9898&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"blue theme\"&gt;\n        &lt;p&gt;\u84dd\u8272\u4e3b\u9898&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"green theme\"&gt;\n        &lt;p&gt;\u7eff\u8272\u4e3b\u9898&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u7684 CSS \u4ee3\u7801\u4e5f\u53d8\u5f97\u66f4\u52a0\u6e05\u6670\u4e0e\u7b80\u6d01\u3002</p> <p>\u7528\u597d\u5f00\u53d1\u8005\u5de5\u5177</p> <p>Firefox\u3001Chrome\u3001Edge\u3001Safari \u7b49\u6d4f\u89c8\u5668\u5747\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u7528\u4e8e\u67e5\u770b\u548c\u8c03\u8bd5\u7f51\u9875\u7684\u5de5\u5177\u3002\u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\u7684\u5feb\u6377\u952e\u901a\u5e38\u4e3a F12\uff0c\u5f53\u7136\u8fd9\u4e5f\u53ef\u80fd\u56e0\u4f60\u7684\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u800c\u5f02\u3002\u4f60\u53ef\u4ee5\u501f\u52a9\u641c\u7d22\u5f15\u64ce\u8fdb\u4e00\u6b65\u4e86\u89e3\u3002</p> <p>\u4ee5\u4e0a\u8ff0\u793a\u4f8b\u4ee3\u7801\u7684\u7f51\u9875\u4e3a\u4f8b\uff0c\u70b9\u51fb \u94fe\u63a5\uff0c\u5728\u6253\u5f00\u7684\u9875\u9762\u4e2d\u542f\u52a8\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u52a8\u624b\u67e5\u770b\u4e00\u4e0b\u5143\u7d20\u7684\u7ec4\u7ec7\u65b9\u5f0f\u3001\u5143\u7d20\u7684\u6837\u5f0f\u4ee5\u53ca\u5b83\u4eec\u6240\u5c5e\u7684\u7c7b\u5427\uff01</p> <p>\u4ee5\u4e0b\u662f\u4f7f\u7528 Firefox \u6d4f\u89c8\u5668\u8c03\u8bd5\u4e0a\u8ff0\u793a\u4f8b\u4ee3\u7801\u7f51\u9875\u7684\u622a\u5c4f\u3002</p> <p></p> <p>\u4f60\u4e5f\u53ef\u4ee5\u5229\u7528\u540c\u6837\u7684\u65b9\u5f0f\u5bf9\u540e\u7eed\u7684\u793a\u4f8b\u7f51\u9875\u8fdb\u884c\u67e5\u770b\u4e0e\u8c03\u8bd5\u3002</p>"},{"location":"languages/css/#_3","title":"\u7ec4\u5408\u9009\u62e9\u5668","text":"<p>\u8003\u8651\u8fd9\u6837\u7684\u9700\u6c42\uff1a\u53ea\u5e0c\u671b <code>theme</code> \u7c7b\u4e0b\u7684\u94fe\u63a5\u53d8\u4e3a\u7ea2\u8272\uff0c\u5176\u4f59\u4f4d\u7f6e\u7684\u94fe\u63a5\u4ecd\u9700\u4f7f\u7528\u9ed8\u8ba4\u6837\u5f0f\u3002\u8fd9\u5c31\u9700\u8981\u7528\u5230 CSS \u7ec4\u5408\u9009\u62e9\u5668\u7684\u8bed\u6cd5\u4e86\u3002\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>.theme a {\n    color: red;\n}\n</code></pre> <p><code>.theme</code> \u662f\u7c7b\u9009\u62e9\u5668\uff0c<code>a</code> \u662f\u5143\u7d20\u9009\u62e9\u5668\uff0c\u5b83\u4eec\u4e4b\u95f4\u901a\u8fc7\u7a7a\u683c\u5206\u9694\uff0c\u8868\u793a\u53ea\u5bf9 <code>.theme</code> \u7c7b\u7684 <code>&lt;a&gt;</code> \u5143\u7d20\u540e\u4ee3\u6709\u6548\u3002</p> <p>\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;style&gt;\n        .theme {\n            color: white;\n            background: darkred;\n            padding: 20px;\n            margin: 10px;\n        }\n\n        .theme a {\n            color: red;\n        }\n    &lt;/style&gt;\n    &lt;title&gt;CSS \u793a\u4f8b&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"theme\"&gt;\n    &lt;p&gt;\u7ea2\u8272\u4e3b\u9898\uff0c&lt;a href=\"https://www.baidu.com\"&gt;\u7ea2\u8272\u94fe\u63a5&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;a href=\"https://www.baidu.com\"&gt;\u666e\u901a\u94fe\u63a5&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5\u4ee3\u7801\u3002</p> <p>\u4e0d\u540c\u7684\u7ec4\u5408\u65b9\u5f0f</p> <p>\u5728 CSS3 \u4e2d\u4e00\u5171\u5305\u542b\u4e86\u56db\u79cd\u7ec4\u5408\u65b9\u5f0f\uff1a</p> <ul> <li>\u540e\u4ee3\u9009\u62e9\u5668(\u4ee5\u7a7a\u683c\u5206\u9694)</li> <li>\u5b50\u5143\u7d20\u9009\u62e9\u5668(\u4ee5\u5927\u4e8e\u53f7 <code>&gt;</code> \u5206\u9694\uff09</li> <li>\u76f8\u90bb\u5144\u5f1f\u9009\u62e9\u5668\uff08\u4ee5\u52a0\u53f7 <code>+</code> \u5206\u9694\uff09</li> <li>\u666e\u901a\u5144\u5f1f\u9009\u62e9\u5668\uff08\u4ee5\u6ce2\u6d6a\u53f7 <code>~</code> \u5206\u9694\uff09</li> </ul> <p>\u53c2\u8003\u624b\u518c</p> <p>CSS \u9009\u62e9\u5668\u6709\u591a\u79cd\u591a\u6837\u7684\u8868\u8fbe\u5f62\u5f0f\uff0c\u4f60\u53ef\u4ee5\u53c2\u9605 CSS \u9009\u62e9\u5668\u53c2\u8003\u624b\u518c \u6765\u627e\u5230\u4f60\u6240\u9700\u8981\u7684\u9009\u62e9\u5668\u8bed\u6cd5\u3002</p>"},{"location":"languages/css/#_4","title":"\u76d2\u6a21\u578b","text":"<p>\u76d2\u6a21\u578b\u5c06\u6bcf\u4e2a HTML \u5143\u7d20\u89c6\u4e3a\u4e00\u4e2a\u65b9\u5f62\u76d2\u5b50\uff0c\u5173\u6ce8\u7684\u6838\u5fc3\u5728\u4e8e\u5185\u5916\u8fb9\u8ddd\u4ee5\u53ca\u8fb9\u6846\u7684\u6837\u5f0f\u3002\u5728\u6392\u7248\u5e03\u5c40\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5408\u7406\u8bbe\u7f6e <code>padding</code> \u548c <code>margin</code> \u7684\u6570\u503c\uff0c\u624d\u80fd\u8ba9\u81ea\u5df1\u7684\u7f51\u9875\u5448\u73b0\u51fa\u6700\u8212\u9002\u7684\u5e03\u5c40\u3002</p>"},{"location":"languages/css/#_5","title":"\u7f51\u9875\u5e03\u5c40","text":"<p>\u7f51\u9875\u7684\u5e03\u5c40\u901a\u5e38\u6709\u4e00\u4e9b\u56fa\u5b9a\u7684\u6a21\u5f0f\u3002\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5404\u4e2a\u533a\u57df\u7528 <code>&lt;div&gt;</code> \u5143\u7d20\u7ec4\u5408\u8d77\u6765\uff0c\u7136\u540e\u8003\u8651\u8fd9\u4e9b\u533a\u57df\u7684\u6392\u7248\u5e03\u5c40\u3002</p> <p>\u4e86\u89e3\u539f\u7406\u5373\u53ef</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u5f88\u5c11\u4f1a\u5b8c\u5168\u624b\u5199\u7f51\u9875\u7684\u5e03\u5c40\uff0c\u56e0\u4e3a\u8bb8\u591a\u524d\u7aef\u6837\u5f0f\u5e93\u80fd\u591f\u5e2e\u6211\u4eec\u5b9e\u73b0\u8fd9\u4e9b\u4e8b\u60c5\uff0c\u4e14\u901a\u5e38\u6bd4\u6211\u4eec\u624b\u5199\u7684\u505a\u5f97\u66f4\u597d\u3002</p>"},{"location":"languages/css/#_6","title":"\u5de6\u53f3\u5e03\u5c40","text":"<p>\u7f51\u9875\u7684\u6392\u5e03\u903b\u8f91\u4e00\u822c\u90fd\u662f\u81ea\u4e0a\u800c\u4e0b\u7684\u3002\u5de6\u53f3\u5e03\u5c40\u7684\u533a\u57df\u901a\u5e38\u9700\u8981\u7ec4\u5408\u540e\u5d4c\u5957\u5728\u4e00\u884c\u4e2d\uff0c\u4e14\u9700\u8981\u5229\u7528\u6d6e\u52a8\uff08<code>float</code>\uff09\u5c5e\u6027\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>&lt;div&gt;\u4e0a\u9762\u7684\u5185\u5bb9&lt;/div&gt;\n&lt;div&gt;\n    &lt;div style=\"width: 25%; float: left;\"&gt;\u5de6&lt;/div&gt;\n    &lt;div style=\"width: 50%; float: left;\"&gt;\u4e2d&lt;/div&gt;\n    &lt;div style=\"width: 25%; float: right;\"&gt;\u53f3&lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\u4e0b\u9762\u7684\u5185\u5bb9&lt;/div&gt;\n</code></pre> <p>\u5185\u5d4c\u6837\u5f0f</p> <p>\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u4e86\uff0c\u4e0a\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u5de6\u8fb9\u533a\u57df\u548c\u53f3\u8fb9\u533a\u57df\u7684 <code>&lt;div&gt;</code> \u5143\u7d20\u4e0a\u90fd\u6dfb\u52a0\u4e86 <code>width</code>\u3001<code>float</code> \u7b49\u6837\u5f0f\u5c5e\u6027\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u901a\u8fc7\u5185\u5d4c\u4e8e\u9875\u9762\u5143\u7d20\u5f15\u5165 CSS \u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u201c\u4e34\u65f6\u201d\u201c\u4e00\u6b21\u6027\u201d\u5730\u4e3a\u4e00\u4e9b\u5143\u7d20\u6dfb\u52a0\u6837\u5f0f\u3002</p>"},{"location":"languages/css/#_7","title":"\u56fa\u5b9a\u5e03\u5c40","text":"<p>\u6211\u4eec\u6709\u65f6\u4f1a\u5e0c\u671b\u4e00\u4e9b\u533a\u57df\u56fa\u5b9a\u5728\u7f51\u9875\u7684\u67d0\u4e2a\u4f4d\u7f6e\uff0c\u4f8b\u5982\u6211\u4eec\u4f1a\u5e0c\u671b\u5bfc\u822a\u680f\u56fa\u5b9a\u5728\u9875\u9762\u9876\u90e8\uff0c\u4e0d\u968f\u9875\u9762\u6eda\u52a8\u800c\u6539\u53d8\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u4f7f\u7528 <code>position: fixed</code> \u5c5e\u6027\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>.top {\n    position: fixed;\n    top: 0;\n    left: 0;\n}\n</code></pre> <p>\u5373\u53ef\u8ba9 <code>top</code> \u7c7b\u7684\u5143\u7d20\u5b9e\u73b0\u56fa\u5b9a\u9876\u90e8\u7684\u6548\u679c\u3002</p> <p>\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;style&gt;\n        body {\n            margin: 0;\n        }\n\n        .top {\n            position: fixed;\n            top: 0;\n            left: 0;\n            height: 50px;\n            width: 100%;\n            background: red;\n        }\n\n        .main {\n            margin-top: 50px;\n        }\n\n        .left {\n            width: 25%;\n            background: lightgray;\n            height: 200px;\n            float: left;\n        }\n\n        .center {\n            width: 50%;\n            background: lightgreen;\n            height: 2000px;\n            float: left;\n        }\n\n        .right {\n            width: 25%;\n            background: lightgray;\n            height: 200px;\n            float: right;\n        }\n\n        .footer {\n            height: 50px;\n            width: 100%;\n            background: green;\n        }\n\n        .row:after {\n            content: \"\";\n            display: table;\n            clear: both;\n        }\n    &lt;/style&gt;\n    &lt;title&gt;CSS \u793a\u4f8b&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"top\"&gt;&lt;/div&gt;\n&lt;div class=\"main\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"left\"&gt;&lt;/div&gt;\n        &lt;div class=\"center\"&gt;&lt;/div&gt;\n        &lt;div class=\"right\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"footer\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4f60\u53ef\u4ee5\u70b9\u51fb \u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u8fd9\u6bb5\u4ee3\u7801\u3002</p>"},{"location":"languages/css/#_8","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u73b0\u5728\uff0c\u4f60\u5df2\u7ecf\u5b66\u4f1a\u4e86\u901a\u8fc7 CSS \u63a7\u5236\u7f51\u9875\u7684\u6837\u5f0f\u3002\u63a5\u4e0b\u6765\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4f60\u7684\u7f51\u9875\u8d4b\u4e88\u884c\u4e3a\uff0c\u8fd9\u5c31\u9700\u8981 JavaScript \u7684\u76f8\u5173\u77e5\u8bc6\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u53ef\u80fd\u4f1a\u4e0d\u6ee1\u4e8e\u624b\u5199 CSS \u6837\u5f0f\uff0c\u60f3\u8981\u63a2\u7d22\u4e00\u4e9b\u524d\u7aef\u6837\u5f0f\u5e93\uff0c\u56e0\u6b64\u4f60\u4e5f\u53ef\u4ee5\u7ee7\u7eed\u5f80\u4e0b\u9605\u8bfb\u524d\u7aef\u6837\u5f0f\u5e93\u7684\u6709\u5173\u6587\u6863\u3002</p> <p>\u540e\u7eed\u53ef\u4ee5\u9605\u8bfb\u7684\u6587\u6863\u6709\uff1a</p> <ul> <li>JavaScript \u8bed\u8a00\u57fa\u7840 /languages/javascript</li> <li>Bootstrap \u7b80\u4ecb /languages/css/bootstrap</li> <li>MDUI \u7b80\u4ecb /languages/css/mdui</li> </ul>"},{"location":"languages/css/#_9","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>w3school CSS \u6559\u7a0b https://www.w3school.com.cn/css/index.asp</li> <li>\u83dc\u9e1f\u6559\u7a0b CSS \u6559\u7a0b https://www.runoob.com/css/css-tutorial.html</li> </ul>"},{"location":"languages/css/bootstrap/","title":"Bootstrap \u7b80\u4ecb","text":"<p>\u7f16\u8f91\u8005\u62db\u52df</p> <p>\u6211\u4eec\u6b63\u5728\u5bfb\u627e\u8fd9\u4e00\u7bc7\u6587\u6863\u7684\u7f16\u8f91\u8005\u3002</p>"},{"location":"languages/css/mdui/","title":"MDUI \u7b80\u4ecb","text":"<p>\u7f16\u8f91\u8005\u62db\u52df</p> <p>\u6211\u4eec\u6b63\u5728\u5bfb\u627e\u8fd9\u4e00\u7bc7\u6587\u6863\u7684\u7f16\u8f91\u8005\u3002</p>"},{"location":"languages/java/","title":"Java \u8bed\u8a00\u57fa\u7840","text":"<p>\u8bf4\u660e</p> <p>\u672c\u5185\u5bb9\u6839\u636e 2022 \u5e74\u79d1\u534f\u6691\u57f9\u5f90\u6668\u66e6\u540c\u5b66\u7684 Java \u8bfe\u7a0b\u8bb2\u4e49\u30012023 \u5e74\u79d1\u534f\u6691\u57f9\u6731\u715c\u7ae0\u540c\u5b66\u7684 Java \u8bfe\u7a0b\u8bb2\u4e49\uff0c\u548c 2024 \u5e74\u79d1\u534f\u6691\u57f9\u718a\u6cfd\u6069\u540c\u5b66\u7684 Java \u8bfe\u7a0b\u8bb2\u4e49\u6574\u7406\u3002</p>"},{"location":"languages/java/#_1","title":"\u76f8\u5173\u94fe\u63a5","text":"<ul> <li>2024 \u5e74\u79d1\u534f\u6691\u57f9\u7684 Java \u8bfe\u7a0b\u4f5c\u4e1a</li> </ul>"},{"location":"languages/java/advanced-language-feature/","title":"Advanced Language Feature","text":""},{"location":"languages/java/advanced-language-feature/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u57fa\u672c Java \u8bed\u6cd5\u3002</li> </ul> \u5173\u4e8eJEP <p>\u76ee\u524d\uff0cJava \u7684\u65b0\u7279\u6027\u3001\u529f\u80fd\u5747\u9700\u8981\u5148\u63d0\u51fa\u5e76\u8d77\u8349 JEP\uff08JDK Enhancement Proposals\uff09\u8349\u6848\u3002\u5728 OpenJDK \u793e\u533a\u5145\u5206\u5ba1\u6838\u3001\u4fee\u6539\u3001\u6295\u7968\u540e\u6210\u4e3a\u6b63\u5f0f\u7684\u3001\u5e26\u7f16\u53f7 JEP \u63d0\u6848\u3002\u5728\u5f00\u53d1 JEP \u5bf9\u5e94\u7684\u529f\u80fd\u5206\u652f\uff0c\u901a\u8fc7\u6240\u6709\u5e73\u53f0\u6d4b\u8bd5\u3001\u4ee3\u7801\u5ba1\u67e5\u540e\uff0c\u62e9\u671f\u5e76\u5165\u4e0b\u4e00\u4e2a\u53d1\u884c\u7248\u672c\u7684\u4e3b\u5206\u652f\u3002\u672c\u7ae0\u63d0\u5230\u7684 JEP* \u90fd\u6807\u6ce8\u4e86\u5e76\u5165\u7684 Java \u7248\u672c\u548c\u63d0\u6848\u539f\u6587\u8fde\u63a5\uff0c\u4fbf\u4e8e\u540c\u5b66\u4eec\u5b66\u4e60\u53c2\u8003\u3002</p>"},{"location":"languages/java/advanced-language-feature/#switch-expressions-jep361-java14","title":"Switch Expressions [JEP361, Java14]","text":"<p>Switch Expressions [JEP361, Java14] \u4e0e\u4f20\u7edf\u7684<code>switch</code>\u4e0d\u540c\uff0c\u4f7f\u7528<code>-&gt;</code>\u8fde\u63a5<code>case</code>\u5b50\u53e5\u548c\u5177\u4f53\u4ee3\u7801\u5757\uff0c\u5e76\u4e14<code>case</code>\u5b50\u53e5\u53ef\u4ee5\u4e00\u6b21\u5339\u914d\u591a\u4e2a\uff0c\u4ee3\u7801\u5757\u4e5f\u4e0d\u9700\u8981<code>break</code>\u6765\u9632\u6b62\u8fde\u7eed\u6267\u884c\u3002</p> <pre><code>switch (day) {\n    case MONDAY, FRIDAY, SUNDAY -&gt; System.out.println(6);\n    case TUESDAY                -&gt; System.out.println(7);\n    case THURSDAY, SATURDAY     -&gt; System.out.println(8);\n    case WEDNESDAY              -&gt; System.out.println(9);\n}\n</code></pre> <p><code>switch</code>\u8868\u8fbe\u5f0f\uff0c\u987e\u540d\u601d\u4e49\u53ef\u4ee5\u4ea7\u751f\u8868\u8fbe\u5f0f\u7684\u503c:</p> <pre><code>static void howMany(int k) {\n    System.out.println(\n        switch (k) {\n            case  1 -&gt; \"one\";\n            case  2 -&gt; \"two\";\n            default -&gt; \"many\";\n        }\n    );\n}\n</code></pre> <p>\u5982\u679c\u9700\u8981\u590d\u6742\u4ee3\u7801\u5757\uff0c\u4f7f\u7528<code>{}</code>\u5305\u56f4\uff0c\u5e76\u4f7f\u7528<code>yield</code>\u5173\u952e\u5b57\u4ea7\u751f<code>case</code>\u5b50\u53e5\u5bf9\u5e94\u7684\u503c:</p> <pre><code>int j = switch (day) {\n    case MONDAY  -&gt; 0;\n    case TUESDAY -&gt; 1;\n    default      -&gt; {\n        int k = day.toString().length();\n        int result = f(k);\n        yield result;\n    }\n};\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#pattern-matching-for-instanceof-jep394-java16","title":"Pattern Matching for <code>instanceof</code> [JEP394, Java16]","text":"<p>\u4f7f\u7528<code>instanceof</code>\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u5224\u65ad\u51fa\u786e\u5b9e\u662f\u67d0\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\uff0c\u90a3\u4e0b\u9762\u4e00\u822c\u90fd\u8981\u5411\u4e0b\u8f6c\u578b\u4e3a\u90a3\u4e2a\u7c7b\u7684\u5bf9\u8c61\u540e\u518d\u4f7f\u7528:</p> <pre><code>Object o = createObject();\nif (o instanceof MyClass) {\n    var myobj = (MyClass) o;\n    // do something with myobj\n}\n</code></pre> <p>\u4e3a\u4e86\u7b80\u5316\u8fd9\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u5f15\u5165\u4e86<code>instanceof</code>\u7684\u6a21\u5f0f\u5339\u914d\u8bed\u6cd5:</p> <pre><code>Object o = createObject();\nif (o instanceof MyClass myobj) {\n    // do something with myobj\n}\n</code></pre> <p>\u6a21\u5f0f\u5339\u914d\u51fa\u7684\u53d8\u91cf\u540d\u7684\u4f5c\u7528\u57df\u4f1a\u7531Java\u81ea\u52a8\u63a8\u5bfc:</p> <p>\u4f8b\u5982:</p> <pre><code>Object o = createObject();\nif (o instanceof MyClass myobj) {\n    // myobj is available\n}\n// myobj is NOT available\n</code></pre> <pre><code>Object o = createObject();\nif (!(o instanceof MyClass myobj)) {\n    // myobj is NOT available\n}\n// myobj is available\n</code></pre> <pre><code>Object o = createObject();\nif (o instanceof String s || s.length() &gt; 5) { // CE!\n}\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#records-jep395-java16","title":"Records [JEP395, Java16]","text":"<p>\u5bf9\u4e8e\u7eaf\u6570\u636e\u7c7b\uff0c\u6211\u4eec\u4ecd\u7136\u8981\u5b9a\u4e49\u4e00\u5927\u5806\u6784\u9020\u51fd\u6570\u3001\u8d4b\u503c\u3001Getter&amp;Setter\u3001<code>toString</code>\u3001<code>hashCode()</code>\u3001<code>equals(Object)</code>\u7b49\u4e00\u5927\u5806\u65b9\u6cd5\u3002\u5c3d\u7ba1\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u53ef\u4ee5\u8ba9 IDE \u5e2e\u5fd9\u751f\u6210\uff0c\u4f46\u662f\u4e00\u5927\u5806\u6ca1\u8425\u517b\u7684\u4ee3\u7801\u5806\u5728\u90a3\u91cc\u90fd\u8ba9\u4eba\u89c9\u5f97\u5f02\u5e38\u7e41\u7410\u3002</p> <p>\u8bb0\u5f55(\u82f1\u8bed:Record\uff09 \u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u800c\u751f\u3002<code>Record</code>\u662f\u4e00\u4e2a\u53ea\u8bfb\u7684\u6570\u636e\u7c7b\uff0c\u5e76\u4e14 Java \u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u4e0a\u9762\u8bf4\u7684\u90a3\u4e00\u5806\u65b9\u6cd5\u3002</p> <pre><code>record Point(int x, int y) {}\n</code></pre> <p>\u8fd9\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684<code>Record</code>\u3002\u5b83\u5927\u591a\u6570\u884c\u4e3a\u90fd\u4e0e\u666e\u901a\u7c7b\u6ca1\u6709\u533a\u522b\uff0c\u9664\u4e86\u5b83\u7684 Getter \u65b9\u6cd5\u4e0d\u53eb<code>getXXX</code> \u800c\u76f4\u63a5\u548c\u53d8\u91cf\u540d\u76f8\u540c\u3002</p> <pre><code>jshell&gt; var p1 = new Point(1, 2)\np1 ==&gt; Point[x=1, y=2]\njshell&gt; p1.toString()\n$35 ==&gt; \"Point[x=1, y=2]\"\njshell&gt; p1.hashCode()\n$36 ==&gt; 33\n</code></pre> <pre><code>jshell&gt; p1.x() //getter \u65b9\u6cd5\n$37 ==&gt; 1\njshell&gt; var p2 = new Point(2, 3)\np2 ==&gt; Point[x=2, y=3]\njshell&gt; p1.equals(p2)\n$38 ==&gt; false\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#compact-canonical-constructor","title":"Compact Canonical Constructor \u7d27\u51d1\u578b\u6784\u9020\u5668","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u7d27\u51d1\u578b\u6784\u9020\u5668\u6765\u9884\u5904\u7406\u6216\u9a8c\u8bc1\u8f93\u5165\u53c2\u6570:</p> <pre><code>record Rational(int num, int denom) {\n    Rational {\n        int gcd = gcd(num, denom);\n        num /= gcd;\n        denom /= gcd;\n    }\n}\n</code></pre> <p>\u7d27\u51d1\u578b\u6784\u9020\u5668\uff08\u82f1\u8bed: Compact Canonical Constructor\uff09\u8fd0\u884c\u5b8c\u540e\uff0cJava \u4f1a\u518d\u6839\u636e\u6539\u53d8\u540e\u7684\u53c2\u6570\u503c\u5bf9\u6210\u5458\u57df\u8fdb\u884c\u4e00\u904d\u521d\u59cb\u5316\u3002</p> <p>\u76f8\u5f53\u4e8e\u4f20\u7edf\u7684\u6784\u9020\u5668:</p> <pre><code>record Rational(int num, int denom) {\n    Rational(int num, int demon) {\n        int gcd = gcd(num, denom);\n        num /= gcd;\n        denom /= gcd;\n        this.num = num;\n        this.denom = denom;\n    }\n}\n</code></pre> <p><code>record</code>\u7684\u4f7f\u7528\u6709\u4ee5\u4e0b\u89c4\u5219:</p> <ul> <li>record \u7c7b\u4e0d\u5e94\u8be5\u7ee7\u627f\u5176\u4ed6\u7684\u7c7b\uff0c\u56e0\u4e3a\u5b83\u9ed8\u8ba4\u7ee7\u627f<code>java.lang.Record</code>\uff1b</li> <li>record \u7c7b\u9690\u5f0f\u4e3a<code>final</code>\uff0c\u5e76\u4e0d\u5141\u8bb8\u4e3a<code>abstract</code>\uff1b</li> <li>record \u7c7b\u7684\u6210\u5458\u53d8\u91cf\u9690\u5f0f\u4e3a<code>final</code>\u3002</li> </ul>"},{"location":"languages/java/advanced-language-feature/#annotation","title":"Annotation","text":"<p>\u6ce8\u89e3\uff08\u82f1\u8bed: Annotation\uff09\u4e3a\u4ee3\u7801\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9644\u52a0\u4fe1\u606f\uff0c\u5982<code>@Override</code>\u3002\u901a\u8fc7\u63d0\u4f9b\u54cd\u5e94\u7684\u6ce8\u89e3\u5904\u7406\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4ee5\u4e0b\u7b49\u529f\u80fd:</p> <ol> <li>\u7f16\u8bd1\u65f6\u4ee3\u7801\u68c0\u67e5\uff1b</li> <li>\u7f16\u8bd1\u65f6\u4ee3\u7801\u751f\u6210\uff1b</li> <li>\u8fd0\u884c\u65f6\u52a8\u6001\u53d1\u73b0\u4e0e\u6ce8\u518c\u3002</li> </ol> <p>\u672c\u6587\u4e0d\u8bb2\u89e3\u53cd\u5c04\u7cfb\u7edf\uff0c\u56e0\u6b64\u4e5f\u4e0d\u4f1a\u8bbe\u8ba1\u6ce8\u89e3\u5904\u7406\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u3002\u672c\u8282\u7684\u76ee\u7684\u5728\u4e8e\u5982\u4f55\u4f7f\u7528\u6ce8\u89e3\u8bed\u6cd5\u3002</p> <p>Java \u6807\u51c6\u5e93\u5185\u63d0\u4f9b\u7684\u6ce8\u89e3\u6709:</p> <ul> <li><code>@Override</code>: \u68c0\u67e5\u662f\u5426\u91cd\u8f7d\u65b9\u6cd5\u3002</li> <li><code>@Deprecated</code>: \u8868\u793a\u6ce8\u89e3\u7684\u7c7b\u3001\u5e38\u91cf\u3001\u65b9\u6cd5\u88ab\u5e9f\u5f03\u3002</li> <li><code>@FunctionalInterface</code>: \u8868\u793a\u6ce8\u89e3\u7684\u63a5\u53e3\u662f\u51fd\u6570\u5f0f\u63a5\u53e3\u3002</li> <li><code>@SuppressWarnings</code>: \u7528\u4e8e\u8ba9\u7f16\u8bd1\u5668\u5ffd\u7565\u7279\u5b9a\u7684\u8b66\u544a\u3002</li> </ul> <p>\u6ce8\u89e3\u4e5f\u53ef\u4ee5\u6709\u53c2\u6570\u503c\uff0c\u5982<code>@Deprecated</code>\u6709<code>forRemoval</code>\uff08\u8b66\u544a\u540e\u7eed\u7248\u672c\u4f1a\u88ab\u79fb\u9664\uff09\u548c<code>since</code>\uff08\u4ece\u54ea\u4e2a\u7248\u672c\u5f00\u59cb\u5e9f\u5f03\uff09\uff0c\u8bed\u6cd5\u5982\u4e0b:</p> <pre><code>@Deprecated(forRemoval=true, since=\"v233\")\nclass OldClass { /* ... */ }\n</code></pre> <p>\u58f0\u660e\u6ce8\u89e3\u7684\u8bed\u6cd5\u5982\u4e0b:</p> <pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(value={CONSTRUCTOR, FIELD, LOCAL_VARIABLE,\n                METHOD, PACKAGE, MODULE, PARAMETER, TYPE})\npublic @interface Deprecated {\n    String since() default \"\";\n    boolean forRemoval() default false;\n}\n</code></pre> <ul> <li><code>@Document</code>: \u63d0\u793a\u8fd9\u4e2a\u6ce8\u89e3\u5e94\u8be5\u88ab\u6536\u5165 JavaDoc\u3002</li> <li><code>@Retention(RetentionPolicy.RUNTIME)</code>: \u8868\u793a\u8fd9\u4e2a\u6ce8\u89e3\u7684\u4fe1\u606f\u5e94\u8be5\u4fdd\u7559\u5230\u4ec0\u4e48\u65f6\u5019\u3002</li> <li><code>RetentionPolicy.RUNTIME</code>: \u4fdd\u7559\u81f3\u8fd0\u884c\u65f6\uff0c\u53cd\u5c04\u7cfb\u7edf\u53ef\u4ee5\u8bfb\u53d6\u3002</li> <li><code>RetentionPolicy.CLASS</code>: \u4fdd\u7559\u81f3\u7c7b\u6587\u4ef6\u3002</li> <li><code>RetentionPolicy.SOURCE</code>: \u7f16\u8bd1\u540e\u5373\u88ab\u4e22\u5f03\u3002</li> <li> <p><code>@Target(value={ /* ... */ })</code>: \u63d0\u793a\u8fd9\u4e2a\u6ce8\u89e3\u53ef\u4ee5\u5e94\u7528\u7ed9\u8c01\u3002</p> </li> <li> <p><code>@interface</code>: \u58f0\u660e\u6ce8\u89e3\u3002</p> </li> <li><code>&lt;Type&gt; name() [default &lt;value&gt;]</code>: \u58f0\u660e\u67d0\u4e00\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u63d0\u4f9b\u9ed8\u8ba4\u503c\u3002</li> </ul> <p>\u6ce8\u89e3\u7cfb\u7edf\u5728 Java \u6807\u51c6\u5e93\u4e2d\u5e94\u7528\u8f83\u5c11\uff0c\u4f46\u662f\u5728\u5176\u4ed6\u5e93\uff0c\u5982 Lombok \uff0cSpring \u7b49\u4e2d\uff0c\u90fd\u4f1a\u8d77\u5230\u4e3e\u8db3\u8f7b\u91cd\u7684\u4f5c\u7528\u3002\u5982\u679c\u6709\u65f6\u95f4\uff0c\u6211\u4eec\u4e5f\u4f1a\u63a5\u89e6\u5230\u8fd9\u4e9b\u7c7b\u5e93\u3002</p>"},{"location":"languages/java/advanced-language-feature/#exception-handling","title":"Exception Handling","text":"<p>\u60f3\u8981\u5411\u5916\u90e8\u629b\u51fa\u5f02\u5e38\u8868\u793a\u7a0b\u5e8f\u51fa\u9519\uff0c\u4f7f\u7528<code>throw</code>:</p> <pre><code>if (!SUPPORTED_FILETYPE.contains(filetype)) {\n    throw new IllegalArgumentException(filetype + \" is not supported\");\n}\n</code></pre> <p>\u5f02\u5e38\u5747\u652f\u6301\u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u63d0\u4f9b\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\u4fe1\u606f\u4ee5\u4fbf\u8c03\u8bd5\u67e5\u9519\u3002</p> <p>\u60f3\u8981\u6355\u83b7\u5f02\u5e38\uff0c\u4f7f\u7528<code>try-catch</code>:</p> <pre><code>try {\n    var content = Files.readString(Path.of(location));\n} catch (IOException e) {\n    System.err.println(\"Failed to read \" + location);\n    e.printStackTrace();\n}\n</code></pre> <p>\u4f7f\u7528<code>printStackTrace()</code>\u51fd\u6570\u6253\u5370\u5f02\u5e38\u6808\u4fe1\u606f\uff0c\u63cf\u8ff0\u4e86\u5f02\u5e38\u4f20\u64ad\u7684\u9014\u5f84\u548c\u5bf9\u5e94\u7684\u6e90\u4ee3\u7801\u4f4d\u7f6e\u7b49\u4fe1\u606f\u3002</p> <p>\u4f60\u53ef\u4ee5\u5229\u7528\u6355\u83b7\u7684\u5f02\u5e38\u53bb\u6784\u5efa\u5176\u4ed6\u7c7b\u578b\u7b49\u5f02\u5e38\u5e76\u91cd\u65b0\u629b\u51fa\uff0c\u539f\u6765\u6355\u83b7\u7b49\u5f02\u5e38\u5c31\u79f0\u4e3a\u65b0\u5f02\u5e38\u7684\u539f\u56e0\u3002\u8fd9\u6837\u53ef\u4ee5\u63d0\u5347\u5f02\u5e38\u7cfb\u7edf\u7684\u8bed\u4e49\uff0c\u4e5f\u9632\u6b62\u5355\u4e00\u5f02\u5e38\u6808\u8fc7\u957f:</p> <pre><code>try {\n    var config = Files.readString(Path.of(configFile));\n} catch (IOException e) {\n    throw new GameInitException(\"Failed to read config file\", e);\n}\n</code></pre> <p>\u4f60\u53ef\u4ee5\u4e00\u6b21\u6355\u83b7\u591a\u4e2a\u5f02\u5e38:</p> <pre><code>try {\n    var config = Files.readString(Path.of(configFile));\n    var jsonConfig = parseJSON(config);\n} catch (IOException e) {\n    throw new GameInitException(\"Failed to read config file\", e);\n} catch (JSONException e) {\n    throw new GameInitException(\"Config file format error\", e);\n}\n</code></pre> <p>\u5982\u679c\u6709\u4e00\u4e9b\u7cfb\u7edf\u8d44\u6e90\uff0c\u5982\u6587\u4ef6\u53e5\u67c4\u7b49\uff0c\u65e0\u8bba\u540e\u7eed\u8bfb\u53d6\u662f\u5426\u6b63\u5e38\uff0c\u90fd\u5e94\u8be5\u5c06\u5176\u5173\u95ed\u3002\u8fd9\u65f6\u5c31\u9700\u8981<code>finally</code>\u5b50\u53e5\u8fdb\u884c\u8d44\u6e90\u56de\u6536:</p> <pre><code>var input = new FileReader(\"file.txt\");\ntry {\n    // read data using input\n} catch (IOException e) {\n    // error handling\n} finally {\n    input.close();\n}\n</code></pre> <p>\u5bf9\u4e8e\u5b9e\u73b0\u4e86<code>AutoCloseable</code>\u63a5\u53e3\u7684\u7c7b\uff0c\u5982\u6240\u6709\u8f93\u5165\u8f93\u51fa\u7ec4\u4ef6\uff0c\u652f\u6301<code>try-with-resources</code>\u81ea\u52a8\u8c03\u7528<code>close()</code>\u800c\u65e0\u9700<code>finally</code>:</p> <pre><code>try (var input = new FileReader(\"file.txt\")) {\n    // read data using input\n} catch (IOException e) {\n    // error handling\n}\n</code></pre> <p>\u5f02\u5e38\u5206\u4e3a\u4e24\u7c7b:</p> <ul> <li><code>java.lang.RuntimeException</code>: \u8fd0\u884c\u65f6\u5f02\u5e38\uff0c\u53c8\u79f0\u4e3a\u975e\u68c0\u67e5\u5f02\u5e38\u3002\u901a\u5e38\u8868\u793a\u7a0b\u5e8f\u903b\u8f91\u9519\u8bef\uff0c\u6bd4\u5982\u6570\u7ec4\u8d8a\u754c\uff0c\u7a7a\u6307\u9488\u7b49\u95ee\u9898\u3002</li> <li>\u5176\u4ed6<code>java.lang.Exception</code>\u5b50\u7c7b\u4f46\u662f\u4e0d\u662f<code>java.lang.RuntimeException</code>\u5b50\u7c7b\u7684\u5176\u4ed6\u7c7b: \u53d7\u68c0\u67e5\u5f02\u5e38\u3002\u901a\u5e38\u8868\u793a\u5916\u90e8\u73af\u5883\u8bf1\u5bfc\u7684\u9519\u8bef\uff0c\u7a0b\u5e8f\u5e94\u8be5\u8003\u8651\u8fd9\u4e9b\u60c5\u51b5\u5e76\u8fdb\u884c\u5904\u7406\uff0c\u6bd4\u5982\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\u7b49\u95ee\u9898\u3002</li> </ul> <p>\u53d7\u68c0\u67e5\u5f02\u5e38\u5f97\u540d\u7684\u539f\u56e0\u5728\u4e8e:</p> <ul> <li>\u53ef\u80fd\u629b\u51fa\u53d7\u68c0\u67e5\u5f02\u5e38\u7684\u4ee3\u7801\u5fc5\u987b\u88ab<code>try-catch</code>\u5904\u7406\uff0c\u6216\u8005\u5411\u5916\u90e8\u58f0\u660e\u81ea\u5df1\u53ef\u80fd\u4f20\u64ad\u53d7\u68c0\u67e5\u5f02\u5e38\u3002</li> </ul> <p>\u901a\u8fc7<code>throws</code>\u5b50\u53e5\u58f0\u660e\u65b9\u6cd5\u53ef\u80fd\u4f1a\u629b\u51fa\u67d0\u4e9b\u53d7\u68c0\u67e5\u5f02\u5e38:</p> <pre><code>public static void main(String[] args) throws IOException {\n    var content = Files.readString(Path.of(args[0]));\n}\n</code></pre> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528 Java \u6807\u51c6\u5e93\u4e2d\u63d0\u4f9b\u7684\u5f02\u5e38\u7c7b\uff0c\u8bf7\u53c2\u89c1API Ref\u4e2d\u7684 Direct Known Subclasses \u5c0f\u8282\u5bfb\u627e\u662f\u5426\u6709\u81ea\u5df1\u9700\u8981\u7684\u5f02\u5e38\u7c7b\u3002</p> <p>\u901a\u8fc7\u7ee7\u627f\u81ea<code>java.lang.Exception</code>\u6216<code>java.lang.RuntimeException</code>\uff0c\u4f60\u4e5f\u53ef\u4ee5\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u53d7\u68c0\u5f02\u5e38\u548c\u975e\u53d7\u68c0\u5f02\u5e38\u7c7b\u3002\u4f60\u53ef\u4ee5\u8ba9\u5176\u5305\u542b\u66f4\u591a\u8c03\u8bd5\u4fe1\u606f\u6216\u751f\u6210\u66f4\u6e05\u6670\u76f4\u89c2\u7684<code>toString()</code>\u8868\u793a\u3002</p>"},{"location":"languages/java/advanced-language-feature/#generic","title":"Generic \u6cdb\u578b","text":"<p>\u901a\u8fc7\u4ee5\u4e0b\u7684\u4f8b\u5b50\u6765\u4e86\u89e3\u6cdb\u578b\uff08\u82f1\u8bed: Generic\uff09\u7684\u52a8\u673a:</p> <p>\u6240\u6709\u7684\u5217\u8868\u90fd\u662f<code>java.util.List</code>\u7684\u5b9e\u73b0\u7c7b\uff0c\u800c\u5b83\u662f\u53ef\u4ee5\u5b58\u50a8\u4efb\u610f\u5bf9\u8c61\u7684\uff0c\u5373<code>java.lang.Object</code>\u3002\u5982\u679c\u6211\u4eec\u60f3\u5b58\u4e00\u4e2a\u6587\u4ef6\u540d\u5217\u8868\uff0c\u8fd8\u9700\u8981\u8fdb\u884c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362:</p> <pre><code>List filenames = new ArrayList();\nfilename.add(\"file1.txt\");\n\nString aFile = (String) filenames.get(0);\n</code></pre> <p>\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u4e0d\u671f\u671b\u8fd9\u4e2a<code>filenames</code>\u91cc\u9762\u5b58\u5728\u4efb\u4f55\u975e\u5b57\u7b26\u4e32\u7684\u5bf9\u8c61\uff0c\u4f46\u662f\u6ca1\u6709\u7981\u6b62\u6211\u4eec\u63d2\u5165:</p> <pre><code>filenames.add(114514);\n</code></pre> <p>\u8fd9\u6837\u5728\u8fd0\u884c\u65f6\uff0c\u65e0\u8f9c\u7684\u4ee3\u7801\u4f1a\u6267\u884c<code>(String)</code>\u7c7b\u578b\u8f6c\u6362\uff0c\u4e8e\u662f\u4f1a\u5f15\u8d77<code>java.lang.ClassCastException</code>\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5728\u6bcf\u6b21\u4f7f\u7528\u7684\u65f6\u5019\u90fd\u8fdb\u884c\u4e00\u904d\u7c7b\u578b\u8f6c\u5316\u663e\u7136\u662f\u975e\u5e38\u8822\u7684\u8bed\u6cd5\u3002</p> <p>\u6240\u4ee5\u6709\u4ec0\u4e48\u529e\u6cd5\u80fd\u591f\u5c06\u6211\u4eec\u7684\u5217\u8868\u548c\u5b57\u7b26\u4e32\u7c7b\u578b\u7ed1\u5b9a\u5728\u4e00\u8d77\u5462\uff1f\u8fd9\u5c31\u662f\u6cdb\u578b:</p> <pre><code>var filenames = new ArrayList&lt;String&gt;();\nfilename.add(\"file1.txt\");\nString aFile = filename.get(0);\n\n// filename.add(114514);\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#_2","title":"\u8bed\u6cd5","text":"<p>\u4f7f\u7528\u6cdb\u578b\u7684\u8bed\u6cd5\u5982\u4e0a\u6240\u793a\uff0c\u5728\u7c7b\u578b\u540d\u540e\u9762\u7684<code>&lt;&gt;</code>\u5185\u4f9d\u6b21\u8f93\u5165\u7c7b\u578b\u53c2\u6570\u5373\u53ef:</p> <pre><code>List&lt;String&gt; // \u5b58\u50a8String\u7684List\u5217\u8868\nFunction&lt;String, Integer&gt; // \u63a5\u53d7String\u7c7b\u578b\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u7684\u51fd\u6570\n</code></pre> <p>\u5b9a\u4e49\u6cdb\u578b\u7c7b\u6216\u63a5\u53e3\u7684\u65b9\u6cd5\u4e5f\u548c\u4f7f\u7528\u7684\u65b9\u6cd5\u76f8\u4f3c\uff0c\u6211\u4eec\u4f7f\u7528\u7c7b\u578b\u53d8\u91cf\u6765\u4f5c\u4e3a\u9700\u8981\u5173\u8054\u7684\u7c7b\u578b\u7684\u5360\u4f4d\u7b26:</p> <pre><code>public interface List&lt;T&gt; {\n    T get(int index);\n    void add(T t);\n    void set(int index, T t);\n    // ...\n}\n</code></pre> <p>\u5b9a\u4e49\u6cdb\u578b\u65b9\u6cd5\u7684\u65b9\u5f0f\u7565\u6709\u4e0d\u540c\uff0c\u4f60\u9700\u8981\u5728\u8fd4\u56de\u503c\u7c7b\u578b\u524d\u52a0\u5165\u7c7b\u578b\u53d8\u91cf\u5217\u8868\u3002\u4f7f\u7528\u6cdb\u578b\u65b9\u6cd5\u65f6\uff0c\u9700\u8981\u5728<code>.</code>\u548c\u65b9\u6cd5\u540d\u4e4b\u95f4\u63d2\u5165\u7c7b\u578b\u53c2\u6570\u5217\u8868:</p> <pre><code>class ArrayUtil {\n    public static &lt;T&gt; T getMiddle(T... a) {\n        return a[a.length / 2];\n    }\n}\n\nvar middle = ArrayUtil.&lt;String&gt;getMiddle(\"one\", \"two\", \"three\"); // \"two\"\n</code></pre> <p>\u5728\u51e0\u4e4e\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7c7b\u578b\u53c2\u6570\u5217\u8868\u53ef\u4ee5\u81ea\u52a8\u63a8\u5bfc:</p> <pre><code>var middle = ArrayUtil.getMiddle(\"one\", \"two\", \"three\");\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#_3","title":"\u5bf9\u7c7b\u578b\u53d8\u91cf\u7684\u9650\u5b9a","text":"<p>\u6709\u65f6\u6211\u4eec\u4e0d\u60f3\u8981\u6240\u6709\u7c7b\u578b\u90fd\u6df7\u5165\u6211\u4eec\u7684\u65b9\u6cd5\u4e2d\uff0c\u56e0\u6b64\u9700\u8981\u5bf9\u7c7b\u578b\u53d8\u91cf\u505a\u4e00\u4e9b\u9650\u5b9a\uff0c\u6bd4\u5982\u4e0b\u9762\u5bfb\u627e\u6570\u7ec4\u6700\u5c0f\u503c\u7684\u65b9\u6cd5:</p> <pre><code>class ArrayUtil {\n    public static &lt;T&gt; T getMin(T[] a) {\n        if (a == null || a.length == 0) return null;\n        T min = a[0];\n        for(int i = 1;i&lt;a.length;i++)\n            if (min.compareTo(a[i]) &gt; 0)\n                min = a[i];\n        return min;\n    }\n}\n</code></pre> <p>\u4f46\u662f\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5bf9\u8c61\u90fd\u652f\u6301\u6b63\u786e\u7684\u6bd4\u8f83\u65b9\u6cd5\uff0c\u56e0\u6b64\u6211\u4eec\u9650\u5b9a<code>T</code>\u5e94\u5f53\u662f\u53ef\u6bd4\u8f83\u7684\uff0c\u5373<code>Comparable</code>\u3002</p> <pre><code>class ArrayUtil {\n    public static &lt;T extends Comparable&gt; T getMin(T[] a) {\n        if (a == null || a.length == 0) return null;\n        T min = a[0];\n        for(int i = 1;i&lt;a.length;i++)\n            if (min.compareTo(a[i]) &gt; 0)\n                min = a[i];\n        return min;\n    }\n}\n</code></pre> <p>\u5982\u679c\u60f3\u8981<code>T</code>\u540c\u65f6\u662f\u591a\u4e2a\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528<code>&amp;</code>\u8fde\u63a5\u8fd9\u4e9b\u63a5\u53e3:</p> <pre><code>&lt;T extends Comparable &amp; Serializable&gt;\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#_4","title":"\u901a\u914d\u7b26\u7c7b\u578b","text":"<p>\u7531\u4e8e Java \u9650\u5236\uff0c\u4e0b\u9762\u4ee3\u7801\u662f\u4e0d\u80fd\u901a\u8fc7\u7f16\u8bd1\u7684:</p> <pre><code>class Person {}\nclass Student extends Person {}\n\npublic static void printPersons(List&lt;Person&gt; persons) { /* ... */ }\n\npublic static void main(String[] args) {\n    var students = new ArrayList&lt;Student&gt;();\n    // add students\n    printPersons(students);\n}\n</code></pre> <p>\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u867d\u7136<code>Student</code>\u662f<code>Person</code>\u7684\u5b50\u7c7b\u578b\uff0c\u4f46\u662f<code>List&lt;Student&gt;</code>\u4e0d\u662f<code>List&lt;Person&gt;</code>\u7684\u5b50\u7c7b\u578b\u3002\u8fd9\u542c\u8d77\u6765\u786e\u5b9e\u6709\u70b9\u53cd\u76f4\u89c9\uff0c\u56e0\u4e3a\u5b66\u751f\u7684\u5217\u8868\u5c31\u5e94\u8be5\u662f\u4eba\u7684\u5217\u8868\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u60c5\u51b5\uff0cJava \u5f15\u5165\u4e86\u901a\u914d\u7b26\u7c7b\u578b<code>?</code>\uff0c\u7528\u4e8e\u8868\u793a\u7c7b\u578b\u53c2\u6570\u7684\u6d3e\u751f:</p> <pre><code>public static void printPersons(List&lt;? extends Person&gt; persons) {\n    for(Person p : persons)\n        System.out.println(p);\n}\n</code></pre>"},{"location":"languages/java/advanced-language-feature/#_5","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>Switch Expressions [JEP361, Java14]</li> <li>Pattern Matching for <code>instanceof</code> [JEP394, Java16]</li> <li>Records [JEP395, Java16]</li> <li>Java API ref \u5f02\u5e38\u7c7b</li> </ul>"},{"location":"languages/java/basic-language-structure/","title":"Basic Language Structure","text":""},{"location":"languages/java/basic-language-structure/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u65e0\u3002</li> </ul>"},{"location":"languages/java/basic-language-structure/#comments","title":"Comments \u6ce8\u91ca","text":"<pre><code>// This is a one-line comment\n\n/*\n * This is a multi-line comment\n */\n\n/**\n * This is JavaDoc\n */\n</code></pre>"},{"location":"languages/java/basic-language-structure/#variable-declare-assignment-data-types","title":"Variable Declare &amp; Assignment / Data types \u53d8\u91cf\u58f0\u660e\u3001\u8d4b\u503c\u3001\u6570\u636e\u7c7b\u578b","text":"<pre><code>jshell&gt; int a;\na ==&gt; 0\njshell&gt; a = 1;\na ==&gt; 1\njshell&gt; long b = 1L\nb ==&gt; 1\njshell&gt; char e = 'E'\ne ==&gt; 'E'\njshell&gt; String f = \"java\"\nf ==&gt; \"java\"\njshell&gt; boolean g = true\ng ==&gt; true\n</code></pre> <pre><code>jshell&gt; float c = 1.0\n|  \u9519\u8bef:\n|  \u4e0d\u517c\u5bb9\u7684\u7c7b\u578b: \u4ecedouble\u8f6c\u6362\u5230float\u53ef\u80fd\u4f1a\u6709\u635f\u5931\n|  float c = 1.0;\n|            ^-^\njshell&gt; float c = 1.0f\nc ==&gt; 1.0\njshell&gt; c = (float) 2.0\nc ==&gt; 2.0\njshell&gt; double d = 1.0\nd ==&gt; 1.0\n</code></pre> <ul> <li> <p>\u6574\u6570\u7c7b\u578b: <code>byte</code> <code>short</code> <code>int</code> <code>long</code>\u5206\u522b\u4e3a 1\u30012\u30014\u30018 \u5b57\u8282\u6709\u7b26\u53f7\u6574\u6570\u3002</p> </li> <li> <p>\u6d6e\u70b9\u6570: <code>float</code> <code>double</code>\u5206\u522b\u4e3a 4\u30018 \u5b57\u8282\u6d6e\u70b9\u6570\u3002</p> </li> <li> <p>\u903b\u8f91\u503c: <code>boolean</code>\u3002</p> </li> <li> <p>\u5b57\u7b26: <code>char</code> 2 \u5b57\u8282 Unicode \u5b57\u7b26\u3002</p> </li> </ul>"},{"location":"languages/java/basic-language-structure/#operators","title":"Operators: \u8fd0\u7b97\u7b26","text":""},{"location":"languages/java/basic-language-structure/#arithmetic","title":"Arithmetic \u7b97\u6570","text":"<pre><code>jshell&gt; 1 + 1\n$2 ==&gt; 2\njshell&gt; 2 * 2\n$3 ==&gt; 4\njshell&gt; 3 / 2\n$4 ==&gt; 1\njshell&gt; 3.0 / 2\n$5 ==&gt; 1.5\njshell&gt; 3 % 2\n$6 ==&gt; 1\njshell&gt; -3 % 2\n$6 ==&gt; -1\n</code></pre> <pre><code>jshell&gt; int a = 1;\na ==&gt; 1\njshell&gt; a += 100;\n$17 ==&gt; 101\njshell&gt; a *= 20;\n$18 ==&gt; 2020\njshell&gt; a /= 3;\n$19 ==&gt; 673\njshell&gt; a %= 20;\n$20 ==&gt; 13\n</code></pre>"},{"location":"languages/java/basic-language-structure/#-","title":"++ -- \u81ea\u589e\u81ea\u51cf","text":"<pre><code>jshell&gt; int a = 1;\na ==&gt; 1\n\njshell&gt; ++a\n$29 ==&gt; 2\njshell&gt; --a\n$30 ==&gt; 1\n\njshell&gt; a++\n$31 ==&gt; 1\njshell&gt; a--\n$32 ==&gt; 2\n</code></pre>"},{"location":"languages/java/basic-language-structure/#bitwise","title":"Bitwise \u4f4d\u8fd0\u7b97","text":"<pre><code>jshell&gt; 1 &amp; 2\n$11 ==&gt; 0\n\njshell&gt; 1 | 2\n$12 ==&gt; 3\n\njshell&gt; 1 ^ 2\n$13 ==&gt; 3\n\njshell&gt; ~1\n$14 ==&gt; -2\n\njshell&gt; 1 &lt;&lt; 20;\n$21 ==&gt; 1048576\n\njshell&gt; -1 &lt;&lt; 20;\n$22 ==&gt; -1048576\n\njshell&gt; 1024 &gt;&gt; 3;\n$23 ==&gt; 128\n\njshell&gt; -1024 &gt;&gt; 3;\n$24 ==&gt; -128\n\njshell&gt; -1024 &gt;&gt;&gt; 3;\n$25 ==&gt; 536870784\n</code></pre> <p>\u5bf9\u6700\u540e\u4e24\u4e2a\u4f8b\u5b50\u7684\u89e3\u91ca:</p> <p>Java \u4e2d <code>-1024</code> \u4f5c\u4e3a\u5b57\u9762\u91cf\uff0c\u88ab\u89c6\u4e3a\u6709\u7b26\u53f7\u7684<code>int</code>\u7c7b\u578b\uff0c\u4ee5\u8865\u7801\u8868\u793a\u4e3a<code>11111111 11111111 11111100 00000000</code>\u3002</p> <p><code>&gt;&gt;</code>\u7684\u884c\u4e3a: \u5982\u679c\u88ab\u64cd\u4f5c\u7684\u6570\u7684\u6700\u9ad8\u4f4d\u662f<code>1</code>\uff0c\u5219\u53f3\u79fb\u65f6\u5728\u9ad8\u4f4d\u8865<code>1</code> \uff1b\u5982\u679c\u88ab\u64cd\u4f5c\u7684\u6570\u7684\u6700\u9ad8\u4f4d\u662f<code>0</code>\uff0c\u5219\u53f3\u79fb\u65f6\u5728\u9ad8\u4f4d\u8865<code>0</code>\u3002</p> <p><code>&gt;&gt;&gt;</code>\u7684\u884c\u4e3a: \u53f3\u79fb\u65f6\u5728\u9ad8\u4f4d\u8865<code>0</code>\u3002</p> <p>\u56e0\u6b64\uff0c<code>-1024 &gt;&gt; 3</code>   \u5f97\u5230 <code>11111111 11111111 11111111 10000000</code> \uff0c\u5373<code>-128</code>\u3002</p> <p>\u56e0\u6b64\uff0c<code>-1024 &gt;&gt;&gt; 3</code> \u5f97\u5230 <code>00011111 11111111 11111111 10000000</code> \uff0c\u5373<code>563870784</code>\u3002</p>"},{"location":"languages/java/basic-language-structure/#compare","title":"Compare \u6bd4\u8f83","text":"<pre><code>jshell&gt; int a = 1, b = 2;\na ==&gt; 1\nb ==&gt; 2\n\njshell&gt; a &lt; b\n$3 ==&gt; true\n\njshell&gt; a &lt;= b\n$4 ==&gt; true\n\njshell&gt; a == b\n$5 ==&gt; false\n\njshell&gt; a != b\n$6 ==&gt; true\n\njshell&gt; a &gt;= b\n$7 ==&gt; false\n\njshell&gt; a &gt; b\n$8 ==&gt; false\n</code></pre>"},{"location":"languages/java/basic-language-structure/#logic","title":"Logic \u903b\u8f91","text":"<pre><code>jshell&gt; true &amp;&amp; false\n$15 ==&gt; false\n\njshell&gt; true || false\n$16 ==&gt; true\n\njshell&gt; !true\n$17 ==&gt; false\n\njshell&gt; \"hello\" + \"world\"\n$10 ==&gt; \"helloworld\"\n\njshell&gt; \"1 + 1 = \" + (1 + 1)\n$11 ==&gt; \"1 + 1 = 2\"\n\njshell&gt; System.out.println(\"hello\\nworld\")\nhello\nworld\n\njshell&gt; System.out.println(\"Col1\\tCol2\\n1\\t2\\n11111\\t22222\")\nCol1    Col2\n1   2\n11111   22222\n</code></pre>"},{"location":"languages/java/basic-language-structure/#function-method-syntax","title":"Function / Method Syntax \u51fd\u6570\u3001\u65b9\u6cd5","text":"<pre><code>jshell&gt; int mul(int a, int b) {\n   ...&gt;     return a * b;\n   ...&gt; }\n|  \u5df2\u521b\u5efa \u65b9\u6cd5 mul(int,int)\n\njshell&gt; mul(2, 3)\n$20 ==&gt; 6\n</code></pre>"},{"location":"languages/java/basic-language-structure/#controlflow","title":"ControlFlow: \u63a7\u5236\u6d41","text":""},{"location":"languages/java/basic-language-structure/#if-else","title":"if-else","text":"<pre><code>jshell&gt; boolean canIGetA(double score) {\n   ...&gt;     if (score &gt;= 90) {\n   ...&gt;         System.out.println(\"Good Job! You got a 4.0!\");\n   ...&gt;         return true;\n   ...&gt;     } else if (score &gt;= 70) {\n   ...&gt;         System.out.println(\"Keep Going! You can do better!\");\n   ...&gt;         return false;\n   ...&gt;     } else {\n   ...&gt;         System.out.println(\"Emm... What happends?\");\n   ...&gt;         return false;\n   ...&gt;     }\n   ...&gt; }\n|  \u5df2\u521b\u5efa \u65b9\u6cd5 canIGetA(double)\n\njshell&gt; canIGetA(100)\nGood Job! You got a 4.0!\n$2 ==&gt; true\n\njshell&gt; canIGetA(80)\nKeep Going! You can do better!\n$3 ==&gt; false\n\njshell&gt; canIGetA(0)\nEmm... What happends?\n$4 ==&gt; false\n</code></pre>"},{"location":"languages/java/basic-language-structure/#_2","title":"?:","text":"<pre><code>jshell&gt; int gcd(int a, int b) {\n   ...&gt;     return b == 0 ? a : gcd(b, a % b);\n   ...&gt; }\n|  \u5df2\u521b\u5efa \u65b9\u6cd5 gcd(int,int)\n\njshell&gt; gcd(48, 18)\n$26 ==&gt; 6\n</code></pre>"},{"location":"languages/java/basic-language-structure/#switch","title":"switch","text":"<pre><code>jshell&gt; int calculate(int a, int b, char op) {\n   ...&gt;     int res;\n   ...&gt;     switch(op) {\n   ...&gt;         case '+': res = a + b; break;\n   ...&gt;         case '-': res = a - b; break;\n   ...&gt;         case '*': res = a * b; break;\n   ...&gt;         case '/': res = a / b; break;\n   ...&gt;         default: res = -1;\n   ...&gt;     }\n   ...&gt;     return res;\n   ...&gt; }\n|  \u5df2\u521b\u5efa \u65b9\u6cd5 calculate(int,int,char)\n\njshell&gt; calculate(2, 3, '+')\n$6 ==&gt; 5\njshell&gt; calculate(2, 3, '-')\n$7 ==&gt; -1\njshell&gt; calculate(2, 3, '*')\n$8 ==&gt; 6\njshell&gt; calculate(2, 3, '/')\n$9 ==&gt; 0\njshell&gt; calculate(2, 3, '^')\n$10 ==&gt; -1\n</code></pre>"},{"location":"languages/java/basic-language-structure/#for","title":"for","text":"<pre><code>jshell&gt; boolean isPrime(int a) {\n   ...&gt;     if (a &lt;= 1) return false;\n   ...&gt;     for (int i = 2; i * i &lt;= a; i++) {\n   ...&gt;         if(a % i == 0) return false;\n   ...&gt;     }\n   ...&gt;     return true;\n   ...&gt; }\n|  \u5df2\u521b\u5efa \u65b9\u6cd5 isPrime(int)\n\njshell&gt; for (int a = 1; a &lt;= 100; a++) {\n   ...&gt;     if (isPrime(a)) System.out.print(a + \" \");\n   ...&gt; }\n2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97\n</code></pre>"},{"location":"languages/java/basic-language-structure/#while","title":"while","text":"<pre><code>jshell&gt; import java.lang.Math;\n\njshell&gt; double x;\nx ==&gt; 0.0\n\njshell&gt; while( (x = Math.random()) &lt; 0.8) {\n   ...&gt;     System.out.println(x + \" &lt; 0.8\");\n   ...&gt; }\n0.17636000596270907 &lt; 0.8\n0.5029857602823097 &lt; 0.8\n0.3349284868587292 &lt; 0.8\n0.3650514335114553 &lt; 0.8\n</code></pre>"},{"location":"languages/java/basic-language-structure/#do-while","title":"do-while","text":"<pre><code>jshell&gt; do {\n   ...&gt;     x = Math.random();\n   ...&gt; } while(x &lt; 0.8);\n\njshell&gt; x // is a random double &gt;= 0.8\nx ==&gt; 0.8346328176085303\n</code></pre>"},{"location":"languages/java/basic-language-structure/#string","title":"String \u5b57\u7b26\u4e32","text":"<pre><code>jshell&gt; String s = \"I Love Java\"\ns ==&gt; \"I Love Java\"\njshell&gt; s.length()\n$37 ==&gt; 11\njshell&gt; s.split(\" \")\n$38 ==&gt; String[3] { \"I\", \"Love\", \"Java\" }\njshell&gt; s.concat(\" and Rust\")\n$39 ==&gt; \"I Love Java and Rust\"\njshell&gt; s.contains(\"C++\")\n$40 ==&gt; false\njshell&gt; s.charAt(2)\n$41 ==&gt; 'L'\njshell&gt; s.replace(\"Java\", \"C++\")\n$42 ==&gt; \"I Love C++\"\njshell&gt; s.toUpperCase()\n$46 ==&gt; \"I LOVE JAVA\"\njshell&gt; s.toLowerCase()\n$47 ==&gt; \"i love java\"\njshell&gt; s.startsWith(\"I\")\n$48 ==&gt; true\njshell&gt; s.endsWith(\"Java\")\n$49 ==&gt; true\njshell&gt; s\ns ==&gt; \"I Love Java\"\njshell&gt; s == \"I Love Java\"\n$43 ==&gt; true\njshell&gt; s == new String(\"I Love Java\")\n$44 ==&gt; false\njshell&gt; s.equals(new String(\"I Love Java\"))\n$45 ==&gt; true\njshell&gt; s.equalsIgnoreCase(\"i lOve jAVA\")\n$50 ==&gt; true\n</code></pre> <p>API Ref: java.lang.String</p>"},{"location":"languages/java/basic-language-structure/#console-io","title":"Console IO \u547d\u4ee4\u884c\u8f93\u5165\u8f93\u51fa","text":"<pre><code>jshell&gt; System.out.println(\"I Love Java\")\nI Love Java\n\njshell&gt; System.out.print(\"I Love Java\")\nI Love Java\njshell&gt; System.out.printf(\"I Love %s\\n\", \"Java\")\nI Love Java\n$82 ==&gt; java.io.PrintStream@4d95d2a2\njshell&gt; import java.util.Scanner;\njshell&gt; var input = new Scanner(System.in);\njshell&gt; input.hasNextInt()\n100\n$86 ==&gt; true\njshell&gt; input.nextInt()\n$87 ==&gt; 100\njshell&gt; input.hasNextBoolean()\n100\n$89 ==&gt; false\n</code></pre> <p>API Ref: java.util.Scanner</p>"},{"location":"languages/java/basic-language-structure/#array","title":"Array \u6570\u7ec4","text":"<pre><code>jshell&gt; var matrix = new int[5][5];\nmatrix ==&gt; int[5][] { int[5] { 0, 0, 0, 0, 0 }, int[5] { 0,  ... int[5] { 0, 0, 0, 0, 0 } }\njshell&gt; for (int i = 0; i&lt;5; i++) {\n   ...&gt;     for(int j = 0; j&lt;5; j++) {\n   ...&gt;         matrix[i][j] = i * j;\n   ...&gt;     }\n   ...&gt; }\njshell&gt; matrix\nmatrix ==&gt; int[5][] {\n    int[5] { 0, 0, 0, 0, 0 },\n    int[5] { 0, 1, 2, 3, 4 },\n    int[5] { 0, 2, 4, 6, 8 },\n    int[5] { 0, 3, 6, 9, 12 },\n    int[5] { 0, 4, 8, 12, 16 } }\n</code></pre> <p>Array Utility: <pre><code>jshell&gt; import java.util.Arrays;\njshell&gt; Arrays.sort(intArr)\njshell&gt; intArr\nintArr ==&gt; int[10] { 0, 0, 0, 1, 1, 2, 5, 8, 9, 9 }\njshell&gt; Arrays.binarySearch(intArr, 5)\n$64 ==&gt; 6\n\njshell&gt; System.out.println(intArr)\n[I@2d6eabae\njshell&gt; System.out.println(Arrays.toString(intArr))\n[0, 0, 0, 1, 1, 2, 5, 8, 9, 9]\njshell&gt; System.out.println(Arrays.deepToString(matrix))\n[[0, 0, 0, 0, 0], [0, 1, 2, 3, 4], [0, 2, 4, 6, 8], [0, 3, 6, 9, 12], [0, 4, 8, 12, 16]]\n</code></pre></p> <p>API Ref: java.util.Arrays</p> \u4f55\u4e3aapi <ul> <li>API\u662f\u5e94\u7528\u7f16\u7a0b\u63a5\u53e3 (\u82f1\u8bed :Application Programming Interface\uff09\uff0c\u63cf\u8ff0\u4e86 Java \u7c7b\u5e93\u5411\u5916\u63d0\u4f9b\u7684\u529f\u80fd\u3001\u4f7f\u7528\u65b9\u6cd5\u3001\u6ce8\u610f\u4e8b\u9879\u7b49\u4fe1\u606f\u3002</li> <li>JavaDoc \u662f\u5185\u7f6e\u7684\u751f\u6210\u7f51\u7ad9\u5f62\u5f0f\u7684 API \u6587\u6863\u7684\u65b9\u5f0f\uff0cJava \u6807\u51c6\u5e93\u53c2\u8003\u6587\u6863\uff0c\u4e5f\u5c31\u662f API Ref\u5c31\u4f7f\u7528 JavaDoc \u751f\u6210\u7684\u3002</li> <li>Java \u6807\u51c6\u5e93\u5185\u5bb9\u4e30\u5bcc\uff0c\u751f\u6001\u5e9e\u5927\uff0c\u5b66\u4f1a\u9605\u8bfb\u3001\u67e5\u627e\u3001\u9075\u5faa API \u6587\u6863\u662f\u5145\u5206\u5229\u7528 Java \u4f18\u52bf\u7684\u7b2c\u4e00\u6b65\u3002</li> </ul>"},{"location":"languages/java/basic-language-structure/#_3","title":"\u6570\u5b66\u76f8\u5173","text":""},{"location":"languages/java/basic-language-structure/#biginteger","title":"BigInteger","text":"<pre><code>jshell&gt; import java.math.BigInteger;\njshell&gt; 1000000000000000 + 1\n|  \u9519\u8bef:\n|  \u6574\u6570\u592a\u5927\n|  1000000000000000 + 1\n|  ^\njshell&gt; new BigInteger(\"1000000000000000\").add(BigInteger.ONE)\n$92 ==&gt; 1000000000000001\njshell&gt; new BigInteger(\"19260817\").isProbablePrime(10)\n$93 ==&gt; true\n</code></pre> <p>API Ref: java.math.BigInteger</p>"},{"location":"languages/java/basic-language-structure/#bigdecimal","title":"BigDecimal","text":"<pre><code>jshell&gt; import java.math.BigDecimal;\n\njshell&gt; 0.1 + 0.2\n$94 ==&gt; 0.30000000000000004\n\njshell&gt; new BigDecimal(\"0.1\").add(new BigDecimal(\"0.2\"))\n$95 ==&gt; 0.3\n\njshell&gt; new BigDecimal(\"0.000000001\").toEngineeringString()\n$100 ==&gt; \"1E-9\"\n</code></pre> <p>API Ref: java.math.BigDecimal</p>"},{"location":"languages/java/basic-language-structure/#math","title":"Math\u5e93","text":"<pre><code>jshell&gt; Math.\nE                 IEEEremainder(    PI                abs(              absExact(\nacos(             addExact(         asin(             atan(             atan2(\ncbrt(             ceil(             class             copySign(         cos(\ncosh(             decrementExact(   exp(              expm1(            floor(\nfloorDiv(         floorMod(         fma(              getExponent(      hypot(\nincrementExact(   log(              log10(            log1p(            max(\nmin(              multiplyExact(    multiplyFull(     multiplyHigh(     negateExact(\nnextAfter(        nextDown(         nextUp(           pow(              random()\nrint(             round(            scalb(            signum(           sin(\nsinh(             sqrt(             subtractExact(    tan(              tanh(\ntoDegrees(        toIntExact(       toRadians(        ulp(\n</code></pre> <pre><code>jshell&gt; Math.sin(Math.PI / 4)\n$103 ==&gt; 0.7071067811865475\njshell&gt; Math.floor(1.002)\n$104 ==&gt; 1.0\njshell&gt; Math.log(Math.E)\n$107 ==&gt; 1.0\njshell&gt; Math.pow(2, 1.5)\n$108 ==&gt; 2.82842712474619\njshell&gt; Math.sqrt(2)\n$109 ==&gt; 1.4142135623730951\n</code></pre> <p>API Ref: java.lang.Math</p>"},{"location":"languages/java/basic-language-structure/#_4","title":"\u4e00\u4e9b\u8bed\u6cd5\u7cd6","text":""},{"location":"languages/java/basic-language-structure/#jep286-java10-var-type-inference","title":"[JEP286, Java10] <code>var</code> type inference","text":"<pre><code>jshell&gt; var mapOfMap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;()\nmapOfMap ==&gt; {}\n\njshell&gt; mapOfMap.put(\"Java\", Map.of(\"Type\", \"Strong-Typed\", \"Paradigm\", \"OOP\"))\n$111 ==&gt; null\n\njshell&gt; mapOfMap\nmapOfMap ==&gt; {Java={Paradigm=OOP, Type=Strong-Typed}}\n\njshell&gt; mapOfMap.forEach(\n    ..&gt;     (var key, var val) -&gt; System.out.println(key + \" : \" + val))\nJava : {Paradigm=OOP, Type=Strong-Typed}\n</code></pre>"},{"location":"languages/java/basic-language-structure/#jep378-java15-text-blocks","title":"[JEP378, Java15] Text Blocks","text":"<p><code>\"\"\"</code>\u5305\u542b\u7684\u5b57\u7b26\u4e32\u79f0\u4e3a\u6587\u672c\u5757 TextBlock\u3002 \u6587\u672c\u5757\u5141\u8bb8\u4f7f\u7528<code>\"</code>\u800c\u4e0d\u9700\u8f6c\u4e49\uff0c<code>\\\"\"\"</code>\u5219\u9700\u8981\u8f6c\u4e49\u3002</p> <pre><code>jshell&gt; \"\"\"\n   ...&gt; Line 1\n   ...&gt; Line 2\n   ...&gt; Line 3\n   ...&gt; Line 4\n   ...&gt; \"\"\"\n$4 ==&gt; \"Line 1\\nLine 2\\nLine 3\\nLine 4\\n\"\n</code></pre> <p>\u4f7f\u7528<code>\\</code>\u53d6\u6d88\u6362\u884c</p> <pre><code>jshell&gt; \"\"\"\n   ...&gt; Line 1 \\\n   ...&gt; Line 2 \\\n   ...&gt; Line 3 \\\n   ...&gt; Line 4 \\\n   ...&gt; \"\"\"\n$5 ==&gt; \"Line 1 Line 2 Line 3 Line 4\\n\"\n</code></pre> <p>\u4f7f\u7528<code>\\s</code>\u4fdd\u8bc1\u672b\u5c3e\u7a7a\u683c\u4e0d\u4f1a\u5220\u9664\uff0c\u5426\u5219\u672b\u5c3e\u7a7a\u683c\u4f1a\u88ab\u66ff\u6362\u4e3a\u6362\u884c\u7b26\u3002\u4e0b\u9762\u7528<code>\u00b7</code>\u8868\u793a\u7a7a\u683c\uff0c\u800c\u975e\u5b9e\u9645\u5b57\u7b26:</p> <pre><code>jshell&gt; \"\"\"\n   ...&gt; red\u00b7\u00b7\u00b7\n   ...&gt; green\u00b7\n   ...&gt; blue\u00b7\u00b7\n   ...&gt; \"\"\"\n$1 ==&gt; \"red\\ngreen\\nblue\\n\"\n\njshell&gt; \"\"\"\n   ...&gt; red\u00b7\u00b7\u00b7\\s\n   ...&gt; green\u00b7\\s\n   ...&gt; blue\u00b7\u00b7\\s\n   ...&gt; \"\"\"\n$1 ==&gt; \"red\u00b7\u00b7\u00b7\\ngreen\u00b7\\nblue\u00b7\u00b7\\n\"\n</code></pre>"},{"location":"languages/java/basic-language-structure/#codelab","title":"\u672c\u7ae0 CodeLab","text":""},{"location":"languages/java/basic-language-structure/#codelab-1-1-a-b","title":"CodeLab 1-1 a +-*/^&amp;| b","text":"<p>\u672cCodeLab\u94fe\u63a5</p> <ul> <li><code>codelab/chapter1/src/Lab1.java</code></li> <li>\u6807\u51c6\u8f93\u5165\u8f93\u51fa</li> <li>\u8f93\u5165\u683c\u5f0f: \u82e5\u5e72\u884c<code>a op b</code>\uff0c\u5176\u4e2d<code>op</code>\u662f<code>+-*/^&amp;|</code>\u4e2d\u7684\u5176\u4e2d\u4e00\u79cd\uff0c\u4ee5\u6807\u51c6\u8f93\u5165\u7ed3\u675f\u4e3a\u7ec8\u6b62</li> <li>\u8f93\u51fa\u683c\u5f0f: \u82e5\u5e72\u884c\u8ba1\u7b97\u7ed3\u679c</li> <li>\u63d0\u793a: \u8ba1\u7b97\u7ed3\u679c\u53ef\u80fd\u975e\u5e38\u5927</li> </ul>"},{"location":"languages/java/basic-language-structure/#codelab-1-2-quicksort","title":"CodeLab 1-2 QuickSort","text":"<p>\u672cCodeLab\u94fe\u63a5</p> <ul> <li><code>codelab/chapter1/src/Lab2.java</code></li> <li>\u5b9e\u73b0<code>public static void quickSort(int[] arr)</code></li> <li>\u8fd0\u884c<code>main</code>\u65b9\u6cd5\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5b9e\u73b0\u7684\u6b63\u786e\u6027</li> </ul>"},{"location":"languages/java/basic-language-structure/#_5","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li> <p>\u672c\u7ae0CodeLab</p> </li> <li> <p>Java API Ref</p> <ul> <li>java.util.Arrays</li> <li>java.lang.String</li> <li>java.lang.Math</li> <li>java.util.Scanner</li> <li>java.math.BigInteger</li> <li>java.math.BigDecimal</li> </ul> </li> <li> <p>JEP</p> <ul> <li>JEP 286 <code>var</code> type inference</li> <li>JEP 378 Text Blocks</li> </ul> </li> </ul>"},{"location":"languages/java/design-patterns/","title":"Chapter 3 Design Patterns","text":""},{"location":"languages/java/design-patterns/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u524d\u4e24\u7ae0\u4e2d\u4ecb\u7ecd\u7684 Java \u57fa\u672c\u8bed\u6cd5\u4ee5\u53ca OOP \u76f8\u5173\u8bed\u6cd5\u4ee5\u53ca\u6982\u5ff5\u3002</li> </ul> \u4f55\u4e3a\u8bbe\u8ba1\u6a21\u5f0f <ul> <li>\u8bbe\u8ba1\u6a21\u5f0f  Design Patterns \u662f\u4e00\u5957\u6700\u4f73\u5b9e\u8df5\uff0c\u63cf\u8ff0\u4e86\u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458\u5728\u9762\u4e34\u4e00\u4e9b\u4e00\u822c\u6027\u95ee\u9898\u65f6\u4f7f\u7528\u548c\u603b\u7ed3\u51fa\u7684\u89e3\u51b3\u65b9\u6848\u3002</li> <li>1994\u5e74\uff0c Erich Gamma\u3001Richard Helm\u3001Ralph Johnson \u548c John Vlissides\u5408\u8457\u4e86Design Patterns - Elements of Reusable Object-Oriented Software\uff08\u300a\u8bbe\u8ba1\u6a21\u5f0f\u2014\u2014\u53ef\u590d\u7528\u9762\u5411\u5bf9\u8c61\u8f6f\u4ef6\u7684\u57fa\u7840\u300b\uff09\uff0c\u9996\u6b21\u63d0\u51fa\u4e86\u8bbe\u8ba1\u6a21\u5f0f\u7684\u6982\u5ff5\uff0c\u5e76\u5bf9\u5927\u591a\u6570\u5e38\u89c1\u7684\u8bbe\u8ba1\u6a21\u5f0f\u8fdb\u884c\u4e86\u5206\u7c7b\u7ec4\u7ec7\u548c\u8ba8\u8bba\u3002\u8fd9\u56db\u4f4d\u4f5c\u8005\u4e5f\u88ab\u79f0\u4e3a\u56db\u4eba\u5e2e GoF, Gang of Four\u3002</li> <li>\u5408\u7406\u7684\u5229\u7528\u8bbe\u8ba1\u6a21\u5f0f\u8ba9\u4ee3\u7801\u7ec4\u7ec7\u771f\u6b63\u7684\u5de5\u7a0b\u5316\uff0c\u51cf\u5c11\u8026\u5408\u3001\u63d0\u5347\u53ef\u7ef4\u62a4\u6027\u3001\u63d0\u5347\u590d\u7528\u5ea6\u3002</li> <li>\u672c\u7ae0\u6211\u4f1a\u5e26\u5927\u5bb6\u8ba4\u8bc6\u4e00\u4e9b\u5e38\u89c1\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5e76\u4ecb\u7ecd Java \u6807\u51c6\u5e93\u4e2d\u76f8\u5e94\u7684\u8bbe\u8ba1\u8303\u4f8b\u3002</li> </ul> OOP Principle <ul> <li>\u5bf9\u63a5\u53e3\u7f16\u7a0b\u800c\u4e0d\u662f\u5bf9\u5b9e\u73b0\u7f16\u7a0b\u3002</li> <li>\u7ec4\u5408\u4f18\u5148\u4e8e\u7ee7\u627f\u3002</li> <li>\u5355\u4e00\u804c\u8d23\u539f\u5219: \u7c7b\u7684\u804c\u8d23\u5e94\u5f53\u5c3d\u53ef\u80fd\u7684\u5c11\u800c\u6e05\u6670\u3002</li> <li>\u5408\u7406\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u800c\u4e0d\u8981\u6ee5\u7528\u3002</li> </ul>"},{"location":"languages/java/design-patterns/#creational-patterns","title":"Creational Patterns \u521b\u9020\u578b\u6a21\u5f0f","text":"<p>\u521b\u9020\u578b\u6a21\u5f0f\u63cf\u8ff0\u4e86\u5982\u4f55\u521b\u5efa\u5bf9\u8c61:</p> <ol> <li>Builder  \u6784\u5efa\u8005\u6a21\u5f0f\u3002</li> <li>Factory Method  \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u3002</li> <li>Abstract Factory  \u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u3002</li> <li>Singleton  \u5355\u4f8b\u6a21\u5f0f\u3002</li> </ol>"},{"location":"languages/java/design-patterns/#builder","title":"Builder \u6784\u5efa\u8005\u6a21\u5f0f","text":"<p>\u6784\u5efa\u8005\uff08\u82f1\u8bed:  Builder\uff09\u6a21\u5f0f\u901a\u5e38\u7531\u4e00\u4e2a\u6307\u5bfc\u8005 Director \u7c7b\u3001\u4e00\u4e2a\u6784\u9020\u8005 Builder \u63a5\u53e3/\u62bd\u8c61\u7c7b\u548c\u82e5\u5e72\u4e2a\u5177\u4f53\u6784\u5efa\u8005\u5b9e\u73b0\u7c7b\u7ec4\u6210\u3002 \u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0cBuilder \u63d0\u4f9b\u6784\u5efa\u5176\u4ed6\u683c\u5f0f\u6587\u6863\u6240\u9700\u8981\u7684\u63a5\u53e3:</p> <pre><code>interface DocumentBuilder {\n    void appendText(String para);\n    void appendHeader(String header, int level);\n    void appendInlineCode(String code);\n    // ... More elements\n    String build();  // Get build result\n}\n</code></pre> <p>Director  \u7ba1\u7406 Markdown \u7684\u89e3\u6790\uff0c\u5e76\u4f7f\u7528 Builder  \u6784\u5efa\u8f6c\u5316\u540e\u7684\u6587\u6863:</p> <pre><code>class MarkdownDirector {\n    private final DocumentBuilder builder;\n    public MarkdownDirector(DocumentBuilder builder) { this.builder = builder; }\n    public String convert(String markdownText) {\n        markdownText.lines().forEach(this::parseLine);\n        return builder.build();\n    }\n    private void parseLine(String line) {\n        // ...\n    }\n}\n</code></pre> <p>Director \u7ba1\u7406 Markdown\u7684\u89e3\u6790\uff0c\u5e76\u4f7f\u7528 Builder  \u6784\u5efa\u8f6c\u5316\u540e\u7684\u6587\u6863:</p> <pre><code>// Demo implement\nprivate void parseLine(String line) {\n    if (line.startsWith(\"###### \")) builder.appendHeader(line.substring(7), 6);\n    if (line.startsWith(\"##### \")) builder.appendHeader(line.substring(6), 5);\n    // ...\n    if (line.startsWith(\"# \")) builder.appendHeader(line.substring(2), 1);\n    if (line.startsWith(\"- \")) builder.appendUnorderedList(line.substring(2));\n    // ...\n}\n</code></pre> <p>\u5177\u4f53\u7684 Builder  \u5b9e\u73b0\u5305\u542b\u4e86\u5bf9\u5e94\u5177\u4f53\u76ee\u6807\u6587\u4ef6\u683c\u5f0f\u7684\u8f6c\u5316\u5b9e\u73b0\uff0c\u6bd4\u5982:</p> <pre><code>class HtmlBuilder implements DocumentBuilder {\n    private StringBuilder strBuf;\n    @Override public void appendText(String para) {\n        strBuf.append(\"&lt;p&gt;\").append(para).append(\"&lt;/p&gt;\\n\");\n    }\n    @Override public void appendHeader(String header, int level) {\n        strBuf.append(\"&lt;h\" + level + \"&gt;\")\n              .append(header)\n              .append(\"&lt;/h\" + level + \"&gt;\\n\")\n    }\n}\n</code></pre> <p>\u5177\u4f53\u7684 Builder \u5b9e\u73b0\u5305\u542b\u4e86\u5bf9\u5e94\u5177\u4f53\u76ee\u6807\u6587\u4ef6\u683c\u5f0f\u7684\u8f6c\u5316\u5b9e\u73b0\uff0c\u6bd4\u5982:</p> <p><pre><code>class HtmlBuilder implements DocumentBuilder {\n    private StringBuilder strBuf;\n    @Override public String build() {\n        return strBuf.toString();\n    }\n}\n</code></pre> \u4f5c\u4e3a\u8fd9\u4e2a\u683c\u5f0f\u8f6c\u5316\u7cfb\u7edf\u7684\u4f7f\u7528\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7684\u6587\u4ef6\u683c\u5f0f\u63d0\u4f9b\u76f8\u5e94\u7684\u6784\u5efa\u5668: <pre><code>public static void main(String[] args) throws IOException {\n    DocumentBuilder builder = switch (args[2]) {\n        case \"pdf\"  -&gt; new PDFBuilder();\n        case \"html\" -&gt; new HtmlBuilder();\n        default     -&gt; { System.exit(-1); yield null; }\n    }\n    String markdown = Files.readString(Path.of(args[0]));\n    String result = new MarkdownDirector(builder).convert(markdown);\n    Files.writeString(Path.of(args[1]), result);\n}\n</code></pre></p> <p>\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u597d\u5904\u5728\u4e8e:</p> <ol> <li>\u5206\u79bb \u6307\u5bfc\u8005 \u548c \u6784\u5efa\u8005 \u7684\u5177\u4f53\u5b9e\u73b0\u3002\u6307\u5bfc\u8005 \u65e0\u9700\u5173\u5fc3\u5177\u4f53\u7ed3\u679c\u5bf9\u8c61\u7684\u5177\u4f53\u5185\u90e8\u8868\u793a\u5f62\u5f0f\u3001\u5b9e\u73b0\u65b9\u6cd5\u548c\u7ec4\u6210\u987a\u5e8f\u3002</li> <li>\u63d0\u5347\u6a21\u5757\u5316\uff0c\u6709\u5229\u4e8e\u5408\u4f5c\u5f00\u53d1\uff0c\u4e5f\u6709\u5229\u4e8e\u5feb\u901f\u5b9a\u4f4d\u9519\u8bef\u3002</li> </ol> <p>\u5728\u4ee5\u4e0b\u60c5\u51b5\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f:</p> <ol> <li>\u590d\u6742\u5bf9\u8c61\u7684\u521b\u5efa\u6d41\u7a0b\u548c\u5177\u4f53\u5185\u90e8\u5b9e\u73b0\u3001\u6570\u636e\u8868\u793a\u662f\u5206\u79bb\u7684\u3002</li> </ol> <p>Java\u5185\u6700\u77e5\u540d\u7684\u6784\u5efa\u8005\u5b9e\u4f8b\u5c31\u662f<code>java.lang.StringBuilder</code>\uff0c\u5b83\u63d0\u4f9b\u4e86\u6784\u5efa\u5927\u578b\u5b57\u7b26\u4e32\u6240\u9700\u7684\u6240\u6709\u65b9\u6cd5:</p> <ul> <li><code>append(*)</code> <code>insert(int, *)</code> <code>replace(int, int, String)</code></li> <li><code>length()</code> <code>charAt(int)</code> <code>substring(int, int)</code></li> <li><code>toString()</code></li> </ul>"},{"location":"languages/java/design-patterns/#abstract-factory","title":"Abstract Factory","text":"<p>\u8003\u8651 IntelliJ IDEA \u548c\u73b0\u5728\u7edd\u5927\u591a\u6570 GUI \u7f16\u8f91\u5668/ IDE \uff0c\u5b83\u4eec\u90fd\u652f\u6301\u6362\u4e3b\u9898\u76ae\u80a4\u7684\u529f\u80fd\u3002\u6211\u4eec\u53ef\u4ee5\u4e3a\u6bcf\u4e00\u5957\u76ae\u80a4\u90fd\u63d0\u4f9b\u4e00\u6574\u5957 GUI \u5b9e\u73b0\uff0c\u4f46\u662f\u663e\u7136\u8fd9\u4e2a\u5de5\u4f5c\u91cf\u5c31\u8fc7\u5927\u4e86\u3002</p> <p>\u6211\u4eec\u53d1\u73b0\uff0cGUI \u4e00\u822c\u90fd\u7531\u4e00\u4e9b\u57fa\u672c\u7684\u5143\u7d20\u7ec4\u6210\uff0c\u5982\u6309\u94ae\u3001\u83dc\u5355\u3001\u6587\u672c\u6846\u3001\u6587\u672c\u533a\u7b49\u3002\u8fd9\u4e9b\u57fa\u672c\u5143\u7d20\u88ab\u79f0\u4e3a\u7ec4\u4ef6 Widget\u3002\u5b83\u4eec\u53ef\u80fd\u4f1a\u6709\u4e0d\u540c\u7684\u6e32\u67d3\u5b9e\u73b0\uff0c\u4f46\u662f GUI \u7684\u5e03\u5c40\u603b\u662f\u76f8\u540c\u7684\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5206\u79bb\u8fd9\u4e24\u8005\u3002</p> <p>\u4e0d\u540c\u7684\u76ae\u80a4\u5b9e\u9645\u4e0a\u662f\u63d0\u4f9b\u4e86\u4e0d\u540c\u5b9e\u73b0\u7684\u7ec4\u4ef6\u7684\u7c7b\uff0c\u8fd9\u4e2a\u7c7b\u88ab\u79f0\u4e3a\u62bd\u8c61\u5de5\u5382\uff08\u82f1\u8bed: Abstract Factory\uff09\u3002</p> <pre><code>class Button    { /* ... */ }\nclass TextField { /* ... */ }\nclass TextArea  { /* ... */ }\nclass Toolbar   { /* ... */ }\n\n// Abstract Factory\ninterface Theme {\n    Button    createButton();\n    TextField createTextField();\n    TextArea  createTextArea();\n    Toolbar   createToolbar();\n}\n</code></pre> <pre><code>class DarkButton    extends Button    { /* ... */ }\nclass DarkTextField extends TextField { /* ... */ }\nclass DarkTextArea  extends TextArea  { /* ... */ }\nclass DarkToolbar   extends Toolbar   { /* ... */ }\n\nclass DarkTheme implements Theme {\n    @Override public Button    createButton()    { return new DarkButton(); }\n    @Override public TextField createTextField() { return new DarkTextField(); }\n    @Override public TextArea  createTextArea()  { return new DarkTextArea(); }\n    @Override public Toolbar   createToolbar()   { return new DarkToolbar(); }\n}\n</code></pre> <pre><code>class LightButton    extends Button    { /* ... */ }\nclass LightTextField extends TextField { /* ... */ }\nclass LightTextArea  extends TextArea  { /* ... */ }\nclass LightToolbar   extends Toolbar   { /* ... */ }\n\nclass LightTheme implements Theme {\n    @Override public Button    createButton()    { return new LightButton(); }\n    @Override public TextField createTextField() { return new LightTextField(); }\n    @Override public TextArea  createTextArea()  { return new LightTextArea(); }\n    @Override public Toolbar   createToolbar()   { return new LightToolbar(); }\n}\n</code></pre> <pre><code>class GUI {\n    private final Theme theme;\n    public GUI(Theme theme) {\n        this.theme = theme;\n        build();\n    }\n\n    private void build() {\n        var btn1 = theme.createButton();\n        btn1.setGeometry(10, 10, 30, 10);\n        btn1.setText(\"This is a button\");\n    }\n}\n</code></pre> <p>\u5e94\u7528\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u53ef\u4ee5:</p> <ol> <li>\u9694\u79bb\u5177\u4f53\u5b9e\u73b0\u7c7b\u3002</li> <li>\u66f4\u6362\u5177\u4f53\u5b9e\u73b0\u7c7b\u7684\u5bb6\u65cf\uff0c\u5e76\u4fdd\u8bc1\u8fd9\u4e9b\u5b9e\u73b0\u7c7b\u7684\u884c\u4e3a\u4e00\u81f4\u6027\u3002</li> </ol> <p>\u5e94\u5f53\u4f7f\u7528\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff0c\u5f53:</p> <ol> <li>\u4f60\u7684\u7cfb\u7edf\u548c\u5b83\u6240\u4ee5\u4f9d\u8d56\u7684\u7ec4\u4ef6\u7684\u521b\u5efa\u3001\u7ec4\u5408\u548c\u5185\u90e8\u8868\u793a\u662f\u72ec\u7acb\u7684\u3002</li> <li>\u4f60\u7684\u7cfb\u7edf\u9700\u8981\u66f4\u6362\u7ec4\u4ef6\u5bb6\u65cf\uff0c\u800c\u7ec4\u4ef6\u5bb6\u65cf\u88ab\u8bbe\u8ba1\u4e3a\u9700\u8981\u4e00\u8d77\u4f7f\u7528\u3002</li> </ol> <p>Java Swing \u662f Java \u63d0\u4f9b\u7684\u8de8\u5e73\u53f0 GUI \u5e93\uff0c\u5b83\u5c31\u63d0\u4f9b\u4e86\u548c\u6211\u4eec\u4f8b\u5b50\u5f88\u7c7b\u4f3c\u7684\u66f4\u6362\u4e3b\u9898\uff0c\u6216\u8005\u53eb Java Swing Look&amp;Feel (L&amp;F) \u7684\u529f\u80fd\uff0c\u8fd9\u662f\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7684\u6700\u7ecf\u5178\u4f8b\u5b50\u3002</p>"},{"location":"languages/java/design-patterns/#factory-method","title":"Factory Method \u5de5\u5382\u65b9\u6cd5","text":"<p>\u8003\u8651\u4e00\u4e2a\u9700\u8981\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5e94\u7528\u3002\u5bf9\u4e0d\u540c\u6570\u636e\u5e93\u7684\u8fde\u63a5\u662f\u7531\u4e0d\u540c\u7c7b\u6765\u5b9e\u73b0\u548c\u5904\u7406\u7684\uff0c\u4f46\u662f\u5177\u4f53\u7684\u6570\u636e\u5e93\u7c7b\u578b\u4e00\u822c\u4e0d\u662f\u7f16\u8bd1\u671f\u51b3\u5b9a\u7684\uff0c\u800c\u662f\u7531\u8fd0\u884c\u65f6\u7684\u914d\u7f6e\u6587\u4ef6\u7b49\u63a7\u5236\u3002</p> <p>\u901a\u8fc7\u5de5\u5382\u65b9\u6cd5\uff08\u82f1\u8bed: Factory Method\uff09\uff0c\u53ef\u4ee5\u5c06\u521b\u5efa\u5177\u4f53\u6570\u636e\u5e93\u8fde\u63a5\u7684\u8d23\u4efb\u8f6c\u79fb\u7ed9\u5de5\u5382\u65b9\u6cd5\u5185\u90e8\u3002\u5176\u5f97\u540d\uff0c\u5c31\u662f\u56e0\u4e3a\u5b83\u8d1f\u8d23\u201c\u5236\u9020\u201d\u5bf9\u8c61\uff0c\u5c31\u5982\u540c\u4e00\u4e2a\u5de5\u5382\u4e00\u6837\u3002</p> <pre><code>interface DatabaseConnection {\n    void open();\n    Result executeSQL(String sql);\n    void close();\n}\n\nclass MySqlConnection    implements DatabaseConnection { /* ... */ }\nclass SqliteConnection   implements DatabaseConnection { /* ... */ }\nclass PostgresConnection implements DatabaseConnection { /* ... */ }\n</code></pre> <pre><code>class DatabaseConnectionFactory {\n    private String type;\n    public DatabaseConnectionFactory(String type) { this.type == type; }\n\n    public DatabaseConnection createConnection() {\n        return switch(type) {\n            case \"mysql\"    -&gt; new MySqlConnection();\n            case \"sqlite\"   -&gt; new SqliteConnection();\n            case \"postgres\" -&gt; new PostgresConnection();\n            default         -&gt; null;\n        }\n    }\n}\n</code></pre> <pre><code>public static main(String[] args) {\n    var factory = new DatabaseConnectionFactory(args[0]);\n    var conn = factory.createConnection();\n    conn.open();\n    conn.executeSQL(\"SELECT * FROM user\");\n    conn.close();\n}\n</code></pre> <p>\u5de5\u5382\u65b9\u6cd5\u901a\u5e38\u4e5f\u53ef\u4ee5\u662f\u9759\u6001\u7684<code>static</code>:</p> <pre><code>class DatabaseConnectionFactory {\n    public static DatabaseConnection createConnection(String type) {\n        return switch(type) {\n            case \"mysql\"    -&gt; new MySqlConnection();\n            case \"sqlite\"   -&gt; new SqliteConnection();\n            case \"postgres\" -&gt; new PostgresConnection();\n            default         -&gt; null;\n        }\n    }\n}\nvar conn = DatabaseConnectionFactory.createConnection(args[0]);\n</code></pre> <p>\u5de5\u5382\u65b9\u6cd5\u662f Java \u4e2d\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u4e00\u3002</p> <ol> <li>\u6d88\u9664\u5bf9\u5177\u4f53\u5b9e\u73b0\u7c7b\u7684\u7f16\u8bd1\u671f\u7ed1\u5b9a\uff0c\u8fdb\u800c\u5f3a\u5316\u4e86\u9762\u5411\u63a5\u53e3\u7f16\u7a0b</li> <li>\u5de5\u5382\u65b9\u6cd5\u5b9e\u9645\u4e0a\u548c\u6784\u9020\u5668\u7684\u529f\u80fd\u975e\u5e38\u76f8\u4f3c\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u6a21\u5f0f\u6709\u65f6\u8fd8\u88ab\u79f0\u4f5c\u865a\u62df\u6784\u9020\u5668 virtual constructor\u3002\u5de5\u5382\u65b9\u6cd5\u547d\u540d\u548c\u8bed\u6cd5\u90fd\u66f4\u52a0\u81ea\u7531\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u66f4\u7075\u6d3b\u3001\u8bed\u4e49\u66f4\u660e\u663e\u7684\u6784\u9020\u5668\u4f7f\u7528\u3002</li> </ol> <p>Java \u4e2d\u5de5\u5382\u65b9\u6cd5\u7684\u5e94\u7528\u968f\u5904\u53ef\u89c1:</p> <ul> <li>\u5404\u4e2a\u63a5\u53e3\u4e2d\u7684<code>of</code>\u7cfb\u5217\u9759\u6001\u65b9\u6cd5\u51e0\u4e4e\u90fd\u662f\u9759\u6001\u5de5\u5382\u65b9\u6cd5:</li> <li><code>Set.of(...)</code> <code>Map.of(...)</code> <code>List.of(...)</code></li> <li><code>Year.of()</code> <code>Mouth.of()</code> <code>DayOfWeek.of()</code></li> <li> <p><code>Path.of()</code></p> </li> <li> <p><code>java.util.concurrent.Executors</code>\u63d0\u4f9b\u4e86\u82e5\u5e72\u5de5\u5382\u65b9\u6cd5\u6765\u5b9e\u4f8b\u5316\u6ee1\u8db3\u4e0d\u540c\u7ebf\u7a0b\u8c03\u5ea6\u9700\u6c42\u7684\u6267\u884c\u5668\u5b9e\u73b0\u3002</p> </li> <li><code>java.sql.DriverManager</code>\u662fJava\u6807\u51c6\u5e93\u5bf9\u672c\u8282\u4f8b\u5b50\u7684\u5177\u4f53\u4f53\u73b0\u3002</li> <li><code>java.sql.DriverManager#getConnection(String url)</code>\u901a\u8fc7\u89e3\u6790 URL \u4e2d\u7684\u534f\u8bae\u540d\uff0c\u81ea\u52a8\u5728\u7c7b\u8def\u5f84\u4e2d\u5bfb\u627e\u7b26\u5408\u8981\u6c42\u7684\u6570\u636e\u5e93\u9a71\u52a8\u7c7b\uff0c\u7136\u540e\u901a\u8fc7\u6570\u636e\u5e93\u9a71\u52a8\u5efa\u7acb\u8fde\u63a5 \u3002</li> </ul>"},{"location":"languages/java/design-patterns/#singleton","title":"Singleton \u5355\u4f8b","text":"<p>\u5355\u4f8b\uff08\u82f1\u8bed: Singleton\uff09\u6a21\u5f0f\u8bf4\u660e\u67d0\u4e9b\u7c7b\u53ea\u5e94\u5f53\u5b58\u5728\u4e00\u4e2a\u5b9e\u4f8b\u3002\u6bd4\u5982OS\u53ea\u5e94\u8be5\u6709\u4e00\u4e2a\u7a97\u53e3\u7ba1\u7406\u5668\uff0c\u4e5f\u53ea\u5e94\u8be5\u6709\u4e00\u4e2a\uff08\u903b\u8f91\u4e0a\u7684\uff09\u6587\u4ef6\u7cfb\u7edf\u3002\u5bf9 Java \u7a0b\u5e8f\u6765\u8bf4\uff0cJava \u8fd0\u884c\u65f6\u73af\u5883\u4e5f\u5e94\u8be5\u662f\u552f\u4e00\u7684\u3002\u4e8b\u5b9e\u4e5f\u662f\u5982\u6b64\uff0c<code>java.lang.Runtime</code> \u7c7b\u7684\u786e\u662f\u4e00\u4e2a\u5355\u4f8b\uff0c\u9700\u8981\u4f7f\u7528 <code>java.lang.Runtime#getRuntime()</code> \u83b7\u53d6\u8fd9\u4e2a\u5bf9\u8c61\u3002</p> <pre><code>class Singleton {\n    private static INSTANCE;                 // 1.\n    private Singleton() { /* ... */ }        // 2.\n\n    public static Singleton getInstance() {  // 3.\n        if(INSTANCE == null) {               // 4.\n            INSTANCE = new Singleton();\n        }\n        return INSTANCE;\n    }\n}\n</code></pre> <ol> <li>\u7528\u79c1\u6709\u9759\u6001\u6210\u5458\u57df\u4fdd\u5b58\u5355\u4f8b\u5bf9\u8c61</li> <li>\u5c06\u6784\u9020\u5668\u8bbe\u7f6e\u4e3a<code>private</code>\uff0c\u8fd9\u53ef\u4ee5\u9632\u6b62\u4ed6\u4eba\u65b0\u5efa\u5176\u4ed6\u7684\u5bf9\u8c61\u6765\u7834\u574f\u5355\u4f8b</li> <li>\u5982\u679c\u5355\u4f8b\u9700\u8981\u5728\u5e76\u53d1\u73af\u5883\u4e0b\u4f7f\u7528\uff0c\u53ef\u4ee5\u52a0\u5165<code>synchronized</code>\u5173\u952e\u5b57\u6765\u4fdd\u8bc1\u8fd9\u4e2a\u51fd\u6570\u540c\u65f6\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8fdb\u5165\u6267\u884c</li> <li>\u4e00\u822c\u91c7\u7528\u61d2\u521d\u59cb\u5316\uff08lazy initialization\uff09\u7684\u65b9\u6cd5\uff0c\u5373\uff0c\u5728\u771f\u6b63\u9700\u8981\u5355\u4f8b\u7684\u65f6\u5019\u518d\u521b\u5efa\u3002</li> </ol>"},{"location":"languages/java/design-patterns/#structural-patterns","title":"Structural Patterns \u7ed3\u6784\u578b\u6a21\u5f0f","text":""},{"location":"languages/java/design-patterns/#adapter","title":"Adapter \u9002\u914d\u5668","text":"<p>\u9002\u914d\u5668\uff08\u82f1\u8bed: Adapter\uff09\u6a21\u5f0f\uff0c\u987e\u540d\u601d\u4e49\uff0c\u662f\u901a\u8fc7 Adapter \u7c7b\u5c06\u4e24\u4e2a\u4e0d\u517c\u5bb9\u7684\u63a5\u53e3\u8fde\u63a5\u5230\u4e00\u8d77\uff0c\u5982\u4e0b\u9762\u7684\u4f8b\u5b50:</p> <pre><code>interface AppleLightning { /* ... */ }\ninterface UsbTypeC       { /* ... */ }\n\nclass TypeC2Lightning implements AppleLightning {\n    private final UsbTypeC usb;\n    public TypeC2Lightning(UsbTypeC usb) { this.usb = usb; }\n    // Lightning methods\n}\n</code></pre> <p>Java\u6807\u51c6\u5e93\u4e2d\u6700\u5e38\u7528\u7684\u9002\u914d\u5668\uff0c\u5c31\u662f\u8fde\u63a5<code>Reader</code> <code>Writer</code>\u4e0e<code>InputStream</code> <code>OutputStream</code>\u7684<code>InputStreamReader</code> <code>OutputStreamWriter</code>\u3002</p> <ul> <li><code>Reader</code> <code>Writer</code>: \u7528\u4e8e\u8bfb\u53d6\u5b57\u7b26\u6d41\u3002</li> <li><code>InputStream</code> <code>OutputStream</code>: \u7528\u4e8e\u8bfb\u53d6\u5b57\u8282\u6d41\u3002</li> <li><code>InputStreamReader</code> <code>OutputStreamWriter</code>: \u9002\u914d\u5668\u7c7b\uff0c\u7528\u4e8e\u5904\u7406\u539f\u59cb\u5b57\u8282\u6d41\uff0c\u901a\u8fc7\u5b57\u7b26\u96c6\u7f16\u7801\u7b49\u4fe1\u606f\u8f6c\u5316\u4e3a\u5b57\u7b26\u6d41\u3002</li> </ul> <pre><code>var fileInput = new FileInputStream(\"input.txt\");\nvar fileReader = new InputStreamReader(fileInput, \"UTF-8\");\nvar charBuf = new char[100];\nvar charCount = fileReader.read(charBuf, 0, 100);\nvar str = new String(charBuf);\n</code></pre> <p>\u9002\u914d\u5668\u6a21\u5f0f\u7684\u4f7f\u7528\u573a\u666f\u6bd4\u8f83\u660e\u663e\uff0c\u5199\u6cd5\u4e5f\u6bd4\u8f83\u76f4\u63a5\uff0c\u56e0\u6b64\u4ecb\u7ecd\u7684\u7bc7\u5e45\u8f83\u77ed\u3002\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u8bf7\u4e0d\u8981\u6ee5\u7528\u9002\u914d\u5668\uff0c\u5426\u5219\u4f1a\u5bf9\u7c7b\u578b\u7cfb\u7edf\u5e26\u6765\u6df7\u4e71\uff0c\u589e\u52a0\u65e0\u7528\u4ee3\u7801\u7684\u6570\u91cf\u3002</p>"},{"location":"languages/java/design-patterns/#decorator","title":"Decorator \u88c5\u9970\u5668","text":"<p>\u88c5\u9970\u5668\uff08\u82f1\u8bed: Decorator\uff09\u6a21\u5f0f\u5728\u6691\u57f9\u7684 python \u8bfe\u7a0b\u4e2d\u6709\u6d89\u53ca\u5230\uff08 python \u8bed\u8a00\u6709\u5bf9\u88c5\u9970\u5668\u51fd\u6570\u7684\u8bed\u6cd5\u652f\u6301\uff09\u3002\u88c5\u9970\u5668\u548c\u9002\u914d\u5668\u90fd\u662f\u5305\u88c5\u5bf9\u8c61\u7684\u6a21\u5f0f\uff0c\u4f46\u662f\u88c5\u9970\u5668\u7684\u91cd\u8981\u533a\u522b\u5728\u4e8e\uff0c\u5b83\u662f\u5c06\u63a5\u53e3\u5305\u88c5\u5230\u540c\u4e00\u4e2a\u63a5\u53e3\uff0c\u53ea\u4e0d\u8fc7\u88c5\u9970\u4e0a\u589e\u5f3a\u7684\u529f\u80fd\u6027\u3002\u800c\u9002\u914d\u5668\u662f\u5305\u88c5\u4e3a\u53e6\u4e00\u4e2a\u4e0d\u517c\u5bb9\u7684\u63a5\u53e3\u3002</p> <p>\u8003\u8651 VSCode \u7684\u4ee3\u7801\u533a\uff0c\u662f\u5728\u6700\u6734\u7d20\u7684\u6587\u672c\u533a\u4e0a\uff0c\u52a0\u5165\u4e86\u7f29\u7565\u56fe\u3001\u6eda\u52a8\u6761\u7b49\u7ec4\u4ef6\uff0c\u800c\u4e14\u7f29\u7565\u56fe\u8fd9\u79cd\u7ec4\u4ef6\u5b9e\u9645\u4e0a\u5728\u914d\u7f6e\u4e2d\u662f\u53ef\u4ee5\u79fb\u9664\u7684\u3002\u9700\u8981\u6dfb\u52a0\u989d\u5916\u529f\u80fd\u5e76\u652f\u6301\u52a8\u6001\u6dfb\u52a0/\u79fb\u9664\u65f6\uff0c\u5c31\u5e94\u5f53\u4f7f\u7528\u88c5\u9970\u5668\u6a21\u5f0f\u3002</p> <pre><code>class Component { /* ... */ }\nclass TextArea extends Component { /* ... */ }\n\nclass ThumbnailDecorator extends TextArea {\n    private final TextArea internal;\n    public ThumbnailDecorator(TextArea textArea) { internal = textArea;}\n}\n\nclass ScrollBarDecorator extends Component {\n    private final Component internal;\n    public ScrollBarDecorator(Component comp) { internal = comp;}\n}\n</code></pre> <pre><code>class GUIFactory {\n    public static Component createCodeArea(boolean enableThumbnail) {\n        var textArea = new TextArea();\n        return enableThumbnail ? new ScrollBarDecorator(new ThumbnailDecorator(textArea))\n                               : new ScrollBarDecorator(textArea);\n    }\n}\n</code></pre> <p><code>java.io</code>\u5305\u7684\u8bbe\u8ba1\u5904\u5904\u4f53\u73b0\u4e86\u88c5\u9970\u5668\u6a21\u5f0f\u3002\u6211\u4eec\u4ee5\u8f93\u5165\u6d41\u4e3a\u4f8b:</p> <ul> <li><code>java.io.InputStream</code> \u662f\u901a\u7528\u7684\u57fa\u7c7b\uff0c\u57fa\u672c\u529f\u80fd\u5c31\u662f<code>read</code>\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u6216\u8005\u5b57\u8282\u6570\u7ec4</li> <li>\u7ec8\u7aef\u6d41\uff0c\u5373\u771f\u6b63\u4ea7\u751f\u6570\u636e\u7684\u6d41:</li> <li><code>java.io.ByteArrayInputStream</code> \u4ece\u5b57\u8282\u6570\u7ec4\u4e2d\u8bfb\u3002</li> <li><code>java.io.FileInputStream</code> \u4ece\u6587\u4ef6\u4e2d\u8bfb\u3002</li> <li> <p><code>java.io.PipedInputStream</code> \u4ece\u8fde\u63a5\u5230\u7684\u53e6\u4e00\u4e2a\u8f93\u51fa\u6d41\u4e2d\u8bfb\u3002</p> </li> <li> <p>\u88c5\u9970\u5668\u6d41\uff0c\u5373\u4e3a\u73b0\u6709\u6d41\u6dfb\u52a0\u989d\u5916\u529f\u80fd\u7684\u6d41:</p> </li> <li><code>java.io.BufferedInputStream</code> \u4e3a\u73b0\u6709\u6d41\u52a0\u4e2a\u7f13\u51b2\u533a\u4ee5\u63d0\u5347\u6027\u80fd\u3002</li> <li><code>java.util.zip.CheckedInputStream</code> \u8fb9\u8bfb\u8fb9\u7b97CRC32\u7b49\u6821\u9a8c\u7801\u3002</li> <li><code>java.util.zip.Inflater/DeflaterInputStream</code> \u89e3\u538b\u7f29/\u538b\u7f29\u539f\u59cb\u6570\u636e\u3002</li> <li><code>java.security.DigestInputStream</code> \u8fb9\u8bfb\u8fb9\u7b97MD5/SHA-1\u7b49\u6d88\u606f\u6458\u8981\u3002</li> <li><code>javax.crypto.CipherInputStream</code> \u5c06\u539f\u59cb\u6570\u636e\u901a\u8fc7AES/RSA\u7b49\u5bc6\u94a5\u7b97\u6cd5\u52a0\u5bc6/\u89e3\u5bc6\u3002</li> </ul> <pre><code>var fileInput = new FileInputStream(\"data.gzip\");\nvar checkedInput = new CheckedInputStream(fileInput, new CRC32());\nvar gzipInput = new GZIPInputStream(checkedInput);\n\nvar data = gzipInput.readAllBytes();\nvar checksum = checkedInput.getChecksum().getValue();\nassert(checksum == 1234567890L);\n</code></pre> <p>\u88c5\u9970\u5668\u6a21\u5f0f\u5e26\u6765\u7684\u597d\u5904\u6709:</p> <ol> <li>\u4fdd\u8bc1\u5355\u4e00\u804c\u8d23\u539f\u5219\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u4e0a\u9762\u6211\u4ecb\u7ecd\u7684\u4e00\u5927\u5806\u8f93\u5165\u6d41\u5b50\u7c7b\u90fd\u53ef\u4ee5\u7528\u7b80\u77ed\u7684\u4e00\u53e5\u8bdd\u63cf\u8ff0\u5b83\u4eec\u7684\u5168\u90e8\u529f\u80fd\u3002</li> <li>\u63d0\u4f9b\u6bd4\u7ee7\u627f\u66f4\u591a\u7684\u7075\u6d3b\u6027\u3002\u6211\u4eec\u53ef\u4ee5\u4efb\u610f\u7ec4\u5408\u88c5\u9970\u5668\u6d41\u6765\u52a0\u4efb\u4f55\u6211\u4eec\u60f3\u4f7f\u7528\u7684\u529f\u80fd\u3002</li> </ol> <p>\u4f46\u662f\u4e5f\u6709\u4e00\u4e9b\u5c0f\u7f3a\u70b9\u9700\u8981\u6ce8\u610f:</p> <ol> <li>\u53ef\u80fd\u4f1a\u7559\u4e0b\u4e00\u5927\u5806\u6563\u4ef6\uff0c\u6bd4\u5982\u83b7\u53d6\u6821\u9a8c\u7801\u4f60\u4ecd\u7136\u9700\u8981\u4fdd\u7559 <code>checkedInput</code>\u3002</li> </ol>"},{"location":"languages/java/design-patterns/#flyweight","title":"Flyweight \u4eab\u5143","text":"<p>\u8003\u8651 Minecraft\uff0c\u4e00\u4e2a\uff08\u6700\u521d\uff09\u4f7f\u7528 Java \u7f16\u5199\u7684\u3001\u5168\u7403\u6700\u77e5\u540d\u7684\u6c99\u76d2\u6e38\u620f\u4e4b\u4e00\u3002Minecraft \u7684\u5730\u5f62\u7531\u4e00\u5927\u5806\u65b9\u5757\u7ec4\u6210\uff0c\u800c\u8fd9\u4e9b\u65b9\u5757\u90fd\u5e26\u6709\u81ea\u5df1\u7684\u6570\u636e\uff0c\u6bd4\u5982\u4f4d\u7f6e\u3001\u65b9\u5411\u3001\u6750\u8d28\u3001\u78b0\u649e\u7bb1\u3001\u53d8\u79cd\u4e0e\u5176\u4ed6\u4fe1\u606f\uff08\u5982\u94c1\u7827\u635f\u574f\u7a0b\u5ea6\u7b49\uff09\u3002\u6211\u4eec\u5f88\u5bb9\u6613\u7ed9\u51fa\u4e0b\u9762\u7684\u7b80\u5355\u8bbe\u8ba1:</p> <pre><code>abstract class Block {\n    protected int x, y, z, facing;\n    protected int hardness, toolLevel, resistance;\n    protected Image texture;\n    protected AABB aabb;\n    public Block( /* ... */ ) { /* ... */ }\n\n    public abstract void onTick();\n    public abstract void onClick(Player player, int button);\n    public abstract void onDestroy(Entity destroyer);\n    // ...\n}\n</code></pre> <pre><code>class LogBlock extends Block {\n    private int woodType;\n    // Implementation of abstract methods ...\n}\nclass AnvilBlock extends Block {\n    private int damageType;\n    // Implementation of abstract methods ...\n}\nclass Cobblestone extends Block { /* ... */ }\nclass Bedrock extends Block { /* ... */ }\n</code></pre> <pre><code>class World {\n    private List&lt;Block&gt; blocks = new ArrayList&lt;Block&gt;();\n\n    Block getBlockAt(int x, int y, int y) {\n        // ...\n    }\n}\n</code></pre> <p>\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u663e\u7136\u5b58\u5728\u8f83\u5927\u7684\u6027\u80fd\u95ee\u9898:</p> <p>\u6709\u5f88\u591a\u6570\u636e\u5bf9\u4e8e\u76f8\u540c\u79cd\u7c7b\u7684\u65b9\u5757\u90fd\u662f\u91cd\u590d\u7684\uff0c\u6ca1\u6709\u5fc5\u8981\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u5355\u72ec\u5b58\u4e00\u904d\u3002\u5bf9\u4e8e Minecraft \u8fd9\u79cd\uff0c\u4e16\u754c\u5927\u5c0f\u4e0a\u9650\u7ea6\u4e3a6\\times 10^6 \\times 6\\times 10^6  \\times 400 = 1.44 \\times 10^{16}(1\u4eac4400\u5146)\u4e2a<code>Block</code>\u7684\u5de8\u578b\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u91cd\u590d\u6570\u636e\u5bf9\u4e8e\u5185\u5b58\u548c\u786c\u76d8\u7a7a\u95f4\u6765\u8bf4\u90fd\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5206\u79bb\u91cd\u590d\u7684\u6570\u636e\u548c\u4e0d\u91cd\u590d\u7684\u6570\u636e\uff0c\u6216\u79f0\u4e3a\u56fa\u6709\u72b6\u6001\uff08\u82f1\u8bed:  intrinsic\uff09\u548c \u5916\u56f4\u72b6\u6001 \uff08\u82f1\u8bed: extrinsic\uff09\uff0c\u901a\u8fc7\u5206\u79bb\u5b58\u50a8\u4e24\u79cd\u72b6\u6001\u7684\u5bf9\u8c61\uff0c\u6765\u51cf\u5c11\u8fd0\u884c\u65f6\u5185\u5b58\u5360\u7528\u3002\u6bd4\u5982\uff0c\u65b9\u5757\u7684\u6750\u8d28\u3001\u786c\u5ea6\u3001\u7206\u70b8\u6297\u6027\u7b49\u4fe1\u606f\u662f\u56fa\u6709\u72b6\u6001\uff0c\u65b9\u5757\u7684\u4f4d\u7f6e\u3001\u671d\u5411\u7b49\u4fe1\u606f\u662f\u5916\u56f4\u72b6\u6001\u3002</p> <p>\u4e3a\u4e86\u533a\u5206\u5916\u56f4\u72b6\u6001\uff0c\u4e00\u79cd\u65b9\u6cd5\u662f\u4e3a\u65b9\u5757\u7684\u66f4\u65b0\u6216\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u52a0\u5165\u5916\u56f4\u72b6\u6001\u53c2\u6570:</p> <pre><code>abstract class Block {\n    public abstract void onTick(ExtrinsicBlockState states);\n    // ...\n}\n</code></pre> <p>\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u76f4\u63a5\u4e3a\u5916\u56f4\u72b6\u6001\u6dfb\u52a0\u516c\u5f00\u7684<code>set</code>\u65b9\u6cd5:</p> <pre><code>abstract class Block {\n    void setX(int x) { this.x = x; }\n    void setY(int y) { this.y = y; }\n    void setZ(int z) { this.z = z; }\n    // ...\n}\n</code></pre> <p>\u7136\u540e\u901a\u8fc7\u5de5\u5382\u7c7b\u548c\u4eab\u5143\u5bf9\u8c61\u6c60\u7b49\u6280\u672f\u50a8\u5b58\u3001\u6784\u5efa\u4e0d\u540c\u56fa\u6709\u72b6\u6001\u7684\u65b9\u5757\u7684\u4eab\u5143\uff08\u82f1\u8bed: Flyweight\uff09:</p> <pre><code>class BlockFactory {\n    private static Block createBlockInstance(int blockId) {\n        return switch(blockId) {\n            case 0 -&gt; new Cobblestone();\n            case 1 -&gt; new AnvilBlock();\n            // ...\n        }\n    }\n}\n</code></pre> <p>\u8fd9\u6837\uff0c<code>World</code>\u5c31\u4e0d\u9700\u8981\u5b58\u50a8\u6574\u4e2a<code>Block</code>\u4e86\uff0c\u800c\u53ea\u9700\u8981<code>blockId</code>\u6307\u5b9a\u4eab\u5143\u5bf9\u8c61\uff0c\u5e76\u5728\u5177\u4f53\u64cd\u4f5c\u4e4b\u524d\u8bbe\u7f6e\u5916\u56f4\u72b6\u6001\u5373\u53ef\u3002</p> <pre><code>class World {\n    private int[] blocks;\n    private BlockFactory factory = new BlockFactory();\n    public void tick() {\n        // for xyz...\n            var block = factory.getBlockInstance(blocks[idx]);\n            block.setX(x); block.setY(y); block.setZ(z);\n            block.onTick();\n        // end for\n    }\n}\n</code></pre> <p>Java  \u4e2d\u7684\u4eab\u5143\u5b9e\u4f8b\u662f\u57fa\u672c\u6574\u6570\u6570\u636e\u7c7b\u578b\u7684\u5305\u88c5\u7c7b\u7684<code>valueOf</code>\u65b9\u6cd5:</p> <pre><code>public final class Integer extends Number implements Comparable&lt;Integer&gt;, Constable, ConstantDesc {\n    private static class IntegerCache {\n        static final Integer[] cache;\n    }\n\n    @IntrinsicCandidate\n    public static Integer valueOf(int i) {\n        if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n            return IntegerCache.cache[i + (-IntegerCache.low)];\n        return new Integer(i);\n    }\n}\n</code></pre> <p>\u5982\u679c\u57fa\u672c\u7c7b\u578b\u7684\u503c\u5728\u7f13\u5b58\u8303\u56f4\u5185\uff0c\u5c31\u8fd4\u56de\u7f13\u5b58\u7684\u5bf9\u8c61\u5f15\u7528\u3002\u5bf9\u4e8e<code>Integer</code>\uff0c\u6839\u636e Java \u8bed\u8a00\u89c4\u8303\uff0c\u9ed8\u8ba4\u7f13\u5b58[-128, 127]\u7684\u6574\u6570\u3002</p>"},{"location":"languages/java/design-patterns/#proxy","title":"Proxy \u4ee3\u7406","text":"<p>\u8003\u8651\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff08Remote Procedure Call, RPC\uff09\uff0c\u6211\u4eec\u9700\u8981\u5728\u672c\u5730\u8c03\u7528\u8fdc\u7a0b\u4ee3\u7801\u3002\u4f46\u662f\u663e\u7136\u6211\u4eec\u4e0d\u53ef\u80fd<code>new</code>\u4e00\u4e2a\u8fdc\u7a0b\u5bf9\u8c61\uff0c\u6211\u4eec\u4e0d\u77e5\u9053\u5b83\u5177\u4f53\u7684\u5b9e\u73b0\uff0c\u66f4\u4e0d\u77e5\u9053\u600e\u4e48\u7ba1\u7406\u522b\u7684\u673a\u5668\u7684\u5185\u5b58\u3002\u8fd9\u65f6\u6211\u4eec\u5c31\u9700\u8981\u4e00\u4e2a\u4ee3\u7406 \uff08\u82f1\u8bed: Proxy\uff09\u7c7b\u4f5c\u4e3a\u672c\u5730\u7684\u5360\u4f4d\u7b26\uff0c\u4ee3\u66ff\u672c\u5730\u4ee3\u7801\u53d1\u9001\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\u8bf7\u6c42\u3002\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u548c\u5177\u4f53\u5b9e\u73b0\u89e3\u8026\u5408\uff0c\u751a\u81f3\u53ef\u4ee5\u65e0\u7f1d\u5728\u672c\u5730\u5b9e\u73b0\u548c\u8fdc\u7a0b\u4ee3\u7801\u5b9e\u73b0\u4e4b\u95f4\u8f6c\u6362\u3002</p> <pre><code>interface UserInfoRepo {\n    List&lt;String&gt; getAllUserName();\n}\n\nclass RPCUserInfoRepo implements UserInfoRepo {\n    private final String httpEndpoint;\n    public RPCUserInfoRepo(String endpoint) { httpEndpoint = endpoint; }\n    @Override public List&lt;String&gt; getAllUserName() {\n        // 1. Send HTTP Request\n        // 2. Parse JSON Result\n        // 3. Return List&lt;String&gt;\n    }\n}\n\nclass DBUserInfoRepo implements UserInfoRepo {\n    private final Connection db;\n    public DBUserInfoRepo(Connection db) { this.db = db; }\n    @Override public List&lt;String&gt; getAllUserName() {\n        // 1. sql: SELECT name FROM user\n        // 2. Return List&lt;String&gt;\n    }\n}\n</code></pre> <p>\u4f46\u662f\u771f\u6b63\u8ba9\u4ee3\u7406\u6a21\u5f0f\u5728 Java \u53d1\u5149\u53d1\u70ed\u7684\u662f\u771f\u6b63\u7684\u52a8\u6001\u6027\u3002 Java \u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u6539\u53d8\u5b57\u8282\u7801\uff0c\u521b\u9020\u65b0\u7684\u7c7b\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u8fd0\u884c\u65f6\u7f16\u8bd1\u4ee3\u7801\u3002\u6bd4\u5982\u4e0a\u4f8b\u4e2d\u7684<code>RPCUserInfoRepo</code>\u548c<code>DBUserInfoRepo</code>\u90fd\u4e0d\u9700\u8981\u6211\u4eec\u624b\u52a8\u7f16\u5199\uff0c\u6211\u4eec\u53ea\u8981\u58f0\u660e: \u6211\u4eec\u9700\u8981\u4f7f\u7528\u4e00\u4e2a\u7528\u6237\u4fe1\u606f\u4ed3\u5e93\uff0c\u652f\u6301\u6846\u67b6\u4f1a\u81ea\u52a8\u751f\u6210\u3001\u521b\u5efa\u5b9e\u73b0\u7c7b\u5e76\u5b9e\u4f8b\u5316\u5bf9\u8c61\u4f9b\u6211\u4eec\u4f7f\u7528\u3002</p> <p>\u6211\u4eec\u8fd9\u6b21\u4f7f\u7528 Spring Data JPA \u4f5c\u4e3a\u4f8b\u5b50\u3002 Spring \u662f Java \u6700\u6d41\u884c\u7684\u540e\u7aef\u6846\u67b6\u7684\u96c6\u5408\uff0c Spring Data \u662f\u5176\u5173\u7cfb\u578b\u6570\u636e\u5e93\u652f\u6301\uff0c JPA \u662f Java/Jakarta Persistence API \u7684\u7f29\u5199\uff0c\u662f\u6301\u4e45\u5316\u5c42\u7684 API \u63cf\u8ff0\u3002</p> <p>\u6211\u4eec\u58f0\u660e\u4e00\u4e2a<code>User</code>\u7c7b:</p> <pre><code>@Entity\n@Data\npublic class User {\n  @Id\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  private Long id;\n  @NonNull private String nickName;\n  @NonNull private String email;\n}\n</code></pre> <p>\u6211\u4eec\u58f0\u660e\u6211\u4eec\u9700\u8981\u7684\u6570\u636e\u4ed3\u5e93\u7684\u63a5\u53e3\uff0c\u6bd4\u5982\u6211\u4eec\u9700\u8981\u5bfb\u627e\u5bf9\u5e94\u6635\u79f0\u7684\u6240\u6709\u7528\u6237:</p> <pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    List&lt;User&gt; findAllByNickName(String nickName);\n}\n</code></pre> <p>CrudRepository  \u4e5f\u5185\u7f6e\u4e86\u5927\u91cf\u5e38\u7528\u51fd\u6570\uff0c\u5305\u62ec <code>findAll</code> <code>save</code> <code>delete</code> <code>count</code>\u7b49\u3002</p> <pre><code>@SpringBootApplication\npublic class AccessingDataJpaApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(AccessingDataJpaApplication.class);\n    }\n    @Bean\n    public CommandLineRunner demo(UserRepository repo) {\n        return (args) -&gt; {\n            repo.save(new User(\"xsun2001\", \"xcx19@mails.tsinghua.edu.cn\"));\n            var userList = repo.findAll();\n        };\n    }\n}\n</code></pre> <p>\u6211\u4eec\u505a\u4e86\u5982\u4e0b\u4e8b\u60c5:</p> <ol> <li>\u5b9a\u4e49\u4e86\u6570\u636e\u683c\u5f0f<code>User</code>\u7c7b;</li> <li>\u5b9a\u4e49\u4e86\u6211\u4eec\u60f3\u8981\u7684\u67e5\u8be2\u3001\u66f4\u65b0\u65b9\u6cd5<code>UserRepository</code>;</li> <li>\u76f4\u63a5\u4f7f\u7528<code>UserRepository</code>\u8fdb\u884c\u6570\u636e\u64cd\u4f5c;</li> <li>\u8ba9 Spring \u542f\u52a8\u7a0b\u5e8f\u3002</li> </ol> <p>\u4f46\u662f Spring \u66ff\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e:</p> <ol> <li>\u81ea\u52a8\u53d1\u73b0<code>User</code>\uff0c\u6839\u636e<code>User</code>\u5185\u90e8\u7684\u6ce8\u89e3\u548c\u6210\u5458\u53d8\u91cf\uff0c\u81ea\u52a8\u751f\u6210\u6570\u636e\u5e93\u8868\u751f\u6210\u8bed\u53e5\uff0c\u5982\u6709\u5fc5\u8981\uff0c\u81ea\u52a8\u5408\u5e76\u3001\u8fc1\u79fb\u3001\u91cd\u6574\u5df2\u6709\u6570\u636e\u8868\u4e2d\u7684\u6570\u636e;</li> <li>\u81ea\u52a8\u53d1\u73b0<code>UserRepository</code>\uff0c\u6839\u636e\u65b9\u6cd5\u540d\u79f0\u3001\u53c2\u6570\u3001\u8fd4\u56de\u503c\u7b49\u4fe1\u606f\uff0c\u81ea\u52a8\u89e3\u6790\u751f\u6210 SQL \u8bed\u53e5\uff0c\u81ea\u52a8\u5904\u7406\u6570\u636e\u5e93\u8fde\u63a5\u548c SQL \u6267\u884c\uff0c\u81ea\u52a8\u7ec4\u7ec7\u6570\u636e\u5e93\u7684\u6267\u884c\u7ed3\u679c\uff0c\u751f\u6210\u672c\u8282\u6240\u8bf4\u7684Proxy\u7c7b;</li> <li>\u81ea\u52a8\u53d1\u73b0<code>@Bean public CommandLineRunner demo(UserRepository repo)</code>\uff0c\u6839\u636e\u53c2\u6570\u5f97\u77e5\u6211\u4eec\u60f3\u8981\u4e00\u4e2a<code>UserRepository</code>\u5b9e\u73b0\uff0c\u56e0\u6b64\u5b9e\u4f8b\u5316\u4ee3\u7406\u7c7b\u5e76\u6ce8\u5165\u3002\u6839\u636e\u8fd4\u56de\u503c\u7c7b\u578b\u5224\u65ad\u9700\u8981\u8fd0\u884c\u8fd4\u56de\u7ed3\u679c\u3002</li> </ol> <p>\u52a8\u6001\u4ee3\u7406\u914d\u5408\u4f9d\u8d56\u6ce8\u5165\u662f\u7a76\u6781\u89e3\u8026\u5408\u65b9\u6848\u3002\u56e0\u6b64 Java \u81ea\u5df1\u4e5f\u4e0d\u77e5\u9053\u5b9e\u73b0\u4ee3\u7801\u5230\u5e95\u653e\u5728\u54ea\u91cc\uff0c\u76f4\u5230\u771f\u6b63\u9700\u8981\u7684\u65f6\u5019\u624d\u4f1a\u81ea\u52a8\u751f\u6210\u3002</p> <p>\u53ef\u4ee5\u4eceSpring Data JPA\u7684\u4f8b\u5b50\u770b\u5230\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u63a5\u53e3\u548c\u6570\u636e\u7684\u8bbe\u8ba1\u4e0e\u4f7f\u7528\uff0c\u6d88\u9664\u4e86\u6211\u4eec\u624b\u52a8\u64cd\u4f5c\u3001\u5904\u7406\u6570\u636e\u5e93\u7684\u7e41\u7410\u4ee3\u7801\u3002</p> <p>\u518d\u52a0\u4e0a\u4f9d\u8d56\u6ce8\u5165\uff0c\u6211\u4eec\u751a\u81f3\u90fd\u6ca1\u6709<code>new</code>\u8fc7\u4efb\u4f55\u76f8\u5173\u7684\u7c7b\uff0c\u5168\u90fd\u4ea4\u7ed9Spring\u5904\u7406\u3002</p>"},{"location":"languages/java/design-patterns/#behavioral-patterns","title":"Behavioral Patterns \u884c\u4e3a\u6a21\u5f0f","text":"<p>\u884c\u4e3a\u6a21\u5f0f\uff08\u82f1\u8bed: Behavioral Patterns \uff09\u544a\u8bc9\u6211\u4eec\u5982\u4f55\u8ba9\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\u534f\u4f5c\uff0c\u6bd4\u5982:</p> <ul> <li>Template Method  \u6a21\u7248\u65b9\u6cd5\u6a21\u5f0f</li> <li>Iterator  \u8fed\u4ee3\u5668\u6a21\u5f0f</li> <li>Visitor  \u8bbf\u95ee\u8005\u6a21\u5f0f</li> <li>Strategy  \u7b56\u7565\u6a21\u5f0f</li> </ul> <p>\u884c\u4e3a\u6a21\u5f0f\u5b9e\u9645\u4e0a\u8fd8\u6709\u5f88\u591a\uff0c\u4f46\u662f\u5176\u4e2d\u6709\u4e9b\u6a21\u5f0f\u53ef\u4ee5\u8ba4\u4e3a\u53ea\u662f\u628a\u6bd4\u8f83\u76f4\u89c2\u7684\u505a\u6cd5\u8d4b\u4e88\u4e86\u4e2a\u540d\u5b57\uff0c\u6ca1\u6709\u672c\u8d28\u4e0a\u7684\u63d0\u5347\u3002\u4ee5\u4e0b\u6311\u9009\u4e86\u51e0\u4e2a\u6700\u4e3a\u5e38\u7528\u3001\u6700\u6709\u4ee3\u8868\u6027\u7684\u884c\u4e3a\u6a21\u5f0f\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>\u884c\u4e3a\u6a21\u5f0f\u63cf\u8ff0\u7684\u66f4\u591a\u7684\u662f\u5b9e\u73b0\u7ec6\u8282\uff0c\u56e0\u6b64\u540e\u7eed\u63cf\u8ff0\u65f6\u4f1a\u76f4\u63a5\u4ecb\u7ecd  Java \u6807\u51c6\u5e93\u4e2d\u7684\u4f8b\u5b50\u800c\u4e0d\u4ecb\u7ecd\u8fc7\u4e8e\u62bd\u8c61\u7684\u8868\u8fbe\u3002</p>"},{"location":"languages/java/design-patterns/#template-method","title":"Template Method \u6a21\u677f\u65b9\u6cd5","text":"<p>\u6a21\u7248\u65b9\u6cd5\uff08\u82f1\u8bed: Template Method\uff09\u6a21\u5f0f\u53ef\u4ee5\u4e3a\u65b9\u6cd5\u6bd4\u8f83\u591a\u7684\u63a5\u53e3\u63d0\u4f9b\u4e00\u7ec4\u5171\u4eab\u7684\u9ed8\u8ba4\u5b9e\u73b0\uff0c\u6765\u7b80\u5316\u5b50\u7c7b\u6d3e\u751f\u7684\u8fc7\u7a0b\u3002Java \u7684\u96c6\u5408\u6846\u67b6\u4e5f\u5927\u91cf\u5e94\u7528\u4e86\u8fd9\u4e2a\u6a21\u5f0f\uff0c\u5178\u578b\u7684\u547d\u540d\u7279\u5f81\u662f<code>Inter</code>\u63a5\u53e3\u548c<code>AbstractInter</code>\u62bd\u8c61\u7c7b\u6765\u63d0\u4f9b\u6a21\u677f\u5b9e\u73b0\u3002</p> <p>\u6bd4\u5982<code>List</code>\u63a5\u53e3\u670927\u4e2a\u9700\u8981\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u3001\u4e0d\u53ef\u53d8\u7684\u5217\u8868\u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a<code>get(int)</code>\u65b9\u6cd5\u5373\u53ef\u3002\u8fd9\u79cd\u5217\u8868\u5b9e\u9645\u4e0a\u7528\u9014\u4e5f\u975e\u5e38\u5e7f\u6cdb\uff0c\u6bd4\u5982\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u4f20\u9012\u652f\u6301\u7684\u6587\u4ef6\u7c7b\u578b\u5217\u8868\u4fe1\u606f\u7b49\u3002<code>AbstractList</code>\u5c31\u4e3a\u8fd9\u79cd\u7528\u9014\u63d0\u4f9b\u4e86\u9664\u4e86<code>get(int)</code>\u4e4b\u5916\u7684\u6240\u6709\u63a5\u53e3\u7684\u6a21\u7248\u5b9e\u73b0\u3002</p> <p><code>AbstractList&lt;E&gt;</code>\u4e3a\u4e0d\u540c\u529f\u80fd\u7684\u5217\u8868\u63d0\u4f9b\u4e86\u4e0d\u540c\u7684\u91cd\u8f7d\u65b9\u5f0f:</p> <ul> <li>\u4e0d\u53ef\u53d8\u7684\u5217\u8868\u53ea\u9700\u8981\u5b9e\u73b0<code>get(int)</code> <code>size()</code>;</li> <li>\u53ef\u53d8\u7684\u5217\u8868\u9700\u8981\u5b9e\u73b0<code>get(int)</code> <code>set(int, E)</code>\uff1b</li> <li>\u53ef\u4ee5\u6269\u5c55\u5927\u5c0f\u7684\u5217\u8868\u8fd8\u5e94\u8be5\u5b9e\u73b0<code>add(int, E)</code> <code>remove(int)</code>\u3002</li> </ul> <p>\u5176\u4f59\u7684\u5305\u62ec<code>addAll</code>\u3001 <code>removeAll</code> \u3001<code>iterator</code>\u3001 <code>subList</code> \u3001<code>contains</code>\u7b49\u5176\u4ed6\u65b9\u6cd5\u5168\u90fd\u53ef\u4ee5\u7531\u4e0a\u8ff0\u57fa\u672c\u65b9\u6cd5\u6d3e\u751f\u51fa\u6765\uff0c\u5e76\u5728\u6a21\u7248\u65b9\u6cd5\u91cc\u63d0\u4f9b\u5177\u4f53\u5b9e\u73b0\u3002</p>"},{"location":"languages/java/design-patterns/#iterator","title":"Iterator \u8fed\u4ee3\u5668","text":"<p>\u8fed\u4ee3\u5668 \uff08\u82f1\u8bed: Iterator\uff09\u76f8\u4fe1\u5927\u5bb6\u6216\u591a\u6216\u5c11\u90fd\u542c\u8bf4\u8fc7\u3002Iterator\u63d0\u4f9b\u4e86\u987a\u5e8f\u8bbf\u95ee\u4e00\u7ec4\u805a\u5408\u5bf9\u8c61\u7684\u901a\u7528\u65b9\u6cd5\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u5185\u90e8\u5b58\u50a8\u5b9e\u73b0\uff0c\u6bd4\u5982\u7528\u6570\u7ec4\u8fd8\u662f\u7528\u54c8\u5e0c\u8868\u7b49\u3002</p> <p>Java \u96c6\u5408\u6846\u67b6\u63d0\u4f9b\u4e86<code>java.util.Iterator</code>\u7528\u4e8e\u63cf\u8ff0\u96c6\u5408\u5143\u7d20\u8fed\u4ee3\u5668:</p> <pre><code>package java.util;\npublic interface Iterator&lt;E&gt; {\n    boolean hasNext();\n    E next();\n    default void remove() { throw new UnsupportedOperationException(\"remove\"); }\n    default void forEachRemaining(Consumer&lt;? super E&gt; action) {\n        Objects.requireNonNull(action);\n        while (hasNext())\n            action.accept(next());\n    }\n}\n</code></pre> <p>\u5b83\u7684\u63a5\u53e3\u90fd\u5f88\u7b80\u6d01\u660e\u4e86:</p> <ul> <li><code>hasNext()</code> \u662f\u5426\u8fd8\u6709\u4e0b\u4e00\u4e2a\u5143\u7d20\uff08\u5982\u679c\u6709\uff09;</li> <li><code>next()</code> \u83b7\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20;</li> <li><code>remove()</code> \u5220\u9664\u5f53\u524d\u5143\u7d20\uff08\u9ed8\u8ba4\u4e0d\u652f\u6301\u5220\u9664\uff09;</li> <li><code>forEachRemaining(Consumer&lt;? super E&gt; action)</code> \u5bf9\u540e\u7eed\u6240\u6709\u5143\u7d20\u5e94\u7528<code>action</code>\u3002</li> </ul> <p><code>Iterator</code>\u7684\u57fa\u672c\u4f7f\u7528\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003<code>forEachRemaining</code>\u7684\u5b9e\u73b0:</p> <pre><code>var iter = getIterator();\nwhile(iter.hasNext()) {\n    var obj = iter.next();\n    // do something with obj\n}\n</code></pre> <p><code>java.lang.Iterable&lt;T&gt;</code>\u63a5\u53e3\u63cf\u8ff0\u4e86\u53ef\u4ee5\u88ab\u8fed\u4ee3\u7684\u805a\u5408\u5bf9\u8c61:</p> <pre><code>public interface Iterable&lt;T&gt; {\n    Iterator&lt;T&gt; iterator();\n\n    default void forEach(Consumer&lt;? super T&gt; action) {\n        Objects.requireNonNull(action);\n        for (T t : this) { action.accept(t); }\n    }\n    default Spliterator&lt;T&gt; spliterator() {\n        return Spliterators.spliteratorUnknownSize(iterator(), 0);\n    }\n}\n</code></pre> <ul> <li><code>java.lang.Iterable&lt;T&gt;</code>\u53ea\u6709\u4e00\u4e2a\u63a5\u53e3\u51fd\u6570: <code>iterator</code>\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668<code>Iterator&lt;T&gt;</code>\u3002</li> <li><code>forEach</code>\u65b9\u6cd5\u7684\u5b9e\u73b0\u5c55\u73b0\u4e86<code>Iterable</code>\u7684\u53e6\u4e00\u79cd\u7528\u6cd5: </li> <li>\u9664\u4e86\u4f7f\u7528<code>iterator()</code>\u65b9\u6cd5\u83b7\u53d6\u8fed\u4ee3\u5668\u5e76\u6309\u7167\u5e38\u89c4\u65b9\u6cd5\u8bbf\u95ee\uff0cJava\u652f\u6301for-each\u5faa\u73af\u6765\u904d\u5386\u53ef\u8fed\u4ee3\u5bf9\u8c61:</li> <li><code>for (T t : iterable) { /* do something with t */ }</code></li> <li><code>spliterator()</code>\u63d0\u4f9b\u4e86\u53ef\u5e76\u53d1\u7684\u8fed\u4ee3\u5668\u5b9e\u73b0\u3002</li> </ul> <p>Java \u96c6\u5408\u6846\u67b6\u548c\u6807\u51c6\u5e93\u7684\u5f88\u591a\u7c7b\u90fd\u662f\u53ef\u8fed\u4ee3\u7684:</p> <ul> <li>\u96c6\u5408\u6846\u67b6\u672c\u8eab\u5c31\u662f\u5143\u7d20\u7684\u96c6\u5408\uff0c\u56e0\u6b64\u81ea\u7136\u90fd\u662f\u53ef\u8fed\u4ee3\u7684;</li> <li><code>java.nio.file.Path</code>\u662f\u81ea\u8eab\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u4fbf\u4e8e\u5206\u79bb\u76ee\u5f55\u7ed3\u6784;</li> <li><code>java.nio.file.DirectoryStream&lt;T&gt;</code>\u662f<code>T</code>\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u7528\u4e8e\u83b7\u53d6\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u4fe1\u606f\u3002</li> </ul>"},{"location":"languages/java/design-patterns/#vistor","title":"Vistor \u8bbf\u95ee\u8005","text":"<p>\u8bbf\u95ee\u8005\uff08\u82f1\u8bed: Visitor\uff09\u6a21\u5f0f\u4e5f\u662f\u904d\u5386\u4e00\u7ec4\u5bf9\u8c61\u6240\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4f46\u662f\u4e0e\u8fed\u4ee3\u5668\u4e0d\u540c\u7684\u662f\uff0c\u8bbf\u95ee\u8005\u4e00\u822c\u7528\u4e8e\u8bbf\u95ee\u5c42\u6b21\u5316\u3001\u7ed3\u6784\u5316\u5bf9\u8c61\uff0c\u5e76\u4e14\u5b50\u5bf9\u8c61\u7684\u7c7b\u578b\u6216\u8005\u5904\u7406\u65b9\u5f0f\u53ef\u80fd\u4e0d\u540c\u3002</p> <p>\u6700\u7ecf\u5178\u7684\u4f8b\u5b50\u5c31\u662f\u6587\u4ef6\u76ee\u5f55\u8bbf\u95ee\u8005: <code>java.nio.file.FileVisitor</code>\u3002</p> <pre><code>package java.nio.file;\n\npublic interface FileVisitor&lt;T&gt; {\n    FileVisitResult preVisitDirectory(T dir, BasicFileAttributes attrs)\n        throws IOException;   // \u8fdb\u5165\u76ee\u5f55\u4e4b\u524d\n    FileVisitResult visitFile(T file, BasicFileAttributes attrs)\n        throws IOException;   // \u5904\u7406\u6587\u4ef6\n    FileVisitResult visitFileFailed(T file, IOException exc)\n        throws IOException;   // \u5904\u7406\u6587\u4ef6\u9519\u8bef\n    FileVisitResult postVisitDirectory(T dir, IOException exc)\n        throws IOException;   // \u76ee\u5f55\u904d\u5386\u5b8c\u6210\n}\n</code></pre> <p><code>FileVisitResult</code>\u662f\u4e00\u4e2a\u679a\u4e3e\u7c7b\u578b\uff0c\u7528\u4e8e\u63a7\u5236\u540e\u7eed\u8bbf\u95ee\u76ee\u5f55\u7684\u8fc7\u7a0b\uff0c\u6bd4\u5982\u7ee7\u7eed\u904d\u5386\u6587\u4ef6\uff0c\u6216\u8005\u5728\u627e\u5230\u6240\u9700\u8981\u7684\u6587\u4ef6\u540e\u9000\u51fa\u7b49\u7b49: </p> <pre><code>package java.nio.file;\n\npublic enum FileVisitResult {\n    CONTINUE,      // \u7ee7\u7eed\u904d\u5386\n    TERMINATE,     // \u7ec8\u6b62\u904d\u5386\n    SKIP_SUBTREE,  // \u7ee7\u7eed\u904d\u5386\uff0c\u4f46\u662f\u8df3\u8fc7\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6/\u76ee\u5f55\n    SKIP_SIBLINGS; // \u7ee7\u7eed\u904d\u5386\uff0c\u4f46\u662f\u8df3\u8fc7\u540c\u76ee\u5f55\u4e0b\u7684\u5176\u4ed6\u6587\u4ef6/\u76ee\u5f55\n}\n</code></pre> <p>\u6709\u65f6\u6211\u4eec\u53ef\u80fd\u53ea\u9700\u8981\u67d0\u4e2a\u65b9\u6cd5\u7684\u5b9e\u73b0\uff0c\u8fd9\u65f6\u5c31\u662f\u6a21\u7248\u65b9\u6cd5\u4f53\u73b0\u4f5c\u7528\u7684\u65f6\u5019\u4e86\u3002Java\u63d0\u4f9b\u4e86<code>java.nio.file.SimpleFileVisitor&lt;T&gt;</code>\u4f5c\u4e3a<code>FileVisitor&lt;T&gt;</code>\u7684\u7a7a\u5b9e\u73b0\u3002\u5b9e\u73b0\u7684\u65b9\u5f0f\u5927\u6982\u662f\u6ca1\u6709\u9519\u8bef\u7684\u65f6\u5019\u5c31<code>CONTINUE</code>\uff0c\u6709\u5f02\u5e38\u5c31\u629b\u51fa\u5f02\u5e38\u7ec8\u6b62\u6574\u4e2a\u8fc7\u7a0b\u3002</p> <p>\u4f7f\u7528<code>java.nio.file.Files#walkFileTree</code>\u904d\u5386\u6587\u4ef6\u6811:</p> <pre><code>var start = Path.of(\".\");\n\nFiles.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n    // ... Implementations\n}\n</code></pre> <p>\u6bd4\u5982\u6211\u4eec\u6765\u7edf\u8ba1\u76ee\u5f55\u4e0bjava\u6e90\u4ee3\u7801\u6587\u4ef6\u7684\u6570\u91cf\uff0c\u5c31\u53ef\u4ee5:</p> <pre><code>class FileCounter&lt;T extends Path&gt; extends SimpleFileVisitor&lt;T&gt; {\n    private int count = 0;\n    public int getCount() { return count; }\n\n    private final String ext;\n    public FileCounter(String ext) { this.ext = ext; }\n\n    @Override\n    public FileVisitResult visitFile(T file, BasicFileAttributes attrs) throws IOException {\n        if (file.endsWith(ext)) ++count;\n        return FileVisitResult.CONTINUE;\n    }\n    @Override\n    public FileVisitResult visitFileFailed(T file, IOException exc) throws IOException\n        { return FileVisitResult.CONTINUE; }\n    @Override\n    public FileVisitResult postVisitDirectory(T dir, IOException exc) throws IOException\n        { return FileVisitResult.CONTINUE; }\n}\n\n\n\npublic static void main(String[] args) throws IOException{\n    var visitor = new FileCounter&lt;Path&gt;(args[1]);\n\n    Files.walkFileTree(Path.of(args[0]), visitor);\n\n    System.out.println(\n        \"Counts of \" + args[1] + \" file in \" + args[0] + \" = \" + visitor.getCount()\n    );\n</code></pre>"},{"location":"languages/java/design-patterns/#strategy","title":"Strategy \u7b56\u7565","text":"<p>\u4e00\u4e2a\u529f\u80fd\u53ef\u80fd\u6709\u591a\u79cd\u4e0d\u540c\u7684\u7b97\u6cd5\u5b9e\u73b0\u3002\u62bd\u8c61\u51fa\u7b97\u6cd5\u5b9e\u4f8b\u7684\u6a21\u5f0f\u79f0\u4e3a\u7b56\u7565\uff08\u82f1\u8bed: Strategy\uff09\u6a21\u5f0f\u3002Strategy\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u8c03\u914d\u4e0d\u540c\u7684\u7b97\u6cd5\u5b9e\u73b0\uff0c\u8fd9\u5bf9\u4f7f\u7528\u529f\u80fd\u7684\u5ba2\u6237\u7aef\u6765\u8bf4\u662f\u65e0\u7f1d\u7684\u3002\u8fd9\u4e2a\u6a21\u5f0f\u6700\u7ecf\u5178\u7684\u4f8b\u5b50\u662f\u5bf9\u6570\u7ec4\u6392\u5e8f\u4f7f\u7528\u7684\u4e0d\u540c\u6392\u5e8f\u5668 Comparator\u3002</p> <pre><code>@FunctionalInterface\npublic interface Comparator&lt;T&gt; {\n    int compare(T o1, T o2);\n}\n</code></pre> <p>\u6bd4\u5982\u6211\u4eec\u8981\u6839\u636e\u7528\u6237\u7684\u5e74\u9f84\u8fdb\u884c\u6392\u5e8f\uff0c\u53ef\u4ee5\u5b9a\u4e49\u8fd9\u6837\u7684\u6392\u5e8f\u5668:</p> <pre><code>@Data\nclass User {\n    private String name;\n    private int age;\n}\n\npublic class UserComparator implements Comparator&lt;User&gt; {\n    int compare(User o1, User o2) {\n        return Integer.compare(o1.getAge(), o2.getAge());\n    }\n}\n</code></pre> <p>\u4f7f\u7528<code>Arrays#sort</code>\u6392\u5e8f\u6570\u7ec4\uff0c\u4f7f\u7528<code>Collections#sort</code>\u6392\u5e8f\u5217\u8868\u3002\u5b83\u4eec\u5747\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6392\u5e8f\u5668\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570:</p> <pre><code>User[] userArray = fetchUsers();\n\nArrays.sort(userArray, new UserComparator());\n</code></pre> <p>\u7531\u4e8e<code>Comparator</code>\u662f\u4e00\u4e2a\u51fd\u6570\u5f0f\u63a5\u53e3<code>@FunctionalInterface</code>\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528 Lambda \u8868\u8fbe\u5f0f:</p> <pre><code>Arrays.sort(\n    userArray,\n    (var o1, var o2) -&gt; Integer.compare(o1.getAge(), o2.getAge())\n);\n</code></pre> <p><code>Comparator</code>\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5de5\u5382\u65b9\u6cd5\uff0c\u7528\u4e8e\u4ea7\u751f\u5404\u79cd\u5404\u6837\u7684\u6bd4\u8f83\u5668\u5b9e\u73b0:</p> <ul> <li><code>reversed()</code>: \u521b\u5efa\u5f53\u524d\u6bd4\u8f83\u5668\u7684\u53cd\u8f6c\u7248;</li> <li><code>thenComparing()</code>\u7cfb\u5217: \u5f53\u524d\u6bd4\u8f83\u5668\u5982\u679c\u76f8\u7b49\uff0c\u90a3\u4e48\u518d\u7528\u63d0\u4f9b\u7684\u6bd4\u8f83\u5668\u6216\u952e\u503c\u6bd4\u8f83;</li> <li><code>comparing()</code>\u7cfb\u5217: \u63d0\u53d6\u5bf9\u8c61\u4e2d\u7684\u67d0\u4e2a\u952e\u8fdb\u884c\u6bd4\u8f83\u3002</li> </ul> <p>\u6bd4\u5982\u6211\u4eec\u8981\u63d0\u4f9b\u4e00\u4e2a\u5148\u6839\u636e\u5e74\u9f84\u6392\u5e8f\uff0c\u518d\u6839\u636e\u540d\u5b57\u7684\u957f\u5ea6\u6392\u5e8f\uff0c\u957f\u5ea6\u76f8\u540c\u7684\u5ffd\u7565\u5927\u5c0f\u5199\u8fdb\u884c\u6392\u5e8f\u7684\u6bd4\u8f83\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528:</p> <pre><code>var comparator = Comparator&lt;User&gt;\n        .comparingInt(User::getAge)\n        .thenComparing(User::getName, \n            Comparator&lt;&gt;.comparingInt(String::length)\n                        .thenComparing(String.CASE_INSENSITIVE_ORDER);\n        )\n</code></pre>"},{"location":"languages/java/design-patterns/#recap","title":"Recap","text":"<p>\u8bbe\u8ba1\u6a21\u5f0f\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u91cd\u8981\u4e00\u73af\u3002\u4e0a\u9762\u8bb2\u7684\u5185\u5bb9\u53ef\u80fd\u786e\u5b9e\u8f83\u591a\u4e5f\u6bd4\u8f83\u96be\u4ee5\u7406\u89e3\uff0c\u4f46\u662f\u8fd9\u4e9b\u77e5\u8bc6\u90fd\u4e0d\u9650\u4e8eJava\uff0c\u5176\u4ed6\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\u90fd\u53ef\u4ee5\u5e94\u7528\uff0c\u800c\u4e14\u5bf9\u5404\u4f4d\u7684OOP\u8bfe\u7a0b\u5e94\u8be5\u6709\u6bd4\u8f83\u5927\u7684\u5e2e\u52a9\u3002</p> <p>\u6700\u540e\u4e00\u70b9:</p> <p>\u4e0d\u8981\u9996\u5148\u8003\u8651\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u8981\u9996\u5148\u8003\u8651\u5177\u4f53\u8981\u5b9e\u73b0\u7684\u529f\u80fd\u3002 \u4e0e\u5176\u5728\u8c61\u7259\u5854\u4e0a\u5206\u6790\u5230\u5e95\u600e\u4e48\u5b9e\u73b0\u6bd4\u8f83\u597d\uff0c\u4e0d\u5982\u5148\u7528\u5177\u4f53\u7684\u7c7b\u5199\u4e00\u5199\u3002\u5728\u8f6f\u4ef6\u7cfb\u7edf\u9010\u6b65\u6f14\u8fdb\u3001\u590d\u6742\u5ea6\u9010\u6e10\u63d0\u9ad8\u7684\u8fc7\u7a0b\u4e2d\uff0c\u518d\u5173\u6ce8\u7cfb\u7edf\u4e2d\u8026\u5408\u7a0b\u5ea6\u9ad8\u3001\u6269\u5c55\u56f0\u96be\u3001\u8bbe\u8ba1\u81c3\u80bf\u7684\u5730\u65b9\uff0c\u7136\u540e\u8fd0\u7528\u5408\u9002\u8bbe\u8ba1\u6a21\u5f0f\u8fdb\u884c\u91cd\u6784\u3002</p>"},{"location":"languages/java/design-patterns/#_2","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>Spring</li> <li>Spring Data JPA</li> <li>JPA</li> <li>Crud Repository</li> </ul>"},{"location":"languages/java/fundamental-oop/","title":"Fundamental OOP","text":""},{"location":"languages/java/fundamental-oop/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u57fa\u672c\u7684 Java \u8bed\u6cd5\u3002</li> <li>\uff08\u975e\u5fc5\u987b\uff09C++\u3001Python \u7b49\u8bed\u8a00\u7684 OOP \u8bed\u6cd5\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#basic-terms-used-in-oop","title":"Basic Terms used in OOP","text":"<ul> <li>OOP \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3002</li> <li>object \u5bf9\u8c61: \u6570\u636e\u548c\u884c\u4e3a\u7684\u96c6\u5408\u3002</li> <li>class \u7c7b: \u5b9a\u4e49\u5bf9\u8c61\u7684\u6a21\u7248\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#object","title":"Object \u5bf9\u8c61","text":"<ul> <li>object\u662f\u6570\u636e\u548c\u884c\u4e3a\u7684\u96c6\u5408\u3002</li> <li>\u6570\u636e\u4e00\u822c\u79f0\u4e3a member variable, field, state, data \u7b49\u3002</li> <li>\u884c\u4e3a\u4e00\u822c\u79f0\u4e3a method, function, interface, protocol \u7b49\u3002</li> <li>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u539f\u8bed\u662f\u5411\u5bf9\u8c61\u53d1\u9001\u6d88\u606f\uff0c\u800c\u4e0d\u662f\u9762\u5411\u8fc7\u7a0b\u7f16\u7a0b\u4e2d\u7684\u6307\u4ee4\u8df3\u8f6c \u3002</li> <li>\u53d1\u9001\u6d88\u606f\u5c31\u5e94\u5f53\u9075\u5faa\u4e00\u5b9a\u7684\u534f\u8bae protocol \uff0c\u6bd4\u5982\u53d1\u9001\u6d88\u606f\u7684\u7c7b\u578b\u548c\u6d88\u606f\u7684\u5185\u5bb9\uff0c\u8fd9\u8868\u73b0\u4e3a\u65b9\u6cd5\u7684\u540d\u5b57\u548c\u53c2\u6570\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#class","title":"Class \u7c7b","text":"<ul> <li>class \u662f object \u7684\u6a21\u7248\uff0c\u662f object \u7684\u7c7b\u578b \u3002</li> <li>class \u5b9a\u4e49\u4e86 object \u6240\u62e5\u6709\u7684\u6570\u636e\u548c\u884c\u4e3a\uff0c\u800c object \u5305\u542b\u4e86\u5177\u4f53\u7684\u6570\u636e\u503c\u548c\u5bf9\u5e94\u884c\u4e3a\u7684\u771f\u6b63\u6267\u884c\u8005 \u3002</li> <li>class \u672c\u8eab\u53ef\u4ee5\u62e5\u6709\u4e00\u4e9b\u6570\u636e\u548c\u884c\u4e3a\u3002</li> <li>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u57fa\u672c\u6d41\u7a0b\u4e3a:</li> <li>\u8bbe\u8ba1\u7c7b <code>class Car { /* ... */ }</code>\u3002</li> <li>\u521b\u5efa/\u5b9e\u4f8b\u5316\u5bf9\u8c61 <code>var myCar = new Car()</code>\u3002</li> <li>\u5411\u5bf9\u8c61\u53d1\u9001\u6d88\u606f <code>myCar.move()</code>\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#oop-in-java","title":"OOP in Java","text":"<ul> <li>\u57fa\u672c\u4e0a \u4e07\u7269\u7686\u5bf9\u8c61\u3002</li> <li>\u57fa\u672c\u6570\u636e\u7c7b\u578b\u9664\u5916\u3002</li> <li>Java \u4f7f\u7528\u5f15\u7528\u6765\u63a7\u5236\u5bf9\u8c61\u3002</li> <li>Java \u53ea\u6709\u6309\u503c\u4f20\u9012\u3002</li> <li>Java \u62e5\u6709\u81ea\u52a8\u5185\u5b58\u7ba1\u7406\u673a\u5236\u3002</li> <li>\u4f60\u53ea\u9700\u8981\u5173\u7cfb\u5982\u4f55<code>new</code>\uff0c\u800c\u65e0\u9700\u62c5\u5fc3\u5bf9\u8c61\u662f\u4f55\u65f6\u6216\u5982\u4f55\u88ab<code>delete</code> \u3002</li> <li>Java \u62e5\u6709\u591a\u79cd\u4f18\u79c0\u7684\u5783\u573e\u6536\u96c6\u5668GC\u5b9e\u73b0\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#oop","title":"\u57fa\u7840OOP","text":"\u5173\u4e8epackage <ul> <li>\u4f8b\u5982: <code>package tourofjava.ch2.lab1;</code></li> <li>Java \u4f7f\u7528\u5305  package \u7ec4\u7ec7\u4ee3\u7801\u3002</li> <li>\u5305\u540d\u4f7f\u7528<code>.</code>\u5efa\u7acb\u5c42\u6b21\u7ed3\u6784\uff0c\u5e94\u5f53\u4e0e\u6587\u4ef6\u76ee\u5f55\u7ed3\u6784\u76f8\u540c\u3002</li> <li>\u5305\u867d\u7136\u6709\u5d4c\u5957\u7ed3\u6784\uff0c\u4f46\u662f\u7236\u76ee\u5f55\u548c\u5b50\u76ee\u5f55\u4e4b\u95f4\u6ca1\u6709\u5982\u5305\u542b\u7b49\u7684\u4efb\u4f55\u5173\u7cfb\uff0c\u4ec5\u4ec5\u662f\u540d\u5b57\u4e0d\u540c\u3002</li> <li>\u5305\u540d\u901a\u5e38\u5168\u5c0f\u5199\u4e14\u5355\u8bcd\u4e4b\u95f4\u65e0\u5206\u9694\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#declare-a-class","title":"Declare a Class","text":"<pre><code>public class Car { ... }\n</code></pre> <ul> <li><code>public</code>\u662f\u8bbf\u95ee\u63a7\u5236\u5173\u952e\u5b57\u7684\u4e00\u79cd\u3002</li> <li><code>public</code>\u4ee3\u8868\u5176\u4ed6\u6240\u6709 class \u90fd\u53ef\u4ee5\u8bbf\u95ee\uff0c<code>private</code>\u4ee3\u8868\u53ea\u6709\u8fd9\u4e2a class \u672c\u8eab\u53ef\u4ee5\u8bbf\u95ee\u3002</li> <li>\u5e94\u7528\u4e8eclass field method\u7684\u58f0\u660e\u4e2d\u3002</li> <li>Java\u8981\u6c42\u540d\u4e3a<code>&lt;name&gt;.java</code>\u7684\u6e90\u6587\u4ef6\u4e2d\u5fc5\u987b\u5305\u542b\u540c\u540d\u7684<code>public class</code>\u3002</li> </ul> <pre><code>public class Car { ... }\n</code></pre> <ul> <li>class \u901a\u5e38\u91c7\u7528\u5927\u9a7c\u5cf0\u547d\u540d\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#declare-member-fields","title":"Declare Member Fields","text":"<pre><code>public class Car {\n    private String brand;\n    private String model;\n    private String color;\n    private int enginePower;\n    private int currentSpeed;\n    private int maxSpeed;\n    private int price;\n\n    // ...\n}\n</code></pre> <pre><code>private String brand;\n</code></pre> <ul> <li> <p>\u8bbf\u95ee\u63a7\u5236 + \u7c7b\u578b + \u6210\u5458\u57df\u540d \uff08\u901a\u5e38\u91c7\u7528\u5c0f\u9a7c\u5cf0\uff09\u3002</p> </li> <li> <p>class\u6210\u5458\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u3002</p> </li> <li>\u6570\u5b57\u7c7b\u578b: <code>0</code> <code>0.0</code> \u3002</li> <li><code>boolean</code>: <code>false</code> \u3002</li> <li> <p>\u5bf9\u8c61: <code>null</code> \u7a7a\u6307\u9488 \u3002</p> </li> <li> <p>\u53ef\u4ee5\u5b9a\u4e49\u65f6\u8d4b\u521d\u59cb\u503c\u3002</p> </li> <li> <p><code>final</code> \u4fee\u9970\u7684\u6210\u5458\u53d8\u91cf\u662f\u5e38\u91cf\uff0c\u56e0\u6b64\u9664\u4e86\u58f0\u660e\u8d4b\u503c\u3001\u6784\u9020\u51fd\u6570\u3001\u5b9e\u4f8b\u521d\u59cb\u5316\u5757\u4e4b\u5916\uff0c\u4e0d\u5141\u8bb8\u5bf9\u5176\u8fdb\u884c\u5176\u4ed6\u4fee\u6539\u3002</p> </li> </ul> <pre><code>private final String finalVar;\n</code></pre> <ul> <li><code>static</code>\u4fee\u9970\u7684\u53d8\u91cf\u79f0\u4e3aclass \u53d8\u91cf\uff0c\u5b83\u4e0d\u5c5e\u4e8e\u5bf9\u8c61\u800c\u5c5e\u4e8eclass \uff0c\u56e0\u6b64\u8bbf\u95ee\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528<code>&lt;class_name&gt;</code> \u3002</li> </ul> <p><pre><code>class Test { public static String var = \"class var\"; }\n\nSystem.out.println(Test.var);\n</code></pre> - \u901a\u5e38\u4f7f\u7528<code>public static final</code>\u6765\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u7c7b\u5e38\u91cf\uff0c\u5e38\u91cf\u7684\u547d\u540d\u60ef\u4f8b\u662f*\u5168\u5927\u5199+\u7528<code>_</code>\u5206\u9694\u5355\u8bcd * \u3002</p>"},{"location":"languages/java/fundamental-oop/#constructor","title":"Constructor \u6784\u9020\u5668","text":"<pre><code>public class Car {\n    public Car(String brand, String model, String color,\n               int enginePower, int maxSpeed, int price) {\n        this.brand = brand;\n        this.model = model;\n        this.color = color;\n        this.enginePower = enginePower;\n        this.maxSpeed = maxSpeed;\n        this.price = price;\n    }\n}\n</code></pre> <pre><code>public Car(...)\n</code></pre> <ul> <li>\u8bbf\u95ee\u63a7\u5236 + class \u540d + (\u53c2\u6570\u5217\u8868) \u3002</li> <li>\u7528\u4e8e\u521d\u59cb\u5316\u5bf9\u8c61\u6570\u636e \u3002</li> </ul> <pre><code>this.brand = brand;\n</code></pre> <ul> <li>class \u7684\u6210\u5458\u65b9\u6cd5\u53ef\u4ee5\u8bbf\u95ee\u7c7b\u7684\u57df\u548c\u65b9\u6cd5\u800c\u4e0d\u9700\u8981<code>this</code>\u6307\u5b9a\u3002</li> <li>\u4f46\u662f\u5982\u679c\u51fa\u73b0\u4e86\u53d8\u91cf\u6216\u8005\u5f62\u53c2\u540d\u5b57\u51b2\u7a81\uff0c\u5219\u9700\u8981<code>this.</code>\u624b\u52a8\u6307\u5b9a\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#instance-initialization-block","title":"Instance Initialization Block \u5b9e\u4f8b\u521d\u59cb\u5316\u5757","text":"<p>\u5728\u7c7b\u4e2d\u76f4\u63a5\u4f7f\u7528<code>{}</code>\u6269\u8d77\u6765\u7684\u90e8\u5206\u79f0\u4e3a\u5b9e\u4f8b\u521d\u59cb\u5316\u5757\uff0c\u5b83\u4f1a\u5728\u4efb\u4f55\u6784\u9020\u5668\u8fd0\u884c\u4e4b\u524d\u8fd0\u884c\u3002</p> <pre><code>class Test {\n    { System.out.println(\"This is an Instance Initialization Block\"); }\n    public Test() {\n        System.out.println(\"This is a constructor\");\n    }\n}\n\njshell&gt; new Test()\nThis is an Instance Initialization Block\nThis is a constructor\n</code></pre>"},{"location":"languages/java/fundamental-oop/#static-initialization-block","title":"Static Initialization Block \u9759\u6001\u521d\u59cb\u5316\u5757","text":"<p>\u5728\u7c7b\u4e2d\u4f7f\u7528<code>static {}</code>\u6269\u8d77\u6765\u7684\u90e8\u5206\u79f0\u4e3a\u9759\u6001\u521d\u59cb\u5316\u5757\u3002\u8fd9\u4e2a\u5757\u4f1a\u5728\u7c7b\u52a0\u8f7d\u7684\u65f6\u5019\u8fd0\u884c\u4e00\u6b21\u3002\u5982\u679c\u73b0\u5728\u4e0d\u662f\u5f88\u6e05\u695aJava\u7c7b\u52a0\u8f7d\u7684\u987a\u5e8f\u548c\u673a\u5236\uff0c\u90a3\u53ea\u9700\u8981\u8bb0\u4f4f\uff0c\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u5757\u5728\u4e00\u4e2aJava\u7a0b\u5e8f\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4e14\u53ea\u4f1a\u8fd0\u884c\u4e00\u6b21\u3002</p>"},{"location":"languages/java/fundamental-oop/#member-methods","title":"Member Methods \u6210\u5458\u65b9\u6cd5","text":"<pre><code>public class Car {\n    public double move(double timeInSec) {\n        double distance = currentSpeed / 3.6 * timeInSec;\n        System.out.println(\"Move \" + distance + \" m in \" + timeInSec + \" s\");\n        return distance;\n    }\n    public void honk() {\n        System.out.println(\"DiDi...\");\n    }\n    public void introduce() {\n        System.out.println(\"I'm a/an \" + color + \" \" + brand + \" \" + model);\n    }\n}\n</code></pre> <ul> <li>\u6210\u5458\u65b9\u6cd5\u7684\u547d\u540d\u4e60\u60ef\u4e00\u822c\u4e3a\u5c0f\u9a7c\u5cf0 \u3002</li> <li>\u6210\u5458\u65b9\u6cd5\u5c31\u662f\u5b9a\u4e49\u5728\u7c7b\u5185\u90e8\u7684\u65b9\u6cd5/\u51fd\u6570 \u3002</li> <li>\u5e76\u4e14\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7c7b\u5185\u7684\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u65b9\u6cd5 \u3002</li> <li>\u7c7b\u7684<code>public</code>\u65b9\u6cd5\u7ec4\u6210\u4e86\u7c7b\u6240\u5b9a\u4e49\u7684\u5bf9\u8c61\u7684\u516c\u5f00\u63a5\u53e3/\u529f\u80fd \u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#getters-setters","title":"Getters &amp; Setters","text":"<pre><code>public class Car {\n    private String brand;\n\n    public String getBrand() {\n        return brand;\n    }\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n}\n</code></pre> <ul> <li>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u5e94\u5f53\u88ab\u5c01\u88c5\u4e3a <code>private</code> \uff0c\u5bf9\u4ed6\u4eec\u7684\u8bbf\u95ee\u548c\u4fee\u6539\u5e94\u8be5\u7531\u76f8\u5e94\u7684\u65b9\u6cd5\u5904\u7406 \u3002</li> <li>\u5bf9\u4e8e <code>boolean</code> \u578b\u57df\uff0c\u4e00\u822c\u4f7f\u7528 <code>isXXX</code> <code>setXXX</code> \u3002</li> <li>\u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u57df\uff0c\u4e00\u822c\u4f7f\u7528 <code>getXXX</code> <code>setXXX</code> \u3002</li> <li>\u5bf9\u4e8e\u7b80\u5355\u7684\u8bfb\u5199\u64cd\u4f5c\uff0c\u8fd9\u4e9b\u4ee3\u7801\u786e\u5b9e\u662f\u6ca1\u4ec0\u4e48\u7528\u7684\u6a21\u7248\u4ee3\u7801\uff0c\u4f46\u662f \u3002</li> <li>IDE \u63d0\u4f9b\u4ee3\u7801\u81ea\u52a8\u751f\u6210\u529f\u80fd \u3002</li> <li>Lombok \u7b49\u5e93\u63d0\u4f9b\u4e86\u7f16\u8bd1\u65f6\u751f\u6210\u65b9\u6cd5\u673a\u5236 \u3002</li> <li>Record \u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#using-class-object","title":"Using Class &amp; Object","text":"<pre><code>public class Car {\n    public static void main(String[] args) {\n        var myCar = new Car(\"BMW\", \"X7\", \"Black\", 250, 245, 1_000_000);\n        myCar.introduce();\n        myCar.honk();\n        myCar.setSpeed(100);\n        myCar.move(600);\n    }\n}\n</code></pre> <pre><code>var myCar = new Car(\"BMW\", \"X7\", \"Black\", 250, 245, 1_000_000);\n</code></pre> <ul> <li>\u4f7f\u7528<code>new</code>\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u3001\u5185\u5b58\u4f4d\u7f6e\u5c06\u7531 Java \u81ea\u52a8\u7ba1\u7406 \u3002</li> <li><code>new</code> \u4f1a\u8c03\u7528\u4e0e\u63d0\u4f9b\u53c2\u6570\u7c7b\u578b\u5bf9\u5e94\u7684\u6784\u9020\u5668\u3002</li> <li>\u5982\u679c\u7c7b\u4e0d\u63d0\u4f9b\u81ea\u5b9a\u4e49\u6784\u9020\u5668\uff0c\u90a3\u4e48\u9ed8\u8ba4\u63d0\u4f9b\u65e0\u53c2\u6570\u6784\u9020\u5668\u3002</li> </ul> <pre><code>myCar.introduce();\n</code></pre> <ul> <li>\u4f7f\u7528<code>.</code>\u8c03\u7528\u5bf9\u8c61\u7684\u65b9\u6cd5/\u63a5\u53e3\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#reuse-classes","title":"Reuse Classes","text":"<p>\u6240\u6709\u4eba\u90fd\u559c\u6b22\u4ee3\u7801\u91cd\u7528\u3002 \u5728\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u4e49\u4e2d\uff0c\u7c7b\u5b9a\u4e49\u4e86\u51e0\u4e4e\u6240\u6709\u7684\u884c\u4e3a\u548c\u6570\u636e\uff0c\u90a3\u4e48\u4ee3\u7801\u91cd\u7528\u6307\u7684\u91cd\u7528\u7c7b\uff0c\u5373\u7528\u5df2\u6709\u7684\u7c7b\u6765\u751f\u6210\u65b0\u7684\u7c7b\u7684\u8fc7\u7a0b\u3002</p> <p>\u4e0b\u9762\u5c31\u6765\u4ecb\u7ecd\u9762\u5411\u5bf9\u8c61\u4e2d\u6700\u57fa\u672c\u7684\u91cd\u7528\u7c7b\u65b9\u5f0f:</p> <ul> <li>\u7ec4\u5408 Composition\u3002</li> <li>\u7ee7\u627f Inheritance\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#composition","title":"Composition \u7ec4\u5408","text":"<ul> <li>\u7ec4\u5408\u6307\u7684\u662f\u5728\u65b0\u7c7b\u4e2d\u5305\u542b\u5df2\u6709\u7c7b\u7684\u5bf9\u8c61 \uff08\u7684\u5f15\u7528\uff09\u3002</li> <li>\u4f60\u53ef\u80fd\u4f1a\u8bf4: \u5c31\u8fd9\uff1f\u90a3\u786e\u5b9e\uff0c\u5c31\u8fd9\u3002</li> <li>\u7ec4\u5408\u662f\u6700\u7b80\u5355\u3001\u4f46\u4e5f\u662f\u6700\u57fa\u672c\u7684\u91cd\u7528\u7c7b\u7684\u65b9\u5f0f\u3002</li> <li>\u5728\u6211\u4eec\u7684 <code>Car</code> \u7c7b\u4e2d\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u7ec4\u5408\u4e86\u82e5\u5e72\u4e2a <code>String</code> \u5bf9\u8c61\u6765\u63cf\u8ff0\u8f66\u7684\u4e00\u4e9b\u57fa\u672c\u4fe1\u606f\u3002</li> </ul> <pre><code>public class Car {\n    private String brand, model, color;\n}\n</code></pre> <p>\u7ec4\u5408\u63cf\u8ff0\u4e86 \"has-a\" \u5173\u7cfb\u3002</p> <ul> <li>\u6211\u4eec\u53ef\u4ee5\u8fd9\u79cd\u8bed\u4e49\u6765\u5efa\u6a21\u66f4\u590d\u6742\u3001\u66f4\u8d34\u5408\u5b9e\u9645\u7684\u6c7d\u8f66\uff0c\u5982:</li> <li>\u4e00\u8f86\u6c7d\u8f66 \u6709\u4e00\u4e2a \u5f15\u64ce\u3002</li> <li>\u4e00\u8f86\u6c7d\u8f66 \u6709\u56db\u4e2a \u8f6e\u5b50\u3002</li> <li>\u90a3\u4e48\u6c7d\u8f66\u7684\u6700\u5927\u901f\u5ea6\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u91cd\u7528\u5f15\u64ce\u4e2d\u7684\u6570\u636e\u6216\u65b9\u6cd5\u6765\u8fdb\u884c\u8ba1\u7b97\u3002</li> </ul> <p>\u7ec4\u5408\u5bf9\u8c61\u7684\u521d\u59cb\u5316:</p> <ul> <li>\u524d\u9762\u63d0\u5230\uff0c\u5bf9\u8c61\u5f15\u7528\u7684\u9ed8\u8ba4\u503c\u662f  <code>null</code> \uff0c\u5bf9\u5176\u8fdb\u884c\u4efb\u4f55\u8bbf\u95ee\u90fd\u4f1a\u5f15\u53d1\u7a7a\u6307\u9488\u5f02\u5e38 <code>java.lang.NullPointerException</code>  \u3002</li> </ul> <pre><code>class Demo {\n   private String s1 = \"String 1\", s2, s3, s4; // 1. definition\n   public Demo() { s2 = \"String 2\"; }          // 2. constructor\n   { s3 = \"String 3\"; }                        // 3. instance init\n   public void useS4() {\n      if (s4 == null) s4 = \"String 4\";         // 4. delayed init\n   }\n}\n</code></pre>"},{"location":"languages/java/fundamental-oop/#inheritance","title":"Inheritance \u7ee7\u627f","text":"<ul> <li>\u7ee7\u627f\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u91cd\u8981\u7279\u5f81\u4e4b\u4e00\u3002</li> <li>\u5728\u521b\u5efa\u7c7b\u7684\u65f6\u5019\uff0c\u603b\u662f\u4f7f\u7528\u4e86\u7ee7\u627f\u3002\u5728 Java \u4e2d\uff0c\u5982\u679c\u4e0d\u624b\u52a8\u6307\u5b9a\uff0c\u5c06\u4f1a\u9690\u5f0f\u7ee7\u627f\u81ea<code>java.lang.Object</code> \u7c7b\uff0c\u8868\u8fbe\u4e86\u4efb\u4f55\u5bf9\u8c61\u7684\u901a\u7528\u63a5\u53e3\u3002</li> <li>\u7ee7\u627f\u5c06\u4f1a\u4f7f\u5b50\u7c7b\u62e5\u6709\u6240\u6709\u7236\u7c7b\u7684\u516c\u5f00\u63a5\u53e3\u53ca\u5176\u5b9e\u73b0\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbf\u95ee\u7236\u7c7b\u4e2d\u53d7\u4fdd\u62a4\u7684\u57df\u548c\u65b9\u6cd5\u3002</li> <li>\u4f7f\u7528<code>extends</code>\u5173\u952e\u5b57\u58f0\u660e\u7ee7\u627f\u3002</li> </ul> <pre><code>class Parent { ... }\nclass Child extends Parent { ... }\n</code></pre> <ul> <li>Java\u4e0d\u5141\u8bb8\u591a\u91cd\u7ee7\u627f\u3002\u539f\u56e0\u5728\u4e8e:</li> <li>\u89c4\u907fdiamond problem\uff0c\u5373\u7ee7\u627f\u5177\u6709\u76f8\u540c\u63a5\u53e3\u7684\u4e0d\u540c\u7684\u7c7b\u5bfc\u81f4\u5b50\u7c7b\u7684\u63a5\u53e3\u5b9e\u73b0\u7684\u6b67\u4e49\u3002</li> <li>\u591a\u91cd\u7ee7\u627f\u5e26\u6765\u7684\u8bbe\u8ba1\u8d1f\u62c5\u4e0e\u5e26\u6765\u7684\u67b6\u6784\u4f18\u52bf\u4e0d\u5bf9\u7b49\u3002</li> </ul> <p>\u7ec4\u5408\u63cf\u8ff0\u4e86 \"is-a\"  \u5173\u7cfb\u3002\u8ba9\u6211\u4eec\u8003\u8651\u4efb\u4f55OOP\u8bfe\u7a0b\u90fd\u4f1a\u8bb2\u7684\u51e0\u4f55\u56fe\u5f62\u7684\u4f8b\u5b50:</p> <pre><code>public class Shape {\n   public double area() { return 0; }\n   public void draw() {}\n   public boolean inside(double x, double y) { return false; }\n}\npublic class Rectangle extends Shape { ... }\npublic class Circle extends Shape { ... }\npublic class Triangle extends Shape { ... }\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d:</p> <ul> <li>\u77e9\u5f62<code>Rectangle</code> \u5706\u5f62<code>Circle</code> \u4e09\u89d2\u5f62<code>Triangle</code> \u90fd \u662f\u4e00\u4e2a \u51e0\u4f55\u56fe\u5f62 <code>Shape</code> \u3002</li> <li><code>Rectangle</code> <code>Circle</code> <code>Triangle</code>\u90fd\u5305\u542b\u4e86<code>Shape</code>\u63d0\u4f9b\u7684\u4e09\u4e2a\u516c\u5f00\u63a5\u53e3\uff0c\u5373\u83b7\u53d6\u8868\u9762\u79ef <code>area()</code>  \u7ed8\u5236 <code>draw()</code>  \u5224\u65ad\u70b9\u662f\u5426\u5728\u56fe\u5f62\u5185\u90e8 <code>inside(double, double)</code> \u3002</li> </ul> <p>Inheritance:  Override/\u91cd\u8f7d\u65b9\u6cd5</p> <p>\u5b50\u7c7b\u4f1a\u7ee7\u627f\u7236\u7c7b\u7684\u63a5\u53e3\uff0c\u4f46\u662f\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5b50\u7c7b\u9700\u8981\u63d0\u4f9b\u81ea\u5df1\u7684\u5b9e\u73b0\u3002\u8fd9\u65f6\u5c31\u9700\u8981 override/\u91cd\u8f7d \u65b9\u6cd5\u3002\u6bd4\u5982<code>Shape</code> \u7684 <code>area()</code>\u548c <code>inside(double, double)</code> \u90fd\u662f\u65e0\u610f\u4e49\u7684\u3002</p> <pre><code>public class Circle extends Shape {\n   double x, y, r;\n   public Circle(double x, double y, double r) { ... }\n   public double area() { return Math.PI * r * r; }\n   public boolean inside(double x1, double y1) {\n      return (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y) &lt; r * r;\n   }\n}\n</code></pre> <p>\u5b50\u7c7b\u7684\u91cd\u8f7d\u65b9\u6cd5\u5b9e\u73b0\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u91cd\u7528\u7236\u7c7b\u65b9\u6cd5\u7684\u5b9e\u73b0\u3002 Java \u4e2d\u4f7f\u7528<code>super</code>\u5173\u952e\u5b57\u8868\u793a\u4f7f\u7528\u7236\u7c7b\u7684\u63a5\u53e3\u4e0e\u6570\u636e\u3002<code>super</code>\u540d\u5b57\u53d6\u81ea\u8d85\u7c7b  superclass \u3002</p> <pre><code>public class Person { public String introduce() { ... } }\n\npublic class Student extends Person {\n   public String introduce() {\n      return super.introduce() + \"24\u5c81\uff0c\u4e8b\u5b66\u751f\";\n   }\n}\n</code></pre> <p>\u91cd\u8f7d\u7236\u7c7b\u65b9\u6cd5\u9700\u8981\u51fd\u6570\u540d\u548c\u53c2\u6570\u7c7b\u578b\u4e0e\u987a\u5e8f\u90fd\u76f8\u540c\uff0c\u5982\u679c\u8bef\u5199\u90a3\u4e48\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u662f\u5b50\u7c7b\u5168\u65b0\u7684\u65b9\u6cd5\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u53ef\u80fd\u9519\u8bef\u7684\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\u3002 \u5982\u679c\u660e\u786e\u77e5\u9053\u81ea\u5df1\u60f3\u91cd\u8f7d\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528<code>@Override</code>\u6ce8\u89e3\u6765\u8ba9\u7f16\u8bd1\u5668\u201c\u63d0\u9192\u201d\u4f60\u3002</p> <pre><code>public class Circle extends Shape {\n   @Override\n   public double area() { return Math.PI * r * r; }\n}\n</code></pre> <p>\u5982\u679c\u51fd\u6570\u540d\u4e0d\u5c0f\u5fc3\u8f93\u5165\u9519\u8bef\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u4f1a\u5f88\u4e0d\u9ad8\u5174:</p> <pre><code>public class Circle extends Shape {\n   @Override\n   public double arae() { return Math.PI * r * r; }\n}\n</code></pre> <pre><code>java: \u65b9\u6cd5\u4e0d\u4f1a\u8986\u76d6\u6216\u5b9e\u73b0\u8d85\u7c7b\u578b\u7684\u65b9\u6cd5\n</code></pre> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd typo \uff0c\u9664\u4e86\u4f7f\u7528 <code>@Override</code> \uff0c\u6211\u8fd8\u5efa\u8bae\u4f7f\u7528IDE\u6765\u4e3a\u4f60\u81ea\u52a8\u751f\u6210\u51fd\u6570\u7b7e\u540d\u3002\u5982\u5728 IntelliJ IDEA \u4e2d\uff0c\u4f7f\u7528 <code>control/ctrl + O</code>  \u6765\u81ea\u52a8\u91cd\u8f7d\u65b9\u6cd5\u3002</p> <p>PS:\u6bd5\u7adf Java \u8bed\u6cd5\u8fd8\u662f\u6bd4\u8f83\u7e41\u7410\u7684\uff0c\u6211\u4f7f\u7528 IDE \u5c31\u662f\u4e3a\u4e86\u5ef6\u957f\u6211\u548c\u6211\u7684\u952e\u76d8\u7684\u5bff\u547d\u3002</p> <p>\u7236\u7c7b\u4e2d\u81ea\u7136\u4e5f\u4f1a\u5b58\u5728\u4e00\u4e9b\u6570\u636e\uff0c\u6240\u4ee5\u53ef\u80fd\u6709\u81ea\u5b9a\u4e49\u7684\u521d\u59cb\u5316/\u6784\u9020\u5668\u5b9e\u73b0\u3002\u56e0\u4e3a\u7236\u7c7b\u7684\u6210\u5458\u57df\u53ef\u80fd\u5bf9\u5b50\u7c7b\u4e0d\u516c\u5f00\uff0c\u5373<code>private</code>\uff0c\u4e3a\u4e86\u6b63\u786e\u7684\u521d\u59cb\u5316\u8fd9\u4e9b\u57df\uff0c\u6211\u4eec\u9700\u8981\u6b63\u786e\u7684\u4f7f\u7528\u7236\u7c7b\u7684\u6784\u9020\u5668\u3002\u5982\u679c\u7236\u7c7b\u6709\u65e0\u53c2\u6570\u6784\u9020\u5668\uff0c\u90a3\u4e48\u5b50\u7c7b\u7684\u6240\u6709\u6784\u9020\u5668\uff0c\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\uff0c\u5c06\u4f1a\u9996\u5148\u8c03\u7528\u7236\u7c7b\u7684\u65e0\u53c2\u6784\u9020\u5668\u3002</p> <pre><code>public class Shape {\n   // ...\n}\n\npublic class Circle extends Shape {\n   double x, y, r;\n   public Circle(double x, double y, double r) { ... }\n}\n</code></pre> <p>\u5982\u679c\u7236\u7c7b\u6ca1\u6709\u65e0\u53c2\u6570\u6784\u9020\u5668\uff0c\u90a3\u4e48\u5b50\u7c7b\u5fc5\u987b\u4f7f\u7528 <code>super</code> \u5173\u952e\u5b57\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u5668\u3002</p> <p><pre><code>public class Person {\n   private String name;\n   public Person(String name) { this.name = name; }\n}\npublic class Student extends Person {\n   private String university;\n   public Student(String name, String university) {\n      super(name);\n      this.university = university;\n   }\n}\n</code></pre> \u5b50\u7c7b\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u5668\u7684\u8bed\u53e5\u5fc5\u987b\u5728\u5b50\u7c7b\u6784\u9020\u5668\u7684\u7b2c\u4e00\u884c\u3002 <pre><code>public class Student extends Person {\n   private String university;\n   public Student(String name, String university) {\n      this.university = university;\n      super(name);\n   }\n}\n</code></pre></p> <pre><code>java: \u5bf9super\u7684\u8c03\u7528\u5fc5\u987b\u662f\u6784\u9020\u5668\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8bed\u53e5\n</code></pre> <p>\u8fd9\u4e2a\u9650\u5236\u662f\u4e3a\u4e86\u786e\u4fdd\u5b50\u7c7b\u53ef\u4ee5\u6b63\u786e\u4f7f\u7528\u7236\u7c7b\u7684\u57df\u548c\u65b9\u6cd5\u3002\u8fdb\u800c\uff0c<code>super()</code>\u7684\u53c2\u6570\u4e0d\u53ef\u4ee5\u4f20\u5165\u3001\u4f7f\u7528\u7236\u7c7b\u548c\u5b50\u7c7b\u7684\u57df\u6216\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u3002</p> <p>PS: \u4e0d\u8fc7\u786e\u5b9e\u6709\u7ed5\u8fc7\u8fd9\u79cd\u9650\u5236\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u8bd5\u56fe\u8bbf\u95ee\u672a\u521d\u59cb\u5316\u7684\u6570\u636e\u4ecd\u7136\u662f\u975e\u5e38\u5371\u9669\u7684\uff0c\u6211\u5728\u8fd9\u91cc\u4e0d\u4ecb\u7ecd\u76f8\u5173\u7684\u65b9\u6cd5\uff0c\u597d\u5947\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u67e5\u4e00\u67e5\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u662f\u975e\u6cd5\u7684: <pre><code>class Parent {\n   public String name;\n   public Parent(String name) { this.name = name; }\n}\nclass Child extends Parent {\n   public Child() {\n      super(super.name);\n      // super(name);\n   }\n}\n</code></pre></p> <p>Inheritance: Upcasting &amp; Polymorphism \u5411\u4e0a\u8f6c\u578b&amp;\u591a\u6001</p> <p>\u7ee7\u627f\u5e26\u6765\u7684\u91cd\u8981\u6027\u8d28\u662f\u5411\u4e0a\u8f6c\u578b  Upcasting\u548c \u591a\u6001  Polymorphism\u3002</p> <p>Upcasting \u6307\u7684\u662f\u5b50\u7c7b\u5bf9\u8c61\u53ef\u4ee5\u8f6c\u578b\u4e3a\u7236\u7c7b\u3002 <code>Shape shape = new Circle(0, 0, 1);</code></p> <p>Polymorphism \u6307\u7684\u662f\u5bf9\u7236\u7c7b\u51fd\u6570\u7684\u8c03\u7528\u53ef\u80fd\u4f7f\u7528\u7684\u5b50\u7c7b\u7684\u5b9e\u73b0\uff0c\u4f1a\u6839\u636e\u4ee3\u7801\u8fd0\u884c\u65f6\uff0c\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\u8fdb\u884c\u52a8\u6001\u5206\u53d1\u3002 <code>shape.area();  // Invoking Circle#area()</code></p> <p>Inheritance: Polymorphism in Depth</p> <ul> <li>\u6570\u636e\u62bd\u8c61\u3001\u7ee7\u627f\u4e0e\u591a\u6001\u65f6\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u7684\u4e09\u5927\u57fa\u672c\u7279\u5f81.</li> <li>\u591a\u6001\u7684\u4f5c\u7528\u5728\u4e8e\uff0c\u6d88\u9664\u5b9e\u9645\u7c7b\u578b\u4e4b\u95f4\u7684\u8026\u5408\u5173\u7cfb\uff0c\u4f7f\u5f97\u4ee3\u7801\u8bbe\u8ba1\u4e2d\u5c3d\u53ef\u80fd\u7684\u4f9d\u8d56\u4e8e\u516c\u5f00\u63a5\u53e3\u800c\u975e\u5177\u4f53\u5b9e\u73b0 \u3002</li> </ul> <p>\u591a\u6001\u53ef\u4ee5\u63d0\u5347\u6269\u5c55\u6027\u3002\u8003\u8651\u4e0b\u9762\u66f4\u52a0\u5b9e\u9645\u7684\u7ed8\u5236\u56fe\u5f62\u7684\u4ee3\u7801\uff0c\u56fe\u5f62\u7684\u7ed8\u5236\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u753b\u677f\u5bf9\u8c61\uff0c\u7528\u4e8e\u6267\u884c\u5b9e\u9645\u7684\u7ed8\u56fe\u6307\u4ee4\uff0c\u5982<code>drawLine(int, int, int, int)</code>\u7b49:</p> <pre><code>class Shape { public void draw(Canvas c) {} }\nclass Circle extends Shape { @Override public void draw(Canvas c) { ... } }\nclass Rectangle extends Shape { @Override public void draw(Canvas c) { ... } }\nclass Triangle extends Shape { @Override public void draw(Canvas c) { ... } }\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u591a\u6001\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u7c7b\u578b\u6765\u8c03\u7528\u5177\u4f53\u7684\u7ed8\u56fe\u5b9e\u73b0:</p> <pre><code>class GUI {\n   private void render(Circle    shape) { shape.draw(getCanvas()); }\n   private void render(Rectangle shape) { shape.draw(getCanvas()); }\n   private void render(Triangle  shape) { shape.draw(getCanvas()); }\n}\n</code></pre> <p>\u5148\u4e0d\u8bba\u8fd9\u4efd\u4ee3\u7801\u505a\u4e86\u591a\u5c11\u91cd\u590d\u5de5\u4f5c\uff0c\u6211\u4eec\u8003\u8651\u52a0\u5165\u4e00\u4e2a\u65b0\u7684\u56fe\u5f62\u5b50\u7c7b<code>Ellipse</code>\uff0c\u90a3\u4e48<code>GUI</code>\u7c7b\u8fd8\u9700\u8981\u518d\u6dfb\u52a0\u4e00\u884c<code>render</code>\u51fd\u6570\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u591a\u6001\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u7c7b\u578b\u6765\u8c03\u7528\u5177\u4f53\u7684\u7ed8\u56fe\u5b9e\u73b0:</p> <pre><code>class GUI {\n   private void render(Circle    shape) { shape.draw(getCanvas()); }\n   private void render(Rectangle shape) { shape.draw(getCanvas()); }\n   private void render(Triangle  shape) { shape.draw(getCanvas()); }\n}\n</code></pre> <p>\u66f4\u6709\u53ef\u80fd\u7684\u662f\uff0c<code>GUI</code> \u662f\u522b\u4eba\u63d0\u4f9b\u7684\u4ee3\u7801\u5b9e\u73b0\uff0c\u6211\u4eec\u6ca1\u6709\u4fee\u6539\u4ed6\u4eec\u7684\u6743\u529b\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u591a\u6001\uff0c\u90a3\u4e48\u76f4\u63a5\u63a5\u6536\u4e00\u4e2a <code>Shape</code>\u57fa\u7c7b\u7684\u5bf9\u8c61\uff0c\u4fbf\u53ef\u4ee5\u5b9e\u73b0\u8fd0\u884c\u65f6\u52a8\u6001\u5206\u53d1\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e5f\u53ef\u4ee5\u652f\u6301\u672a\u6765\u53ef\u80fd\u4f1a\u6dfb\u52a0\u7684\u4efb\u610f\u5177\u4f53\u7684\u56fe\u5f62\u5b50\u7c7b\u3002</p> <pre><code>class GUI {\n   private void render(Shape shape) { shape.draw(getCanvas()); }\n}\n</code></pre> <p>\u5c3d\u91cf\u4e0d\u8981\u5728\u6784\u9020\u5668\u4e2d\u4f7f\u7528\u591a\u6001\u51fd\u6570\uff0c\u5426\u5219\u57fa\u7c7b\u6784\u9020\u5668\u5728\u6267\u884c\u65f6\uff0c\u53ef\u80fd\u4f1a\u9519\u8bef\u7684\u8c03\u7528\u4e86\u5b50\u7c7b\u7684\u591a\u6001\u51fd\u6570\uff0c\u4f46\u662f\u6b64\u65f6\u5b50\u7c7b\u7684\u6570\u636e\u8fd8\u672a\u88ab\u6b63\u786e\u521d\u59cb\u5316\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9519\u8bef\u7684\u7ed3\u679c\u751a\u81f3\u5f02\u5e38\u5d29\u6e83\u3002</p> <p>\u56e0\u6b64\uff0c\u5c3d\u53ef\u80fd\u7684\u7528\u7b80\u5355\u7684\u8bed\u53e5\u8fdb\u884c\u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002</p> <p>Java\u4e2d\u4e0d\u662f\u6240\u6709\u4e8b\u7269\u90fd\u652f\u6301\u591a\u6001:</p> <ol> <li><code>static</code>\u548c<code>final</code>\u65b9\u6cd5\u662f\u524d\u671f\u8c03\u7528\u7ed1\u5b9a\uff0c\u5373\u4ed6\u4eec\u6240\u8c03\u7528\u7684\u65b9\u6cd5\u5728\u7f16\u8bd1\u65f6\u5df2\u7ecf\u786e\u5b9a\u3002</li> <li>\u6210\u5458\u57df\u4e0d\u5b58\u5728\u591a\u6001\u3002\u5982\u679c\u5b58\u5728\u91cd\u540d\uff0c\u53ea\u4f1a\u5355\u7eaf\u7684\u51fa\u73b0\u4e86\u6807\u8bc6\u7b26\u8986\u76d6\u3002\u5bf9\u91cd\u540d\u57df\u7684\u8bbf\u95ee\u53ea\u548c\u65b9\u6cd5\u5b9e\u73b0\u6240\u5728\u7684\u7c7b\u7ed1\u5b9a\u3002</li> <li><code>private</code>\u65b9\u6cd5\u9ed8\u8ba4\u4e3a<code>final</code>\uff0c\u56e0\u6b64\u5373\u4f7f\u91cd\u540d\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u91cd\u8f7d\u4e5f\u4e0d\u4f1a\u652f\u6301\u591a\u6001\u3002</li> </ol> <p>Inheritance: Downcasting</p> <p>\u53ef\u4ee5\u5411\u4e0a\u8f6c\u578b\u5c31\u53ef\u4ee5\u5411\u4e0b\u8f6c\u578b\u3002\u524d\u63d0\u662f\u9700\u8981\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u771f\u7684\u662f\u67d0\u4e2a\u5177\u4f53\u5b50\u7c7b\u7136\u540e\u518d\u5c1d\u8bd5\u8f6c\u578b\uff0c\u5426\u5219\u4f1a\u89e6\u53d1<code>java.lang.ClassCastException</code>\u5f02\u5e38\u3002</p> <p>\u5224\u65ad\u67d0\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528<code>instanceof</code>\u5173\u952e\u5b57:</p> <pre><code>if (shape instanceof Circle) {\n   Circle circle = (Circle) shape;\n   // do something with circle\n}\n</code></pre> <p>\u4e00\u4e2a\u5c0f\u8bed\u6cd5\u7cd6: [JEP394, Java16] Pattern Matching for <code>instanceof</code></p> <pre><code>if (shape instanceof Circle circle) {\n   // do something with circle\n}\n</code></pre>"},{"location":"languages/java/fundamental-oop/#composition-vs-inheritance","title":"Composition vs. Inheritance","text":"<ul> <li> <p>\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u91cd\u7528\u73b0\u6709\u7c7b\u7684\u4ee3\u7801\u3002</p> </li> <li> <p>\u7ec4\u5408\u9002\u7528\u4e8e\u6211\u4eec\u9700\u8981\u4f7f\u7528\u73b0\u6709\u7c7b\u7684\u529f\u80fd\u4e0e\u63a5\u53e3\u7684\u60c5\u51b5\uff0c\u7ee7\u627f\u9002\u7528\u4e8e\u6211\u4eec\u60f3\u65b0\u5efa\u4e00\u4e2a\u73b0\u6709\u7c7b\u7684\u7279\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u91cd\u65b0\u5b9e\u73b0\u548c\u6269\u5c55\u73b0\u6709\u7c7b\u7684\u63a5\u53e3\u3002</p> </li> <li> <p>\u7ee7\u627f\u53ef\u80fd\u5e26\u6765\u7684\u95ee\u9898\u662f\u7834\u574f\u5c01\u88c5\uff0c\u5373\u5b50\u7c7b\u88ab\u5141\u8bb8\u66b4\u9732\u7236\u7c7b\u7684\u53d7\u4fdd\u62a4\u57df\u548c\u65b9\u6cd5\uff0c\u8fd9\u901a\u5e38\u662f\u4e0d\u63a8\u8350\u7684\u3002</p> </li> <li> <p>\u7ec4\u5408\u4f18\u5148\u4e8e\u7ee7\u627f\u3002</p> </li> </ul> <p>delegate \u4ee3\u7406</p> <p>\u8003\u8651\u4e00\u8f86\u53ef\u4ee5\u8f7d\u4e00\u4e9b\u4eba\u7684\u516c\u5171\u6c7d\u8f66\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u516c\u5171\u6c7d\u8f66\u7ee7\u627f\u81ea<code>HashSet</code>\u6765\u5b9e\u73b0\u4fdd\u5b58\u8f66\u4e0a\u4e58\u5ba2\u4fe1\u606f\u7684\u529f\u80fd:</p> <pre><code>class Person { ... }\nclass Bus extends HashSet&lt;Person&gt; { ... }\n\nvar bus = new Bus();\nbus.add(new Person(\"c7w\"));\nbus.add(new Person(\"lambda\"));\nbus.add(new Person(\"xsun2001\"));\n</code></pre> <p>\u663e\u7136\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u5e76\u4e0d\u597d\u3002\u4e00\u65b9\u9762\uff0c\u516c\u5171\u6c7d\u8f66\u5e94\u5f53\u662f\u4e00\u8f86\u8f7d\u5177\uff0c\u6709\u4e00\u4e9b\u4e58\u5ba2\uff0c\u6211\u4eec\u5e94\u5f53\u7ec4\u5408\u4e00\u4e2a\u4e58\u5ba2\u7684\u96c6\u5408\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u76f4\u63a5\u7ee7\u627f\u4f1a\u7ed9\u516c\u5171\u6c7d\u8f66\u4e00\u5806\u672c\u6765\u4e0d\u9700\u8981\u7684\u6570\u636e\u548c\u5b9e\u73b0\u3002</p> <p>\u4f46\u662f\uff0c\u6211\u4eec\u786e\u5b9e\u9700\u8981\u63d0\u4f9b\u7c7b\u4f3c\u7ee7\u627f\u7684\u529f\u80fd\uff0c\u56e0\u4e3a\u6211\u4eec\u786e\u5b9e\u9700\u8981\u52a0\u5165 add remove size clear \u8fd9\u79cd\u548c\u96c6\u5408\u5f88\u7c7b\u4f3c\u7684\u63a5\u53e3\u3002</p> <p>\u5f88\u591a\u5176\u4ed6\u7684\u8bed\u8a00\u63d0\u4f9b\u4e86\u4ee3\u7406  delegate \u6216\u8005\u6df7\u5165  mixin \u7b49\u8bed\u6cd5\u7279\u6027\u548c\u6982\u5ff5\u3002\u4f46\u662f Java <sub>~\u663e\u7136</sub>~\u6ca1\u6709\u76f8\u5173\u7684\u8bed\u6cd5\u652f\u6301\u3002</p> <pre><code>class Bus {\n   private Set&lt;Person&gt; passengers = new HashSet();\n   public boolean add(Person p) { return passengers.add(p); }\n   public boolean remove(Person p) { return passengers.remove(p); }\n   public int size() { return passengers.size(); }\n   public void clear() { return passengers.clear(); }\n}\n</code></pre> <p>\u5728 Java \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u7ec4\u5408+\u624b\u52a8\u8f6c\u53d1\u7684\u65b9\u6cd5\u5b9e\u73b0 delegate\u3002</p>"},{"location":"languages/java/fundamental-oop/#abstract-class","title":"Abstract Class","text":"<p>\u67d0\u4e9b\u7c7b\u672c\u8eab\u5c31\u662f\u4f5c\u4e3a\u5176\u4ed6\u7c7b\u7684\u7236\u7c7b\u800c\u5b58\u5728\u3002\u6bd4\u5982\u4e0a\u9762\u63d0\u5230\u7684 <code>Shape</code> \u7c7b\uff0c\u5b83\u63d0\u4f9b\u7684\u63a5\u53e3\u5b9e\u9645\u4e0a\u90fd\u662f\u6ca1\u6709\u610f\u4e49\u7684\u54d1\u5b9e\u73b0\uff0c\u5fc5\u987b\u8981\u501f\u52a9\u5177\u4f53\u7684\u5b50\u7c7b\u624d\u80fd\u8d77\u4f5c\u7528\u3002\u5728 Java \u4e2d\u53ef\u4ee5\u4f7f\u7528\u62bd\u8c61\u7c7b  Abstract Class \u6765\u8868\u8fbe\u3002</p> <pre><code>public abstract class Shape {\n    public abstract double area();\n    public abstract void draw();\n    public abstract boolean inside(double x, double y);\n}\n</code></pre> <p>\u62bd\u8c61\u7c7b\u53ef\u4ee5\u5305\u542b\u62bd\u8c61\u65b9\u6cd5  Abstract Methods \uff0c\u4e5f\u5c31\u662f\u5728\u7b7e\u540d\u4e2d\u5e26\u6709<code>abstract</code>\u5173\u952e\u5b57\u7684\u65b9\u6cd5\u3002\u8fd9\u4e9b\u65b9\u6cd5\u6ca1\u6709\u5b9e\u73b0\uff0c\u7c7b\u4f3c\u4e8e C++ \u4e2d\u7684\u7eaf\u865a\u51fd\u6570\u3002</p> <p>\u62bd\u8c61\u7c7b\u4e0d\u80fd\u88ab\u76f4\u63a5\u5b9e\u4f8b\u5316\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u63d0\u4f9b\u5177\u4f53\u63a5\u53e3\u7684\u5b9e\u73b0\uff0c\u8fd8\u56e0\u4e3a\u8fd9\u5728\u6982\u5ff5\u4e0a\u662f\u6ca1\u6709\u610f\u4e49\u7684:</p> <pre><code>var shape = new Shape(); // Error\n</code></pre>"},{"location":"languages/java/fundamental-oop/#base-of-all-javalangobject","title":"Base of All: java.lang.Object","text":"<p><code>java.lang.Object</code>\u662f\u6240\u6709\u7c7b\u7684\u8d85\u7c7b\uff0c\u5b83\u4ee3\u8868\u7684\u8bed\u4e49\u4e5f\u975e\u5e38\u76f4\u89c2: \u6240\u6709\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u786e\u5207\u7684\u6765\u8bf4\uff0c\u662fJava\u8bed\u8a00\u5185\u7684\u5bf9\u8c61<code>java.lang.Object</code>\u3002</p> <p>\u6839\u636e\u7ee7\u627f\u7684\u89c4\u5219\uff0c\u4efb\u4f55\u7c7b\u90fd\u5305\u542b\u4e86 <code>java.lang.Object</code> \u4e2d\u63d0\u4f9b\u7684\u516c\u5f00\u63a5\u53e3\uff0c\u5e76\u5e94\u8be5\u5728\u9700\u8981\u7684\u65f6\u5019\u63d0\u4f9b\u6b63\u786e\u7684\u91cd\u8f7d:</p> <ul> <li><code>String toString()</code></li> <li><code>boolean equals(Object obj)</code></li> <li><code>int hashCode()</code></li> </ul> <p>\u5176\u4ed6\u51fd\u6570\u4e0e\u66f4\u52a0\u7ec6\u81f4\u7684\u63cf\u8ff0\u53c2\u89c1API\u6587\u6863: java.lang.Object  \u3002</p> <p>\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u63cf\u8ff0: <code>String toString()</code>\u3002</p> <p><code>System.out.println</code> \u548c\u5b57\u7b26\u4e32\u62fc\u63a5\u90fd\u63a5\u53d7\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u6216\u64cd\u4f5c\u6570\uff0c\u5b83\u4eec\u5229\u7528\u7684\u5c31\u662f <code>toString()</code> \u65b9\u6cd5\u5c06\u4efb\u4f55\u5bf9\u8c61\u90fd\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u3002\u8bbe\u8ba1\u597d\u7684\u5b57\u7b26\u4e32\u63cf\u8ff0\u5bf9\u4e8e\u65e5\u5fd7\u3001\u8c03\u8bd5\u7b49\u65b9\u9762\u90fd\u6709\u91cd\u8981\u4f5c\u7528\u3002</p> <p>\u9ed8\u8ba4\u7684 <code>toString()</code> \u5b9e\u73b0\u8fd4\u56de\u7684\u662f<code>&lt;\u7c7b\u578b&gt;@&lt;\u5185\u5b58\u5730\u5740&gt;</code>\uff0c\u5982 <code>Circle@68be2bc2</code>\uff0c\u8fd9\u663e\u7136\u6ca1\u4ec0\u4e48\u7528\u3002\u4e0e\u5176\u4ecb\u7ecd\u600e\u4e48\u5199\u6bd4\u8f83\u597d\uff0c\u6211\u8fd8\u662f\u66f4\u63a8\u8350\u76f4\u63a5\u8ba9IDEA\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u5c31\u597d\u4e86\u3002</p> <pre><code>@Override\npublic String toString() {\n   return \"Circle{\" + \"r=\" + r + '}';\n}\n</code></pre>"},{"location":"languages/java/fundamental-oop/#boolean-equals","title":"Boolean Equals","text":"<p><code>equals</code> \u65b9\u6cd5\u63d0\u4f9b\u4e86\u6bd4\u8f83\u5bf9\u8c61\u5185\u5bb9\u662f\u5426\u76f8\u540c\u3001\u6216\u8005\u8bf4\u5728\u903b\u8f91\u4e0a\u800c\u4e0d\u662f\u5728\u7269\u7406\u5730\u5740\u4e0a\u76f8\u540c\u7684\u5b9e\u73b0\u3002\u6b63\u786e\u5b9e\u73b0 <code>equals</code>  \u53ef\u4ee5\u4fdd\u8bc1 Java \u96c6\u5408\u6846\u67b6\u4e2d\u5224\u65ad\u5305\u542b\u3001<code>Set</code> \u53bb\u91cd\u590d\u7b49\u57fa\u7840\u8bed\u4e49\u7684\u6b63\u786e\u6027\u3002</p> <ol> <li>\u81ea\u53cd\u6027: <code>x.equals(x) == true</code>\u3002</li> <li>\u5bf9\u79f0\u6027: <code>x.equals(y) == y.equals(x)</code> \u3002</li> <li>\u4f20\u9012\u6027: <code>x.equals(y) &amp;&amp; y.equals(z)</code> \\Rightarrow <code>x.equals(z) == true</code> \u3002</li> <li>\u4e00\u81f4\u6027: \u8fde\u7eed\u7684\u8c03\u7528<code>equals</code>\u65b9\u6cd5\u7684\u7ed3\u679c\u5e94\u5f53\u4e00\u81f4\u3002</li> <li><code>x.equals(null) == false</code>\u3002</li> </ol> <p>\u4f46\u662f\uff0c\u5728 Java \u4e2d\u5b9e\u73b0\u6b63\u786e\u7684<code>equals</code>\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u8f83\u4e3a\u56f0\u96be\u7684\u4e8b\u60c5\u3002\u6211\u63a8\u8350\u7684\u5b9e\u73b0\u65b9\u6cd5\u662f:</p> <pre><code>class Class {\n   @Override\n   public boolean equals(Object o) {\n      if (this == o) return true; //\u5982\u679c\u4e24\u4e2a\u5bf9\u8c61\u5f15\u7528\u76f8\u540c\uff0c\u90a3\u5185\u5bb9\u4e00\u5b9a\u76f8\u540c\n      if (!(o instanceof Class clazz)) return false; //\u5982\u679c\u4e0d\u662f\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u4e00\u5b9a\u4e0d\u76f8\u540c\n      return /* \u4f9d\u6b21\u6bd4\u8f83\u5404\u4e2a\u57df */;\n   }\n}\n</code></pre> <ul> <li><code>if (!(o instanceof Class)) return false;</code> \u5982\u679c\u4e0d\u662f\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u4e00\u5b9a\u4e0d\u76f8\u540c\u3002</li> <li>\u6709\u65f6\u8fd9\u4e2a\u5b9e\u73b0\u4e3a: <code>if (o == null || getClass() != o.getClass()) return false;</code> \u3002</li> <li> <p>\u4e24\u79cd\u65b9\u6cd5\u7684\u533a\u522b\u5728\u4e8e\u662f\u5426\u63a5\u53d7\u5b50\u7c7b\u4e0e\u7236\u7c7b\u76f8\u540c\u3002\u4e00\u822c\u60c5\u51b5\u662f\u63a5\u53d7\u7684\uff0c\u4f8b\u5982\u4e0d\u540c\u5b9e\u73b0\u7684\u96c6\u5408<code>Set</code>\uff0c\u5982\u679c\u5305\u542b\u5143\u7d20\u76f8\u540c\uff0c\u4e5f\u5e94\u5f53\u8ba4\u4e3a\u662f\u76f8\u540c\u7684\u3002\u5f53\u7136\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u9009\u7528\u9700\u8981\u5177\u4f53\u60c5\u51b5\u8ba8\u8bba\u3002</p> </li> <li> <p>\u6bd4\u8f83\u5404\u4e2a\u57df\u7684\u65b9\u6cd5\u3002</p> </li> <li>\u82e5\u4e3a\u6574\u6570\u7c7b\u578b\uff0c\u76f4\u63a5<code>==</code>\u5224\u65ad\u3002</li> <li>\u82e5\u4e3a\u6d6e\u70b9\u7c7b\u578b\uff0c\u4f7f\u7528<code>Double.compare</code>\u6216<code>Float.compare</code>\u5224\u65ad\uff0c\u8fd9\u4e24\u4e2a\u9759\u6001\u7c7b\u51fd\u6570\u53ef\u4ee5\u5e2e\u5fd9\u5904\u7406<code>NaN</code>\u76f8\u5173\u7684\u60c5\u51b5\u3002</li> <li>\u82e5\u4e3a\u5bf9\u8c61\u5f15\u7528\uff0c\u4f7f\u7528<code>Objects.equals</code>\u5224\u65ad\uff0c\u8fd9\u4e2a\u9759\u6001\u51fd\u6570\u53ef\u4ee5\u5e2e\u5fd9\u5904\u7406\u7a7a\u6307\u9488\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u5982\u679c\u6ca1\u542c\u61c2\uff0c\u90a3\u5c31\u4ea4\u7ed9IDEA\u81ea\u52a8\u751f\u6210\u3002\u5982\u679c\u4f60\u542c\u61c2\u4e86\uff0c\u4e5f\u6700\u597d\u4ea4\u7ed9IDEA\u81ea\u52a8\u751f\u6210\u3002</p> <p>\u9009\u62e9: Template = <code>java.util.Objects.equals and hashCode (java 7+)</code> \u5e76\u4e14\u52fe\u9009 \"Accept subclasses are parameter to equals() method\"\u3002</p>"},{"location":"languages/java/fundamental-oop/#hash-code","title":"Hash Code","text":"<p>\u6563\u5217\u51fd\u6570\u7684\u6709\u6548\u5b9e\u73b0\u53ef\u4ee5\u63d0\u4f9b<code>HashMap</code> <code>HashSet</code>\u7b49\u54c8\u5e0c\u8868\u76f8\u5173\u6570\u636e\u7ed3\u6784\u7684\u6b63\u786e\u6027\u548c\u9ad8\u6027\u80fd\u3002</p> <p>\u5e94\u5f53\u4fdd\u8bc1:</p> <ol> <li>\u76f8\u540c\u7684\u5bf9\u8c61\u6563\u5217\u503c\u5fc5\u987b\u76f8\u540c: <code>x.equals(y) == true</code> \\Rightarrow <code>x.hashCode() == y.hashCode()</code></li> <li>\u4e0d\u540c\u5bf9\u8c61\u7684\u6563\u5217\u503c\u5c3d\u53ef\u80fd\u7684\u4e0d\u540c</li> <li><code>equals()</code>\u548c<code>hashCode()</code>\u5fc5\u987b\u540c\u65f6\u91cd\u8f7d\u3002IDEA\u4f1a\u5e2e\u4f60\u540c\u65f6\u751f\u6210\u3002</li> </ol> <p>\u4e3a\u4e86\u51cf\u8f7b\u7a0b\u5e8f\u5458\u8bbe\u8ba1\u6563\u5217\u51fd\u6570\u7684\u8d1f\u62c5\uff0cJava\u63d0\u4f9b\u4e86<code>Objects#hash</code>\u9759\u6001\u65b9\u6cd5\u8ba1\u7b97\u6563\u5217\u503c\uff0c\u4f60\u53ea\u9700\u8981:</p> <pre><code>class Class {\n   @Override\n   public int hashCode() {\n      return Objects.hash( /* \u586b\u5165\u5404\u4e2a\u6210\u5458\u57df */ );\n   }\n}\n</code></pre>"},{"location":"languages/java/fundamental-oop/#interface","title":"Interface","text":"<p>\u524d\u9762\u6211\u4eec\u5b66\u4e60\u4e86\u91cd\u7528\u73b0\u6709\u7c7b\u7684\u6280\u672f\u3002\u5728\u8fd9\u4e00\u5927\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u4f1a\u8ba4\u8bc6\u6269\u5c55\u7c7b\u7684\u529f\u80fd\u7684\u6280\u672f: \u63a5\u53e3 interface</p> <p><code>interface</code> \u5b9e\u9645\u4e0a\u662f<code>abstract class</code> \u7684\u8fdb\u4e00\u6b65\u62bd\u8c61\u5f62\u5f0f\u3002<code>abstract class</code>\u5141\u8bb8\u542b\u6709\u4e0d\u5305\u542b\u5b9e\u73b0\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u800c<code>interface</code> \u53ea\u5b9a\u4e49\u4e86\u62bd\u8c61\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e5f\u4e0d\u88ab\u5141\u8bb8\u6709\u6210\u5458\u57df\uff08\u6bd5\u7adf\u6ca1\u6709\u5177\u4f53\u5b9e\u73b0\u4e5f\u4e0d\u9700\u8981\u5173\u8054\u6570\u636e\uff09\u3002</p> <p><code>interface</code> \u63cf\u8ff0\u4e86\u5bf9\u8c61\u4e4b\u95f4\u53ef\u4ee5\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u5b9a\u4e49\u4e86\u5bf9\u8c61\u4e4b\u95f4\u4e92\u76f8\u901a\u8baf\u7684\u534f\u8bae\u3002\u56e0\u4e3a\u5176\u53ea\u542b\u6709\u65b9\u6cd5\u58f0\u660e\uff0c\u56e0\u6b64\u4e5f\u6ca1\u6709\u4e86\u7ee7\u627f\u7684\u53ea\u5141\u8bb8\u5355\u4e00\u7ee7\u627f\u7684\u9650\u5236\u3002\u5b9e\u73b0\u63a5\u53e3\u4f1a\u8ba9\u7c7b\u7684\u529f\u80fd\u6269\u5c55\uff0c\u800c\u4e0d\u4f1a\u5f15\u5165\u5176\u4ed6\u7684\u5b9e\u73b0\u4f9d\u8d56\u3002</p>"},{"location":"languages/java/fundamental-oop/#using-interface","title":"Using Interface","text":"<p>\u89c2\u5bdf\u53d1\u73b0\uff0c\u6211\u4eec\u7684\u56fe\u5f62\u57fa\u7c7b <code>Shape</code> \u53ea\u5305\u542b\u4e86\u62bd\u8c61\u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8f6c\u5316\u4e3a\u63a5\u53e3:</p> <pre><code>interface Shape {\n    double area();\n    void draw();\n    boolean inside(double x, double y);\n}\n</code></pre> <ul> <li>\u4f7f\u7528 <code>interface</code> \u5173\u952e\u5b57\u58f0\u660e\u63a5\u53e3\u3002</li> <li>\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u5e94\u5f53\u90fd\u4e3a <code>public abstract</code> \uff0c\u56e0\u6b64\u65e0\u9700\u518d\u6b21\u58f0\u660e\u3002</li> </ul> <p>\u5176\u4ed6\u5177\u4f53\u7684\u56fe\u5f62\u7c7b\u4e5f\u90fd\u5e94\u8be5\u8fdb\u884c\u76f8\u5e94\u7684\u4fee\u6539:</p> <pre><code>class Circle implements Shape {\n    private double r;\n    public Circle(double r) { this.r = r; }\n\n    @Override public double area() { return Math.PI * r * r; }\n    @Override public void draw() { /* ... */ }\n    @Override public boolean inside(double x, double y) {\n        return x * x + y * y &lt; r * r;\n    }\n}\n</code></pre> <pre><code>class Circle implements Shape\n</code></pre> <p>\u4f7f\u7528<code>implements</code>\u5173\u952e\u5b57\u58f0\u660e\u5b9e\u73b0\u7684\u63a5\u53e3\u5217\u8868\u3002</p>"},{"location":"languages/java/fundamental-oop/#static-fields","title":"Static Fields","text":"<p>\u53ef\u4ee5\u4e3a<code>interface</code>\u5185\u58f0\u660e\u53d8\u91cf\uff0c\u4f46\u662f\u8fd9\u4e0d\u662f\u6210\u5458\u53d8\u91cf\uff0c\u800c\u662f\u9ed8\u8ba4\u7684<code>public static final</code>\u53d8\u91cf\uff0c\u4e5f\u5c31\u662f\u63a5\u53e3\u7684\u9759\u6001\u5e38\u91cf\u3002</p> <pre><code>interface Shape {\n   int MAX_WIDTH = 100, MAX_HEIGHT = 100;\n}\n\nint width = Shape.MAX_WIDTH;\n</code></pre>"},{"location":"languages/java/fundamental-oop/#static-methods","title":"Static Methods","text":"<p><code>interface</code>\u5185\u5141\u8bb8\u6709<code>static</code>\u65b9\u6cd5\uff0c\u540c\u6837\u9ed8\u8ba4\u4e3a<code>public</code>\u53ef\u89c1\u6027\u3002</p> <pre><code>interface Shape {\n   static Shape createUnitCircle() { return new Circle(0, 0, 1); }\n}\n\nvar unit = Shape.createUnitCircle();\n</code></pre>"},{"location":"languages/java/fundamental-oop/#default-methods","title":"Default Methods","text":"<ul> <li><code>default</code> \u63d0\u4f9b\u9ed8\u8ba4\u7684\u65b9\u6cd5\u5b9e\u73b0\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u5b9e\u73b0\u63a5\u53e3\u7684\u7c7b\u53ef\u4ee5\u8fdb\u884c\u91cd\u8f7d\u3002</li> <li>\u63a5\u53e3\u7684\u67d0\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u7531\u5df2\u6709\u7684\u65b9\u6cd5\u5bfc\u51fa\uff0c\u6bd4\u5982\u5224\u65ad\u96c6\u5408 <code>Set</code> \u662f\u5426\u4e3a\u7a7a <code>isEmpty()</code> \u65f6\uff0c\u5bf9\u4e8e\u5927\u591a\u6570\u96c6\u5408\u6765\u8bf4\uff0c\u53ef\u4ee5\u901a\u8fc7\u5224\u65ad <code>size() == 0</code> \u5b9e\u73b0\u3002\u8fd9\u65f6\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>default</code> \u6765\u907f\u514d\u6bcf\u4e2a\u5b50\u7c7b\u90fd\u5199\u4e00\u53e5 <code>size() == 0</code>\u3002</li> <li><code>default</code> \u7528\u4e8e\u4fdd\u8bc1\u4e8c\u8fdb\u5236\u517c\u5bb9\u6027\u3002\u4fee\u6539\u5df2\u6709\u63a5\u53e3\u53ef\u80fd\u5bfc\u81f4\u4ee5\u524d\u4f7f\u7528\u8fd9\u4e2a\u63a5\u53e3\u7684\u7c7b\u5e93\u51fa\u73b0\u65b9\u6cd5\u672a\u5b9e\u73b0\u7684\u9519\u8bef\u3002\u901a\u8fc7\u6dfb\u52a0 <code>default</code> \u51fd\u6570\u53ef\u4ee5\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u3002</li> </ul> <p>\u4f46\u662f\u8fd9\u53c8\u5f15\u5165\u4e86 diamond problem \uff0c\u5373\u7c7b\u5b9e\u73b0\u4e86\u4e24\u4e2a\u5177\u6709\u76f8\u540c <code>default</code> \u65b9\u6cd5\u7684\u63a5\u53e3\u65f6\u51fa\u73b0\u7684\u5b9e\u73b0\u6b67\u4e49\u3002</p> <p>\u5728 Java \u4e2d\uff0c\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u4f60\u5fc5\u987b\u91cd\u8f7d\u8fd9\u4e2a\u51b2\u7a81\u7684\u65b9\u6cd5\u6765\u63d0\u4f9b\u81ea\u5df1\u7684\u5b9e\u73b0\u3002\u5982\u679c\u60f3\u4f7f\u7528\u63d0\u4f9b\u7684 <code>default</code> \u5b9e\u73b0\uff0c\u4f60\u5e94\u5f53\u901a\u8fc7 <code>&lt;interface_name&gt;.super.&lt;func_name&gt;()</code> \u624b\u52a8\u6307\u5b9a\u4f7f\u7528\u54ea\u4e00\u4e2a\u63a5\u53e3\u3002</p> <pre><code>interface Inter1 {\n    default void foo() { System.out.println(\"Inter1\"); }\n}\n\ninterface Inter2 {\n    default void foo() { System.out.println(\"Inter2\"); }\n}\n\nclass Test implements Inter1, Inter2 {\n    @Override\n    public void foo() { Inter1.super.foo(); }\n}\n</code></pre> <ul> <li><code>default</code> method VS <code>abstract</code> class</li> <li>\u53ef\u80fd\u6709\u540c\u5b66\u56de\u60f3\u8d77\u4e86\u62bd\u8c61\u7c7b\u3002\u786e\u5b9e\uff0c\u8fd9\u4e24\u79cd\u673a\u5236\u90fd\u5141\u8bb8\u5177\u4f53\u5b9e\u73b0\u548c\u7eaf\u63a5\u53e3\u6df7\u5408\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u5f53\u9009\u62e9\u54ea\u4e00\u79cd\u65b9\u6848\u5462\uff1f</li> <li>\u4f18\u5148\u9009\u62e9\u4f7f\u7528<code>interface</code></li> <li>\u5982\u679c\u786e\u5b9e\u9700\u8981\u7c7b\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u5982\u9700\u8981\u6210\u5458\u57df\u3001\u6784\u9020\u5668\u3001\u5b8c\u5168\u8bbf\u95ee\u63a7\u5236\u7b49\u53ea\u6709\u7c7b\u624d\u5177\u6709\u7684\u7279\u6027\uff0c\u624d\u5e94\u8be5\u8003\u8651\u62bd\u8c61\u7c7b\u3002</li> <li>\u63a5\u53e3\u6ca1\u6709\u5355\u4e00\u7ee7\u627f\u9650\u5236\uff0c\u56e0\u6b64\u53ef\u4ee5\u63d0\u5347\u7cfb\u7edf\u6269\u5c55\u6027\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#inner-class","title":"Inner Class","text":"<p>\u9664\u4e86\u547d\u540d\u4e0a\u7684\u5d4c\u5957\u5173\u7cfb\uff0c\u5185\u90e8\u7c7b\u6700\u91cd\u8981\u7684\u4e00\u70b9\u5c31\u662f\uff0c\u5177\u6709\u5bf9\u5916\u56f4\u5bf9\u8c61\u7684\u8bbf\u95ee\u6743\uff0c\u751a\u81f3\u53ef\u4ee5\u8bbf\u95ee \u5916\u56f4\u5bf9\u8c61 \u7684<code>private</code>\u6210\u5458\u3002</p> <pre><code>public class Outer {\n    private String name = \"Outer class\";\n\n    public class Inner {\n        public String outerName () {\n            return name;\n        }\n    }\n}\n</code></pre> <p>\u5982\u679c\u51fa\u73b0\u547d\u540d\u8986\u76d6\u6216\u8005\u60f3\u660e\u786e\u4f7f\u7528\u5916\u56f4\u5bf9\u8c61\u7684\u6210\u5458\uff0c\u9700\u8981\u4f7f\u7528<code>.this</code>\u8bed\u6cd5:</p> <pre><code>public class Outer {\n    private String name = \"Outer class\";\n\n    public class Inner {\n        private String name = \"Inner class\";\n        public String outerName () {\n            return Outer.this.name;\n        }\n    }\n}\n</code></pre> <p>\u53ef\u4ee5\u5728\u5916\u90e8\u7c7b\u91cc\u76f4\u63a5\u5b9e\u4f8b\u5316\u5185\u90e8\u7c7b\u3002\u5982\u679c\u4e0d\u5728\u5916\u90e8\u7c7b\u5185\uff0c\u90a3\u4e48\u5fc5\u987b\u663e\u5f0f\u63d0\u4f9b\u5916\u56f4\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5e76\u4f7f\u7528<code>.new</code>\u8bed\u6cd5\u5b9e\u4f8b\u5316:</p> <pre><code>public class Outer {\n    public class Inner { /* ... */ }\n    public Inner innerInstance() { return new Inner(); }\n}\n\n// Outside of class Outer\nOuter outer = new Outer();\nOuter.Inner inner = outer.new Inner();\n</code></pre> <p>\u5185\u90e8\u7c7b\u63d0\u4f9b\u4e86\u9690\u85cf\u5b9e\u7ec6\u8282\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\u901a\u8fc7\u8c03\u6574\u5185\u90e8\u7c7b\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u5916\u90e8\u7cfb\u7edf\u751a\u81f3\u6709\u53ef\u80fd\u627e\u4e0d\u5230\u5177\u4f53\u63a5\u53e3\u5b9e\u73b0\u6216\u5b50\u7c7b\u7684\u5177\u4f53\u5bf9\u8c61\u3002\u8fd9\u5b8c\u5168\u963b\u6b62\u4e86\u4f9d\u8d56\u4e8e\u7c7b\u578b\u7684\u7f16\u7801\uff0c\u5b8c\u5168\u9690\u85cf\u4e86\u5b9e\u73b0\u7ec6\u8282\u3002</p> <p>\u5185\u90e8\u7c7b\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u591a\u91cd\u7ee7\u627f\u7684\u5b9e\u73b0\u65b9\u6848\u3002\u901a\u8fc7\u8fd4\u56de\u5185\u90e8\u7c7b\u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u5411\u5916\u90e8\u63d0\u4f9b\u7ee7\u627f\u81ea\u4e0d\u540c\u7236\u7c7b\u7684\u5bf9\u8c61\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5bf9\u8c61\u90fd\u53ef\u4ee5\u8bbf\u95ee\u5916\u56f4\u5bf9\u8c61\u5185\u7684\u4efb\u4f55\u6570\u636e\u548c\u65b9\u6cd5\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u60f3\u8ba9\u4e00\u4e2a\u7c7b\u540c\u65f6\u63d0\u4f9b <code>Class1</code> <code>Class2</code>  \u7684\u529f\u80fd\uff0c\u4f46\u662f\u6211\u4eec\u53c8\u4e0d\u80fd\u540c\u65f6\u7ee7\u627f\u81ea\u8fd9\u4e24\u4e2a\u7c7b\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4e3a\u6211\u4eec\u7684\u7c7b\u63d0\u4f9b\u4e24\u4e2a\u5185\u90e8\u7c7b <code>SubClass1</code> <code>SubClass2</code> \uff0c\u5206\u522b\u7ee7\u627f\u81ea\u4e24\u4e2a\u7236\u7c7b\uff0c\u5e76\u5728\u9700\u8981\u67d0\u4e2a\u7c7b\u7684\u529f\u80fd\u65f6\uff0c\u5b9e\u4f8b\u5316\u5e76\u8fd4\u56de\u5bf9\u5e94\u5185\u90e8\u7c7b\u7684\u5bf9\u8c61\u3002</p> <p>\u8fd9\u76f8\u5f53\u4e8e\u5171\u4eab\u5145\u7535\u5b9d\u7684\u4e09\u4e2a\u4e0d\u540c\u63d2\u53e3\u7684\u5145\u7535\u7ebf\uff0c\u6211\u4eec\u9700\u8981\u54ea\u4e2a\u89c4\u683c\u7684\u63d2\u53e3\uff0c\u5c31\u201c\u8c03\u7528\u5bf9\u5e94\u7684\u65b9\u6cd5\u201d\u83b7\u53d6\u5145\u7535\u7ebf\u7684\u5b9e\u4f8b\u3002</p> <pre><code>class AppleLightning { /* ... */ }\nclass UsbTypeC { /* ... */ }\nclass UsbMicroTypeB { /* ... */ }\n\npublic class PowerBank {\n    private int powerLeft;\n\n    class AppleLightningImpl extends AppleLightning { /* ... */ }\n    class UsbTypeCImpl extends UsbTypeC { /* ... */ }\n    class UsbMicroTypeBImpl extends UsbMicroTypeB { /* ... */ }\n\n    public AppleLightning lightning() { return new AppleLightningImpl(); }\n    public UsbTypeC       typeC()     { return new UsbTypeCImpl(); }\n    public UsbMicroTypeB  microB()    { return new UsbMicroTypeBImpl(); }\n}\n</code></pre>"},{"location":"languages/java/fundamental-oop/#local-inner-class","title":"Local Inner Class \u5c40\u90e8\u5185\u90e8\u7c7b","text":"<p>\u4f60\u53ef\u4ee5\u5728\u65b9\u6cd5\u5185\u90e8\u751a\u81f3\u4efb\u610f\u7684\u4f5c\u7528\u57df\u5185\u5b9a\u4e49\u7c7b\u3002</p> <pre><code>public class PowerBank {\n    private int powerLeft;\n\n    public AppleLightning lightning() { \n        class AppleLightningImpl extends AppleLightning { /* ... */ }\n\n        return new AppleLightningImpl();\n    }\n}\n</code></pre>"},{"location":"languages/java/fundamental-oop/#anonymous-inner-class","title":"Anonymous Inner Class \u533f\u540d\u5185\u90e8\u7c7b","text":"<p>\u89c2\u5bdf\u4e0b\u9762\u7684\u4f8b\u5b50:</p> <pre><code>public class PowerBank {\n    private int powerLeft;\n\n    public AppleLightning lightning() { \n        return new AppleLightning() {\n            // Implements of AppleLightningImpl\n        };\n    }\n}\n</code></pre> <p><code>new BaseClass() { /* ... */ };</code>\u521b\u5efa\u4e86\u4e00\u4e2a\u533f\u540d\u5185\u90e8\u7c7b\u7684\u5bf9\u8c61\uff0c\u8fd9\u5b9e\u9645\u4e0a\u7b49\u4ef7\u4e0e\uff08\u7c7b\u540d\u4e3a\u7f16\u8bd1\u5668\u751f\u6210\uff09:</p> <pre><code>class BaseClass$1 extends BaseClass { /* ... */ }\nnew BaseClass$1();\n</code></pre> <p>\u533f\u540d\u5185\u90e8\u7c7b\u4e0d\u5141\u8bb8\u6709\u6784\u9020\u5668\uff0c\u56e0\u4e3a\u663e\u7136\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u533f\u540d\u7c7b\u7684\u540d\u5b57\u3002\u5982\u679c\u6211\u4eec\u9700\u8981\u5bf9\u7c7b\u8fdb\u884c\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u9700\u8981\u4f7f\u7528\u5b9e\u4f8b\u521d\u59cb\u5316:</p> <pre><code>public AppleLightning lightning() { \n    return new AppleLightning() {\n        { System.out.println(\"Init AppleLightning\"); }\n    };\n}\n</code></pre> <p>\u5728\u533f\u540d\u5185\u90e8\u7c7b\u4e2d\u4f7f\u7528\u7684\u5916\u90e8\u53d8\u91cf\u5fc5\u987b\u4e3a <code>final</code> \u6216\u8005\u7b49\u6548<code>final</code>\u7684\u3002</p> <pre><code>interface Calculator { int apply(int a); }\n\nCalculator mul(int x) {\n    // x = 10; x is effectively final\n    return new Calculator() {\n        @Override int apply(int a) { return x * a; }\n    }\n}\n\nmul(5).apply(3); // == 15\n</code></pre> <p>Java \u5bf9\u533f\u540d\u5185\u90e8\u7c7b\u6240\u7528\u5916\u90e8\u53d8\u91cf\u7684 <code>final</code> \u8981\u6c42\u6e90\u81ea\u4e8e\u5185\u90e8\u7ba1\u7406\u95ed\u5305\u7684\u673a\u5236: Java\u4f1a\u5728\u521b\u5efa\u533f\u540d\u5185\u90e8\u7c7b\u65f6\uff0c\u81ea\u52a8\u5c06\u6240\u9700\u7684\u5916\u90e8\u53d8\u91cf\u62f7\u8d1d\u8fdb\u53bb\u3002\u5982\u679c\u540e\u9762\u5bf9\u5916\u90e8\u53d8\u91cf\u8fdb\u884c\u4fee\u6539\uff0c\u90a3\u4e48\u533f\u540d\u5185\u90e8\u7c7b\u4e2d\u7684\u503c\u548c\u5916\u90e8\u53d8\u91cf\u7684\u503c\u4f1a\u4e0d\u4e00\u81f4\uff0c\u51fa\u73b0\u4ee4\u4eba\u7591\u60d1\u7684\u8bed\u4e49\u95ee\u9898\u3002\u56e0\u6b64Java\u8bbe\u8ba1\u8005\u8ba9\u8fd9\u4e9b\u5916\u90e8\u53d8\u91cf\u4e3a<code>final</code>\uff0c\u4e0d\u5141\u8bb8\u4fee\u6539\u3002</p>"},{"location":"languages/java/fundamental-oop/#lambda-expression","title":"Lambda Expression","text":"<p>\u4ee5\u4e0a\u7684\u4f8b\u5b50\u4e2d\uff0c\u8bed\u6cd5\u7e41\u7410\uff08\u4e0d\u4ec5\u8981<code>new</code>\u8fd8\u5f97\u91cd\u5199\u4e00\u904d\u65b9\u6cd5\u7b7e\u540d)\u3002Java  \u6709\u5982\u4e0b\u7684\u8bed\u6cd5\u7279\u6027\uff08Lambda Expression\uff09:</p> <pre><code>Calculator mul(int x) {\n    return (int y) -&gt; x * y;\n}\n</code></pre> <p>Lambda\u8868\u8fbe\u5f0f\u7684\u53c2\u6570\u5217\u8868\u4e5f\u652f\u6301<code>var</code>\u81ea\u52a8\u63a8\u65ad:</p> <pre><code>Calculator mul(int x) {\n    return (var y) -&gt; x * y;\n}\n</code></pre> <p>Lambda\u8868\u8fbe\u5f0f\u5b9e\u9645\u4e0a\u53ef\u4ee5\u770b\u505a\u4e00\u79cd\u7279\u6b8a\u7684\u533f\u540d\u5185\u90e8\u7c7b:</p> <ul> <li>\u53ea\u5141\u8bb8\u5b9e\u73b0\u51fd\u6570\u5f0f\u63a5\u53e3\uff0c\u4e5f\u5c31\u662f\u53ea\u542b\u6709\u4e00\u4e2a\u65b9\u6cd5\u7684\u63a5\u53e3\u3002\u8fd9\u79cd\u63a5\u53e3\u53ea\u4ee3\u8868\u4e86\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u4e5f\u79f0\u4e3a\u51fd\u6570\u3002</li> <li>\u6bd4\u5982\u6211\u4eec\u7684 <code>Calculator</code> \u5c31\u53ea\u5305\u542b\u4e00\u4e2a\u65b9\u6cd5 <code>int apply(int)</code> \uff0c\u56e0\u6b64\u53ef\u6210\u4e3a\u51fd\u6570\u5f0f\u63a5\u53e3\u3002</li> </ul> <p>\u5173\u4e8eLambda\u8868\u8fbe\u5f0f\u7684\u5176\u4ed6\u7528\u6cd5\u548c\u6807\u51c6\u5e93\u652f\u6301\uff0c\u6211\u4eec\u4f1a\u5728\u9ad8\u7ea7\u8bed\u6cd5\u7279\u6027\u7ae0\u8282\u4e2d\u8be6\u7ec6\u8bb2\u89e3\u3002</p>"},{"location":"languages/java/fundamental-oop/#enum","title":"Enum \u679a\u4e3e\u7c7b","text":"<p>\u679a\u4e3e Enum\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7c7b\uff0c\u7528\u4e8e\u4e3a\u4e00\u7cfb\u5217\u76f8\u5173\u7684\u5e38\u91cf\u63d0\u4f9b\u547d\u540d\u7a7a\u95f4\u548c\u66f4\u597d\u7684\u8bed\u4e49\u3002</p> <pre><code>public enum Size { SMALL, MEDIUM, LARGE, EXTRA_LARGE }\n</code></pre> <p>\u8fd9\u7b49\u4ef7\u4e8e:</p> <pre><code>public class Size extends Enum&lt;Size&gt; {\n    public static final Size SMALL       = new Size();\n    public static final Size MEDIUM      = new Size();\n    public static final Size LARGE       = new Size();\n    public static final Size EXTRA_LARGE = new Size();\n}\n</code></pre> <p>\u679a\u4e3e\u7c7b\u4e5f\u53ef\u4ee5\u6709\u6784\u9020\u5668\uff0c\u6211\u4eec\u9700\u8981\u58f0\u660e\u679a\u4e3e\u9879\u7684\u540c\u65f6\u63d0\u4f9b\u6784\u9020\u5668\u7684\u53c2\u6570:</p> <pre><code>public enum Size {\n    SMALL(\"S\"), MEDIUM(\"M\"), LARGE(\"L\"), EXTRA_LARGE(\"XL\");\n\n    private String abbr;\n    private Size(String abbr) { this.abbr = abbr; }\n    public String getAbbr() { return abbr; }\n}\n</code></pre> <p>\u53ef\u4ee5\u50cf\u8bbf\u95ee\u7c7b\u5e38\u91cf\u4e00\u6837\u8bbf\u95ee\u679a\u4e3e\u9879: <code>var mySize = Size.LARGE;</code></p> <p><code>toString()</code>\u88ab\u5b9e\u73b0\u4e3a\u8fd4\u56de\u679a\u4e3e\u9879\u7684\u540d\u5b57:</p> <pre><code>jshell&gt; Size.SMALL.toString()\n$1 ==&gt; \"SMALL\"\n</code></pre> <p><code>ordinal()</code>\u8fd4\u56de\u679a\u4e3e\u9879\u7684\u6b21\u5e8f:</p> <pre><code>jshell&gt; Size.EXTRA_LARGE.ordinal()\n$2 ==&gt; 3\n</code></pre> <p>\u66f4\u591a\u65b9\u6cd5\u53c2\u89c1API\u6587\u6863: java.lang.Enum\u3002"},{"location":"languages/java/fundamental-oop/#recap","title":"Recap","text":"<p>\u5728\u672c\u7ae0\u8282Fundamental OOP\u4e2d\uff0c\u6211\u4eec\u5b66\u4e60\u4e86:</p> <ul> <li>\u9762\u5411\u5bf9\u8c61\u7684\u57fa\u672c\u6982\u5ff5\u3002</li> <li>\u521b\u5efa\u3001\u4f7f\u7528\u7c7b\u7684\u8bed\u6cd5\u3002</li> <li>\u91cd\u7528\u7c7b\u7684\u65b9\u6cd5: \u7ec4\u5408\u548c\u7ee7\u627f\u3002</li> <li>\u6269\u5c55\u7c7b\u7684\u65b9\u6cd5: \u63a5\u53e3\u3002</li> <li>\u4f7f\u7528\u5185\u90e8\u7c7b\u8fdb\u4e00\u6b65\u5c01\u88c5\u5b9e\u73b0\u3002</li> <li>\u4f7f\u7528\u533f\u540d\u5185\u90e8\u7c7b\u548cLambda\u8868\u8fbe\u5f0f\u521b\u5efa\u95ed\u5305\u3002</li> </ul>"},{"location":"languages/java/fundamental-oop/#_2","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>Object \u7c7b: java.lang.Object</li> <li>Enum \u7c7b: java.lang.Enum"},{"location":"languages/java/introduction-and-installation/","title":"Introduction &amp; Installation","text":""},{"location":"languages/java/introduction-and-installation/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u65e0\u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#introduction-to-java-platform","title":"Introduction to Java Platform","text":""},{"location":"languages/java/introduction-and-installation/#what-is-java","title":"What is Java","text":"<ul> <li>Java \u662f\u4e00\u95e8\u9ad8\u5c42\u6b21\uff0c\u5f3a\u7c7b\u578b\uff0c\u7f16\u8bd1\u578b\uff0c\u57fa\u4e8e\u7c7b\u7684\u9762\u5411\u5bf9\u8c61\u7684\u901a\u7528\u7f16\u7a0b\u8bed\u8a00\u3002</li> <li>Java \u4fdd\u8bc1\u4e00\u6b21\u7f16\u5199\uff0c\u5230\u5904\u8fd0\u884c (write once, run anywhere)\uff0c\u5373Java\u7f16\u8bd1\u51fa\u7684\u5b57\u8282\u7801\u6587\u4ef6\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4efb\u4f55\u7cfb\u7edf\u4e0a\u7684 Java \u8fd0\u884c\u65f6\u73af\u5883\u8fd0\u884c\u3002</li> <li>Java \u4fdd\u8bc1\u5411\u524d\u517c\u5bb9\u6027\u3002</li> <li>Java \u662f\u4e00\u95e8\u7c7b C \u8bed\u8a00\u3002</li> <li>\u4ece 1995 \u5e74\u5f00\u59cb\uff0c\u5386\u53f2\u60a0\u4e45\u7684 Java \u5e73\u53f0\u79ef\u7d2f\u4e86\u517c\u5177\u5e7f\u5ea6\u548c\u53ef\u9760\u6027\u7684\u751f\u6001\u7cfb\u7edf\u548c\u5f00\u53d1\u8005\u793e\u533a\u3002</li> <li>Java \u81f3\u4eca\u4ecd\u7136\u662f\u6700\u6d41\u884c\u3001\u6700\u77e5\u540d\u3001\u4f7f\u7528\u6700\u5e7f\u7684\u7f16\u7a0b\u8bed\u8a00\u4e4b\u4e00\u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#history-of-java","title":"History of Java","text":"<ul> <li>1991, James Gosling, C++ and Oak</li> <li>1995, Sun Microsystems and Java 1.0</li> <li>1996, Dynamic Web &amp; Java Applets</li> <li>2006, Java EE, Java SE, Java ME</li> <li>2007, Java visual machine is opened under GPL</li> <li>2009, Sunset of the Sun</li> <li>2014, Java 8 reached General Availability</li> <li>2018, Java 10 started to adopt Time-Based Release Versioning</li> <li>Today, Java 17 is current LTS, Java 18 GA, Java 19 RDP 2</li> </ul>"},{"location":"languages/java/introduction-and-installation/#why-java","title":"Why Java","text":"<ul> <li>Easy!</li> <li>Cross-Platform</li> <li>Rich and Reliable Ecosystem</li> <li>Forward evolution with backwards compatibility</li> <li>Performance</li> </ul>"},{"location":"languages/java/introduction-and-installation/#why-not-java","title":"Why NOT  Java","text":"<ul> <li>Performance ?</li> <li>\u76f8\u5bf9\u8d2b\u5f31\u7684\u8bed\u6cd5\u7279\u6027\u524a\u5f31\u4e86\u5bf9\u7a0b\u5e8f\u5458\u7684\u5438\u5f15\u529b\u3002</li> <li>JavaScript, Python \u7b49\u8bed\u8a00\u7684\u6d41\u884c\u548c\u5176\u751f\u6001\u7cfb\u7edf\u7684\u9010\u6b65\u5b8c\u5584\u3002</li> <li>Go, Rust \u7b49\u65b0\u661f\u8bed\u8a00\u7684\u6d8c\u73b0\u3002</li> <li>Kotlin, Scala, Clojure, Groovy \u7b49 JVM \u5e73\u53f0\u8bed\u8a00\u63d0\u4f9b\u4e86\u5229\u7528 Java \u751f\u6001\u7cfb\u7edf\u7684\u5176\u4ed6\u9009\u9879:</li> <li>Kotlin \u83b7\u5f97\u4e86 Google \u7684\u9752\u7750\u548c Android \u5e73\u53f0\u7684\u4f18\u5148\u652f\u6301\u3002</li> <li>Scala \u6781\u4e3a\u7075\u6d3b\u7684\u8bed\u6cd5\u548c\u5f3a\u5927\u7684\u8868\u8fbe\u80fd\u529b\u957f\u671f\u4ee5\u6765\u6536\u5230\u79d1\u5b66\u8ba1\u7b97\u9886\u57df\u548c\u5206\u5e03\u5f0f\u6570\u636e\u5904\u7406\u9886\u57df\u7684\u6b22\u8fce\u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#some-terms-of-java","title":"Some Terms of Java","text":"<ul> <li>JDK, Java Develop Kit, Java \u5f00\u53d1\u5de5\u5177\u5305</li> <li>JRE, Java Runtime Environment, Java \u8fd0\u884c\u65f6\u73af\u5883</li> <li>JVM, Java Virtual Machine, Java \u865a\u62df\u673a</li> <li>OpenJDK, \u5f00\u6e90 Java \u5e73\u53f0\u5b9e\u73b0\u7684\u5408\u4f5c\u7ec4\u7ec7</li> <li>LTS\uff0cLong Term Support, \u957f\u671f\u652f\u6301\u7248\u672c</li> <li>IDE, Integrated Development Environment, \u96c6\u6210\u5f00\u53d1\u73af\u5883</li> </ul>"},{"location":"languages/java/introduction-and-installation/#installation-of-jdk-intellij-idea","title":"Installation of JDK &amp; IntelliJ IDEA","text":""},{"location":"languages/java/introduction-and-installation/#eclipse-adoptium","title":"Eclipse Adoptium","text":"<ul> <li>Eclipse Adoptium  \u662f\u4e00\u4e2a\u63d0\u4f9b\u4e00\u5927\u5806\u5e73\u53f0\u548c\u4e00\u5927\u5806\u4e0d\u540c\u7248\u672c\u7684 JDK \u7684\u7f51\u7ad9\u3002</li> <li>OpenJDK \u987e\u540d\u601d\u4e49\uff0c\u662f\u5f00\u6e90\u7684\uff0c\u56e0\u6b64\u5f88\u591a\u516c\u53f8\u548c\u7ec4\u7ec7\u90fd\u63d0\u4f9b\u4e86\u81ea\u5df1\u7684\u6784\u5efa\u7248\u672c\u3002</li> <li>2017\u5e74\u542f\u52a8\u7684 AdoptOpenJDK \u9879\u76ee\u662f\u7b2c\u4e00\u4e2a\u63d0\u4f9b\u4e00\u5927\u5806\u5e73\u53f0\u548c\u4e00\u5927\u5806\u4e0d\u540c\u7248\u672c\u7684JDK\u7684\u7f51\u7ad9\uff0c\u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u591a\u79cd\u5e73\u53f0\u7684\u6784\u5efa\u548c\u6d4b\u8bd5\u5e73\u53f0\u3002</li> <li>Eclipse Adoptium \u662f AdoptOpenJDK \u7684\u7ee7\u4efb\u8005 \u3002</li> <li>\u5b83\u4eec\u63d0\u4f9b\u7684 OpenJDK \u5206\u53d1\u7248\u79f0\u4e3a Eclipse Temurin \u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#java-version","title":"Java Version","text":"<ul> <li>\u4f5c\u4e3a\u6700\u65b0\u7684\u957f\u671f\u652f\u6301\u7248\u672c LTS\uff0cJava 17 \u5c06\u6210\u4e3a\u672c\u6b21\u8bfe\u7a0b\u7684\u76ee\u6807\u5e73\u53f0\u3002Java \u5e73\u53f0\u4fdd\u8bc1\u524d\u5411\u517c\u5bb9\uff0c\u56e0\u6b64\u66f4\u65b0\u7248\u672c\u7684 Java \u652f\u6301\u672c\u8bfe\u7a0b\u8bb2\u7684\u7edd\u5927\u591a\u6570\u5185\u5bb9\u3002</li> <li>Java \u7684\u8bed\u6cd5\u7279\u6027\u548c\u7248\u672c\u7ed1\u5b9a\uff0c\u5927\u7248\u672c\u7684\u540e\u7eed\u66f4\u65b0\u5927\u591a\u90fd\u662f bug \u4fee\u590d\u548c\u6027\u80fd\u589e\u5f3a\u3002\u4f46\u662f Java7-9 \u7684\u53d1\u5e03\u65f6\u95f4\u5206\u522b\u662f 2011-2014-2017\uff0c\u4ee5\u591a\u5e74\u4e3a\u8de8\u5ea6\u7684\u66f4\u65b0\u4f7f Java \u8bed\u6cd5\u7279\u6027\u7684\u8fdb\u5316\u4e25\u91cd\u843d\u540e\u4e8e\u65f6\u4ee3\u3002</li> <li>\u56e0\u6b64\uff0c\u4ece [JEP 322, Java10]  \u5f00\u59cb\uff0c\u91c7\u7528\u65b0\u7684\u6839\u636e\u56fa\u5b9a\u65f6\u95f4\u7684\u65b0\u7248\u672c\u53d1\u5e03\u8ba1\u5212\u548c\u547d\u540d\u65b9\u6848\u3002Java \u5c06\u4f1a\u6bcf\u516d\u4e2a\u6708\u56fa\u5b9a\u53d1\u5e03\u65b0\u7248\u672c\uff0c\u7528\u4e8e\u5feb\u901f\u6eda\u52a8\u5f00\u53d1\u3001\u9884\u89c8\u3001\u53d1\u5e03\u65b0\u8bed\u6cd5\u7279\u6027\u548c\u4fee\u6539\u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#install-jdk-eclipse-temurin","title":"Install JDK (Eclipse Temurin)","text":"<ul> <li> <p>\u6240\u6709\u7cfb\u7edf\u901a\u7528: \u8fdb\u7f51\u7ad9\uff0c\u70b9\u4e0b\u8f7d\uff0c\u53cc\u51fb\u5b89\u88c5\u5305\u3002</p> </li> <li> <p>macOS &amp; Homebrew</p> </li> </ul> <pre><code>$ brew install --cask temurin      // Install latest JDK18\n$ brew tap homebrew/cask-versions\n$ brew install --cask temurin17\n</code></pre> <ul> <li>Linux</li> </ul> <pre><code>$ apt install temurin-17-jdk     // Debian/Ubuntu\n$ yum install temurin-17-jdk     // CentOS/RHEL/Fedora\n$ zypper install temurin-17-jdk  // openSUSE\n</code></pre> <ul> <li>\u5982\u679c Temurin \u7f51\u7ad9\u6216\u8005 Linux \u6e90\u4e0b\u8f7d\u901f\u5ea6\u8f83\u6162\uff0c\u53ef\u4ee5\u4f7f\u7528TUNA\u955c\u50cf\u3002</li> <li>Homebrew\u5982\u679c\u4e0b\u8f7d\u901f\u5ea6\u6162\uff0c\u9700\u8981\u4e3a\u5176\u8bbe\u7f6e\u4ee3\u7406\u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#other-openjdk-distribution","title":"Other OpenJDK Distribution ?","text":"<ul> <li>Azul Zulu</li> <li>BellSoft Liberica JDK</li> <li>\u4e0a\u9762\u4e24\u4e2a\u5728\u4e1a\u754c\u5747\u6709\u4e00\u5b9a\u5e94\u7528\u7387\uff0c\u53ef\u4ee5\u4fe1\u8d56\u3002</li> <li>\u5747\u63d0\u4f9b JDK8 \u5728 ARM Mac \u7684\u6784\u5efa\u7248\u672c\u3002</li> <li>\u5747\u63d0\u4f9b JavaFX \u7684\u652f\u6301\u3002</li> <li>GraalVM</li> <li>Oracle \u5f00\u53d1\u7684\u4e0b\u4e00\u4ee3 JDK \u548c\u5168\u65b0\u7684\u591a\u8bed\u8a00\u865a\u62df\u673a\u3002</li> <li>\u5c06 Java \u7f16\u8bd1\u4e3a\u672c\u5730\u4ee3\u7801\u4ee5\u6d88\u9664\u5927\u90e8\u5206\u6839\u672c\u4e0a\u7684\u6027\u80fd\u95ee\u9898\u3002</li> <li>\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684 Python, R, Ruby \u7b49\u8bed\u8a00\u7684\u8fd0\u884c\u65f6\u3002</li> </ul>"},{"location":"languages/java/introduction-and-installation/#first-command","title":"First Command","text":"<pre><code>$ java --version\nopenjdk 17.0.3 2022-04-19\nOpenJDK Runtime Environment Temurin-17.0.3+7 (build 17.0.3+7)\nOpenJDK 64-Bit Server VM Temurin-17.0.3+7 (build 17.0.3+7, mixed mode)\n</code></pre>"},{"location":"languages/java/introduction-and-installation/#codelab-0-1-helloworld","title":"CodeLab 0-1: helloworld","text":"<p>\u7b2ci\u7ae0\u7684 CodeLab \u4ee3\u7801\u4f4d\u4e8e <code>codelab/chapter&lt;i&gt;/src</code>\u3002</p> <p>\u672cCodeLab\u94fe\u63a5</p> <p><code>Helloworld.java</code></p> <pre><code>public class Helloworld {\n    public static void main(String[] args) {\n        System.out.println(\"helloworld\");\n    }\n}\n</code></pre> <pre><code>codelab/chapter0/src $ javac Helloworld.java\ncodelab/chapter0/src $ java Helloworld\nhelloworld\n</code></pre> <p>[JEP222, Java9] <code>jshell</code>: The Java Shell (Read-Eval-Print Loop)</p> <pre><code>$ jshell\njshell\n|  \u6b22\u8fce\u4f7f\u7528 JShell -- \u7248\u672c 17.0.3\n|  \u8981\u5927\u81f4\u4e86\u89e3\u8be5\u7248\u672c, \u8bf7\u952e\u5165: /help intro\n\njshell&gt; System.out.println(\"helloworld\")\nhelloworld\n</code></pre>"},{"location":"languages/java/introduction-and-installation/#jetbrains-intellij-idea","title":"JetBrains IntelliJ IDEA","text":"<ul> <li>https://www.jetbrains.com/idea/</li> <li>\u76ee\u524d\u6700\u5f3a\u5927\u3001\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684 Java IDE\u3002</li> <li>IntelliJ IDEA Community Edition \u662f\u514d\u8d39\u5f00\u6e90\u7248\u672c\uff0c\u5176\u5305\u542b\u4e86\u57fa\u7840\u7684 Java \u8bed\u8a00\u652f\u6301\u3001\u5206\u6790\u3001\u6784\u5efa\u4e0e\u7248\u672c\u7ba1\u7406\u548c Docker \u652f\u6301\u3002</li> <li>IntelliJ IDEA Ultimate \u662f\u6536\u8d39\u7248\u672c\uff0c\u652f\u6301\u6027\u80fd\u5256\u6790\uff0c\u4f01\u4e1a\u7ea7\u6846\u67b6\u652f\u6301\uff0cWeb \u6280\u672f\u652f\u6301\uff0c\u6570\u636e\u5e93\u5de5\u5177\uff0c\u8fdc\u7a0b\u534f\u4f5c\u5f00\u53d1\u652f\u6301\u3002</li> <li>\u4f7f\u7528 <code>&lt;\u4f60\u7684\u90ae\u7bb1\u7528\u6237\u540d&gt;@mails.thu.edu.cn</code> \u53ef\u4ee5\u7533\u8bf7 JetBrains \u5b66\u751f\u5305\u4ee5\u83b7\u53d6\u5168\u90e8\u5f00\u53d1\u5de5\u5177\u3002</li> </ul> <p>\u5728 IntelliJ IDEA \u4e2d\uff0c\u70b9\u51fb File-New-New Project... \u65b0\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff0c\u9879\u76ee\u540d\u4e3a <code>hello-world</code>\uff1a</p> <p></p> <p>IDEA \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a demo \u4ee3\u7801\uff0c\u4ee3\u7801\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello world!\");\n    }\n}\n</code></pre> <p>\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u7f16\u8bd1\u5e76\u8fd0\u884c\u201d\u6309\u94ae\u3002</p> <p></p> <p>\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u8f93\u51fa\uff1a<code>Hello world!</code>\uff0c\u90a3\u4e48\uff0c\u4f60\u5df2\u7ecf\u80fd\u591f\u6210\u529f\u7f16\u8bd1\u5e76\u8fd0\u884c Java \u7a0b\u5e8f\u4e86\uff01</p>"},{"location":"languages/java/introduction-and-installation/#_2","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>Eclipse Adoptium</li> <li>JEP</li> <li>JDK:</li> <li>TUNA\u955c\u50cf</li> <li>Azul Zulu</li> <li>BellSoft Liberica JDK</li> <li>GraalVM</li> <li>JetBrains IntelliJ IDEA</li> <li>\u672c\u7ae0CodeLab</li> </ul>"},{"location":"languages/javascript/","title":"JavaScript \u8bed\u8a00\u57fa\u7840","text":""},{"location":"languages/javascript/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li> <p>\u5177\u6709 C/C++ \u8bed\u8a00\u57fa\u7840\uff0c\u80fd\u591f\u7f16\u5199\u57fa\u672c\u7684 C/C++ \u4ee3\u7801</p> </li> <li> <p>\u5177\u6709\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u57fa\u7840\uff0c\u80fd\u591f\u7406\u89e3\u7c7b\u5c01\u88c5\u548c\u65b9\u6cd5\u91cd\u5199\uff08\u8bed\u8a00\u6700\u597d\u662f C++\uff09</p> </li> <li> <p>\uff08\u5982\u679c\u9700\u8981\u5b66\u4e60 JavaScript \u5f02\u6b65\uff09\u80fd\u591f\u7406\u89e3\u57fa\u672c\u7684\u591a\u7ebf\u7a0b\u548c\u5f02\u6b65\uff0c\u7406\u89e3\u5f02\u6b65\u548c\u540c\u6b65\u7684\u5dee\u522b</p> </li> <li> <p>\uff08\u5982\u679c\u9700\u8981\u5b66\u4e60 JavaScript \u5f02\u6b65\uff09\u80fd\u591f\u7406\u89e3\u6808\u548c\u961f\u5217\u4e24\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7406\u89e3\u51fd\u6570\u6808\u7684\u5de5\u4f5c\u673a\u5236</p> </li> </ul> <p>\u8fb9\u5b66\u8fb9\u505a</p> <p>\u9605\u8bfb\u8fd9\u7bc7\u6587\u6863\u7684\u65f6\u5019\uff0c\u7f16\u8005\u5efa\u8bae\u6309\u4e0b F12 \u952e\uff0c\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u63a7\u5236\u53f0\uff0c\u628a\u7f16\u8005\u63d0\u4f9b\u7684\u793a\u4f8b\u4ee3\u7801\u5728\u63a7\u5236\u53f0\u91cc\u771f\u6b63\u8fd0\u884c\u4e00\u4e0b\uff0c\u76f8\u4fe1\u4f1a\u7ed9\u5e2e\u52a9\u4f60\u66f4\u597d\u7406\u89e3 JavaScript \u8bed\u8a00\u7684\u3002</p>"},{"location":"languages/javascript/#_2","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>JavaScript \u662f\u5e94\u7528\u76f8\u5f53\u5e7f\u6cdb\u7684\u4e00\u95e8\u811a\u672c\u8bed\u8a00\uff0c\u5927\u91cf\u7684 Web \u5e94\u7528\u6216\u8005\u79fb\u52a8\u7aef\u5e94\u7528\u4f9d\u9760 JavaScript \u4ee5\u53ca\u5176\u884d\u751f\u8bed\u8a00\u5f00\u53d1\u3002\u800c\u4e14\u4f5c\u4e3a\u201c\u524d\u7aef\u4e09\u4ef6\u5957\u201d\uff08\u6307 HTML\u3001CSS \u548c JavaScript\uff09\u4e4b\u4e00\uff0c\u5b66\u4e60 JavaScript \u5bf9\u7f16\u5199\u524d\u7aef\u5de5\u7a0b\u7684\u91cd\u8981\u6027\u4e0d\u8a00\u800c\u55bb\u3002</p> <p>\u540e\u7eed\u53ef\u4ee5\u9605\u8bfb\u7684\u6587\u6863\u6709\uff1a</p> <ul> <li>TypeScript \u8bed\u8a00\u5165\u95e8 /languages/typescript</li> </ul> <p>\u53ef\u4ee5\u5e94\u7528 JavaScript \u8bed\u8a00\u76f8\u5173\u77e5\u8bc6\u7684\u8bfe\u7a0b\uff1a</p> <ul> <li>\u7a0b\u5e8f\u8bbe\u8ba1\u8bad\u7ec3</li> <li>\u8f6f\u4ef6\u5de5\u7a0b</li> </ul>"},{"location":"languages/javascript/#_3","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>\u5ed6\u96ea\u5cf0 JavaScript \u8bed\u8a00\u6559\u7a0b https://www.liaoxuefeng.com/wiki/1022910821149312</li> <li>Mozilla JavaScript \u8bed\u8a00\u6559\u7a0b https://developer.mozilla.org/zh-CN/docs/Web/JavaScript</li> <li>JSFuck \u5b98\u65b9\u7f51\u7ad9 http://www.jsfuck.com/</li> </ul>"},{"location":"languages/javascript/async/","title":"JavaScript \u7684\u5f02\u6b65","text":""},{"location":"languages/javascript/async/#javascript","title":"JavaScript \u7684\u5f02\u6b65","text":"<p>\u5f02\u6b65\u7684\u5fc5\u8981\u6027</p> <p>\u6b63\u5e38\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u90fd\u662f\u540c\u6b65\u4ee3\u7801\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ee3\u7801\u6267\u884c\u7684\u987a\u5e8f\u662f\u4ece\u4e0a\u5230\u4e0b\uff0c\u4e0a\u9762\u7684\u64cd\u4f5c\u8fd8\u6ca1\u6709\u6267\u884c\u5b8c\uff0c\u4e0b\u9762\u7684\u64cd\u4f5c\u5c31\u4e0d\u4f1a\u88ab\u6267\u884c\u5230\u3002\u4f46\u662f\u5728\u524d\u7aef\u4ee3\u7801\u4e4b\u4e2d\uff0c\u6211\u4eec\u4f1a\u7ecf\u5e38\u5411\u540e\u7aef\u6216\u8005\u7f51\u7edc\u8bf7\u6c42\u6570\u636e\uff0c\u5373\u4f7f\u73b0\u5728\u7f51\u7edc\u5df2\u7ecf\u5f88\u5feb\uff0c\u5728\u8bf7\u6c42\u6570\u636e\u91cf\u8f83\u5927\u7684\u65f6\u5019\uff0c\u8bf7\u6c42\u6570\u636e\u7684\u64cd\u4f5c\u4f9d\u7136\u4f1a\u5360\u636e\u76f8\u5f53\u957f\u7684\u65f6\u95f4\u3002\u5982\u679c\u6211\u4eec\u8fd8\u4f9d\u7136\u4f7f\u7528\u540c\u6b65\u4ee3\u7801\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfc\u81f4\u9875\u9762\u5361\u987f\uff08\u56e0\u4e3a\u8fd9\u4e2a\u65f6\u5019\u4ee3\u7801\u5361\u987f\u5728\u4e86\u8bf7\u6c42\u6570\u636e\u8fd9\u4e00\u6b65\uff09\u3002</p> <p>\u53e6\u5916\u4e00\u65b9\u9762\uff0c\u6709\u4e9b\u64cd\u4f5c\u5b8c\u5168\u53ef\u4ee5\u5728\u524d\u7aef\u8bf7\u6c42\u9875\u9762\u7684\u65f6\u5019\u5b8c\u6210\uff0c\u6bd4\u5982\u8bf4\u6e32\u67d3\u51fa\u9875\u9762\u7684\u6a21\u677f\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u6570\u636e\u5b8c\u5168\u83b7\u53d6\u4e4b\u540e\u518d\u628a\u8fd9\u4e9b\u6570\u636e\u586b\u5165\u9875\u9762\u3002</p> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u524d\u7aef\u9700\u8981\u4f7f\u7528\u5f02\u6b65\u4ee3\u7801\uff0c\u9700\u8981\u5141\u8bb8\u591a\u6bb5\u4ee3\u7801\u540c\u65f6\u6267\u884c\u800c\u975e\u4e25\u683c\u6309\u7167\u987a\u5e8f\u4e00\u6b65\u6b65\u8d70\u3002\u8fd9\u79cd\u5141\u8bb8\u591a\u6bb5\u4ee3\u7801\u540c\u65f6\u6267\u884c\u7684\u4ee3\u7801\u5c31\u662f\u5f02\u6b65\uff08\u82f1\u8bed\uff1aAsynchronous\uff09\u3002</p>"},{"location":"languages/javascript/async/#_1","title":"\u4e8b\u4ef6\u5faa\u73af\u4e0e\u6d88\u606f\u961f\u5217\u673a\u5236","text":"<p>\u9996\u5148\u6211\u4eec\u9700\u8981\u660e\u786e\uff0cJavaScript \u662f\u5355\u7ebf\u7a0b\u8bed\u8a00\uff0c\u8fd9\u4e5f\u5c31\u4ee3\u8868 JavaScript \u5e76\u4e0d\u80fd\u50cf C++ \u6216\u8005 Java \u90a3\u6837\u5b9e\u73b0\u591a\u7ebf\u7a0b\u5e76\u53d1\u7684\u5f02\u6b65\u3002</p> <p>\u4e3a\u4f55\u7981\u7528\u591a\u7ebf\u7a0b</p> <p>JavaScript \u7684\u8bbe\u8ba1\u521d\u8877\u5c31\u662f\u6d4f\u89c8\u5668\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5176\u4f5c\u7528\u5c31\u662f\u4fee\u6539\u6587\u6863\u6811\u3002\u5982\u679c JavaScript \u5141\u8bb8\u591a\u7ebf\u7a0b\uff0c\u90a3\u4e48\u5176\u5f88\u6709\u53ef\u80fd\u56e0\u4e3a\u591a\u7ebf\u7a0b\u5e76\u53d1\u4fee\u6539\u6587\u6863\u6811\u5bfc\u81f4\u51b2\u7a81\u3002</p> <p>\u4f46 JavaScript \u4f7f\u7528\u4e86\u53e6\u5916\u4e00\u79cd\u65b9\u5f0f\u5b9e\u73b0\u5f02\u6b65\uff0c\u4e5f\u5c31\u662f\u4e8b\u4ef6\u5faa\u73af\u548c\u6d88\u606f\u961f\u5217\u673a\u5236\u3002</p> <p>\u5728\u8be6\u7ec6\u53d9\u8ff0\u8fd9\u4e2a\u673a\u5236\u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u91cd\u65b0\u8ba4\u8bc6\u4e00\u4e0b\u56de\u8c03\u51fd\u6570\u3002\u5f53\u4e3b\u7ebf\u7a0b\u6d3e\u9063\u51fa\u4e00\u4e2a\u5f02\u6b65\u8fc7\u7a0b\uff0c\u6bd4\u5982\u8bf4\u89e6\u53d1\u4e86\u7f51\u7edc\u8bf7\u6c42\uff0c\u4e00\u822c\u800c\u8a00\u9700\u8981\u8bbe\u5b9a\u4e00\u4e2a\u8fd9\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u7684\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u63cf\u8ff0\u7684\uff0c\u662f\u8fd9\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u6267\u884c\u5b8c\u6bd5\u540e\u9700\u8981\u505a\u7684\u4e8b\u60c5\u3002</p> <p>\u9700\u8981\u5b9a\u4e49\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u539f\u56e0\u4e5f\u5f88\u7b80\u5355\uff0c\u4e3b\u7ebf\u7a0b\u6ca1\u6709\u529e\u6cd5\u4e86\u89e3\u5230\u5f02\u6b65\u8fc7\u7a0b\u4f55\u65f6\u624d\u80fd\u7ed3\u675f\uff0c\u751a\u81f3\u5e76\u4e0d\u6e05\u695a\u8fd9\u4e2a\u8fc7\u7a0b\u80fd\u5426\u7ed3\u675f\u3002\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3b\u7ebf\u7a0b\u5b8c\u5168\u4e0d\u80fd\u77e5\u6653\u4ec0\u4e48\u65f6\u5019\u505a\u8fd9\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u7684\u5584\u540e\u5de5\u4f5c\uff08\u6bd4\u5982\u8bf4\u4ece\u7f51\u7edc\u83b7\u53d6\u6570\u636e\u540e\uff0c\u4e3b\u7ebf\u7a0b\u5e94\u8be5\u628a\u8fd9\u4e9b\u6570\u636e\u52a0\u8f7d\u5230\u9875\u9762\u4e0a\uff09\u3002\u90a3\u4e48\u4e0d\u5982\u5b9a\u4e49\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5177\u4f53\u4ec0\u4e48\u65f6\u5019\u8c03\u7528\uff0c\u6839\u636e\u5f02\u6b65\u8fc7\u7a0b\u6765\u786e\u5b9a\u3002</p> <p>\u56de\u5230\u4e8b\u4ef6\u5faa\u73af\u548c\u6d88\u606f\u961f\u5217\u3002JavaScript \u7684\u4e3b\u7ebf\u7a0b\u4e0a\u4f1a\u6709\u4e00\u4e2a\u6b7b\u5faa\u73af\uff0c\u79f0\u4e3a\u4e8b\u4ef6\u5faa\u73af\u3002\u5176\u6267\u884c\u903b\u8f91\u4e3a\u5728\u7a7a\u95f2\u7684\u65f6\u5019\u4e0d\u65ad\u68c0\u67e5\u6d88\u606f\u961f\u5217\u662f\u5426\u6709\u6d88\u606f\uff0c\u5982\u679c\u6709\uff0c\u5219\u6267\u884c\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u7b49\u5f85\u3002\u800c\u7a7a\u95f2\u7684\u542b\u4e49\u662f\u5f53\u524d\u51fd\u6570\u6808\u7a7a\u3002</p> <p>\u800c\u9700\u8981\u5f02\u6b65\u6267\u884c\u7684\u4ee3\u7801\u5219\u4f1a\u8d1f\u8f7d\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5f53\u5f02\u6b65\u8fc7\u7a0b\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5219\u4f1a\u628a\u56de\u8c03\u51fd\u6570\u653e\u5165\u6d88\u606f\u961f\u5217\u672b\u5c3e\u3002\u5f53\u4e3b\u7ebf\u7a0b\u7a7a\u95f2\u4e14\u68c0\u6d4b\u5230\u6d88\u606f\u961f\u5217\u4e4b\u4e2d\u6709\u56de\u8c03\u51fd\u6570\u7684\u65f6\u5019\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u4f1a\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u505a\u597d\u5f02\u6b65\u8fc7\u7a0b\u7684\u5584\u540e\u5de5\u4f5c\u3002</p> <p>\u901a\u8fc7\u8fd9\u6837\u7684\u673a\u5236\uff0cJavaScript \u4f9d\u7136\u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u5bf9\u6587\u6863\u6811\u7684\u64cd\u4f5c\u4f9d\u7136\u662f\u540c\u6b65\u7684\u3001\u4e0d\u4f1a\u51fa\u73b0\u51b2\u7a81\u7684\u3002\u4f46\u4f9d\u9760\u8fd9\u4e2a\u673a\u5236\uff0cJavaScript \u5b9e\u73b0\u4e86\u5f02\u6b65\u3002</p> <p>\u5b8f\u6d88\u606f\u961f\u5217\u548c\u5fae\u6d88\u606f\u961f\u5217</p> <p>\u5b9e\u9645\u4e0a JavaScript \u7684\u6d88\u606f\u961f\u5217\u6709\u4e24\u79cd\uff0c\u5206\u4e3a\u5b8f\u6d88\u606f\u961f\u5217\u548c\u5fae\u6d88\u606f\u961f\u5217\u3002<code>setTimeout, setInterval</code> \u8fd9\u7c7b\u5f15\u53d1\u7684\u56de\u8c03\u4f1a\u653e\u5165\u5b8f\u6d88\u606f\u961f\u5217\uff0c\u800c <code>Promise</code> \u7684 <code>then</code> \u4f1a\u653e\u5165\u5fae\u6d88\u606f\u961f\u5217\u3002</p> <p>JavaScript \u7684\u4e8b\u4ef6\u5faa\u73af\u5728\u67e5\u770b\u6d88\u606f\u961f\u5217\u7684\u65f6\u5019\uff0c\u4f1a\u9996\u5148\u67e5\u770b\u5fae\u6d88\u606f\u961f\u5217\uff0c\u5982\u679c\u5b58\u5728\u56de\u8c03\u5219\u6267\u884c\u6bcf\u4e00\u4e2a\u56de\u8c03\u76f4\u5230\u5fae\u6d88\u606f\u961f\u5217\u6e05\u7a7a\u3002\u4e4b\u540e\u518d\u53bb\u67e5\u770b\u5b8f\u6d88\u606f\u961f\u5217\uff0c\u5e76\u4e14\u53ea\u6267\u884c\u961f\u5217\u7b2c\u4e00\u4e2a\u56de\u8c03\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u5f02\u6b65\u7684\u4ee3\u7801\u3002\u8fd9\u91cc\u4f1a\u7528\u5230 <code>setTimeout</code> \u51fd\u6570\uff0c\u5176\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u591a\u957f\u65f6\u95f4\u540e\u6267\u884c\u4e0a\u8ff0\u56de\u8c03\u51fd\u6570\u3002\u6bd4\u5982\u4e0b\u5217\u4ee3\u7801\uff1a</p> <pre><code>setTimeout(() =&gt; {\n    console.log(\"1s has passed!\");\n}, 1000);\n</code></pre> <p>\u8fd9\u4e2a\u4ee3\u7801\u5c06\u4f1a\u5ef6\u8fdf\u4e00\u79d2\u540e\u8f93\u51fa <code>\"1s has passed!\"</code>\u3002\u8fd9\u4e2a\u51fd\u6570\u7684\u7b49\u5f85\u8fc7\u7a0b\u4f1a\u5f02\u6b65\u4e8e\u4e3b\u7ebf\u7a0b\u6267\u884c\uff0c\u800c\u5176\u901a\u8fc7\u7b2c\u4e00\u4e2a\u53c2\u6570\u63a5\u53d7\u7684\u56de\u8c03\u5c31\u4f1a\u5728\u7b49\u5f85\u5b8c\u6bd5\u540e\u653e\u5165\u6d88\u606f\u961f\u5217\u3002\u73b0\u5728\u6211\u4eec\u5229\u7528\u8fd9\u4e2a\u51fd\u6570\u5199\u51fa\u4e00\u4e2a\u9700\u8981\u8017\u65f6\u7684\u64cd\u4f5c\uff0c\u4ee5\u6b64\u6a21\u62df\u7f51\u7edc\u8bf7\u6c42\uff1a</p> <pre><code>const fetchData = () =&gt; {\n    setTimeout(() =&gt; {\n        console.log(\"Data got!\");\n    }, 1000);\n};\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u8c03\u7528\u540e\u4f1a\u7acb\u523b\u8fd4\u56de\uff0c\u56e0\u4e3a\u5b83\u7684\u4efb\u52a1\u662f\u6d3e\u9063\u4e00\u4e2a\u5f02\u6b65\u8fc7\u7a0b\uff0c\u800c\u4e0d\u8d1f\u8d23\u7b49\u5f85\u5f02\u6b65\u7ed3\u675f\u548c\u5584\u540e\uff0c\u5584\u540e\u5de5\u4f5c\u5e94\u8be5\u5199\u5728\u56de\u8c03\u51fd\u6570\u4e4b\u4e2d\u7b49\u5f85\u4e3b\u7ebf\u7a0b\u6267\u884c\u3002</p> <p>\u5728\u7b49\u5f85\u5f02\u6b65\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u5b8c\u6210\u5176\u4ed6\u7684\u4efb\u52a1\uff1a</p> <pre><code>const fetchData = () =&gt; {\n    setTimeout(() =&gt; {\n        console.log(\"Data get!\");\n    }, 1000);\n};\n\nfetchData(); // Dispatch async task\nconsole.log(\"Rendering template...\");\nconsole.log(\"Loading local storage...\"); // Main thread doing other tasks\n</code></pre>"},{"location":"languages/javascript/async/#_2","title":"\u56de\u8c03\u51fd\u6570\u7684\u7f3a\u9677","text":"<p>\u524d\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u5728 TypeScript \u4e2d\u5e38\u5e38\u4f1a\u9762\u4e34\u5927\u91cf\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u5f80\u5f80\u662f\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u5728\u88ab\u8c03\u7528\u7684\u51fd\u6570\u4e2d\u6267\u884c\u4e00\u4e9b\u81ea\u5b9a\u4e49\u7684\u64cd\u4f5c\u3002\u8fd9\u6837\u505a\u7684\u7406\u7531\u53ef\u80fd\u5341\u5206\u591a\u6837\uff0c\u4f46\u4e00\u79cd\u5f88\u5e38\u89c1\u7684\u539f\u56e0\u662f\uff0c\u88ab\u8c03\u7528\u7684\u51fd\u6570\u672c\u53ef\u4ee5\u5c06\u6570\u636e\u8fd4\u56de\u7ed9\u8c03\u7528\u8005\u53bb\u5904\u7406\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u6570\u636e\u53ef\u80fd\u5e76\u4e0d\u4f1a\u7acb\u5373\u83b7\u53d6\u5230\u3002\u4e3a\u4e86\u4e0d\u963b\u585e\u6574\u4e2a\u7a0b\u5e8f\uff0c\u53ea\u80fd\u7531\u8c03\u7528\u8005\u5c06\u540e\u7eed\u64cd\u4f5c\u5c01\u88c5\u4e3a\u95ed\u5305\u540e\u4ea4\u7ed9\u88ab\u8c03\u7528\u51fd\u6570\uff0c\u7b49\u5230\u6570\u636e\u51c6\u5907\u597d\u65f6\uff0c\u901a\u8fc7\u8c03\u7528\u95ed\u5305\u6765\u5b8c\u6210\u540e\u7eed\u64cd\u4f5c\u3002</p> <p>\u4f8b\u5982\u5728\u8bfb\u53d6\u6587\u4ef6\u8fd9\u4e00\u573a\u666f\u4e2d\uff1a</p> <pre><code>// readFile \u662f Node.js \u5185\u7f6e\u7684\u8bfb\u53d6\u6587\u4ef6\u7684\u65b9\u6cd5\nimport { readFile } from 'fs';\n\nconst handler = (err, data) =&gt; {\n    console.log(data.toString());\n}\nreadFile('~/someFile', handler);\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u7531\u4e8e\u8bfb\u53d6\u6587\u4ef6\u9700\u8981\u65f6\u95f4\uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u4e00\u76f4\u7b49\u5f85\u8bfb\u53d6\u7ed3\u679c\uff0c\u800c\u662f\u5199\u4e86 handler \u8fd9\u4e2a\u95ed\u5305\u544a\u8bc9 readFile \u5f53\u8bfb\u53d6\u5b8c\u6210\u540e\u5e94\u8be5\u505a\u4ec0\u4e48\u3002</p> <p>\u56de\u8c03\u51fd\u6570\u4e0d\u9700\u8981\u5f15\u5165\u5f88\u591a\u7684\u5176\u4ed6\u8bed\u6cd5\u5c31\u53ef\u4ee5\u65b9\u4fbf\u5730\u4f7f\u7528\u5230\u5f02\u6b65\u4e4b\u4e2d\uff0c\u4f46\u662f\u5176\u95ee\u9898\u4e5f\u662f\u5f88\u7a81\u51fa\u7684\u3002\u56de\u8c03\u51fd\u6570\u672c\u8eab\u53ef\u8bfb\u6027\u5c31\u4e0d\u662f\u5f88\u597d\uff0c\u800c\u4e14\u4e5f\u5e76\u4e0d\u80fd\u5f88\u597d\u8d34\u5408\u6211\u4eec\u7684\u76f4\u89c2\u601d\u7ef4\u903b\u8f91\u3002\u800c\u5176\u6700\u5927\u7684\u95ee\u9898\u5c31\u662f\u53ef\u80fd\u9020\u6210\u56de\u8c03\u51fd\u6570\u8fc7\u5206\u5d4c\u5957\uff0c\u5bfc\u81f4\u4ee3\u7801\u96be\u4ee5\u7ef4\u62a4\u3002\u8fd9\u4e00\u822c\u88ab\u79f0\u4e3a\u56de\u8c03\u5730\u72f1\u3002</p> <p>\u771f\u6b63\u7684\u5f02\u6b65\u4e1a\u52a1\u903b\u8f91\u53ef\u80fd\u5e76\u4e0d\u4f1a\u5f88\u5355\u4e00\uff0c\u6bd4\u5982\u8bf4\u524d\u7aef\u8981\u4ece\u591a\u4e2a\u6570\u636e\u6e90\u52a0\u8f7d\u6570\u636e\uff0c\u4f46\u662f\u540e\u4e00\u4e2a\u6570\u636e\u7684\u52a0\u8f7d\u9700\u8981\u4f9d\u9760\u524d\u4e00\u4e2a\u6570\u636e\u7684\u7ed3\u679c\u3002\u8fd9\u6837\u5c31\u4e0d\u80fd\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u540c\u65f6\u6d3e\u9063\u591a\u4e2a\u5f02\u6b65\u8fc7\u7a0b\uff0c\u800c\u5fc5\u987b\u5728\u524d\u4e00\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u7684\u56de\u8c03\u4e4b\u4e2d\u6d3e\u9063\u4e0b\u4e00\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u3002\u8fd9\u91cc\u6211\u4eec\u4f9d\u7136\u7528 <code>setTimeout</code> \u6765\u6a21\u62df\u8017\u65f6\u64cd\u4f5c\uff1a</p> <pre><code>setTimeout(() =&gt; { // Get data #1\n    console.log(\"Data #1 get!\");\n    setTimeout(() =&gt; { // Get data #2\n        console.log(\"Data #2 get!\");\n        setTimeout(() =&gt; { // Get data #3\n            console.log(\"Data #3 get!\");\n            setTimeout(() =&gt; { // Get data #4\n                console.log(\"Data #4 get!\");\n            }, 1000);\n        }, 1000);\n    }, 1000);\n}, 1000);\n</code></pre> <p>\u8fd9\u6837\u7684\u4ee3\u7801\u5f88\u96be\u9605\u8bfb\uff0c\u4e5f\u5f88\u96be\u7ef4\u62a4\uff0c\u800c\u5b9e\u9645\u4e0a\u7684\u4e1a\u52a1\u903b\u8f91\u4e5f\u4e0d\u53ef\u80fd\u662f <code>setTimeout</code> \u8fd9\u6837\u7b80\u5355\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5904\u7406\u5f02\u6b65\u5f02\u5e38\u7684\u60c5\u51b5\uff0c\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0c\u5c31\u5e94\u5f53\u7acb\u523b\u8df3\u51fa\u5f02\u6b65\uff0c\u4ea4\u7531\u4e3b\u7ebf\u7a0b\u505a\u5f02\u5e38\u5904\u7406\u3002\u800c\u663e\u7136\uff0c\u6211\u4eec\u5f88\u96be\u7ed9\u8fd9\u6837\u7684\u4ee3\u7801\u6dfb\u52a0\u5f02\u5e38\u5904\u7406\u529f\u80fd\u3002</p>"},{"location":"languages/javascript/async/#promise","title":"<code>Promise</code> \u5bf9\u8c61","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u56de\u8c03\u51fd\u6570\u4e0d\u76f4\u89c2\u7684\u95ee\u9898\uff0c\u65b0\u7248\u672c\u7684 JavaScript \u8bbe\u7acb\u4e86 <code>Promise</code> \u5bf9\u8c61\uff0c\u53ef\u4ee5\u8bf4\u8fd9\u4e2a\u5bf9\u8c61\u5b8c\u5168\u6539\u53d8\u4e86 JavaScript \u5f02\u6b65\u4ee3\u7801\u7f16\u5199\u7684\u89c4\u8303\u3002</p> <p>\u521b\u5efa\u4e00\u4e2a <code>Promise</code> \u5bf9\u8c61\u53ef\u4ee5\u4f7f\u7528\u5176\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>new Promise((resolve, reject) =&gt; {\n    let asyncSucceeded = Math.random() &gt; 0.2;\n    setTimeout(() =&gt; {\n        if (asyncSucceeded) {\n            resolve(\"Async succeeded!\");\n        } else {\n            reject(\"Async failed!\");\n        }\n    }, 1000);\n});\n</code></pre> <p>\u5176\u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u4e24\u4e2a\u53c2\u6570\u662f\u53e6\u5916\u7684\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\u3002<code>resolve</code> \u4ee3\u8868\u5f02\u6b65\u6210\u529f\u7684\u56de\u8c03\u51fd\u6570\uff0c<code>reject</code> \u4ee3\u8868\u5f02\u6b65\u5931\u8d25\u7684\u56de\u8c03\u51fd\u6570\u3002\u800c\u6784\u9020\u51fd\u6570\u63a5\u53d7\u7684\u56de\u8c03\u51fd\u6570\u7684\u51fd\u6570\u4f53\u5219\u662f\u9700\u8981\u6267\u884c\u7684\u8017\u65f6\u64cd\u4f5c\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u53eb\u8fd9\u4e2a\u540d\u5b57\uff0c\u5b83\u7684\u6784\u9020\u51fd\u6570\u4e3a\u4ec0\u4e48\u957f\u6210\u8fd9\u6837</p> <p>Promise \u7684\u4e2d\u6587\u4e00\u822c\u662f\u201c\u627f\u8bfa\u201d\uff0c\u90a3\u5f02\u6b65\u548c\u627f\u8bfa\u7a76\u7adf\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f</p> <p>\u6211\u4eec\u6765\u8bbe\u60f3\u8fd9\u6837\u7684\u4e00\u4e2a\u60c5\u666f\u3002\u5c0f\u660e\u662f\u4e00\u4f4d\u4e94\u5e74\u7ea7\u7684\u5c0f\u5b66\u751f\uff0c\u4ed6\u7684\u5988\u5988\u4e3a\u4e86\u8ba9\u4ed6\u597d\u597d\u5b66\u4e60\uff0c\u627f\u8bfa\u5c0f\u660e\u5982\u679c\u4ed6\u671f\u672b\u8003\u8bd5\u8003\u5230 100 \u5206\uff0c\u5c31\u7ed9\u4ed6\u4e70\u65b0\u624b\u673a\u3002\u800c\u7b49\u5f85\u671f\u672b\u8003\u8bd5\u51fa\u6210\u7ee9\uff0c\u5c31\u662f\u5f02\u6b65\u8fc7\u7a0b\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u4f5c\u4e3a\u4e3b\u7ebf\u7a0b\u7684\u5c0f\u660e\u7684\u5988\u5988\u53ef\u4ee5\u53bb\u505a\u5176\u4ed6\u7684\u5de5\u4f5c\uff0c\u800c\u8d1f\u8d23\u6267\u884c\u5f02\u6b65\u8fc7\u7a0b\u7684\u5c0f\u660e\u5219\u8981\u597d\u597d\u5b66\u4e60\u3002</p> <p>\u7b49\u5230\u5f02\u6b65\u8fc7\u7a0b\u6267\u884c\u5b8c\u6bd5\uff0c\u4e5f\u5c31\u662f\u671f\u672b\u8003\u8bd5\u51fa\u6210\u7ee9\u4e86\uff0c\u5c31\u5230\u4e86\u627f\u8bfa\u5151\u73b0\u7684\u65f6\u5019\u4e86\u3002\u5c0f\u660e\u548c\u5988\u5988\u5c31\u4f1a\u6838\u5bf9\u5c0f\u660e\u7684\u5b66\u4e60\u6210\u679c\uff08\u5f02\u6b65\u8fc7\u7a0b\u7684\u6267\u884c\u72b6\u6001\uff09\uff0c\u5982\u679c\u5c0f\u660e\u8003\u5230\u4e86 100 \u5206\uff08\u5f02\u6b65\u8fc7\u7a0b\u6267\u884c\u6210\u529f\uff09\uff0c\u4f5c\u4e3a\u4e3b\u7ebf\u7a0b\u7684\u5c0f\u660e\u7684\u5988\u5988\u5c31\u4f1a\u53bb\u4e70\u65b0\u624b\u673a\u3002\u800c\u5982\u679c\u5c0f\u660e\u6ca1\u8003\u5230 100 \u5206\uff08\u5f02\u6b65\u8fc7\u7a0b\u6267\u884c\u5931\u8d25\uff09\uff0c\u5c0f\u660e\u7684\u5988\u5988\u5c31\u4e0d\u4f1a\u4e70\u65b0\u624b\u673a\u3002\u65e0\u8bba\u4e70\u4e0d\u4e70\uff0c\u4f5c\u4e3a\u4e3b\u7ebf\u7a0b\u7684\u5c0f\u660e\u7684\u5988\u5988\u90fd\u505a\u597d\u4e86\u5f02\u6b65\u8fc7\u7a0b\u7684\u5584\u540e\u5de5\u4f5c\u3002</p> <p>\u6362\u5230\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u60c5\u666f\u3002\u4e00\u4e2a\u627f\u8bfa\u8981\u6210\u7acb\uff0c\u5c31\u9700\u8981\u89c4\u5b9a\u597d\uff0c\u5f02\u6b65\u8fc7\u7a0b\u6267\u884c\u5b8c\u6bd5\uff0c\u4e3b\u7ebf\u7a0b\u9700\u8981\u505a\u4ec0\u4e48\uff0c\u5176\u5b9e\u8fd9\u5c31\u662f\u6307\u6d3e\u5f02\u6b65\u8fc7\u7a0b\u7684\u56de\u8c03\u51fd\u6570\u3002\u5728 <code>Promise</code> \u7684\u6784\u9020\u51fd\u6570\u4e4b\u4e2d\uff0c<code>resolve</code> \u5b9e\u9645\u4e0a\u5c31\u662f\u201c\u8003\u5230 100 \u5206\uff0c\u5c0f\u660e\u7684\u5988\u5988\u8981\u4e70\u65b0\u624b\u673a\u201d\uff0c<code>reject</code> \u5b9e\u9645\u4e0a\u5c31\u662f\u201c\u8003\u4e0d\u5230 100 \u5206\uff0c\u5c0f\u660e\u7684\u5988\u5988\u4e0d\u4e70\u65b0\u624b\u673a\u201d\uff0c\u51fd\u6570\u4f53\u5c31\u662f\u201c\u5c0f\u660e\u52aa\u529b\u5b66\u4e60\u201d\u3002</p> <p>\u4f46\u662f\u6784\u9020\u51fd\u6570\u4e4b\u4e2d\u867d\u7136\u6709\u4e86 <code>resolve</code> \u548c <code>reject</code>\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u4eec\u8fd8\u6ca1\u6709\u5177\u4f53\u89c4\u5b9a\u8fd9\u4e24\u4e2a\u56de\u8c03\u5230\u5e95\u662f\u5565\u3002\u800c\u6307\u5b9a\u8fd9\u4e24\u4e2a\u56de\u8c03\u9700\u8981\u8c03\u7528 <code>Promise</code> \u7684 <code>then</code> \u548c <code>catch</code> \u65b9\u6cd5\u3002\u8fd9\u4e2a\u6211\u4eec\u5728\u4e0b\u9762\u8bb2\u89e3\u3002</p> <p>\u7ed9 <code>resolve</code> \u548c <code>reject</code> \u6307\u5b9a\u5177\u4f53\u7684\u51fd\u6570\u4f53\u9700\u8981\u4f7f\u7528 <code>then</code> \u548c <code>catch</code> \u65b9\u6cd5\u3002\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u63a5\u53d7\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u4e14\u8fd4\u56de <code>Promise</code> \u5bf9\u8c61\uff1a</p> <pre><code>new Promise((resolve, reject) =&gt; {\n    let asyncSucceeded = Math.random() &gt; 0.2;\n    setTimeout(() =&gt; {\n        if (asyncSucceeded) {\n            resolve(\"Async succeeded!\");\n        } else {\n            reject(\"Async failed!\");\n        }\n    }, 1000);\n})\n    .then((res) =&gt; {\n        console.log(\"Then\");\n        console.log(res);\n    })\n    .catch((err) =&gt; {\n        console.log(\"Catch\");\n        console.log(err);\n    });\n</code></pre> <p>\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u5c31\u5728 <code>Promise</code> \u6784\u9020\u51fd\u6570\u63a5\u53d7\u7684\u56de\u8c03\u51fd\u6570\u7684\u51fd\u6570\u4f53\u4e2d\u89c4\u5b9a\u4e86\u5f02\u6b65\u8fc7\u7a0b\u7684\u5177\u4f53\u4efb\u52a1\uff0c\u5728 <code>then</code> \u548c <code>catch</code> \u65b9\u6cd5\u4e4b\u4e2d\u6307\u6d3e\u4e86\u5f02\u6b65\u8fc7\u7a0b\u7684\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u6837\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u5b8c\u6574\u5b8c\u6210\u4e86\u5f02\u6b65\u8fc7\u7a0b\u7684\u6d3e\u9063\u3002</p> <p><code>Promise</code> \u6bd4\u76f4\u63a5\u5199\u56de\u8c03\u6a21\u5f0f\u4f18\u8d8a\u7684\u5730\u65b9\u5c31\u662f\u8fd9\u79cd\u5199\u6cd5\u89e3\u51b3\u4e86\u56de\u8c03\u5730\u72f1\u3002\u6211\u4eec\u4f9d\u7136\u8003\u8651\u4f9d\u6b21\u83b7\u53d6\u591a\u6570\u636e\u6e90\u6570\u636e\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u7531\u4e8e <code>then</code> \u65b9\u6cd5\u4f9d\u7136\u8fd4\u56de <code>Promise</code> \u5bf9\u8c61\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6211\u4eec\u53ef\u4ee5\u5728 <code>then</code> \u540e\u9762\u63a5\u7740\u8c03\u7528 <code>then</code>\u3002\u800c\u4e0a\u4e00\u4e2a <code>then</code> \u4e4b\u4e2d\u7684\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4f1a\u88ab\u4f20\u5165\u4e0b\u4e00\u4e2a <code>then</code> \u4e4b\u4e2d\u7684\u56de\u8c03\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a</p> <pre><code>new Promise((resolve, reject) =&gt; {\n    // Get Data #1\n    resolve(\"Data #1\");\n})\n    .then((res) =&gt; {\n        console.log(res);\n        // Get Data #2\n        return \"Data #2\";\n    })\n    .then((res) =&gt; {\n        console.log(res);\n        // Get Data #3\n        return \"Data #3\";\n    })\n    .then(console.log)\n    .catch(console.log);\n</code></pre> <p>\u8fd9\u79cd\u5199\u6cd5\u88ab\u79f0\u4e3a <code>then</code> \u94fe\uff0c\u5176\u597d\u5904\u662f\u6bd4\u56de\u8c03\u51fd\u6570\u5199\u6cd5\u66f4\u6613\u8bfb\u4e14\u6613\u7ef4\u62a4\u3002</p> <p>\u53e6\u5916\uff0c\u5bf9\u4e8e\u591a\u4f9d\u8d56\u95ee\u9898\uff08\u9700\u8981\u591a\u4e2a\u5f02\u6b65\u5168\u90e8\u7ed3\u675f\u540e\u624d\u80fd\u6d3e\u9063\u4e0b\u4e00\u4e2a\u5f02\u6b65\uff09\uff0c<code>Promise</code> \u63d0\u4f9b\u4e86 <code>all</code> \u65b9\u6cd5\uff1a</p> <pre><code>Promise.all(\n    [1, 2, 3].map((val) =&gt; {\n        return new Promise((resolve, reject) =&gt; {\n            resolve(`Promise #${val}`);\n        });\n    })\n)\n    .then((res) =&gt; {\n        console.log(res); // [\"Promise #1\", \"Promise #2\", \"Promise #3\"]\n    })\n    .catch((err) =&gt; {});\n</code></pre> <p>\u8fd9\u91cc <code>then</code> \u4e4b\u4e2d\u7684\u56de\u8c03\u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\u662f\u6240\u6709 <code>Promise</code> \u5bf9\u8c61 <code>resolve</code> \u56de\u8c03\u6240\u63a5\u53d7\u7684\u53c2\u6570\u62fc\u6210\u7684\u6570\u7ec4\uff0c<code>catch</code> \u540c\u7406\u3002</p> <p>\u53e6\u5916\uff0c\u6ce8\u610f\u4e24\u70b9\uff1a</p> <ul> <li><code>Promise</code> \u4e00\u65e6\u521b\u5efa\uff0c\u5185\u90e8\u7684\u5f02\u6b65\u8fc7\u7a0b\u5c31\u5f00\u59cb\u6267\u884c\uff0c\u4e14\u5f00\u59cb\u6267\u884c\u540e\u5c31\u4e0d\u4f1a\u53d6\u6d88</li> <li>\u521b\u5efa <code>Promise</code> \u4f1a\u5199\u5f88\u591a\u5f88\u957f\u7684\u56de\u8c03\uff0c\u5199\u5b8c\u8fd9\u4e9b\u56de\u8c03\u540e\u5f88\u5bb9\u6613\u7ed9\u7f16\u5199\u8005\u4e00\u79cd\u201c\u5f02\u6b65\u5df2\u7ecf\u6267\u884c\u7ed3\u675f\u201d\u7684\u9519\u89c9\u3002\u5b9e\u9645\u4e0a\u8fd9\u4e48\u957f\u7684\u8bed\u53e5\u4ec5\u4ec5\u662f\u5b9a\u4e49\u4e86 <code>Promise</code> \u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u4ec5\u4ec5\u53ea\u662f\u6d3e\u9063\u4e86\u5f02\u6b65\u3002</li> </ul> <p>\u5173\u4e8e\u7b2c\u4e8c\u70b9\uff0c\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>let i = 1;\n\nnew Promise((resolve, reject) =&gt; {\n    resolve(2);\n})\n    .then((res) =&gt; {\n        i = 2;\n    })\n    .catch(console.log);\n\nconsole.log(i); // 1\n</code></pre> <p>\u8fd9\u91cc\u521b\u5efa\u5b8c <code>Promise</code> \u5bf9\u8c61\u4e4b\u540e\u7acb\u523b\u8f93\u51fa <code>i</code>\uff0c\u7531\u4e8e\u6b64\u65f6\u5f02\u6b65\u8fd8\u6ca1\u6709\u6267\u884c\u5b8c\u6bd5\uff0c\u4e5f\u5c31\u662f\u8fd8\u6ca1\u6709\u5c06 <code>i</code> \u91cd\u65b0\u8d4b\u503c\uff0c\u6240\u4ee5\u53ea\u80fd\u5f97\u5230\u539f\u5148\u503c <code>1</code>\u3002</p> <p>\u7f16\u8005\u66fe\u7ecf\u8e29\u8fc7\u7684\u5751\u4e0d\u80fd\u8ba9\u8bfb\u8005\u518d\u8e29</p> <p>\u5728\u5b9e\u9645\u5de5\u7a0b\u4e2d\uff0c\u521b\u5efa <code>Promise</code> \u5bf9\u8c61\u7684\u8bed\u53e5\u53ef\u4ee5\u6bd4\u8fd9\u4e2a\u793a\u4f8b\u957f\u5f88\u591a\uff0c\u751a\u81f3\u53ef\u4ee5\u8d85\u51fa\u4e00\u4e2a\u5c4f\u5e55\u663e\u793a\u7684\u8303\u56f4\u3002\u6b64\u65f6\u4e00\u5b9a\u8981\u4fdd\u6301\u6e05\u9192\uff0c\u8fd9\u4e48\u957f\u7684\u8bed\u53e5\uff0c\u4ec5\u4ec5\u662f\u6d3e\u9063\u4e86\u5f02\u6b65\uff0c\u4e0d\u8981\u7d27\u63a5\u7740\u540e\u9762\u4f7f\u7528\u4e00\u4e9b\u4f1a\u88ab\u5f02\u6b65\u8fc7\u7a0b\u4fee\u6539\u7684\u503c\u3002</p> <p>\u8ddf\u7740\u6211\u5ff5\uff0c\u518d\u957f\u7684\u8bed\u53e5\u4e5f\u4ec5\u4ec5\u662f\u6d3e\u9063\u4e86\u5f02\u6b65\uff0c\u518d\u957f\u7684\u8bed\u53e5\u4e5f\u4ec5\u4ec5\u662f\u6d3e\u9063\u4e86\u5f02\u6b65\uff0c\u518d\u957f\u7684\u8bed\u53e5\u4e5f\u4ec5\u4ec5\u662f\u6d3e\u9063\u4e86\u5f02\u6b65\u3002</p> <p>\u6b64\u5916\uff0c\u5b9e\u9645\u5de5\u7a0b\u4e4b\u4e2d\uff0c\u4e00\u822c\u4f1a\u8bbe\u8ba1\u4e00\u4e2a\u6807\u8bb0\u8868\u793a\u67d0\u4e2a\u5f02\u6b65\u662f\u5426\u8fd8\u5728\u6267\u884c\u3002\u8fd9\u4e2a\u6807\u8bb0\u4f1a\u5728\u521b\u5efa <code>Promise</code> \u5bf9\u8c61\u6d3e\u9063\u5f02\u6b65\u7684\u65f6\u5019\u7f6e\u771f\uff0c\u7136\u540e\u5728 <code>then</code> \u94fe\u6700\u540e\u7684\u56de\u8c03\u4e2d\u7f6e\u5047\u3002\u8fd9\u6837\u4e3b\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u6807\u8bb0\u786e\u5b9a\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u654f\u611f\u53d8\u91cf\uff08\u6bd4\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684 <code>i</code>\uff09\u3002</p> <p>\u8fd9\u79cd\u601d\u60f3\u5176\u5b9e\u7c7b\u4f3c\u4e8e\u8bfb\u5199\u9501\u7684\u601d\u60f3\u3002</p>"},{"location":"languages/javascript/async/#async-await","title":"<code>async</code> \u4e0e <code>await</code>","text":"<p>\u5728\u6700\u65b0\u6807\u51c6\u4e4b\u4e2d\uff0cJavaScript \u5f15\u5165\u4e86 <code>async, await</code> \u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\uff0c\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u7684\u4f5c\u7528\u662f\u80fd\u591f\u8ba9\u5f02\u6b65\u4ee3\u7801\u5199\u5f97\u548c\u540c\u6b65\u4ee3\u7801\u4e00\u6837\u81ea\u7136\u3002</p> <p>\u76f4\u63a5\u4f7f\u7528 <code>Promise</code> \u770b\u8d77\u6765\u6709\u4e9b\u590d\u6742\uff0c\u5c24\u5176\u662f\u5728\u94fe\u5f0f\u8c03\u7528\u65f6\uff0c\u5982\u679c\u4e2d\u95f4\u53d8\u91cf\u9700\u8981\u4fdd\u5b58\uff0c\u5199\u6cd5\u5c31\u53d8\u5f97\u4e11\u964b\uff0c\u56e0\u6b64\u5728\u66f4\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f7f\u7528 <code>async</code> / <code>await</code> \u5173\u952e\u8bcd\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u7528 <code>async</code> \u5173\u952e\u5b57\u5c06\u4e00\u4e2a\u51fd\u6570\u58f0\u660e\u4e3a\u5f02\u6b65\u51fd\u6570\u3002\u8c03\u7528\u5f02\u6b65\u51fd\u6570\u7684\u65f6\u5019\uff0c\u5176\u4f1a\u7acb\u523b\u8fd4\u56de\u5e76\u6d3e\u9063\u4e00\u4e2a\u5f02\u6b65\uff1a</p> <pre><code>const foo = async () =&gt; {\n    setTimeout(() =&gt; {\n        console.log(\"Async over!\");\n    }, 1000);\n};\n\nfoo();\nconsole.log(\"Sync code here!\");\n</code></pre> <p>\u800c <code>async</code> \u5173\u952e\u5b57\u7684\u7684\u53e6\u5916\u4e00\u4e2a\u4f5c\u7528\u5c31\u662f\u5c06\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5305\u88c5\u4e3a <code>Promise</code> \u5bf9\u8c61\uff1a</p> <pre><code>const foo = async () =&gt; {\n    setTimeout(() =&gt; {\n        console.log(\"Async over!\");\n    }, 1000);\n};\n\ntypeof foo(); // \"object\", not \"undefined\"\n</code></pre> <p>\u90a3\u4e48\u6211\u4eec\u4e5f\u53ef\u4ee5\u6309\u7167 <code>Promise</code> \u7684 <code>then</code> \u94fe\u5199\u6cd5\u4f7f\u7528\u5f02\u6b65\u51fd\u6570\uff1a</p> <pre><code>const foo = async () =&gt; {\n    return \"Data #1\";\n};\n\nfoo()\n    .then((res) =&gt; {\n        console.log(res);\n        return \"Data #2\";\n    })\n    .then(console.log)\n    .catch(console.log);\n</code></pre> <p><code>await</code> \u5173\u952e\u5b57\u540e\u9762\u53ef\u4ee5\u63a5\u4e00\u4e2a\u53d8\u91cf\uff0c\u5982\u679c\u8fd9\u4e2a\u53d8\u91cf\u4e0d\u662f <code>Promise</code> \u5bf9\u8c61\uff0c\u90a3\u4e48 <code>await</code> \u5173\u952e\u5b57\u4e0d\u4ea7\u751f\u4efb\u4f55\u6548\u679c\u3002</p> <p>\u5982\u679c\u662f <code>Promise</code> \u5bf9\u8c61\uff0c\u90a3\u4e48 <code>await</code> \u5173\u952e\u5b57\u4f1a\u963b\u585e\u4ee3\u7801\u8fd0\u884c\uff0c\u76f4\u5230\u8fd9\u4e2a <code>Promise</code> \u5bf9\u8c61\u4ee3\u8868\u7684\u5f02\u6b65\u6267\u884c\u5b8c\u6bd5\u3002</p> <p>\u5982\u679c\u5f02\u6b65\u6210\u529f\uff0c\u8fd9\u4e2a\u65f6\u5019 <code>await</code> \u8bed\u53e5\u7684\u8fd4\u56de\u503c\u662f <code>Promise</code> \u7684 <code>resolve</code> \u56de\u8c03\u63a5\u53d7\u7684\u53c2\u6570\uff0c\u65e0\u8bba\u6709\u6ca1\u6709\u901a\u8fc7 <code>then</code> \u65b9\u6cd5\u6307\u5b9a <code>resolve</code> \u56de\u8c03\u3002</p> <p>\u5982\u679c\u5f02\u6b65\u5931\u8d25\uff0c\u9996\u5148\u786e\u5b9a\u8fd9\u4e2a <code>Promise</code> \u6709\u6ca1\u6709\u901a\u8fc7 <code>catch</code> \u65b9\u6cd5\u89c4\u5b9a <code>reject</code> \u56de\u8c03\u3002\u5982\u679c\u6709\uff0c<code>await</code> \u8fd4\u56de <code>catch</code> \u4e4b\u4e2d\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u629b\u51fa Uncaught Failure \u9519\u8bef\u3002</p> <p>\u6bd4\u5982\u8bf4\uff1a</p> <pre><code>let a = await 1;\na; // 1\n\nlet b = await new Promise((resolve, reject) =&gt; {\n    let succeeded = Math.random() &gt; 0.2;\n    if (succeeded) resolve(\"Success\");\n    else reject(\"Failure\");\n})\n    .catch((err) =&gt; \"Error \" + err);\nb; // Maybe \"Success\", maybe \"Error Failure\"\n</code></pre> <p><code>async, await</code> \u5173\u952e\u5b57\u5b9e\u9645\u4e0a\u662f\u9488\u5bf9 <code>then</code> \u94fe\u53ef\u80fd\u8fc7\u957f\u5bfc\u81f4\u53ef\u8bfb\u6027\u964d\u4f4e\u7684\u95ee\u9898\u800c\u63d0\u51fa\u7684\u3002\u6211\u4eec\u73b0\u5728\u8fd8\u662f\u8003\u8651\u4f9d\u6b21\u4ece\u591a\u4e2a\u6570\u636e\u6e90\u83b7\u53d6\u6570\u636e\u7684\u95ee\u9898\uff0c\u4e8b\u5b9e\u4e0a\u901a\u8fc7 <code>async, await</code> \u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u751a\u81f3\u53ef\u4ee5\u5199\u5f97\u5f88\u50cf\u540c\u6b65\u4ee3\u7801\uff1a</p> <pre><code>const fetchData = async () =&gt; {\n    let data_1 = await fetchData_1(initData);\n    let data_2 = await fetchData_2(data_1);\n    let data_3 = await fetchData_3(data_2);\n    return [data_1, data_2, data_3];\n}\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>fetchData</code> \u7cfb\u5217\u51fd\u6570\u5747\u662f\u5f02\u6b65\u51fd\u6570\u3002</p> <p>\u53ef\u4ee5\u53d1\u73b0\u8fd9\u79cd\u5199\u6cd5\u548c\u540c\u6b65\u4ee3\u7801\u51e0\u4e4e\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\uff0c\u53ef\u8bfb\u6027\u6bd4 <code>then</code> \u94fe\u597d\u4e00\u4e9b\uff0c\u66f4\u662f\u6bd4\u56de\u8c03\u51fd\u6570\u5199\u6cd5\u597d\u5f88\u591a\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5176\u89e3\u51b3\u4e86\u4e0d\u5b9a\u957f <code>then</code> \u94fe\u7684\u95ee\u9898\u3002\u5982\u679c\u8981\u4f9d\u6b21\u62c9\u53d6\u6570\u636e\u7684\u4fe1\u606f\u6e90\u4e2a\u6570\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u800c\u662f\u901a\u8fc7\u53d8\u91cf\u6307\u5b9a\uff0c\u90a3\u4e48 <code>then</code> \u94fe\u5c31\u4e0d\u53ef\u7528\u4e86\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u77e5\u9053\u5177\u4f53\u8981\u5199\u591a\u5c11\u4e2a <code>then</code>\u3002\u4f46\u662f\u901a\u8fc7 <code>async, await</code> \u7ed3\u5408 <code>for</code> \u5faa\u73af\u5c31\u53ef\u4ee5\u89e3\u51b3\u95ee\u9898\u3002</p> <p>\u4f46\u662f <code>async, await</code> \u5e26\u6765\u7684\u4e89\u8bae\u4e5f\u4e0d\u5c0f\uff0c\u6700\u5927\u7684\u5371\u9669\u662f\u5f02\u6b65\u4f20\u67d3\u3002</p> <p><code>await</code> \u5173\u952e\u5b57\u7684\u4f7f\u7528\u6709\u4e00\u4e2a\u8981\u6c42\uff0c\u4e5f\u5c31\u662f\u5982\u679c\u5728\u51fd\u6570\u4e2d\u4f7f\u7528\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5fc5\u987b\u662f\u5f02\u6b65\u7684\u3002\u539f\u56e0\u4e5f\u662f\u597d\u7406\u89e3\u7684\uff0c\u56e0\u4e3a <code>await</code> \u4f1a\u963b\u585e\u4ee3\u7801\u8fd0\u884c\uff0c\u5982\u679c\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u963b\u585e\uff0c\u5219\u4f1a\u5bfc\u81f4\u9875\u9762\u5361\u987f\uff0c\u8fd9\u672c\u6765\u5c31\u548c\u5f02\u6b65\u7684\u521d\u8877\u77db\u76fe\u3002</p> <p>\u90a3\u4e48\u8fdb\u4e00\u6b65\uff0c\u8c03\u7528\u4e86\u8fd9\u4e2a\u51fd\u6570\u7684\u5916\u5c42\u51fd\u6570\u4e2d\u7684\u8bed\u53e5\u4e3a\u4e86\u9632\u6b62\u5f02\u6b65\u53ef\u80fd\u5e26\u6765\u7684\u654f\u611f\u53d8\u91cf\u95ee\u9898\uff08\u548c <code>Promise</code> \u95ee\u9898\u7c7b\u4f3c\uff0c\u5f02\u6b65\u51fd\u6570\u5982\u679c\u4fee\u6539\u4e86\u67d0\u4e00\u4e2a\u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5f88\u6709\u53ef\u80fd\u4e0d\u4f1a\u88ab\u53ca\u65f6\u4fee\u6539\uff09\uff0c\u5916\u5c42\u51fd\u6570\u4e5f\u5f88\u6709\u53ef\u80fd\u7ed9\u8fd9\u4e2a\u51fd\u6570\u52a0\u4e0a <code>await</code>\uff0c\u8fd9\u53c8\u4f1a\u5bfc\u81f4\u5916\u5c42\u51fd\u6570\u4e0d\u53ef\u6297\u529b\u5730\u53d8\u4e3a\u5f02\u6b65\u51fd\u6570\u3002\u8fd9\u79cd\u4f20\u67d3\u4f1a\u5bfc\u81f4\u6574\u7247\u51fd\u6570\u53d8\u4e3a\u5f02\u6b65\uff0c\u4ece\u800c\u8ba9\u903b\u8f91\u53d8\u5f97\u6df7\u4e71\u3002</p> <p>\u53e6\u5916\uff0c<code>async, await</code> \u5173\u952e\u5b57\u4f1a\u964d\u4f4e\u6211\u4eec\u5bf9\u963b\u585e\u7684\u654f\u611f\uff0c\u4ece\u800c\u7f16\u5199\u51fa\u4e0d\u5fc5\u8981\u7684\u963b\u585e\u548c\u4e32\u884c\u4ee3\u7801\u3002\u5b9e\u9645\u4e0a\uff0c<code>async, await</code> \u53ea\u662f\u8ba9\u4f9d\u6b21\u62c9\u53d6\u4fe1\u606f\u7684\u4ee3\u7801\u53d8\u5f97\u7b80\u6d01\uff0c\u5bf9\u4e8e\u672c\u5c31\u53ef\u4ee5\u591a\u5e76\u53d1\u7684\u4fe1\u606f\u62c9\u53d6\uff0c\u53cd\u800c\u4f1a\u6709\u8ba9\u6211\u4eec\u5199\u51fa\u4e0d\u5fc5\u8981\u7684\u4e32\u884c\u4ee3\u7801\u7684\u53ef\u80fd\uff0c\u4ece\u800c\u964d\u4f4e\u4ee3\u7801\u6548\u7387\uff1a</p> <pre><code>const fetchData = async () =&gt; {\n    let data_1 = await fetchData_1();\n    let data_2 = await fetchData_2();\n}\n</code></pre> <p>\u5982\u679c <code>data_1, data_2</code> \u672c\u5c31\u53ef\u4ee5\u5e76\u53d1\u83b7\u53d6\uff0c\u8fd9\u6837\u7684\u5199\u6cd5\u53cd\u800c\u4f1a\u964d\u4f4e\u6548\u7387\uff0c\u56e0\u4e3a\u8fd9\u6837\u4ee3\u7801\u7684\u5b9e\u9645\u542b\u4e49\u662f\u4e32\u884c\u5730\u83b7\u53d6\u6570\u636e\u3002\u771f\u6b63\u7684\u5199\u6cd5\u5e94\u8be5\u662f\uff1a</p> <pre><code>const fetchData = async () =&gt; {\n    let data_1_promise = fetchData_1();\n    let data_2_promise = fetchData_2();\n    let data_1 = await data_1_promise;\n    let data_2 = await data_2_promise;\n}\n</code></pre> <p>\u53ea\u6709\u5148\u83b7\u53d6\u4e24\u4e2a\u5f02\u6b65\u7684 <code>Promise</code> \u5bf9\u8c61\uff0c\u540c\u65f6\u6d3e\u9063\u51fa\u4e24\u4e2a\u5f02\u6b65\u540e\u540e\u5206\u522b <code>await</code> \u624d\u80fd\u5b9e\u73b0\u5e76\u53d1\u3002</p> <p>\u4f46\u662f <code>async, await</code> \u7684\u76ee\u7684\u672c\u6765\u5c31\u662f\u7528\u4e8e\u9690\u85cf\u6389 <code>Promise</code> \u7684\u5b58\u5728\uff0c\u5c06\u5f02\u6b65\u4ee3\u7801\u5199\u6210\u540c\u6b65\u7684\u683c\u5f0f\uff0c\u8fd9\u6837\u505a\u5176\u5b9e\u8fd8\u4e0d\u5982\u76f4\u63a5\u628a <code>Promise</code> \u5199\u51fa\u6765\u3002</p> <p>\u6b64\u5916\uff0c\u5bf9\u4e8e\u591a\u4f9d\u8d56\u95ee\u9898\uff0c<code>async, await</code> \u5173\u952e\u5b57\u5e76\u6ca1\u6709\u89e3\u51b3\uff0c\u56e0\u4e3a <code>await</code> \u4e00\u6b21\u53ea\u80fd\u7b49\u5f85\u4e00\u4e2a\u5f02\u6b65\u3002\u8fd9\u4e2a\u65f6\u5019\u8fd8\u662f\u4e0d\u53ef\u907f\u514d\u5730\u9700\u8981\u4f7f\u7528 <code>Promise</code> \u5bf9\u8c61\u3002</p> <p>\u8be5\u5982\u4f55\u5199\u597d\u5f02\u6b65\u4ee3\u7801</p> <p>\u73b0\u4ee3\u7684 JavaScript \u5df2\u7ecf\u5c06\u5f02\u6b65\u64cd\u4f5c\u5c01\u88c5\u5f97\u8db3\u591f\u6613\u7528\uff0c\u501f\u52a9 <code>Promise, async, await</code> \u5c31\u53ef\u4ee5\u5199\u51fa\u5f88\u660e\u6670\u5730\u5f02\u6b65\u4ee3\u7801\u3002</p> <p>\u4f46\u662f\u6211\u4eec\u5728\u7f16\u5199\u7684\u65f6\u5019\u4e00\u5b9a\u9700\u8981\u6ce8\u610f\u81ea\u5df1\u5199\u7684\u4e0d\u662f\u540c\u6b65\u4ee3\u7801\u800c\u662f\u5f02\u6b65\u4ee3\u7801\uff0c\u4ee5\u514d\u51fa\u73b0\u95ee\u9898\u3002\u6b64\u5916\uff0c\u5e94\u5f53\u6839\u636e\u5b9e\u9645\u5e94\u7528\u8981\u6c42\u5408\u7406\u9009\u62e9\u76f4\u63a5\u4f7f\u7528 <code>Promise</code> \u5bf9\u8c61\u8fd8\u662f <code>async, await</code> \u5173\u952e\u5b57\u3002</p> <p>\u5b9e\u9645\u4e0a\u6587\u6863\u80fd\u6559\u7ed9\u8bfb\u8005\u7684\u5f88\u6709\u9650\uff0c\u7f16\u8005\u8fd8\u662f\u5e0c\u671b\u5927\u5bb6\u591a\u53bb\u7f16\u5199\u771f\u5b9e\u7684\u5de5\u7a0b\u4ee3\u7801\u4ee5\u771f\u6b63\u638c\u63e1 JavaScript \u5f02\u6b65\u3002</p>"},{"location":"languages/javascript/browser/","title":"\u6d4f\u89c8\u5668\u4e2d\u7684 JavaScript","text":"<p>JavaScript \u6700\u521d\u8bbe\u8ba1\u7684\u76ee\u7684\u5c31\u662f\u8fd0\u884c\u5728\u6d4f\u89c8\u5668\u4e2d\u7ed9\u9759\u6001 HTML \u8d4b\u4e88\u52a8\u6001\u6548\u679c\uff0c\u800c\u5373\u4f7f\u7ecf\u5386\u4e86\u82e5\u5e72\u5e74\u4ee3\uff0c\u73b0\u5728\u7684\u6d4f\u89c8\u5668\u4e2d\u901a\u7528\u7684\u811a\u672c\u8bed\u8a00\u4f9d\u7136\u662f JavaScript\u3002</p> <p>\u5373\u4f7f\u4f60\u4f7f\u7528\u524d\u7aef\u6846\u67b6\u642d\u5efa\u7f51\u9875\u5e94\u7528\uff0c\u6211\u4eec\u4f9d\u7136\u5efa\u8bae\u4f60\u9605\u8bfb\u8fd9\u4e00\u90e8\u5206\u5185\u5bb9\u3002\u8fd9\u662f\u56e0\u4e3a\u524d\u7aef\u6846\u67b6\u6700\u7ec8\u4f9d\u7136\u662f\u5c06\u4f60\u7684\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u6d4f\u89c8\u5668\u4e2d\u7684 JavaScript \u5e76\u8fd0\u884c\uff0c\u638c\u63e1\u8fd9\u4e00\u90e8\u5206\u5185\u5bb9\u53ef\u4ee5\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u6846\u67b6\u8fd0\u4f5c\u6d41\u7a0b\u548c debug\u3002</p>"},{"location":"languages/javascript/browser/#_1","title":"\u6d4f\u89c8\u5668\u5185\u7f6e\u5bf9\u8c61","text":"<p>\u6d4f\u89c8\u5668\u5185\u7f6e\u4e86\u90e8\u5206\u5168\u5c40\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u5f80\u5f80\u4e0e\u7a97\u53e3\u3001\u5c4f\u5e55\u3001\u6d4f\u89c8\u8bb0\u5f55\u7b49\u4fe1\u606f\u6709\u5173\u3002\u7f16\u5199\u76f8\u5173 JavaScript \u4ee3\u7801\u7684\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u5bf9\u8c61\u83b7\u53d6\u76f8\u5173\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u8c03\u7528\u5bf9\u8c61\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u4e00\u4e9b\u548c\u6d4f\u89c8\u5668\u76f8\u5173\u7684\u64cd\u4f5c\u3002</p> <p><code>window</code> \u5bf9\u8c61\u662f\u6700\u5e38\u7528\u7684\u5185\u7f6e\u5168\u5c40\u53d8\u91cf\u4e4b\u4e00\u3002\u8be5\u53d8\u91cf\u7684\u4e00\u5927\u91cd\u8981\u4f5c\u7528\u662f\u5145\u5f53\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u4e5f\u5c31\u662f\u5c06\u6240\u6709\u5168\u5c40\u53d8\u91cf\u548c\u51fd\u6570\u7ed1\u5b9a\u4e3a\u5176\u5c5e\u6027\uff0c\u8fd9\u4e00\u70b9\u5728\u5148\u524d\u8bb2\u89e3 <code>this</code> \u6307\u5411\u7684\u65f6\u5019\u63d0\u5230\u8fc7\uff0c\u53c2\u89c1 JavaScript \u7684\u9762\u5411\u5bf9\u8c61 \u90e8\u5206\u7684\u201c\u5168\u5c40\u5bf9\u8c61\u201d\u6ce8\u89e3\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c<code>window</code> \u5bf9\u8c61\u6709 <code>innerHeight, innerWidth, outerHeight, outerWidth</code> \u7b49\u4e0e\u7a97\u53e3\u5c3a\u5bf8\u6709\u5173\u7684\u5c5e\u6027\uff0c\u6bd4\u5982\u4f60\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u4e2d\u8fd0\u884c\u4e0b\u8ff0\u4ee3\u7801\u83b7\u53d6\u6d4f\u89c8\u5668\u5185\u7a97\u53e3\u7684\u5bbd\u9ad8\uff1a</p> <pre><code>console.log(`Inner window size: ${window.innerWidth} x ${window.innerHeight}`);\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u6700\u5927\u5316\u6216\u62d6\u52a8\u7f29\u653e\u6d4f\u89c8\u5668\u7a97\u53e3\u540e\u518d\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\uff0c\u89c2\u5bdf\u8f93\u51fa\u7684\u6539\u53d8\u3002</p> <p><code>screen</code> \u5bf9\u8c61\u4fdd\u5b58\u7684\u5219\u662f\u5c4f\u5e55\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u5982\u5c4f\u5e55\u5bbd\u9ad8\u548c\u989c\u8272\u4f4d\u6570\u7b49\uff1a</p> <pre><code>console.log(`Screen size: ${screen.width} x ${screen.height}`);\n</code></pre> <p><code>navigator</code> \u5bf9\u8c61\u4fdd\u5b58\u4e86\u6d4f\u89c8\u5668\u76f8\u5173\u7684\u5927\u91cf\u4fe1\u606f\uff0c\u6bd4\u5982\u8bf4\u6d4f\u89c8\u5668\u540d\u79f0\u3001\u8bed\u8a00\u3001\u7248\u672c\u3001\u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b\u7b49\u7b49\uff1a</p> <pre><code>console.log(`{\n    name: ${navigator.appName},\n    version: ${navigator.appVersion},\n    language: ${navigator.language},\n    platform: ${navigator.platform},\n    userAgent: ${navigator.userAgent},\n}`);\n</code></pre> <p><code>location</code> \u5bf9\u8c61\u4fdd\u5b58\u4e86\u548c URL \u76f8\u5173\u7684\u4e00\u4e9b\u4fe1\u606f\u3002\u5047\u8bbe\u5f53\u524d\u9875\u9762\u7684 URL \u4e3a\u4e0b\u8ff0\uff0c\u5176\u5305\u542b\u4e86\u534f\u8bae\u3001\u4e3b\u673a\u540d\u3001\u7aef\u53e3\u53f7\u3001\u53c2\u6570\u7b49\u7b49\u4fe1\u606f\uff1a</p> <pre><code>https://www.test.com:8000/static/path?key=114514\n</code></pre> <p>\u6b64\u65f6 <code>location</code> \u5bf9\u8c61\u4e2d\u7684\u5404\u4e2a\u5c5e\u6027\u5b58\u50a8\u7740\u8fd9\u4e2a URL \u7684\u5404\u90e8\u5206\uff1a</p> <ul> <li><code>location.href</code> \u5b58\u50a8 URL \u672c\u8eab\u3002\u5373 <code>https://www.test.com:8000/static/path?key=114514</code></li> <li><code>location.protocol</code> \u5b58\u50a8 URL \u4f7f\u7528\u7684\u534f\u8bae\u3002\u5373 <code>https</code></li> <li><code>location.host</code> \u5b58\u50a8\u5f53\u524d\u7684\u4e3b\u673a\u540d\u3002\u5373 <code>www.host.com</code></li> <li><code>location.port</code> \u5b58\u50a8\u5f53\u524d\u4f7f\u7528\u7684\u7aef\u53e3\u3002\u5373 <code>8000</code></li> <li><code>location.pathname</code> \u5b58\u50a8\u5f53\u524d\u8bbf\u95ee\u7684\u8d44\u6e90\u8def\u5f84\u3002\u5373 <code>/static/path</code></li> <li><code>location.search</code> \u5b58\u50a8\u5f53\u524d\u4f20\u9012\u7684\u53c2\u6570\u5217\u8868\u3002\u5373 <code>?key=114514</code>\uff0c\u6ce8\u610f <code>?</code> \u5b57\u7b26\u4e5f\u5305\u542b\u5728\u5185</li> </ul> <p><code>location</code> \u5bf9\u8c61\u8fd8\u6709\u4e24\u4e2a\u5e38\u7528\u65b9\u6cd5\uff0c\u5373 <code>location.assign</code> \u548c <code>location.reload</code>\u3002\u524d\u8005\u7528\u4e8e\u5f3a\u5236\u9875\u9762\u8df3\u8f6c\uff0c\u540e\u8005\u5219\u7528\u4e8e\u5f3a\u5236\u91cd\u65b0\u8f7d\u5165\u5f53\u524d\u9875\u9762\u3002\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u5c1d\u8bd5\u5728\u63a7\u5236\u53f0\u4e2d\u8fd0\u884c\u4e0b\u8ff0\u4ee3\u7801\uff1a</p> <pre><code>location.assign(\"https://docs.net9.org\");\nlocation.reload();\n</code></pre> <p><code>document</code> \u5bf9\u8c61\u662f\u5f53\u524d\u9875\u9762\u6574\u4e2a DOM \u6811\u7684\u6839\u8282\u70b9\u3002</p> <p>\u4ec0\u4e48\u662f DOM \u6811</p> <p>HTML \u6240\u8868\u793a\u7684\u9875\u9762\u4e2d\u5404\u4e2a\u5143\u7d20\u662f\u6309\u7167\u6811\u7684\u7ed3\u6784\u5b89\u6392\u7684\uff0c\u6811\u4e0a\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u662f\u4e00\u4e2a HTML \u5143\u7d20\uff0c\u800c\u8fd9\u68f5\u6811\u5c31\u662f\u6240\u8c13\u7684 DOM \u6811\uff08\u82f1\u8bed\uff1aDocument Object Module Tree\uff09\u3002</p> <p>\u76f8\u5173\u77e5\u8bc6\u53ef\u4ee5\u53c2\u8003 HTML \u8bed\u8a00\u57fa\u7840\u3002</p> <p>\u5728\u540e\u7eed\u90e8\u5206\u6211\u4eec\u4f1a\u5177\u4f53\u4ecb\u7ecd\u8be5\u5982\u4f55\u5229\u7528\u597d <code>document</code> \u5bf9\u8c61\u6765\u67e5\u8be2\u3001\u4fee\u6539 DOM \u6811\u3002</p>"},{"location":"languages/javascript/browser/#dom","title":"DOM \u6811\u8282\u70b9\u5e38\u7528\u65b9\u6cd5","text":"<p>\u5f88\u591a\u65f6\u5019\u4f60\u4e0d\u9700\u8981\u76f4\u63a5\u64cd\u4f5c DOM \u6811</p> <p>JavaScript \u8bed\u8a00\u672c\u8eab\u5f00\u653e\u4e86\u76f8\u5f53\u591a\u4e14\u529f\u80fd\u5f3a\u52b2\u7684\u51fd\u6570\u4ee5\u64cd\u4f5c DOM \u6811\uff0c\u4f46\u662f\u5982\u679c\u5229\u7528\u4e0d\u5f53\uff0c\u5f88\u6709\u53ef\u80fd\u9020\u6210\u7f51\u9875\u5d29\u6e83\u7b49\u610f\u6599\u4e4b\u5916\u7684\u7ed3\u679c\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u4ee5\u53ca\u65b9\u4fbf\u7f16\u7a0b\u4eba\u5458\uff0c\u8bb8\u591a\u7f51\u9875\u524d\u7aef\u6846\u67b6\u5df2\u7ecf\u5c06\u5bf9 DOM \u6811\u7684\u64cd\u4f5c\u5c01\u88c5\u6210\u76f8\u5173\u7684\u51fd\u6570\u6216\u8005\u8bed\u6cd5\u3002</p> <p>\u5982\u679c\u4f60\u53ea\u9700\u8981\u5b66\u4e60\u5177\u4f53\u7684\u6846\u67b6\u4ee5\u5b8c\u6210\u7279\u5b9a\u7684\u524d\u7aef\u9879\u76ee\uff0c\u8bf7\u5c3d\u91cf\u51cf\u5c11\u5bf9 DOM \u6811\u7684\u76f4\u63a5\u64cd\u4f5c\u3002\u4f46\u662f\u4e3a\u4e86\u6784\u5efa\u5b8c\u6574\u7684 JavaScript \u903b\u8f91\u4f53\u7cfb\uff0c\u6211\u4eec\u8fd8\u662f\u5efa\u8bae\u81f3\u5c11\u4e86\u89e3\u3001\u77e5\u6653\u8fd9\u4e9b DOM \u6811\u8bed\u6cd5\u3002</p> <p>\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u6837\u4f8b</p> <p>\u5728\u5b66\u4e60\u8fd9\u4e00\u5c0f\u8282\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u70b9\u51fb\u8fdb\u5165 \u6211\u4eec\u7684\u6837\u4f8b\u7f51\u9875 \u5e76\u6309\u4e0b F12 \u6253\u5f00\u63a7\u5236\u53f0\uff0c\u5728\u63a7\u5236\u53f0\u91cc\u8fd0\u884c\u8fd9\u4e00\u8282\u63d0\u4f9b\u7684\u6837\u4f8b\u4ee3\u7801\u6765\u7406\u89e3 DOM \u6811\u64cd\u4f5c\u3002</p>"},{"location":"languages/javascript/browser/#dom_1","title":"\u67e5\u627e DOM \u8282\u70b9","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u8ff0\u5185\u7f6e\u65b9\u6cd5\u67e5\u627e\u7b26\u5408\u8981\u6c42\u7684 DOM \u8282\u70b9\uff1a</p> <ul> <li><code>document.getElementById</code>\u3002\u6839\u636e\u8282\u70b9 ID \u67e5\u627e\uff0c\u8282\u70b9 ID \u662f\u552f\u4e00\u7684\uff0c\u6545\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5177\u4f53\u7684 DOM \u8282\u70b9\u3002\u6bd4\u5982\u8bf4\uff1a</li> </ul> <pre><code>document.getElementById(\"red-block\");\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u4f1a\u8fd4\u56de\u4e00\u4e2a DOM \u5143\u7d20\uff0c\u5728\u63a7\u5236\u53f0\u91cc\u663e\u793a\u4e3a\u4e00\u4e2a HTML \u6807\u7b7e\uff0c\u9f20\u6807\u60ac\u6d6e\u4e8e\u6807\u7b7e\u4e0a\u53ef\u4ee5\u770b\u5230\u7f51\u9875\u4e0a\u5bf9\u5e94\u5143\u7d20\u9ad8\u4eae\u663e\u793a\u3002</p> <ul> <li><code>getElementsByClassName</code>\u3002\u8be5\u65b9\u6cd5\u4e3a DOM \u8282\u70b9\u5bf9\u8c61\u5185\u7f6e\u65b9\u6cd5\uff0c\u542b\u4e49\u4e3a\u5728\u4ee5\u8be5\u8282\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u5185\u67e5\u627e\u6240\u6709 <code>class</code> \u5c5e\u6027\u4e3a\u7ed9\u5b9a\u503c\u7684\u8282\u70b9\uff0c\u5176\u8fd4\u56de\u7684\u662f\u4e00\u4e2a DOM \u8282\u70b9\u7684\u5217\u8868\u3002\u6bd4\u5982\u8bf4\uff1a</li> </ul> <pre><code>document.getElementsByClassName(\"block\");\n</code></pre> <p>\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e86\u6240\u6709 <code>class</code> \u4e3a <code>square</code> \u7684 DOM \u8282\u70b9\u6784\u6210\u7684\u5217\u8868\u3002</p> <p>\u4e0a\u8ff0\u4e24\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u8054\u5408\u4f7f\u7528\uff1a</p> <pre><code>document.getElementById(\"circle-wrapper\").getElementsByClassName(\"circle\");\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u610f\u5473\u7740\u5148\u6839\u636e ID \u67e5\u627e\u5230\u4e00\u4e2a DOM \u8282\u70b9\uff0c\u518d\u5728\u5176\u5185\u90e8\u67e5\u627e\u6240\u6709 <code>class</code> \u5c5e\u6027\u4e3a <code>circle</code> \u7684\u8282\u70b9\u3002</p> <ul> <li><code>getElementsByTagName</code>\u3002\u8be5\u65b9\u6cd5\u4e3a DOM \u8282\u70b9\u5bf9\u8c61\u5185\u7f6e\u65b9\u6cd5\uff0c\u542b\u4e49\u4e3a\u5728\u4ee5\u8be5\u8282\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u5185\u67e5\u627e\u6240\u6709\u6807\u7b7e\u540d\u4e3a\u7ed9\u5b9a\u503c\u7684\u8282\u70b9\uff08\u5982 <code>&lt;p /&gt;</code> \u8282\u70b9\u7684\u6807\u7b7e\u540d\u5c31\u662f <code>'p'</code>\uff09\uff0c\u5176\u8fd4\u56de\u7684\u662f\u4e00\u4e2a DOM \u8282\u70b9\u7684\u5217\u8868\u3002\u6bd4\u5982\u8bf4\uff1a</li> </ul> <pre><code>document.getElementById(\"circle-wrapper\").getElementsByTagName(\"div\");\n</code></pre> <p>\u9664\u6b64\u4ee5\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 DOM \u8282\u70b9\u5bf9\u8c61\u5185\u7f6e\u7684 <code>querySelector</code> \u4e0e <code>querySelectorAll</code> \u65b9\u6cd5\uff0c\u5229\u7528\u9009\u62e9\u5668\u8bed\u6cd5\u6765\u8fdb\u884c\u66f4\u7cbe\u786e\u7684\u67e5\u627e\u3002</p> <p><code>querySelector</code> \u641c\u7d22\u8303\u56f4\u662f\u4ee5\u8be5 DOM \u8282\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u4e2d\u6ee1\u8db3\u9009\u62e9\u5668\u8981\u6c42\u7684\u7b2c\u4e00\u4e2a DOM \u8282\u70b9\u3002\u800c <code>querySelectorAll</code> \u4f1a\u8fd4\u56de\u5b50\u6811\u5185\u6240\u6709\u6ee1\u8db3\u9009\u62e9\u5668\u8981\u6c42\u7684 DOM \u8282\u70b9\u6784\u6210\u7684\u5217\u8868\u3002</p> <p>\u5177\u4f53\u7684\u9009\u62e9\u5668\u8bed\u6cd5\u53ef\u4ee5\u53c2\u8003 CSS \u8bed\u8a00\u57fa\u7840\u6587\u6863\u4e2d\u76f8\u5173\u90e8\u5206\u3002</p>"},{"location":"languages/javascript/browser/#dom_2","title":"\u66f4\u65b0 DOM \u6811\u8282\u70b9","text":"<p>\u8fb9\u505a\u8fb9\u5b66</p> <p>\u8fd9\u4e00\u8282\u4e2d\uff0c\u8bfb\u8005\u53ef\u4ee5\u5148\u5728\u63a7\u5236\u53f0\u4e2d\u8fd0\u884c\uff1a</p> <pre><code>let node = document.getElementById(\"test-text\");\n</code></pre> <p>\u6765\u83b7\u53d6\u6211\u4eec\u7528\u4e8e\u6f14\u793a\u7684 DOM \u8282\u70b9\u3002</p> <p>DOM \u8282\u70b9\u5bf9\u8c61\u6709\u4e00\u4e2a\u76f8\u5f53\u91cd\u8981\u7684\u5c5e\u6027\uff0c\u5373 <code>innerHTML</code>\uff0c\u5176\u503c\u5c31\u662f\u4e00\u5bf9\u95ed\u5408\u7684 HTML \u6807\u7b7e\u4e4b\u95f4\u7684\u6587\u672c\u3002\u6bd4\u5982\u8bf4\u4e0b\u8ff0 HTML \u7684 <code>&lt;p&gt;</code> \u8282\u70b9\uff1a</p> <pre><code>&lt;p&gt; The color is &lt;span style=\"color:red\"&gt; RED &lt;/span&gt; ! &lt;/p&gt;\n</code></pre> <p>\u5176 <code>innerHTML</code> \u5c5e\u6027\u503c\u5c31\u662f <code>' The color is &lt;span style=\"color:red\"&gt; RED &lt;/span&gt; ! '</code>\u3002</p> <p>\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ef\u4ee5\u968f\u610f\u8bfb\u5199\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u8fd9\u4e2a\u5c5e\u6027\u503c\u6765\u76f4\u63a5\u8c03\u6574 DOM \u8282\u70b9\u3002\u6bd4\u5982\u8bf4\u5728\u63a7\u5236\u53f0\u4e2d\u8fd0\u884c\u4e0b\u8ff0\u4ee3\u7801\uff1a</p> <pre><code>node.innerHTML = ' The color is &lt;span style=\"color:red\"&gt; RED &lt;/span&gt; ! '\n</code></pre> <p>\u5c31\u4f1a\u53d1\u73b0\u539f\u5148\u7684\u6587\u672c <code>This is a test text node.</code> \u66ff\u6362\u6210\u4e86\u6211\u4eec\u8bbe\u7f6e\u7684\u6587\u672c\u3002</p> <p>XSS \u653b\u51fb\uff08\u82f1\u6587\uff1aCross-Site Scripting\uff09</p> <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u610f\u8bc6\u5230\u4e86\uff0c\u8d4b\u7ed9 <code>innerHTML</code> \u5c5e\u6027\u7684\u5b57\u7b26\u4e32\u503c\u4e2d\u53ef\u4ee5\u5305\u62ec\u65b0\u7684 HTML \u8282\u70b9\uff0c\u8fd9\u610f\u5473\u7740\u901a\u8fc7\u7f16\u5199\u7279\u5b9a\u7684\u5b57\u7b26\u4e32\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9 DOM \u6811\u63d2\u5165\u65b0\u8282\u70b9\uff0c\u751a\u81f3\u901a\u8fc7 <code>&lt;script&gt;</code> \u6807\u7b7e\u5f15\u5165\u6076\u610f JavaScript \u4ee3\u7801\u3002</p> <p>\u8fd9\u4e5f\u5c31\u662f\u6211\u4eec\u9700\u8981\u6ce8\u610f\u7684 XSS \u653b\u51fb\u3002\u9632\u8303\u8fd9\u79cd\u653b\u51fb\u7684\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\uff0c\u4e25\u683c\u63a7\u5236 <code>innerHTML</code> \u5c5e\u6027\u7684\u8d4b\u503c\uff08\u6700\u597d\u4e0d\u624b\u52a8\u7ed9\u8fd9\u4e2a\u5c5e\u6027\u8d4b\u503c\uff0c\u5c24\u5176\u662f\u7ed9\u5176\u8d4b\u4e88\u4ece\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u5b57\u7b26\u4e32\u503c\uff09\u6216\u8005\u4f7f\u7528 <code>innerText</code> \u5c5e\u6027\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u5e38\u7528\u7684\u5c5e\u6027\u662f <code>innerText</code>\uff0c\u5176\u548c <code>innerHTML</code> \u5c5e\u6027\u57fa\u672c\u7c7b\u4f3c\uff0c\u4f46\u662f\u4e0d\u540c\u4e4b\u5904\u662f\u5176\u4f1a\u8fdb\u884c\u5b57\u7b26\u8f6c\u4e49\uff0c\u6bd4\u5982\u8bf4 <code>&lt;</code> \u5b57\u7b26\u4f1a\u8f6c\u4e49\u4e3a <code>&amp;lt;</code>\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u5b57\u7b26\u4e32\u5c31\u662f\u5b57\u7b26\u4e32\uff0c\u4e0d\u4f1a\u88ab\u89e3\u8bfb\u4e3a\u65b0 DOM \u8282\u70b9\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4fee\u6539\u8282\u70b9\u7684\u6837\u5f0f\uff0c\u53ea\u9700\u8981\u4fee\u6539\u5176 <code>style</code> \u5c5e\u6027\u5373\u53ef\u3002\u4e0d\u8fc7\u6ce8\u610f\uff0cCSS \u4e2d\u5141\u8bb8\u5c5e\u6027\u540d\u4e2d\u5305\u542b\u77ed\u5212\u7ebf <code>-</code>\uff0c\u4f46\u662f JavaScript \u4e2d\u4e0d\u5141\u8bb8\uff0c\u6240\u4ee5\u9047\u5230\u8fd9\u7c7b\u5c5e\u6027\u540d\u65f6\uff0c\u8bf7\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\u8f6c\u5199\uff1a</p> <pre><code>node.style.color = \"red\";\nnode.style.fontSize = \"20px\"; // \"font-size\" in CSS\n</code></pre>"},{"location":"languages/javascript/browser/#dom_3","title":"\u8c03\u6574 DOM \u6811\u7ed3\u6784","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 DOM \u8282\u70b9\u5bf9\u8c61\u7684 <code>appendChild</code> \u65b9\u6cd5\u6765\u4e3a\u8be5\u8282\u70b9\u589e\u6dfb\u4e00\u4e2a\u5b50\u8282\u70b9\u3002\u4e0d\u8fc7\u6ce8\u610f\uff0c\u5982\u679c\u589e\u6dfb\u7684\u5b50\u8282\u70b9\u662f\u539f\u5148 DOM \u6811\u4e0a\u5177\u6709\u7684\u8282\u70b9\uff0c\u5219\u9996\u5148\u4f1a\u5c06\u8fd9\u4e2a\u8282\u70b9\u6458\u9664\u540e\u6dfb\u52a0\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u3002</p> <p>\u5728\u63a7\u5236\u53f0\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>let wrapper = document.getElementById(\"circle-wrapper\");\nlet redCircle = document.getElementById(\"red-circle\");\nwrapper.appendChild(redCircle);\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\u4e09\u4e2a\u5706\u5f62\u8c03\u6362\u4e86\u4f4d\u7f6e\uff0c\u7ea2\u8272\u7684\u5706\u5f62\u6210\u4e3a\u4e86\u4f4d\u4e8e\u6700\u5e95\u90e8\u7684\u5706\u5f62\u3002</p> <p>\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0 <code>appendChild</code> \u65b9\u6cd5\u6c38\u8fdc\u5c06\u8be5\u8282\u70b9\u63d2\u5165\u4e3a\u6307\u5b9a\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u5177\u4f53\u6307\u5b9a\u63d2\u5165\u4f4d\u7f6e\uff0c\u5c31\u9700\u8981\u4f7f\u7528 <code>insertBefore</code> \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u9700\u8981\u6307\u5b9a\u8282\u70b9\u7684\u4e00\u4e2a\u5b50\u8282\u70b9\u4f5c\u4e3a\u53c2\u8003\u5b50\u8282\u70b9\uff1a</p> <pre><code>let wrapper = document.getElementById(\"circle-wrapper\");\nlet redCircle = document.getElementById(\"red-circle\");\nlet blueCircle = document.getElementById(\"blue-circle\");\nwrapper.insertBefore(redCircle, blueCircle); // The 2nd param is the reference node\n</code></pre> <p>\u8fd9\u6837\uff0c\u7ea2\u8272\u7684\u5706\u5f62\u5c31\u63d2\u5165\u5728\u84dd\u8272\u7684\u5706\u5f62\u4e4b\u524d\u3002</p> <p>\u6709\u65f6\u6211\u4eec\u9700\u8981\u7ed9 DOM \u6811\u589e\u6dfb\u8282\u70b9\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u4f7f\u7528 <code>document.createElement</code> \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u80fd\u521b\u9020\u4e00\u4e2a\u6307\u5b9a\u7c7b\u578b\u7684 DOM \u6811\u8282\u70b9\u3002\u968f\u540e\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u5176\u5404\u79cd\u5c5e\u6027\u503c\uff0c\u6700\u540e\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd\u63d2\u5165\u65b9\u6cd5\u5c06\u8fd9\u4e2a\u65b0\u8282\u70b9\u63d2\u5165\u5230 DOM \u6811\u4e2d\u3002</p> <pre><code>let purpleCircle = document.createElement(\"div\");\npurpleCircle.id = \"purple-circle\";\npurpleCircle.className = \"circle\";\npurpleCircle.style.backgroundColor = \"purple\";\n\nlet wrapper = document.getElementById(\"circle-wrapper\");\nwrapper.appendChild(purpleCircle);\n</code></pre> <p>\u5220\u9664\u67d0\u4e00\u4e2a\u8282\u70b9\u5219\u8f83\u4e3a\u7b80\u5355\uff0c\u6211\u4eec\u53ea\u9700\u8981\u83b7\u53d6\u9700\u8981\u5220\u9664\u7684\u8282\u70b9\u7684\u5f15\u7528\u4ee5\u53ca\u5176\u7236\u8282\u70b9\u7684\u5f15\u7528\uff0c\u7136\u540e\u5728\u7236\u7ed3\u70b9\u4e0a\u8c03\u7528 <code>removeChild</code> \u65b9\u6cd5\u5373\u53ef\u5220\u9664\u3002\u53c2\u8003\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>let wrapper = document.getElementById(\"circle-wrapper\");\nlet redCircle = document.getElementById(\"red-circle\");\nlet removedCircle = wrapper.removeChild(redCircle);\n\nconsole.log(redCircle === removedCircle); // true\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c<code>removedChild</code> \u65b9\u6cd5\u5177\u6709\u8fd4\u56de\u503c\uff0c\u5176\u8fd4\u56de\u503c\u662f\u5220\u9664\u6389\u7684\u8282\u70b9\u7684\u5f15\u7528\u3002</p>"},{"location":"languages/javascript/browser/#jquery","title":"jQuery","text":"<p>\u4f60\u6216\u8bb8\u542c\u95fb\u8fc7 jQuery \u8fd9\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u5176\u5982\u6b64\u6d41\u884c\u7684\u539f\u56e0\u662f\u5176\u7b80\u5316\u4e86 JavaScript \u8bed\u8a00\u64cd\u4f5c DOM \u6811\u3001\u4fee\u6539 CSS \u7684\u8bed\u6cd5\uff0c\u5e76\u4e14\u6d88\u9664\u6d4f\u89c8\u5668\u5dee\u5f02\uff0c\u53ef\u4ee5\u5c06\u7edf\u4e00\u7684\u8bed\u6cd5\u8fd0\u7528\u4e8e\u4efb\u4f55\u4e00\u4e2a\u4e3b\u6d41\u6d4f\u89c8\u5668\u3002</p> <p>Web \u524d\u7aef\u7684\u66f4\u65b0\u6362\u4ee3</p> <p>\u6700\u521d\u7684\u524d\u7aef\u662f\u6ca1\u6709 jQuery \u7684\uff0c\u6240\u4ee5\u90fd\u9700\u8981\u4f7f\u7528 <code>getElementById</code> \u7b49 DOM \u8282\u70b9\u5185\u7f6e\u65b9\u6cd5\u6765\u5b8c\u6210 DOM \u6811\u64cd\u4f5c\u3002\u800c\u968f\u540e\uff0cjQuery \u51fa\u73b0\uff0c\u8fd9\u79cd\u8de8\u6d4f\u89c8\u5668\u4e14\u8bed\u6cd5\u7b80\u6d01\u7684\u7b2c\u4e09\u65b9\u5e93\u7acb\u523b\u5f97\u5230\u4e86\u5e7f\u6cdb\u8fd0\u7528\u3002</p> <p>\u4f46\u662f\u8fd1\u5e74\u6765\u968f\u7740\u524d\u7aef\u6846\u67b6\u6d41\u884c\uff0c\u7f16\u5199\u88f8 JavaScript \u7684\u673a\u4f1a\u8d8a\u6765\u8d8a\u5c11\uff0c\u4fee\u6539 DOM \u6811\u7b49\u64cd\u4f5c\u4e5f\u5728\u524d\u7aef\u6846\u67b6\u5185\u88ab\u5c01\u88c5\u4e3a\u5404\u79cd\u6846\u67b6\u65b9\u6cd5\uff0cjQuery \u4e5f\u6e10\u6e10\u6de1\u51fa\u3002\u4f46\u662f\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c\u6211\u4eec\u73b0\u5728\u8fd8\u662f\u80fd\u770b\u5230\u5927\u91cf\u7684\u9700\u8981\u624b\u5199\u88f8 JavaScript \u7684\u524d\u7aef\uff0c\u8fd9\u4e9b\u524d\u7aef\u5f80\u5f80\u5e94\u7528\u4e86 jQuery\u3002\u6240\u4ee5\uff0c\u5b66\u4e60 jQuery \u7684\u57fa\u7840\u77e5\u8bc6\u8fd8\u662f\u6709\u4e00\u5b9a\u7684\u5fc5\u8981\u3002</p> <p>\u6211\u4eec\u63d0\u4f9b\u7684 \u6837\u4f8b\u7f51\u9875 \u5df2\u7ecf\u4e3a\u4f60\u5f15\u7528\u4e86 jQuery\uff0c\u53ef\u4ee5\u8fd0\u884c\u4e0b\u8ff0\u4ee3\u7801\u6765\u786e\u5b9a\u662f\u5426\u5f15\u7528\u6210\u529f\uff1a</p> <pre><code>console.log($.fn.jquery); // 2.1.4\n</code></pre> <p>\u8fd9\u91cc <code>$</code> \u5c31\u662f jQuery \u7684\u5168\u5c40\u5c01\u88c5\u5bf9\u8c61\uff0c\u5176\u63d0\u4f9b\u7684\u6240\u6709\u529f\u80fd\u5168\u90fd\u662f <code>$</code> \u7684\u6210\u5458\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p>"},{"location":"languages/javascript/browser/#_2","title":"\u9009\u62e9\u5668","text":"<p>\u5177\u4f53\u7684\u9009\u62e9\u5668\u8bed\u6cd5\u53ef\u4ee5\u53c2\u8003 CSS \u8bed\u8a00\u57fa\u7840\u6587\u6863\u4e2d\u76f8\u5173\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728 jQuery \u4e2d\u4f7f\u7528\u9009\u62e9\u5668\u8bed\u6cd5\u6765\u83b7\u53d6 DOM \u6811\u8282\u70b9\uff0c\u6ce8\u610f\u901a\u8fc7\u4e0b\u8ff0\u65b9\u6cd5\u83b7\u53d6\u7684\u662f\u4e00\u4e2a DOM \u6811\u8282\u70b9\u7684\u5217\u8868\uff0c\u5982\u679c\u6ca1\u6709\u7b26\u5408\u9009\u62e9\u5668\u8981\u6c42\u7684\u8282\u70b9\u5219\u8fd4\u56de\u7a7a\u5217\u8868\u3002\u5982\uff1a</p> <pre><code>let wrapper = $(\"#circle-wrapper\"); // Find nodes with 'id=circle-wrapper'\nconsole.log(wrapper.length); // 1\nconsole.log(wrapper[0]);\n</code></pre> <p>\u9664\u4e86\u6309\u7167 ID \u67e5\u627e\uff0c\u4e0b\u9762\u8fd8\u4e3e\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u9009\u62e9\u5668\uff1a</p> <pre><code>let circles = $(\".circle\"); // Find nodes with 'class=circle'\nconsole.log(circles);\n\nlet divs = $(\"div\"); // Find nodes which are &lt;div&gt;\nconsole.log(divs);\n</code></pre> <p>\u53ef\u4ee5\u6ce8\u610f\u5230\u8fd9\u91cc\u8f93\u51fa\u7684\u5217\u8868\u5e76\u4e0d\u662f\u6211\u4eec\u4e4b\u524d\u89c1\u8fc7\u7684 DOM \u6811\u8282\u70b9\u3002\u5b9e\u9645\u4e0a\uff0c\u5176\u8fd4\u56de\u7684\u662f\u5305\u88c5\u8fc7\u4e00\u5c42\u7684 jQuery \u5bf9\u8c61\u3002\u5982\u679c\u9700\u8981\u5f97\u5230\u6700\u57fa\u672c\u7684 DOM \u6811\u8282\u70b9\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u6807\u8fd0\u7b97\u7b26 <code>[]</code> \u53d6\u51fa\u5177\u4f53\u7684\u5143\u7d20\u6216\u8005\u4f7f\u7528 <code>.get()</code> \u65b9\u6cd5\u3002</p> <pre><code>let circles = $(\".circle\"); // Find nodes with 'class=circle'\nconsole.log(circles);\nconsole.log(circles[0]);\nconsole.log(circles.get(0));\n</code></pre>"},{"location":"languages/javascript/browser/#dom_4","title":"\u4fee\u6539 DOM \u6811","text":"<p>\u5728\u83b7\u53d6\u5230 DOM \u6811\u8282\u70b9\u540e\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u8fd9\u4e2a\u8282\u70b9\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>.text()</code> \u6216\u8005 <code>.html()</code> \u65b9\u6cd5\u3002\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7684\u5171\u540c\u70b9\u662f\u5982\u679c\u65e0\u53c2\u6570\u8c03\u7528\uff0c\u5219\u662f\u83b7\u53d6\u8fd9\u4e2a\u8282\u70b9\u7684\u5185\u5bb9\u3002\u5982\u679c\u6709\u53c2\u6570\u8c03\u7528\uff0c\u5219\u662f\u5c06\u8282\u70b9\u7684\u5185\u5bb9\u4fee\u6539\u4e3a\u4f20\u5165\u7684\u53c2\u6570\u3002</p> <p><code>.text()</code> \u4e0e <code>.html()</code> \u5206\u522b\u5bf9\u5e94\u7740 <code>innerText</code> \u548c <code>innerHTML</code> \u5c5e\u6027\u3002</p> <pre><code>$(\"#test-text\").text(); // \"This is a test text node.\"\n$(\"#test-text\").text(\"Hello world!\");\n</code></pre> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4fee\u6539\u67d0\u4e2a\u8282\u70b9\u7684 CSS\uff1a</p> <pre><code>$(\"#red-circle\").css(\"background-color\", \"black\");\n</code></pre> <p><code>.css()</code> \u4e0d\u80fd\u5b8c\u5168\u65e0\u53c2\u8c03\u7528\uff0c\u81f3\u5c11\u9700\u8981\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e2d\u4f20\u9012 CSS \u5c5e\u6027\u540d\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u4f20\u5165\uff0c\u5219\u8868\u793a\u83b7\u53d6\u8fd9\u4e2a\u8282\u70b9\u67d0\u4e2a CSS \u5c5e\u6027\u7684\u503c\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8868\u793a\u5220\u53bb\u8fd9\u4e2a CSS \u5c5e\u6027\u3002</p> <pre><code>$(\"#red-circle\").css(\"background-color\"); // \"rgb(255, 0, 0)\"\n</code></pre> <p>\u6211\u4eec\u4e4b\u524d\u63d0\u8fc7\uff0c\u4f7f\u7528\u9009\u62e9\u5668\u83b7\u53d6\u7684\u662f DOM \u6811\u8282\u70b9\u7684\u5217\u8868\u800c\u975e\u5355\u4e2a\u8282\u70b9\u3002\u6240\u4ee5\u5982\u679c\u5728\u542b\u6709\u591a\u4e2a DOM \u6811\u8282\u70b9\u7684 jQuery \u5bf9\u8c61\u4e0a\u4f7f\u7528 <code>.text()</code> \u7b49\u65b9\u6cd5\u4fee\u6539\u5185\u5bb9\uff0c\u8be5\u4fee\u6539\u4f1a\u5bf9\u8fd9\u4e2a\u5217\u8868\u5185\u6240\u6709\u7684 DOM \u6811\u8282\u70b9\u751f\u6548\u3002</p> <p>\u6bd4\u5982\u6211\u60f3\u628a\u4e09\u4e2a\u5706\u90fd\u53d8\u4e3a\u9ed1\u8272\uff0c\u5c31\u53ef\u4ee5\uff1a</p> <pre><code>$(\".circle\").css(\"background-color\", \"black\");\n</code></pre> <p>\u9664\u53bb <code>.text()</code>\u3001<code>.html()</code> \u4ee5\u53ca <code>.css()</code>\uff0c\u83b7\u53d6\u5176\u4f59\u7684 HTML \u6807\u7b7e\u5c5e\u6027\u53ef\u4ee5\u4f7f\u7528 <code>.attr()</code>\uff0c\u8fd9\u91cc\u53ef\u4ee5\u53c2\u8003 \u5ed6\u96ea\u5cf0\u7684\u6559\u7a0b\u3002</p> <p>\u589e\u6dfb\u548c\u5220\u9664\u8282\u70b9\u4e5f\u662f\u7b80\u5355\u7684\u3002\u589e\u6dfb\u8282\u70b9\u53ea\u9700\u8981\u5bf9\u7236\u8282\u70b9\u8c03\u7528 <code>.append()</code> \u65b9\u6cd5\uff0c\u5220\u9664\u5219\u662f\u5bf9\u8981\u5220\u9664\u7684\u8282\u70b9\u8c03\u7528 <code>.remove()</code> \u65b9\u6cd5\uff1a</p> <pre><code>$(\"#circle-wrapper\").append($(\"#red-circle\"));\n$(\"#red-circle\").remove();\n</code></pre> <p>\u8981\u5728\u6307\u5b9a\u8282\u70b9\u7684\u524d\u9762\u6216\u540e\u9762\u589e\u6dfb\u5144\u5f1f\u8282\u70b9\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 <code>.after()</code> \u6216\u8005 <code>.before()</code> \u65b9\u6cd5\uff1a</p> <pre><code>$(\"#red-circle\").after(\n    $(document.createElement(\"div\"))\n        .attr(\"class\", \"circle\")\n        .css(\"background-color\", \"purple\")\n)\n</code></pre> <p>\u53ef\u4ee5\u6ce8\u610f\u5230\u8fd9\u91cc\u5c06\u4e00\u4e2a DOM \u6811\u8282\u70b9\u5bf9\u8c61\u4f20\u5165\u4e86 <code>$()</code> \u4e4b\u4e2d\uff0c\u5176\u4f5c\u7528\u662f\u5c06 DOM \u6811\u8282\u70b9\u5305\u88c5\u4e3a jQuery \u5bf9\u8c61\u4ee5\u4f7f\u7528 <code>.attr()</code> \u7b49\u65b9\u6cd5\u3002</p>"},{"location":"languages/javascript/browser/#_3","title":"\u4e8b\u4ef6","text":"<p>\u6211\u4eec\u73b0\u5728\u8003\u8651\u7f51\u9875\u5982\u4f55\u4e0e\u7528\u6237\u4ea4\u4e92\uff0c\u4e5f\u5c31\u662f\u8bf4\u7528\u6237\u662f\u5982\u4f55\u89e6\u53d1\u63cf\u8ff0\u4ea4\u4e92\u884c\u4e3a\u7684 JavaScript \u7684\u3002\u8fd9\u91cc\uff0c\u5c31\u9700\u8981\u5f15\u5165\u4e8b\u4ef6\u8fd9\u4e2a\u6982\u5ff5\u3002</p> <p>\u7528\u6237\u70b9\u51fb\u67d0\u4e00\u4e2a HTML \u7ec4\u4ef6\u6216\u8005\u5728\u6587\u672c\u6846\u4e2d\u8f93\u5165\u3001\u6587\u6863\u6811\u52a0\u8f7d\u7b49\u884c\u4e3a\u90fd\u53ef\u4ee5\u662f\u4e8b\u4ef6\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u7684\u76f8\u5173\u4fe1\u606f\uff08\u6bd4\u5982\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\u4e2d\u9f20\u6807\u70b9\u51fb\u4f4d\u7f6e\u7684\u6a2a\u7eb5\u5750\u6807\u7b49\uff09\u5c06\u4f1a\u88ab\u5305\u88c5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u4f20\u5165\u5230 JavaScript \u7684\u4e8b\u4ef6\u5904\u7406\u5faa\u73af\uff0cJavaScript \u5f15\u64ce\u63a5\u53d7\u5230\u4e8b\u4ef6\u540e\u5c31\u4f1a\u8c03\u7528\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u800c\u4ea4\u4e92\u884c\u4e3a\u5c31\u5b9a\u4e49\u5728\u8fd9\u4e9b\u56de\u8c03\u51fd\u6570\u4e4b\u4e2d\u3002</p> <p>\u73b0\u5728\u5c31\u4ee5\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u5229\u7528 jQuery \u7f16\u5199\u70b9\u51fb\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u6837\u4f8b</p> <p>\u5728\u5b66\u4e60\u8fd9\u4e00\u5c0f\u8282\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u70b9\u51fb\u8fdb\u5165 \u6211\u4eec\u7684\u6837\u4f8b\u7f51\u9875 \u5e76\u6309\u4e0b F12 \u6253\u5f00\u63a7\u5236\u53f0\uff0c\u5728\u63a7\u5236\u53f0\u91cc\u8fd0\u884c\u8fd9\u4e00\u8282\u63d0\u4f9b\u7684\u6837\u4f8b\u4ee3\u7801\u6765\u7406\u89e3 DOM \u6811\u64cd\u4f5c\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u5e0c\u671b\u6211\u4eec\u70b9\u51fb\u8fd9\u4e2a\u6309\u94ae\u540e\uff0c\u7f51\u9875\u80fd\u5f39\u7a97\u663e\u793a\u5bf9\u6211\u4eec\u7684\u95ee\u5019\u3002\u663e\u793a\u5f39\u7a97\u7684\u56de\u8c03\u51fd\u6570\u53ef\u4ee5\u89c4\u5b9a\u4e3a\uff1a</p> <pre><code>() =&gt; {\n    alert(\"Hello!\");\n}\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5c06\u4e0a\u8ff0\u56de\u8c03\u51fd\u6570\u7ed1\u5b9a\u5230\u6309\u94ae\u4e0a\uff1a</p> <pre><code>$(\"#test-button\").on(\"click\", () =&gt; {\n    alert(\"Hello!\");\n});\n</code></pre> <p>\u8fd9\u91cc <code>$(\"#test-button\")</code> \u662f\u5148\u524d\u63d0\u5230\u8fc7\u7684\u9009\u62e9\u5668\uff0c\u7528\u4e8e\u9009\u62e9\u51fa\u9700\u8981\u7ed1\u5b9a\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u7684\u6309\u94ae\u3002\u4e4b\u540e\u8c03\u7528\u5176 <code>.on()</code> \u65b9\u6cd5\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u793a\u9700\u8981\u7ed9\u4f55\u79cd\u4e8b\u4ef6\u7ed1\u5b9a\u56de\u8c03\uff0c\u8fd9\u91cc <code>\"click\"</code> \u8868\u793a\u7ed9\u70b9\u51fb\u4e8b\u4ef6\u7ed1\u5b9a\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5219\u662f\u9700\u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728\u8fd9\u91cc\uff0c\u6309\u94ae\u88ab\u70b9\u51fb\u7684\u65f6\u5019\uff0c\u8be5\u56de\u8c03\u5c31\u4f1a\u6267\u884c\u3002</p> <p>\u7531\u4e8e\u70b9\u51fb\u4e8b\u4ef6\u5f88\u5e38\u7528\uff0c\u6240\u4ee5\u8fd8\u6709\u8fd9\u6837\u7684\u7b80\u5199\uff1a</p> <pre><code>$(\"#test-button\").click(() =&gt; {\n    alert(\"Hello!\");\n});\n</code></pre> <p>\u6211\u4eec\u5148\u524d\u63d0\u5230\u4e86\uff0c\u548c\u4e8b\u4ef6\u76f8\u5173\u7684\u6240\u6709\u53c2\u6570\u90fd\u4f1a\u88ab\u5305\u88c5\u4e3a\u5bf9\u8c61\u4f20\u5165\u5904\u7406\u5f15\u64ce\uff0c\u800c\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u4f1a\u8fdb\u4e00\u6b65\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u6253\u5370\u51fa\u6765\uff1a</p> <pre><code>$(\"#test-button\").click(console.log);\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019\u70b9\u51fb\u6309\u94ae\u5c31\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u4e0a\u8f93\u51fa\u7684\u4e8b\u4ef6\u76f8\u5173\u53c2\u6570\u4e86\u3002</p> <p>\u4f46\u662f\u5982\u679c\u6211\u4eec\u9700\u8981\u771f\u6b63\u81ea\u5df1\u7f16\u5199\u4e00\u4e2a\u6709\u4ea4\u4e92\u884c\u4e3a\u7684\u7f51\u9875\uff0c\u6211\u4eec\u5c31\u9700\u8981\u628a\u4e0a\u9762\u63d0\u5230\u7684\u4ee3\u7801\u5d4c\u5165 HTML \u4e4b\u4e2d\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u6c42\u8fd9\u4e9b\u4ea4\u4e92\u884c\u4e3a\u968f\u7740\u7f51\u9875\u52a0\u8f7d\u5c31\u5b9a\u4e49\u597d\uff0c\u5426\u5219\u5c31\u9700\u8981\u7528\u6237\u624b\u52a8\u5728\u7f51\u9875\u52a0\u8f7d\u540e\u5728\u63a7\u5236\u53f0\u5b9a\u4e49\uff0c\u8fd9\u663e\u7136\u8fdd\u53cd\u5e38\u7406\u3002</p> <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u4e86\u89e3\uff0cHTML \u4e2d\u53ef\u4ee5\u4f7f\u7528 <code>&lt;script /&gt;</code> \u6807\u7b7e\u63d2\u5165 JavaScript \u4ee3\u7801\uff0c\u6240\u4ee5\u4f60\u53ef\u80fd\u6253\u7b97\u8fd9\u6837\u5199\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\u6f14\u793a\u7f51\u9875&lt;/title&gt;\n        &lt;script src=\"//code.jquery.com/jquery-2.1.4.min.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n            $(\"#test-button\").on(\"click\", () =&gt; {\n                alert(\"Hello!\");\n            });\n            console.log($(\"#test-button\").length);\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;button id=\"test-button\"&gt;Click me!&lt;/button&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4e0a\u8ff0 HTML \u4ee3\u7801\u5df2\u7ecf\u653e\u5728 \u6211\u4eec\u7684\u6837\u4f8b\u7f51\u9875\u4e4b\u4e2d\u3002\u5982\u679c\u4f60\u6d4f\u89c8\u540e\u70b9\u51fb\u6309\u94ae\uff0c\u4f60\u4f1a\u53d1\u73b0\u5e76\u6ca1\u6709\u6309\u7167\u9884\u671f\u5f39\u51fa\u5f39\u7a97\u3002</p> <p>\u8fd9\u91cc\u5c31\u9700\u8981\u63d0\u5230 <code>&lt;script /&gt;</code> \u6807\u7b7e\u4e2d\u4ee3\u7801\u7684\u6267\u884c\u65f6\u673a\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5c06\u4f1a\u5728\u6587\u6863\u52a0\u8f7d\u5b8c\u6bd5\u4e4b\u524d\u5c31\u6267\u884c\u5b8c\u6bd5\uff0c\u6b64\u65f6\u7684 DOM \u4e0a\u8fd8\u672a\u6709\u6309\u94ae\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u9009\u62e9\u5668\u5e94\u8be5\u4ec0\u4e48\u90fd\u83b7\u5f97\u4e0d\u5230\uff0c\u4ece\u800c\u7ed1\u5b9a\u5931\u8d25\u3002</p> <p>\u5b9e\u9645\u4e0a\u4e0a\u8ff0\u4ee3\u7801\u91cc\uff0c\u6211\u4eec\u7559\u4e0b\u4e86\u4e00\u53e5 <code>console.log($(\"#test-button\").length)</code>\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u91cc\u53d1\u73b0\uff0c\u6b64\u65f6\u9009\u62e9\u5668\u4ec0\u4e48\u90fd\u6ca1\u6709\u9009\u62e9\u5230\uff08\u8f93\u51fa\u4e3a <code>0</code>\uff09\uff0c\u7b26\u5408\u6211\u4eec\u7684\u8bb2\u89e3\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff0c\u4e8b\u5b9e\u4e0a\u6211\u4eec\u5148\u524d\u63d0\u5230\u8fc7 DOM \u52a0\u8f7d\u5b8c\u6bd5\u4e5f\u662f\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u7ed1\u5b9a\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\u5199\u4e3a DOM \u52a0\u8f7d\u5b8c\u6bd5\u7684\u56de\u8c03\uff1a</p> <pre><code>$(document).on(\"ready\", () =&gt; {\n    $(\"#test-button\").on(\"click\", () =&gt; {\n        alert(\"Hello!\");\n    });\n});\n</code></pre> <p>\u7531\u4e8e\u5728 DOM \u52a0\u8f7d\u5b8c\u6bd5\u540e\u6302\u8f7d\u5404\u79cd\u56de\u8c03\u51fd\u6570\u662f\u76f8\u5f53\u5e38\u89c1\u7684\u9700\u6c42\uff0c\u6240\u4ee5\u4e0a\u8ff0\u5199\u6cd5\u4e00\u822c\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> <pre><code>$(() =&gt; {\n    $(\"#test-button\").on(\"click\", () =&gt; {\n        alert(\"Hello!\");\n    });\n});\n</code></pre> <p>\u8fd9\u6837\u4fee\u6539\u540e\u7684\u4ee3\u7801\u53ef\u4ee5\u53c2\u89c1 \u6211\u4eec\u7684\u6837\u4f8b\u7f51\u9875\u3002</p>"},{"location":"languages/javascript/control/","title":"JavaScript \u7684\u63a7\u5236\u8bed\u53e5","text":""},{"location":"languages/javascript/control/#javascript","title":"JavaScript \u7684\u63a7\u5236\u8bed\u53e5","text":"<p>JavaScript \u652f\u6301\u7684\u63a7\u5236\u8bed\u53e5\u5173\u952e\u5b57\u5305\u62ec <code>if, else, switch, case, while, do, for</code>\uff0c\u5176\u7528\u6cd5\u548c C/C++ \u8bed\u8a00\u51e0\u4e4e\u5b8c\u5168\u4e00\u81f4\u3002\u8fd9\u91cc\u7ed9\u51fa\u6837\u4f8b\u7a0b\u5e8f\u4e0d\u8fdb\u884c\u5177\u4f53\u7684\u8bb2\u89e3\uff1a</p> <pre><code>let i = 0;\nif (i &gt; 0) {\n    console.log(\"i is greater than 0\");\n} else {\n    console.log(\"i is not greater than 0\");\n}\n\nlet arr = [1, 2, 3, 4, 5];\nfor (let j = 0; j &lt; arr.length; ++j) {\n    console.log(`arr[${j}] = ${arr[j]}\\n`);\n}\n</code></pre> <p>\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6d89\u53ca\u5230\u6761\u4ef6\u5224\u65ad\u7684\u65f6\u5019\u4f1a\u53d1\u751f\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff08\u5c06\u53d8\u91cf\u5f3a\u5236\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\uff09\uff0c\u5176\u903b\u8f91\u4e3a\uff1a</p> <ul> <li><code>undefined, null, 0, NaN, \"\", false</code> \u8f6c\u5316\u4e3a <code>false</code></li> <li>\u5176\u4f59\u5747\u8f6c\u5316\u4e3a <code>true</code>\uff08\u65e0\u8bba\u662f\u5bf9\u8c61\u8fd8\u662f\u57fa\u672c\u7c7b\u578b\uff09</li> </ul> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\u5e03\u5c14\u503c\u7c7b\u578b\u7684\u5305\u88c5\u7c7b <code>Boolean</code> \u5bf9\u8c61\uff0c\u65e0\u8bba\u5176\u8868\u793a <code>true</code> \u8fd8\u662f <code>false</code>\uff0c\u5176\u5747\u4f1a\u88ab\u8f6c\u5316\u4e3a <code>true</code>\uff0c\u6240\u4ee5\u9700\u8981\u7279\u522b\u6ce8\u610f\u7c7b\u4f3c\u4e0b\u8ff0\u7a0b\u5e8f\u7684\u60c5\u51b5\uff1a</p> <pre><code>if (new Boolean(false)) {\n    console.log(\"WTF?\");\n} // \"WTF?\"\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f <code>for</code> \u5faa\u73af\u9664\u4e86\u7ecf\u5178 C \u98ce\u683c\u5916\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c Python \u7684\u8fed\u4ee3\u65b9\u6cd5\u3002</p>"},{"location":"languages/javascript/control/#forin","title":"<code>for...in</code> \u5faa\u73af","text":"<p><code>for...in</code> \u8bed\u53e5\u4ee5\u4efb\u610f\u987a\u5e8f\u8fed\u4ee3\u4e00\u4e2a\u5bf9\u8c61\u7684\u9664 <code>symbol</code> \u4ee5\u5916\u7684\u53ef\u679a\u4e3e\u5c5e\u6027\uff0c\u5305\u62ec\u7ee7\u627f\u7684\u53ef\u679a\u4e3e\u5c5e\u6027\u3002\u5173\u4e8e\u53ef\u679a\u4e3e\u6027\u53ef\u53c2\u8003\u5c5e\u6027\u7684\u53ef\u679a\u4e3e\u6027\u548c\u6240\u6709\u6743\uff0c\u7ee7\u627f\u5c06\u5728\u5bf9\u8c61\u90e8\u5206\u5c55\u5f00\u8bb2\u89e3\u3002</p> <p>\u7b80\u5355\u800c\u8a00\uff0c\u4f7f\u7528 <code>for...in</code> \u8bed\u53e5\u53ef\u4ee5\u904d\u5386\u5bf9\u8c61\u7684\u952e\uff1a</p> <pre><code>const obj = { a: 1, b: 2 };\nfor (const key in obj) {\n    console.log(`${key}: ${obj[key]}`);\n}\n// a: 1\n// b: 2\n</code></pre> <p>\u867d\u7136\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u904d\u5386\u6570\u7ec4\u7684\u7d22\u5f15\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u597d\u7684\u7f16\u7801\u4e60\u60ef\uff0c\u8fed\u4ee3\u6570\u7ec4\u5e94\u5f53\u4f7f\u7528\u6570\u7ec4\u7684 <code>forEach</code> \u65b9\u6cd5\u6216\u4f7f\u7528 <code>for...of</code> \u8bed\u53e5\u3002</p>"},{"location":"languages/javascript/control/#forof","title":"<code>for...of</code> \u5faa\u73af","text":"<p><code>for...of</code> \u5faa\u73af\u5728\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5982 <code>Array</code>\u3001<code>Map</code>\u3001<code>Set</code>\u3001<code>String</code>\uff0c\u81ea\u5df1\u521b\u5efa\u53ef\u8fed\u4ee3\u5bf9\u8c61\u53ef\u4ee5\u53c2\u8003\u8fed\u4ee3\u534f\u8bae\uff09\u4e0a\u521b\u5efa\u8fed\u4ee3\u5faa\u73af\uff0c\u6700\u5e38\u89c1\u7684\u662f\u5bf9\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u8fed\u4ee3\uff1a</p> <pre><code>let frontend_courses = ['Java/Android', 'JS/TS/React'];\nfor (const course of frontend_courses) {\n    console.log(course);\n}\n// Java/Android\n// JS/TS/React\n</code></pre>"},{"location":"languages/javascript/control/#_1","title":"\u5f02\u5e38\u5904\u7406","text":"<p>JavaScript \u7684\u5f02\u5e38\u5904\u7406\u4e0e C++ \u76f8\u4f3c\uff1a</p> <pre><code>try {\n    someDangerousFunction();\n} catch (err) {\n    console.log('error occurred');\n}\n</code></pre>"},{"location":"languages/javascript/control/#_2","title":"\u65ad\u53e5","text":"<p>JavaScript \u53e5\u672b\u53ef\u4ee5\u52a0\u5206\u53f7\u4e5f\u53ef\u4ee5\u4e0d\u52a0\uff0c\u4f46\u4e3a\u4e86\u5b89\u5168\u548c\u4fbf\u4e8e\u9605\u8bfb\uff0c\u5efa\u8bae\u603b\u662f\u5728\u53e5\u672b\u52a0\u5206\u53f7\u3002\u4f60\u53ef\u80fd\u4f1a\u597d\u5947\u4e3a\u4f55\u4f1a\u51fa\u73b0\u4e0d\u5b89\u5168\u7684\u60c5\u51b5\uff0c\u8bf7\u770b\u8fd9\u4e00\u793a\u4f8b\uff1a</p> <pre><code>// \u5047\u5b9a f \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u51fd\u6570\u53ef\u4ee5\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c\u8fd9\u4e2a\u5c06\u5728\u4e0b\u4e00\u8282\u5c55\u5f00\nlet a = 1\nlet g = f\n(a)\n</code></pre> <p>\u867d\u7136\u5355\u72ec\u5199\u4e00\u4e2a <code>(a)</code> \u770b\u8d77\u6765\u6beb\u65e0\u610f\u4e49\uff0c\u4f46\u8fd9\u7406\u8bba\u4e0a\u662f\u5408\u6cd5\u8bed\u53e5\uff0c\u53ea\u4e0d\u8fc7\u6ca1\u6709\u4ea7\u751f\u4efb\u4f55\u526f\u4f5c\u7528\uff0c\u4f46\u5b9e\u9645\u4e0a\u81f3\u5c11\u5728 Chrome \u4e2d\u8fd0\u884c\u65f6\uff0c\u89e3\u91ca\u5668\u4f1a\u5c1d\u8bd5\u5c06 <code>(a)</code> \u7406\u89e3\u4e3a\u5bf9 <code>f</code> \u7684\u8c03\u7528\uff0c\u800c\u6b64\u65f6 <code>g</code> \u7684\u7ed3\u679c\u5c31\u53d8\u6210\u4e86 <code>f(a)</code>\uff0c\u540c\u65f6\u7531\u4e8e <code>f</code> \u88ab\u8c03\u7528\u4e00\u6b21\uff0c\u8fd8\u4f1a\u4ea7\u751f\u526f\u4f5c\u7528\uff0c\u4f46\u8fd9\u663e\u7136\u4e0d\u662f\u6211\u4eec\u6240\u671f\u671b\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u6bcf\u4e00\u884c\u672b\u5c3e\u52a0\u5206\u53f7\u6765\u907f\u514d\u8fd9\u79cd\u73b0\u8c61\u3002</p> <p>\u4f46\u5e76\u975e\u6240\u6709\u95ee\u9898\u90fd\u53ef\u4ee5\u901a\u8fc7\u52a0\u5206\u53f7\u89e3\u51b3\uff0c\u53e6\u5916\u53ef\u80fd\u51fa\u73b0\u7684\u4e00\u79cd\u60c5\u51b5\u662f\uff0cJavaScript \u5141\u8bb8\u5728\u51fd\u6570\u8fd4\u56de\u65f6\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\uff08\u5373 <code>undefined</code>\uff09\uff0c\u5982\u679c\u5199\u51fa\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>function test() {\n    return\n        { a: 1 };\n}\n</code></pre> <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u89c1\u8fc7\u8fd9\u79cd\u5199\u6cd5\uff0c\u5728\u8fd4\u56de\u503c\u5f88\u590d\u6742\u7684\u65f6\u5019\u9002\u5f53\u6362\u884c\u4e0d\u5931\u4e3a\u4e00\u79cd\u4fdd\u6301\u7f8e\u89c2\u6027\u7684\u65b9\u6cd5\uff0c\u7136\u800c\u5728 JavaScript \u4e2d\uff0c\u7531\u4e8e\u5141\u8bb8\u8fd4\u56de\u7a7a\u5185\u5bb9\uff0c <code>return</code> \u81ea\u8eab\u53c8\u8db3\u4ee5\u4f5c\u4e3a\u4e00\u6761\u8bed\u53e5\uff0c\u53c8\u7531\u4e8e\u53e5\u672b\u4e0d\u9700\u8981\u52a0\u5206\u53f7\uff0c\u5728\u4e00\u4e9b\u6267\u884c\u73af\u5883\u4e2d\u4e0a\u8ff0\u4ee3\u7801\u4f1a\u76f4\u63a5\u8fd4\u56de\u7a7a\u503c\uff0c\u800c\u4e0d\u4f1a\u5c1d\u8bd5\u89e3\u6790\u4e0b\u4e00\u884c\u5185\u5bb9\uff0c\u8fd9\u663e\u7136\u4e5f\u4e0d\u662f\u6211\u4eec\u6240\u671f\u671b\u7684\u3002\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\uff1a</p> <pre><code>function test() {\n    return {\n        a: 1\n    };\n}\n</code></pre> <p>\u7531\u4e8e\u5355\u4e2a\u7684\u62ec\u53f7\u4e0d\u80fd\u4f5c\u4e3a\u8bed\u53e5\u7ed3\u675f\uff0c\u89e3\u91ca\u5668\u4f1a\u7ee7\u7eed\u5411\u4e0b\u89e3\u6790\u76f4\u5230\u9047\u5230\u5206\u53f7\u5904\u3002</p> <p>\u5982\u679c\u4f60\u8fd8\u8bb0\u5f97\u4e0a\u4e00\u8282\u4e2d\u6211\u4eec\u89e3\u6784\u8d4b\u503c\u4e00\u4e2a\u5bf9\u8c61\u65f6\u5728\u6700\u5916\u5c42\u6dfb\u52a0\u4e86\u5c0f\u62ec\u53f7\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u53e5\u9996\u9047\u5230\u62ec\u53f7\u65f6\uff0c\u89e3\u91ca\u5668\u4f1a\u4f18\u5148\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u4ee3\u7801\u5757\u7684\u5f00\u5934\uff0c\u800c\u975e\u4e00\u4e2a\u89e3\u6784\u8d4b\u503c\u8bed\u53e5\uff0c\u800c\u540e\u9762\u7684\u90e8\u5206\u662f\u4e0d\u53ef\u4ee5\u4f5c\u4e3a\u4ee3\u7801\u5757\u7406\u89e3\u7684\uff0c\u4ece\u800c\u5bfc\u81f4\u6267\u884c\u9519\u8bef\uff1a</p> <pre><code>let { a } = { a: 1 }; // \u8fd9\u91cc\u6709 let \u5173\u952e\u8bcd\uff0c\u89e3\u91ca\u5668\u4e0d\u4f1a\u5c06\u62ec\u53f7\u7406\u89e3\u4e3a\u4ee3\u7801\u5757\n{ a } = { a: 2 };     // Error!\n({ a } = { a: 3 });   // \u6dfb\u52a0\u5c0f\u62ec\u53f7\u540e\u89e3\u91ca\u5668\u5c06\u5c0f\u62ec\u53f7\u5185\u7684\u5185\u5bb9\u89c6\u4e3a\u4e00\u4e2a\uff08\u8d4b\u503c\uff09\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u662f\u4ee3\u7801\u5757\n</code></pre> <p>\u7c7b\u4f3c\u7684\u95ee\u9898\u5728\u7bad\u5934\u51fd\u6570\u4e2d\u540c\u6837\u5b58\u5728\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u8282\u770b\u5230\u3002</p>"},{"location":"languages/javascript/function/","title":"JavaScript \u7684\u51fd\u6570","text":""},{"location":"languages/javascript/function/#javascript","title":"JavaScript \u7684\u51fd\u6570","text":""},{"location":"languages/javascript/function/#_1","title":"\u51fd\u6570\u58f0\u660e\u548c\u8c03\u7528","text":"<p>\u6211\u4eec\u4e00\u822c\u628a JavaScript \u7684\u51fd\u6570\u4e5f\u8ba4\u4e3a\u662f\u4e00\u79cd\u53d8\u91cf\uff0c\u56e0\u4e3a\u5728 JavaScript \u4e4b\u4e2d\uff0c\u51fd\u6570\u7684\u884c\u4e3a\u5f88\u5927\u7a0b\u5ea6\u4e0a\u548c\u53d8\u91cf\u7c7b\u4f3c\u3002</p> <p>JavaScript \u8bed\u8a00\u4e4b\u4e2d\u58f0\u660e\u4e00\u4e2a\u51fd\u6570\u7684\u8bed\u6cd5\u4e3a\uff1a</p> <pre><code>function sum(x, y) {\n    return x + y;\n}\n</code></pre> <p>\u800c\u53e6\u5916\u4e00\u79cd\u58f0\u660e\u65b9\u5f0f\u5982\u4e0b\uff0c\u8fd9\u79cd\u65b9\u5f0f\u7684\u5185\u6db5\u5c31\u662f\u628a\u51fd\u6570\u5f53\u6210\u4e00\u79cd\u53d8\u91cf\uff1a</p> <pre><code>const sum = function (x, y) {\n    return x + y;\n};\n</code></pre> <p>\u8fd9\u91cc <code>sum</code> \u4f5c\u4e3a\u4e00\u4e2a\u53d8\u91cf\uff0c\u5b83\u7684\u7c7b\u578b\u5e76\u975e\u524d\u6587\u6240\u63d0\u8fc7\u7684\u57fa\u672c\u7c7b\u578b\uff0c\u56e0\u6b64\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u7684\u6784\u9020\u51fd\u6570\u662f <code>Function</code>\u3002</p> <p>\u51fd\u6570\u8c03\u7528\u7684\u8bed\u6cd5\u5219\u548c C/C++ \u8bed\u8a00\u4e00\u81f4\uff1a</p> <pre><code>sum(1, 2); // 3\n</code></pre> <p>\u65e0\u7528\u7684\u53c2\u6570\u5217\u8868</p> <p>\u5b9e\u9645\u4e0a JavaScript \u4ece\u6765\u4e0d\u68c0\u67e5\u4f60\u51fd\u6570\u8c03\u7528\u662f\u4e0d\u662f\u7b26\u5408\u53c2\u6570\u5217\u8868\uff0c\u672c\u8eab JavaScript \u5c31\u4e0d\u68c0\u67e5\u53d8\u91cf\u7c7b\u578b\uff0c\u5b9e\u9645\u4e0a JavaScript \u8fd8\u4e0d\u68c0\u67e5\u4f60\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\u3002\u6bd4\u5982\u8bf4\u4f60\u7ed9 <code>sum</code> \u51fd\u6570\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\u8fd8\u662f\u4e09\u4e2a\u53c2\u6570\uff0c\u5176\u90fd\u6b63\u5e38\u5de5\u4f5c\uff1a</p> <pre><code>sum(1); // NaN\nsum(1, 2, 3); // 3\n</code></pre> <p>\u5176\u5904\u7406\u903b\u8f91\u4e3a\u58f0\u660e\u4e86\u5374\u6ca1\u6709\u4f20\u5165\u7684\u53c2\u6570\u5f53\u6210 <code>undefined</code>\uff0c\u591a\u4f59\u7684\u53c2\u6570\u5219\u9700\u8981\u624b\u52a8\u6355\u83b7\u3002\u4e5f\u5c31\u662f\u8bf4 <code>sum(1)</code> \u5728\u6267\u884c\u7684\u65f6\u5019\uff0c\u53c2\u6570 <code>x</code> \u662f <code>1</code>\uff0c\u800c\u53c2\u6570 <code>y</code> \u662f <code>undefined</code>\uff0c\u7ed3\u679c\u81ea\u7136\u662f <code>NaN</code>\u3002</p> <p>\u800c\u6355\u83b7\u591a\u4f59\u53c2\u6570\u7684\u65b9\u6cd5\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u5728\u53c2\u6570\u5217\u8868\u4e2d\u52a0\u5165\u53ef\u53d8\u957f\u53c2\u6570 <code>...rest</code>\u3002\u4e0d\u8fc7\u6ce8\u610f\uff0c\u53ef\u53d8\u957f\u53c2\u6570\u4f1a\u88ab\u8d4b\u503c\u4e3a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5e76\u4e14\u5728\u6ca1\u6709\u591a\u4e8e\u53c2\u6570\u7684\u65f6\u5019\u88ab\u8d4b\u503c\u4e3a\u7a7a\u6570\u7ec4\u800c\u975e <code>undefined</code>\uff1a</p> <pre><code>function sum(x, y, ...rest) {\n    let s = 0;\n    for (let i = 0; i &lt; rest.length; ++i) s += rest[i];\n    return x + y + s;\n}\n</code></pre> <p>\u53e6\u5916\u4e00\u79cd\u662f\u5728\u51fd\u6570\u4e4b\u4e2d\u4f7f\u7528 <code>arguments</code> \u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5b58\u50a8\u4e86\u51fd\u6570\u6240\u63a5\u53d7\u7684\u6240\u6709\u53c2\u6570\uff0c\u5e76\u5c06\u5176\u5305\u88c5\u4e3a\u4e00\u4e2a\u6570\u7ec4\u3002\u6240\u4ee5\u7406\u8bba\u4e0a\u751a\u81f3\u90fd\u4e0d\u9700\u8981\u58f0\u660e\u53c2\u6570\u5217\u8868\uff1a</p> <pre><code>function sum() {\n    let s = 0;\n    for (let i = 0; i &lt; arguments.length; ++i) s += arguments[i];\n    return s;\n}\n</code></pre> <p>\u6d88\u5931\u7684\u8fd4\u56de\u503c</p> <p>JavaScript \u4e0d\u5f3a\u5236\u8981\u6c42\u8bed\u53e5\u4ee5\u5206\u53f7\u7ed3\u5c3e\uff0c\u800c\u5176\u5f15\u64ce\u4f1a\u5728\u6bcf\u4e00\u884c\u6ca1\u6709\u4ee5\u5206\u53f7\u7ed3\u5c3e\u7684\u8bed\u53e5\u540e\u9762\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002\u4f46\u662f\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002</p> <p>\u90e8\u5206 C/C++ \u7a0b\u5e8f\u7f16\u5199\u8005\u53ef\u80fd\u5728\u8fd4\u56de\u503c\u8f83\u4e3a\u5e9e\u5927\u7684\u65f6\u5019\u5c06\u8fd4\u56de\u503c\u6362\u884c\u5199\uff0c\u8fd9\u6837\u7f8e\u89c2\u5ea6\u8f83\u597d\uff0c\u4f46\u662f\u5728 JavaScript \u8bed\u8a00\u4e2d\uff0c\u8fd9\u6837\u5f88\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\uff1a</p> <pre><code>function foo() {\n    return\n        ({ name: \"foo\", });\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\u8c03\u7528\u51fd\u6570\u5f97\u5230\u7684\u8fd4\u56de\u503c\u662f <code>undefined</code>\u3002\u8fd9\u4e2a bug \u7684\u539f\u56e0\u5728\u4e0a\u9762\u5df2\u7ecf\u89e3\u91ca\u4e86\uff0c\u56e0\u4e3a <code>return</code> \u8bed\u53e5\u5355\u72ec\u6210\u4e00\u884c\uff0c\u6240\u4ee5 JavaScript \u5f15\u64ce\u4f1a\u7ed9 <code>return</code> \u540e\u9762\u52a0\u4e00\u4e2a\u5206\u53f7\uff0c\u4ece\u800c\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u9645\u4e0a\u662f\uff1a</p> <pre><code>function foo() {\n    return;\n        ({ name: \"foo\", });\n}\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u5c31\u6ca1\u6709\u8fd4\u56de\u503c\u4e86\uff08\u4e5f\u5c31\u662f\u8fd4\u56de\u503c\u662f <code>undefined</code>\uff09\u3002</p> <p>\u6b63\u786e\u5199\u6cd5\u5e94\u5f53\u662f\uff1a</p> <pre><code>function foo() {\n    return {\n        name: \"foo\",\n    };\n}\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019 JavaScript \u5f15\u64ce\u5e76\u4e0d\u8ba4\u4e3a <code>return {</code> \u662f\u4e00\u4e2a\u5b8c\u6574\u8bed\u53e5\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5728\u5176\u672b\u5c3e\u6dfb\u52a0\u5206\u53f7\u3002</p> \u53d8\u91cf\u63d0\u5347 <p>\u6211\u4eec\u8bf4\u8fc7 JavaScript \u7531\u4e8e\u5de5\u671f\u77ed\uff0c\u5177\u6709\u4e00\u4e9b\u8bbe\u8ba1\u4e0a\u7684\u7f3a\u9677\uff08\u4e00\u90e8\u5206\u5df2\u7ecf\u8f6c\u53d8\u4e3a\u8bed\u8a00\u7279\u6027\uff09\u3002\u53d8\u91cf\u63d0\u5347\u5c31\u662f\u8fd9\u4e9b\u7f3a\u9677\u4e4b\u4e00\uff0c\u5176\u5173\u7cfb\u5230 JavaScript \u7684\u53d8\u91cf\u4f5c\u7528\u57df\u95ee\u9898\u3002</p> <p>C/C++ \u8bed\u8a00\u4f7f\u7528\u5927\u62ec\u53f7\u4ee3\u7801\u5757 <code>{...}</code> \u6765\u6807\u8bb0\u53d8\u91cf\u4f5c\u7528\u57df\uff0c\u8fd9\u88ab\u79f0\u4e3a\u5757\u4f5c\u7528\u57df\u3002\u4f46\u6700\u521d\u59cb\u7684 JavaScript \u5e76\u4e0d\u5177\u6709\u5757\u4f5c\u7528\u57df\uff0c\u5176\u53ea\u5177\u6709\u51fd\u6570\u4f5c\u7528\u57df\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u63a7\u5236\u8bed\u53e5\u5757 <code>for, if</code> \u7b49\u7b49\u90fd\u4e0d\u4f1a\u5f62\u6210\u4f5c\u7528\u57df\uff0c\u771f\u6b63\u9650\u5b9a\u53d8\u91cf\u4f5c\u7528\u4e8e\u7684\u662f\u51fd\u6570\uff1a</p> <pre><code>// i is *not* visible here \n// j is *not* visible here \nfunction test() {\n    // i *is* visible here \n    // j *is* visible here\n\n    var i;\n    for (var j = 0; j &lt; 10; ++j) {\n        // i *is* visible here \n        // j *is* visible here\n    }\n\n    // i *is* visible here \n    // j *is* visible here\n}\n// i is *not* visible here \n// j is *not* visible here \n</code></pre> <p>\u8fd9\u79cd\u4f5c\u7528\u57df\u5f62\u6210\u7684\u539f\u7406\u662f JavaScript \u8bed\u8a00\u4f1a\u5c06\u6bcf\u4e00\u4e2a\u53d8\u91cf\u7684\u58f0\u660e\u63d0\u5347\u5230\u5176\u6240\u5c5e\u51fd\u6570\u6700\u9876\u90e8\uff0c\u539f\u5148\u7684\u58f0\u660e\u8bed\u53e5\u53d8\u4e3a\u8d4b\u503c\u8bed\u53e5\uff0c\u5f53\u7136\u5728\u6240\u6709\u51fd\u6570\u5916\u58f0\u660e\u7684\u53d8\u91cf\u5c31\u4f1a\u5177\u6709\u5168\u5c40\u4f5c\u7528\u57df\u3002</p> <p>\u6bd4\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>var name = \"Mike\";\nfunction foo() {\n    console.log(`Hello, ${name}!`);\n    if (true) {\n        var name = \"Helen\";\n    }\n}\nfoo();\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u7684\u6267\u884c\u7ed3\u679c\u4e3a <code>\"Hello, undefined!\"</code>\u3002</p> <p>\u8981\u7406\u89e3\u4e3a\u4ec0\u4e48\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u624b\u52a8\u5e2e JavaScript \u505a\u4e00\u6b65\u53d8\u91cf\u63d0\u5347\u3002\u6ce8\u610f\u5230\u8fd9\u91cc\u6709\u4e24\u4e2a\u58f0\u660e\u8bed\u53e5\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u5176\u58f0\u660e\u63d0\u5347\u5230\u51fd\u6570\u6700\u9876\u90e8\uff0c\u539f\u5148\u7684\u58f0\u660e\u6539\u6210\u8d4b\u503c\uff1a</p> <pre><code>var name;\nname = \"Mike\";\nfunction foo() {\n    var name;\n    console.log(`Hello, ${name}!`);\n    if (true) {\n        name = \"Helen\";\n    }\n}\nfoo();\n</code></pre> <p>\u8fd9\u6837\u5c31\u4e0d\u96be\u7406\u89e3 <code>undefined</code> \u51fa\u73b0\u7684\u539f\u56e0\u4e86\u3002</p> <p>\u4e8b\u5b9e\u4e0a\u4e0d\u4ec5\u662f\u53d8\u91cf\uff0c\u51fd\u6570\u4e5f\u4f1a\u88ab\u63d0\u5347\u3002\u6bd4\u5982\u8bf4\uff1a</p> <pre><code>greet(); // \"Hello!\"\nfunction greet() {\n    console.log(\"Hello!\");\n}\n</code></pre> <p>\u8fd9\u4e2a\u7a0b\u5e8f\u4f1a\u6b63\u5e38\u8f93\u51fa <code>\"Hello!\"</code>\u3002\u51fd\u6570\u63d0\u5347\u7684\u7279\u70b9\u662f\u5176\u4f1a\u5c06\u51fd\u6570\u4f53\u8ddf\u968f\u7740\u5411\u4e0a\u63d0\u5347\uff0c\u800c\u53d8\u91cf\u63d0\u5347\u5e76\u4e0d\u4f1a\u628a\u5176\u521d\u59cb\u503c\u8ddf\u968f\u7740\u63d0\u5347\u3002</p> <p>\u4f46\u53e6\u5916\u4e00\u4e2a\u65b9\u9762\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7c7b\u4f3c\u58f0\u660e\u53d8\u91cf\u7684\u65b9\u5f0f\u58f0\u660e\u51fd\u6570\uff0c\u5176\u51fd\u6570\u4f53\u4e0d\u4f1a\u8ddf\u968f\u7740\u63d0\u5347\uff1a</p> <pre><code>greet(); // Uncaught TypeError: greet is not a function\nvar greet = function () {\n    console.log(\"Hello!\");\n}\n</code></pre> <p>\u4e4b\u540e\u518d\u8865\u5145\u4e00\u70b9\u6709\u5173\u63d0\u5347\u987a\u5e8f\u7684\u89c4\u5219\uff0c\u5c31\u662f\u53d8\u91cf\u548c\u51fd\u6570\u540c\u65f6\u63d0\u5347\u7684\u65f6\u5019\uff0c\u53d8\u91cf\u58f0\u660e\u6309\u7167\u58f0\u660e\u987a\u5e8f\u6574\u4f53\u653e\u5728\u4f5c\u7528\u57df\u6700\u5f00\u5934\uff0c\u4e4b\u540e\u51fd\u6570\u58f0\u660e\u6309\u7167\u58f0\u660e\u987a\u5e8f\u6574\u4f53\u7d27\u63a5\u7740\u53d8\u91cf\u58f0\u660e\u6574\u4f53\uff0c\u6309\u7167\u53d8\u91cf\u5f62\u5f0f\u58f0\u660e\u7684\u51fd\u6570\u5f53\u4f5c\u53d8\u91cf\u58f0\u660e\uff0c\u4ee5\u53ca\u5982\u679c\u67d0\u4e00\u4e2a\u7b26\u53f7\u540c\u65f6\u7528\u5728\u591a\u4e2a\u53d8\u91cf\u58f0\u660e\u4e2d\uff0c\u89c6\u4f5c\u4e00\u6b21\u58f0\u660e\u3002\u7528\u5728\u591a\u4e2a\u51fd\u6570\u58f0\u660e\u4e2d\uff0c\u540e\u8005\u8986\u76d6\u524d\u8005\u3002\u540c\u65f6\u7528\u5728\u51fd\u6570\u548c\u53d8\u91cf\u58f0\u660e\u4e4b\u4e2d\uff0c\u91c7\u7528\u51fd\u6570\u7684\u58f0\u660e\u3002\u6bd4\u5982\uff1a</p> <pre><code>console.log(f); // function f() {}\nfunction f() {}\nvar f = 3;\n\nconsole.log(f);  // function f() {}\nvar f = 3;\nfunction f() {}\n</code></pre> <p>\u8fd9\u91cc\u65e0\u8bba\u5982\u4f55\u8c03\u6574\u987a\u5e8f\uff0c\u51fd\u6570\u7684\u58f0\u660e\u4f1a\u8986\u76d6\u53d8\u91cf\u7684\u58f0\u660e\u3002</p> <p>\u5176\u5b9e\u5173\u4e8e JavaScript \u53d8\u91cf\u4f5c\u7528\u57df\u7684\u95ee\u9898\uff0c\u8fd8\u6709\u4e00\u4e2a\u503c\u5f97\u6ce8\u610f\u7684\u662f\u9690\u5f0f\u5168\u5c40\u53d8\u91cf\u95ee\u9898\u3002\u5982\u679c\u4e0d\u4f7f\u7528\u4efb\u4f55\u5173\u952e\u5b57\u76f4\u63a5\u7f16\u5199\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u8bed\u53e5\uff0c\u800c\u4f60\u6240\u8981\u8d4b\u503c\u7684\u53d8\u91cf\u6839\u672c\u6ca1\u6709\u5b9a\u4e49\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u88ab\u58f0\u660e\u4e3a\u5168\u5c40\u53d8\u91cf\u3002\u6bd4\u5982\uff1a</p> <pre><code>function fn() {\n    foo = 100;\n}\nfn();\nconsole.log(foo); // 100\n</code></pre> <p>\u8fd9\u91cc\u51fd\u6570\u4f53\u91cc\u7684 <code>foo</code> \u5728\u8d4b\u503c\u7684\u65f6\u5019\u6ca1\u6709\u5b9a\u4e49\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u88ab\u63d0\u5347\u4e3a\u9690\u5f0f\u5168\u5c40\u53d8\u91cf\uff0c\u5373\u4f7f\u5728\u51fd\u6570\u4f53\u5916\u4e5f\u53ef\u4ee5\u8bbf\u95ee\u3002\u8fd9\u5177\u4f53\u662f\u56e0\u4e3a\u5982\u679c Javascript \u5f15\u64ce\u5728\u51fd\u6570\u5185\u90e8\u627e\u4e0d\u5230\u8be5\u53d8\u91cf\u7684\u58f0\u660e\uff0c\u5b83\u4f1a\u5411\u5916\u5c42\u4f5c\u7528\u57df\u7ee7\u7eed\u67e5\u627e\uff0c\u76f4\u5230\u627e\u5230\u5168\u5c40\u4f5c\u7528\u57df\u3002\u5982\u679c\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u4e5f\u627e\u4e0d\u5230\u8be5\u53d8\u91cf\u7684\u58f0\u660e\uff0cJavaScript \u5f15\u64ce\u5c31\u4f1a\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u9690\u5f0f\u521b\u5efa\u8be5\u53d8\u91cf\u3002</p> <p>\u4f46\u662f\u8fd9\u4e2a\u95ee\u9898\u5f88\u5feb\u88ab\u89e3\u51b3\u4e86\uff0c\u53ea\u9700\u8981\u4f7f\u7528 JavaScript \u7684\u4e25\u683c\u6a21\u5f0f\u5c31\u53ef\u4ee5\u7981\u6b62\u9690\u5f0f\u5168\u5c40\u53d8\u91cf\u3002\u4f7f\u7528\u65b9\u5f0f\u662f\u76f4\u63a5\u5728\u4ee3\u7801\u5f00\u5934\u52a0\u5165\u5b57\u7b26\u4e32 <code>\"use strict\"</code>\u3002</p> <pre><code>\"use strict\";\nfunction fn() {\n    foo = 100;\n}\nfn();\nconsole.log(foo); // Uncaught ReferenceError: foo is not defined\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c\u8bfb\u8005\u53ef\u4ee5\u53d1\u73b0\u4e0a\u9762\u6f14\u793a\u7684\u6240\u6709\u53d8\u91cf\u58f0\u660e\u5747\u662f\u4f7f\u7528 <code>var</code> \u58f0\u660e\u3002\u5176\u5b9e\uff0c\u5728\u6700\u521d\u7684 JavaScript \u8bed\u8a00\u53ea\u6709 <code>var</code> \u5173\u952e\u5b57\u53ef\u4ee5\u7528\u4e8e\u58f0\u660e\u53d8\u91cf\uff0c\u5e76\u4e14\u4e25\u683c\u6309\u7167\u53d8\u91cf\u63d0\u5347\u7684\u89c4\u5219\u8f6c\u6362\u3002\u7136\u800c\u7531\u4e8e\u53d8\u91cf\u63d0\u5347\u89c4\u5219\u5f88\u53cd\u76f4\u89c9\uff0c\u5e76\u4e14\u51fd\u6570\u4f5c\u7528\u57df\u7c92\u5ea6\u8fc7\u5927\uff0c\u53ef\u80fd\u5bfc\u81f4\u4f7f\u7528\u4e0d\u4fbf\uff08\u53c2\u89c1\u95ed\u5305\u7ae0\u8282\uff09\uff0c\u6240\u4ee5\u65b0\u6807\u51c6\u5f15\u5165\u4e86 <code>let, const</code> \u5173\u952e\u5b57\uff0c\u901a\u8fc7\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u58f0\u660e\u7684\u53d8\u91cf\u9075\u5faa\u5757\u4f5c\u7528\u57df\uff0c\u5e76\u4e14\u4e0d\u53d1\u751f\u63d0\u5347\uff1a</p> <pre><code>console.log(a); // Uncaught ReferenceError: a is not defined\nlet a = 1;\n\nconsole.log(b); // undefined\nvar b = 1;\n</code></pre> <p>\u8fd9\u4e5f\u662f\u6211\u4eec\u5f3a\u70c8\u63a8\u8350\u53ea\u4f7f\u7528 <code>let, const</code> \u5173\u952e\u5b57\u7684\u539f\u56e0\u3002</p>"},{"location":"languages/javascript/function/#_2","title":"\u7bad\u5934\u51fd\u6570","text":"<p>\u4e00\u79cd\u66f4\u7b80\u6d01\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u8bb0\u53f7\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>// \u4ee5\u4e0b\u51e0\u79cd\u5199\u6cd5\u7684\u7ed3\u679c\u76f8\u540c\uff0c\u66f4\u52a0\u7ec6\u8282\u7684\u533a\u522b\u5728\u4e0b\u4e00\u8282\nconst sum = (x, y) =&gt; x + y;\nconst sum = (x, y) =&gt; {\n    return x + y;\n}\nfunction sum(x, y) {\n    return x + y;\n}\n</code></pre> <p>\u5f53\u51fd\u6570\u4f53\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u8bed\u53e5\u65f6\uff0c\u53ef\u4ee5\u7701\u7565\u5916\u5c42\u7684\u62ec\u53f7\u548c <code>return</code> \u5173\u952e\u5b57\uff0c\u82e5\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u7701\u7565\u53c2\u6570\u5217\u8868\u7684\u5c0f\u62ec\u53f7\uff1a</p> <pre><code>const plusOne = x =&gt; x + 1;\n</code></pre> <p>\u7531\u4e8e JavaScript \u4e2d\u5927\u91cf\u5b58\u5728\u533f\u540d\u51fd\u6570\uff0c\u4e0a\u8ff0\u8bb0\u53f7\u5c06\u5e2e\u52a9\u4f60\u5c11\u5199\u5f88\u591a <code>function</code> \u5173\u952e\u5b57\uff0c\u4f60\u5c06\u5728\u4e0b\u4e00\u90e8\u5206\u610f\u8bc6\u5230\u8fd9\u4e00\u70b9\u3002</p> <p>\u53e6\u5916\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5c3d\u7ba1\u5728\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u8bed\u53e5\u65f6\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\u548c <code>return</code>\uff0c\u4f46\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u5b57\u9762\u91cf\u65f6\u4f1a\u5f15\u8d77\u9519\u8bef\u7684\u89e3\u91ca\uff1a</p> <pre><code>// buggy\nconst objConstructor = (value) =&gt; { key: value };\n</code></pre> <p>\u8fd9\u79cd\u5199\u6cd5\u4f1a\u4f7f JavaScript \u8ba4\u4e3a\u62ec\u53f7\u662f\u4ee3\u7801\u6bb5\u7684\u5f00\u59cb\uff0c\u800c\u5176\u4e2d\u7684 <code>key: value</code> \u662f\u8bed\u6cd5\u9519\u8bef\uff0c\u901a\u5e38\u6211\u4eec\u6dfb\u52a0\u5c0f\u62ec\u53f7\u6765\u544a\u8bc9 TypeScript \u6211\u4eec\u8981\u8868\u8fbe\u7684\u662f\u8fd4\u56de\u503c\u5b57\u9762\u91cf\uff1a</p> <pre><code>const objConstructor = (value) =&gt; ({ key: value });\n</code></pre>"},{"location":"languages/javascript/function/#_3","title":"\u56de\u8c03\u6a21\u5f0f","text":"<p>\u4f60 JavaScript \u771f\u6b63\u7684\u7b2c\u4e00\u6b65</p> <p>\u56de\u8c03\u6a21\u5f0f\u53ef\u4ee5\u8ba4\u4e3a\u662f JavaScript \u7684\u4e00\u5927\u201c\u7075\u9b42\u201d\uff0c\u8fd9\u95e8\u8bed\u8a00\u7684\u5f88\u591a\u529f\u80fd\u5747\u57fa\u4e8e\u8fd9\u4e00\u8bbe\u8ba1\u6a21\u5f0f\u3002\u5b9e\u9645\u4e0a\uff0c\u5373\u4f7f\u4f60\u53ef\u80fd\u6ca1\u6709\u542c\u7f16\u8005\u7684\u8bdd\uff0c\u5077\u5077\u770b\u4e86\u4e0d\u5c11 JavaScript \u7684\u9b54\u6cd5\uff0c\u6df1\u523b\u9886\u609f\u4e00\u756a\u4e4b\u540e\u89c9\u5f97\u5df2\u7ecf\u5927\u5f7b\u5927\u609f\u3002\u4f46\u7f16\u8005\u60f3\u8981\u544a\u8bc9\u4f60\u7684\u662f\uff0c\u90a3\u4e9b\u9b54\u6cd5\u5e76\u4e0d\u662f JavaScript \u7684\u6838\u5fc3\uff0c\u56de\u8c03\u548c\u5230\u5904\u98de\u7684\u533f\u540d\u51fd\u6570\u624d\u4f1a\u662f\u4f60\u5b9e\u9645\u63a5\u89e6 JavaScript \u5de5\u7a0b\u65f6\u5904\u7406\u6700\u591a\u7684\u3002</p> <p>\u8fd9\u4e00\u90e8\u5206\u5c06\u4f1a\u8bb2\u89e3\u56de\u8c03\u6a21\u5f0f\u3002\u5982\u679c\u8bfb\u8005\u5df2\u7ecf\u7406\u89e3\u638c\u63e1\uff0c\u5219\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u56de\u8c03\u6a21\u5f0f\u4ece\u8868\u9762\u4e0a\u8bb2\uff0c\u5b9e\u9645\u5c31\u662f\u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u53e6\u4e00\u4e2a\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u9996\u5148\u9700\u8981\u7406\u89e3\u4ec0\u4e48\u662f\u51fd\u6570\u53c2\u6570\u3002\u5f53\u4e00\u4e2a\u51fd\u6570\u65e0\u6cd5\u81ea\u5df1\u83b7\u53d6\u5230\u67d0\u4e00\u4e9b\u4fe1\u606f\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u901a\u8fc7\u5916\u90e8\u5c06\u8fd9\u4e9b\u4fe1\u606f\u901a\u8fc7\u53c2\u6570\u901a\u77e5\u7ed9\u51fd\u6570\u3002\u6bd4\u5982\u8bf4\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>function sum(x, y) {\n    return x + y;\n}\n\n// We tell the function that it needs to add 1 &amp; 3 by passing parameters.\nlet a = sum(1, 3);\n</code></pre> <p>\u51fd\u6570 <code>sum</code> \u662f\u6ca1\u6709\u529e\u6cd5\u81ea\u5df1\u83b7\u53d6\u5176\u9700\u8981\u7ed9\u54ea\u4e24\u4e2a\u6570\u503c\u6c42\u548c\uff0c\u6240\u4ee5\u5916\u90e8\u8c03\u7528\u51fd\u6570\u7684\u65f6\u5019\u9700\u8981\u4f20\u5165\u8fd9\u4e2a\u4fe1\u606f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u51fd\u6570\u53c2\u6570\u7684\u4f5c\u7528\u662f\u8865\u5168\u51fd\u6570\u6240\u9700\u8981\u4e86\u89e3\u7684\u4fe1\u606f\u3002</p> <p>\u4f46\u662f\u6709\u4e00\u4e9b\u51fd\u6570\uff0c\u5b83\u6b20\u7f3a\u7684\u4e0d\u4e00\u5b9a\u662f\u201c\u67d0\u4e00\u4e2a\u53d8\u91cf\u662f\u4ec0\u4e48\u201d\u8fd9\u6837\u7684\u4fe1\u606f\uff0c\u5b83\u6b20\u7f3a\u7684\u53ef\u80fd\u662f\u201c\u6211\u4eec\u9700\u8981\u5b83\u505a\u4ec0\u4e48\u201d\u8fd9\u6837\u7684\u4fe1\u606f\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u60f3\u628a\u4e0a\u9762\u7684 <code>sum</code> \u51fd\u6570\u62d3\u5c55\u529f\u80fd\uff0c\u5347\u7ea7\u4e3a\u4e00\u4e2a\u52a0\u51cf\u4e58\u9664\u90fd\u80fd\u7b97\u7684\u51fd\u6570\u3002\u90a3\u4e48\u95ee\u9898\u5c31\u51fa\u73b0\u5728\uff0c\u6211\u5982\u4f55\u544a\u8bc9\u8fd9\u4e2a\u51fd\u6570\uff0c\u5b83\u5e94\u8be5\u5bf9 <code>x, y</code> \u505a\u4ec0\u4e48\u64cd\u4f5c\u3002</p> <p>\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\u662f\u4f20\u5165\u4e00\u4e2a\u6574\u6570\u6216\u8005\u4e00\u4e2a\u5b57\u7b26\uff0c\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u5e94\u8be5\u8fdb\u884c\u4ec0\u4e48\u6837\u7684\u8fd0\u7b97\uff1a</p> <pre><code>function calculate(x, y, op) {\n    switch (op) {\n        case \"+\": return x + y;\n        case \"-\": return x - y;\n        case \"*\": return x * y;\n        case \"/\": return x / y;\n        default: return undefined;\n    }\n}\n</code></pre> <p>\u4f46\u8fd9\u79cd\u89e3\u51b3\u65b9\u6cd5\u5c31\u9700\u8981\u6211\u4eec\u4e8b\u5148\u7ea6\u5b9a <code>op</code> \u5b57\u7b26\u7684\u503c\u548c\u51fd\u6570\u8fdb\u884c\u7684\u64cd\u4f5c\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u90a3\u4e3a\u4f55\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u544a\u8bc9 <code>calculate</code> \u51fd\u6570\u5b83\u9700\u8981\u8fdb\u884c\u4ec0\u4e48\u64cd\u4f5c\u5462\uff1f</p> <p>\u6211\u4eec\u901a\u8fc7\u51fd\u6570\u63cf\u8ff0\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\uff0c\u800c\u544a\u8bc9\u51fd\u6570\u5b83\u9700\u8981\u8fdb\u884c\u4ec0\u4e48\u64cd\u4f5c\uff0c\u5c31\u662f\u5c06\u63cf\u8ff0\u64cd\u4f5c\u7684\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u8fd9\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u88ab\u4f20\u5165\u5230\u5176\u4ed6\u51fd\u6570\u91cc\u7684\u51fd\u6570\u5c31\u79f0\u4e3a\u56de\u8c03\u51fd\u6570\u3002\u5176\u540d\u79f0\u53ef\u4ee5\u5927\u81f4\u7406\u89e3\u4e3a\u201c\u8fd9\u4e2a\u51fd\u6570\u73b0\u5728\u4f20\u8fdb\u53bb\u4f46\u6682\u4e14\u4e0d\u8c03\u7528\uff0c\u9700\u8981\u7684\u65f6\u5019\u518d\u8c03\u7528\u201d\uff1a</p> <pre><code>function calculate(x, y, op) {\n    return op(x, y);\n}\n\ncalculate(1, 2, function (x, y) { return x + y; }); // 3\ncalculate(1, 2, function (x, y) { return x - y; }); // -1\ncalculate(1, 2, function (x, y) { return x; }); // 1\n</code></pre> <p>\u5173\u4e8e\u56de\u8c03\u51fd\u6570\u66f4\u6df1\u5c42\u6b21\u7684\u8fd0\u7528\u4f1a\u5728 JavaScript \u5f02\u6b65\u90e8\u5206\u8bb2\u89e3\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0cJavaScript \u6709\u5173\u6570\u7ec4\u7684\u5404\u79cd\u64cd\u4f5c\u51e0\u4e4e\u5168\u90fd\u4f7f\u7528\u4e86\u56de\u8c03\u6a21\u5f0f\uff0c\u6bd4\u5982\u8bf4\u904d\u5386\u6570\u7ec4\u7684\u64cd\u4f5c\uff1a</p> <pre><code>[1, 2, 3, 4].forEach(function (val, ind) {\n    console.log(`The elem with index ${ind} is ${val}.\\n`);\n});\n</code></pre> <p><code>forEach</code> \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u4f1a\u628a\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u8fd9\u4e2a\u56de\u8c03\u5e76\u6267\u884c\u3002</p> <p>\u53e6\u5916\u7684\u4f8b\u5b50\u8fd8\u6709\u6570\u7ec4\u7684\u6620\u5c04\u51fd\u6570 <code>map</code>\uff1a</p> <pre><code>[1, 2, 3, 4].map(function (val) {\n    return 2 * val;\n}); // [2, 4, 6, 8]\n\nlet arr = [1, 2, 3, 4];\nlet newArr = [];\nfor (let i = 0; i &lt; arr.length; ++i) newArr.push(2 * arr[i]);\n</code></pre> <p>\u8fd9\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\uff0c\u4f46\u662f JavaScript \u66f4\u503e\u5411\u4e8e\u9009\u62e9\u524d\u8005\uff0c\u56e0\u4e3a\u8fd9\u79cd\u56de\u8c03\u5f0f\u7684\u94fe\u6761\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u52a0\u957f\uff0c\u5728\u5904\u7406\u6570\u7ec4\u7684\u65f6\u5019\u5c24\u5176\u65b9\u4fbf\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u9700\u8981\u5c06\u63a5\u6536\u5230\u7684\u6570\u636e\u6e05\u6d17\u683c\u5f0f\u4e4b\u540e\u7b5b\u9009\u51fa\u5408\u6cd5\u6570\u636e\u5e76\u6392\u5e8f\uff1a</p> <pre><code>response.data\n    .map(function (val, ind) {\n        return {\n            ...val,\n            index: ind,\n        };\n    })\n    .filter(function (val) {\n        return val.name !== undefined;\n    })\n    .sort(function (a, b) {\n        return a.subscriberNum - b.subscriberNum;\n    });\n</code></pre> <p>\u5982\u679c\u7528 C/C++ \u683c\u5f0f\u8fdb\u884c\u7f16\u5199\uff0c\u5219\u53ef\u80fd\u7a0d\u663e\u590d\u6742\u3002</p> <p>\u5c55\u5f00\u8fd0\u7b97\u7b26</p> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86 <code>...</code> \u8fd0\u7b97\u7b26\uff0c\u8be5\u8fd0\u7b97\u7b26\u5982\u679c\u8bb2\u89e3\u5176\u8fd0\u4f5c\u7ec6\u8282\u5219\u663e\u5f97\u5197\u4f59\uff0c\u6240\u4ee5\u8fd9\u91cc\u8bb2\u89e3\u5176\u5728\u5b9e\u9645\u5de5\u7a0b\u4e2d\u5e38\u89c1\u7684\u7528\u6cd5\uff1a</p> <pre><code>let obj = { a: 1, b: 2, c: 3 };\nlet another = { ...obj, c: 2, d: 4 }; // { a: 1, b: 2, c: 2, d: 4 }\n</code></pre> <p>\u8fd9\u91cc <code>...obj</code> \u7684\u542b\u4e49\u5c31\u662f\u5c06 <code>obj</code> \u5bf9\u8c61\u5c55\u5f00\u6210\u952e\u503c\u5bf9\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u91cc <code>another</code> \u5bf9\u8c61\u5c31\u83b7\u5f97\u4e86 <code>a: 1</code>\u3001<code>b: 2</code>\u3001<code>c: 3</code> \u8fd9\u4e09\u4e2a\u952e\u503c\u5bf9\u3002\u800c\u5982\u679c\u540e\u7eed\u7684\u952e\u503c\u5bf9\u548c <code>obj</code> \u4e4b\u4e2d\u7684\u53d1\u751f\u91cd\u5408\uff08\u5982\u8fd9\u91cc <code>another</code> \u4e2d\u91cd\u65b0\u5b9a\u4e49\u4e86 <code>c</code> \u8fd9\u4e2a\u5c5e\u6027\uff09\uff0c\u5219\u540e\u8005\u8986\u76d6\u524d\u8005\u3002\u6240\u4ee5\u8fd9\u91cc\u65b0\u5b9a\u4e49\u7684 <code>c: 2</code> \u8986\u76d6\u6389 <code>obj</code> \u4e4b\u4e2d\u7684 <code>c: 3</code>\u3002</p> <p>\u8fd9\u4e2a\u8bed\u6cd5\u7684\u91cd\u8981\u7528\u9014\u5c31\u662f\uff0c\u5982\u679c\u6211\u9700\u8981\u6839\u636e\u4e00\u4e2a\u5df2\u6709\u5bf9\u8c61 <code>obj</code> \u6784\u9020\u4e00\u4e2a\u65b0\u5bf9\u8c61 <code>another</code>\uff0c\u65b0\u5bf9\u8c61\u548c\u5df2\u6709\u5bf9\u8c61\u4ec5\u6709\u4e00\u4e2a\u952e\u503c\u5bf9\u4e0d\u540c\uff0c\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a</p> <pre><code>const getNewObjectWithOnePropChanged = (obj, value) =&gt; {\n    return {\n        ...obj,\n        keyToBeChanged: value,\n    }\n}\n</code></pre>"},{"location":"languages/javascript/function/#_4","title":"\u5ef6\u8fdf\u6267\u884c","text":"<p>\u5728\u5404\u4e2a JavaScript \u8fd0\u884c\u65f6\u4e2d\u90fd\u5305\u542b\u4e86\u4ee5\u4e0b\u4e24\u4e2a\u51fd\u6570\u7528\u4e8e\u5b9a\u65f6\u6267\u884c\u4efb\u52a1\uff1a</p> <pre><code>setTimeout(() =&gt; {\n  // do something\n}, 1000);\n\nsetInterval(() =&gt; {\n  // do something\n}, 1000);\n</code></pre> <p>\u4e24\u4e2a\u51fd\u6570\u4f20\u5165\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u90fd\u662f\u8981\u6267\u884c\u7684\u4efb\u52a1\uff0c\u7b2c\u4e8c\u4e2a\u51fd\u6570\u662f\u7b49\u5f85\u7684\u65f6\u95f4\uff08\u6beb\u79d2\u6570\uff09\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e <code>setTimeout</code> \u7684\u56de\u8c03\u53ea\u6267\u884c\u4e00\u6b21\uff0c<code>setInterval</code> \u7684\u56de\u8c03\u51fd\u6570\u4f1a\u4ee5\u4f20\u5165\u7684\u65f6\u95f4\u95f4\u9694\u53cd\u590d\u6267\u884c\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e JavaScript \u7684\u4e8b\u4ef6\u5faa\u73af\u6a21\u578b\uff0c\u4e0a\u8ff0\u7684\u5ef6\u8fdf\u65f6\u95f4\u5e76\u4e0d\u662f\u7cbe\u786e\u7684\uff0c\u4f8b\u5982\u5f53\u5176\u4ed6\u590d\u6742\u4efb\u52a1\u6b63\u5728\u963b\u585e\u8fd0\u884c\u65f6\uff0c\u4efb\u52a1\u4f1a\u6309\u7167\u4e0a\u8ff0\u65f6\u95f4\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\uff0c\u4f46\u6267\u884c\u65f6\u95f4\u4f1a\u6709\u6240\u5ef6\u8fdf\u3002</p>"},{"location":"languages/javascript/function/#_5","title":"\u95ed\u5305","text":"<p>\u51fd\u6570\u65e2\u7136\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u3002\u6bd4\u5982\u8bf4\uff1a</p> <pre><code>function getIncreaser(increment) {\n    return function (x) {\n        return x + increment;\n    }\n}\n\nconst increase5 = getIncreaser(5);\nincrease5(10); // 15\n</code></pre> <p>\u6bd4\u5982\u8bf4\u4e0a\u8ff0\u7684 <code>getIncreaser</code> \u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u4e00\u4e2a\u201c\u6570\u636e\u589e\u957f\u5668\u201d\uff0c\u800c\u5177\u4f53\u7ed9\u6570\u636e\u589e\u52a0\u591a\u5c11\uff0c\u5219\u662f\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u7684\u53c2\u6570\u3002<code>getIncreaser</code> \u4f1a\u628a <code>increment</code> \u53d8\u91cf\u5305\u88c5\u5728\u5176\u8fd4\u56de\u7684\u533f\u540d\u51fd\u6570\u4e4b\u4e2d\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u95ed\u5305\u3002</p> <p>\u95ed\u5305\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u548c\u5bf9\u5176\u5468\u56f4\u72b6\u6001\uff08lexical environment\uff0c\u8bcd\u6cd5\u73af\u5883\uff09\u7684\u5f15\u7528\u6346\u7ed1\u5728\u4e00\u8d77\u3002\u8fd9\u91cc\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u95ed\u5305\u7684\u6240\u8c13\u8bcd\u6cd5\u73af\u5883\uff0c\u6307\u7684\u662f\u521b\u5efa\u95ed\u5305\u65f6\u7684\u51fd\u6570\u4f5c\u7528\u57df\u3002</p> <p>\u4f46\u95ed\u5305\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u8bf4\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>function getCounters() {\n    var arr = [];\n    for (var i = 0; i &lt; 3; ++i) {\n        arr.push(function () { console.log(i * i); });\n    }\n    return arr;\n}\n\nvar counters = getCounters();\ncounters[0](); // 9\ncounters[1](); // 9\ncounters[2](); // 9\n</code></pre> <p>\u8fd9\u4e9b\u4ee3\u7801\u7684\u9884\u671f\u6267\u884c\u7ed3\u679c\u5e94\u8be5\u662f <code>0, 1, 4</code>\uff0c\u56e0\u4e3a\u5728\u5c06\u51fd\u6570\u6253\u5305\u7684\u65f6\u5019 <code>i</code> \u7684\u503c\u5e94\u8be5\u5206\u522b\u662f <code>0, 1, 2</code>\u3002\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u51fd\u6570\u6253\u5305\u6210\u95ed\u5305\u7684\u65f6\u5019\uff0c\u53ea\u5355\u7eaf\u5b58\u50a8\u4e86\u4e34\u65f6\u53d8\u91cf\u7684\u5f15\u7528\uff0c\u800c\u5230\u771f\u6b63\u6267\u884c\u95ed\u5305\u51fd\u6570\u7684\u65f6\u5019\u624d\u4f1a\u53bb\u8bbf\u95ee\u8fd9\u4e9b\u4e34\u65f6\u53d8\u91cf\u7684\u503c\u3002\u4e0a\u9762\u4f8b\u5b50\u4e4b\u4e2d\u7684\u95ed\u5305\u51fd\u6570\u5728\u771f\u6b63\u6267\u884c\u7684\u65f6\u5019\uff0c\u6240\u5f15\u7528\u7684 <code>i</code> \u5df2\u7ecf\u662f <code>3</code> \u4e86\uff0c\u6240\u4ee5\u7ed3\u679c\u5168\u4e3a <code>9</code>\u3002</p> <p>\u95ed\u5305\u5f15\u7528\u4f1a\u53d1\u751f\u53d8\u5316\u7684\u91cf\u662f\u5371\u9669\u7684</p> <p>\u6839\u636e\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u5c31\u5df2\u7ecf\u53ef\u4ee5\u770b\u51fa\uff0c\u95ed\u5305\u6240\u5f15\u7528\u7684\u4e34\u65f6\u53d8\u91cf\u6700\u597d\u662f\u5e38\u91cf\u6216\u786e\u5b9a\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u7684\u91cf\uff0c\u8fd9\u6837\u81f3\u5c11\u53ef\u4ee5\u8ba9\u95ed\u5305\u7684\u884c\u4e3a\u53ef\u63a7\u3002</p> <p>\u6211\u4eec\u6765\u60f3\u60f3\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u8bfb\u8005\u53ef\u80fd\u5df2\u7ecf\u60f3\u5230\u4e86\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u628a <code>i</code> \u5305\u88c5\u5230\u95ed\u5305\u4e4b\u524d\u9996\u5148\u4f7f\u7528\u5176\u5b83\u53d8\u91cf\u6355\u83b7\uff1a</p> <pre><code>function getCounters() {\n    var arr = [];\n    for (var i = 0; i &lt; 3; ++i) {\n        var j = i; // Capture i here\n        arr.push(function () { console.log(j * j); });\n    }\n    return arr;\n}\n\nvar counters = getCounters();\ncounters[0](); // 4\ncounters[1](); // 4\ncounters[2](); // 4\n</code></pre> <p>\u4f46\u4f9d\u7136\u6709 bug\uff0c\u539f\u56e0\u662f JavaScript \u7684\u53d8\u91cf\u63d0\u5347\uff0c\u8fd9\u4e00\u90e8\u5206\u53ef\u4ee5\u53c2\u8003\u5148\u524d\u7684\u8bb2\u89e3\u3002\u7531\u4e8e <code>j</code> \u4f7f\u7528\u4e86 <code>var</code> \u58f0\u660e\uff0c\u6240\u4ee5\u5176\u58f0\u660e\u5b9e\u9645\u4e0a\u4f1a\u88ab\u63d0\u5347\u5230\u51fd\u6570\u6700\u524d\u9762\uff0c\u5bfc\u81f4\u5176\u8fd8\u662f\u8ddf\u968f\u7740 <code>i</code> \u88ab\u4fee\u6539\u4e86\u3002</p> <p>\u4e3a\u4e86\u9632\u6b62\u53d8\u91cf\u63d0\u5347\uff0c\u6709\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\u518d\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\u4f5c\u7528\u57df\u9632\u6b62\u8fc7\u5ea6\u63d0\u5347\uff1a</p> <pre><code>function getCounters() {\n    var arr = [];\n    for (var i = 0; i &lt; 3; ++i) {\n        arr.push((function (i) {\n            return function () { console.log(i * i); };\n        })(i));\n    }\n    return arr;\n}\n\nvar counters = getCounters();\ncounters[0](); // 0\ncounters[1](); // 1\ncounters[2](); // 4\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u53c8\u521b\u5efa\u4e86\u4e00\u4e2a\u95ed\u5305\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u95ed\u5305\u7acb\u523b\u6267\u884c\uff0c\u628a <code>i</code> \u4f20\u8fdb\u53bb\uff0c\u8fd9\u6837\u7684\u8bdd <code>i</code> \u5c31\u53d8\u6210\u4e86\u8fd9\u4e2a\u95ed\u5305\u5185\u90e8\u7684\u53c2\u6570 <code>i</code>\uff0c\u4e0d\u4f1a\u968f\u7740\u5916\u9762\u7684\u5faa\u73af\u53d8\u91cf <code>i</code> \u6539\u53d8\u800c\u6539\u53d8\u3002</p> <p>\u4f46\u5b9e\u9645\u4e0a\u4e4b\u524d\u8bb2\u89e3\u53d8\u91cf\u63d0\u5347\u7684\u65f6\u5019\u6211\u4eec\u5c31\u63d0\u8fc7\uff0c\u89e3\u51b3\u53d8\u91cf\u63d0\u5347\u6700\u597d\u7684\u65b9\u5f0f\u5c31\u662f\u4e0d\u7528 <code>var</code>\u3002\u6240\u4ee5\u8bf4\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u6700\u597d\u65b9\u6848\u5e94\u8be5\u662f\uff1a</p> <pre><code>function getCounters() {\n    let arr = [];\n    for (let i = 0; i &lt; 3; ++i) {\n        arr.push(function () { console.log(i * i); });\n    }\n    return arr;\n}\n\nlet counters = getCounters();\ncounters[0](); // 0\ncounters[1](); // 1\ncounters[2](); // 4\n</code></pre> <p>\u8fd9\u6837\u7684\u4ee3\u7801\u4e0d\u4ec5\u6b63\u786e\u4e86\uff0c\u53ef\u8bfb\u6027\u4e5f\u5f88\u597d\u3002</p> <p>\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\uff1f</p> <p>\u4e8b\u5b9e\u4e0a\u8fd9\u91cc\u6b63\u786e\u5e76\u4e0d\u662f\u56e0\u4e3a <code>let</code> \u5173\u952e\u5b57\u5e26\u6765\u4e86\u4ec0\u4e48\u7279\u6b8a\u5904\u7406\uff0c\u800c\u662f\u56e0\u4e3a\u4f5c\u7528\u57df\u4e0d\u518d\u662f\u51fd\u6570\u4f5c\u7528\u57df\u3002 \u8003\u8651\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u867d\u7136\u4f7f\u7528\u4e86 <code>let</code> \u5173\u952e\u5b57\uff0c\u4f46\u4f5c\u7528\u57df\u4ecd\u662f\u51fd\u6570\u4f5c\u7528\u57df\uff1a</p> <pre><code>function getCounters() {\n    let arr = [];\n    let i = 0;  // \u6ce8\u610f\u5728\u8fd9\u91cc\u58f0\u660e\u7684 i \u662f\u51fd\u6570\u4f5c\u7528\u57df\n    for (i = 0; i &lt; 3; ++i) {\n        arr.push(function () { console.log(i * i); });\n    }\n    return arr;\n}\n\nlet counters = getCounters();\ncounters[0](); // 9\ncounters[1](); // 9\ncounters[2](); // 9\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u7ed3\u679c\u4ecd\u7136\u662f\u9519\u8bef\u7684\u3002</p> <p>\u90a3\u4e48\u4e3a\u4ec0\u4e48\u4f5c\u7528\u57df\u662f\u5c40\u90e8\u4f5c\u7528\u57df\u65f6\u5c31\u5bf9\u4e86\u5462\uff1f \u539f\u56e0\u5728\u4e8e\u5728\u95ed\u5305\u6355\u83b7\u53d8\u91cf\u65f6\uff0c\u5bf9\u5c40\u90e8\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u4f1a\u590d\u5236\uff0c\u800c\u5bf9\u51fd\u6570\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u4f1a\u5f15\u7528\u3002 \u56e0\u6b64\uff0c\u901a\u8fc7\u5728 <code>for</code> \u8bed\u53e5\u4e2d\u4f7f\u7528 <code>let</code> \u58f0\u660e\u53d8\u91cf\uff0c\u6211\u4eec\u58f0\u660e\u4e86\u5c40\u90e8\u53d8\u91cf\uff0c\u4ece\u800c\u83b7\u5f97\u4e86\u671f\u671b\u7684\u590d\u5236\u6355\u83b7\u884c\u4e3a\u3002</p> <p>\u6b64\u5916\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u4f1a\u5e2e\u4f60\u590d\u5236\u5bf9\u8c61\uff08\u4e0a\u9762\u88ab\u6355\u83b7\u7684 <code>int</code> \u662f\u57fa\u672c\u503c\u800c\u975e\u5bf9\u8c61\uff09\uff0c\u5982\u679c\u4f60\u7684\u95ed\u5305\u6355\u83b7\u4e00\u4e2a\u5bf9\u8c61\u7684\u503c\uff0c\u65e0\u8bba\u8fd9\u4e2a\u5bf9\u8c61\u7684\u4f5c\u7528\u57df\u5982\u4f55\uff0c\u90fd\u4f1a\u4ea7\u751f\u7c7b\u4f3c\u95ee\u9898\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u91cc\u5e76\u975e\u57fa\u672c\u503c\u88ab\u7279\u6b8a\u5730\u5bf9\u5f85\uff0c\u800c\u662f\u5bf9\u8c61\u7c7b\u578b\u7684\u53d8\u91cf\u5b58\u50a8\u7684\u503c\u662f\u5230\u5b9e\u9645\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u56e0\u6b64\u5728\u6355\u83b7\u65f6\u590d\u5236\u7684\u662f\u5f15\u7528\uff08\u6d45\u62f7\u8d1d\uff09\u800c\u975e\u5b9e\u9645\u5bf9\u8c61\uff08\u6df1\u62f7\u8d1d\uff09\u3002\u9664\u975e\u4f60\u660e\u786e\u5730\u60f3\u8981\u4fdd\u5b58\u4e00\u4e9b\u503c\uff0c\u5426\u5219\u5728\u6784\u9020\u95ed\u5305\u65f6\u8bf7\u6ce8\u610f\u6355\u83b7\u5b9e\u9645\u7684\u503c\uff0c\u800c\u975e\u5f15\u7528\u3002</p>"},{"location":"languages/javascript/oop-advance/","title":"JavaScript \u7684\u9762\u5411\u5bf9\u8c61\u8fdb\u9636","text":""},{"location":"languages/javascript/oop-advance/#javascript","title":"JavaScript \u7684\u9762\u5411\u5bf9\u8c61\u8fdb\u9636","text":"<p>\u4e00\u4e9b\u53ef\u80fd\u4e0d\u5fc5\u8981\u7684\u77e5\u8bc6</p> <p>\u672c\u7ae0\u8282\u5c06\u4e3b\u8981\u8bb2\u89e3 JavaScript \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u539f\u578b\u94fe\u903b\u8f91\uff0c\u4f46\u8fd9\u4e9b\u77e5\u8bc6\u5bf9\u4e8e JavaScript \u7684\u521d\u5b66\u8005\u5e76\u4e0d\u4e00\u5b9a\u5fc5\u8981\u3002\u6240\u4ee5\u7f16\u8005\u5efa\u8bae\u5982\u679c\u53ea\u662f\u60f3\u5b66\u4e60 JavaScript \u57fa\u7840\u8bed\u6cd5\u540e\u76f4\u63a5\u8f6c TypeScript \u4ee5\u53ca\u4e0a\u624b\u524d\u7aef\u6846\u67b6\uff0c\u5219\u4e0d\u9700\u8981\u6d6a\u8d39\u65f6\u95f4\u5b66\u4e60\u8fd9\u4e00\u90e8\u5206\u3002\u60f3\u8981\u6df1\u5165\u4e86\u89e3\u8fd9\u4e00\u95e8\u8bed\u8a00\u7684\u8bfb\u8005\uff0c\u7f16\u8005\u5efa\u8bae\u4e00\u5b9a\u8981\u5b66\u4e60\u8fd9\u4e00\u90e8\u5206\u3002</p>"},{"location":"languages/javascript/oop-advance/#javascript_1","title":"JavaScript \u7684\u7b2c\u4e00\u539f\u5219","text":"<p>\u8fd9\u91cc\uff0c\u8ba9\u6211\u4eec\u9996\u5148\u94ed\u8bb0\u8fd9\u6837\u7684\u4e00\u53e5\u8bdd\uff1a</p> <p>\u51fd\u6570\u662f JavaScript \u7684\u4e00\u7b49\u516c\u6c11\uff0c\u5bf9\u8c61\u7531\u51fd\u6570\u521b\u5efa\u3002</p> <p>\u6216\u8bb8\u6211\u4eec\u5e38\u89c1\u7684\u521b\u5efa\u5bf9\u8c61\u7684\u65b9\u5f0f\u662f\uff1a</p> <pre><code>let a = {\n    foo: 1,\n    bar: \"foobar\",\n};\n\nlet b = [1, 2, 3];\n</code></pre> <p>\u4f46\u8fd9\u53ea\u662f\u65b9\u4fbf\u7f16\u7a0b\u7684\u8bed\u6cd5\u7cd6\uff0c\u6211\u4eec\u8fd9\u91cc\u5e0c\u671b\u4f7f\u7528\u4e0b\u8ff0\u66f4\u4e3a\u672c\u8d28\u7684\u521b\u5efa\u65b9\u5f0f\uff1a</p> <pre><code>let a = new Object();\na.foo = 1;\na.bar = \"foobar\";\n\nlet b = new Array();\nb[0] = 1;\nb[1] = 2;\nb[2] = 3;\n</code></pre> <p>\u800c\u8fd9\u91cc <code>Object</code> \u548c <code>Array</code> \u662f\u4e24\u4e2a\u51fd\u6570\uff0c\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u53ef\u4ee5\u7406\u89e3\u4e3a\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>typeof Object; // function\ntypeof Array; // function\n</code></pre>"},{"location":"languages/javascript/oop-advance/#_1","title":"\u539f\u578b\u548c\u6784\u9020\u51fd\u6570","text":"<p>\u6211\u4eec\u8bf4\u8fc7\u5bf9\u8c61\u90fd\u662f\u51fd\u6570\u6784\u9020\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u4ece\u6784\u9020\u51fd\u6570\u51fa\u53d1\u8bb2\u89e3 JavaScript \u7684\u9762\u5411\u5bf9\u8c61\u3002</p> <p>\u6784\u9020\u51fd\u6570\u7684\u4f5c\u7528\u662f\u6784\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u6bd4\u5982\u8bf4\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2a\u6839\u636e\u4f20\u5165\u53c2\u6570\u6784\u9020\u5177\u6709\u4e00\u79cd\u7279\u5b9a\u5f62\u5f0f\u7684\u5bf9\u8c61\u7684\u51fd\u6570\uff1a</p> <pre><code>function createStudent(_name, _age) {\n    let res = {};\n    res.name = _name;\n    res.age = _age;\n    return res;\n}\n\nlet stu = createStudent(\"Ashitemaru\", 22);\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u5c31\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5b66\u751f\u7684\u540d\u5b57\u548c\u5e74\u9f84\uff0c\u6784\u9020\u51fa\u4e00\u4e2a\u5305\u542b\u8fd9\u4e24\u4e2a\u4fe1\u606f\u7684\u3001\u63cf\u8ff0\u8fd9\u4e2a\u5b66\u751f\u7684\u5bf9\u8c61\u5e76\u8fd4\u56de\u3002\u8fd9\u7c7b\u9700\u6c42\uff0c\u5373\u6839\u636e\u4fe1\u606f\u6784\u9020\u6307\u5b9a\u5f62\u5f0f\u5bf9\u8c61\u7684\u9700\u6c42\u662f\u5f88\u5e38\u89c1\u7684\uff0c\u6240\u4ee5 JavaScript \u5c31\u63d0\u4f9b\u4e86\u8bed\u6cd5\u4e0a\u7684\u652f\u6301\u4ee5\u5c06\u5176\u4e0e\u666e\u901a\u51fd\u6570\u533a\u5206\u5f00\u3002\u6bd4\u5982\u4e0a\u8ff0\u51fd\u6570\u5c31\u53ef\u4ee5\u5199\u4e3a\uff1a</p> <pre><code>function Student(_name, _age) {\n    this.name = _name;\n    this.age = _age;\n}\n\nlet stu = new Student(\"Ashitemaru\", 22);\n</code></pre> <p>\u8fd9\u91cc\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u79cd\u8c03\u7528\u65b9\u5f0f\u5c31\u533a\u5206\u4e86\u6784\u9020\u51fd\u6570\u548c\u666e\u901a\u51fd\u6570\u3002\u5e76\u4e14\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u4e0d\u7528\u6211\u4eec\u518d\u81ea\u5df1\u6784\u9020\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u800c\u662f\u76f4\u63a5\u4f7f\u7528 <code>this</code> \u5bf9\u8c61\uff0c\u5e76\u4e14\u5728\u4f7f\u7528 <code>new</code> \u8c03\u7528\u7684\u65f6\u5019\uff0c\u51fd\u6570\u4f1a\u81ea\u52a8\u5c06 <code>this</code> \u8fd4\u56de\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u4e0d\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\u4e5f\u662f\u5408\u6cd5\u7684\uff0c\u8fd9\u6837\u7684\u8bdd\u8be5\u51fd\u6570\u5c06\u4f1a\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u6267\u884c\u5e76\u8fd4\u56de <code>undefined</code>\u3002</p> <p>\u53ef\u80fd\u7684\u8bed\u6cd5\u7f3a\u9677</p> <p>\u5982\u679c\u6211\u4eec\u4e0d\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u4e0a\u8ff0\u6784\u9020\u51fd\u6570\uff0c\u6839\u636e\u5148\u524d\u7684\u77e5\u8bc6\uff0c\u8fd9\u91cc <code>this</code> \u5c31\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u4ece\u800c\u8bed\u53e5 <code>this.name = _name</code> \u5c06\u4f1a\u6784\u9020\u51fa\u4e00\u4e2a\u65b0\u7684\u5168\u5c40\u5bf9\u8c61\uff1a</p> <pre><code>function Student(_name, _age) {\n    this.name = _name;\n    this.age = _age;\n}\n\nlet stu = Student(\"Ashitemaru\", 22);\n\nstu; // undefined\nname; // Ashitemaru\n</code></pre> <p>\u8fd9\u662f\u4e00\u79cd\u5371\u9669\u7684\u884c\u4e3a\uff0c\u56e0\u4e3a\u5176\u53ef\u4ee5\u6c61\u67d3\u5168\u5c40\u4f5c\u7528\u57df\u3002</p> <p>\u76ee\u524d\u5927\u90e8\u5206\u4ee3\u7801\u68c0\u67e5\u5de5\u5177\u90fd\u4f1a\u8981\u6c42\u6784\u9020\u51fd\u6570\u540d\u79f0\u9996\u5b57\u6bcd\u5927\u5199\u4ee5\u793a\u533a\u5206\uff0c\u57fa\u4e8e\u6b64\uff0c\u4f1a\u5f3a\u5236\u68c0\u67e5\u6784\u9020\u51fd\u6570\u662f\u5426\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u3002</p> <p>\u6240\u6709\u51fd\u6570\u90fd\u53ef\u4ee5\u662f\u6784\u9020\u51fd\u6570</p> <p>\u5b9e\u9645\u4e0a\u4e00\u822c\u51fd\u6570\u4e5f\u53ef\u4ee5\u7528 <code>new</code> \u8c03\u7528\uff0c\u5176\u4e5f\u4f1a\u89e6\u53d1\u4e00\u6b21\u5bf9\u8c61\u751f\u6210\u5e76\u8fd4\u56de\u751f\u6210\u7684\u5bf9\u8c61\u3002\u800c\u7531\u4e8e <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u4f1a\u8ba9\u51fd\u6570\u5f3a\u884c\u8fd4\u56de <code>this</code> \u5bf9\u8c61\u4ece\u800c\u8986\u76d6\u6389\u539f\u5b9a\u4e49\u7684\u8fd4\u56de\u503c\uff0c\u4f46\u662f\u7531\u4e8e\u4e00\u822c\u51fd\u6570\u5185\u90e8\u4e00\u822c\u4e0d\u4f1a\u8bbe\u5b9a <code>this</code> \u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u4e00\u822c\u51fd\u6570\u4e00\u822c\u4f1a\u5f97\u5230\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff1a</p> <pre><code>function sum(x, y) {\n    return x + y;\n}\n\nlet num = sum(1, 2); // 3\nlet obj = new sum(1, 2); // {}\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u56de\u9000\u4e00\u6b65\uff0c\u601d\u8003\u4e00\u4e0b\u9762\u5411\u5bf9\u8c61\u7684\u610f\u4e49\u3002\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e00\u4e2a\u91cd\u8981\u7684\u601d\u7ef4\u51fa\u53d1\u70b9\u662f\u5c06\u5177\u6709\u7c7b\u4f3c\u62bd\u8c61\u7279\u5f81\u7684\u4e8b\u7269\u5f52\u7eb3\u4e3a\u4e00\u4e2a\u7c7b\uff0c\u6839\u636e\u4e00\u4e2a\u5b9a\u4e49\u597d\u7684\u7c7b\uff0c\u53ef\u4ee5\u521b\u5efa\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u4f1a\u6ee1\u8db3\u7c7b\u5b9a\u4e49\u7684\u6240\u6709\u8981\u6c42\u3002\u6700\u521d\u7684 JavaScript \u8bed\u8a00\u5e76\u6ca1\u6709\u7c7b\u7684\u6982\u5ff5\uff0c\u5176\u8df5\u884c\u9762\u5411\u5bf9\u8c61\u601d\u7ef4\u7684\u65b9\u5f0f\u662f\u91c7\u7528\u539f\u578b\u3002</p> <p>\u539f\u578b\u7684\u542b\u4e49\u5c31\u662f\u4f5c\u4e3a\u539f\u578b\u7684\u8fd9\u4e2a\u5bf9\u8c61\u6240\u884d\u751f\u51fa\u6765\u7684\u5404\u4e2a\u5bf9\u8c61\u90fd\u4e0e\u4e4b\u6709\u8054\u7cfb\uff0c\u6ee1\u8db3\u539f\u578b\u8981\u6c42\u7684\u7ea6\u675f\u3002\u6211\u4eec\u53c8\u8bf4\u8fc7\u6240\u6709\u7684\u5bf9\u8c61\u90fd\u662f\u901a\u8fc7\u51fd\u6570\u751f\u6210\uff0c\u4e0d\u59a8\u8ba9\u6240\u6709\u51fd\u6570\u90fd\u5177\u6709\u4e00\u4e2a <code>prototype</code> \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61 <code>obj</code>\uff0c\u7528\u8fd9\u4e2a\u51fd\u6570\u6784\u9020\u51fa\u6765\u7684\u6240\u6709\u5bf9\u8c61\u90fd\u4ee5 <code>obj</code> \u4e3a\u539f\u578b\uff0c\u6ee1\u8db3\u5176\u7ea6\u675f\u3002</p> <p>\u6bd4\u5982\u8bf4\u201c\u5b66\u751f\u90fd\u5e94\u5f53\u5b66\u4e60\u201d\uff0c\u6211\u4eec\u5e0c\u671b\u6240\u6709\u901a\u8fc7 <code>Student</code> \u51fd\u6570\u6784\u9020\u51fa\u6765\u7684\u5bf9\u8c61\u90fd\u6709 <code>study()</code> \u65b9\u6cd5\u3002\u9664\u53bb\u5728\u6784\u9020\u51fd\u6570\u4e2d\u8fd9\u6837\u5b9a\u4e49\uff1a</p> <pre><code>function Student(_name, _age) {\n    this.name = _name;\n    this.age = _age;\n\n    this.study = () =&gt; {\n        console.log(\"studying...\");\n    };\n}\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728 <code>Student</code> \u7684 <code>prototype</code> \u5c5e\u6027\u4e0b\u5b9a\u4e49\uff1a</p> <pre><code>Student.prototype.study = () =&gt; {\n    console.log(\"studying...\");\n};\n</code></pre> <p>\u5728\u6267\u884c <code>const stu = new Student(\"Ashitemaru\", 22)</code> \u65f6\uff0c\u5b9e\u9645\u4e0a\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>const stu = new Object();\nstu.__proto__ = Student.prototype;\nStudent.call(stu, \"Ashitemaru\", 22);\n</code></pre> <p>\u5185\u7f6e\u5bf9\u8c61\u7684\u539f\u578b</p> <p>\u4e4b\u524d\u6211\u4eec\u8bb2\u5230\u5185\u7f6e\u5bf9\u8c61\u65f6\u867d\u7136\u63d0\u5230\u6784\u9020\u7684\u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u539f\u578b\u7684\u65b9\u6cd5\uff0c\u4f46\u6ca1\u6709\u89e3\u91ca\u8fd9\u4e9b\u5bf9\u8c61\u7684\u539f\u578b\u5230\u5e95\u662f\u4ec0\u4e48\uff0c\u5230\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u660e\u767d\uff0c\u4ee5 <code>Object</code> \u51fd\u6570\u6784\u9020\u7684\u7684\u5bf9\u8c61\uff0c\u5176\u539f\u578b\u5c31\u662f <code>Object.prototype</code>\u3002\u7279\u522b\u5730\uff0c<code>Object.prototype</code> \u7684\u539f\u578b\u662f null\u3002</p> <p>\u8fd9\u6837\uff0c\u901a\u8fc7 <code>Student</code> \u51fd\u6570\u6784\u9020\u51fa\u6765\u7684\u5bf9\u8c61\u5c31\u4ee5 <code>Student.prototype</code> \u4e3a\u539f\u578b\uff0c\u56e0\u6b64\u53ef\u4ee5\u8c03\u7528 <code>study</code> \u65b9\u6cd5\uff1a</p> <pre><code>function Student(_name, _age) {\n    this.name = _name;\n    this.age = _age;\n}\nStudent.prototype.study = () =&gt; {\n    console.log(\"studying...\");\n};\n\nlet stu = new Student(\"Ashitemaru\", 22);\nstu.study(); // studying...\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u8fd0\u884c\u4e0b\u8ff0\u4ee3\u7801\u786e\u5b9a <code>stu</code> \u662f\u4ee5 <code>Student.prototype</code> \u4e3a\u539f\u578b\u6784\u9020\u51fa\u6765\u7684\u5bf9\u8c61\uff1a</p> <pre><code>stu.__proto__ === Student.prototype; // true\n</code></pre> <p><code>__proto__</code> \u5c5e\u6027\u662f\u6240\u6709\u5bf9\u8c61\u90fd\u5177\u6709\u7684\uff0c\u5176\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u5bf9\u8c61\u6784\u9020\u51fd\u6570 <code>prototype</code> \u6240\u6307\u5411\u7684\u5bf9\u8c61\u3002</p> <p>\u5e9f\u5f03\u8b66\u544a</p> <p><code>__proto__</code> \u662f\u5373\u5c06\u5e9f\u5f03\u7684\u5c5e\u6027\uff0c\u5e76\u4e14\u548c Python \u7c7b\u4f3c\uff0c\u5176\u540d\u79f0\u4f7f\u7528\u53cc\u4e0b\u5212\u7ebf\u5305\u56f4\u5b9e\u9645\u4e0a\u5c31\u4ee3\u8868\u4e86\u5176\u7406\u5e94\u79c1\u6709\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u3002</p> <p>\u53e6\u5916\uff0c\u8fd9\u91cc\u4ecb\u7ecd <code>constructor</code> \u5c5e\u6027\u3002\u6240\u6709\u5bf9\u8c61\u90fd\u5177\u6709\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5176\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>stu.constructor === Student; // true\n</code></pre> <p>\u5e76\u4e14\u7531\u4e8e\u539f\u578b\u4e5f\u53ef\u4ee5\u8ba4\u4e3a\u662f\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6784\u9020\uff0c\u6240\u4ee5\uff1a</p> <pre><code>Student.prototype.constructor === Student; // true\n</code></pre> <p>\u8fd9\u6837\u7684\u4e09\u89d2\u5173\u7cfb\u53ef\u4ee5\u603b\u7ed3\u4e3a\uff1a</p> <p></p> <p>\u73b0\u5728\u6211\u4eec\u5c31\u53ef\u4ee5\u4ecb\u7ecd ES6 \u7684\u7c7b\u8bed\u6cd5\u7cd6\u5230\u5e95\u662f\u600e\u4e48\u4e00\u56de\u4e8b\u4e86\uff1a</p> <pre><code>class Student {\n    constructor(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n    }\n\n    study() {\n        console.log(\"studying...\");\n    }\n}\n</code></pre> <p>\u5176\u5b9e\u9645\u4e0a\u662f\u4e0b\u8ff0\u4ee3\u7801\uff08\u4e00\u79cd\u53ef\u80fd\uff09\uff1a</p> <pre><code>var Student = /** @class */ (function () {\n    function Student(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n    }\n    Student.prototype.study = function () {\n        console.log(\"studying...\");\n    }\n\n    return Student;\n}());\n</code></pre> <p>\u53ef\u4ee5\u770b\u89c1\uff0cES6 \u7684\u7c7b\u4e2d\u5b9a\u4e49\u7684\u7c7b\u65b9\u6cd5\u5c31\u4f1a\u88ab\u6302\u8f7d\u5230\u6784\u9020\u51fd\u6570\u7684 <code>prototype</code> \u5c5e\u6027\u4e0b\u3002\u8fd9\u91cc\u5c24\u5176\u6ce8\u610f\u95ed\u5305\u7684\u4f7f\u7528\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u4f5c\u7528\u57df\u6b63\u786e\u3002</p>"},{"location":"languages/javascript/oop-advance/#_2","title":"\u51fd\u6570\u7684\u539f\u578b","text":"<p>\u4e0a\u9762\u6211\u4eec\u90fd\u662f\u4f7f\u7528\u7684\u81ea\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u8bb2\u89e3\u7684\u539f\u578b\uff0c\u90a3\u4e48\u51fd\u6570\u4e5f\u662f\u5bf9\u8c61\uff0c\u4ed6\u4eec\u90fd\u5e94\u8be5\u6709\u539f\u578b\u3002</p> <p>JavaScript \u7684\u51fd\u6570\u7684\u5305\u88c5\u7c7b\u4e3a <code>Function</code>\uff0c<code>Function</code> \u662f\u51fd\u6570\u7684\u6784\u9020\u51fd\u6570\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u58f0\u660e\u51fd\u6570\u8fd8\u6709\u4e00\u79cd\u5199\u6cd5\uff1a</p> <pre><code>const sum = new Function(\"x\", \"y\", \"return x + y\");\nsum(1, 2); // 3\n</code></pre> <p>\u4f46\u663e\u7136\u4e0d\u63a8\u8350\u8fd9\u6837\u5199\u3002</p> <p>\u6309\u7167\u4e00\u4e2a\u5bf9\u8c61\u7684 <code>__proto__</code> \u6307\u5411\u5176\u6784\u9020\u51fd\u6570 <code>prototype</code> \u7684\u539f\u5219\uff0c\u663e\u7136\u6709\uff1a</p> <pre><code>function foo() { }\n\nfoo.__proto__ === Function.prototype; // true\n</code></pre> <p>\u800c\u663e\u7136\uff0c\u6240\u6709\u6784\u9020\u51fd\u6570\u4e5f\u662f\u51fd\u6570\uff1a</p> <pre><code>Object.__proto__ === Function.prototype; // true\nFunction.__proto__ === Function.prototype; // true\n</code></pre> <p>\u8fd9\u91cc\u5c31\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u73af\u72b6\u5f15\u7528\uff0c\u5373 <code>Function.__proto__ === Function.prototype</code>\u3002</p> <p>\u53e6\u5916\uff0c<code>Function</code> \u662f\u6240\u6709\u51fd\u6570\u7684\u6784\u9020\u51fd\u6570\uff0c\u6240\u4ee5\u663e\u7136\u6709\uff1a</p> <pre><code>function foo() { }\n\nfoo.constructor === Function; // true\nFunction.constructor === Function; // true\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u5173\u7cfb\u8bb0\u5f55\u4e0b\u6765\uff0c\u8fd9\u91cc\u6211\u4eec\u5c06 <code>__proto__</code> \u7684\u6307\u5411\u4f7f\u7528\u7ea2\u8272\u7bad\u5934\uff0c\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u540e\u7eed\u8bb2\u89e3\u3002\u540c\u65f6\uff0c\u6211\u4eec\u5c06\u4e00\u822c\u5bf9\u8c61\u3001\u539f\u578b\u3001\u6784\u9020\u51fd\u6570\u7684\u5916\u6846\u989c\u8272\u4f5c\u51fa\u533a\u5206\uff0c\u540e\u7eed\u6211\u4eec\u4e5f\u5c06\u6cbf\u7528\u8fd9\u4e00\u914d\u8272\uff1a</p> <p></p>"},{"location":"languages/javascript/oop-advance/#_3","title":"\u539f\u578b\u7684\u539f\u578b","text":"<p>\u4e0a\u9762\u8ba8\u8bba\u51fd\u6570\u7684\u539f\u578b\uff0c\u4f46\u662f\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u6ca1\u6709\u89e3\u51b3\uff0c\u90a3\u5c31\u662f\u539f\u578b\u4e5f\u662f\u5bf9\u8c61\uff0c\u90a3\u4e48\u539f\u578b\u7684\u539f\u578b\u662f\u4ec0\u4e48\uff1f</p> <p>JavaScript \u8ba4\u4e3a\u6240\u6709\u7684\u539f\u578b\u5747\u662f\u7531 <code>Object</code> \u76f4\u63a5\u4ea7\u751f\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u548c <code>new Object()</code> \u521b\u5efa\u51fa\u6765\u7684\u65e0\u5f02\uff0c\u53ea\u4e0d\u8fc7\u540e\u7eed\u589e\u6dfb\u82e5\u5e72\u5c5e\u6027\u3002\u5728\u8fd9\u6837\u7684\u8bbe\u8ba1\u601d\u60f3\u4e0b\uff0c\u6240\u6709\u539f\u578b\u7684 <code>__proto__</code> \u5747\u6307\u5411 <code>Object.prototype</code>\u3002\u4f46\u6709\u4e2a\u4f8b\u5916\uff0c<code>Object.prototype</code> \u4e5f\u662f\u539f\u578b\uff0c\u4f46\u662f\u5176 <code>__proto__</code> \u6307\u5411 <code>null</code>\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a</p> <p></p> <p>\u8fd9\u79cd\u5173\u7cfb\u770b\u8d77\u6765\u590d\u6742\uff0c\u4f46\u5b9e\u9645\u4e0a\u6838\u5fc3\u5c31\u662f\u627e\u4e09\u5143\u7ec4\uff0c\u5373\u5bf9\u8c61\u3001\u6784\u9020\u51fd\u6570\u548c\u539f\u578b\u7684\u5173\u7cfb\u3002\u590d\u6742\u7684\u539f\u56e0\u53ea\u4e0d\u8fc7\u662f\u51fd\u6570\u4e5f\u662f\u5bf9\u8c61\uff0c\u539f\u578b\u4e5f\u662f\u5bf9\u8c61\u800c\u5df2\u3002</p> <p>Note</p> <p>\u9075\u5faa ECMAScript \u6807\u51c6\uff0c<code>someObject.[[Prototype]]</code> \u7b26\u53f7\u662f\u7528\u4e8e\u6307\u5411 <code>someObject</code> \u7684\u539f\u578b\u3002\u4ece ECMAScript 6 \u5f00\u59cb\uff0c<code>[[Prototype]]</code> \u53ef\u4ee5\u901a\u8fc7 <code>Object.getPrototypeOf()</code> \u548c <code>Object.setPrototypeOf()</code> \u8bbf\u95ee\u5668\u6765\u8bbf\u95ee\u3002\u8fd9\u4e2a\u7b49\u540c\u4e8e JavaScript \u7684\u975e\u6807\u51c6\u4f46\u8bb8\u591a\u6d4f\u89c8\u5668\u5b9e\u73b0\u7684\u5c5e\u6027 <code>__proto__</code>\u3002</p>"},{"location":"languages/javascript/oop-advance/#_4","title":"\u7ee7\u627f","text":""},{"location":"languages/javascript/oop-advance/#_5","title":"\u539f\u578b\u94fe\u7ee7\u627f","text":"<p>\u6211\u4eec\u6240\u8bf4\u7684\u539f\u578b\u94fe\uff0c\u5c31\u662f\u7531 <code>__proto__</code> \u5173\u7cfb\u4e32\u8054\u8d77\u7684\u4e00\u6761\u94fe\uff0c\u6bd4\u5982\u8bf4 <code>stu --&gt; Student.prototype --&gt; Object.prototype --&gt; null</code> \u5c31\u662f\u4e00\u6761\u5b8c\u6574\u7684\u539f\u578b\u94fe\u3002</p> <p>\u5f53\u6211\u4eec\u8bbf\u95ee\u67d0\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u7684\u65f6\u5019\uff0cJavaScript \u5f15\u64ce\u641c\u7d22\u8be5\u5c5e\u6027\u7684\u987a\u5e8f\u662f\uff0c\u9996\u5148\u5bfb\u627e\u8be5\u5bf9\u8c61\u672c\u8eab\u662f\u5426\u5177\u6709\u8be5\u5c5e\u6027\uff0c\u82e5\u6ca1\u6709\u5219\u6cbf\u7740\u539f\u578b\u94fe\u4e0a\u5347\u4e00\u7ea7\uff0c\u5728\u4e0a\u5347\u540e\u7684\u5bf9\u8c61\u91cc\u7ee7\u7eed\u5bfb\u627e\uff0c\u82e5\u6ca1\u6709\u627e\u5230\u5219\u7ee7\u7eed\u4e0a\u5347\uff0c\u76f4\u5230\u4e0a\u5347\u5230 <code>null</code>\u3002</p> <p>\u8fd9\u91cc\u6f14\u793a\u5f53\u5c1d\u8bd5\u8bbf\u95ee\u5c5e\u6027\u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1a</p> <pre><code>// \u8ba9\u6211\u4eec\u4ece\u4e00\u4e2a\u51fd\u6570\u91cc\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61 o\uff0c\u5b83\u81ea\u8eab\u62e5\u6709\u5c5e\u6027 a \u548c b \u7684\uff1a\nfunction f() {\n    this.a = 1;\n    this.b = 2;\n}\nlet o = new f(); // {a: 1, b: 2}\n\n// \u5728 f \u51fd\u6570\u7684\u539f\u578b\u4e0a\u5b9a\u4e49\u5c5e\u6027\nf.prototype.b = 3;\nf.prototype.c = 4;\n\n// \u4e0d\u8981\u5728 f \u51fd\u6570\u7684\u539f\u578b\u4e0a\u76f4\u63a5\u5b9a\u4e49 f.prototype = {b:3,c:4};\u8fd9\u6837\u4f1a\u76f4\u63a5\u6253\u7834\u539f\u578b\u94fe\n// o.[[Prototype]] \u6709\u5c5e\u6027 b \u548c c\n//  (\u5176\u5b9e\u5c31\u662f o.__proto__ \u6216\u8005 o.constructor.prototype)\n// o.[[Prototype]].[[Prototype]] \u662f Object.prototype.\n// \u6700\u540e o.[[Prototype]].[[Prototype]].[[Prototype]] \u662f null\n// \u8fd9\u5c31\u662f\u539f\u578b\u94fe\u7684\u672b\u5c3e\uff0c\u5373 null\uff0c\n// \u6839\u636e\u5b9a\u4e49\uff0cnull \u5c31\u662f\u6ca1\u6709 [[Prototype]]\u3002\n\n// \u7efc\u4e0a\uff0c\u6574\u4e2a\u539f\u578b\u94fe\u5982\u4e0b\uff1a\n\n// {a:1, b:2} ---&gt; {b:3, c:4} ---&gt; Object.prototype---&gt; null\n\nconsole.log(o.a); // 1\n// a \u662f o \u7684\u81ea\u8eab\u5c5e\u6027\u5417\uff1f\u662f\u7684\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u4e3a 1\n\nconsole.log(o.b); // 2\n// b \u662f o \u7684\u81ea\u8eab\u5c5e\u6027\u5417\uff1f\u662f\u7684\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u4e3a 2\n// \u539f\u578b\u4e0a\u4e5f\u6709\u4e00\u4e2a'b'\u5c5e\u6027\uff0c\u4f46\u662f\u5b83\u4e0d\u4f1a\u88ab\u8bbf\u95ee\u5230\u3002\n// \u8fd9\u79cd\u60c5\u51b5\u88ab\u79f0\u4e3a\"\u5c5e\u6027\u906e\u853d (property shadowing)\"\n\nconsole.log(o.c); // 4\n// c \u662f o \u7684\u81ea\u8eab\u5c5e\u6027\u5417\uff1f\u4e0d\u662f\uff0c\u90a3\u770b\u770b\u5b83\u7684\u539f\u578b\u4e0a\u6709\u6ca1\u6709\n// c \u662f o.[[Prototype]] \u7684\u5c5e\u6027\u5417\uff1f\u662f\u7684\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u4e3a 4\n\nconsole.log(o.d); // undefined\n// d \u662f o \u7684\u81ea\u8eab\u5c5e\u6027\u5417\uff1f\u4e0d\u662f\uff0c\u90a3\u770b\u770b\u5b83\u7684\u539f\u578b\u4e0a\u6709\u6ca1\u6709\n// d \u662f o.[[Prototype]] \u7684\u5c5e\u6027\u5417\uff1f\u4e0d\u662f\uff0c\u90a3\u770b\u770b\u5b83\u7684\u539f\u578b\u4e0a\u6709\u6ca1\u6709\n// o.[[Prototype]].[[Prototype]] \u4e3a null\uff0c\u505c\u6b62\u641c\u7d22\n// \u627e\u4e0d\u5230 d \u5c5e\u6027\uff0c\u8fd4\u56de undefined\n</code></pre> <p>JavaScript \u5e76\u6ca1\u6709\u5176\u4ed6\u57fa\u4e8e\u7c7b\u7684\u8bed\u8a00\u6240\u5b9a\u4e49\u7684\u201c\u65b9\u6cd5\u201d\u3002\u5728 JavaScript \u91cc\uff0c\u4efb\u4f55\u51fd\u6570\u90fd\u53ef\u4ee5\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e0a\u4f5c\u4e3a\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u51fd\u6570\u7684\u7ee7\u627f\u4e0e\u5176\u4ed6\u7684\u5c5e\u6027\u7ee7\u627f\u6ca1\u6709\u5dee\u522b\uff0c\u5305\u62ec\u4e0a\u9762\u7684\u201c\u5c5e\u6027\u906e\u853d\u201d\uff08\u8fd9\u79cd\u60c5\u51b5\u76f8\u5f53\u4e8e\u5176\u4ed6\u8bed\u8a00\u7684\u65b9\u6cd5\u91cd\u5199\uff09\u3002</p> <p>\u5f53\u7ee7\u627f\u7684\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c<code>this</code> \u6307\u5411\u7684\u662f\u5f53\u524d\u7ee7\u627f\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u7ee7\u627f\u7684\u51fd\u6570\u6240\u5728\u7684\u539f\u578b\u5bf9\u8c61\u3002</p> <p>\u6211\u4eec\u77e5\u9053 <code>Object.prototype</code> \u4e4b\u4e2d\u5177\u6709\u65b9\u6cd5 <code>toString()</code>\uff0c\u6240\u4ee5\u53ea\u8981\u67d0\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u6709 <code>Object.prototype</code>\uff0c\u5219\u53ef\u4ee5\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u8c03\u7528 <code>toString()</code>\uff1a</p> <pre><code>function Student(_name, _age) {\n    this.name = _name;\n    this.age = _age;\n}\nStudent.prototype.study = () =&gt; {\n    console.log(\"studying...\");\n};\n\nlet stu = new Student(\"Ashitemaru\", 22);\nstu.toString(); // '[object Object]'\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u8003\u8651\u600e\u4e48\u5728\u539f\u578b\u94fe\u8bed\u6cd5\u4e4b\u4e0b\u5b9e\u73b0\u7ee7\u627f\u3002\u7ee7\u627f\u7684\u76ee\u6807\u662f\u7ed9\u5b9a\u4e00\u4e2a\u57fa\u7c7b\u4ee5\u89c4\u5b9a\u6240\u6709\u6d3e\u751f\u7c7b\u9700\u8981\u6ee1\u8db3\u7684\u6240\u6709\u6761\u4ef6\uff0c\u6d3e\u751f\u7c7b\u53ef\u4ee5\u590d\u7528\u57fa\u7c7b\u5b9a\u4e49\u7684\u7c7b\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u8986\u5199\u57fa\u7c7b\u65b9\u6cd5\u5b9e\u73b0\u591a\u6001\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u4f8b\u5b50\u4e2d <code>Student</code> \u548c <code>Person</code> \u7c7b\u5206\u522b\u5b9a\u4e49\u4e3a\uff1a</p> <pre><code>let Person = /** @class */ (function () {\n    function Person(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n    }\n    Person.prototype.walk = function () {\n        console.log(\"walking...\");\n    }\n\n    return Person;\n}());\n\nlet Student = /** @class */ (function () {\n    function Student(_school) {\n        this.school = _school;\n    }\n    Student.prototype.study = function () {\n        console.log(\"studying...\");\n    }\n\n    return Student;\n}());\n</code></pre> <p>\u6211\u4eec\u8981\u6c42 <code>Student</code> \u4f5c\u4e3a\u57fa\u7c7b <code>Person</code> \u7684\u6d3e\u751f\u7c7b\u3002\u5e76\u4e14\u6839\u636e\u4ee5\u4e0a\u7684\u53d9\u8ff0\uff0cJavaScript \u7684\u7c7b\u548c\u6784\u9020\u51fd\u6570\u662f\u8fd1\u4e4e\u7b49\u4ef7\u7684\u6982\u5ff5\u3002</p> <p>\u5982\u679c\u6211\u4eec\u8981\u6c42 <code>Student</code> \u7c7b\u5bf9\u8c61\u80fd\u591f\u4f7f\u7528 <code>Person</code> \u4e4b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u8003\u8651\u5230 <code>Person</code> \u4e4b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u663e\u7136\u4e0d\u4f1a\u5728 <code>Student</code> \u7c7b\u5bf9\u8c61\u4e4b\u4e2d\uff0c\u6240\u4ee5<code>Person</code> \u7c7b\u5bf9\u8c61\u5fc5\u7136\u8981\u4f4d\u4e8e <code>Student</code> \u7c7b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002\u6bd4\u5982\u8bf4 <code>per</code> \u662f <code>Person</code> \u7c7b\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u8fd9\u6837\u6784\u5efa\u539f\u578b\u94fe\uff1a</p> <pre><code>// before\nstu --&gt; Student.prototype --&gt; Object.prototype --&gt; null\n\n// after\nstu --&gt; Student.prototype(per) --&gt; Person.prototype --&gt; Object.prototype --&gt; null\n</code></pre> <p>\u90a3\u8fd9\u6837\u6211\u4eec\u505a\u8fd9\u6837\u7684\u5c1d\u8bd5\uff1a</p> <pre><code>let Person = /** @class */ (function () {\n    function Person(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n\n        this.val = [1]; // Only for display\n    }\n    Person.prototype.walk = function () {\n        console.log(\"walking...\");\n    }\n\n    return Person;\n}());\n\nlet Student = /** @class */ (function () {\n    function Student(_school) {\n        this.school = _school;\n    }\n\n    let per = new Person(\"Ashitemaru\", 22);\n    Student.prototype = per; // Reset prototype\n\n    Student.prototype.study = function () {\n        console.log(\"studying...\");\n    }\n\n    return Student;\n}());\n\nlet stu = new Student(\"Tsinghua\");\nstu.walk(); // walking...\nstu.study(); // studying...\nconsole.log(stu.name, stu.school, stu.age); // Ashitemaru Tsinghua 22\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u5f88\u76f4\u89c2\u4e14\u53ef\u7406\u89e3\uff0c\u57fa\u7c7b\u7684\u65b9\u6cd5\u4e5f\u5f97\u5230\u4e86\u590d\u7528\u3002\u4f46\u662f\u95ee\u9898\u4e5f\u5f88\u5927\uff0c\u4e3b\u8981\u6709\u4e8c\u3002</p> <p>\u9996\u5148\u6211\u4eec\u6ce8\u610f\u5230\u6211\u4eec\u5728\u521b\u5efa\u57fa\u7c7b\u5bf9\u8c61\u8d4b\u4e88\u7ed9\u6d3e\u751f\u7c7b\u7684 <code>prototype</code> \u7684\u65f6\u5019\u662f\u65e0\u6cd5\u81ea\u5b9a\u4e49\u4f20\u7ed9\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u7684\uff0c\u4e0a\u8ff0\u4f8b\u5b50\u4e4b\u4e2d\u53ea\u80fd\u5199\u6b7b\u3002</p> <p>\u53e6\u5916\uff0c\u89c2\u5bdf\uff1a</p> <pre><code>let stu1 = new Student(\"Tsinghua\");\nlet stu2 = new Student(\"Peking\");\n\nstu1.val.push(2);\nconsole.log(stu2.val); // [1, 2]\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u57fa\u7c7b\u6210\u5458\u6709\u6570\u7ec4\u7b49\u975e\u57fa\u672c\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5219\u5f88\u6709\u53ef\u80fd\u5bfc\u81f4\u610f\u5916\u7684\u4fee\u6539\u3002\u6240\u6709\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u5171\u4eab\u4e86\u8be5\u57fa\u7c7b\u6210\u5458\u7684\u5f15\u7528\uff0c\u6240\u4ee5\u53ea\u8981\u4efb\u610f\u4e00\u4e2a\u6d3e\u751f\u7c7b\u5bf9\u8c61\u4fee\u6539\u4e86\u8be5\u57fa\u7c7b\u6210\u5458\uff0c\u5c31\u4f1a\u5bfc\u81f4\u5728\u5176\u4ed6\u6d3e\u751f\u7c7b\u6210\u5458\u5bf9\u8c61\u89c6\u89d2\u4e0b\u7684\u610f\u5916\u4fee\u6539\u3002</p>"},{"location":"languages/javascript/oop-advance/#_6","title":"\u501f\u7528\u6784\u9020\u7ee7\u627f","text":"<p>\u6211\u4eec\u521a\u521a\u4ece\u539f\u578b\u94fe\u7684\u89d2\u5ea6\u601d\u8003\u4e86\u5982\u4f55\u5c06\u57fa\u7c7b\u7684\u65b9\u6cd5\u548c\u6210\u5458\u8ba9\u6d3e\u751f\u7c7b\u6210\u5458\u8bbf\u95ee\u5230\uff0c\u6700\u540e\u6211\u4eec\u9009\u62e9\u7684\u65b9\u5f0f\u662f\u4fee\u6539\u539f\u578b\u94fe\u3002\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5c06\u8fd9\u4e9b\u65b9\u6cd5\u548c\u6210\u5458\u76f4\u63a5\u6302\u8f7d\u5230\u6d3e\u751f\u7c7b\u6210\u5458\u4e0a\uff0c\u53ea\u9700\u8981\u8c03\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u5e76\u4e14\u5f3a\u5236\u6307\u5b9a\u6b64\u65f6\u7684 <code>this</code> \u6307\u5411\u7684\u662f\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u800c\u975e\u57fa\u7c7b\u5bf9\u8c61\u3002</p> <p>\u8fd9\u4e2a\u7ee7\u627f\u65b9\u6cd5\u7684\u5b9e\u8d28\u5c31\u662f\u501f\u7528\u4e86\u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4e3a\u6d3e\u751f\u7c7b\u6784\u9020\u65b9\u6cd5\u548c\u6210\u5458\u3002</p> <pre><code>let Person = /** @class */ (function () {\n    function Person(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n\n        this.val = [1]; // Only for display\n\n        this.walk = function () {\n            console.log(\"walking...\");\n        } // Must define class methods inside the constructor\n          // instead of defining them in prototype\n    }\n    Person.prototype.run = function() {\n        console.log(\"running...\");\n    }\n\n    return Person;\n}());\n\nlet Student = /** @class */ (function () {\n    function Student(_name, _age, _school) {\n        Person.call(this, _name, _age);\n        this.school = _school;\n    }\n    Student.prototype.study = function () {\n        console.log(\"studying...\");\n    }\n\n    return Student;\n}());\n\nlet stu = new Student(\"Ashitemaru\", 22, \"Tsinghua\");\nstu.walk(); // walking...\nstu.study(); // studying...\nconsole.log(stu.name, stu.school, stu.age); // Ashitemaru Tsinghua 22\n</code></pre> <p>\u8fd9\u91cc\u4e00\u5b9a\u8981\u6ce8\u610f\uff0c\u57fa\u7c7b\u7684\u7c7b\u65b9\u6cd5\u4e0d\u80fd\u6302\u8f7d\u5728 <code>prototype</code> \u4e4b\u4e0b\uff0c\u56e0\u4e3a\u5728\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u4e2d\u6211\u4eec\u4e0d\u4f1a\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5176\u5728\u539f\u578b\u4e0b\u6302\u8f7d\u7684\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u6302\u8f7d\u5230 <code>this</code> \u5bf9\u8c61\u4e4b\u4e0b\u3002\u8fd9\u4e5f\u662f\u8fd9\u4e2a\u65b9\u6cd5\u7684\u7f3a\u9677\uff1a</p> <pre><code>let stu = new Student(\"Ashitemaru\", 22, \"Tsinghua\");\nstu.run; // undefined\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u89e3\u51b3\u4e86\u4e0d\u80fd\u7ed9\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u4f20\u53c2\u6570\u7684\u95ee\u9898\uff0c\u5e76\u4e14\u591a\u4e2a\u6d3e\u751f\u7c7b\u5bf9\u8c61\u6b64\u65f6\u5e76\u4e0d\u4f1a\u5171\u4eab\u6570\u7ec4\u7684\u5f15\u7528\uff0c\u6240\u4ee5\u4e0d\u4f1a\u53d1\u751f\u610f\u5916\u4fee\u6539\uff1a</p> <pre><code>let stu1 = new Student(\"Ashitemaru\", 22, \"Tsinghua\");\nlet stu2 = new Student(\"SmileLee\", 22, \"Peking\");\n\nstu1.val.push(2);\nconsole.log(stu2.val); // [1]\n</code></pre> <p>\u4f46\u662f\u8fd9\u4e5f\u610f\u5473\u7740\u8d44\u6e90\u6d6a\u8d39\uff0c\u56e0\u4e3a\u7c7b\u65b9\u6cd5\u7684\u5f15\u7528\u662f\u53ef\u4ee5\u5171\u4eab\u800c\u4e0d\u7528\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u4fdd\u7559\u526f\u672c\u7684\uff1a</p> <pre><code>stu1.walk === stu2.walk; // false\n</code></pre>"},{"location":"languages/javascript/oop-advance/#_7","title":"\u7ec4\u5408\u7ee7\u627f","text":"<p>\u663e\u7136\u6211\u4eec\u4ecb\u7ecd\u7684\u4e24\u4e2a\u65b9\u6cd5\u662f\u4e92\u8865\u7684\uff0c\u4e00\u8fb9\u7684\u7f3a\u9677\u53ef\u4ee5\u7531\u53e6\u4e00\u8fb9\u89e3\u51b3\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <pre><code>let Person = /** @class */ (function () {\n    function Person(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n\n        this.val = [1]; // Only for display\n    } // Keep unshareable variables in constructor\n    Person.prototype.walk = function () {\n        console.log(\"walking...\");\n    } // Keep shareable variables in prototype\n\n    return Person;\n}());\n\nlet Student = /** @class */ (function () {\n    function Student(_name, _age, _school) {\n        Person.call(this, _name, _age);\n        this.school = _school;\n    }\n\n    let per = new Person();\n    Student.prototype = per; // Reset prototype\n\n    Student.prototype.study = function () {\n        console.log(\"studying...\");\n    }\n\n    return Student;\n}());\n\nlet stu = new Student(\"Ashitemaru\", 22, \"Tsinghua\");\nstu.walk(); // walking...\nstu.study(); // studying...\nconsole.log(stu.name, stu.school, stu.age); // Ashitemaru Tsinghua 22\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u53ea\u9700\u8981\u5c06\u4e0d\u80fd\u5171\u4eab\u7684\u6210\u5458\u6216\u8005\u65b9\u6cd5\u5199\u5728\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u8fd9\u6837\u8fd9\u4e9b\u65b9\u6cd5\u5c31\u4f1a\u56e0\u4e3a\u6784\u9020\u51fd\u6570\u501f\u7528\u88ab\u6302\u8f7d\u5230\u6d3e\u751f\u7c7b\u5bf9\u8c61\u672c\u8eab\u4e0a\uff0c\u4ece\u800c\u4e0d\u4f1a\u5171\u4eab\u3002\u800c\u9700\u8981\u5171\u4eab\u7684\u7c7b\u65b9\u6cd5\u5219\u53ef\u4ee5\u6302\u8f7d\u5728\u539f\u578b\u4e0a\uff0c\u76f4\u63a5\u901a\u8fc7\u539f\u578b\u94fe\u5b9e\u73b0\u5171\u4eab\u3002</p> <p>\u53ef\u4ee5\u53d1\u73b0\u95ee\u9898\u786e\u5b9e\u89e3\u51b3\u4e86\uff1a</p> <pre><code>let stu1 = new Student(\"Ashitemaru\", 22, \"Tsinghua\");\nlet stu2 = new Student(\"SmileLee\", 22, \"Peking\");\n\nstu1.val.push(2);\nconsole.log(stu2.val); // [1]\n\nstu1.walk === stu2.walk; // true\nstu1.walk === undefined; // false\n</code></pre>"},{"location":"languages/javascript/oop-advance/#_8","title":"\u5bc4\u751f\u7ec4\u5408\u7ee7\u627f","text":"<p>\u4e0a\u8ff0\u7ee7\u627f\u7684\u5b9e\u73b0\u5b9e\u9645\u4e0a\u8fd8\u6709\u4e00\u70b9\u70b9\u6548\u7387\u95ee\u9898\uff0c\u5373\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u8c03\u7528\u4e86\u4e24\u6b21\u3002\u7b2c\u4e00\u6b21\u662f <code>Person.call()</code>\uff0c\u7b2c\u4e8c\u6b21\u662f <code>new Person()</code>\u3002\u53ef\u4ee5\u6ce8\u610f\u5230\u8fd9\u4e24\u6b21\u8c03\u7528\u5206\u522b\u505a\u4e86\u4e0d\u540c\u7684\u4e8b\u60c5\uff0c\u5206\u522b\u662f\u5c06\u975e\u5171\u4eab\u5c5e\u6027\u6302\u8f7d\u5230\u6d3e\u751f\u7c7b\u5bf9\u8c61\u4e0a\u548c\u4fee\u6539\u6d3e\u751f\u7c7b\u539f\u578b\u94fe\u4ee5\u5171\u4eab\u53ef\u5171\u4eab\u5c5e\u6027\u3002\u5982\u679c\u57fa\u7c7b\u5341\u5206\u5e9e\u5927\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8f83\u5927\u7684\u6548\u7387\u95ee\u9898\u3002</p> <p>\u4f46\u5b9e\u9645\u4e0a\u7b2c\u4e8c\u6b21\u8c03\u7528\u53ef\u4ee5\u7701\u7565\u3002\u73b0\u5728\u601d\u8003\u5982\u4f55\u7701\u7565\uff0c\u7531\u4e8e\u8fd9\u6b21\u8c03\u7528\u7684\u76ee\u7684\u662f\u4fee\u6539\u539f\u578b\u94fe\uff0c\u6240\u4ee5\u4e0d\u59a8\u89c2\u5bdf\u4e00\u4e0b\u6211\u4eec\u4fee\u6539\u539f\u578b\u94fe\u7684\u601d\u8def\uff1a</p> <pre><code>// before\nstu --&gt; Student.prototype --&gt; Object.prototype --&gt; null\n\n// after\nstu --&gt; Student.prototype(per) --&gt; Person.prototype --&gt; Object.prototype --&gt; null\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u4e0d\u7528\u6784\u9020\u4e00\u4e2a\u5b8c\u6574\u7684 <code>Person</code> \u5bf9\u8c61 <code>per</code>\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u7528\u4e00\u4e2a\u7a7a\u5bf9\u8c61 <code>o</code> \u6765\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\u3002\u5373\uff0c\u6211\u4eec\u5c06 <code>Student.prototype</code> \u6307\u5411\u4e00\u4e2a\u7a7a\u5bf9\u8c61 <code>o</code>\uff0c\u518d\u60f3\u529e\u6cd5\u8ba9 <code>o</code> \u7684 <code>__proto__</code> \u6307\u5411 <code>Person.prototype</code> \u5373\u53ef\u3002</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u7528\u591a\u8bbe\u5b9a\u4e00\u6b21\u539f\u578b\u94fe\u6307\u5411\uff08\u7531\u4e8e <code>per</code> \u7684 <code>__proto__</code> \u9ed8\u8ba4\u6307\u5411 <code>Person.prototype</code> \u800c\u7a7a\u5bf9\u8c61\u5219\u4e0d\u662f\uff09\u66ff\u6362\u6389\u4e86\u591a\u8c03\u7528\u4e00\u6b21\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u6837\u662f\u5b8c\u5168\u503c\u5f97\u7684\u3002</p> <p>\u4ee3\u7801\u53ef\u4ee5\u662f\uff1a</p> <pre><code>let Person = /** @class */ (function () {\n    function Person(_name, _age) {\n        this.name = _name;\n        this.age = _age;\n\n        this.val = [1]; // Only for display\n    }\n    Person.prototype.walk = function () {\n        console.log(\"walking...\");\n    }\n\n    return Person;\n}());\n\nlet Student = /** @class */ (function () {\n    function Student(_name, _age, _school) {\n        Person.call(this, _name, _age);\n        this.school = _school;\n    }\n\n    function F() { }\n    F.prototype = Person.prototype;\n    Student.prototype = new F();\n    Student.prototype.constructor = Student;\n\n    Student.prototype.study = function () {\n        console.log(\"studying...\");\n    }\n\n    return Student;\n}());\n</code></pre> <p>\u8fd9\u91cc\u7684\u6838\u5fc3\u5c31\u662f\u4ee3\u7801\u7684\u9ad8\u4eae\u90e8\u5206\uff0c\u5176\u4e2d\u6700\u6838\u5fc3\u7684\u5c31\u662f\u6ce8\u610f\u8981\u4fee\u590d\u539f\u578b\u7684\u6784\u9020\u51fd\u6570\uff0c\u56e0\u4e3a\u4fee\u590d\u524d\u539f\u578b\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u662f <code>F</code>\u3002</p> <p>\u7531\u4e8e\u8fd9\u79cd\u7ee7\u627f\u7684\u5b9e\u73b0\u65b9\u5f0f\u5df2\u7ecf\u8f83\u4e3a\u9ad8\u6548\u4e14\u5bb9\u6613\u7406\u89e3\uff0c\u6240\u4ee5\u76ee\u524d ES6 \u7684 <code>extends</code> \u4e5f\u662f\u57fa\u4e8e\u6b64\u800c\u6765\u3002</p>"},{"location":"languages/javascript/oop-advance/#_9","title":"\u521b\u5efa\u5bf9\u8c61\u548c\u751f\u6210\u539f\u578b\u94fe","text":"<p>\u9664\u4e86\u4e4b\u524d\u5df2\u7ecf\u63d0\u5230\u8fc7\u7684\u8bed\u6cd5\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u521b\u5efa\u5bf9\u8c61\u5e76\u6307\u5b9a\u5176\u539f\u578b\uff08\u4ece\u800c\u6269\u5c55\u539f\u578b\u94fe\uff09\u3002</p>"},{"location":"languages/javascript/oop-advance/#_10","title":"\u4f7f\u7528\u6784\u9020\u5668\u521b\u5efa\u7684\u5bf9\u8c61","text":"<p>\u524d\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u5728 JavaScript \u4e2d\uff0c\u6784\u9020\u5668\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\u3002\u5f53\u4f7f\u7528 <code>new</code> \u64cd\u4f5c\u7b26\u6765\u4f5c\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\uff0c\u5b83\u5c31\u53ef\u4ee5\u88ab\u79f0\u4e3a\u6784\u9020\u65b9\u6cd5\uff08\u6784\u9020\u51fd\u6570\uff09\u3002</p> <pre><code>function Graph() {\n    this.vertices = [];\n    this.edges = [];\n}\n\nGraph.prototype = {\n    addVertex: function(v) {\n        this.vertices.push(v);\n    }\n};\n\nconst g = new Graph();\n// g \u662f\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u4ed6\u7684\u81ea\u8eab\u5c5e\u6027\u6709 'vertices' \u548c 'edges'\u3002\n// \u5728 g \u88ab\u5b9e\u4f8b\u5316\u65f6\uff0cg.[[Prototype]] \u6307\u5411\u4e86 Graph.prototype\u3002\n</code></pre> <p>\u8fd9\u91cc\u6709\u5fc5\u8981\u6ce8\u610f\u7684\u662f\uff0c\u901a\u8fc7\u6307\u5b9a <code>Graph.prototype</code> \u53ef\u4ee5\u4f7f\u5f97\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61 <code>g</code> \u83b7\u53d6\u539f\u578b\u4e0a\u7684\u65b9\u6cd5\uff0c\u8fd9\u91cc\u7684\u539f\u578b\u662f\u4e00\u4e2a\u5bf9\u8c61\u5b57\u9762\u91cf\uff0c\u5b83\u7684\u539f\u578b\u662f <code>Object.prototype</code>\u3002</p> <p>\u7531\u4e8e\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u51fd\u6570\u7684\u539f\u578b\u7684\u539f\u578b\u5c31\u662f <code>Object.prototype</code>\uff0c\u4e0a\u8ff0\u5b9a\u4e49\u4e5f\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>function Graph() {\n    this.vertices = [];\n    this.edges = [];\n}\n\nGraph.prototype.addVertex = function(v) {\n    this.vertices.push(v);\n}\n\nconst g = new Graph();\n// g \u662f\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u4ed6\u7684\u81ea\u8eab\u5c5e\u6027\u6709 'vertices' \u548c 'edges'\u3002\n// \u5728 g \u88ab\u5b9e\u4f8b\u5316\u65f6\uff0cg.[[Prototype]] \u6307\u5411\u4e86 Graph.prototype\u3002\n</code></pre> <p>\u4f46\u6307\u5b9a\u539f\u578b\u65f6\u4e5f\u53ef\u4ee5\u6307\u5b9a\u5176\u4ed6\u5bf9\u8c61\uff0c\u8fd9\u5c31\u4f7f\u5f97\u539f\u578b\u94fe\u53d8\u957f\uff0c\u4ece\u800c\u4ee5\u6b64\u51fd\u6570\u6784\u9020\u7684\u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u66f4\u591a\u7684\u65b9\u6cd5\uff1a</p> <pre><code>function GraphInner(type) {\n    this.type = type;\n}\nGraphInner.prototype.printType = function () {\n    console.log(this.type);\n}\n\nfunction Graph() {\n    this.vertices = [];\n    this.edges = [];\n}\n\nGraph.prototype = new GraphInner('Sparse graph');\n\nGraph.prototype.addVertex = function(v){\n    this.vertices.push(v);\n}\n\nconst g = new Graph();\ng.printType();   // =&gt; Sparse graph\n</code></pre>"},{"location":"languages/javascript/oop-advance/#objectcreate","title":"\u4f7f\u7528 <code>Object.create</code> \u521b\u5efa\u5bf9\u8c61","text":"<p>ECMAScript 5 \u4e2d\u5f15\u5165\u4e86\u4e00\u4e2a\u65b0\u65b9\u6cd5\uff1a<code>Object.create()</code>\u3002\u53ef\u4ee5\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\u3002\u65b0\u5bf9\u8c61\u7684\u539f\u578b\u5c31\u662f\u8c03\u7528 <code>create</code> \u65b9\u6cd5\u65f6\u4f20\u5165\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a</p> <pre><code>var a = {a: 1};\n// a ---&gt; Object.prototype ---&gt; null\n\nvar b = Object.create(a);\n// b ---&gt; a ---&gt; Object.prototype ---&gt; null\nconsole.log(b.a); // 1 (\u7ee7\u627f\u800c\u6765)\n\nvar c = Object.create(b);\n// c ---&gt; b ---&gt; a ---&gt; Object.prototype ---&gt; null\n\nvar d = Object.create(null);\n// d ---&gt; null\nconsole.log(d.hasOwnProperty); // undefined\uff0c\u56e0\u4e3a d \u6ca1\u6709\u7ee7\u627f Object.prototype\n</code></pre> <p>\u6ce8\u610f\u5176\u4e2d\u7684 <code>Object.create(null)</code> \u65b9\u6cd5\uff0c\u8fd9\u79cd\u65b9\u6cd5\u76f4\u63a5\u4ee5 <code>null</code> \u4e3a\u539f\u578b\u521b\u5efa\u5bf9\u8c61\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u6ca1\u6709\u4efb\u4f55\u9884\u8bbe\u5c5e\u6027\u7684\u5bf9\u8c61\uff0c\u5f53 <code>Object</code> \u7684\u65b9\u6cd5\u963b\u788d\u4e86\u4f60\u7684\u4ee3\u7801\u8fd0\u884c\u65f6\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\uff0c\u4f46\u8bf7\u4e0d\u8981\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u8fd9\u901a\u5e38\u4e0d\u662f\u4f60\u6240\u9700\u8981\u7684\u3002</p>"},{"location":"languages/javascript/oop-advance/#class","title":"\u4f7f\u7528 <code>class</code> \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61","text":"<p>\u4f7f\u7528 <code>extends</code> \u5173\u952e\u5b57\u5b9e\u73b0\u7ee7\u627f\uff0c\u672c\u8d28\u4e0a\u662f\u6307\u5b9a\u539f\u578b\u7684\u4e00\u79cd\u8bed\u6cd5\u7cd6\u3002\u4f7f\u7528 <code>super</code> \u51fd\u6570\u6765\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>class Polygon {\n    constructor(height, width) {\n        this.height = height;\n        this.width = width;\n    }\n}\n\nclass Square extends Polygon {\n    constructor(sideLength) {\n        super(sideLength, sideLength);\n    }\n    get area() {\n        return this.height * this.width;\n    }\n    set sideLength(newLength) {\n        this.height = newLength;\n        this.width = newLength;\n    }\n}\n\nvar square = new Square(2);\n</code></pre>"},{"location":"languages/javascript/oop-advance/#_11","title":"\u6027\u80fd","text":"<p>\u5728\u539f\u578b\u94fe\u4e0a\u67e5\u627e\u5c5e\u6027\u6bd4\u8f83\u8017\u65f6\uff0c\u5bf9\u6027\u80fd\u6709\u526f\u4f5c\u7528\uff0c\u8fd9\u5728\u6027\u80fd\u8981\u6c42\u82db\u523b\u7684\u60c5\u51b5\u4e0b\u5f88\u91cd\u8981\u3002\u53e6\u5916\uff0c\u8bd5\u56fe\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u65f6\u4f1a\u904d\u5386\u6574\u4e2a\u539f\u578b\u94fe\u3002</p>"},{"location":"languages/javascript/oop/","title":"JavaScript \u7684\u9762\u5411\u5bf9\u8c61","text":""},{"location":"languages/javascript/oop/#javascript","title":"JavaScript \u7684\u9762\u5411\u5bf9\u8c61","text":"<p>\u522b\u60f3\u5b66\u4f1a JavaScript \u7684 OOP\uff01</p> <p>JavaScript \u7684\u9762\u5411\u5bf9\u8c61\u7684\u5b9e\u73b0\u903b\u8f91\u5e76\u975e\u662f\u7c7b\u5c01\u88c5\u903b\u8f91\uff0c\u800c\u662f\u539f\u578b\u94fe\u903b\u8f91\u3002\u6700\u521d\u7684 JavaScript \u5e76\u4e0d\u652f\u6301\u7c7b\u8bed\u6cd5\uff0c\u4f46\u7531\u4e8e\u539f\u578b\u94fe\u5b9e\u5728\u592a\u8fc7\u4e8e\u7279\u7acb\u72ec\u884c\uff0c\u76ee\u524d ES6 \u6807\u51c6\u5c06\u7c7b\u8bed\u6cd5\u4f5c\u4e3a\u8bed\u6cd5\u7cd6\u52a0\u5165\u4e86\u8bed\u8a00\u6807\u51c6\u3002\u8fd9\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u7684\u9762\u5411\u5bf9\u8c61\u7684\u5e95\u5c42\u4f9d\u7136\u662f\u539f\u578b\u94fe\u800c\u975e\u7c7b\u5c01\u88c5\uff0c\u5982\u679c\u771f\u7684\u60f3\u5f04\u660e\u767d JavaScript \u7684\u539f\u578b\u94fe\u673a\u5236\uff0c\u53ef\u4ee5\u67e5\u770b\u6587\u6863\u672b\u5c3e\u7684\u539f\u578b\u94fe\u7ae0\u8282\u3002\u4f46\u5bf9\u4e8e\u521d\u5b66\u8005\uff0c\u6211\u4eec\u5efa\u8bae\u53ea\u662f\u7528\u7c7b\u8bed\u6cd5\uff0c\u9664\u975e\u9047\u5230\u4e0d\u53ef\u89e3\u51b3\u7684 bug\uff0c\u5426\u5219\u4e0d\u8981\u82b1\u65f6\u95f4\u94bb\u7814\u539f\u578b\u94fe\u3002</p> <p>\u4f7f\u7528\u7c7b\u8bed\u6cd5\u7684 JavaScript \u5f88\u5927\u7a0b\u5ea6\u4e0a\u548c C++ \u8bed\u8a00\u7c7b\u4f3c\uff0c\u8fd9\u91cc\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u7b80\u6613\u7684\u590d\u6570\u7c7b\u4f5c\u4e3a\u6f14\u793a\uff0c\u5185\u90e8\u5df2\u7ecf\u5305\u542b\u4e86\u6784\u9020\u51fd\u6570\u3001\u5b9a\u4e49\u6210\u5458\u65b9\u6cd5\u548c\u9759\u6001\u65b9\u6cd5\u7b49 OOP \u57fa\u7840\u5185\u5bb9\uff1a</p> <pre><code>class Complex {\n    constructor(_real, _imaginary) {\n        this.real = _real;\n        this.imaginary = _imaginary; // Declare members &amp; initialize\n    }\n\n    print() {\n        console.log(`${this.real} ${this.imaginary &gt;= 0 ? \"+\" : \"-\"} ${Math.abs(this.imaginary)} i`);\n    }\n\n    static printInfo() {\n        console.log(\"This is a complex class.\");\n    }\n}\n\nlet com = new Complex(1, 2);\ncom.print(); // \"1 + 2 i\"\nComplex.printInfo(); // \"This is a complex class.\"\n</code></pre> <p>\u6709\u4e00\u4e9b\u7ec6\u8282\u9700\u8981\u6ce8\u610f\uff1a</p> <ul> <li>\u7c7b\u65b9\u6cd5\u5185\u4f7f\u7528\u7c7b\u6210\u5458\u7684\u65f6\u5019\u5fc5\u987b\u4f7f\u7528 <code>this</code> \u8c03\u7528</li> <li>JavaScript \u7684\u6240\u6709\u7c7b\u6210\u5458\u548c\u7c7b\u65b9\u6cd5\u5747\u662f\u516c\u6709\u7684\uff0cJavaScript \u4e0d\u5177\u6709\u8bbf\u95ee\u6743\u9650\u4fee\u9970\u7b26<ul> <li>\u4f46\u4e5f\u5e76\u975e\u5b8c\u5168\u6ca1\u6709\u529e\u6cd5\u9650\u5236\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 <code>getter</code> \u548c <code>setter</code>\uff0c\u6216\u4f7f\u7528 <code>Proxy</code> \u5bf9\u8c61\u6765\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u8fd9\u4e9b\u6280\u5de7\u6211\u4eec\u5e76\u4e0d\u4f5c\u8fc7\u591a\u5c55\u5f00\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53c2\u8003\u8fd9\u4e9b\u5185\u5bb9\uff1a<ul> <li>\u5b9a\u4e49 getters \u4e0e setters</li> <li>Proxy</li> </ul> </li> </ul> </li> </ul>"},{"location":"languages/javascript/oop/#this","title":"<code>this</code> \u7684\u6307\u5411\u95ee\u9898","text":"<p>\u4f60\u7684 JavaScript \u6210\u4eba\u793c</p> <p><code>this</code> \u7684\u6307\u5411\u95ee\u9898\u662f JavaScript \u8bed\u8a00\u8bbe\u8ba1\u91cc\u53ef\u4ee5\u8bf4\u662f\u5f71\u54cd\u6700\u4e3a\u6df1\u8fdc\u7684\u7684\u4e00\u4e2a\u7f3a\u9677\uff0c\u6df1\u8fdc\u5230\u5373\u4f7f\u8981\u5f04\u660e\u767d\u8fd9\u4e2a\u95ee\u9898\u9700\u8981\u82b1\u8d39\u5f88\u957f\u65f6\u95f4\uff0c\u4f46\u4f60\u4e0d\u5f97\u4e0d\u6295\u5165\u8fd9\u4e9b\u7cbe\u529b\uff0c\u5426\u5219\u4f60\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u4ee3\u7801\u5b9e\u8df5\u4e2d\u9047\u5230\u5f88\u591a <code>this</code> \u76f8\u5173\u7684\u95ee\u9898\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5373\u4f7f\u540e\u6765\u4eba\u9488\u5bf9 <code>this</code> \u6307\u5411\u95ee\u9898\u6253\u4e86\u5f88\u591a\u7684\u8865\u4e01\uff0c\u8fd9\u4e2a\u95ee\u9898\u4f9d\u7136\u8426\u7ed5\u5728\u524d\u7aef\u5f00\u53d1\u8005\u5fc3\u4e2d\u3002\u6bd4\u5982\u8bf4 React \u51fd\u6570\u7ec4\u4ef6\u652f\u6301\u8005\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u8bba\u70b9\u5c31\u662f\u4f7f\u7528\u51fd\u6570\u7ec4\u4ef6\u4e0d\u4f1a\u9047\u5230 <code>this</code> \u6307\u5411\u95ee\u9898\u3002</p> <p>\u4e25\u683c\u6765\u8bf4\uff0cJavaScript \u7684 <code>this</code> \u6307\u5411\u89c4\u5219\u53ea\u6709\u4e00\u6761\uff0c\u5373 <code>this</code> \u6c38\u8fdc\u6307\u5411\u6700\u8fd1\u7684\u8c03\u7528\u8005\u3002\u89c2\u5bdf\u8fd9\u6837\u7684\u4ee3\u7801\uff08\u6d4f\u89c8\u5668\u8fd0\u884c\uff09\uff1a</p> <pre><code>function foo() {\n    console.log(this);\n}\n\nfoo(); // window\n\nlet obj = { foo: foo, };\nobj.foo(); // { foo: foo }\n</code></pre> <p>\u8fd9\u91cc\u4e24\u6b21\u8c03\u7528\u7684\u90fd\u662f\u540c\u4e00\u4e2a <code>foo</code> \u51fd\u6570\uff0c\u4e0d\u540c\u7684\u662f\u524d\u8005\u662f\u5168\u5c40\u8c03\u7528\uff08\u5373\u76f4\u63a5\u8c03\u7528\uff09\uff0c\u800c\u540e\u8005\u662f\u628a\u51fd\u6570\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u8c61 <code>obj</code> \u7684\u5c5e\u6027\u540e\u901a\u8fc7 <code>obj</code> \u8c03\u7528\u3002\u800c <code>this</code> \u7684\u6307\u5411\u5c31\u662f\u5728\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\u786e\u5b9a\u7684\u3002\u5168\u5c40\u8c03\u7528 <code>foo</code> \u51fd\u6570\uff0c\u90a3 <code>this</code> \u5c31\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u901a\u8fc7 <code>obj</code> \u8c03\u7528\uff0c\u90a3 <code>this</code> \u5c31\u6307\u5411 <code>obj</code>\u3002</p> <p>\u5168\u5c40\u5bf9\u8c61</p> <p>\u4e8b\u5b9e\u4e0a JavaScript \u7684\u5168\u5c40\u53d8\u91cf\u90fd\u662f\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6bcf\u4e00\u4e2a JavaScript \u8fd0\u884c\u73af\u5883\u90fd\u6709\u4e00\u4e2a\u5168\u5c40\u5bf9\u8c61\u3002\u6bd4\u5982\u8bf4\u6d4f\u89c8\u5668\u7684\u5168\u5c40\u5bf9\u8c61\u5f80\u5f80\u662f <code>window</code>\uff0c\u800c Node.js \u7684\u5168\u5c40\u53d8\u91cf\u5219\u662f <code>global</code>\u3002\u4f60\u58f0\u660e\u7684\u6bcf\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u90fd\u4f1a\u7ed1\u5b9a\u4e3a\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027\uff08\u4e0b\u8ff0\u4ee3\u7801\u5728\u6d4f\u89c8\u5668\u8fd0\u884c\uff09\uff1a</p> <pre><code>var a = 1;\nwindow.a; // 1\n</code></pre> <p>\u800c\u5728\u5168\u5c40\u73af\u5883\u4e0b\u8c03\u7528\u51fd\u6570 <code>foo()</code>\uff0c\u5b9e\u9645\u4e0a\u7b49\u4ef7\u4e8e\u901a\u8fc7\u5168\u5c40\u5bf9\u8c61\u5728\u8c03\u7528\uff1a</p> <pre><code>foo();\nwindow.foo();\n</code></pre> <p>\u4e0a\u8ff0\u4e24\u4e2a\u8bed\u53e5\u6ca1\u6709\u5dee\u522b\u3002</p> <p>\u5bf9\u4e8e\u66f4\u4e3a\u590d\u6742\u7684\u5bf9\u8c61\u5d4c\u5957\uff0c<code>this</code> \u7684\u6307\u5411\u4e5f\u9075\u5faa\u7740\u6307\u5411\u6700\u8fd1\u7684\u8c03\u7528\u8005\u7684\u89c4\u5219\uff1a</p> <pre><code>let obj = {\n    foo: 1,\n    inner: {\n        foo: 2,\n        fn: function () {\n            console.log(this.foo);\n        },\n    },\n};\n\nobj.inner.fn(); // 2\n\nobj.fn = obj.inner.fn;\nobj.fn(); // 1\n\nlet fn = obj.inner.fn;\nfn(); // undefined\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>fn</code> \u51fd\u6570\u88ab\u4e09\u4e2a\u5bf9\u8c61\u5206\u522b\u8c03\u7528\uff0c\u4ece\u4e0a\u5230\u4e0b\u4e3a <code>obj.inner, obj, window</code>\uff0c\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e09\u6b21\u8c03\u7528\u4e2d\u7684 <code>this</code> \u5c31\u5206\u522b\u6307\u5411\u8fd9\u4e09\u4e2a\u5bf9\u8c61\u3002</p> <p>\u4e00\u4e9b\u8865\u5145</p> <p>\u867d\u8bf4 <code>this</code> \u7684\u6307\u5411\u89c4\u5219\u53ea\u6709\u4e00\u6761\uff0c\u4f46\u5b9e\u9645\u4e0a\u5728\u5199\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u4e00\u4e9b\u51fd\u6570\u662f\u6bd4\u8f83\u96be\u5f04\u660e\u767d\u8c03\u7528\u8005\u7684\u3002\u6bd4\u5982\u8bf4\u4f20\u7ed9\u524d\u7aef\u7ec4\u4ef6\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3001\u4f20\u7ed9\u8ba1\u65f6\u5668\u7684\u56de\u8c03\u3001\u7c7b\u51fd\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u7684 <code>this</code> \u7684\u6307\u5411\u95ee\u9898\u5b9e\u9645\u4e0a\u5df2\u7ecf\u8131\u79bb\u4e86\u672c\u8282\u8ba8\u8bba\u7684\u8303\u7574\uff0c\u6bd4\u5982\u8bf4\u7c7b\u73af\u5883\u4e0b\u7684 <code>this</code> \u95ee\u9898\u5c31\u5e94\u8be5\u8ba4\u771f\u5b66\u4e60\u539f\u578b\u94fe\u903b\u8f91\u624d\u80fd\u771f\u6b63\u638c\u63e1\u3002</p> <p><code>this</code> \u7684\u7f3a\u9677\u5c31\u5728\u4e8e\u5176\u6307\u5411\u662f\u52a8\u6001\u7684\uff0c\u6709\u4e9b\u51fd\u6570\u53ef\u80fd\u5185\u90e8\u4f7f\u7528\u4e86 <code>this</code> \u4f46\u5f00\u53d1\u8005\u5e76\u4e0d\u77e5\u6653\uff0c\u4ece\u800c\u5728\u4e0d\u540c\u60c5\u51b5\u4e0b\u5e94\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u65f6\u5019\u4f1a\u4ea7\u751f\u4e0d\u53ef\u7406\u89e3\u7684\u9519\u8bef\u3002\u800c\u73b0\u5728\u7684\u4e00\u4e9b\u8865\u4e01\u5c31\u662f\u5141\u8bb8\u5f00\u53d1\u8005\u786c\u6027\u6307\u5b9a <code>this</code> \u7684\u6307\u5411\u6216\u8005\u6c38\u4e45\u7ed1\u5b9a <code>this</code> \u7684\u6307\u5411\u4ee5\u9632\u6b62\u672a\u77e5\u9519\u8bef\u3002</p> <p>\u6bd4\u5982\u8bf4 <code>call(), apply()</code> \u65b9\u6cd5\u5c31\u5141\u8bb8\u6211\u4eec\u624b\u52a8\u6307\u5b9a <code>this</code> \u7684\u6307\u5411\uff0c\u5176\u63a5\u53d7\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u4f1a\u6210\u4e3a <code>this</code> \u7684\u6307\u5411\uff1a</p> <pre><code>function foo() {\n    console.log(this.a);\n}\n\nlet obj = { a: 1, };\nlet another = { a: 2, };\n\nfoo(); // undefined\nfoo.call(obj); // 1\nfoo.apply(obj); // 1\nfoo.call(another); // 2\nfoo.apply(another); // 2\n</code></pre> <p>\u800c <code>bind()</code> \u65b9\u6cd5\u5219\u5141\u8bb8\u6211\u4eec\u5c06 <code>this</code> \u7684\u6307\u5411\u6c38\u4e45\u7ed1\u5b9a\u4e8e\u67d0\u4e00\u4e2a\u5bf9\u8c61\u4e0a\u3002\u65e0\u8bba\u540e\u7eed\u4f7f\u7528\u54ea\u4e00\u4e2a\u5bf9\u8c61\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u5176 <code>this</code> \u90fd\u4fdd\u6301\u539f\u5148 <code>bind()</code> \u8bbe\u5b9a\u7684\u6307\u5411\uff1a</p> <pre><code>function foo() {\n    console.log(this.a);\n}\n\nlet obj = { a: 1, };\n\nfoo(); // undefined\nfoo = foo.bind(obj);\nfoo(); // 1\n\nlet another = { foo: foo, a: 2, };\nanother.foo(); // 1\n</code></pre> <p>\u5728\u8fd9\u4e9b\u8865\u4e01\u51fa\u73b0\u4e4b\u524d\uff0c\u4e3a\u4e86\u786c\u6027\u89c4\u5b9a <code>this</code> \u7684\u6307\u5411\uff0c\u7a0b\u5e8f\u5458\u751a\u81f3\u4f1a\u5728\u51fd\u6570\u4e2d\u4f7f\u7528 <code>var that = this</code> \u8bed\u53e5\u5148\u6355\u83b7 <code>this</code>\uff0c\u4e4b\u540e\u4f7f\u7528 <code>that</code> \u4ee3\u66ff <code>this</code> \u6765\u9632\u6b62 bug\u3002</p> <p>\u800c\u73b0\u5728\u66f4\u5e38\u7528\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u7bad\u5934\u51fd\u6570\uff0c\u8fd9\u79cd\u65b0\u7279\u6027\u503c\u5f97\u4e13\u95e8\u5f00\u51fa\u4e00\u8282\u6765\u8bb2\u8bb2\u3002</p>"},{"location":"languages/javascript/oop/#_1","title":"\u7bad\u5934\u51fd\u6570","text":"<p>\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u8bb2\u8fc7\u5982\u4f55\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u4f46\u5e76\u6ca1\u6709\u8bb2\u5b83\u9664\u4e86\u5199\u6cd5\u7b80\u4fbf\u4ee5\u5916\u7684\u5b9e\u73b0\u533a\u522b\uff0c\u5b9e\u9645\u4e0a\u7bad\u5934\u51fd\u6570\u7684\u8bbe\u8ba1\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u4e3a\u4e86\u89e3\u51b3 <code>this</code> \u95ee\u9898\u3002</p> <p>\u524d\u9762\u63d0\u5230\u8fc7\uff0c<code>this</code> \u603b\u662f\u6307\u5411\u6700\u8fd1\u7684\u8c03\u7528\u8005\uff0c\u5bf9\u4e8e\u4e00\u4e2a <code>function</code>\uff0c\u5728\u5185\u90e8\u4f7f\u7528 <code>this</code> \u65f6\uff0c\u6307\u5411\u7684\u662f\u51fd\u6570\u8c03\u7528\u65f6\u7684\u4e0a\u4e0b\u6587\uff1b\u4f46\u5bf9\u4e8e\u7bad\u5934\u51fd\u6570\uff0c\u5176\u672c\u8eab\u5e76\u6ca1\u6709 <code>this</code>\uff0c\u4e5f\u5373\u7bad\u5934\u51fd\u6570\u7684 <code>this</code> \u5b9e\u9645\u4e0a\u662f\u5b9a\u4e49\u7bad\u5934\u51fd\u6570\u65f6\u4ece\u4e0a\u4e0b\u6587\u4e2d\u83b7\u53d6\u7684\uff0c\u7bad\u5934\u51fd\u6570\u4f5c\u4e3a\u4e00\u4e2a\u95ed\u5305\uff0c\u4fdd\u5b58\u4e86\u5b9a\u4e49\u5b83\u65f6\u7684 <code>this</code>\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86 <code>this</code> \u6307\u5411\u4e0d\u660e\u786e\u7684\u95ee\u9898\u3002</p> <p>\u7bad\u5934\u51fd\u6570\u53ea\u662f\u51fd\u6570\u7684\u53e6\u5916\u4e00\u79cd\u5199\u6cd5\uff1a</p> <pre><code>const sum = (x, y) =&gt; {\n    return x + y;\n}\n\nsum(1, 2); // 3\n</code></pre> <p>\u540c\u65f6\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u51fd\u6570\u4f53\u6ca1\u6709\u4e2d\u95f4\u64cd\u4f5c\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u7bad\u5934\u53f3\u4fa7\u5199\u8fd4\u56de\u503c\uff1a</p> <pre><code>const sum = (x, y) =&gt; x + y;\nsum(1, 2); // 3\n</code></pre> <p>\u800c\u5728\u56de\u8c03\u51fd\u6570\u91cc\u9762\u5199\u7bad\u5934\u51fd\u6570\u5c06\u4f1a\u8ba9\u4ee3\u7801\u66f4\u53ef\u8bfb\uff1a</p> <pre><code>response.data\n    .map((val, ind) =&gt; ({\n        ...val,\n        index: ind,\n    }))\n    .filter((val) =&gt; val.name !== undefined)\n    .sort((a, b) =&gt; a.subscriberNum - b.subscriberNum);\n</code></pre> <p>\u552f\u4e00\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4e00\u4e2a\u7bad\u5934\u51fd\u6570\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7684\u82b1\u62ec\u53f7\u53ef\u80fd\u4f1a\u548c\u4ee3\u7801\u5757\u7684\u82b1\u62ec\u53f7\u6df7\u6dc6\uff0c\u6240\u4ee5\u5982\u679c\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8bb0\u5f97\u5728\u5bf9\u8c61\u7684\u82b1\u62ec\u53f7\u5916\u518d\u5957\u4e00\u5c42\u5c0f\u62ec\u53f7\u9632\u6b62\u51fa\u73b0 Syntax Error\u3002</p> <p>\u7bad\u5934\u51fd\u6570\u548c <code>function</code> \u51fd\u6570\u6700\u5927\u4e0d\u540c\u7684\u5730\u65b9\u662f\u5176 <code>this</code> \u7684\u6307\u5411\u8ddf\u968f\u4e0a\u4e0b\u6587\u7684 <code>this</code>\uff0c\u4e5f\u5c31\u662f\u8bf4\u5176\u672c\u8eab\u4e0d\u5177\u6709 <code>this</code>\uff0c\u5728\u7bad\u5934\u51fd\u6570\u4f53\u91cc\u4f7f\u7528\u7684 <code>this</code> \u5b9e\u9645\u4e0a\u662f\u5176\u4e0a\u4e0b\u6587\uff08\u4e00\u822c\u662f\u5176\u6240\u5728\u7684\u51fd\u6570\u4f5c\u7528\u57df\uff09\u7684 <code>this</code>\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u7bad\u5934\u51fd\u6570\u7684 <code>this</code> \u5728\u5b9a\u4e49\u7684\u65f6\u5019\u5c31\u5b8c\u6210\u4e86\u7ed1\u5b9a\uff0c\u8fd9\u6837\u7684\u6027\u8d28\u5c31\u89e3\u51b3\u4e86 <code>this</code> \u6307\u5411\u4e0d\u660e\u7684\u95ee\u9898\u3002</p> <p>\u8003\u8651\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>const foo = () =&gt; console.log(this);\n\nfoo(); // window\n\n// Changing caller will not change 'this'\nlet obj = { foo: foo, };\nobj.foo(); // window\n\n// 'call' &amp; 'bind' may fail\nfoo.call(obj); // window\nfoo = foo.bind(obj);\nfoo(); // window\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u5728\u5168\u5c40\u73af\u5883\u4e0b\u8bbe\u5b9a\u7684\u7bad\u5934\u51fd\u6570\u7684 <code>this</code> \u6c38\u8fdc\u8ddf\u968f\u5168\u5c40\u73af\u5883\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002</p> <p>\u4f46\u53e6\u5916\u4e00\u65b9\u9762\uff1a</p> <pre><code>let obj = {\n    bar: function () {\n        const foo = () =&gt; console.log(this);\n        return foo;\n    },\n};\n\nconst foo = obj.bar();\nfoo(); // obj\n\nconst bar = obj.bar;\nbar()(); // window\n</code></pre> <p>\u8fd9\u91cc\u524d\u9762\u83b7\u53d6 <code>foo</code> \u7684\u65f6\u5019\u662f\u4f7f\u7528\u7684 <code>obj</code> \u8c03\u7528\u7684\u666e\u901a\u51fd\u6570 <code>bar</code>\uff0c\u6240\u4ee5 <code>bar</code> \u7684 <code>this</code> \u6307\u5411 <code>obj</code>\uff0c\u8ddf\u968f\u7740\u7684 <code>foo</code> \u7684 <code>this</code> \u5c31\u6307\u5411 <code>obj</code>\u3002\u800c\u540e\u9762\u83b7\u53d6\u7684\u65f6\u5019 <code>bar</code> \u662f\u88ab\u5168\u5c40\u5bf9\u8c61\u8c03\u7528\u7684\uff0c\u5176 <code>this</code> \u5c31\u88ab\u81ea\u7136\u7ed1\u5b9a\u5230\u4e86\u5168\u5c40\u5bf9\u8c61\u4e0a\uff0c\u6240\u4ee5\u5185\u90e8\u7bad\u5934\u51fd\u6570\u7684 <code>this</code> \u4e5f\u5c31\u7ed1\u5b9a\u5230\u4e86\u5168\u5c40\u5bf9\u8c61\u4e0a\u3002</p> <p>\u6211\u8be5\u5982\u4f55\u4f7f\u7528 <code>this</code></p> <p>\u5b9e\u9645\u4e0a\u53ea\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u4ee3\u7801\u89c4\u8303\uff08\u6bd4\u5982\u8bf4\u5728\u5b66\u4e60\u4e00\u4e2a\u524d\u7aef\u6846\u67b6\u7684\u65f6\u5019\u6309\u7167\u5176\u6559\u7a0b\u548c\u6837\u4f8b\u4ee3\u7801\u8fdb\u884c\u5b9e\u8df5\uff09\u7f16\u5199\u4ee3\u7801\uff0c<code>this</code> \u5e76\u4e0d\u4f1a\u6210\u4e3a\u4e00\u4e2a\u5f88\u5927\u7684\u95ee\u9898\u3002\u4f46\u662f\u7f16\u8005\u4f9d\u7136\u5efa\u8bae\u8bfb\u8005\u5e94\u5f53\u4e86\u89e3 <code>this</code> \u7684\u673a\u5236\uff0c\u8fd9\u6837\u624d\u80fd\u5e94\u5bf9\u53ef\u80fd\u51fa\u73b0\u7684\u610f\u5916\u3002</p>"},{"location":"languages/javascript/variable/","title":"JavaScript \u7684\u53d8\u91cf\u4e0e\u53d8\u91cf\u7c7b\u578b","text":""},{"location":"languages/javascript/variable/#javascript","title":"JavaScript \u7684\u53d8\u91cf\u4e0e\u53d8\u91cf\u7c7b\u578b","text":""},{"location":"languages/javascript/variable/#_1","title":"\u53d8\u91cf\u58f0\u660e","text":"<p>JavaScript \u8bed\u8a00\u4e4b\u4e2d\u58f0\u660e\u53d8\u91cf\u7684\u5173\u952e\u5b57\u6709\u4e09\u4e2a\uff0c\u5206\u522b\u4e3a <code>var, let, const</code>\u3002\u4ece\u5b57\u9762\u610f\u4e49\u4e0a\u6765\u770b\uff0c<code>const</code> \u7528\u4e8e\u58f0\u660e\u5e38\u91cf\uff0c\u800c <code>var, let</code> \u5219\u7528\u4e8e\u58f0\u660e\u53d8\u91cf\u3002\u5728 <code>var, let</code> \u9009\u53d6\u7684\u95ee\u9898\u4e0a\uff0c\u7f16\u8005\u5efa\u8bae\u5c3d\u91cf\u5168\u90e8\u4f7f\u7528 <code>let</code> \u5173\u952e\u5b57\u58f0\u660e\u53d8\u91cf\u4ee5\u9632\u6b62\u6df7\u4e71\uff0c\u5177\u4f53\u539f\u56e0\u53ef\u4ee5\u53c2\u7167\u8bb2\u89e3 JavaScript \u51fd\u6570\u90e8\u5206\u7684\u53d8\u91cf\u63d0\u5347\u6ce8\u89e3\u3002</p> <p>\u5728\u8fd0\u884c\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528\u672a\u51fa\u73b0\u8fc7\u7684\u53d8\u91cf\u76f8\u5f53\u4e8e <code>var</code> \u58f0\u660e\uff0c\u4f46\u8fd9\u662f\u5f88\u4e0d\u597d\u7684\u7f16\u7801\u4e60\u60ef\u3002</p> <pre><code>var a = 0;\na = 1; // OK\nlet b = \"Test string\";\nb = \"New string\"; // OK\nconst c = 0;\nc = 2; // Error!\n</code></pre> <p>\u53e6\u5916\uff0c\u7531\u4e8e JavaScript \u662f\u5f31\u7c7b\u578b\u7684\uff0c\u6240\u4ee5\u91cd\u65b0\u7ed9\u53d8\u91cf\u8d4b\u503c\u7684\u65f6\u5019\u53ef\u4ee5\u6539\u53d8\u7c7b\u578b\uff1a</p> <pre><code>let weakType = 0;\nweakType = \"You are a string now!\"; // OK\n</code></pre>"},{"location":"languages/javascript/variable/#_2","title":"\u53d8\u91cf\u7c7b\u578b","text":"<p>JavaScript \u7684\u9b54\u6cd5</p> <p>JavaScript \u662f\u4e00\u4e2a\u5728\u4e24\u5468\u5de6\u53f3\u65f6\u95f4\u5c31\u8bbe\u8ba1\u5b8c\u6210\u7684\u8bed\u8a00\uff0c\u5373\u4f7f\u8fd9\u95e8\u8bed\u8a00\u7684\u8bbe\u8ba1\u8005\u6c34\u5e73\u5f88\u9ad8\uff0c\u4f46\u4e0d\u53ef\u5426\u8ba4\u7684\u662f\u5982\u6b64\u7d27\u8feb\u7684\u5de5\u671f\u4e5f\u9020\u6210\u4e86 JavaScript \u4e4b\u4e2d\u6709\u8bb8\u591a\u53cd\u76f4\u89c9\u7684\u8bbe\u8ba1\u7f3a\u9677\uff0c\u8fd9\u4e9b\u7f3a\u9677\u7f16\u8005\u4f1a\u5728\u6587\u6863\u5404\u5bf9\u5e94\u90e8\u5206\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>JavaScript \u7684\u57fa\u7840\u7c7b\u578b\u548c\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u8868\u73b0\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u548c C/C++ \u8bed\u8a00\u7c7b\u4f3c\uff0c\u4f46\u662f\u7531\u4e8e JavaScript \u7684\u8bed\u8a00\u7279\u6027\u6216\u7f3a\u9677\uff0c\u8fd9\u4e9b\u57fa\u7840\u8fd0\u7b97\u7b26\u5728\u53e6\u5916\u4e00\u4e9b\u5e38\u8bc6\u4e4b\u5916\u7684\u8fd0\u7b97\u4e4b\u4e2d\u6709\u7740\u76f8\u5f53\u8d85\u51e1\u8131\u4fd7\u7684\u548c\u53cd\u76f4\u89c9\u7684\u8868\u73b0\u3002\u4f60\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u662f JavaScript \u7684\u8bbe\u8ba1\u7f3a\u9677\uff0c\u4e5f\u53ef\u4ee5\u8ba4\u4e3a\u662f\u8fd9\u95e8\u8bed\u8a00\u7684\u8bed\u6cd5\u7279\u6027\u3002</p> <p>\u5176\u4e2d\uff0c\u5df2\u7ecf\u88ab\u4f5c\u4e3a\u8bed\u6cd5\u7279\u6027\u800c\u88ab\u5e7f\u6cdb\u8fd0\u7528\u7684\u7528\u6cd5\u5c06\u4f1a\u5728\u6b63\u6587\u4e2d\u6307\u51fa\uff0c\u800c\u5176\u4ed6\u7528\u6cd5\u5c06\u4f1a\u5728\u8fd9\u4e00\u8282\u7684\u6700\u540e\u5177\u4f53\u4ecb\u7ecd\u3002\u5982\u679c\u4f60\u662f JavaScript \u8bed\u8a00\u7684\u521d\u5b66\u8005\uff0c\u7f16\u8005\u5e76\u4e0d\u5efa\u8bae\u9605\u8bfb\u8fd9\u4e00\u90e8\u5206\uff0c\u56e0\u4e3a\u8fd9\u53ef\u80fd\u4f1a\u9020\u6210\u4e0d\u826f\u597d\u7684\u7f16\u7801\u4e60\u60ef\u548c\u7f16\u7a0b\u601d\u7ef4\u7684\u6df7\u4e71\u3002\u5c31\u521d\u5b66\u800c\u8a00\uff0c\u9605\u8bfb\u672c\u6587\u6863\u7684\u6b63\u6587\u5c31\u8db3\u4ee5\u5199\u51fa\u5b9e\u7528\u4e14\u5f3a\u5927\u7684\u4ee3\u7801\u3002\u4f46\u5982\u679c\u4f60\u60f3\u8981\u6df1\u5165\u4e86\u89e3\u8fd9\u4e00\u95e8\u8bed\u8a00\uff0c\u7f16\u8005\u8ba4\u4e3a\u7406\u89e3\u8fd9\u4e9b\u8fd0\u7b97\u7b26\u7684\u5177\u4f53\u8868\u73b0\u662f\u6709\u5fc5\u8981\u7684\u3002</p> <p>JavaScript \u8bed\u8a00\u652f\u6301\u4e03\u79cd\u57fa\u672c\u7c7b\u578b\uff0c\u5373\u6570\u5b57\u3001\u5927\u6574\u6570\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001<code>symbol</code> \u7c7b\u578b\u3001<code>undefined</code> \u7c7b\u578b\u548c <code>null</code> \u7c7b\u578b\u3002\u524d\u4e94\u4e2a\u7c7b\u578b\u662f\u5bb9\u6613\u7406\u89e3\u7684\uff0c\u800c\u540e\u4e24\u8005\u5219\u4f1a\u5728\u6700\u540e\u8bb2\u89e3\u3002</p> <p>\u83b7\u53d6\u6570\u636e\u7684\u7c7b\u578b\u53ef\u4ee5\u4f7f\u7528 <code>typeof</code> \u5173\u952e\u5b57\uff1a</p> <pre><code>let testNum = 0;\ntypeof testNum; // \"number\"\n</code></pre>"},{"location":"languages/javascript/variable/#_3","title":"\u5e03\u5c14\u3001\u6570\u5b57\u548c\u5b57\u7b26\u4e32","text":"<p>JavaScript \u7684\u5e03\u5c14\u503c\u7c7b\u578b\u4ec5\u6709\u4e24\u4e2a\u53ef\u80fd\u503c\uff0c\u5373 <code>true</code> \u548c <code>false</code>\u3002\u4e0e\u5e03\u5c14\u503c\u7c7b\u578b\u76f8\u5173\u7684\u8fd0\u7b97\u4e00\u822c\u800c\u8a00\u548c C/C++ \u8bed\u8a00\u7c7b\u4f3c\uff1a</p> <pre><code>4 &gt; 5; // false\n2 !== 3; // true\n\"I\" === \"You\"; // false\n\nfalse &amp;&amp; false; // false\ntrue || false; // true\n!false; // true\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u8bed\u8a00\u7684\u5224\u7b49\u8fd0\u7b97\u7b26\u6709 <code>==, ===</code> \u4e24\u79cd\uff0c\u5224\u4e0d\u7b49\u8fd0\u7b97\u7b26\u4e5f\u76f8\u5e94\u5730\u6709 <code>!=, !==</code> \u4e24\u79cd\u3002\u7f16\u8005\u5efa\u8bae\u5b8c\u5168\u4f7f\u7528 <code>===, !==</code> \u6765\u4ee3\u66ff <code>==, !=</code>\uff0c\u8fd9\u662f\u56e0\u4e3a\u540e\u8005\u5728\u6bd4\u8f83\u4e4b\u524d\u53ef\u80fd\u4f1a\u53d1\u751f\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u800c\u8fd9\u79cd\u8f6c\u6362\u901a\u5e38\u4e0d\u5fc5\u8981\u4e14\u96be\u4ee5\u7406\u89e3\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u524d\u8005\u5219\u4f1a\u8fdb\u884c\u4e25\u683c\u7684\u503c\u6bd4\u8f83\uff0c\u4e0d\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u3002</p> <pre><code>1 == true; // true\n1 === true; // false\n</code></pre> <p>JavaScript \u8bed\u8a00\u4e4b\u4e2d\u7684\u6570\u5b57\u4e0d\u533a\u5206\u6574\u6570\u548c\u6d6e\u70b9\u6570\uff0c\u7edf\u4e00\u4f7f\u7528\u6d6e\u70b9\u6570\u8868\u793a\u3002\u4ec5\u5f53\u5728 <code>Number.MAX_SAFE_INTEGER</code> \u548c <code>Number.MIN_SAFE_INTEGER</code> \u4e4b\u95f4\u7684\u6574\u6570\u8fd0\u7b97\u662f\u5b89\u5168\u7684\uff0c\u5426\u5219\u5c06\u4f1a\u662f\u4f7f\u7528\u53cc\u6d6e\u70b9\u6570\u7684\u8fd1\u4f3c\u503c\u3002\u6240\u4ee5\u9664\u6cd5\u6ca1\u6709\u7c7b\u4f3c C/C++ \u7684\u5411\u4e0b\u53d6\u6574\u7684\u6027\u8d28\uff1a</p> <pre><code>5 / 2; // 2.5\n</code></pre> <p>\u90e8\u5206\u6570\u5b66\u76f8\u5173\u7684\u51fd\u6570\u3001\u5e38\u6570\u5747\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u5bf9\u8c61 <code>Math</code> \u8c03\u7528\uff0c\u4e0d\u8fc7\u6d89\u53ca\u5230\u7cbe\u786e\u7684\u6570\u5b66\u8ba1\u7b97\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u6ce8\u610f\u6d6e\u70b9\u6570\u8bef\u5dee\u95ee\u9898\uff1a</p> <pre><code>Math.PI; // 3.141592653589793\nMath.floor(5 / 2); // 2\n\nMath.sin(Math.PI); // 1.2246467991473532e-16\n0.1 + 0.2; // 0.30000000000000004\n</code></pre> <p>JavaScript \u8bed\u8a00\u7684\u6570\u5b57\u7c7b\u578b\u8fd8\u6709\u4e24\u4e2a\u4fdd\u7559\u5b57\uff0c\u5373 <code>NaN</code> \u548c <code>Infinity</code>\uff0c\u8fd9\u4e24\u8005\u5206\u522b\u4ee3\u8868\u201c\u4e0d\u662f\u6570\u5b57\u201d\u548c\u201c\u65e0\u7a77\u5927\u201d\u3002<code>NaN</code> \u901a\u5e38\u662f\u4e0d\u5408\u6cd5\u8fd0\u7b97\u7684\u7ed3\u679c\uff0c\u800c\u4e14 <code>NaN</code> \u53c2\u4e0e\u7684\u7b97\u672f\u8fd0\u7b97\u53ea\u4f1a\u5f97\u5230 <code>NaN</code>\uff1a</p> <pre><code>1 / \"tql\"; // NaN\nMath.sqrt(-1); // NaN\nparseInt(\"Not a number\"); // NaN\n\n1 + NaN; // NaN\nNaN + NaN; // NaN\n</code></pre> <p><code>NaN</code> \u8fd8\u9700\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u5c31\u662f <code>NaN</code> \u548c\u6bd4\u8f83\u8fd0\u7b97\u7b26\u7684\u8fde\u7528\uff1a</p> <pre><code>NaN &lt; 1; // false\nNaN &gt; 1; // false\nNaN === NaN; // false\nNaN !== NaN; // true\n</code></pre> <p>\u8fd9\u5c31\u4ee3\u8868\u6211\u4eec\u5728\u5224\u5b9a\u4e00\u4e2a\u503c\u662f\u5426\u662f <code>NaN</code> \u7684\u65f6\u5019\u4e0d\u80fd\u4f7f\u7528\u8fd0\u7b97\u7b26 <code>===</code>\uff0c\u800c\u5e94\u5f53\u4f7f\u7528 <code>isNaN</code> \u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u9996\u5148\u4f1a\u5c06\u53c2\u6570\u5f3a\u5236\u8f6c\u5316\u4e3a\u6570\u5b57\u7c7b\u578b\uff0c\u5e76\u4e14\u53ea\u5728\u8f6c\u5316\u7ed3\u679c\u4e3a <code>NaN</code> \u7684\u65f6\u5019\u8fd4\u56de <code>true</code>\uff1a</p> <pre><code>isNaN(NaN); // true\nisNaN(3); // false\n\nisNaN(\"2.4\"); // false, \"2.4\" can be converted to 2.4\nisNaN(\"No\"); // true, \"No\" can never be converted to legal number\n\nisNaN(true); // false, true can be converted to 1\n</code></pre> <p>\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362</p> <p>JavaScript \u8fdb\u884c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u7684\u903b\u8f91\u4f1a\u5199\u5728\u672c\u8282\u672b\u5c3e\uff0c\u4f46\u6211\u4eec\u4f9d\u7136\u5efa\u8bae\u521d\u5b66\u8005\u5148\u9605\u8bfb\u6b63\u6587\uff0c\u5b66\u4f1a\u7f16\u5199\u5b89\u5168\u7684\u4ee3\u7801\u540e\u518d\u53bb\u6df1\u5165\u7406\u89e3\u3002</p> <p>\u6211\u4eec\u5728\u4ee3\u7801\u4e4b\u4e2d\u5f88\u5c11\u76f4\u63a5\u5199\u51fa <code>NaN</code> \u5b57\u9762\u91cf\uff0c\u4f46\u662f\u6211\u4eec\u4f9d\u7136\u9700\u8981\u6ce8\u610f\u5404\u79cd\u8fd0\u7b97\u53ef\u80fd\u4ea7\u751f\u7684 <code>NaN</code>\uff0c\u5e76\u4e14\u5408\u7406\u4f7f\u7528 <code>isNaN</code> \u51fd\u6570\u8fdb\u884c\u5206\u652f\u5224\u5b9a\uff0c\u4ee5\u9632\u6b62\u7a0b\u5e8f\u51fa\u73b0 bug\u3002</p> <p><code>Infinity</code> \u4ee3\u8868\u65e0\u7a77\u5927\uff0c\u5982\u679c\u8fd0\u7b97\u7ed3\u679c\u8d85\u51fa\u4e86 JavaScript \u80fd\u5904\u7406\u7684\u8303\u56f4\uff0c\u5219\u4f1a\u5f97\u5230 <code>Infinity</code>\u3002<code>Infinity</code> \u6240\u53c2\u4e0e\u7684\u7b97\u672f\u8fd0\u7b97\u4e5f\u4e00\u822c\u7b26\u5408\u6570\u5b66\u76f4\u89c9\uff0c\u5982\u679c\u6d89\u53ca\u5230\u4e0d\u5b9a\u5f0f\uff08\u96f6\u4e58\u4ee5\u65e0\u7a77\u5927\u3001\u65e0\u7a77\u5927\u51cf\u65e0\u7a77\u5927\u7b49\uff09\u5219\u4f1a\u5f97\u5230 <code>NaN</code>\uff1a</p> <pre><code>1 / 0; // Infinity\n-1 / 0; // -Infinity\n1e100000; // Infinity\n0 / 0; // NaN\n\nInfinity + 1; // Infinity\nInfinity - 1; // Infinity\nInfinity * 2; // Infinity\nInfinity / 3; // Infinity\n\nInfinity * 0; // NaN\nInfinity - Infinity; // NaN\n\nInfinity === Infinity; // true\n</code></pre> <p>JavaScript \u53ef\u4ee5\u4efb\u610f\u4f7f\u7528\u5355\u53cc\u5f15\u53f7\u6765\u8868\u793a\u5b57\u7b26\u4e32\u3002JavaScript \u4e2d\u7684 <code>string</code> \u662f\u539f\u59cb\u503c\uff0c\u4e5f\u5373 <code>string</code> \u662f\u4e0d\u53ef\u6539\u53d8\u7684\uff0c\u8fd9\u4e0e Python \u7c7b\u4f3c\uff0c\u5bf9 <code>string</code> \u7684\u4efb\u4f55\u64cd\u4f5c\u4f1a\u8fd4\u56de\u65b0\u7684 <code>string</code> \u503c\uff0c\u800c\u4e0d\u662f\u5bf9\u65e7\u7684\u503c\u505a\u4e86\u90e8\u5206\u4fee\u6539\u3002</p> <p>JavaScript \u7684\u5b57\u7b26\u4e32\u652f\u6301\u4f7f\u7528\u52a0\u6cd5\u8fd0\u7b97\u7b26\u62fc\u63a5\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u76f8\u5f53\u591a\u7684\u5e38\u7528\u51fd\u6570\u3002\u8fd9\u91cc\u5c55\u793a\u4e00\u90e8\u5206\uff1a</p> <pre><code>\"a\" + \"b\"; // \"ab\"\n\"hello\".charAt(0); // \"h\"\n\"hello, Mike\".replace(\"Mike\", \"Mart\"); // \"hello, Mart\"\n\"hello, Mike\".indexOf(\"Mike\"); // 7\n\"hello\".substring(2, 3); // \"l\"\n</code></pre> <p>\u8fd9\u91cc\u9700\u8981\u4ecb\u7ecd\u7684\u662f\u6a21\u677f\u5b57\u7b26\u4e32\uff0c\u8fd9\u79cd\u5b57\u7b26\u4e32\u4e0d\u4f7f\u7528\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u5305\u56f4\uff0c\u800c\u662f\u4f7f\u7528\u53cd\u5f15\u53f7\u5305\u56f4\uff0c\u5185\u90e8\u53ef\u4ee5\u4f7f\u7528 <code>${}</code> \u5757\u5305\u56f4\u4ee3\u7801\u5757\uff0cJavaScript \u4f1a\u8ba1\u7b97\u51fa\u4ee3\u7801\u5757\u7684\u7ed3\u679c\u5e76\u5c06\u5176\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u5d4c\u5165\u6a21\u677f\u4e4b\u4e2d\u3002\u8fd9\u4e2a\u8bed\u6cd5\u7684\u597d\u5904\u5728\u4e8e\u4e0d\u9700\u8981\u624b\u5199\u5f88\u591a <code>+</code> \u6765\u624b\u52a8\u62fc\u63a5\u5b57\u7b26\u4e32\uff1a</p> <pre><code>let i = 1;\n`The val of i + 1 is ${i + 1}.`; // \"The val of i + 1 is 2.\"\n</code></pre> <p>\u5f53\u7136\uff0c\u6700\u597d\u4e0d\u8981\u5728\u540c\u4e00\u6bb5\u4ee3\u7801\u4e2d\u6df7\u7528\u5355\u53cc\u5f15\u53f7\uff0c\u4e5f\u4e0d\u8981\u7528\u53cd\u5f15\u53f7\u5199\u975e\u6a21\u677f\u5b57\u7b26\u4e32\u3002</p> <p>\u53e6\u5916\u6ce8\u610f\u4e00\u70b9\uff0cJavaScript \u5141\u8bb8\u4efb\u610f\u53d8\u91cf\u548c\u5b57\u7b26\u4e32\u76f8\u52a0\u3002\u800c\u6700\u5e38\u7528\u7684\u662f\u5b57\u7b26\u4e32\u5728\u52a0\u53f7\u5de6\u4fa7\uff0c\u5176\u4ed6\u53d8\u91cf\u5728\u52a0\u53f7\u53f3\u4fa7\u7684\u5f62\u5f0f\uff0c\u8fd9\u79cd\u8fd0\u7b97\u7684\u903b\u8f91\u662f\u5c06\u5176\u4ed6\u53d8\u91cf\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u540e\u8fdb\u884c\u5b57\u7b26\u4e32\u62fc\u63a5\u3002\u8fd9\u5c31\u8bde\u751f\u4e86\u4e00\u4e2a trick\uff0c\u5373\u7528\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u52a0\u4e00\u4e2a\u53d8\u91cf\uff0c\u5c31\u53ef\u4ee5\u65b9\u4fbf\u5730\u5c06\u8fd9\u4e2a\u53d8\u91cf\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\uff1a</p> <pre><code>\"4\" + 3; // \"43\"\n\n\"\" + 3; // \"3\"\n\"\" + true; // \"true\"\n</code></pre> <p>\u800c\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57\u5219\u53ef\u4ee5\u4f7f\u7528 <code>parseInt</code> \u548c <code>parseFloat</code> \u51fd\u6570\uff0c\u8fd9\u91cc\u8bb2\u89e3 <code>parseInt</code> \u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u9700\u8981\u8f6c\u6362\u7684\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u662f\u8f6c\u6362\u7684\u8fdb\u5236\u6570\u3002\u4e0d\u4f20\u5165\u8fd9\u4e2a\u53c2\u6570\u7684\u65f6\u5019\u9ed8\u8ba4\u6839\u636e\u5b57\u7b26\u4e32\u683c\u5f0f\u786e\u5b9a\uff0c\u5982\u679c\u4ee5 <code>0x</code> \u5f00\u5934\uff0c\u5219\u6309\u7167\u5341\u516d\u8fdb\u5236\u8f6c\u6362\uff0c\u5176\u4ed6\u5219\u6309\u7167\u5341\u8fdb\u5236\u8f6c\u6362\uff1a</p> <pre><code>parseInt(\"132\"); // 132\nparseInt(\"0x10\"); // 16\nparseInt(\"010\"); // 10\n\nparseInt(\"365\", 10); // 365\nparseInt(\"10\", 4); // 4\n</code></pre> <p>\u516b\u8fdb\u5236\u95ee\u9898</p> <p>\u5728\u8001\u7248\u672c\u7684 <code>parseInt</code> \u4e4b\u4e2d\uff0c\u5728\u4e0d\u4f20\u5165\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4ee5 <code>0</code> \u5f00\u5934\u7684\u5b57\u7b26\u4e32\u4f1a\u88ab\u6309\u7167\u516b\u8fdb\u5236\u8f6c\u6362\uff1a</p> <pre><code>parseInt(\"010\"); // In old version: 8\n</code></pre> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u9002\u914d\u95ee\u9898\u51fa\u73b0\uff0c\u5efa\u8bae\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u65f6\u5019\u4e0d\u4f7f\u7528\u5176\u9ed8\u8ba4\u8fdb\u5236\uff0c\u800c\u662f\u624b\u52a8\u901a\u8fc7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u3002</p> <p><code>parseInt</code> \u51fd\u6570\u5728\u8f6c\u6362\u5931\u8d25\u7684\u65f6\u5019\u4f1a\u8fd4\u56de <code>NaN</code>\u3002\u4f46\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u903b\u8f91\u662f\u9010\u4e2a\u8bfb\u53d6\u5b57\u7b26\u5e76\u5b9e\u65f6\u8f6c\u6362\uff0c\u9047\u5230\u4e0d\u80fd\u8f6c\u6362\u7684\u5b57\u7b26\u7684\u65f6\u5019\u8fd4\u56de\u5df2\u7ecf\u8f6c\u6362\u597d\u7684\u7ed3\u679c\u800c\u975e <code>NaN</code>\uff1a</p> <pre><code>parseInt(\"hello\", 10); // NaN\nparseInt(\"123abc\", 10); // 123\n</code></pre>"},{"location":"languages/javascript/variable/#bigint-es-2020","title":"<code>bigint</code> \u7c7b\u578b (ES 2020 \u65b0\u589e)","text":"<pre><code>let a = 9007199254740991n;\n</code></pre> <p>\u987e\u540d\u601d\u4e49\uff0c<code>bigint</code> \u7c7b\u578b\u7528\u4e8e\u5b58\u50a8\u548c\u8ba1\u7b97\u8d85\u8fc7 <code>number</code> \u7c7b\u578b\u9650\u5236\u7684\u5927\u6570\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u4e2d <code>number</code> \u80fd\u8868\u793a\u7684\u6700\u5927\u503c\u7ea6\u4e3a 1.7976931348623157e+308\uff0c\u7ee7\u7eed\u589e\u52a0\u4f1a\u5f97\u5230 <code>Infinity</code>\uff0c\u4e14\u8d85\u51fa 9007199254740991 \u7684\u6570\u5b57\u7684\u8ba1\u7b97\u5c31\u4e0d\u518d\u662f\u7cbe\u786e\u7684\u3002</p>"},{"location":"languages/javascript/variable/#symbol-es-6","title":"<code>symbol</code> \u7c7b\u578b (ES 6 \u65b0\u589e)","text":"<pre><code>let sym = Symbol('SAST');\n</code></pre> <p><code>symbol</code> \u662f JavaScript \u4e2d\u975e\u5e38\u72ec\u7279\u7684\u503c\uff0c<code>symbol</code> \u503c\u53ea\u80fd\u901a\u8fc7\u8c03\u7528 <code>Symbol()</code> \u6784\u9020\uff0c\u4f20\u5165\u7684\u53c2\u6570\u9664\u7528\u4e8e\u8c03\u8bd5\u5916\u65e0\u5176\u4ed6\u610f\u4e49\uff0c\u8be5\u51fd\u6570\u6bcf\u6b21\u8c03\u7528\u90fd\u4f1a\u8fd4\u56de\u4e0d\u540c\u7684 <code>symbol</code> \u503c\uff0c\u6545 <code>symbol</code> \u7c7b\u578b\u503c\u7684\u552f\u4e00\u4f5c\u7528\u5c31\u662f\u4f5c\u4e3a\u72ec\u4e00\u65e0\u4e8c\u7684\u6807\u8bc6\u7b26\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f <code>symbol</code> \u503c\u662f\u53ef\u4ee5\u54c8\u5e0c\u7684\uff0c\u8fd9\u4e5f\u4f7f\u5f97 <code>symbol</code> \u6210\u4e3a\u4e86\u4ec5\u6709\u7684\u4e09\u79cd\u53ef\u4ee5\u4f5c\u4e3a\u5bf9\u8c61\u7684\u952e\u7684\u7c7b\u578b\uff08\u53e6\u5916\u4e24\u79cd\u662f <code>number</code> \u548c <code>string</code>\uff0c\u4f46\u5b9e\u9645\u4e0a <code>number</code> \u4f1a\u88ab\u5f53\u4f5c <code>string</code> \u5904\u7406\uff09\u3002</p>"},{"location":"languages/javascript/variable/#_4","title":"\u5bf9\u8c61\u548c\u6570\u7ec4","text":"<p>\u5bf9\u8c61\u7c7b\u578b\u662f JavaScript \u8bed\u8a00\u4e4b\u4e2d\u6700\u5e38\u7528\u7684\u590d\u5408\u7c7b\u578b\uff0c\u5176\u7531\u82e5\u5e72\u7684\u952e\u503c\u5bf9\u7ec4\u6210\uff0c\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u4e4b\u4e2d\u503c\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u540c\u65f6\u4e5f\u5141\u8bb8\u5bf9\u8c61\u7684\u5d4c\u5957\u3002\u5bf9\u8c61\u5b57\u9762\u91cf\u4f7f\u7528\u82b1\u62ec\u53f7\u8868\u793a\uff0c\u82b1\u62ec\u53f7\u5185\u90e8\u952e\u503c\u5bf9\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u7684\u952e\u548c\u503c\u4f7f\u7528\u5192\u53f7\u5206\u9694\uff1a</p> <pre><code>let obj = {\n    foo: 0,\n    bar: \"bar\",\n    foobar: {\n        a: 1,\n        b: \"I am a value\",\n    },\n};\n</code></pre> <p>\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u4e4b\u4e2d\u7684\u952e\u79f0\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u8bbf\u95ee\u7ed9\u5b9a\u5bf9\u8c61\u7684\u5c5e\u6027\u4f7f\u7528 <code>.</code> \u6216 <code>[]</code> \u8fd0\u7b97\u7b26\uff1a</p> <pre><code>let obj = { foo: 1, };\nobj.foo; // 1\nobj['foo']; // 1\n</code></pre> <p>\u4e3a\u4e86\u65b9\u4fbf\u67e5\u770b\u66f4\u591a\u7ec6\u8282\uff0c\u6211\u4eec\u4f7f\u7528 Chrome \u6d4f\u89c8\u5668\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5f53\u6211\u4eec\u5728\u63a7\u5236\u53f0\u4e2d\u5c1d\u8bd5\u8f93\u51fa\uff1a</p> <pre><code>obj.__proto__\n</code></pre> <p>\u5e9f\u5f03\u8b66\u544a</p> <p><code>__proto__</code> \u662f\u5373\u5c06\u5e9f\u5f03\u7684\u5c5e\u6027\uff0c\u5e76\u4e14\u548c Python \u7c7b\u4f3c\uff0c\u5176\u540d\u79f0\u4f7f\u7528\u53cc\u4e0b\u5212\u7ebf\u5305\u56f4\u5b9e\u9645\u4e0a\u5c31\u4ee3\u8868\u4e86\u5176\u7406\u5e94\u79c1\u6709\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u3002\u4f46\u51fa\u4e8e\u6f14\u793a\u7684\u76ee\u7684\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u5b83\u7684\u5c5e\u6027\u3002</p> <p>\u6211\u4eec\u5c06\u4f1a\u770b\u5230\u53d8\u91cf <code>obj</code> \u4e0a\u5df2\u7ecf\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u65b9\u6cd5\uff1a</p> <pre><code>constructor: \u0192 Object()\nhasOwnProperty: \u0192 hasOwnProperty()\nisPrototypeOf: \u0192 isPrototypeOf()\npropertyIsEnumerable: \u0192 propertyIsEnumerable()\ntoLocaleString: \u0192 toLocaleString()\ntoString: \u0192 toString()\nvalueOf: \u0192 valueOf()\n__defineGetter__: \u0192 __defineGetter__()\n__defineSetter__: \u0192 __defineSetter__()\n__lookupGetter__: \u0192 __lookupGetter__()\n__lookupSetter__: \u0192 __lookupSetter__()\n__proto__: (...)\nget __proto__: \u0192 __proto__()\nset __proto__: \u0192 __proto__()\n</code></pre> <p>\u8fd9\u662f\u7531\u4e8e\u6211\u4eec\u521b\u5efa\u7684\u5bf9\u8c61\u9ed8\u8ba4\u662f\u4f7f\u7528\u6784\u9020\u51fd\u6570 <code>Object</code> \u521b\u5efa\u7684\uff0c\u8fd9\u5c31\u4f7f\u5b83\u53ef\u4ee5\u8bbf\u95ee\u539f\u578b\u4e0a\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u5173\u4e8e\u539f\u578b\u7684\u66f4\u591a\u7ec6\u8282\uff0c\u5c06\u4f1a\u5728JavaScript \u7684\u9762\u5411\u5bf9\u8c61\u8fdb\u9636\u4e2d\u8be6\u7ec6\u5c55\u5f00\u3002</p> <p>\u5bf9\u8c61\u7684\u539f\u578b</p> <p>JavaScript \u7684\u4e00\u5207\u5bf9\u8c61\u90fd\u6709\u5b83\u7684\u539f\u578b\uff0c\u901a\u8fc7\u5728\u539f\u578b\u4e0a\u5b9a\u4e49\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u5f97\u4ee5\u8be5\u5bf9\u8c61\u4e3a\u539f\u578b\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u65b9\u6cd5\u3002\u901a\u5e38\u800c\u8a00\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4e86\u89e3\u5982\u4f55\u6784\u9020\u7279\u5b9a\u539f\u578b\u7684\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528\u8be5\u539f\u578b\u7684\u65b9\u6cd5\u5373\u53ef\u3002</p> <p>\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u53ef\u4ee5\u662f\u4efb\u4f55\u6709\u6548\u7684 JavaScript \u5b57\u7b26\u4e32\u6216 <code>symbol</code> \u503c\uff0c\u4f46\u5982\u679c\u53d8\u91cf\u540d\u4e0d\u662f\u5408\u6cd5\u7684 JavaScript \u6807\u8bc6\u7b26\uff08\u4f8b\u5982\u5305\u542b\u7a7a\u683c\u7b49\u7279\u6b8a\u5b57\u7b26\u3001\u6216\u4f7f\u7528 <code>symbol</code> \u7b49\uff09\uff0c\u5c31\u53ea\u80fd\u4f7f\u7528 <code>[]</code> \u6765\u8bbf\u95ee\uff1a</p> <pre><code>const sym = Symbol();\nconst obj = {\n    [sym]: 1,\n    valid: 2,\n    'invalid identifier': 3,\n};\n\nconsole.log(obj[sym]);\nconsole.log(obj.valid);\nconsole.log(obj['invalid identifier']);\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u53ef\u4ee5\u63a5\u53d7\u6570\u5b57\u4f5c\u4e3a\u5c5e\u6027\u540d\uff0c\u4f46\u5b9e\u9645\u4e0a\u6570\u5b57\u88ab\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u4f7f\u7528\uff08\u4f8b\u5982\u5728\u4e0b\u9762\u7684 <code>Array</code> \u4e2d\uff09\uff0c\u4e3a\u4e86\u907f\u514d\u51fa\u73b0\u610f\u6599\u4e4b\u5916\u7684\u8bbf\u95ee\uff0c\u5efa\u8bae\u603b\u662f\u4f7f\u7528\u786e\u5b9a\u7684\u7c7b\u578b\u8bbf\u95ee\u5bf9\u8c61\u7684\u5c5e\u6027\u3002</p> <pre><code>const obj = {};\nobj['1'] = 'value1';\nobj['2'] = 'value2';\nconsole.log(obj[1]);    // \u53ef\u80fd\u51fa\u73b0\u975e\u9884\u671f\u7684\u8bbf\u95ee\uff0c\u4f46 JavaScript \u5e76\u4e0d\u4f1a\u62a5\u9519\nconsole.log(obj['1']);\n</code></pre> <p>\u5bf9\u8c61\u7684\u53ef\u53d8\u6027</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u867d\u7136\u53ef\u4ee5\u4f7f\u7528 <code>const</code> \u58f0\u660e\u5bf9\u8c61\u5e38\u91cf\uff0c\u4f46\u8fd9\u6307\u7684\u662f\u8fd9\u4e00\u53d8\u91cf\u540d\u59cb\u7ec8\u6307\u5411\u8be5\u5bf9\u8c61\uff0c\u800c\u975e\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u4e0d\u53ef\u53d8\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>const</code> \u58f0\u660e\u5bf9\u8c61\u5e76\u4efb\u610f\u4fee\u6539\u5b83\u7684\u5c5e\u6027\uff0c\u5982\u679c\u9700\u8981\u6dfb\u52a0\u4e0d\u53ef\u4fee\u6539\u6216\u4e0d\u53ef\u5220\u9664\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>Object.defineProperty</code> \u65b9\u6cd5\u3002</p> <p>JavaScript \u7684\u6570\u7ec4\u4f7f\u7528\u4e2d\u62ec\u53f7\uff0c\u5404\u5143\u7d20\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4e14 JavaScript \u4e0d\u8981\u6c42\u6570\u7ec4\u5143\u7d20\u90fd\u662f\u540c\u4e00\u7c7b\u578b\u3002\u8bbf\u95ee\u6570\u7ec4\u7684\u67d0\u4e2a\u5143\u7d20\u4f7f\u7528 <code>[]</code> \u8fd0\u7b97\u7b26\uff1a</p> <pre><code>let arr = [1, false, \"test\", { foo: 1, }];\narr[2]; // \"test\"\n</code></pre> <p>JavaScript \u6570\u7ec4\u6709\u5185\u7f6e\u5c5e\u6027 <code>length</code>\uff0c\u5176\u503c\u4e3a\u53ef\u7528\u7684\u6700\u5927\u7d22\u5f15\u6570\u52a0\u4e00\uff1a</p> <pre><code>let arr = [1];\narr[100] = 2;\narr.length; // 101\n</code></pre> <p>\u5982\u679c\u5c1d\u8bd5\u8f93\u51fa</p> <pre><code>arr.__proto___\n</code></pre> <p>\u4f1a\u53d1\u73b0\u53d8\u91cf <code>arr</code> \u6709\u66f4\u591a\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u5176\u4e2d\u6211\u4eec\u6ce8\u610f\u5230 <code>constructor</code> \u4e3a <code>Array()</code>\uff0c\u4e5f\u5373\u6570\u7ec4\u7684\u6784\u9020\u51fd\u6570\u662f <code>Array</code>\uff1b\u53e6\u5916\u5176\u4e2d\u6709\u4e00\u4e2a\u5c5e\u6027\u4e3a <code>length</code>\uff0c\u8868\u793a\u6570\u7ec4\u7684\u957f\u5ea6\u3002</p> <p>JavaScript \u6570\u7ec4\u7684\u771f\u6b63\u5f3a\u5927\u4e4b\u5904\u5728\u4e8e\u5176\u5185\u7f6e\u7684\u65b9\u6cd5\uff0c\u9664\u53bb\u5e38\u7528\u7684\u53d6\u7d22\u5f15\u3001\u5207\u7247\u65b9\u6cd5\u4e4b\u5916\uff0c\u8fd8\u652f\u6301\u4f20\u5165\u56de\u8c03\u51fd\u6570\u7684\u904d\u5386\u3001\u6620\u5c04\u3001\u8fed\u4ee3\u3001\u7b5b\u9009\u3001\u6392\u5e8f\u65b9\u6cd5\u3002\u8fd9\u91cc\u5148\u4ecb\u7ecd\u524d\u9762\u7684\u7b80\u5355\u65b9\u6cd5\uff0c\u6d89\u53ca\u5230\u56de\u8c03\u51fd\u6570\u65b9\u6cd5\u5219\u4f1a\u5728\u56de\u8c03\u6a21\u5f0f\u8bb2\u89e3\u5b8c\u6bd5\u540e\u8bb2\u89e3\uff1a</p> <pre><code>let arr = [1, 2, 3];\narr.indexOf(1); // 0\narr.indexOf(4); // -1\narr.slice(1, 2); // [2]\narr.join(\".\"); // \"1.2.3\"\n</code></pre> <p>\u6570\u636e\u5b89\u5168</p> <p>\u4f7f\u7528\u6570\u7ec4\u5185\u7f6e\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5426\u4f1a\u5f71\u54cd\u539f\u6570\u7ec4\u3002\u6bd4\u5982\u8bf4 <code>slice</code> \u65b9\u6cd5\u83b7\u53d6\u7684\u662f\u4e00\u4e2a\u5168\u65b0\u7684\u6570\u7ec4\uff0c\u5728\u8fd9\u4e2a\u65b0\u6570\u7ec4\u4e0a\u64cd\u4f5c\u4e0d\u4f1a\u5f71\u54cd\u539f\u6709\u6570\u7ec4\u3002\u800c <code>pop</code> \u65b9\u6cd5\u5219\u4f1a\u5f71\u54cd\u539f\u6709\u6570\u7ec4\u3002</p> <pre><code>let arr = [1, 2, 3];\nlet slicedArr = arr.slice(1, 3);\nslicedArr[0] = 1;\nconsole.log(arr); // [1, 2, 3]\n\narr.pop();\nconsole.log(arr); // [1, 2]\n</code></pre> <p>\u5982\u679c\u6709\u4e9b\u65b9\u6cd5\u4f1a\u5f71\u54cd\u5230\u539f\u6709\u6570\u7ec4\u800c\u4f60\u5e76\u4e0d\u60f3\u8fd9\u6837\u505a\uff0c\u8bf7\u4e00\u5b9a\u8981\u5728\u8c03\u7528\u65b9\u6cd5\u524d\u521b\u5efa\u526f\u672c\u4ee5\u9632\u6b62\u6570\u636e\u4e22\u5931\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u517b\u6210\u826f\u597d\u7f16\u7801\u4e60\u60ef\uff0c\u5728\u4f7f\u7528\u8bed\u8a00\u5185\u7f6e\u7684\u65b9\u6cd5\uff0c\u4e43\u81f3\u7b2c\u4e09\u65b9\u5e93\u7684\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u4ed4\u7ec6\u9605\u8bfb\u6587\u6863\u4ee5\u786e\u5b9a\u8fd9\u4e9b\u65b9\u6cd5\u7684\u884c\u4e3a\u7b26\u5408\u9884\u671f\u4e14\u53ef\u63a7\u3002</p>"},{"location":"languages/javascript/variable/#_5","title":"\u5176\u4ed6\u5185\u7f6e\u5bf9\u8c61","text":"<p>\u9664\u4e86\u6309\u7167\u4e0a\u8ff0\u7684\u65b9\u6cd5\u6784\u9020\u5bf9\u8c61\u5916\uff0cJavaScript \u8fd8\u63d0\u4f9b\u4e86\u5f88\u591a\u5185\u7f6e\u5bf9\u8c61\uff0c\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u6784\u9020\u4e00\u4e9b\u5e38\u7528\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6216\u6784\u9020\u5305\u542b\u7279\u5b9a\u65b9\u6cd5\u7684\u5bf9\u8c61\u3002\u4ee5\u4e0b\u4ecb\u7ecd\u51e0\u79cd\u6700\u5e38\u89c1\u7684\u5185\u7f6e\u5bf9\u8c61\u7684\u6784\u9020\uff0c\u66f4\u591a\u7684\u5185\u7f6e\u5bf9\u8c61\u4ee5\u53ca\u65b9\u6cd5\u8bf7\u53c2\u8003 JavaScript \u6807\u51c6\u5185\u7f6e\u5bf9\u8c61\u3002</p> <ul> <li> <p>\u6b63\u5219\u8868\u8fbe\u5f0f</p> <p>\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u6784\u9020\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a</p> <pre><code>let reg = /sast/;\n</code></pre> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6784\u9020\u51fd\u6570\u4e3a <code>RegExp</code>\u3002</p> </li> <li> <p>\u65e5\u671f</p> <p>\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6784\u9020 <code>Date</code> \u5bf9\u8c61\u5e76\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\uff1a</p> <pre><code>let date = new Date();\nconsole.log(date.toLocaleString()); // =&gt; 2022/7/23 12:11:01\n</code></pre> <p><code>Date</code> \u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u662f <code>Date</code>\u3002</p> </li> <li> <p>\u96c6\u5408</p> <p>\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6784\u9020\u96c6\u5408\uff1a</p> <pre><code>let docs = new Set();\ndocs.add('JavaScript');\n</code></pre> <p>\u96c6\u5408\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u662f <code>Set</code>\u3002</p> </li> <li> <p>\u5176\u4ed6</p> <p>\u5e76\u975e\u6240\u6709\u7684\u5185\u7f6e\u5bf9\u8c61\u90fd\u662f\u7528\u6765\u6784\u9020\u5bf9\u8c61\uff0c\u4e00\u4e9b\u5185\u7f6e\u5bf9\u8c61\u53ea\u7528\u4f5c\u5b58\u50a8\u4e00\u7c7b\u65b9\u6cd5\u6216\u503c\uff0c\u79f0\u4e3a\u547d\u540d\u7a7a\u95f4\u5bf9\u8c61\uff0c\u4f8b\u5982\uff1a</p> <pre><code>// \u6570\u5b66\u5e38\u6570\u548c\u5e38\u7528\u51fd\u6570\nMath.PI;           // =&gt; 3.141592653589793\nMath.floor(5 / 2); // =&gt; 2\nMath.sin(Math.PI); // =&gt; 1.2246467991473532e-16\n\n// \u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316 JSON\nJSON.stringify({ sast: 'yyds' }); // =&gt; '{\"sast\":\"yyds\"}'\nJSON.parse('{\"sast\":\"yyds\"}');    // =&gt; { sast: 'yyds' }\n\n// \u63a7\u5236\u53f0\u5bf9\u8c61\nconsole.log('Hello, world');\nconsole.error('Some error occurred!');\n</code></pre> </li> </ul>"},{"location":"languages/javascript/variable/#spread-syntax","title":"\u5c55\u5f00\u8bed\u6cd5 (Spread Syntax)","text":"<p>\u5728\u6784\u9020\u5bf9\u8c61\u3001\u6570\u7ec4\u5b57\u9762\u91cf\u548c\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u53ef\u4ee5\u5c06\u6570\u7ec4\u548c\u5bf9\u8c61\u5c55\u5f00\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>// \u6784\u9020\u5bf9\u8c61\nlet obj1 = { foo: 'bar', x: 42 };\nlet obj2 = { foo: 'barrrr', y: 13 };\nlet clonedObj = { ...obj1 };            // \u4e0e obj1 \u5b8c\u5168\u76f8\u540c\nlet mergedObj = { ...obj1, ...obj2 };   // \u5305\u542b\u4e24\u8005\u7684\u5185\u5bb9\uff0c\u76f8\u540c\u7684\u952e\u540e\u51fa\u73b0\u7684\u4f1a\u8986\u76d6\u5148\u51fa\u73b0\u7684\nlet halfClonedObj = { ...obj1, x: 13 }; // \u4e5f\u53ef\u4ee5\u53e6\u5916\u8986\u76d6\u6216\u6dfb\u52a0\u90e8\u5206\u5185\u5bb9\n\n// \u6784\u9020\u6570\u7ec4\nlet arr1 = [1, 2, 3];\nlet arr2 = [...arr1, 4, 5];   // =&gt; [1, 2, 3, 4, 5]\n\n// \u51fd\u6570\u8c03\u7528\nconsole.log(...arr2);  // =&gt; 1 2 3 4 5\n</code></pre>"},{"location":"languages/javascript/variable/#_6","title":"\u89e3\u6784\u8d4b\u503c","text":"<p>\u901a\u8fc7\u89e3\u6784\u8d4b\u503c\u53ef\u4ee5\u5c06\u5c5e\u6027/\u503c\u4ece\u5bf9\u8c61/\u6570\u7ec4\u4e2d\u53d6\u51fa\uff0c\u8d4b\u503c\u7ed9\u5176\u4ed6\u53d8\u91cf\uff1a</p> <pre><code>let a, b, rest;\n[a, b] = [10, 20];  // =&gt; a = 10, b = 20\n[a, b] = [b, a];    // =&gt; a = 20, b = 10\n\n[a, b, ...rest] = [10, 20, 30, 40, 50]; // =&gt; a = 10, b = 20, rest = [30, 40, 50]\n\n// \u8fd9\u91cc\u6700\u5916\u5c42\u7684\u62ec\u53f7\u662f\u4e3a\u4e86\u6d88\u6b67\u4e49\uff0c\u9632\u6b62\u5c06\u5927\u62ec\u53f7\u8ba4\u4e3a\u662f\u4ee3\u7801\u5757\n({ a, b } = { a: 10, b: 20 }); // =&gt; a = 10, b = 20\n({ a, b, ...rest } = { a: 10, b: 20, c: 30 }); // =&gt; a = 10, b = 20, rest = { c: 30 }\n</code></pre> <p>\u53ef\u4ee5\u5ffd\u7565\u4e00\u90e8\u5206\u503c\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u9ed8\u8ba4\u503c\uff1a</p> <pre><code>let a;\n[, a] = [10, 20];           // =&gt; a = 20\n({ a } = { a: 10, b: 20 }); // =&gt; a = 10\n\n[, a = 20] = [10];        // =&gt; a = 20\n({ a = 10 } = { b: 20 }); // =&gt; a = 10\n</code></pre> <p>\u89e3\u6784\u5bf9\u8c61\u65f6\u8fd8\u53ef\u4ee5\u91cd\u547d\u540d\uff1a</p> <pre><code>let { b: a } = { b: 10 };   // =&gt; \u58f0\u660e\u53d8\u91cf a = 10\uff0c\u6ca1\u6709\u58f0\u660e\u53d8\u91cf b\n</code></pre> <p>\u4ee5\u4e0a\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff1a</p> <pre><code>let a: number;\n({ b: { c: { d: a } } } = { b: { c: { d: 10 } } });  // =&gt; a = 10\n</code></pre>"},{"location":"languages/javascript/variable/#_7","title":"\u5bf9\u8c61\u5b57\u9762\u91cf\u7684\u7b80\u8bb0","text":"<p>\u4ece ES 6 \u5f00\u59cb\u652f\u6301\u4ee5\u4e0b\u7b80\u8bb0\uff1a</p> <pre><code>let a = 1;\nlet b = { a };  // \u7b49\u4ef7\u4e8e let b = { a: a }\n</code></pre>"},{"location":"languages/javascript/variable/#_8","title":"\u5176\u4ed6","text":"<p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u4e2d\u5404\u79cd\u6570\u636e\u7c7b\u578b\uff08\u5c24\u5176\u662f\u5185\u7f6e\u5bf9\u8c61\uff09\u4e0a\u5b9e\u73b0\u4e86\u4e30\u5bcc\u7684\u65b9\u6cd5\uff0c\u719f\u6089\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5199\u51fa\u66f4\u597d\u7684\u4ee3\u7801\uff0c\u4e00\u4e9b\u6570\u7ec4\u65b9\u6cd5\u7684\u793a\u4f8b\u5c06\u5728 JavaScript \u7684\u51fd\u6570 \u4e2d\u7ed9\u51fa\u3002</p>"},{"location":"languages/javascript/variable/#_9","title":"\u7a7a\u7c7b\u578b","text":"<p><code>undefined</code> \u7c7b\u578b\u548c <code>null</code> \u7c7b\u578b\u88ab\u79f0\u4e3a\u7a7a\u7c7b\u578b\u3002\u4e24\u8005\u7684\u533a\u522b\u53ef\u4ee5\u76f4\u89c2\u7406\u89e3\u4e3a\u201c\u7a7a\u7684\u7a0b\u5ea6\u4e0d\u4e00\u6837\u201d\uff0c<code>null</code> \u662f\u7a7a\u7684\uff0c\u4f46\u5b83\u662f\u5b58\u5728\u7684\uff0c\u800c <code>undefined</code> \u4e0d\u5b58\u5728\uff0c\u5b83\u6ca1\u6709\u88ab\u5b9a\u4e49\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5728\u5b9e\u9645\u7684 JavaScript \u7f16\u7a0b\u4e4b\u4e2d\uff0c\u6211\u4eec\u66f4\u5bb9\u6613\u9047\u5230 <code>undefined</code>\u3002\u4ee5\u4e0b\u60c5\u51b5\u5747\u4f1a\u5f97\u5230 <code>undefined</code>\uff1a</p> <ul> <li> <p>\u8bbf\u95ee\u6ca1\u6709\u8d4b\u503c\u7684\u53d8\u91cf</p> </li> <li> <p>\u6570\u7ec4\u8d8a\u754c\u8bbf\u95ee</p> </li> <li> <p>\u8bbf\u95ee\u5bf9\u8c61\u4e0a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027</p> </li> <li> <p>\u83b7\u53d6\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\u7684\u8fd4\u56de\u503c</p> </li> </ul> <pre><code>let x;\nlet arr = [1, 2];\nlet obj = { foo: 1, };\nfunction foo() { }\n\nx; // undefined\narr[5]; // undefined\nobj.bar; // undefined\nfoo(); // undefined\n</code></pre> <p>\u5728 <code>undefined</code> \u4e0a\u8bbf\u95ee\u5c5e\u6027\u4f1a\u629b\u51fa\u9519\u8bef\uff1a</p> <pre><code>undefined.anyProp; // Uncaught TypeError: Cannot read properties of undefined\n</code></pre> <p>\u8fd9\u4e2a\u9519\u8bef\u4f1a\u5728 JavaScript \u7f16\u7a0b\u7684\u65f6\u5019\u7ecf\u5e38\u9047\u5230\uff0c\u800c\u4e14\u539f\u56e0\u5e38\u5e38\u662f\u7c7b\u4f3c\u5982\u4e0b\u8bed\u53e5\u7684\u8fde\u7eed\u5c5e\u6027\u8bbf\u95ee\uff1a</p> <pre><code>response.data.propList[3].name;\n</code></pre> <p>\u53ea\u8981\u8fd9\u91cc\u67d0\u4e00\u4e2a\u5c5e\u6027\u8bbf\u95ee\u8bbf\u95ee\u5230\u4e86\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u6216\u8005\u6570\u7ec4\u8d8a\u754c\uff0c\u90a3\u4e48\u4e0b\u4e00\u4e2a\u5c5e\u6027\u8bbf\u95ee\u5c06\u4f1a\u8bbf\u95ee <code>undefined</code> \u4e0a\u7684\u5c5e\u6027\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u62a5\u9519\u9000\u51fa\u3002</p> <p>\u800c\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\u662f\u6bcf\u8fdb\u884c\u4e00\u6b21\u5c5e\u6027\u8bbf\u95ee\u5c31\u5224\u5b9a\u5176\u662f\u5426\u83b7\u5f97\u4e86 <code>undefined</code>\uff0c\u5982\u679c\u662f\uff0c\u5219\u7ec8\u6b62\u7ee7\u7eed\u7684\u5c5e\u6027\u8bbf\u95ee\u3002\u800c\u8f83\u65b0\u7684 JavaScript \u8bed\u8a00\u89c4\u8303\u4e4b\u4e2d\u5f15\u5165\u4e86 <code>?.</code> \u8fd0\u7b97\u7b26\uff0c\u5176\u4f5c\u7528\u662f\u5728\u8fd9\u4e2a\u5c5e\u6027\u8bbf\u95ee\u51fa\u9519\u7684\u65f6\u5019\u4e2d\u65ad\u5c5e\u6027\u8bbf\u95ee\u5e76\u8fd4\u56de <code>undefined</code>\u3002</p> <p>\u6bd4\u5982\u4e0a\u8ff0\u4ee3\u7801\u4e4b\u4e2d\uff0c\u5982\u679c\u4f60\u5df2\u7ecf\u77e5\u9053 <code>response</code> \u5f88\u6709\u53ef\u80fd\u6ca1\u6709 <code>data</code> \u5c5e\u6027\uff0c\u90a3\u4e48\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>response.data?.propList[3].name;\n</code></pre> <p>\u5982\u679c <code>response</code> \u786e\u5b9e\u6ca1\u6709 <code>data</code> \u5c5e\u6027\uff0c\u90a3\u4e48\u6574\u4e2a\u5f0f\u5b50\u7684\u7ed3\u679c\u5c31\u662f <code>undefined</code>\uff0c\u4f46\u7a0b\u5e8f\u5e76\u4e0d\u4f1a\u62a5\u9519\u9000\u51fa\u3002</p> <p>\u95ee\u53f7\u5e94\u8be5\u5728\u54ea\u91cc</p> <p>\u7b54\u6848\u662f\uff0c<code>?.</code> \u5e94\u5f53\u51fa\u73b0\u5728\u53ef\u80fd\u5bfc\u81f4\u8bbf\u95ee <code>undefined</code> \u7684\u5c5e\u6027\u8bbf\u95ee\u4e0a\uff0c\u800c\u975e\u53ef\u80fd\u5bfc\u81f4\u8bbf\u95ee\u7ed3\u679c\u4e3a <code>undefined</code> \u7684\u5c5e\u6027\u8bbf\u95ee\u4e0a\u3002</p> <p>\u6bd4\u5982\u8bf4\u4e0d\u786e\u5b9a <code>response</code> \u662f\u5426\u6709 <code>data</code> \u5c5e\u6027\u7684\u65f6\u5019\uff0c\u5c31\u662f\u4e0d\u786e\u5b9a <code>response.data</code> \u662f\u5426\u4e3a <code>undefined</code>\uff0c\u90a3\u4e48\u5c31\u5e94\u8be5\u5728\u540e\u7eed\u7684\u8bbf\u95ee\u4f7f\u7528 <code>?.</code> \u4ee3\u66ff <code>.</code>\u3002</p> <p>\u5982\u679c\u5199\u6210\uff1a</p> <pre><code>response?.data.propList[3].name;\n</code></pre> <p>\u5b9e\u9645\u4e0a\u5728 <code>response</code> \u786e\u5b9e\u6ca1\u6709 <code>data</code> \u5c5e\u6027\u7684\u65f6\u5019\u7a0b\u5e8f\u8fd8\u662f\u4f1a\u56e0\u4e3a\u8bbf\u95ee <code>undefined</code> \u7684\u5c5e\u6027\u800c\u62a5\u9519\u3002</p> <p>\u4f60\u751a\u81f3\u53ef\u4ee5\u8fd9\u6837\u5c1d\u8bd5 <code>?.</code> \u8fd0\u7b97\u7b26\uff1a</p> <pre><code>undefined?.anyProp; // undefined\n</code></pre> <p>\u8fd9\u4e00\u6b21\u7a0b\u5e8f\u4e0d\u4f1a\u62a5\u9519\u3002</p> <p>\u5bf9\u4e8e\u4e0d\u4fbf\u4f7f\u7528 <code>.</code> \u8fd0\u7b97\u7b26\u7684\u7d22\u5f15\uff0c\u5982 <code>number</code>\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>?.[]</code>\uff1a</p> <pre><code>let arr1 = [1, 2, 3];\nlet arr2;               // \u6b64\u65f6 arr2 \u7684\u503c\u4e3a undefined\nconsole.log(arr1[1]);   // =&gt; 2\nconsole.log(arr2[1]);   // TypeError: Cannot read properties of undefined (reading '1')\nconsole.log(arr2?.[1]); // =&gt; undefined\n</code></pre> <p>\u800c <code>null</code> \u76f8\u8f83\u4e8e <code>undefined</code> \u5219\u8f83\u4e3a\u5c11\u89c1\u3002\u5176\u4e00\u4e2a\u5e38\u89c1\u7684\u5e94\u7528\u573a\u666f\u662f\u5728 React \u6846\u67b6\u91cc\u8868\u793a\u8fd9\u91cc\u4e0d\u9700\u8981\u6e32\u67d3\uff1a</p> <pre><code>&lt;div&gt;\n    &lt;p&gt; Hello! &lt;/p&gt;\n    {\n        needToRender ? &lt;p&gt; This part is necessary! &lt;/p&gt; : null\n    }\n&lt;/div&gt;\n</code></pre> <p>\u8fd9\u4e00\u90e8\u5206\u53ef\u4ee5\u53c2\u8003 React \u76f8\u5173\u6587\u6863\u3002</p> <p>\u800c\u76f4\u63a5\u8bbf\u95ee <code>null</code> \u4e0a\u7684\u5c5e\u6027\u4e5f\u4f1a\u62a5\u9519\u3002\u540c\u65f6\uff0c\u5728\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u7684\u65f6\u5019 <code>?.</code> \u4f9d\u7136\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>null.anyProp; // Uncaught TypeError: Cannot read properties of null\nnull?.anyProp; // undefined\n</code></pre> \u4e00\u4e9b\u548c\u7a7a\u7c7b\u578b\u76f8\u5173\u7684\u8bed\u6cd5\u7cd6 <p>\u5728\u5b9e\u9645\u7684 JavaScript \u5de5\u7a0b\u4e4b\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u9047\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u9700\u6c42\uff1a</p> <p>\u5c06\u67d0\u4e00\u4e2a\u53d8\u91cf\u8bbe\u5b9a\u4e3a\u67d0\u4e00\u4e2a\u503c\uff0c\u5f53\u7ed9\u5b9a\u503c\u672a\u5b9a\u4e49\u7684\u65f6\u5019\uff0c\u5219\u8bbe\u5b9a\u4e3a\u67d0\u4e00\u4e2a\u9ed8\u8ba4\u503c\u3002</p> <p>\u6bd4\u5982\u8bf4\u8981\u5c06\u5b57\u7b26\u4e32 <code>x</code> \u8bbe\u5b9a\u4e3a\u5b57\u7b26\u4e32 <code>y</code> \u7684\u503c\uff0c\u4f46\u5728 <code>y</code> \u672a\u5b9a\u4e49\u6216\u8005\u4e3a\u7a7a\u5b57\u7b26\u4e32\u7684\u65f6\u5019 <code>x</code> \u8bbe\u5b9a\u4e3a\u9ed8\u8ba4\u503c <code>\"default\"</code>\u3002\u4e00\u822c\u800c\u8a00\u53ef\u4ee5\u5199\u4e3a\uff1a</p> <pre><code>if (y === undefined || y === \"\") x = \"default\";\nelse x = y;\n</code></pre> <p>\u4f46\u5b9e\u9645\u4e0a JavaScript \u7684\u903b\u8f91\u8fd0\u7b97\u6709\u4e00\u4e2a\u7c7b\u4f3c\u8bed\u6cd5\u7cd6\u7684\u5199\u6cd5\u53ef\u4ee5\u5b8c\u6210\u8fd9\u4e00\u529f\u80fd\uff1a</p> <pre><code>x = y || \"default\";\n</code></pre> <p>\u6ce8\u610f\u4e0d\u7b49\u4ef7\u8f6c\u6362</p> <p>\u5b9e\u9645\u4e0a\u8fd9\u79cd\u8bed\u6cd5\u7cd6\u5199\u6cd5\u548c\u4e4b\u524d\u7684 <code>if-else</code> \u5199\u6cd5\u5e76\u4e0d\u5b8c\u5168\u7b49\u4ef7\uff0c\u5177\u4f53\u539f\u56e0\u53ef\u4ee5\u53c2\u9605 JavaScript \u7684\u9b54\u6cd5\u6307\u5bfc\u4e66\u3002</p> <p>\u8fd9\u79cd\u5199\u6cd5\u8981\u6c42 <code>y</code> \u4e00\u5b9a\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f46\u8003\u8651\u5230\u5927\u591a\u6570\u5de5\u7a0b\u573a\u666f\u4e0b <code>y</code> \u7684\u7c7b\u578b\u90fd\u80fd\u5f97\u5230\u4fdd\u8bc1\uff0c\u6545\u8fd8\u662f\u53ef\u4ee5\u5728\u5408\u9002\u7684\u6761\u4ef6\u4e0b\u91c7\u7528\u8fd9\u79cd\u5199\u6cd5\u3002</p> <p>\u53e6\u5916\uff0c\u6709\u4e00\u4e2a\u7c7b\u4f3c\u7684\u8fd0\u7b97\u7b26\u4e3a <code>??</code>\u3002\u4e0e <code>x = y ?? \"default\"</code> \u7b49\u4ef7\u7684\u4ee3\u7801\u5757\u4e3a\uff1a</p> <pre><code>if (y === undefined || y === null) x = \"default\";\nelse x = y;\n</code></pre> <p>JavaScript \u4e2d\u7684 Falsy \u503c\u548c Nullish \u503c</p> <p>\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u5728\u53d6\u503c\u65f6 <code>||</code> \u548c <code>??</code> \u7684\u884c\u4e3a\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u4e8c\u8005\u7684\u533a\u522b\u5728\u4e8e <code>||</code> \u5224\u65ad\u903b\u8f91\u5047\uff0c\u800c <code>??</code> \u5224\u65ad\u7a7a\u503c\u3002</p> <p>JavaScript \u4e2d\u7684\u5047\uff08Falsy\uff09\u503c\u6709\uff1a</p> <ul> <li><code>false</code></li> <li><code>0</code></li> <li><code>-0</code></li> <li><code>0n</code> (<code>bigint</code>)</li> <li><code>''</code>, <code>\"\"</code>, <code>``</code></li> <li><code>null</code></li> <li><code>undefined</code></li> <li><code>NaN</code></li> </ul> <p>\u800c\u7a7a\uff08Nullish\uff09\u503c\u53ea\u6709 <code>null</code> \u548c <code>undefined</code> \u4e24\u4e2a\u3002</p> <p>\u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u5e38\u89c1\u7684\u9700\u6c42\uff1a</p> <p>\u68c0\u67e5\u67d0\u4e2a\u51fd\u6570\u662f\u5426\u5b9a\u4e49\uff0c\u5982\u679c\u5b9a\u4e49\uff0c\u5219\u6267\u884c\u3002</p> <p>\u8fd9\u4e2a\u9700\u6c42\u53ef\u4ee5\u8fd9\u6837\u5b9e\u73b0\uff1a</p> <pre><code>if (foo !== undefined) foo();\n</code></pre> <p>\u800c JavaScript \u6240\u63d0\u4f9b\u7684\u4e00\u79cd\u8bed\u6cd5\u7cd6\u5199\u6cd5\u662f\uff1a</p> <pre><code>foo &amp;&amp; foo();\n</code></pre> <p>\u4f46\u548c\u4e0a\u8ff0\u4e00\u6837\uff0c\u8fd9\u4e2a\u8f6c\u6362\u5e76\u975e\u5b8c\u5168\u7b49\u4ef7\uff0c\u4f46\u8003\u8651\u5de5\u7a0b\u5b9e\u9645\uff0c\u4e00\u822c\u800c\u8a00\u662f\u53ef\u4ee5\u91c7\u7528\u8fd9\u79cd\u5199\u6cd5\u7684\u3002</p> \u7a7a\u7684\u4e09\u4e2a\u5883\u754c <p>\u9664\u53bb <code>undefined</code> \u548c <code>null</code>\uff0c\u5b9e\u9645\u4e0a\u7a7a\u5bf9\u8c61 <code>{}</code> \u4e5f\u662f\u7a7a\u7684\u4e00\u79cd\u3002\u4f46\u662f\u8fd9\u4e09\u4e2a\u7a7a\u7684\u5883\u754c\u5404\u6709\u4e0d\u540c\u3002</p> <p>\u5982\u679c\u7528\u76d2\u5b50\u6bd4\u55bb JavaScript \u5bf9\u8c61\uff0c\u5c06\u952e\u503c\u5bf9\u6bd4\u4f5c\u76d2\u5b50\u4e2d\u7684\u7269\u54c1\u3002\u90a3\u4e48 <code>{}</code> \u662f\u7a7a\u76d2\u5b50\uff0c<code>null</code> \u662f\u8fde\u76d2\u5b50\u90fd\u6ca1\u6709\uff0c\u800c <code>undefined</code> \u662f\u5927\u5bb6\u90fd\u4e0d\u77e5\u9053\u76d2\u5b50\u662f\u4ec0\u4e48\u3002</p> <p>\u4f46\u5b9e\u9645\u5de5\u7a0b\u4e2d\uff0c<code>null</code> \u548c <code>undefined</code> \u7684\u5dee\u8ddd\u5f88\u5c0f\uff0c\u9664\u53bb\u5f88\u7ec6\u5fae\u7684\u884c\u4e3a\u5dee\u5f02\u5916\uff08\u6bd4\u5982\u4e24\u8005\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4e3a\u6570\u5b57\u7684\u65f6\u5019\u7ed3\u679c\u5e76\u4e0d\u4e00\u6837\uff09\uff0c\u4e24\u8005\u51e0\u4e4e\u7b49\u540c\u3002\u800c <code>{}</code> \u5219\u548c\u8fd9\u4e24\u8005\u5b8c\u5168\u4e0d\u540c\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbf\u95ee\u5b83\u7684\u5c5e\u6027\uff08\u867d\u7136\u8fd4\u56de <code>undefined</code>\uff09\uff0c\u53ef\u4ee5\u5bf9\u5b83\u505a\u66f4\u591a\u7684\u8fd0\u7b97\u3002\u5b83\u53ea\u662f\u4e00\u4e2a\u7a7a\u76d2\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u5f80\u91cc\u9762\u653e\u4e1c\u897f\u8ba9\u5b83\u4ece\u65e0\u5230\u6709\u3002\u4f46 <code>null, undefined</code> \u5219\u662f\u5e72\u5e72\u51c0\u51c0\u7684\u7a7a\uff0c\u51e0\u4e4e\u65e0\u6cd5\u5229\u7528\u3002</p> <p>\u90a3\u4e3a\u4ec0\u4e48 JavaScript \u7684 <code>null</code> \u548c <code>undefined</code> \u7684\u5dee\u8ddd\u5f88\u5c0f\uff0c\u4f46\u8bbe\u8ba1\u8005\u4f9d\u7136\u8981\u540c\u65f6\u8bbe\u5b9a\u8fd9\u4e24\u8005\u5462\uff1f\u8fd9\u4e2a\u95ee\u9898\u5e76\u6ca1\u6709\u786e\u5207\u7684\u89e3\u7b54\u3002</p> JavaScript \u7684\u9b54\u6cd5\u6307\u5bfc\u4e66 <p>JavaScript \u7531\u4e8e\u7f3a\u5c11\u7c7b\u578b\u68c0\u67e5\u548c\u4e00\u4e9b\u5f3a\u5236\u7684\u7f16\u7801\u8981\u6c42\uff0c\u53ef\u80fd\u5728\u4e0d\u7ecf\u610f\u95f4\u5199\u51fa\u96be\u4ee5\u7406\u89e3\u7684\u4ee3\u7801\uff0c\u4f7f\u5f97\u4e00\u4e9b\u6280\u5de7\u770b\u8d77\u6765\u50cf\u9b54\u6cd5\u3002\u4f46\u9700\u8981\u5f3a\u8c03\u7684\u662f\uff0c\u8fd9\u4e9b\u770b\u4f3c\u70ab\u6280\u7684\u5185\u5bb9\u7edd\u975e\u6b63\u5e38\u5de5\u7a0b\u4e2d\u5e94\u5f53\u51fa\u73b0\u7684\u5185\u5bb9\uff0c\u5728\u9605\u8bfb\u8fd9\u90e8\u5206\u4e4b\u524d\uff0c\u8bf7\u9996\u5148\u638c\u63e1\u6b63\u786e\u7684\u7f16\u7801\u4e60\u60ef\uff0c\u8bf7\u4e0d\u8981\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u4f7f\u7528\u4ee5\u4e0b\u5185\u5bb9\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6765\u8bb2\u8ff0 JavaScript \u7684\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u4e00\u4e9b\u53cd\u76f4\u89c9\u8868\u73b0\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u884c\u4e3a\u6240\u5e26\u6765\u7684\u4e00\u4e9b\u9b54\u6cd5\u3002\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u521d\u5b66\u8005\u9605\u8bfb\u8fd9\u4e00\u90e8\u5206\uff0c\u4ee5\u9632\u5f62\u6210\u4e0d\u826f\u597d\u7684\u7f16\u7801\u4e60\u60ef\u3002</p> <p>\u9996\u5148\u5173\u6ce8\u56db\u5927\u57fa\u7840\u7b97\u672f\u8fd0\u7b97\u7b26 <code>+, -, *, /</code>\u3002\u8fd9\u56db\u4e2a\u8fd0\u7b97\u7b26\u7684\u57fa\u672c\u903b\u8f91\u7c7b\u4f3c\uff0c\u5927\u81f4\u4e3a\uff1a</p> <ul> <li>\u9996\u5148\u5c06\u4e24\u8fb9\u53c2\u4e0e\u8fd0\u7b97\u7684\u53d8\u91cf\u8f6c\u5316\u4e3a\u4e94\u5927\u539f\u59cb\u7c7b\u578b</li> <li>\u8f6c\u6362\u5b8c\u6bd5\u540e\u5982\u679c\u6709\u67d0\u4e00\u4e2a\u53d8\u91cf\u4e3a\u5b57\u7b26\u4e32\u4e14\u8fd0\u7b97\u4e3a\u52a0\u6cd5\uff0c\u5219\u5c06\u53e6\u5916\u4e00\u4e2a\u5f3a\u5236\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u8fdb\u884c\u5b57\u7b26\u4e32\u62fc\u63a5\u8fd0\u7b97</li> <li>\u5176\u4ed6\u60c5\u51b5\u5219\u662f\u5c06\u4e24\u8005\u5747\u5f3a\u5236\u8f6c\u6362\u4e3a\u6570\u5b57\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97</li> </ul> <p>\u90a3\u4e48\u6211\u4eec\u9996\u5148\u5173\u6ce8\u5f3a\u5236\u8f6c\u5316\u4e3a\u4e94\u5927\u539f\u59cb\u7c7b\u578b\u7684\u903b\u8f91\uff1a</p> <ul> <li>\u5982\u679c\u8f6c\u5316\u53d8\u91cf\u5c31\u662f\u4e94\u5927\u539f\u59cb\u7c7b\u578b\uff0c\u5219\u8fd4\u56de\u5176\u672c\u8eab</li> <li>\u5982\u679c\u8f6c\u5316\u53d8\u91cf\u4e0d\u662f\u4e94\u5927\u539f\u59cb\u7c7b\u578b\uff0c\u5219\u5224\u65ad\u5176\u662f\u5426\u4e3a\u65e5\u671f <code>Date</code> \u7c7b\u578b<ul> <li>\u5982\u679c\u4e3a <code>Date</code> \u7c7b\u578b\uff0c\u5219\u8c03\u7528\u5176 <code>toString()</code> \u65b9\u6cd5\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32</li> <li>\u5982\u679c\u4e0d\u4e3a <code>Date</code> \u7c7b\u578b\uff0c\u5219\u8c03\u7528\u5176 <code>valueOf()</code> \u65b9\u6cd5\uff0c\u5176\u8fd4\u56de\u503c\u53c2\u4e0e\u8fd0\u7b97\u3002\u5982\u6ca1\u6709\u8be5\u65b9\u6cd5\u6216\u5176\u8fd4\u56de\u503c\u4e0d\u662f\u4e94\u5927\u57fa\u672c\u7c7b\u578b\uff0c\u5219\u8c03\u7528\u5176 <code>toString()</code> \u65b9\u6cd5\uff0c\u5176\u8fd4\u56de\u503c\u53c2\u4e0e\u8fd0\u7b97\u3002\u5982\u679c\u8fd8\u6ca1\u6709\u8be5\u65b9\u6cd5\u6216\u5176\u8fd4\u56de\u503c\u4e0d\u662f\u4e94\u5927\u57fa\u672c\u7c7b\u578b\uff0c\u629b\u51fa <code>TypeError</code> \u9519\u8bef</li> </ul> </li> </ul> <p>\u800c\u56db\u5927\u57fa\u672c\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u4e3a\u6570\u5b57\u7684\u903b\u8f91\u5982\u4e0b\uff1a</p> <ul> <li><code>undefined</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>NaN</code>\uff0c<code>null</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>0</code></li> <li><code>true</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>1</code>\uff0c<code>false</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>0</code></li> <li>\u5982\u679c\u5b57\u7b26\u4e32\u662f\u5408\u6cd5\u7684\u5341\u8fdb\u5236\u6d6e\u70b9\u6570\uff0c\u5219\u8f6c\u5316\u4e3a\u6d6e\u70b9\u6570\u3002\u5982\u679c\u5b57\u7b26\u4e32\u662f\u5408\u6cd5\u7684\u5341\u516d\u8fdb\u5236\u6570\uff0c\u5219\u6309\u7167\u5341\u516d\u8fdb\u5236\u89c4\u5219\u8f6c\u5316\u3002\u5982\u679c\u5b57\u7b26\u4e32\u53ea\u5305\u542b\u6570\u5b57\u548c\u5f00\u5934\u7684\u8d1f\u53f7\uff0c\u5219\u6309\u7167\u5341\u8fdb\u5236\u89c4\u5219\u8f6c\u5316\u3002\u5982\u679c\u662f\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8f6c\u5316\u4e3a <code>0</code>\u3002\u5982\u679c\u5b57\u7b26\u4e32\u4e3a <code>\"Infinity\"</code> \u6216\u8005 <code>\"-Infinity\"</code> \u5219\u5206\u522b\u8f6c\u5316\u4e3a <code>Infinity</code> \u548c <code>-Infinity</code>\u3002\u5176\u4f59\u60c5\u51b5\u8f6c\u5316\u4e3a <code>NaN</code></li> </ul> <p>\u56db\u5927\u57fa\u672c\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u7684\u903b\u8f91\u5982\u4e0b\uff1a</p> <ul> <li><code>undefined</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"undefined\"</code>\uff0c<code>null</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"null\"</code></li> <li><code>true</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"true\"</code>\uff0c<code>false</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"false\"</code></li> <li>\u6570\u5b57\u5f3a\u5236\u8f6c\u5316\u4e3a\u5341\u8fdb\u5236\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u6570\u5b57\uff0c<code>NaN</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"NaN\"</code>\uff0c<code>Infinity</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"Infinity\"</code>\uff0c<code>-Infinity</code> \u5f3a\u5236\u8f6c\u6362\u4e3a <code>\"-Infinity\"</code></li> </ul> <p>\u53e6\u5916\u8fd8\u8981\u8bf4\u660e\u7684\u662f\uff0cJavaScript \u4e4b\u4e2d\u7684 <code>+</code> \u8fd0\u7b97\u7b26\u4e5f\u662f\u4e00\u79cd\u4e00\u5143\u8fd0\u7b97\u7b26\uff0c\u5176\u4f5c\u7528\u662f\u5c06\u64cd\u4f5c\u53d8\u91cf\u5f3a\u5236\u8f6c\u6362\u4e3a\u6570\u5b57\u7c7b\u578b\u3002\u800c\u8fd9\u79cd\u5f3a\u5236\u8f6c\u6362\u7684\u903b\u8f91\u4e5f\u662f\u5148\u628a\u64cd\u4f5c\u53d8\u91cf\u5f3a\u5236\u8f6c\u6362\u4e3a\u57fa\u672c\u7c7b\u578b\u540e\u518d\u5f3a\u5236\u8f6c\u6362\u4e3a\u6570\u5b57\uff1a</p> <pre><code>+\"123\"; // 123\n+[]; // 0\n</code></pre> <p>\u8fd9\u91cc\u5bf9\u7a7a\u6570\u7ec4\u505a\u7684\u5f3a\u5236\u8f6c\u6362\u7684\u903b\u8f91\u4e3a\uff0c\u9996\u5148\u8c03\u7528 <code>[].valueOf()</code>\uff0c\u7ed3\u679c\u4e3a <code>[]</code>\uff0c\u4e0d\u662f\u57fa\u672c\u7c7b\u578b\u3002\u8fdb\u4e00\u6b65\u8c03\u7528 <code>[].toString()</code>\uff0c\u7ed3\u679c\u4e3a <code>\"\"</code>\uff0c\u662f\u57fa\u672c\u7c7b\u578b\u3002\u4ece\u800c\u518d\u5c06 <code>\"\"</code> \u5f3a\u5236\u8f6c\u6362\u4e3a\u6570\u5b57\u5f97\u5230 <code>0</code>\u3002</p> <p>\u77e5\u6653\u8fd9\u79cd\u8fd0\u7b97\u903b\u8f91\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u770b\u770b\u4e00\u4e9b\u9b54\u6cd5\u8fd0\u7b97\uff0c\u8bfb\u8005\u53ef\u4ee5\u5c1d\u8bd5\u5411\u4e0a\u9762\u4e00\u6837\u5206\u6790\u8fd9\u4e9b\u8fd0\u7b97\u7684\u5185\u90e8\u54f2\u5b66\uff1a</p> <pre><code>[] + []; // \"\"\n[] + {}; // \"[object Object]\"\n+[] + (+[]); // 0\n\n1 + null; // 1\n1 + undefined; // NaN\n\n1 + new Date(); // \"1Mon Oct 04 2021 02:04:31 GMT+0800 (\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4)\"\n+new Date(); // 1633284276012\n\n\"90\" + 1; // \"901\"\n\"90\" - 1; // 89\n\n\"Infinity\" + \"-Infinity\"; // \"Infinity-Infinity\"\n\"Infinity\" - \"Infinity\"; // NaN\n\n\"8\" * 5; // 40\n4 / \"5\"; // 0.8\n</code></pre> <p>\u4e0d\u8fc7\u6709\u4e00\u70b9\u6211\u4eec\u9700\u8981\u6ce8\u610f\uff0c\u4e5f\u5c31\u662f\u7a7a\u5bf9\u8c61 <code>{}</code> \u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u7684\u89e3\u6790\u662f\u4e0d\u540c\u7684\u3002\u6bd4\u5982\u8bf4\u7b97\u5f0f <code>{} + {}</code> \u4e2d\u7684\u7b2c\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u6709\u4e9b\u6d4f\u89c8\u5668\u4f1a\u89e3\u6790\u4e3a\u7a7a\u5bf9\u8c61\uff0c\u800c\u6709\u4e9b\u4f1a\u89e3\u6790\u4e3a\u7a7a\u4ee3\u7801\u5757\u3002\u4e3a\u4e86\u9632\u6b62\u6df7\u6dc6\uff0c\u5efa\u8bae\u52a0\u4e00\u4e2a\u5c0f\u62ec\u53f7\u5199\u6210 <code>({}) + ({})</code>\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u7814\u7a76\u4e09\u4e2a\u903b\u8f91\u8fd0\u7b97\u7b26 <code>&amp;&amp;, ||, !</code>\u3002</p> <p><code>&amp;&amp;</code> \u7684\u903b\u8f91\u4e3a\uff1a</p> <ul> <li>\u9996\u5148\u8fd0\u7b97\u5de6\u4fa7\u7684\u8868\u8fbe\u5f0f\uff0c\u5e76\u5c06\u7ed3\u679c\u5f3a\u5236\u8f6c\u5316\u4e3a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u4e3a <code>false</code>\uff0c\u5219\u77ed\u8def\uff08\u4e0d\u8ba1\u7b97\u53f3\u4fa7\u8868\u8fbe\u5f0f\uff09\uff0c\u8fd4\u56de\u5de6\u4fa7\u8868\u8fbe\u5f0f\u7684\u503c\uff08\u8fd4\u56de\u539f\u503c\uff0c\u4e0d\u5f3a\u5236\u8f6c\u5316\u4e3a\u5e03\u5c14\u503c\uff09</li> <li>\u5426\u5219\u8ba1\u7b97\u53f3\u4fa7\u7684\u8868\u8fbe\u5f0f\uff0c\u5e76\u5c06\u7ed3\u679c\u76f4\u63a5\u8fd4\u56de</li> </ul> <p><code>||</code> \u7684\u903b\u8f91\u7c7b\u4f3c\uff1a</p> <ul> <li>\u9996\u5148\u8fd0\u7b97\u5de6\u4fa7\u7684\u8868\u8fbe\u5f0f\uff0c\u5e76\u5c06\u7ed3\u679c\u5f3a\u5236\u8f6c\u5316\u4e3a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u4e3a <code>true</code>\uff0c\u5219\u77ed\u8def\uff08\u4e0d\u8ba1\u7b97\u53f3\u4fa7\u8868\u8fbe\u5f0f\uff09\uff0c\u8fd4\u56de\u5de6\u4fa7\u8868\u8fbe\u5f0f\u7684\u503c\uff08\u8fd4\u56de\u539f\u503c\uff0c\u4e0d\u5f3a\u5236\u8f6c\u5316\u4e3a\u5e03\u5c14\u503c\uff09</li> <li>\u5426\u5219\u8ba1\u7b97\u53f3\u4fa7\u7684\u8868\u8fbe\u5f0f\uff0c\u5e76\u5c06\u7ed3\u679c\u76f4\u63a5\u8fd4\u56de</li> </ul> <p>\u800c\u5404\u79cd\u53d8\u91cf\u8f6c\u5316\u4e3a\u5e03\u5c14\u503c\u7684\u903b\u8f91\u5982\u4e0b\uff1a</p> <ul> <li><code>undefined, null, 0, NaN, \"\", false</code> \u8f6c\u5316\u4e3a <code>false</code></li> <li>\u5176\u4f59\u5747\u8f6c\u5316\u4e3a <code>true</code>\uff08\u65e0\u8bba\u662f\u5bf9\u8c61\u8fd8\u662f\u57fa\u672c\u7c7b\u578b\uff09</li> </ul> <p>\u8fd9\u4e2a\u903b\u8f91\u5b9e\u9645\u4e0a\u9020\u5c31\u4e86\u4e00\u4e2a\u76f8\u5f53\u8be1\u5f02\u7684\u8fd0\u7b97\u89c4\u5219\u3002JavaScript \u7684\u5e03\u5c14\u503c\u7c7b\u578b\u662f\u6709\u4e00\u4e2a\u5305\u88c5\u7c7b <code>Boolean</code> \u7684\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u8fd9\u6837\u7684\u4e00\u4e2a\u5bf9\u8c61 <code>Boolean(false)</code>\uff0c\u7531\u4e8e\u5176\u662f\u5bf9\u8c61\uff0c\u5176\u5f3a\u5236\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u7684\u65f6\u5019\u4f1a\u5f97\u5230 <code>true</code> \u800c\u975e\u76f4\u89c9\u7684 <code>false</code>\u3002</p> <p>\u6b64\u5916\uff0c<code>!</code> \u8fd0\u7b97\u7b26\u7684\u903b\u8f91\u5219\u5f88\u7b80\u5355\uff0c\u9996\u5148\u5c06\u64cd\u4f5c\u6570\u5f3a\u5236\u8f6c\u5316\u4e3a\u5e03\u5c14\u503c\u7c7b\u578b\uff0c\u4e4b\u540e\u53d6\u53cd\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b9e\u9645\u4e0a\u8fd9\u4e9b\u903b\u8f91\u8fd0\u7b97\u7b26\uff0c\u53ea\u6709 <code>!</code> \u4e00\u5b9a\u8fd4\u56de\u5e03\u5c14\u503c\u7c7b\u578b\u3002\u751a\u81f3\u53ef\u4ee5\u8bf4 <code>&amp;&amp;, ||</code> \u5f88\u591a\u65f6\u5019\u4e0d\u8fd4\u56de\u5e03\u5c14\u503c\u7c7b\u578b\u3002</p> <p>\u90a3\u4e48\u5c31\u53ef\u4ee5\u89c2\u5bdf\u8fd9\u4e9b\u8fd0\u7b97\uff1a</p> <pre><code>![]; // false\n[] &amp;&amp; 0; // 0\n0 || {}; // {}\n\n!(new Boolean(false)); // false\n</code></pre> <p>\u7efc\u5408\u8fd9\u4e9b\u8fd0\u7b97\uff0c\u6211\u4eec\u6765\u770b\u770b\u4e0b\u9762\u7684\u6df7\u5408\u8fd0\u7b97\uff1a</p> <pre><code>!+[]+[]+![]; // \"truefalse\"\n</code></pre> <p>\u662f\u4e0d\u662f\u5c31\u663e\u5f97\u5f88\u5408\u7406\u4e86\uff1f</p> <p>\u5b9e\u9645\u4e0a\u73b0\u5728\u5df2\u7ecf\u6709\u4e00\u4e2a\u628a JavaScript \u8fd9\u4e9b\u7279\u6027\u73a9\u51fa\u65b0\u82b1\u6837\u7684\u4ee3\u7801\u5e93\u4e86\uff0c\u5373 JSFuck\uff0c\u5176\u5b97\u65e8\u4e3a\u53ea\u7528 <code>+[]!()</code> \u516d\u4e2a\u5b57\u7b26\u7f16\u5199\u53ef\u8fd0\u884c\u7684 JavaScript \u4ee3\u7801\u3002\u53ef\u4ee5\u8bf4 JSFuck \u4ee3\u7801\u5b8c\u5168\u4f9d\u9760 JavaScript \u7684\u8fd9\u4e9b bug \u5728\u5de5\u4f5c\u3002</p>"},{"location":"languages/node.js/","title":"Node.js \u57fa\u7840","text":""},{"location":"languages/node.js/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>CLI \u57fa\u672c\u5e38\u8bc6</li> <li>\u5bf9 JavaScript \u7684\u57fa\u672c\u4e86\u89e3</li> <li>\u90e8\u5206\u5185\u5bb9\u6d89\u53ca TypeScript \u7684\u57fa\u672c\u4fe1\u606f</li> </ul>"},{"location":"languages/node.js/#nodejs_1","title":"\u4ec0\u4e48\u662f Node.js","text":"<p>\u6839\u636e\u524d\u9762\u4e00\u4e9b\u6587\u6863\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u5927\u6982\u4e86\u89e3\u5230 JavaScript \u662f\u4e00\u79cd\u524d\u7aef\u8bed\u8a00\uff0c\u53ef\u4ee5\u8d4b\u4e88\u9759\u6001\u7684\u7f51\u9875\u4e30\u5bcc\u7684\u52a8\u6001\u6548\u679c\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0cJavaScript \u8fd0\u884c\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u80fd\u591f\u8bbf\u95ee\u7684\u53ea\u6709\u4e00\u4e2a\u9875\u9762\u4e0a\u7684\u5185\u5bb9\uff0c\u4ee5\u53ca\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684 API\u3002Node.js \u57fa\u4e8e V8 \u5f15\u64ce\u548c\u4e00\u4e9b\u7cfb\u7edf\u5e93\uff0c\u521b\u5efa\u4e86\u4e00\u4e2a JavaScript \u7684\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u4f7f\u5f97 JavaScript \u80fd\u591f\u72ec\u7acb\u4e8e\u6d4f\u89c8\u5668\u5728\u7cfb\u7edf\u4e0a\u76f4\u63a5\u8fd0\u884c\uff0c\u5e76\u4e14\u8bbf\u95ee\u7cfb\u7edf\u7684\u591a\u79cd\u63a5\u53e3\u3002</p> <p>V8 \u5f15\u64ce\u7684\u9ad8\u6548\u4f7f\u5f97\u57fa\u4e8e Node.js \u7684\u7a0b\u5e8f\u53ef\u4ee5\u6709\u6781\u9ad8\u7684\u8fd0\u884c\u6548\u7387\uff0c\u540c\u65f6 JavaScript \u7684\u4e00\u4e9b\u7279\u6027\u5728\u7f16\u5199\u90e8\u5206\u670d\u52a1\u7aef\u7a0b\u5e8f\u65f6\u6709\u72ec\u7279\u7684\u597d\u5904\u3002</p> <p>Node.js \u7684\u8fd0\u884c\u673a\u5236\u4e0e\u6d4f\u89c8\u5668\u4e2d\u6781\u4e3a\u76f8\u4f3c\uff0c\u4e3b\u8981\u7684\u533a\u522b\u4f53\u73b0\u5728\u4e8e\u8fd0\u884c\u73af\u5883\u548c\u6240\u80fd\u8bbf\u95ee\u7684 API \u4e0d\u540c\uff0c\u56e0\u6b64\u4ee5\u4e0b\u5c06\u5c3d\u91cf\u4e0d\u4f1a\u6d89\u53ca\u8bed\u6cd5\u7ec6\u8282\u3002</p>"},{"location":"languages/node.js/#nodejs_2","title":"Node.js \u4f7f\u7528\u573a\u666f","text":"<p>Node.js \u662f JavaScript / TypeScript \u8bed\u8a00\u7684\u4e3b\u8981\u5f00\u53d1\u73af\u5883\uff0c\u5e38\u89c1\u7684\u573a\u666f\u81f3\u5c11\u5305\u62ec\uff1a</p>"},{"location":"languages/node.js/#_2","title":"\u540e\u7aef\u5f00\u53d1","text":"<p>Node.js \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff0c\u7531\u4e8e\u5305\u542b\u76f8\u5173\u7684\u7cfb\u7edf\u5e93\uff0cNode.js \u53ef\u4ee5\u8bfb\u5199\u6587\u4ef6\u3001\u76d1\u542c\u7f51\u7edc\u7b49\uff0c\u8fd9\u5c31\u4f7f\u5f97 Node.js \u53ef\u4ee5\u4f5c\u4e3a\u540e\u7aef\u5f00\u53d1\u7684\u9009\u62e9\uff0c\u5e38\u89c1\u7684\u6846\u67b6\u4e3a Express.js\u3002</p>"},{"location":"languages/node.js/#_3","title":"\u524d\u7aef\u5f00\u53d1","text":"<p>\u5c3d\u7ba1\u524d\u7aef\u7684\u8fd0\u884c\u73af\u5883\u662f\u6d4f\u89c8\u5668\u800c\u975e Node.js\uff0c\u4f46 Node.js \u63d0\u4f9b\u4e86\u4e0e\u6d4f\u89c8\u5668\u57fa\u672c\u76f8\u540c\u7684\u673a\u5236\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u7f16\u8bd1\u3001\u6253\u5305\u7b49\u80fd\u529b\uff0c\u56e0\u6b64\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\uff0c\u5f80\u5f80\u4f7f\u7528 TypeScript \u8fdb\u884c\u5f00\u53d1\uff0c\u5728 Node.js \u73af\u5883\u4e2d\u5b8c\u6210\u7f16\u8bd1\u548c\u6253\u5305\u540e\uff0c\u5c06\u751f\u6210\u7684\u6253\u5305\u6587\u4ef6\u90e8\u7f72\u5728\u524d\u7aef\u3002\u5e38\u7528\u7684\u6846\u67b6\u6709 React.js\u3001Vue.js \u7b49\u3002</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8fd9\u91cc\u7684\u7f16\u8bd1\u5e76\u4e0d\u4ec5\u4ec5\u5305\u62ec TypeScript \u5230 JavaScript \u7684\u7f16\u8bd1\uff0c\u7531\u4e8e\u7528\u6237\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u79cd\u7c7b\u548c\u7248\u672c\u65e0\u6cd5\u786e\u5b9a\uff0c\u4e3a\u4e86\u63d0\u4f9b\u5c3d\u53ef\u80fd\u597d\u7684\u517c\u5bb9\u6027\uff0c\u540c\u65f6\u4fdd\u7559\u8f83\u597d\u7684\u5f00\u53d1\u4f53\u9a8c\uff0c\u5e38\u5e38\u4f7f\u7528 Babel \u7b49\u5de5\u5177\u5c06\u4ee3\u7801\u8f6c\u6362\u4e3a\u8f83\u4f4e\u7248\u672c JavaScript \u517c\u5bb9\u7684\u8bed\u6cd5\u3002</p>"},{"location":"languages/node.js/#_4","title":"\u539f\u751f\u5e94\u7528\u5f00\u53d1","text":"<p>\u9664\u4e86\u53ef\u4ee5\u8fdb\u884c\u7f51\u9875\u5f00\u53d1\uff0cNode.js \u8fd8\u53ef\u4ee5\u901a\u8fc7 React Native\u3001Electron \u7b49\u6846\u67b6\u7f16\u5199\u539f\u751f\u5e94\u7528\uff0c\u63d0\u4f9b\u4e0e\u7f51\u9875\u5f00\u53d1\u76f8\u4f3c\u7684\u5f00\u53d1\u4f53\u9a8c\u3002\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u79cd\u5e94\u7528\u7684\u903b\u8f91\u5904\u7406\u4ecd\u7136\u4f9d\u8d56\u4e8e JavaScript \u8fd0\u884c\u65f6\uff0c\u56e0\u6b64\u5176\u8fd0\u884c\u6548\u7387\u4e0e\u5e73\u53f0\u76f8\u5173\uff08\u6307 iOS \u4f1a\u9650\u5236 JIT \u7684\u4f7f\u7528\u5e76\u5bfc\u81f4\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\uff09\u3002</p> <p>JIT (Just In Time\uff0c\u5373\u65f6\u7f16\u8bd1)</p> <p>JavaScript \u7684\u591a\u79cd\u8fd0\u884c\u65f6\u90fd\u652f\u6301 JIT\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u4ee5\u89e3\u91ca\u5668\u65b9\u5f0f\u8fd0\u884c\u3002</p> <p>\u4f7f\u7528 JIT \u65f6\uff0c\u8fd0\u884c\u65f6\u9996\u5148\u5206\u6790 JavaScript \u4ee3\u7801\u5e76\u8f6c\u6362\u4e3a\u5b57\u8282\u7801\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4f1a\u5c1d\u8bd5\u8fdb\u884c\u4f18\u5316\uff0c\u901a\u5e38\u800c\u8a00\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 JavaScript \u7684\u8fd0\u884c\u6548\u7387\uff0c\u4f46\u540c\u65f6\u4e5f\u4f1a\u589e\u52a0\u5f88\u591a\u5185\u5b58\u5f00\u9500\uff08Chrome: ?\uff09\u3002\u5982\u679c\u4ee3\u7801\u4e2d\u6709\u8f83\u591a\u6027\u80fd\u5f00\u9500\u5927\u4e14\u96be\u4ee5\u88ab\u5206\u6790\u548c\u4f18\u5316\u7684\u4ee3\u7801\uff08\u901a\u5e38\u662f\u7531\u4e8e\u7c7b\u578b\u96be\u4ee5\u5224\u65ad\uff09\uff0c\u5219\u5f88\u5bb9\u6613\u5bfc\u81f4 JIT \u7684\u6548\u679c\u4e0b\u964d\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u4ee3\u7801\u8fd0\u884c\u6548\u7387\u964d\u4f4e\u3002</p>"},{"location":"languages/node.js/#_5","title":"\u5b89\u88c5","text":"<p>Node.js \u7248\u672c\u7684\u9009\u62e9</p> <p>Node.js \u6709\u591a\u79cd\u7248\u672c\u53ef\u4ee5\u9009\u62e9\uff0c\u76ee\u524d\uff082021.12.16\uff09\u7684\u957f\u671f\u652f\u6301\uff08LTS\uff09\u7248\u672c\u4e3a v16(.13.1)\uff0c\u4e0a\u4e00\u4e2a\u7248\u672c\u5219\u4e3a v14\uff0c\u4e0d\u540c\u7684\u7248\u672c\u5728\u652f\u6301 JavaScript\uff08\u6216\u8005\u8bf4 ECMAScript\uff09\u65b0\u7279\u6027\u65b9\u9762\u6709\u6240\u533a\u522b\uff0c\u9047\u5230\u5177\u4f53\u95ee\u9898\u65f6\u53ef\u4ee5\u4f7f\u7528 <code>nvm</code> \u6765\u89e3\u51b3\uff0c\u8be6\u89c1\u8d44\u6e90\u94fe\u63a5\u3002</p> <p>\u8bbf\u95ee Node.js\u5b98\u65b9\u7f51\u7ad9 \u53ef\u4ee5\u83b7\u53d6\u5404\u5e73\u53f0\u4e0b\u8f7d\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5 \u901a\u8fc7\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u3002</p> <p>\u5728\u4f7f\u7528\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u65f6\u8bf7\u6ce8\u610f\uff0c\u4e0a\u8ff0\u7f51\u9875\u7ed9\u51fa\u7684\u547d\u4ee4\u4e2d\u53ef\u80fd\u5305\u542b <code>npm</code> \u5373 <code>Node.js package manager</code> \u662f Node.js \u9ed8\u8ba4\u7684\u5305\u7ba1\u7406\u5668\uff0c\u5982\u679c\u6b64\u5904\u6ca1\u6709\u5b89\u88c5\u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u6211\u4eec\u4f1a\u5728\u4e0b\u8282\u4e2d\u8be6\u7ec6\u89e3\u91ca\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"languages/node.js/#nodejs_3","title":"Node.js \u8fd0\u884c","text":"<p>Node.js \u7684\u8fd0\u884c\u4e0e Python \u5341\u5206\u76f8\u4f3c\uff0c\u53ef\u4ee5\u4f7f\u7528 REPL\uff08\u82f1\u6587\uff1aread-eval-print-loop\uff0c\u5373\u4ea4\u4e92\u5f0f\u547d\u4ee4\u884c\uff09\u6216\u8005\u811a\u672c\u7684\u65b9\u5f0f\uff0c\u751a\u81f3\u8fd8\u6709\u4eba\u641e\u8fc7\u5bf9\u6807 IPython \u7684 IJavaScript \uff08\u4e0d\u8fc7\u51c9\u4e86\uff09\u3002</p> <ul> <li>REPL\uff1a\u5728\u547d\u4ee4\u884c\u8f93\u5165 <code>node</code> \u5c31\u53ef\u4ee5\u6253\u5f00\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u754c\u9762\uff0c\u5c31\u5982\u540c\u4f60\u5728\u5b66\u4e60 JavaScript \u65f6\u4f7f\u7528\u6d4f\u89c8\u5668\u8c03\u8bd5\u5de5\u5177\u90a3\u6837\uff0c\u4f46\u662f Node.js \u5e76\u4e0d\u80fd\u50cf\u5728\u6d4f\u89c8\u5668\u4e2d\u90a3\u6837\u5bf9\u6253\u5370\u51fa\u6765\u7684\u5bf9\u8c61\u505a\u590d\u6742\u7684\u64cd\u4f5c\uff0c\u5f53\u7136\u8003\u8651\u5230\u8fd9\u662f\u5728 CLI \u4e2d\uff0c\u7f3a\u5c11\u7c7b\u4f3c\u7684\u64cd\u4f5c\u5e76\u4e0d\u5947\u602a\u3002</li> <li>\u4e0e\u6d4f\u89c8\u5668\u4e0d\u540c\u7684\u53e6\u4e00\u70b9\u662f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c <code>.exit</code> \u7684\u8bed\u53e5\u8fdb\u884c\u4e00\u4e9b\u975e JavaScript \u7684\u64cd\u4f5c\uff0c\u5982\u9000\u51fa Node.js\uff08\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u6b21 <code>Ctrl+C</code> \u6216\u8005\u4e00\u6b21 <code>Ctrl+D</code> \u6765\u9000\u51fa\uff09\u3002</li> <li>\u811a\u672c\uff1a\u4e0e Python \u7c7b\u4f3c\uff0c\u4f7f\u7528 <code>node xxx.js</code> \u6765\u6267\u884c\u4e00\u4e2a\u811a\u672c\uff08\u4f46\u662f\u5b9e\u9645\u64cd\u4f5c\u4e2d\u8fd9\u4e2a\u884c\u4e3a\u4e5f\u4f1a\u88ab\u5c01\u88c5\uff0c\u540c\u6837\u4f1a\u5728\u4e0b\u4e00\u8282\u4e2d\u89e3\u91ca\uff09\u3002</li> </ul>"},{"location":"languages/node.js/#nodejs_4","title":"Node.js \u6a21\u5757\u5316","text":"<p>\u5728\u4e4b\u524d\u7684 JavaScript \u57fa\u7840\u7ae0\u8282\u4e2d\u5e76\u6ca1\u6709\u63d0\u53ca JavaScript \u6709\u4ec0\u4e48\u6a21\u5757\u5316\u6216\u8005\u5305\u7ba1\u7406\u7684\u4e1c\u897f\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\uff0c\u8981\u4e48\u5c06\u7528\u5230\u7684\u6a21\u5757\u901a\u8fc7 Node.js \u5168\u90e8\u6253\u5305\uff08\u5173\u4e8e\u6253\u5305\u5c06\u5728\u540e\u7eed\u63d0\u53ca\uff09\uff0c\u8981\u4e48\u901a\u8fc7 CDN \u5f15\u5165\u3002\u4f8b\u5982\uff0c\u901a\u8fc7 CDN \u5f15\u5165\u7b2c\u4e09\u65b9\u6a21\u5757\u65f6\uff0c\u53ef\u4ee5\u5728 HTML \u4e2d\u6dfb\u52a0\uff1a</p> <pre><code>&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;\n</code></pre> <p>\u5f53\u8be5\u811a\u672c\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u5168\u5c40\u5bf9\u8c61 <code>window</code> \u4e2d\u4f1a\u6dfb\u52a0\u5c5e\u6027 <code>axios</code>\uff0c\u4e5f\u5373\u6210\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u5728\u5176\u4ed6\u4ee3\u7801\u4e2d\u53ef\u76f4\u63a5\u4f7f\u7528\u3002\u8fd9\u662f\u65e9\u671f JavaScript \u7684\u95ee\u9898\uff0c\u901a\u8fc7\u5168\u5c40\u53d8\u91cf\u89e3\u51b3\u4e00\u5207\u95ee\u9898\uff0c\u5927\u5bb6\u5728\u7a0b\u8bbe\u4e2d\u60f3\u5fc5\u8fd9\u4e48\u505a\u8fc7\u77e5\u9053\u8fd9\u6837\u505a\u662f\u4e0d\u597d\u7684\u3002</p> <p>\u8fd9\u4e2a\u95ee\u9898\u65e9\u5728 ECMA \u5236\u5b9a ES6 \u6807\u51c6\u5f15\u5165 ES6 Module \u524d\u5c31\u5e7f\u6cdb\u5b58\u5728\u4e86\uff0c\u56e0\u6b64\u793e\u533a\u65e9\u5df2\u63d0\u51fa\u4e86\u591a\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u4e3b\u8981\u6709 CommonJS\u3001AMD\u3001CMD \u51e0\u79cd\u3002\u540e\u4e24\u79cd\u73b0\u5728\u5df2\u7ecf\u5f88\u5c11\u51fa\u73b0\uff0c\u800c CommonJS \u7684\u4e3b\u8981\u5b9e\u8df5\u8005\u6b63\u662f Node.js\u3002\u56e0\u6b64\u5f53\u8fd0\u884c Node.js \u9879\u76ee\u65f6\uff0c\u5982\u679c\u5728\u7248\u672c\u4f4e\u4e8e ES6 \u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 ES6 Module\uff08\u5373\u4f7f\u7528 <code>import</code>\u3001<code>export</code>\uff09\u65b9\u6cd5\u5c31\u4f1a\u62a5\u9519\u3002\u4e0d\u8fc7\u597d\u5728\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 ES6 \u53ca\u4ee5\u4e0a\u7248\u672c\uff0c\u6216\u8005\u4f7f\u7528 Babel\uff08\u89c1\u8d44\u6e90\u94fe\u63a5\uff09\u5b9e\u73b0\u517c\u5bb9\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u4e3b\u8981\u4f7f\u7528 ES6 Module \u6765\u7ba1\u7406\u6a21\u5757\u3002</p>"},{"location":"languages/node.js/#es6-module","title":"ES6 Module","text":"<p>\u4ece\u4e00\u4e2a\u6587\u4ef6\u4e2d\u5bfc\u51fa\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u578b\u7b49\u5185\u5bb9\u7684\u65b9\u6cd5\u4e3a\uff1a</p> <pre><code>// \u6587\u4ef6\u540d export.js\n// \u5bfc\u51fa\u503c value\nexport { value };\n// \u5bfc\u51fa\u503c value \u5e76\u91cd\u547d\u540d\u4e3a aliasNameOfValue\nexport { value as aliasNameOfValue };\n// \u4ee5\u4e0b\u4e24\u53e5\u7b49\u4ef7\nexport { value as default };\nexport default value;\n\n// \u5bf9\u4e8e TypeScript\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5bfc\u51fa\u7c7b\u578b\n// \u4e8c\u8005\u7684\u533a\u522b\u662f\u524d\u4e00\u4e2a\u53ef\u4ee5\u786e\u4fdd\u8fd9\u4e00\u884c\u5185\u5bb9\u4e0d\u4f1a\u51fa\u73b0\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\nexport type { type };\nexport { type };\n</code></pre> <p>\u5f15\u5165\u6a21\u5757\u7684\u65b9\u5f0f\u5219\u4e3a\uff1a</p> <pre><code>// \u6ce8\u610f\u8fd9\u91cc\u5e76\u4e0d\u9700\u8981\u6307\u5b9a\u540e\u7f00\u540d\uff0c\u66f4\u591a\u7684\u7ec6\u8282\u8bf7\u89c1\u4e0b\u8282\nimport { value } from './export';\n// \u5f15\u5165\u503c\u5e76\u8d77\u522b\u540d\nimport { value as aliasNameOfValue } from './export';\n// \u4ee5\u4e0b\u4e24\u53e5\u7b49\u4ef7\nimport { default as value } from './export';\nimport value from './export';\n// \u5c06 ./export \u4e2d\u7684\u6240\u6709\u5bfc\u51fa\u90fd\u5bfc\u5165\uff0c\u5e76\u4f5c\u4e3a\u5bf9\u8c61 someModule\nimport * as someModule from './export';\nsomeModule.value === value;\n</code></pre> <p>\u5982\u679c\u9700\u8981\u5f15\u5165\u518d\u5bfc\u51fa\uff0c\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a</p> <pre><code>export { value } from './export';\n</code></pre>"},{"location":"languages/node.js/#_6","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>nvm\uff1ahttps://github.com/nvm-sh/nvm</li> <li>Babel\uff1ahttps://babeljs.io/</li> </ul>"},{"location":"languages/node.js/npm/","title":"npm \u7b80\u4ecb","text":""},{"location":"languages/node.js/npm/#nodejs","title":"Node.js \u5305\u7ba1\u7406","text":""},{"location":"languages/node.js/npm/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>CLI \u57fa\u672c\u5e38\u8bc6</li> <li>Node.js \u7684\u8fd0\u884c</li> <li>Node.js \u6a21\u5757\u5316</li> </ul>"},{"location":"languages/node.js/npm/#npm","title":"npm","text":"<p>npm \u5373 Node.js package manager\uff0c\u662f Node.js \u9ed8\u8ba4\u7684\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u6309\u7167\u4e0a\u8282\u6240\u8bf4\u7684\u65b9\u6cd5\u5b89\u88c5 Node.js \u65f6\uff0c\u5e94\u5f53\u5df2\u7ecf\u5b89\u88c5\u4e86 npm\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>npm -v</code> \u6765\u68c0\u67e5 npm \u662f\u5426\u5df2\u5b89\u88c5\u6210\u529f\u3002</p>"},{"location":"languages/node.js/npm/#nodejs_1","title":"Node.js \u7684\u5305\u7ba1\u7406","text":"<p>\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u5e76\u6267\u884c <code>npm init</code> \u547d\u4ee4\uff0c\u6839\u636e\u63d0\u793a\u586b\u5199\u5b57\u6bb5\u540e\uff0c\u6211\u4eec\u770b\u5230\u6587\u4ef6\u5939\u4e2d\u591a\u4e86\u4e00\u4e2a\u540d\u4e3a <code>package.json</code> \u7684\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u8bb0\u5f55\u4e86\u5f53\u524d\u9879\u76ee\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5982\u9879\u76ee\u540d\u79f0\u3001\u63cf\u8ff0\u3001\u7248\u672c\u3001\u8bc1\u4e66\uff0c\u4ee5\u53ca\u53ef\u80fd\u7528\u5230\u7684\u4e00\u4e9b\u64cd\u4f5c\uff0c\u8fd8\u6709\u5f53\u524d\u9879\u76ee\u7684\u4f9d\u8d56\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u7684\u4f5c\u7528\u5c06\u5728\u540e\u9762\u8bf4\u660e\u3002</p>"},{"location":"languages/node.js/npm/#nodejs_2","title":"Node.js \u7684\u6a21\u5757\u67e5\u627e","text":"<p>\u4e0a\u8282\u8bf4\u5230\u4e86\u5982\u4f55\u5728 Node.js \u4e2d\u5f15\u7528\u5176\u4ed6\u6587\u4ef6\u5bfc\u51fa\u7684\u6a21\u5757\uff0c\u4f46\u662f\u4e0a\u8282\u7ed9\u51fa\u7684\u4f8b\u5b50\u90fd\u662f\u4ece\u76f8\u5bf9\u8def\u5f84\u4e2d\u5f15\u5165\uff0c\u5f15\u5165\u5185\u7f6e\u6216\u7b2c\u4e09\u65b9\u6a21\u5757\u65f6\uff0c\u5e94\u5f53\u6309\u7167\u5982\u4e0b\u65b9\u5f0f\uff1a</p> <pre><code>import fs from 'fs';           // \u5185\u7f6e\u6587\u4ef6\u7cfb\u7edf\u6a21\u5757\nimport express from 'express'; // \u4e00\u4e2a web \u670d\u52a1\u5668\u6a21\u5757\n</code></pre> <p>\u8fd9\u5e76\u4e0d\u662f\u76f8\u5bf9\u6216\u7edd\u5bf9\u7684\u8def\u5f84\uff0c\u8fd9\u5c31\u8981\u63d0\u5230 Node.js \u5bfb\u627e\u6a21\u5757\u7684\u903b\u8f91\u3002</p> <ul> <li>\u5bf9\u4e8e\u5185\u7f6e\u6a21\u5757\uff0c\u5728\u7f16\u8bd1\u9636\u6bb5\u5df2\u7ecf\u786e\u5b9a\u4e86\u5b83\u4eec\u7684\u4f4d\u7f6e\uff0c\u56e0\u6b64\u6ca1\u6709\u5bfb\u5740\u7684\u95ee\u9898\uff1b</li> <li>\u5bf9\u4e8e\u6307\u5b9a\u8def\u5f84\u7684\u6a21\u5757\uff1a<ol> <li>\u9996\u5148\u67e5\u627e\u8be5\u6587\u4ef6\uff0c\u7f3a\u7701\u7684\u540e\u7f00\u540d\u6309\u7167 <code>.js</code>, <code>.node</code>, <code>.json</code> \u7684\u987a\u5e8f\u5c1d\u8bd5\uff1b</li> <li>\u7136\u540e\u5c1d\u8bd5\u4f5c\u4e3a\u6587\u4ef6\u5939\u540d\u67e5\u627e\u8be5\u6587\u4ef6\u5939\u4e0b\u7684 <code>package.json</code> \u5e76\u5f15\u7528\u5176\u4e2d <code>main</code> \u5b57\u6bb5\u6307\u5b9a\u7684\u6587\u4ef6\uff1b</li> <li>\u6700\u540e\u5c1d\u8bd5\u4f5c\u4e3a\u6587\u4ef6\u5939\u540d\u67e5\u627e\u8be5\u6587\u4ef6\u5939\u4e0b\u7684 <code>index</code> \u6587\u4ef6\uff0c\u7f3a\u7701\u540e\u7f00\u540d\u903b\u8f91\u4e0e c. \u76f8\u540c\u3002</li> </ol> </li> <li>\u5bf9\u4e8e\u5176\u4ed6\u6ca1\u6709\u6307\u5b9a\u8def\u5f84\u7684\u6a21\u5757\uff0c\u4e5f\u5373\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u7684\u6a21\u5757\uff0c\u4f1a\u5c1d\u8bd5\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684 <code>node_modules</code> \u6587\u4ef6\u5939\u4e0b\u67e5\u627e\uff0c\u5982\u679c\u67e5\u627e\u5931\u8d25\uff0c\u5219\u4f9d\u6b21\u4ece\u4e0a\u7ea7\u6587\u4ef6\u5939\u4e2d\uff08\u53ef\u80fd\u7684\uff09 <code>node_modules</code> \u6587\u4ef6\u5939\u4e0b\u67e5\u627e\u3002</li> </ul>"},{"location":"languages/node.js/npm/#_2","title":"\u5176\u4ed6\u5305\u7ba1\u7406\u5668","text":"<p>\u4e0a\u4e00\u90e8\u5206\u5f15\u51fa\u4e86\u4e00\u4e2a\u91cd\u8981\u7684\u95ee\u9898\uff0c\u5f53\u6211\u4eec\u9700\u8981\u5f88\u591a\u4f9d\u8d56\u7684\u9879\u76ee\u65f6\uff0c\u5982\u4f55\u7ec4\u7ec7\u8fd9\u4e9b\u9879\u76ee\u5c31\u6210\u4e3a\u4e00\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a <code>node_modules</code> \u5f53\u4e2d\u7684\u6bcf\u4e00\u4e2a\u9879\u76ee\u90fd\u53ef\u80fd\u6709\u81ea\u5df1\u7684\u4f9d\u8d56\uff0c\u5982\u679c\u6240\u6709\u9879\u76ee\u7684\u4f9d\u8d56\u90fd\u5206\u522b\u5b89\u88c5\uff0c\u663e\u7136\u53ef\u80fd\u5b58\u5728\u8bb8\u591a\u91cd\u590d\uff0c\u4f46\u662f\u53c8\u5fc5\u987b\u5c3d\u91cf\u907f\u514d\u4e0d\u540c\u9879\u76ee\u7684\u4f9d\u8d56\u4e92\u76f8\u5e72\u6270\uff0c\u8fd9\u5c31\u6d89\u53ca\u5230\u5305\u7ba1\u7406\u5668\u7684\u7b56\u7565\u95ee\u9898\u3002</p> <p>\u76ee\u524d\u5e38\u89c1\u7684\u5305\u7ba1\u7406\u5668\u4e3b\u8981\u6709 npm\u3001yarn\u3001pnpm\u3002\uff08cnpm \u672c\u8d28\u4e0a\u4e0d\u8fc7\u662f npm \u81ea\u52a8\u6362\u6e90\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u6ca1\u6709\u5fc5\u8981\u4f7f\u7528\uff0c\u540e\u9762\u4f1a\u7ed9\u51fa\u624b\u52a8\u6362\u6e90\u7684\u65b9\u5f0f\uff09</p> <p>\u4ee5\u4e0b\u7b80\u5355\u4ecb\u7ecd\u51e0\u79cd\u5305\u7ba1\u7406\u5668\u7684\u7b56\u7565\u533a\u522b\uff1a</p> <ol> <li>\u5b89\u88c5<ul> <li>npm \u7684\u5b89\u88c5\u662f\u4e32\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u6709\u5b89\u88c5\u5b8c\u4e00\u4e2a <code>package.json</code> \u4e2d\u58f0\u660e\u7684\u4f9d\u8d56\u540e\u624d\u4f1a\u5b89\u88c5\u4e0b\u4e00\u4e2a\uff0c\u800c\u4e14\u4f1a\u628a\u6240\u6709\u7684\u4fe1\u606f\u6253\u5728\u7ec8\u7aef\u4e0a\uff0c\u800c\u4e14\u6bcf\u6b21\u5b89\u88c5\u540c\u6837\u7684\u5185\u5bb9\u90fd\u662f\u91cd\u65b0\u4e0b\u8f7d\uff1b</li> <li>yarn \u548c pnpm \u4f1a\u540c\u65f6\u8fdb\u884c\u6240\u6709\u7684\u5b89\u88c5\uff0c\u540c\u65f6\u4f18\u5316\u4e86\u8f93\u51fa\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58\u51cf\u5c11\u91cd\u590d\u4e0b\u8f7d\u3002</li> </ul> </li> <li>\u7ec4\u7ec7\u65b9\u5f0f<ul> <li>\u65e9\u671f npm \u5b89\u88c5\u7684\u4f9d\u8d56\u662f\u9010\u5c42\u5d4c\u5957\u7684\uff0c\u5176\u7ed3\u679c\u5c31\u662f\u6587\u4ef6\u8def\u5f84\u6781\u957f\u800c\u4e14\u4e0d\u53ef\u5171\u4eab\uff08\u9996\u5148\u662f\u4f1a\u91cd\u590d\u5b89\u88c5\u540c\u6837\u7684\u4e1c\u897f\u6d6a\u8d39\u7a7a\u95f4\uff0c\u5176\u6b21\u662f\u4e0d\u540c\u7684\u6a21\u5757\u5206\u522b\u5f15\u7528\u4e24\u4efd\u6a21\u5757\u5e76\u4e0d\u80fd\u5171\u4eab\u5185\u5b58\u7a7a\u95f4\uff0c\u9020\u6210\u4e0d\u53ef\u9884\u77e5\u7684 bug\uff09\uff1b</li> <li>\u73b0\u5728\u7684 npm \u548c yarn \u90fd\u91c7\u7528\u6241\u5e73\u5316\u7ed3\u6784\uff0c\u628a\u6240\u6709\u9879\u76ee\u7684\u4f9d\u8d56\u90fd\u88c5\u5728\u6700\u4e0a\u5c42\u7684 <code>node_modules</code> \u4e2d\uff0c\u5f53\u9047\u5230\u7248\u672c\u51b2\u7a81\u65f6\u624d\u5355\u72ec\u5b89\u88c5\u5728\u5185\u5c42\uff1b</li> <li>pnpm \u5bf9\u4e8e\u540c\u4e00\u4e2a\u9879\u76ee\u7684\u540c\u4e00\u4e2a\u7248\u672c\u5168\u5c40\u53ea\u4fdd\u7559\u4e00\u4efd\uff0c\u5b58\u50a8\u5728\u81ea\u5df1\u7684\u76ee\u5f55\u4e2d\uff0c\u4efb\u4f55\u9879\u76ee\u5f15\u7528\u65f6\u90fd\u901a\u8fc7\u786c\u94fe\u63a5\u6307\u5411\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u4ecd\u7136\u4f7f\u7528\u5d4c\u5957\u7ed3\u6784\u3002</li> </ul> </li> </ol> <p>\u5b89\u88c5\u7684\u533a\u522b\u81ea\u7136\u4e0d\u7528\u8bf4\uff0cnpm \u6bd4 yarn \u548c pnpm \u6162\u5f88\u591a\uff0c\u503c\u5f97\u4e00\u63d0\u7684\u662f\u7b2c\u4e8c\u70b9\uff0c\u6241\u5e73\u5316\u5e26\u6765\u7684\u5f71\u54cd\u662f\u9879\u76ee\u53ef\u4ee5\u975e\u6cd5\u8bbf\u95ee\u6ca1\u6709\u58f0\u660e\u7684\u5305\uff08\u5982\u679c\u4f9d\u8d56 A \u58f0\u660e\u4e86\u4f9d\u8d56 B\uff0c\u90a3\u4e48\u4f9d\u8d56 C \u4e0d\u9700\u8981\u58f0\u660e B \u5c31\u53ef\u4ee5\u5728\u4e0a\u7ea7\u6587\u4ef6\u5939\u4e2d\u8bbf\u95ee\u5230 B\uff09\uff0c\u8fd9\u5c31\u9020\u6210\u4e86\u6f5c\u5728\u7684\u4e0d\u5b89\u5168\u6027\u3002\u5176\u4f59\u7684\u5dee\u522b\u53ef\u4ee5\u53c2\u8003 \u4e3a\u4ec0\u4e48\u73b0\u5728\u6211\u66f4\u63a8\u8350 pnpm \u800c\u4e0d\u662f npm/yarn?\u3002</p> <p>\u56e0\u6b64\u4e09\u8005\u7684\u6392\u5e8f\u5e94\u5f53\u662f pnpm &gt; yarn &gt; npm\u3002pnpm \u5728\u4e00\u4e9b\u9879\u76ee\u4e2d\u4f1a\u5f15\u8d77\u9519\u8bef\uff0c\u5177\u4f53\u539f\u56e0\u6211\u6ca1\u6709\u7814\u7a76\u8fc7\uff0c\u5982\u679c\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u6362\u7528 yarn\uff0c\u4ee5\u4e0b\u5c06\u4e3b\u8981\u4ee5 yarn \u4e3a\u4f8b\u4ecb\u7ecd\u3002</p> <p>\u5b89\u88c5\u4e24\u79cd\u5305\u7ba1\u7406\u5668\u7684\u65b9\u6cd5\u662f\uff1a</p> <pre><code>npm install -g yarn\nnpm install -g pnpm\n</code></pre>"},{"location":"languages/node.js/npm/#_3","title":"\u5305\u7ba1\u7406\u5668\u7684\u4f7f\u7528","text":"<p>\u4e09\u79cd\u5305\u7ba1\u7406\u5668\u652f\u6301\u7684\u529f\u80fd\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u8bed\u6cd5\u4e5f\u6bd4\u8f83\u63a5\u8fd1\uff0c\u5e38\u7528\u7684\u6709\uff1a</p> \u64cd\u4f5c npm yarn pnpm \u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56 <code>npm install</code> <code>yarn install / yarn</code> <code>pnpm install</code> \u6dfb\u52a0\u4f9d\u8d56 <code>npm install lodash</code> <code>yarn add lodash</code> <code>pnpm add lodash</code> \u6dfb\u52a0\u5f00\u53d1\u4f9d\u8d56\uff08\u4e0d\u7528\u4e8e\u751f\u4ea7\u73af\u5883\uff09 <code>npm install -D typescript</code> <code>yarn add -D typescript</code> <code>pnpm add -D typescript</code> \u79fb\u9664\u4f9d\u8d56 <code>npm uninstall lodash</code> <code>yarn remove lodash</code> <code>pnpm remove lodash</code> \u6267\u884c <code>start</code> \u811a\u672c <code>npm run start</code> <code>yarn start</code> <code>pnpm start</code> <p>\u6ce8\uff1a\u5728\u4e0d\u5f15\u8d77\u6b67\u4e49\u7684\u60c5\u51b5\u4e0b npm \u5141\u8bb8\u7b80\u5199\uff0c\u5982 <code>npm i</code> \u4ee3\u66ff <code>npm install</code>\u3002</p>"},{"location":"languages/node.js/npm/#nodejs_3","title":"Node.js \u811a\u672c","text":"<p>\u524d\u9762\u63d0\u5230\u7684\u6267\u884c\u811a\u672c\uff0c\u662f\u6307\u5728 <code>package.json</code> \u4e2d\u58f0\u660e\u7684\u811a\u672c\uff0c\u5982 <code>package.json</code> \u4e2d\u6709\u5982\u4e0b\u5b57\u6bb5\uff1a</p> <pre><code>{\n  \"scripts\": {\n    \"start\": \"node dist/index.js\",\n  }\n}\n</code></pre> <p>\u90a3\u4e48\u6267\u884c <code>yarn start</code> \u5c31\u76f8\u5f53\u4e8e\u6267\u884c <code>node dist/index.js</code>\u3002\u4f46\u811a\u672c\u7684\u529f\u80fd\u4e0d\u6b62\u4e8e\u6b64\uff0c\u4f8b\u5982 <code>prettier</code> \u662f\u4e00\u4e2a\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u5b89\u88c5\u5728\u9879\u76ee\u4e2d\u540e\u5e76\u6ca1\u6709\u5b89\u88c5\u5728 <code>$PATH</code> \u4e2d\uff0c\u56e0\u6b64\u76f4\u63a5\u5728 Shell \u4e2d\u8fd0\u884c <code>prettier</code> \u4e0d\u4f1a\u5f97\u5230\u4efb\u4f55\u7ed3\u679c\uff0c\u6b64\u65f6\u5e94\u8be5\u6267\u884c <code>yarn prettier --write src/**/*.js</code>\uff0cyarn \u4f1a\u627e\u5230\u9002\u5f53\u7684\u53ef\u6267\u884c\u6587\u4ef6\u6765\u5b8c\u6210\u8fd9\u4e00\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 <code>package.json</code> \u4e2d\u5199\uff1a</p> <pre><code>{\n  \"scripts\": {\n    \"lint\": \"prettier --write src/**/*.js\",\n  }\n}\n</code></pre> <p>\u90a3\u4e48 <code>yarn lint</code> \u5c31\u76f8\u5f53\u4e8e\u4e0a\u8ff0\u547d\u4ee4\u3002</p> <p>npx</p> <p>\u5728\u53e6\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff08\u6bd4\u5982\u521b\u5efa React \u9879\u76ee\uff09\uff0c\u6211\u4eec\u867d\u7136\u9700\u8981\u6267\u884c\u4e00\u4e9b\u7c7b\u4f3c\u4e8e <code>prettier</code> \u7684\u547d\u4ee4\uff0c\u4f46\u4ee5\u540e\u5e76\u4e0d\u9700\u8981\u5b89\u88c5\u8fd9\u4e2a\u6a21\u5757\uff0c\u66f4\u6ca1\u6709\u5fc5\u8981\u628a\u8fd9\u4e2a\u6a21\u5757\u5199\u5728 <code>package.json</code> \u4e2d\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u6267\u884c <code>npx create-react-app example-app</code>\uff0cnpx \u4f1a\u81ea\u52a8\u4e0b\u8f7d\u8fd9\u4e00\u6a21\u5757\u5e76\u8fd0\u884c\uff0c\u4f46\u5e76\u4e0d\u4f1a\u4fdd\u7559\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e2d\uff0c\u4e5f\u4e0d\u4f1a\u5bf9 <code>package.json</code> \u9020\u6210\u5f71\u54cd\u3002</p> <p>yarn \u548c pnpm \u4e5f\u652f\u6301\u8fd9\u4e00\u8bed\u6cd5\uff1a</p> <pre><code>pnpx create-react-app example-app\n# yarn \u5e76\u4e0d\u666e\u904d\u5730\u652f\u6301\u8fd9\u79cd\u7528\u6cd5\uff0c\u4f46\u662f\u5bf9\u4e8e\u5e38\u89c1\u7684\u521b\u5efa\u9879\u76ee\uff0cyarn \u63d0\u4f9b\u5982\u4e0b\u65b9\u6cd5\nyarn create react-app example-app\n</code></pre>"},{"location":"languages/node.js/npm/#typescript","title":"TypeScript \u76f8\u5173","text":"<p>\u524d\u9762\u5df2\u7ecf\u8bb2\u8fc7 TypeScript \u7684\u8bed\u6cd5\uff0c\u4f46 TypeScript \u5e76\u4e0d\u80fd\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u6216 Node.js \u4e2d\u89e3\u6790\uff08\u5012\u662f\u53ef\u4ee5\u5728 deno \u4e2d\u89e3\u6790\uff0c\u4f46\u662f\u6bd5\u7adf deno \u751f\u6001\u8fd8\u6ca1\u53d1\u5c55\u8d77\u6765\uff09\uff0c\u5b9e\u9645\u4e0a\u8981\u7f16\u5199 TypeScript \u7a0b\u5e8f\uff0c\u9700\u8981\u5b89\u88c5 Node.js \u6a21\u5757 <code>typescript</code>\u3002\u8fd9\u4e00\u6a21\u5757\u4e2d\u5305\u542b\u4e86\u547d\u4ee4 <code>tsc</code> \u53ef\u4ee5\u5bf9 TypeScript \u8bed\u6cd5\u8fdb\u884c\u68c0\u67e5\uff0c\u5e76\u4e14\u751f\u6210\u76f8\u5e94\u7684 JavaScript \u6587\u4ef6\u3002\u4f8b\u5982\u6267\u884c <code>yarn add -D typescript</code> \u540e\uff0c\u5728 <code>package.json</code> \u7684 <code>script</code> \u5b57\u6bb5\u4e2d\u6dfb\u52a0\u6dfb\u52a0\uff1a</p> <pre><code>{\n  \"build\": \"tsc\"\n}\n</code></pre> <p>\u7136\u540e\u8fd0\u884c <code>yarn build</code> \u5c31\u4f1a\u6839\u636e <code>tsconfig.json</code> \u4e2d\u7684\u914d\u7f6e\u7f16\u8bd1 TypeScript \u4ee3\u7801\uff0c\u4f8b\u5982\u4e00\u4e9b\u914d\u7f6e\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <pre><code>{\n    // \u7f16\u8bd1\u9009\u9879\n    \"compilerOptions\": {\n      // \u4f7f\u7528 CommonJS \u6a21\u5757\u7ba1\u7406\n      \"module\": \"commonjs\",\n      // \u4fee\u6b63\u5bfc\u5165\u547d\u540d\u7a7a\u95f4\u548c\u9ed8\u8ba4\u5bfc\u5165\u65f6\u7684\u9519\u8bef\n      \"esModuleInterop\": true,\n      // \u4e25\u683c\u7a7a\u7c7b\u578b\u68c0\u67e5\n      \"strictNullChecks\": true,\n      // \u76ee\u6807\u4ee3\u7801\u7248\u672c ES 2020\n      // ESNext \u6307\u5b9a\u6700\u65b0\u7248\u672c ES\n      \"target\": \"ES2020\",\n      // \u6267\u884c\u6a21\u5757\u89e3\u6790\u65b9\u5f0f\n      \"moduleResolution\": \"node\",\n      // \u8f93\u51fa\u5230 dist \u6587\u4ef6\u5939\n      \"outDir\": \"dist\",\n      // \u7f16\u8bd1\u7684\u6839\u76ee\u5f55\u4e3a src \uff08\u5373\u4ece src/index.ts\uff09\u5f00\u59cb\u7d22\u5f15\n      \"rootDir\": \"src\"\n    }\n}\n</code></pre> <p>TypeScript \u7684\u7c7b\u578b\u6807\u6ce8</p> <p>\u6211\u4eec\u77e5\u9053 TypeScript \u901a\u8fc7\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u63d0\u4f9b\u989d\u5916\u7684\u5b89\u5168\u6027\uff0c\u5728\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u7b2c\u4e09\u65b9\u6a21\u5757\u65f6\uff0c\u901a\u5e38\u5df2\u7ecf\u5305\u542b\u4e86\u76f8\u5e94\u6a21\u5757\u7684\u7c7b\u578b\u6807\u6ce8\uff08\u5f62\u5982 <code>index.d.ts</code> \u7684\u6587\u4ef6\uff0c\u6216\u539f\u672c\u5c31\u662f\u4ee5 TypeScript \u7f16\u5199\u7684\uff09\uff0c\u4f46\u4e5f\u6709\u90e8\u5206\u9879\u76ee\u5e76\u6ca1\u6709\u81ea\u5e26\u7c7b\u578b\u6807\u6ce8\uff0c\u8fd9\u90e8\u5206\u9879\u76ee\u8bb8\u591a\u90fd\u6709\u5355\u72ec\u7684\u7c7b\u578b\u6807\u6ce8\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u5f62\u5982 <code>@types/name</code>\uff0c\u4f8b\u5982 lodash \u5e76\u6ca1\u6709\u81ea\u5e26\u7c7b\u578b\u6807\u6ce8\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 <code>yarn add -D @types/lodash</code> \u6765\u6dfb\u52a0\u7c7b\u578b\u6807\u6ce8\u3002</p>"},{"location":"languages/node.js/npm/#_4","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>tsconfig\u914d\u7f6e\uff1ahttps://typescript.bootcss.com/tsconfig-json.html</li> </ul>"},{"location":"languages/python/","title":"Python \u8bed\u8a00\u57fa\u7840","text":"<p>\u5982\u4f55\u9ad8\u6548\u5730\u5b66\u4e60\u7f16\u7a0b\u8bed\u8a00</p> <p>\u5f53\u6211\u4eec\u5728\u8bf4\u5b66\u4e60\u4e00\u95e8\u65b0\u7684\u7f16\u7a0b\u8bed\u8a00\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5230\u5e95\u5728\u8bf4\u4ec0\u4e48\uff1f</p> <p>C++, Java, Python, JavaScript, Typescript...</p> <p>\u4e00\u95e8\u53c8\u4e00\u95e8\u7684\u7f16\u7a0b\u8bed\u8a00\u540c\u4e2d\u6709\u5f02\uff0c\u5f02\u4e2d\u6709\u540c\u3002\u867d\u8bf4\u201c\u5b9e\u73b0\u76ee\u7684\u201d\u662f\u6211\u4eec\u5b66\u4e60\u65b0\u7684\u7f16\u7a0b\u8bed\u8a00\u7684\u76f4\u63a5\u9a71\u52a8\u529b\uff0c\u53ef\u5982\u4f55\u9ad8\u6548\u5730\u638c\u63e1\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\uff0c\u4f7f\u5176\u4e3a\u6211\u6240\u7528\uff0c\u662f\u4e2a\u503c\u5f97\u6211\u4eec\u601d\u8003\u7684\u95ee\u9898\u3002</p> <p>\u6211\u4eec\u5c1d\u8bd5\u7528\u8fc7\u5f80\u7684\u7ecf\u9a8c\u6765\u5bf9\u8fd9\u4e2a\u95ee\u9898\u7ed9\u51fa\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u89e3\u7b54\u3002\u4e5f\u8bb8\u4f60\u5df2\u7ecf\u4fee\u8fc7\u4e86\u300a\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u6216\u662f\u300a\u8ba1\u7b97\u673a\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u7b49\u7b49\u8bfe\u7a0b\uff0c\u6211\u4eec\u4e0d\u59a8\u56de\u5fc6\u5728\u5165\u95e8\u7b2c\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\u65f6\u7684\u6d41\u7a0b\u3002</p> <p>\u6211\u4eec\u5148\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u6700\u7b80\u5355\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7136\u540e\u5f15\u5165\u4e86\u4e00\u4e9b\u52a0\u52a0\u51cf\u51cf\u7684\u64cd\u4f5c\u7b26\u3002\u7136\u540e\uff0c\u6211\u4eec\u5b66\u4e60\u4e86\u57fa\u672c\u7684\u7a0b\u5e8f\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5\uff0c\u5982\u987a\u5e8f\u8bed\u53e5\u3001\u6761\u4ef6\u8bed\u53e5\u548c\u5faa\u73af\u8bed\u53e5\uff0c\u4ee5\u638c\u63e1\u7a0b\u5e8f\u6267\u884c\u7684\u5177\u4f53\u6d41\u7a0b\u3002\u7136\u540e\uff0c\u6211\u4eec\u5b66\u4e60\u4e86\u4e00\u4e9b\u8f83\u4e3a\u65b9\u4fbf\u7684\u6570\u636e\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u5982 C++ \u4e2d\u7684\u6570\u7ec4\u3001\u7ed3\u6784\u4f53\u3001STL \u7b49\u7b49\uff0c\u8fdb\u800c\u7528\u9762\u5411\u5bf9\u8c61\u7684\u601d\u7ef4\u6765\u601d\u8003\u95ee\u9898\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u4e86\u89e3\u4f7f\u7528\u8fd9\u95e8\u7f16\u7a0b\u8bed\u8a00\u6240\u5177\u6709\u7684\u72ec\u7279\u7684\u4f18\u52bf\uff0c\u6bd4\u5982\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\u7684\u8bed\u6cd5\u7cd6\uff0c\u6216\u662f\u4f7f\u7528\u8fd9\u95e8\u8bed\u8a00\u80fd\u8ba9\u6211\u4eec\u6781\u4e3a\u4fbf\u5229\u5730\u5b8c\u6210\u4ec0\u4e48\u529f\u80fd\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u5b66\u4e60\u4e00\u95e8\u65b0\u7684\u7f16\u7a0b\u8bed\u8a00\u65f6\uff0c\u4e0d\u59a8\u5c31\u4eff\u7167\u7740\u8fd9\u4e2a\u601d\u8def\uff0c\u5c06\u5b66\u5230\u7684\u5185\u5bb9\u6309\u7167\u4e0a\u8ff0\u4e3b\u9898\u8fdb\u884c\u5f52\u7c7b\u6574\u7406\u3002</p> <p>\u4ec0\u4e48\u662f\u8bed\u6cd5\u7cd6\uff1f</p> <p>\u8bed\u6cd5\u7cd6\uff08\u82f1\u8bed\uff1aSyntactic sugar\uff09\u662f\u7531\u82f1\u56fd\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\u5f7c\u5f97\u00b7\u5170\u4e01\u53d1\u660e\u7684\u4e00\u4e2a\u672f\u8bed\uff0c\u6307\u8ba1\u7b97\u673a\u8bed\u8a00\u4e2d\u6dfb\u52a0\u7684\u67d0\u79cd\u8bed\u6cd5\uff0c\u8fd9\u79cd\u8bed\u6cd5\u5bf9\u8bed\u8a00\u7684\u529f\u80fd\u6ca1\u6709\u5f71\u54cd\uff0c\u4f46\u662f\u66f4\u65b9\u4fbf\u7a0b\u5e8f\u5458\u4f7f\u7528\u3002\u8bed\u6cd5\u7cd6\u8ba9\u7a0b\u5e8f\u66f4\u52a0\u7b80\u6d01\uff0c\u6709\u66f4\u9ad8\u7684\u53ef\u8bfb\u6027\u3002</p> <p>Excerpted from Wikipedia.</p> <p>Checkpoint!</p> <p>\u6211\u4eec\u63a8\u8350\u521d\u5b66 Python \u7684\u8bfb\u8005\u6309\u987a\u5e8f\u9605\u8bfb\u672c\u6587\u6863\u3002\u6587\u6863\u4e2d\u6709\u82e5\u5e72 Checkpoint\uff0c\u6bcf\u4e2a Checkpoint \u90fd\u662f\u4e00\u4e2a\u7b80\u5355\u7684 Python \u7f16\u7a0b\u4efb\u52a1\uff0c\u53ef\u4ee5\u5feb\u901f\u68c0\u9a8c\u4f60\u662f\u5426\u7406\u89e3\u4e86\u6587\u6863\u8bb2\u89e3\u7684\u77e5\u8bc6\u3002</p>"},{"location":"languages/python/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u57fa\u672c\u7684\u4ee3\u6570\u601d\u7ef4</li> <li>\u4e00\u5b9a\u7684\u903b\u8f91\u80fd\u529b</li> <li>\u5148\u4fee\u7a0b\u5e8f\u8bbe\u8ba1\u8bfe\u7a0b\u7684\u7a0b\u5e8f\u903b\u8f91\uff0c\u5bf9\u6570\u636e\u7ec4\u7ec7\u5f62\u5f0f\u7684\u4e00\u5b9a\u7406\u89e3\u548c\u4e00\u5b9a\u7684\u9762\u5411\u5bf9\u8c61\u601d\u60f3</li> </ul>"},{"location":"languages/python/#python_1","title":"Python \u53ef\u4ee5\u7528\u6765\u505a\u4ec0\u4e48","text":"<ul> <li>\u5f00\u53d1\u7f51\u9875\u524d\u7aef\u4e0e\u540e\u7aef</li> <li>\u5728\u6570\u636e\u7edf\u8ba1\u4e0e\u5206\u6790\u4e2d\u6781\u5177\u4f18\u52bf</li> <li>\u5728\u673a\u5668\u5b66\u4e60\u9886\u57df\u6709\u6781\u4e3a\u91cd\u8981\u7684\u4f5c\u7528</li> <li>\u80f6\u6c34\u578b\u8bed\u8a00\uff0c\u7b80\u6d01\u7075\u6d3b</li> <li>\u62ef\u6551\u4f60\u7684\u5927\u4e00\u5c0f\u5b66\u671f</li> </ul>"},{"location":"languages/python/#hello-world","title":"\u5b89\u88c5\u3001\u8fd0\u884c\u4e0e Hello World","text":""},{"location":"languages/python/#python_2","title":"Python \u7684\u5b89\u88c5","text":"<p>Python \u7248\u672c\u7684\u9009\u62e9</p> <p>Python \u73b0\u5728\u7684\u4e3b\u6d41\u7248\u672c\u662f Python3\uff0c\u76ee\u524d\u7684\u6700\u65b0\u7248\u672c\u662f 3.10\uff0c\u5b98\u65b9\u4f1a\u5bf9\u8be5\u7248\u672c\u8fdb\u884c Bug \u4fee\u590d\uff0c\u800c\u8f83\u4e3a\u7a33\u5b9a\u7684\u7248\u672c\u662f 3.9 \u4e0e 3.8\uff0c\u9488\u5bf9\u5176\u4ec5\u4f1a\u63a8\u51fa\u5b89\u5168\u6027\u76f8\u5173\u7684\u4fee\u590d\u3002</p> <p>\u76ee\u524d\u5728\u7f51\u7edc\u4e0a\u627e\u5230\u7684\u5f88\u591a\u6559\u7a0b\u90fd\u8fd8\u662f Python2 \u98ce\u683c\u7684\uff0c\u800c Python \u5b98\u65b9\u5728 2020/1/1 \u5df2\u7ecf\u505c\u6b62\u4e86\u5bf9 Python2 \u7684\u5b98\u65b9\u652f\u6301\u3002\u56e0\u6b64\uff0c\u5c3d\u5feb\u5347\u7ea7\u5e76\u719f\u6089 Python3 \u7684\u8bed\u6cd5\uff0c\u662f\u5f88\u6709\u5fc5\u8981\u7684\u3002</p> <p>\u7f16\u8bd1\u578b\u8bed\u8a00\u4e0e\u89e3\u91ca\u578b\u8bed\u8a00</p> <p>\u6211\u4eec\u5df2\u7ecf\u719f\u6089\u7684 C++ \u662f\u4e00\u79cd\u7f16\u8bd1\u578b\u8bed\u8a00\u3002\u5bf9\u4e8e\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5f00\u53d1\u5b8c\u6210\u4ee5\u540e\u9700\u8981\u5c06\u6240\u6709\u7684\u6e90\u4ee3\u7801\u90fd\u8f6c\u6362\u6210\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u800c\u8fd9\u79cd\u8f6c\u6362\u4e00\u822c\u662f\u4e0d\u80fd\u8de8\u5e73\u53f0\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u8981\u9488\u5bf9\u4e0d\u540c\u7684\u5e73\u53f0\u751f\u6210\u4e0d\u540c\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\u800c\u6211\u4eec\u5c06\u8981\u4ecb\u7ecd\u7684 Python \u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\u3002\u6bcf\u6b21\u6267\u884c\u7a0b\u5e8f\u90fd\u9700\u8981\u4e00\u8fb9\u8f6c\u6362\u4e00\u8fb9\u6267\u884c\uff0c\u7528\u5230\u54ea\u4e9b\u6e90\u4ee3\u7801\u5c31\u5c06\u54ea\u4e9b\u6e90\u4ee3\u7801\u8f6c\u6362\u6210\u673a\u5668\u7801\uff0c\u7528\u4e0d\u5230\u7684\u4e0d\u8fdb\u884c\u4efb\u4f55\u5904\u7406\u3002\u6bcf\u6b21\u6267\u884c\u7a0b\u5e8f\u65f6\u53ef\u80fd\u4f7f\u7528\u4e0d\u540c\u7684\u529f\u80fd\uff0c\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u8f6c\u6362\u7684\u6e90\u4ee3\u7801\u4e5f\u4e0d\u4e00\u6837\u3002\u76f8\u6bd4\u4e8e\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u89e3\u91ca\u578b\u8bed\u8a00\u51e0\u4e4e\u90fd\u80fd\u8de8\u5e73\u53f0\uff0c\u201c\u4e00\u6b21\u7f16\u5199\uff0c\u5230\u5904\u8fd0\u884c\u201d\u662f\u771f\u5b9e\u5b58\u5728\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u5728 Windows \u4e0a\u7f16\u5199 Python \u6e90\u4ee3\u7801\uff0c\u7136\u540e\u4e22\u5230 Linux \u4e0a\u53bb\u8fd0\u884c\uff0c\u53ea\u8981\u53cc\u65b9\u914d\u7f6e\u4e86\u76f8\u540c\u7684\u89e3\u91ca\u5668\u73af\u5883\u5373\u53ef\u3002</p> <p>\u53c2\u8003\u81ea http://c.biancheng.net/view/4136.html.</p> <p>\u9488\u5bf9 Windows \u7528\u6237\uff0c\u8bf7\u8bbf\u95ee https://www.python.org/downloads/windows/\u3002\u9488\u5bf9 macOS \u7528\u6237\uff0c\u8bf7\u8bbf\u95ee https://www.python.org/downloads/macos/\u3002\u4e0b\u8f7d\u5bf9\u5e94\u7684\u5305\u7136\u540e\u5b89\u88c5\u5373\u53ef\u3002</p> <p>\u5728\u5b89\u88c5\u65f6\u8bb0\u5f97\u52fe\u9009 Add To Path\uff0c\u5c06\u5b89\u88c5\u8def\u5f84\u4fdd\u5b58\u4e3a\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u4ec0\u4e48\u662f\u73af\u5883\u53d8\u91cf\uff1f</p> <p>\u53ef\u53c2\u8003 https://zhuanlan.zhihu.com/p/82011100\uff0c\u5728\u4e86\u89e3\u73af\u5883\u53d8\u91cf\u7684\u57fa\u672c\u6982\u5ff5\u540e\uff0c\u5982\u679c\u4f60\u5fd8\u8bb0\u4e86\u5728\u5b89\u88c5\u65f6\u5c06 Python \u6240\u5728\u8def\u5f84\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u53ef\u4ee5\u81ea\u884c\u5c1d\u8bd5\u5c06\u5176\u6dfb\u52a0\u5165 Path\u3002</p>"},{"location":"languages/python/#_2","title":"\u7ebf\u4e0a\u5e73\u53f0\u8fd0\u884c","text":"<p>\u5982\u679c\u5b89\u88c5\u6682\u65f6\u6709\u56f0\u96be\uff0c\u53ef\u4ee5\u5148\u524d\u5f80\u7c7b\u4f3c programiz \u6216 w3cschool \u7684\u7ebf\u4e0a\u5e73\u53f0\u8fdb\u884c\u4e00\u4e9b\u7f16\u7a0b\u8bed\u6cd5\u7684\u5b9e\u9a8c\u3002</p>"},{"location":"languages/python/#_3","title":"\u4ea4\u4e92\u5f0f\u7a97\u53e3\u4e0e\u811a\u672c\u6587\u4ef6","text":"<p>\u57fa\u4e8e\u89e3\u91ca\u578b\u8bed\u8a00\u7684\u7279\u70b9\uff0cPython \u4ee3\u7801\u53ef\u4ee5\u5206\u4e3a\u4ea4\u4e92\u5f0f\u7a97\u53e3\u548c\u811a\u672c\u6587\u4ef6\u4e24\u79cd\u6267\u884c\u65b9\u5f0f\u3002</p> <ul> <li> <p>\u4ea4\u4e92\u5f0f\u7a97\u53e3\uff1a\u5982\u5728\u547d\u4ee4\u884c\u8f93\u5165 <code>python</code>\uff0c\u5373\u53ef\u8fdb\u5165\u4ea4\u4e92\u5f0f\u7a97\u53e3\uff0c\u6b64\u65f6\u5982\u540c\u201c\u95ee\u7b54\u201d\u4e00\u822c\uff0c\u8f93\u5165\u4e00\u884c\u4ee3\u7801\u540e\uff0cPython \u7acb\u523b\u6267\u884c\u8be5\u884c\u4ee3\u7801\u5e76\u7ed9\u51fa\u8fd4\u56de\u503c\u3002\u9000\u51fa\u754c\u9762\u7684\u65b9\u6cd5\u662f\u6309 <code>Ctrl+D</code> \u6216\u8005\u6267\u884c <code>exit()</code>\uff08Windows \u7528\u6237\u8bf7\u4f7f\u7528 <code>Ctrl+Z</code>\uff09\u3002</p> </li> <li> <p>\u811a\u672c\uff1a\u7ecf\u5178\u8fd0\u884c\u65b9\u6cd5 <code>python &lt;your file&gt;</code>\uff0cPython \u4f1a\u5c06\u6574\u4e2a\u811a\u672c\u6309\u7167\u8bed\u53e5\u7684\u987a\u5e8f\u4f9d\u6b21\u4ece\u5934\u5230\u5c3e\u6267\u884c\u3002</p> </li> </ul> <p> <p>\u4ea4\u4e92\u5f0f\u7a97\u53e3\u7684\u4f8b\u5b50</p> </p> <p> <p>\u811a\u672c\u6587\u4ef6\u7684\u4f8b\u5b50</p> </p> <p>\u5bf9\u4e8e\u5404\u79cd\u5de5\u7a0b\u9879\u76ee\u6765\u8bf4\uff0c\u6211\u4eec\u81ea\u7136\u662f\u9009\u62e9\u7528\u811a\u672c\u6587\u4ef6\u6765\u5b58\u50a8\u4ee3\u7801\uff0c\u65b9\u4fbf\u6211\u4eec\u8fdb\u884c\u6bcf\u4e00\u6b21\u8c03\u7528\u3002\u800c\u9488\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u6211\u4eec\u5927\u53ef\u5c1d\u8bd5\u7528\u4ea4\u4e92\u5f0f\u7a97\u53e3\u6765\u5165\u95e8\u3002\u540e\u7eed\u9644\u4ee3\u7801\u7684\u90e8\u5206\uff0c\u5982\u679c\u51fa\u73b0\u4e86\u9876\u683c <code>&gt;&gt;&gt;</code> \u7684\u60c5\u51b5\uff0c\u5219\u6697\u793a\u8fd9\u662f\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u7a97\u53e3\uff0c\u6709 <code>&gt;&gt;&gt;</code> \u7684\u662f\u4ee3\u7801\uff0c\u5176\u4ed6\u7684\u662f\u6267\u884c\u4ee3\u7801\u7684\u8f93\u51fa\u3002</p>"},{"location":"languages/python/#hello-world_1","title":"Hello world","text":"<p>[Checkpoint Python-01] Hello World</p> <p>\u597d\uff0c\u73b0\u5728\u4f60\u5df2\u7ecf\u7406\u89e3\u4e86 Python \u7a0b\u5e8f\u662f\u5982\u4f55\u8fd0\u884c\u7684 \u2014\u2014 \u8bd5\u8bd5\u770b\uff01</p> <ol> <li> <p>\u8bf7\u5c1d\u8bd5\u5728\u63a7\u5236\u53f0\u4f7f\u7528\u4ea4\u4e92\u5f0f\u7a97\u53e3\u65b9\u5f0f\uff0c\u4f7f\u7a0b\u5e8f\u8f93\u51fa\u6b22\u8fce\u4fe1\u606f\u3002\u5982 <code>\"Hello, c7w!\"</code>\u3002</p> </li> <li> <p>\u8bf7\u5c1d\u8bd5\u7f16\u5199\u811a\u672c\u6587\u4ef6\u4f7f\u5176\u80fd\u6b63\u786e\u8f93\u51fa 1. \u4e2d\u7684\u6b22\u8fce\u4fe1\u606f\u3002\u5e76\u601d\u8003\uff0cC++ \u4e2d\u4f60\u662f\u600e\u6837\u5b9e\u73b0\u5bf9\u4e8e\u4e0d\u540c\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u5448\u73b0\u4e0d\u540c\u7684\u6b22\u8fce\u4fe1\u606f\u7684\u5462\uff1f</p> </li> </ol> <p>\u63d0\u793a\uff1a</p> <ul> <li>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ed4\u7ec6\u89c2\u5bdf\u4e0a\u9762\u7684\u56fe\u7247\u6765\u89e3\u51b3\u95ee\u9898</li> <li>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8bb2\u89e3\u53d8\u91cf\u7684\u5b9a\u4e49\u4e0e\u7a0b\u5e8f\u7684\u8f93\u5165\u8f93\u51fa</li> </ul>"},{"location":"languages/python/#_4","title":"\u53d8\u91cf\u7c7b\u578b\u4e0e\u8fd0\u7b97","text":"<p>\u4e0e C \u548c C++ \u5927\u81f4\u76f8\u540c\uff0c\u4e00\u4e9b\u9700\u8981\u7279\u522b\u6ce8\u610f\u4e4b\u5904\u6216\u6709\u533a\u522b\u4e4b\u5904\u7528\u52a0\u7c97\u8868\u793a\u3002</p>"},{"location":"languages/python/#_5","title":"\u57fa\u672c\u53d8\u91cf\u7c7b\u578b","text":"<ul> <li><code>int</code>\u3002\u53d8\u957f\u6574\u6570\uff0c\u9ed8\u8ba4\u662f 4 \u5b57\u8282\uff0c\u6709\u9700\u8981\u65f6\u81ea\u52a8\u589e\u957f\u3002\u6ce8\u610f\u6574\u9664\u8fd0\u7b97\u7b26\u662f <code>//</code>\uff0c\u800c\u666e\u901a\u9664\u6cd5 <code>/</code> \u4f1a\u5f97\u5230 <code>float</code> \u7c7b\u578b\uff08\u6ce8\u610f\u4e0e C \u7cfb\u8bed\u8a00\u533a\u5206\uff09\u3002\u9664\u4e86\u5341\u8fdb\u5236\u5916\uff0c\u8fd8\u652f\u6301\u5341\u516d\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u7684\u8868\u793a\u3002</li> <li><code>float</code>\u30028 \u5b57\u8282\u6d6e\u70b9\u6570\uff0c\u76f8\u5f53\u4e8e C \u7cfb\u8bed\u8a00\u7684 <code>double</code>\u3002</li> <li><code>bool</code>\u3002\u5373\u4f17\u6240\u5468\u77e5\u7684 <code>True</code> \u4e0e <code>False</code>\uff0c\u6ce8\u610f\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u7528\u4f5c\u6570\u503c\u8ba1\u7b97\u65f6\u4e0e C \u7cfb\u8bed\u8a00\u4e00\u6837\u5206\u522b\u89c6\u4f5c <code>1</code> \u4e0e <code>0</code>\u3002</li> <li><code>string</code>\u3002\u5b57\u7b26\u4e32\u662f\u4ee5\u5355\u5f15\u53f7 <code>'</code> \u6216\u53cc\u5f15\u53f7 <code>\"</code> \u62ec\u8d77\u6765\u7684\u4efb\u610f\u6587\u672c\uff0c\u6bd4\u5982 <code>'abc'</code>\u3001<code>\"xyz\"</code>\u3002</li> <li><code>NoneType</code>\u3002\u5373 <code>None</code>\u3001\u7a7a\u503c\u3002\u540e\u9762\u4f1a\u4ecb\u7ecd\u5230\u7528\u5904\uff0c\u5e38\u7528\u4e8e\u8fd4\u56de\u503c\u3001\u7279\u5224\u3002</li> </ul> <pre><code>&gt;&gt;&gt; a = 124\n&gt;&gt;&gt; print(a)\n124\n&gt;&gt;&gt; a = 'c7w'\n&gt;&gt;&gt; print(a)\nc7w\n&gt;&gt;&gt; a = None\n&gt;&gt;&gt; print(a)\nNone\n&gt;&gt;&gt; if a:\n...     print (a) # Here a == None, do not print\n...\n&gt;&gt;&gt; a = 'c7w'\n&gt;&gt;&gt; if a:\n...     print (a) # Here a == 'c7w', do print\n...\nc7w\n</code></pre> <p>Python \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u8bed\u8a00</p> <p>\u6211\u4eec\u5c1d\u8bd5\u4e0e\u719f\u6089\u7684 C++ \u8bed\u8a00\u5bf9\u6bd4\uff0c\u89e3\u91ca\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u4e0e\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u533a\u522b\u3002</p> <p>\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u4e2d\uff0c\u6bcf\u4e2a\u53d8\u91cf\u90fd\u6709\u786e\u5b9a\u7684\u6570\u636e\u7c7b\u578b\u3002\u53d8\u91cf\u7684\u7c7b\u578b\u5728\u7f16\u8bd1\u671f\u5c31\u88ab\u5b8c\u5168\u786e\u5b9a\uff0c\u4e14\u6b64\u540e\u53d8\u91cf\u7684\u7c7b\u578b\u65e0\u6cd5\u6539\u53d8\u3002</p> <p>\u4e0e\u5176\u76f8\u5bf9\u5e94\u7684\u662f\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff1a\u53d8\u91cf\u5e76\u6ca1\u6709\u786e\u5b9a\u7684\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u610f\u5473\u7740\u53d8\u91cf\u7684\u7c7b\u578b\u53ef\u4ee5\u5728\u8fd0\u884c\u671f\u6539\u53d8\u3002</p> <p>\u6bd4\u5982\uff0c\u5728 C++ \u4e2d\uff1a</p> <p><pre><code>int c = 1;\nchar m = 'x';\nstd::string a = \"\";\n</code></pre> \u6211\u4eec\u4e0d\u80fd\u5c1d\u8bd5\u4f7f\u7528 <code>a = 1</code>\uff0c\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u89c4\u5b9a\u4e86 <code>a</code> \u662f <code>std::string</code> \u7c7b\u578b\u3002</p> <p>\u800c\u5728 Python \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\uff1a</p> <p><pre><code>a = 123\na = 100.0\na = \"string\"\na = [1,2,3] # List, would be explained later\n</code></pre> \u6211\u4eec\u5e76\u6ca1\u6709\u5bf9\u53d8\u91cf <code>a</code> \u8fdb\u884c\u8fc7\u58f0\u660e\uff0c\u800c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u5e76\u4e14\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u968f\u610f\u5730\u53d8\u6362\u5176\u7c7b\u578b\u3002</p> <p>Reference: https://blog.csdn.net/alashan007/article/details/100742591.</p> <p>Python \u662f\u4e00\u79cd\u5f3a\u7c7b\u578b\u8bed\u8a00</p> <p>\u6ce8\u610f\u533a\u5206\u201c\u5f3a/\u5f31\u7c7b\u578b\u201d\u4e0e\u201c\u9759\u6001/\u52a8\u6001\u7c7b\u578b\u201d\uff0c\u8fd9\u662f\u4e00\u5bf9\u76f8\u4e92\u6b63\u4ea4\u7684\u6982\u5ff5\u3002</p> <p>\u5f3a\u7c7b\u578b\u6307\u503c\u62e5\u6709\u786e\u5b9a\u7684\u7c7b\u578b\u4e14\u4e0d\u53ef\uff08\u9690\u5f0f\u5730\uff09\u76f8\u4e92\u8f6c\u6362\uff0c\u5f31\u7c7b\u578b\u5219\u6307\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u4e4b\u95f4\u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u3002</p> <p>\u7c7b\u578b\u7cfb\u7edf\u7684\u5f3a/\u5f31\u5e76\u4e0d\u50cf\u52a8\u6001/\u9759\u6001\u90a3\u6837\u6709\u660e\u663e\u7684\u754c\u9650\u3002\u4e00\u822c\u8ba4\u4e3a\uff0cJavaScript\u3001Visual Basic \u7b49\u662f\u5178\u578b\u7684\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u5141\u8bb8\u4e00\u90e8\u5206\u9690\u5f0f\u8f6c\u6362\u7684 C \u548c C++ \u4e5f\u88ab\u8ba4\u4e3a\u662f\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u800c Java\u3001C#\u3001Python \u7b49\u5219\u662f\u5178\u578b\u7684\u5f3a\u7c7b\u578b\u8bed\u8a00\u3002</p> <p>\u4f8b\u5982\uff0c\u5728 JavaScript \u4e2d\uff1a</p> <pre><code>var a = \"5\";\nvar b = 4;\nvar c = [3];\nvar d = null;\nconsole.log(a - b + c - d);\n// Output:\n// 13\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u5373\u4f7f\u8fd9\u4e9b\u53d8\u91cf\u7684\u7c7b\u578b\u5b8c\u5168\u4e0d\u540c\uff0c\u5b83\u4eec\u4e5f\u80fd\u8fdb\u884c\u8fd0\u7b97\u5e76\u4ea7\u51fa\u4e0d\u592a\u7b26\u5408\u76f4\u89c9\u7684\u7ed3\u679c\u3002</p> <p>\u800c\u5728 Python \u4e2d\uff1a</p> <pre><code>a = \"5\"\nb = 4\nprint(a + b)\n# Output:\n# Traceback (most recent call last):\n# File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n# TypeError: can only concatenate str (not \"int\") to str\nprint(a + str(b))\n# Output:\n# 54\n</code></pre> <p>\u53ef\u89c1\u5c06\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u76f4\u63a5\u8fdb\u884c\u8fd0\u7b97\u4f1a\u5bfc\u81f4\u9519\u8bef\uff0c\u5fc5\u987b\u5148\u5c06\u5176\u4e2d\u7684\u4e00\u4e9b\u503c\u663e\u5f0f\u8f6c\u6362\u4e3a\u6b63\u786e\u7c7b\u578b\u7684\u503c\u3002</p>"},{"location":"languages/python/#_6","title":"\u8f93\u5165","text":"<p>Python \u8bed\u8a00\u4e4b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>input()</code> \u51fd\u6570\u6765\u83b7\u53d6\u7528\u6237\u7684\u8f93\u5165\u3002</p> <pre><code>a = input(\"\u8bf7\u8f93\u5165\u4f60\u7684\u5e74\u9f84\")\n</code></pre> <p>\u8fd9\u6837\u505a\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684\u8f93\u5165\uff0c\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9\u53d8\u91cf <code>a</code>\uff0c\u4f46\u9ed8\u8ba4\u4f1a\u5c06\u4f60\u7684\u8f93\u5165\u5f53\u4f5c\u5b57\u7b26\u4e32\u7c7b\u578b\u3002\u5982\u679c\u4f60\u60f3\u8981\u5f97\u5230\u6570\u5b57\u7684\u8bdd\uff0c\u9700\u8981\u7528\u5230\u4e00\u5c42\u7c7b\u578b\u8f6c\u6362\uff1a</p> <pre><code>a = int(input(\"\u8bf7\u8f93\u5165\u4f60\u7684\u5e74\u9f84\"))\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u5c06\u8f93\u5165\u8f6c\u5316\u4e3a <code>int</code> \u7c7b\u578b\u3002\u5f53\u4f60\u7684\u8f93\u5165\u5b57\u7b26\u65e0\u6cd5\u8f6c\u5316\u4e3a <code>int</code> \u65f6\uff0c\u4f1a\u629b\u51fa <code>ValureError</code> \u5f02\u5e38\u3002</p>"},{"location":"languages/python/#_7","title":"\u8fd0\u7b97\u7b26","text":"<p>\u4e0b\u5217\u662f Python \u8bed\u8a00\u4e4b\u4e2d\u7684\u5408\u6cd5\u8fd0\u7b97\u7b26\uff0c\u5176\u542b\u4e49\u4e0e C/C++ \u8bed\u8a00\u57fa\u672c\u4e00\u81f4\u3002\u5176\u540e\u5217\u51fa\u4e86\u76f8\u5e94\u7684\u91cd\u8f7d\u51fd\u6570\uff0c\u8fd9\u4e9b\u91cd\u8f7d\u51fd\u6570\u7684\u7528\u6cd5\u5728\u540e\u7eed\u7684\u9762\u5411\u5bf9\u8c61\u7ae0\u8282\u4e4b\u4e2d\u518d\u8be6\u7ec6\u4ecb\u7ecd\u3002</p> <p>\u7b97\u672f\u8fd0\u7b97\u7b26</p> <ul> <li>\u52a0\u6cd5\u8fd0\u7b97\u7b26 <code>+</code>\uff1a<code>__add__</code></li> <li>\u51cf\u6cd5\u8fd0\u7b97\u7b26 <code>-</code>\uff1a<code>__sub__</code></li> <li>\u4e58\u6cd5\u8fd0\u7b97\u7b26 <code>*</code>\uff1a<code>__mul__</code></li> <li>\u771f\u9664\u8fd0\u7b97\u7b26 <code>/</code>\uff1a<code>__trudiv__</code></li> <li>\u6574\u9664\u8fd0\u7b97\u7b26 <code>//</code>\uff1a<code>__floordiv__</code></li> <li>\u6a21\u8fd0\u7b97\u7b26 <code>%</code>\uff1a<code>__mod__</code></li> <li>\u5e42\u8fd0\u7b97\u7b26 <code>**</code>\uff1a<code>__pow__</code></li> </ul> <p>\u6bd4\u8f83\u8fd0\u7b97\u7b26</p> <ul> <li>\u5c0f\u4e8e\u8fd0\u7b97\u7b26 <code>&lt;</code>\uff1a<code>__lt__</code> </li> <li>\u5c0f\u4e8e\u7b49\u4e8e\u8fd0\u7b97\u7b26 <code>&lt;=</code>\uff1a<code>__le__</code></li> <li>\u5927\u4e8e\u8fd0\u7b97\u7b26 <code>&gt;</code>\uff1a<code>__gt__</code></li> <li>\u5927\u4e8e\u7b49\u4e8e\u8fd0\u7b97\u7b26 <code>&gt;=</code>\uff1a<code>__ge__</code></li> <li>\u76f8\u7b49\u8fd0\u7b97\u7b26 <code>==</code>\uff1a<code>__eq__</code></li> <li>\u4e0d\u7b49\u8fd0\u7b97\u7b26 <code>!=</code>\uff1a<code>__ne__</code></li> </ul> <p>\u4f4d\u8fd0\u7b97\u7b26</p> <ul> <li>\u6309\u4f4d\u4e0e\u8fd0\u7b97\u7b26 <code>&amp;</code>\uff1a<code>__and__</code></li> <li>\u6309\u4f4d\u6216\u8fd0\u7b97\u7b26 <code>|</code>\uff1a<code>__or__</code></li> <li>\u6309\u4f4d\u5f02\u6216\u8fd0\u7b97\u7b26 <code>^</code>\uff1a<code>__xor__</code></li> <li>\u6309\u4f4d\u53d6\u53cd\u8fd0\u7b97\u7b26 <code>~</code>\uff1a<code>__invert__</code></li> <li>\u5de6\u79fb\u8fd0\u7b97\u7b26 <code>&lt;&lt;</code>\uff1a<code>__lshift__</code></li> <li>\u53f3\u79fb\u8fd0\u7b97\u7b26 <code>&gt;&gt;</code>\uff1a<code>__rshift__</code></li> </ul> <p>\u903b\u8f91\u8fd0\u7b97\u7b26</p> <ul> <li>\u903b\u8f91\u4e0e\u8fd0\u7b97\u7b26 <code>and</code></li> <li>\u903b\u8f91\u6216\u8fd0\u7b97\u7b26 <code>or</code></li> <li>\u903b\u8f91\u975e\u8fd0\u7b97\u7b26 <code>not</code></li> </ul> <p>\u6ce8\u610f\uff0c\u5bf9\u4e8e <code>and</code> \u6216 <code>or</code>\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e0d\u4f1a\u76f4\u63a5\u8f6c\u6362\u4e3a <code>bool</code>\uff0c\u800c\u662f\u80fd\u591f\u5f97\u51fa\u7ed3\u679c\u7684\u6700\u540e\u4e00\u4e2a\u53d8\u91cf\u3002</p> <p>\u6ce8\u610f\uff0c\u6df7\u7528 <code>and</code>\u3001<code>or</code> \u65f6\u9700\u8981\u8003\u8651 <code>and</code> \u7684\u4f18\u5148\u7ea7\u66f4\u9ad8\uff0c\u4e3a\u4e86\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u5efa\u8bae\u4e0d\u8981\u6df7\u7528\uff0c\u6216\u8005\u663e\u5f0f\u5730\u52a0\u4e0a\u5c0f\u62ec\u53f7\u3002</p> <p>\u4e09\u76ee\u8fd0\u7b97\u7b26</p> <ul> <li>\u4e09\u76ee\u8fd0\u7b97\u7b26 <code>a if condition else b</code></li> </ul> <p>\u5982 <code>abs_x = x if x &gt;= 0 else -x</code>\u3002</p> <p>\u5176\u5b83\u8fd0\u7b97\u7b26</p> <ul> <li>\u5305\u542b\u8fd0\u7b97\u7b26 <code>in</code>\uff0c\u7528\u4e8e\u5224\u5b9a\u67d0\u4e2a\u53d8\u91cf\u662f\u5426\u5305\u542b\u4e8e\u5bb9\u5668\u4e2d</li> <li>\u4e0d\u5305\u542b\u8fd0\u7b97\u7b26 <code>not in</code></li> <li>\u540c\u5730\u5740\u8fd0\u7b97\u7b26 <code>is</code>\uff0c\u7528\u4e8e\u5224\u5b9a\u4e24\u4e2a\u53d8\u91cf\u7684\u5730\u5740\u662f\u5426\u76f8\u540c</li> <li>\u4e0d\u540c\u5730\u5740\u8fd0\u7b97\u7b26 <code>is not</code></li> </ul> <p>is\u8fd0\u7b97\u7b26\u4e0eNone\u7684\u914d\u5408</p> <p>\u6309\u7167\u4e0a\u8ff0\u5b9a\u4e49\uff0c\u5927\u5bb6\u53ef\u80fd\u4f1a\u628a <code>is</code> \u7406\u89e3\u4e3a C++ \u4e2d\u53d6\u5730\u5740\u518d\u8fdb\u884c\u6bd4\u8f83\u7684\u64cd\u4f5c\uff0c\u4f46\u5728 Python \u4e2d\u5176\u5b9e\u9645\u5e94\u7528\u573a\u666f\u4e0d\u6b62\u662f\u8fd9\u6837\u3002</p> <p>\u5728 Python \u4e2d\uff0c<code>None</code> \u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u5e38\u91cf\uff0c\u8868\u793a\u503c\u6216\u5bf9\u8c61\u7684\u7f3a\u5931\u3002\u901a\u5e38\u7528\u6765\u6307\u793a\u53d8\u91cf\u6216\u5bf9\u8c61\u6ca1\u6709\u503c\u6216\u5c1a\u672a\u521d\u59cb\u5316\u3002</p> <p><code>None</code> \u7ecf\u5e38\u7528\u4f5c\u51fd\u6570\u7684\u9ed8\u8ba4\u8fd4\u56de\u503c\uff0c\u8868\u793a\u8fd9\u4e9b\u51fd\u6570\u4e0d\u8fd4\u56de\u4efb\u4f55\u6709\u610f\u4e49\u7684\u503c\u3002\u5176\u4e5f\u53ef\u4ee5\u6307\u793a\u53d8\u91cf\u6216\u5bf9\u8c61\u5f53\u524d\u5e76\u672a\u521d\u59cb\u5316\u3002</p> <p>\u7531\u4e8e\u5176\u4e3a\u4e00\u4e2a\u5185\u7f6e\u7684\u5e38\u91cf\uff0c\u6240\u6709\u503c\u662fNone\u7c7b\u578b\u7684\u53d8\u91cf\u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u8981\u786e\u8ba4\u4e00\u4e2a\u53d8\u91cf\u662f\u5426\u4e3a <code>None</code> \u65f6\uff0c\u53ef\u4ee5\u5e76\u4e14\u66f4\u52a0\u63a8\u8350\u4f7f\u7528 <code>is</code> \u800c\u975e <code>==</code> \u8fd0\u7b97\u7b26\u3002</p> <p>[Checkpoint Python-02] Operators</p> <ol> <li> <p>\u3010\u7cbe\u5ea6\u6d4b\u8bd5\u3011Python \u7684\u201c\u9ad8\u7cbe\u5ea6\u201d\u4f53\u73b0\u5728\u4f55\u5904\uff1f\u5c1d\u8bd5\u4f7f\u7528 Python \u8fdb\u884c\u4ee5\u4e0b\u8fd0\u7b97\uff0c\u5e76\u8f93\u51fa\u5176\u7ed3\u679c\u3002</p> <ol> <li> <p>a = 10^{2000} - 1</p> </li> <li> <p>a = 11451419198101919810114514 \\times 11451419198101919810114514</p> </li> <li> <p>a = 10^{-200} \\times 10^{-400}</p> </li> </ol> <p>\u3010\u63d0\u793a\u3011\u7a0b\u5e8f\u4e2d\u53ef\u4ee5\u4f7f\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff1a\u6211\u4eec\u53ef\u4ee5\u7528 <code>1e-5</code> \u6765\u8868\u793a 10^{-5}\u3002</p> </li> <li> <p>\u8bf7\u5c1d\u8bd5\u89e3\u91ca\u4ee5\u4e0b\u8868\u8fbe\u5f0f\u7684\u8f93\u51fa\u7ed3\u679c\u3002</p> <ol> <li> <p><code>3 or 4</code></p> </li> <li> <p><code>3 and 4</code></p> </li> <li> <p><code>0 or 1 and 2</code></p> </li> <li> <p><code>0 and 1 or 2</code></p> </li> <li> <p><code>1 or 0 and 2</code></p> </li> </ol> </li> </ol>"},{"location":"languages/python/#_8","title":"\u7a0b\u5e8f\u63a7\u5236\u8bed\u53e5","text":""},{"location":"languages/python/#_9","title":"\u987a\u5e8f\u8bed\u53e5","text":"<p>\u4ee3\u7801\u5757\uff08\u82f1\u8bed\uff1aCode block\uff09\u662f\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u5c42\u7ea7\u6982\u5ff5\uff0c\u4f17\u6240\u5468\u77e5 Python \u6ca1\u6709\u5927\u62ec\u53f7\u8fdb\u884c\u663e\u5f0f\u5730\u5206\u5757\uff0c\u56e0\u6b64\u5b83\u5206\u5757\u9700\u8981\u7279\u522b\u7684\u624b\u6bb5\uff1a\u5192\u53f7\u914d\u5408\u7f29\u8fdb\u3002</p> <p>\u7f29\u8fdb\u6709\u4e00\u5957\u5f88\u5b8c\u5907\u7684\u89c4\u5219\uff0c\u63a8\u8350\u7edf\u4e00\u4f7f\u7528 Tab \u6216\u8005\u56db\u4e2a\u7a7a\u683c\u4f5c\u4e3a\u4e00\u7ea7\uff0c\u6bcf\u5f53\u591a\u4e00\u5c42\u5c42\u7ea7\u5d4c\u5957\u65f6\u4fbf\u4f1a\u591a\u4e00\u4e2a Tab \u6216\u8005\u56db\u4e2a\u7a7a\u683c\u3002\u800c\u4e0d\u8981\u6df7\u7528 Tab \u548c\u7a7a\u683c\uff0c\u4e0d\u7136\u4f1a\u51fa\u73b0\u9519\u8bef\u3002</p> <p>\u6ce8\u91ca\u7684\u5199\u6cd5\uff1a</p> <ol> <li> <p>\u5355\u884c\u6ce8\u91ca\u3002\u4ee3\u7801\u884c\u4ee5 <code>#</code> \u5f00\u5934</p> </li> <li> <p>\u591a\u884c\u6ce8\u91ca\u3002\u4f7f\u7528\u4e09\u4e2a\u5355\u5f15\u53f7\uff0c\u6216\u8005\u4e09\u4e2a\u53cc\u5f15\u53f7\u5c06\u5176\u8981\u6ce8\u91ca\u7684\u5185\u5bb9\u6269\u8d77\u6765\uff08\u540e\u7eed\u6211\u4eec\u4f1a\u63d0\u5230\uff0c\u8fd9\u662f\u591a\u884c\u5b57\u7b26\u4e32\u7684\u5904\u7406\u65b9\u6cd5\uff09</p> </li> </ol>"},{"location":"languages/python/#_10","title":"\u6761\u4ef6\u8bed\u53e5","text":"<p><code>if-elif-else</code> \u6761\u4ef6\u5224\u65ad\u7ed3\u6784\uff1a</p> <pre><code>age = 3\nif age &gt;= 18:\n    print('adult')\nelif age &gt;= 6:\n    print('teenager')\nelse:\n    print('kid')\n</code></pre> <p>\u867d\u7136 <code>elif</code> \u4f7f\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\uff0c\u51cf\u5c11\u4e86\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u7f29\u8fdb\uff0c\u4f46\u662f\u6211\u4eec\u4ecd\u7136\u9700\u8981\u907f\u514d\u5927\u91cf\u591a\u5c42\u5d4c\u5957\u7684\u60c5\u51b5\uff0c\u5efa\u8bae\u4ecd\u7136\u4f7f\u7528\u51fd\u6570\u4ee3\u66ff\u5d4c\u5957\u5185\u7684\u4ee3\u7801\uff0c\u8fbe\u5230\u201c\u8f6c\u79fb\u77db\u76fe\u201d\u7684\u6548\u679c\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u4efb\u4f55\u4e00\u79cd\u8bed\u8a00\u7684\u591a\u5c42\u5d4c\u5957\u90fd\u9700\u8981\u7f29\u8fdb\uff0c\u65e0\u8bba\u5982\u4f55\u603b\u662f\u4f1a\u5f71\u54cd\u9605\u8bfb\u3001\u5e26\u6765\u8f83\u5927\u7684\u5fc3\u667a\u8d1f\u62c5\uff0c\u6211\u4eec\u5728\u5b9e\u8df5\u7684\u8fc7\u7a0b\u4e2d\u8981\u5c3d\u91cf\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002</p>"},{"location":"languages/python/#_11","title":"\u5faa\u73af\u8bed\u53e5","text":"<p><code>while</code> \u5faa\u73af\uff1a</p> <pre><code>a = 1\nwhile a &lt;= 100:\n    print(a)\n    a += 1 # \u6ce8\u610f\u6ca1\u6709 a++ \u7684\u5199\u6cd5\n</code></pre> <p><code>for</code> \u5faa\u73af\uff1a</p> <pre><code>for i in range(0, 100): # range(0, 100) = [0, 1, 2, ..., 99]\n    print(i)            # \u672c\u8d28\u4e0a\u662f\u5728\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u904d\u5386\u6240\u6709\u5143\u7d20\n</code></pre> <p>\u540c\u65f6\uff0c<code>break</code> \u548c <code>continue</code> \u8fd9\u4e9b\u8bed\u53e5\u5728 Python \u5faa\u73af\u4e2d\u4e5f\u662f\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u7684\u3002</p>"},{"location":"languages/python/#_12","title":"\u51fd\u6570\u7684\u5199\u6cd5","text":"<p>\u5b9a\u4e49\u51fd\u6570\u7684\u5199\u6cd5\uff1a</p> <pre><code>def my_abs(x):\n    if x &gt;= 0:\n        return x\n    else:\n        return -x\n</code></pre> <p>\u6ce8\u610f\u7b2c\u4e00\u884c\u56fa\u5b9a\u683c\u5f0f <code>def &lt;func_name&gt;(params, ...):</code>\uff0c\u5176\u4ed6\u548c C/C++ \u5dee\u522b\u4e0d\u5927\u3002\u4f5c\u4e3a\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u4e0d\u56fa\u5b9a\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a <code>return</code> \u4ee5\u5728\u4e0d\u540c\u60c5\u51b5\u4e0b\u8fd4\u56de\u4e0d\u540c\u5185\u5bb9\uff0c\u6216\u8005\u6ca1\u6709 <code>return</code>\uff08\u7b49\u4ef7\u4e8e <code>return None</code>\uff09\u3002</p> <p>\u5982\u679c\u8981\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>def Fl0at9973_do_nothing():\n    pass\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5728\u51fd\u6570\u5b9a\u4e49\u884c\u672b\u5c3e\u6dfb\u52a0\u4e0a\u5b83\u7684\u8fd4\u56de\u503c\uff0c\u4f46\u8fd9\u4e0d\u4f1a\u5bf9\u4ee3\u7801\u8fd0\u884c\u9020\u6210\u4efb\u4f55\u5f71\u54cd\u4e0e\u9650\u5236\uff0c\u53ea\u662f\u7ed9\u7a0b\u5e8f\u5458\u81ea\u5df1\u770b\u7684\u800c\u5df2\u3002</p> <pre><code>def shell_string() -&gt; str:\n    ret = 3\n    return ret # No Error\n</code></pre>"},{"location":"languages/python/#_13","title":"\u51fd\u6570\u7684\u53c2\u6570","text":"<p>Python \u51fd\u6570\u7684\u53c2\u6570\u4f20\u9012\u975e\u5e38\u7075\u6d3b\uff0c\u5176\u652f\u6301\u56db\u7c7b\u53c2\u6570\uff1a\u4f4d\u7f6e\u53c2\u6570\uff0c\u5173\u952e\u5b57\u53c2\u6570\uff0c\u9ed8\u8ba4\u53c2\u6570\u548c\u53ef\u53d8\u53c2\u6570\u3002</p> <ul> <li>\u4f4d\u7f6e\u53c2\u6570     \u4f4d\u7f6e\u53c2\u6570\u5c31\u662f\u6309\u7167\u5b9a\u4e49\u65f6\u7684\u987a\u5e8f\u4f20\u5165\u51fd\u6570\uff0c\u6bd4\u5982\uff1a     <pre><code>def greet(name, message):\n    print(f\"{message}, {name}!\")\n</code></pre></li> <li>\u5173\u952e\u5b57\u53c2\u6570     \u5173\u952e\u5b57\u53c2\u6570\u5141\u8bb8\u4f20\u5165\u7684\u53c2\u6570\u540d\u4efb\u610f\u6307\u5b9a\uff0c\u4e0d\u6309\u7167\u51fd\u6570\u5b9a\u4e49\u65f6\u7684\u53c2\u6570\u987a\u5e8f\u4f20\u53c2\uff1a     <pre><code># \u4f9d\u7136\u662f\u4e0a\u6587\u7684\u51fd\u6570\ngreet(message=\"Hello\", name=\"Kid\")\n# \u8f93\u51fa\uff1aHello, Kid!\n</code></pre></li> <li>\u9ed8\u8ba4\u53c2\u6570     \u9ed8\u8ba4\u53c2\u6570\u5c31\u662f\u5f53\u51fd\u6570\u8c03\u7528\u65f6\u6ca1\u6709\u4f20\u5165\u53c2\u6570\u65f6\uff0c\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u7684\u503c\u3002     <pre><code>def greet(name, message=\"Hello\"):\n    print(f\"{message}, {name}!\")\n\ngreet(\"Alice\") \u00a0# \u8f93\u51fa \"Hello, Alice!\"\ngreet(\"Bob\", \"Hi\") \u00a0# \u8f93\u51fa \"Hi, Bob!\"\n</code></pre></li> <li> <p>\u53ef\u53d8\u53c2\u6570     \u5728Python\u4e2d\uff0c\u53ef\u53d8\u53c2\u6570\u6709\u4e24\u79cd\uff1a<code>*args</code> \u4e0e  <code>**kwargs</code> \u3002\u6211\u4eec\u5148\u6765\u770b\u524d\u8005:</p> <p><code>*args</code> \u8868\u793a\u4efb\u610f\u591a\u4e2a\u4f4d\u7f6e\u53c2\u6570\uff0c\u5b83\u662f\u4e00\u4e2a\u5143\u7ec4\u7c7b\u578b\uff08\u5143\u7ec4\u5728\u540e\u6587\u4f1a\u4ecb\u7ecd\uff09\u3002 <pre><code>def add(*args):\n    res = 0\n    for num in args:\n        res += num\n    return res\n\nprint(add(1, 2, 3)) \u00a0# \u8f93\u51fa 6 \nprint(add(1, 2, 3, 4, 5)) \u00a0# \u8f93\u51fa 15\n</code></pre></p> <p><code>**kwargs</code> \u8868\u793a\u4efb\u610f\u591a\u4e2a\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5b83\u662f\u4e00\u4e2a\u5b57\u5178\u7c7b\u578b\uff08\u5b57\u5178\u5728\u540e\u6587\u4f1a\u4ecb\u7ecd\uff09\uff0c\u4e0d\u8fc7\u5728\u4f20\u5165\u65f6\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u5199\u6210\u5b57\u5178\u3002 <pre><code>def greet(**kwargs):\n\u00a0 \u00a0for key, value in kwargs.items(): \n\u00a0 \u00a0 \u00a0 \u00a0print(f\"{key}: {value}\")\n\ngreet(name=\"Alice\", message=\"Hello\") \u00a0# \u8f93\u51fa \"name: Alice\" \u548c \"message: Hello\"\n\ngreet(name=\"Bob\", age=30, city=\"New York\") \u00a0# \u8f93\u51fa \"name: Bob\"\u3001\"age: 30\" \u548c \"city: New York\"\n</code></pre></p> </li> </ul> <p>[Checkpoint Python-03] Runtime logic</p> <p>\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570 <code>fib</code>\uff0c\u63a5\u53d7\u4e00\u4e2a\u6574\u578b\u53d8\u91cf <code>n</code> \u4f5c\u4e3a\u8f93\u5165\uff0c\u8fd4\u56de\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c <code>n</code> \u9879\u3002</p> <p>\u8bf7\u7ed9\u51fa\u95ee\u9898\u89e3\u6cd5\u7684\u9012\u5f52\u7248\u672c\u4e0e\u8fed\u4ee3\u7248\u672c\u3002</p>"},{"location":"languages/python/#_14","title":"\u6570\u636e\u53ca\u5176\u7ec4\u7ec7\u5f62\u5f0f","text":""},{"location":"languages/python/#_15","title":"\u518d\u8c08\u5b57\u7b26\u4e32","text":"<p>\u4ec0\u4e48\u662f Unicode</p> <p>\u6700\u65e9\u53ea\u6709 127 \u4e2a\u5b57\u7b26\u88ab\u7f16\u7801\u5230\u8ba1\u7b97\u673a\u91cc\uff0c\u4e5f\u5c31\u662f\u5927\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e00\u4e9b\u7b26\u53f7\uff0c\u8fd9\u4e2a\u7f16\u7801\u8868\u88ab\u79f0\u4e3a ASCII \u7f16\u7801\uff0c\u6bd4\u5982\u5927\u5199\u5b57\u6bcd <code>A</code> \u7684\u7f16\u7801\u662f <code>65</code>\uff0c\u5c0f\u5199\u5b57\u6bcd <code>z</code> \u7684\u7f16\u7801\u662f <code>122</code>\u3002</p> <p>\u4f46\u662f\u8981\u5904\u7406\u4e2d\u6587\u663e\u7136\u4e00\u4e2a\u5b57\u8282\u662f\u4e0d\u591f\u7684\uff0c\u81f3\u5c11\u9700\u8981\u4e24\u4e2a\u5b57\u8282\uff0c\u800c\u4e14\u8fd8\u4e0d\u80fd\u548c ASCII \u7f16\u7801\u51b2\u7a81\u3002\u6240\u4ee5\uff0c\u4e2d\u56fd\u5236\u5b9a\u4e86 GB2312 \u7f16\u7801\uff0c\u7528\u6765\u628a\u4e2d\u6587\u7f16\u8fdb\u53bb\u3002</p> <p>\u4f60\u53ef\u4ee5\u60f3\u5f97\u5230\u7684\u662f\uff0c\u5168\u4e16\u754c\u6709\u4e0a\u767e\u79cd\u8bed\u8a00\u3002\u65e5\u672c\u628a\u65e5\u6587\u7f16\u5230 Shift_JIS \u91cc\uff0c\u97e9\u56fd\u628a\u97e9\u6587\u7f16\u5230 Euc-kr \u91cc\uff0c\u5404\u56fd\u6709\u5404\u56fd\u7684\u6807\u51c6\uff0c\u5c31\u4f1a\u4e0d\u53ef\u907f\u514d\u5730\u51fa\u73b0\u51b2\u7a81\uff0c\u7ed3\u679c\u5c31\u662f\uff0c\u5728\u591a\u8bed\u8a00\u6df7\u5408\u7684\u6587\u672c\u4e2d\uff0c\u663e\u793a\u51fa\u6765\u4f1a\u6709\u4e71\u7801\u3002</p> <p>\u56e0\u6b64\uff0cUnicode \u5b57\u7b26\u96c6\u5e94\u8fd0\u800c\u751f\u3002Unicode \u628a\u6240\u6709\u8bed\u8a00\u90fd\u7edf\u4e00\u5230\u4e00\u5957\u7f16\u7801\u91cc\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u518d\u6709\u4e71\u7801\u95ee\u9898\u4e86\u3002 </p> <p>\u65b0\u7684\u95ee\u9898\u53c8\u51fa\u73b0\u4e86\uff1a\u5982\u679c\u7edf\u4e00\u6210 Unicode \u7f16\u7801\uff0c\u4e71\u7801\u95ee\u9898\u4ece\u6b64\u6d88\u5931\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u5199\u7684\u6587\u672c\u57fa\u672c\u4e0a\u5168\u90e8\u662f\u82f1\u6587\u7684\u8bdd\uff0c\u7528 Unicode \u7f16\u7801\u6bd4 ASCII \u7f16\u7801\u9700\u8981\u591a\u4e00\u500d\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u5728\u5b58\u50a8\u548c\u4f20\u8f93\u4e0a\u5c31\u5341\u5206\u4e0d\u5212\u7b97\u3002</p> <p>\u6240\u4ee5\uff0c\u672c\u7740\u8282\u7ea6\u7684\u7cbe\u795e\uff0c\u53c8\u51fa\u73b0\u4e86\u628a Unicode \u7f16\u7801\u8f6c\u5316\u4e3a\u201c\u53ef\u53d8\u957f\u7f16\u7801\u201d\u7684 UTF-8 \u7f16\u7801\u3002UTF-8 \u7f16\u7801\u628a\u4e00\u4e2a Unicode \u5b57\u7b26\u6839\u636e\u4e0d\u540c\u7684\u6570\u5b57\u5927\u5c0f\u7f16\u7801\u6210 1-6 \u4e2a\u5b57\u8282\uff0c\u5e38\u7528\u7684\u82f1\u6587\u5b57\u6bcd\u88ab\u7f16\u7801\u6210 1 \u4e2a\u5b57\u8282\uff0c\u6c49\u5b57\u901a\u5e38\u662f 3 \u4e2a\u5b57\u8282\uff0c\u53ea\u6709\u5f88\u751f\u50fb\u7684\u5b57\u7b26\u624d\u4f1a\u88ab\u7f16\u7801\u6210 4-6 \u4e2a\u5b57\u8282\u3002\u5982\u679c\u4f60\u8981\u4f20\u8f93\u7684\u6587\u672c\u5305\u542b\u5927\u91cf\u82f1\u6587\u5b57\u7b26\uff0c\u7528 UTF-8 \u7f16\u7801\u5c31\u80fd\u8282\u7701\u7a7a\u95f4\u3002</p> <ul> <li>\u5355\u4e2a\u5143\u7d20\u662f Unicode \u5b57\u7b26\u3002\u5728\u6700\u65b0\u7684 Python 3 \u7248\u672c\u4e2d\uff0c\u5b57\u7b26\u4e32\u662f\u4ee5 Unicode \u7f16\u7801\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cPython \u7684\u5b57\u7b26\u4e32\u652f\u6301\u591a\u8bed\u8a00\u3002</li> </ul> <pre><code>&gt;&gt;&gt; a = \"\u4f60\u597d\u4e16\u754c\"\n&gt;&gt;&gt; a[0] # \u53d6 a \u7684\u7b2c 0 \u4e2a\u5143\u7d20\n'\u4f60'\n&gt;&gt;&gt; a[1]\n'\u597d'\n&gt;&gt;&gt; a[2]\n'\u4e16'\n&gt;&gt;&gt; a[3]\n'\u754c'\n</code></pre> <ul> <li>\u5b57\u7b26\u8f6c\u4e49\u3002\u5982\u679c\u5b57\u7b26\u4e32\u5185\u90e8\u65e2\u5305\u542b <code>'</code> \u53c8\u5305\u542b <code>\"</code> \u600e\u4e48\u529e\uff1f\u53ef\u4ee5\u7528\u8f6c\u4e49\u5b57\u7b26 <code>\\</code> \u6765\u6807\u8bc6\uff0c\u6bd4\u5982\uff1a</li> </ul> <pre><code>'I\\'m \\\"OK\\\"!'\n</code></pre> <ul> <li>\u591a\u884c\u5b57\u7b26\u4e32\u3002\u5982\u679c\u5b57\u7b26\u4e32\u5185\u90e8\u6709\u5f88\u591a\u6362\u884c\uff0c\u7528 <code>\\n</code> \u5199\u5728\u4e00\u884c\u91cc\u4e0d\u597d\u9605\u8bfb\u3002\u4e3a\u4e86\u7b80\u5316\uff0cPython \u5141\u8bb8\u7528 <code>'''...'''</code> \u7684\u683c\u5f0f\u8868\u793a\u591a\u884c\u5185\u5bb9\u3002\u5f53\u7136\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u64b0\u5199\u4ee3\u7801\u6ce8\u91ca\u7684\u65b9\u5f0f\u3002</li> </ul> <pre><code>&gt;&gt;&gt; print('''line1\n... line2\n... line3''')\nline1\nline2\nline3\n</code></pre> <ul> <li>\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u3002\u4f7f\u7528 <code>fstring</code>\uff0c\u5176\u5728\u5f62\u5f0f\u4e0a\u662f\u4ee5 <code>f</code> \u6216 <code>F</code> \u4fee\u9970\u7b26\u4e3a\u4fee\u9970\u524d\u7f00\u7684\u5b57\u7b26\u4e32\uff08\u5373 <code>f'xxx'</code> \u6216 <code>F'xxx'</code>\uff09\uff0c\u4ee5\u5927\u62ec\u53f7 <code>{}</code> \u6807\u660e\u88ab\u66ff\u6362\u7684\u5b57\u6bb5\u3002<code>fstring</code> \u5728\u672c\u8d28\u4e0a\u5e76\u4e0d\u662f\u5b57\u7b26\u4e32\u5e38\u91cf\uff0c\u800c\u662f\u4e00\u4e2a\u5728\u8fd0\u884c\u65f6\u8fd0\u7b97\u6c42\u503c\u7684\u8868\u8fbe\u5f0f\u3002</li> </ul> <pre><code>&gt;&gt;&gt; r = 2.5\n&gt;&gt;&gt; s = 3.14 * r ** 2\n&gt;&gt;&gt; print(f'The area of a circle with radius {r} is {s:.2f}')\nThe area of a circle with radius 2.5 is 19.62\n</code></pre> <ul> <li>\u5b57\u7b26\u4e32\u8fd0\u7b97</li> </ul> <pre><code>&gt;&gt;&gt; a = 'Hello'\n&gt;&gt;&gt; a + a\n'HelloHello'\n&gt;&gt;&gt; a * 10 # \u91cd\u590d\u8f93\u51fa\n'HelloHelloHelloHelloHelloHelloHelloHelloHelloHello'\n&gt;&gt;&gt; a[1: 3] # \u83b7\u53d6 index \u5728 [1, 3) \u4e2d\u7684\u5143\u7d20\u6784\u6210\u7684\u5b57\u7b26\u4e32\n'el'\n</code></pre> <ul> <li> <p>\u5e38\u7528\u7279\u6b8a\u51fd\u6570</p> <ul> <li><code>strip()</code> \u53bb\u9664\u524d\u540e\u7684\u7a7a\u5b57\u7b26</li> </ul> <pre><code>&gt;&gt;&gt; a = '   &lt;-backspace-&gt;   '\n&gt;&gt;&gt; a.strip()\n'&lt;-backspace-&gt;'\n</code></pre> <ul> <li><code>replace(str1, str2, num)</code> \u6279\u91cf\u66ff\u6362</li> </ul> <pre><code>&gt;&gt;&gt; a = \"\u6211\u7231\u5317\u4eac\u5927\u5b66\uff0c\u5317\u4eac\u5927\u5b66\u662f\u4e16\u4e00\u5927\uff0c\u5317\u4eac\u5927\u5b66yyds\"\n&gt;&gt;&gt; a.replace(\"\u5317\u4eac\u5927\u5b66\", \"\u6e05\u534e\u5927\u5b66\")\n'\u6211\u7231\u6e05\u534e\u5927\u5b66\uff0c\u6e05\u534e\u5927\u5b66\u662f\u4e16\u4e00\u5927\uff0c\u6e05\u534e\u5927\u5b66yyds'\n</code></pre> <ul> <li> <p><code>len(obj)</code> \u5e38\u7528\u8bed\u83b7\u53d6\u5b57\u7b26\u4e32\u3001\u5b57\u8282\u4e32\u6216\u5bb9\u5668\u7684\u957f\u5ea6</p> </li> <li> <p><code>chr(i)</code> \u5c06\u6574\u578b\u53d8\u91cf <code>i</code> \u8f6c\u5316\u4e3a\u957f\u5ea6\u4e3a 1 \u7684\u5b57\u7b26\u4e32</p> </li> <li> <p><code>ord(c)</code> \u83b7\u53d6\uff08\u957f\u5ea6\u4e3a 1 \u7684\uff09\u5b57\u7b26\uff08\u4e32\uff09\u7684\u7f16\u53f7\uff08Unicode\uff09</p> </li> </ul> </li> </ul> <p>\u5b57\u8282\u4e32</p> <p><code>bytes</code> \u662f Python \u4e2d\u7684\u5b57\u8282\u4e32\uff0c\u5b83\u8868\u793a\u6700\u7eaf\u7cb9\u7684\u201c\u4e8c\u8fdb\u5236\u201d\u6570\u636e\uff0c\u975e\u5e38\u50cf C \u4e2d\u7684 <code>unsigned char *</code> \u3001\u4f46\u662f\u5728\u663e\u793a\u4e0a\u4ec5\u652f\u6301 ASCII \u663e\u793a\u3001\u7528\u8089\u773c\u770b\u4f1a\u6709\u4e9b\u201c\u4e0d\u4f26\u4e0d\u7c7b\u201d\u3002\u901a\u5e38\u5176\u503c\u5b58\u5728\u4e8e\u6570\u636e\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\u3002</p> <p><code>bytes</code> \u7684\u6784\u9020\u4e0e\u5b57\u7b26\u4e32\u7c7b\u4f3c\uff0c\u4f46\u662f\u8981\u52a0\u4e00\u4e2a <code>b</code> \u505a\u524d\u5bfc\uff1a</p> <pre><code>print(b'123')\n# Output: b'123' \n\nprint(b'\\1')\n# Output: b'\\x01'\u00a0\n\nprint(b'\\x41')\n# Output: b'A'\n\nprint(b'\\x61\\x62')\n# Output: b'ab' \n\nprint(len(b'\\x61\\x62'))\n# Output: 2\n</code></pre> <p>\u5176\u4e2d <code>\\x</code> \u8868\u793a\u5c06\u5b57\u7b26\u8f6c\u4e49\u6210\u5bf9\u5e94\u7684 ASCII \u5b57\u7b26\u3002</p>"},{"location":"languages/python/#_16","title":"\u7f16\u7801\u4e0e\u89e3\u7801","text":"<p>\u4e0a\u6587\u4e2d\u5df2\u7ecf\u9648\u8ff0\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684\u7f16\u7801\u3002\u7531\u4e8e Python \u80f6\u6c34\u8bed\u8a00\u7684\u7279\u6027\uff0c\u8bfb\u8005\u4ee5\u540e\u5f88\u6709\u53ef\u80fd\u4f1a\u9047\u5230\u4f7f\u7528 Python \u5904\u7406\u6587\u4ef6\u7684\u9700\u6c42\uff0c\u8fd9\u65f6\u5019\u5b57\u7b26\u7684\u7f16\u7801\u89e3\u7801\u5c06\u662f\u5fc5\u987b\u7684\u8bdd\u9898\uff0c\u4ee5\u4e0b\u4ecb\u7ecd\u4e00\u4e9b\u4f7f\u7528 Python \u81ea\u5e26\u7684\u7f16\u7801\u548c\u89e3\u7801\u5668\u7684\u4f8b\u5b50\uff1a</p> <pre><code>In [1]: 'Hello world'.encode()\nOut[1]: b'Hello world'\n\nIn [2]: b'Hello world'.decode() \nOut[2]: 'Hello world'\n\nIn [3]: '\u4f60\u597d'.encode()\nOut[3]: b'\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd' \n\nIn [4]: '\u4f60\u597d'.encode('utf-8')\nOut[4]: b'\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd' \n\nIn [5]: '\u4f60\u597d'.encode('gbk')\nOut[5]: b'\\xc4\\xe3\\xba\\xc3'\n\nIn [6]: b'\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd'.decode('utf-8')   # \u4f7f\u2f64\u4e86\u6b63\u786e\u7684\u683c\u5f0f\u89e3\u7801 \nOut[6]: '\u4f60\u597d'\n\nIn [7]: b'\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd'.decode('gbk')   # \u4f7f\u2f64\u4e86\u9519\u8bef\u7684\u683c\u5f0f\u89e3\u7801 \nOut[7]: '\u6d63\u72b2\u30bd'\n</code></pre>"},{"location":"languages/python/#_17","title":"\u6269\u5c55\u6570\u636e\u7c7b\u578b","text":"<p>\u5217\u8868 <code>list</code></p> <p>Python \u5185\u7f6e\u7684\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u662f\u5217\u8868\u3002<code>list</code> \u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u5411\u91cf\u7684\u7ed3\u6784\uff0c\u53ef\u4ee5\u968f\u65f6\u6dfb\u52a0\u548c\u5220\u9664\u5176\u4e2d\u7684\u5143\u7d20\u3002</p> <pre><code>&gt;&gt;&gt; a = [2, 3] # Init a list\n\n&gt;&gt;&gt; Fl0at9973_blank = [] # Init a blank list\n# alternatively, Fl0at9973_blank = list()\n\n&gt;&gt;&gt; a.append(4) # Append elements to list\n&gt;&gt;&gt; a\n[2, 3, 4]\n\n&gt;&gt;&gt; b = ['a', 'c', 114514]\n&gt;&gt;&gt; b\n['a', 'c', 114514]\n\n&gt;&gt;&gt; a + b # List \"plus\"\n[2, 3, 4, 'a', 'c', 114514]\n\n&gt;&gt;&gt; a[0] = \"c7w,yyds\" # Change value of elements\n&gt;&gt;&gt; a\n['c7w,yyds', 3, 4]\n\n&gt;&gt;&gt; a[-1] # Find the last element\n4\n\n&gt;&gt;&gt; a.reverse() # Reverse the list\n&gt;&gt;&gt; a\n[4, 3, 'c7w,yyds']\n\n&gt;&gt;&gt; p = [5, 4, 3, 2, 1]\n&gt;&gt;&gt; p.sort() # Sort the list\n&gt;&gt;&gt; p\n[1, 2, 3, 4, 5]\n</code></pre> <p>\u5143\u7ec4 <code>tuple</code></p> <p>Python \u7684\u5143\u7ec4\u4e0e\u5217\u8868\u7c7b\u4f3c\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5143\u7ec4\u7684\u5143\u7d20\u4e0d\u80fd\u4fee\u6539\u3002\u5143\u7ec4\u4f7f\u7528\u5c0f\u62ec\u53f7\uff0c\u5217\u8868\u4f7f\u7528\u65b9\u62ec\u53f7\u3002</p> <p>\u5143\u7ec4\u521b\u5efa\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5728\u62ec\u53f7\u4e2d\u6dfb\u52a0\u5143\u7d20\uff0c\u5e76\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u5373\u53ef\u3002</p> <pre><code>tup1 = () # \u7a7a\u5143\u7ec4\ntup1 = (50, ) # \u5143\u7ec4\u4e2d\u53ea\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u9700\u8981\u5728\u5143\u7d20\u540e\u9762\u6dfb\u52a0\u9017\u53f7\ntup1[0] = 20 # Error! Elements of tuple cannot be changed.\n</code></pre> <p>\u5b57\u5178 <code>dict</code></p> <p>\u5b57\u5178\u662f\u53e6\u4e00\u79cd\u53ef\u53d8\u5bb9\u5668\u6a21\u578b\uff0c\u4e14\u53ef\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u5bf9\u8c61\uff0c\u91c7\u7528\u952e\u503c\u5bf9\u5b58\u50a8\u65b9\u5f0f\u3002</p> <p>\u5b57\u5178\u7684\u6bcf\u4e2a\u952e\u503c\u5bf9\u7528\u5192\u53f7 <code>:</code> \u5206\u5272\uff0c\u6bcf\u4e2a\u952e\u503c\u5bf9\u4e4b\u95f4\u7528\u9017\u53f7 <code>,</code> \u5206\u5272\uff0c\u6574\u4e2a\u5b57\u5178\u5305\u62ec\u5728\u82b1\u62ec\u53f7 <code>{}</code> \u4e2d\u3002</p> <pre><code>&gt;&gt;&gt; d = {'name': 'c7w', 'gender': 'M', 'id': 2020000000} # Init the dict\n&gt;&gt;&gt; d\n{'name': 'c7w', 'gender': 'M', 'id': 2020000000}\n\n&gt;&gt;&gt; d['gender'] # Get the value of certain key\n'M'\n\n&gt;&gt;&gt; d['department'] = 'CST' # New a key-value pair\n&gt;&gt;&gt; d\n{'name': 'c7w', 'gender': 'M', 'id': 2020000000, 'department': 'CST'}\n\n&gt;&gt;&gt; d['girlfriend'] # Would raise KeyError if key not found\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nKeyError: 'girlfriend'\n\n&gt;&gt;&gt; d['id'] += 2 # Change value of certain key\n&gt;&gt;&gt; d\n{'name': 'c7w', 'gender': 'M', 'id': 2020000002, 'department': 'CST'}\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528 <code>in</code> \u5173\u952e\u5b57\u5224\u65ad\u67d0\u4e2a\u7279\u5b9a\u7684 key \u662f\u5426\u5728\u5b57\u5178\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684 <code>dictObj.get()</code> \u51fd\u6570\u5728 key \u4e0d\u5b58\u5728\u65f6\u63d0\u4f9b\u9ed8\u8ba4\u83b7\u53d6\u503c\u3002</p> <p>\u96c6\u5408 <code>set</code></p> <p><code>set</code> \u548c <code>dict</code> \u7c7b\u4f3c\uff0c\u4e5f\u662f\u4e00\u7ec4 key \u7684\u96c6\u5408\uff0c\u4f46\u4e0d\u5b58\u50a8 value\u3002\u7531\u4e8e key \u4e0d\u80fd\u91cd\u590d\uff0c\u6240\u4ee5\uff0c\u5728 <code>set</code> \u4e2d\uff0c\u6ca1\u6709\u91cd\u590d\u7684 key\u3002</p> <pre><code>&gt;&gt;&gt; myList = [1, 1, 1, 2, 3, 3, 3, 3, 4]\n&gt;&gt;&gt; s = set(myList)\n&gt;&gt;&gt; s\n{1, 2, 3, 4}\n&gt;&gt;&gt; s = list(s)\n&gt;&gt;&gt; s\n[1, 2, 3, 4]\n</code></pre> <p>\u9762\u5411\u5bf9\u8c61\u8bed\u6cd5</p> <p>\u5982\u679c\u91c7\u7528\u9762\u5411\u5bf9\u8c61\u5f0f\u7684\u601d\u7ef4\uff0c\u6211\u4eec\u5c06\u5177\u6709\u5171\u540c\u5c5e\u6027\u4e0e\u65b9\u6cd5\u7684\u4e00\u7ec4\u4e2a\u4f53\u62bd\u8c61\u6210\u4e00\u4e2a\u7c7b\uff0c\u5728 Python \u4e2d\u7684\u8868\u8fbe\u65b9\u5f0f\u4e3a\uff1a</p> <pre><code>class Student(object):\n    def __init__(self, name, score):\n        self.name = name\n        self.score = score\n\n    def get_grade(self):\n        if self.score &gt;= 90:\n            return 'A'\n        elif self.score &gt;= 60:\n            return 'B'\n        else:\n            return 'C'\n</code></pre> <p>\u66f4\u591a\u6709\u5173 Python \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u77e5\u8bc6\u8bf7\u9605\u8bfb\uff1a</p> <ul> <li>https://www.liaoxuefeng.com/wiki/1016959663602400/1017495723838528</li> <li>https://www.liaoxuefeng.com/wiki/1016959663602400/1017501628721248</li> </ul>"},{"location":"languages/python/#_18","title":"\u6587\u4ef6\u8bfb\u5199","text":"<p><code>open()</code> \u51fd\u6570</p> <p>\u4f60\u5fc5\u987b\u5148\u7528 Python \u5185\u7f6e\u7684 <code>open()</code> \u51fd\u6570\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u521b\u5efa\u4e00\u4e2a file \u5bf9\u8c61\uff0c\u76f8\u5173\u7684\u65b9\u6cd5\u624d\u53ef\u4ee5\u8c03\u7528\u5b83\u8fdb\u884c\u8bfb\u5199\u3002</p> <pre><code>file object = open(file_name [, access_mode][, buffering])\n</code></pre> <p>\u5176\u4e2d\u5e38\u7528\u7684\u8bfb\u53d6\u6a21\u5f0f\u6709 <code>'r'</code>\uff08\u53ea\u8bfb\uff09\u3001<code>'w+'</code>\uff08\u6e05\u7a7a\u5e76\u91cd\u5199\uff09\u3001<code>'a+'</code>\uff08\u8ffd\u52a0\u5199\u5165\uff09\u3002</p> <p><code>read()</code> \u51fd\u6570</p> <p><code>read()</code> \u65b9\u6cd5\u4ece\u4e00\u4e2a\u6253\u5f00\u7684\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002</p> <pre><code># \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\nfo = open(\"foo.txt\", \"r\")\nstr = fo.read()\nprint(\"\u8bfb\u53d6\u7684\u5b57\u7b26\u4e32\u662f: \", str)\n# \u5173\u95ed\u6253\u5f00\u7684\u6587\u4ef6\nfo.close()\n</code></pre> <p><code>write()</code> \u51fd\u6570</p> <p><code>write()</code> \u65b9\u6cd5\u53ef\u5c06\u4efb\u4f55\u5b57\u7b26\u4e32\u5199\u5165\u4e00\u4e2a\u6253\u5f00\u7684\u6587\u4ef6\u3002\u9700\u8981\u91cd\u70b9\u6ce8\u610f\u7684\u662f\uff0cPython \u5b57\u7b26\u4e32\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4ec5\u4ec5\u662f\u6587\u5b57\u3002\u6ce8\u610f\uff0c<code>write()</code> \u65b9\u6cd5\u4e0d\u4f1a\u5728\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u6dfb\u52a0\u6362\u884c\u7b26\u5373 <code>'\\n'</code>\u3002</p> <pre><code># \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\nfo = open(\"foo.txt\", \"w\")\nfo.write(\"www.runoob.com!\\nVery good site!\\n\")\n\n# \u5173\u95ed\u6253\u5f00\u7684\u6587\u4ef6\nfo.close()\n</code></pre> <p>[Checkpoint Python-04] Numbers</p> <ol> <li> <p>\u3010\u6570\u636e\u7ed3\u6784\u3011</p> <ol> <li> <p>\u5206\u522b\u627e\u51fa 1 \\leq i \\leq 1000000 \u5185\u6240\u6709\u7684\u662f 2, 3, 5 \u7684\u500d\u6570\u7684\u6570\u7684\u5bf9\u5e94\u7684 <code>list</code></p> </li> <li> <p>\u5c06\u8fd9\u4e9b\u5217\u8868\u8fde\u63a5\u8d77\u6765</p> </li> <li> <p>\u5c06\u8fd9\u4e9b\u6570\u53bb\u91cd</p> </li> </ol> </li> <li> <p>\u3010\u6587\u672c\u5199\u5165\u3011</p> <ol> <li>\u5c06 1. \u4e2d\u7684\u7b54\u6848\uff0c\u8f93\u51fa\u4e3a <code>ans.txt</code></li> </ol> </li> </ol>"},{"location":"languages/python/#_19","title":"\u8bed\u6cd5\u7cd6","text":"<p>Python \u7684\u4e00\u5927\u7279\u8272\u5728\u4e8e\u5176\u4e30\u5bcc\u7684\u8bed\u6cd5\u7cd6\uff0c\u8fd9\u4e9b\u8bed\u6cd5\u7cd6\u8ba9 Python \u4ee3\u7801\u4e0e\u5176\u4ed6\u8bed\u8a00\u76f8\u6bd4\u5c55\u73b0\u51fa\u4e86\u5b8c\u5168\u4e0d\u4e00\u6837\u7684\u98ce\u683c\uff0c\u8fd9\u4e2a\u98ce\u683c\u4e5f\u79f0\u4f5c Pythonic\u3002\u719f\u7ec3\u8fd0\u7528\u8fd9\u4e9b\u8bed\u6cd5\u7cd6\uff0c\u53ef\u4ee5\u7b80\u5316\u4ee3\u7801\u7f16\u5199\u5e76\u63d0\u9ad8\u4ee3\u7801\u53ef\u8bfb\u6027\u3002</p>"},{"location":"languages/python/#_20","title":"\u81ea\u52a8\u751f\u6210\u5143\u7ec4\u4e0e\u89e3\u5305","text":"<pre><code>a = 1\nb = 2\na, b = b, a # \u81ea\u52a8\u751f\u6210\u4e86 Tuple \u5e76\u4ea4\u6362\u6b21\u5e8f\uff0c\u4e0d\u9700\u4e2d\u95f4\u53d8\u91cf\n</code></pre>"},{"location":"languages/python/#_21","title":"\u591a\u91cd\u6bd4\u8f83","text":"<pre><code>a = 30\nif 20 &lt;= a &lt;= 40:\n    print(a)\n</code></pre>"},{"location":"languages/python/#_22","title":"\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u5207\u7247","text":"<pre><code>&gt;&gt;&gt; a = list(range(0, 100))\n&gt;&gt;&gt; a\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]\n\n&gt;&gt;&gt; a[10: 19] # [10, 19)\n[10, 11, 12, 13, 14, 15, 16, 17, 18]\n&gt;&gt;&gt; a[-10: -2] # [-10, -2)\n[90, 91, 92, 93, 94, 95, 96, 97]\n&gt;&gt;&gt; a[-1]\n99\n</code></pre>"},{"location":"languages/python/#_23","title":"\u5217\u8868\u751f\u6210\u5f0f","text":"<pre><code>&gt;&gt;&gt; L = [x * x for x in range(100) if x % 10 == 0]\n&gt;&gt;&gt; L\n[0, 100, 400, 900, 1600, 2500, 3600, 4900, 6400, 8100]\n</code></pre>"},{"location":"languages/python/#_24","title":"\u5305\u7ba1\u7406","text":""},{"location":"languages/python/#_25","title":"\u591a\u6587\u4ef6\u9879\u76ee","text":"<p>\u5728\u8ba1\u7b97\u673a\u7a0b\u5e8f\u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u968f\u7740\u7a0b\u5e8f\u4ee3\u7801\u8d8a\u5199\u8d8a\u591a\uff0c\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u4ee3\u7801\u5c31\u4f1a\u8d8a\u6765\u8d8a\u957f\uff0c\u8d8a\u6765\u8d8a\u4e0d\u5bb9\u6613\u7ef4\u62a4\u3002</p> <p>\u4e3a\u4e86\u7f16\u5199\u53ef\u7ef4\u62a4\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u628a\u5f88\u591a\u51fd\u6570\u5206\u7ec4\uff0c\u5206\u522b\u653e\u5230\u4e0d\u540c\u7684\u6587\u4ef6\u91cc\uff0c\u8fd9\u6837\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5305\u542b\u7684\u4ee3\u7801\u5c31\u76f8\u5bf9\u8f83\u5c11\uff0c\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u90fd\u91c7\u7528\u8fd9\u79cd\u7ec4\u7ec7\u4ee3\u7801\u7684\u65b9\u5f0f\u3002\u5728 Python \u4e2d\uff0c\u4e00\u4e2a <code>.py</code> \u6587\u4ef6\u5c31\u79f0\u4e4b\u4e3a\u4e00\u4e2a\u6a21\u5757\uff08\u82f1\u8bed\uff1aModule\uff09\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u6bcf\u4e00\u4e2a\u5305\u76ee\u5f55\u4e0b\u9762\u90fd\u4f1a\u6709\u4e00\u4e2a <code>__init__.py</code> \u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u662f\u5fc5\u987b\u5b58\u5728\u7684\uff0c\u5426\u5219\uff0cPython \u5c31\u628a\u8fd9\u4e2a\u76ee\u5f55\u5f53\u6210\u666e\u901a\u76ee\u5f55\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5305\u3002<code>__init__.py</code> \u53ef\u4ee5\u662f\u7a7a\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u6709 Python \u4ee3\u7801\uff0c\u56e0\u4e3a <code>__init__.py</code> \u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u6a21\u5757\u3002\u5728\u4e0b\u5217\u6587\u4ef6\u6811\u4e2d\u5b83\u7684\u6a21\u5757\u540d\u5c31\u662f <code>mycompany</code>\u3002</p> <pre><code>mycompany\n \u251c\u2500 web\n \u2502  \u251c\u2500 __init__.py\n \u2502  \u251c\u2500 utils.py\n \u2502  \u2514\u2500 www.py\n \u251c\u2500 __init__.py\n \u251c\u2500 abc.py\n \u2514\u2500 utils.py\n</code></pre>"},{"location":"languages/python/#_26","title":"\u5f15\u5165\u5916\u90e8\u5305","text":"<p>Python \u4e3a\u6211\u4eec\u81ea\u5e26\u4e86\u5f88\u591a\u5185\u7f6e\u6a21\u5757\uff0c\u6bd4\u5982 <code>os</code>\u3001<code>datetime</code>\u3001<code>re</code> \u7b49\u7b49\uff0c\u8fd9\u91cc\u4e0d\u5728\u8bed\u8a00\u5165\u95e8\u7bc7\u4e2d\u8d58\u8ff0\u3002\u5f53\u6709\u8fd0\u7528\u7684\u9700\u6c42\u65f6\uff0c\u57f9\u517b\u9762\u5411\u641c\u7d22\u5f15\u64ce\u7684\u95ee\u9898\u89e3\u51b3\u80fd\u529b\u662f\u5f88\u91cd\u8981\u7684\u3002</p>"},{"location":"languages/python/#_27","title":"\u5b89\u88c5\u5916\u90e8\u5305","text":"<p>\u6b63\u662f\u7531\u4e8e\u5f00\u6e90\u793e\u533a\u7684\u5b58\u5728\uff0c\u624d\u4f7f\u5f97 Python \u80fd\u591f\u5982\u6b64\u4fbf\u6377\uff0c\u5982\u6b64\u5f3a\u5927\u3002Python \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u6781\u4e3a\u65b9\u4fbf\u7684\u5305\u7ba1\u7406\u5668 <code>pip</code>\uff0c\u4f1a\u5728\u5b89\u88c5\u65f6\u9644\u5e26\u3002</p> <p>Linux \u7528\u6237\u53ef\u4ee5\u4f7f\u7528 <code>sudo apt update &amp;&amp; sudo apt install pip3</code> \u6765\u5b89\u88c5\u3002</p> <p>\u5728 Python \u4e2d\uff0c\u5b89\u88c5\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u662f\u901a\u8fc7\u5305\u7ba1\u7406\u5de5\u5177 <code>pip</code> \u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u8981\u5b89\u88c5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93 Pillow\uff0c\u5176\u662f\u4e00\u4e2a\u9ad8\u7ea7\u7684\u56fe\u50cf\u5904\u7406\u5de5\u5177\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>pip install pillow</code> \u6765\u5b89\u88c5\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>anaconda</code>\u3001<code>virtualenv</code> \u7b49\u5305\u6765\u534f\u52a9\u6211\u4eec\u8fdb\u884c\u865a\u62df\u73af\u5883\u521b\u5efa\u6216\u8005\u5305\u7ba1\u7406\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u518d\u5c55\u5f00\u3002</p>"},{"location":"languages/python/#_28","title":"\u62d3\u5c55\u5b66\u4e60","text":"<p>Python \u7684\u5f3a\u5927\u4e4b\u5904\u5728\u4e8e\u5176\u4e30\u5bcc\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e3a\u4e86\u8fdb\u4e00\u6b65\u5b66\u4e60\u3001\u8fd0\u7528 Python \u8bed\u8a00\uff0c\u6211\u4eec\u63a8\u8350\u8bfb\u8005\u81ea\u884c\u641c\u7d22\u4e0b\u5217\u7b2c\u4e09\u65b9\u5e93\u7684\u4ecb\u7ecd\u3001\u6587\u6863\uff0c\u5e76\u5c1d\u8bd5\u5728\u81ea\u5df1\u7684\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002\u6709\u4f59\u529b\u7684\u8bfb\u8005\u751a\u81f3\u53ef\u4ee5\u53bb\u9605\u8bfb\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u5e93\u7684\u6e90\u4ee3\u7801\u3002</p>"},{"location":"languages/python/#_29","title":"\u7cfb\u7edf\u8c03\u7528","text":"<ul> <li>os</li> <li>sys</li> </ul>"},{"location":"languages/python/#_30","title":"\u65e5\u5e38\u5de5\u5177","text":"<ul> <li>re</li> <li>datetime</li> <li>math</li> <li>random</li> <li>json</li> <li>sqlite3</li> </ul>"},{"location":"languages/python/#_31","title":"\u56fe\u50cf\u5904\u7406","text":"<ul> <li>Pillow</li> </ul>"},{"location":"languages/python/#_32","title":"\u7f51\u7ad9\u5f00\u53d1","text":"<ul> <li>Django</li> <li>Flask</li> </ul>"},{"location":"languages/python/#_33","title":"\u6570\u636e\u6536\u96c6","text":"<ul> <li>requests</li> <li>beautifulsoup4</li> </ul>"},{"location":"languages/python/#_34","title":"\u7edf\u8ba1\u5206\u6790","text":"<ul> <li>Numpy</li> <li>Matplotlib</li> <li>pandas</li> </ul>"},{"location":"languages/python/#_35","title":"\u673a\u5668\u5b66\u4e60","text":"<ul> <li>Tensorflow</li> <li>Pytorch</li> </ul>"},{"location":"languages/python/#_36","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>2020 \u6691\u57f9\u8bb2\u4e49 by rls</li> <li>2021 \u6691\u57f9\u8bb2\u4e49 by ayf</li> <li>2022 \u6691\u57f9\u8bb2\u4e49 by zcy</li> <li>2023 \u6691\u57f9\u8bb2\u4e49 by lyf</li> <li>Python Docs https://www.python.org/doc/</li> <li>Runoob https://www.runoob.com/python3/python3-tutorial.html</li> <li>\u5ed6\u96ea\u5cf0 https://www.liaoxuefeng.com/wiki/1016959663602400/</li> </ul>"},{"location":"languages/python/crawler/","title":"Python \u7f51\u7edc\u8bf7\u6c42\u4e0e\u722c\u866b\u57fa\u7840","text":""},{"location":"languages/python/crawler/#python","title":"Python \u722c\u866b","text":""},{"location":"languages/python/crawler/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u61c2\u5f97 Python \u57fa\u672c\u8bed\u6cd5\uff0c\u77e5\u9053\u5982\u4f55\u4f7f\u7528 Python \u7b2c\u4e09\u65b9\u5e93</li> <li>\u77e5\u9053 HTML \u7684\u57fa\u672c\u7ed3\u6784</li> <li>\u4f1a\u4f7f\u7528 Chrome \u7b49\u73b0\u4ee3\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u5de5\u5177\u6765\u67e5\u770b\u7f51\u9875\u6e90\u4ee3\u7801\u548c\u7f51\u7edc\u8bf7\u6c42\u4fe1\u606f</li> </ul>"},{"location":"languages/python/crawler/#_2","title":"\u73af\u5883\u914d\u7f6e","text":"<p>\u9700\u8981\u7528\u5230\u4ee5\u4e0b\u4e00\u4e9b\u5e93\uff1a</p> <ul> <li>IPython\uff1a\u7406\u8bba\u4e0a\u6ca1\u6709\u4e5f\u884c\uff0c\u4f46\u662f\u4f7f\u7528 IPython \u4f1a\u63d0\u9ad8\u5927\u5bb6\u6d4b\u8bd5\u7684\u6548\u7387</li> <li>requests\uff1a\u6211\u88c5 Python \u7684\u65f6\u5019\u597d\u50cf\u81ea\u5e26\u4e86\u4f46\u662f\u8fd9\u4f3c\u4e4e\u4e0d\u662f\u6807\u51c6\u5e93</li> <li>BeautifulSoup4\uff1a\u89e3\u6790 HTML \u7684\u5e93\uff0c\u6ce8\u610f\u4e0d\u8981\u5c1d\u8bd5\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5904\u7406 HTML\uff0c\u867d\u7136\u5c0f\u5b66\u671f\u53ef\u80fd\u4f1a\u8fd9\u6837\u505a\uff0c\u4f46\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u4e0d\u9002\u4e8e\u89e3\u51b3 HTML \u8fd9\u79cd\u683c\u5f0f</li> <li>fake_useragent\uff1a\u751f\u6210 User-Agent \u7684\u5e93</li> </ul> <p>\u5173\u4e8e fake_useragent</p> <p>\u8fd9\u4e2a\u5e93\u4f3c\u4e4e\u4f1a\u5c1d\u8bd5\u81ea\u52a8\u83b7\u53d6\u67d0\u4e9b\u5728\u7ebf\u8d44\u6e90\uff0c\u4f46\u662f\u597d\u50cf\u9700\u8981\u4ee3\u7406\uff0c\u5982\u679c\u4e0d\u80fd\u5f81\u7a0b\u8fd0\u884c\uff0c\u8bf7\u4e0b\u8f7d fake_useragent.json \u653e\u5728\u4e00\u4e2a\u4f60\u80fd\u627e\u5230\u7684\u5730\u65b9\uff0c\u6700\u597d\u653e\u5728\u6211\u4eec\u8981\u4f7f\u7528\u7684\u9879\u76ee\u6587\u4ef6\u7684\u76ee\u5f55\u4e0b</p> <p>\u5728\u4f7f\u7528\u65f6\u5e94\u5f53\u6dfb\u52a0\u53c2\u6570\u6307\u5b9a\u8d44\u6e90\u5730\u5740\u5982\u4e0b\uff1a</p> <pre><code>ua = UserAgent(path='./fake_useragent.json')\n</code></pre>"},{"location":"languages/python/crawler/#_3","title":"\u7f51\u7edc\u8bf7\u6c42","text":"<p>\u7ec8\u6781\u54f2\u5b66\u4e09\u5927\u95ee\uff08\u670d\u52a1\u5668\u89c6\u89d2\u4e0b\u7684\u7f51\u7edc\u8bf7\u6c42\uff09</p> <p>\u722c\u866b\u4e3a\u4e86\uff08\u81ea\u52a8\u5316\u5730\u3001\u5e38\u5e38\u8fd8\u9700\u8981\u662f\u9ad8\u901f\u5730\uff09\u83b7\u53d6\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u9996\u5148\u5e94\u5f53\u4e86\u89e3\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\u53d1\u751f\u4e86\u4ec0\u4e48\u3002\u901a\u5e38\u6765\u8bf4\u4e00\u6b21\u7f51\u7edc\u8bf7\u6c42\u7684\u4e3b\u8981\u5185\u5bb9\u5305\u62ec\uff1a</p> <ul> <li>\u4f60\u662f\u8c01\uff1aUser-Agent | Cookies</li> <li>\u4f60\u4ece\u54ea\u91cc\u6765\uff1aIP</li> <li>\u4f60\u6765\u8fd9\u91cc\u5e72\u4ec0\u4e48\uff1aMethod \u4e0e Parameter \uff08\u5982\u679c\u662f POST \u8bf7\u6c42\u7684\u8bdd\u8fd8\u4f1a\u6709\u66f4\u591a\u5185\u5bb9\uff0c\u4f46\u662f\u4f5c\u4e3a\u722c\u866b\u7684\u8bdd\u53ef\u4ee5\u7565\u5fae\u7b80\u5316\uff09</li> </ul> <p>\u5728\u8fd9\u4e00\u8fc7\u7a0b\u4e2d\u670d\u52a1\u5668\u53ef\u80fd\u9762\u4e34\u4e00\u4e9b\u653b\u51fb\uff08\u722c\u866b\u53ef\u80fd\u65e0\u610f\u95f4\u5bfc\u81f4\u8fd9\u6837\u7684\u95ee\u9898\uff09\uff1a</p> <ul> <li>DoS (Denial of Service) attack\uff1a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u901a\u8fc7\u6784\u9020\u5927\u91cf\u7684\uff08\u5c24\u5176\u662f\u7e41\u91cd\u7684\uff0c\u4e5f\u5c31\u662f CC \u653b\u51fb\uff09\u8bf7\u6c42\u4f7f\u5f97\u670d\u52a1\u5668\u201c\u5fd9\u4e0d\u8fc7\u6765\u201d\uff0c\u8ba9\u670d\u52a1\u5668\u65e0\u6cd5\u6b63\u5e38\u670d\u52a1\u3002</li> <li>DDoS (Distributed Denial of Service) attack\uff1a\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u5728 DoS \u653b\u51fb\u7684\u57fa\u7840\u4e0a\u6539\u4e3a\u591a\u4e2a\u5ba2\u6237\u7aef\uff08\u8089\u9e21 \u7528\u6237\uff09\u540c\u65f6\u5bf9\u76ee\u6807\u7f51\u7ad9\u53d1\u8d77\u5927\u91cf\u8bf7\u6c42\u3002</li> </ul> <p>\u5c3d\u7ba1\u8c08\u8bba\u653b\u51fb\u6709\u70b9\u9065\u8fdc\uff0c\u4f46\u662f\u4e0d\u59a8\u8003\u8651\u4ee5\u4e0b\u4e24\u4e2a\u60c5\u666f\uff1a</p> <ol> <li>\u5f53\u4f60\u51c6\u65f6\u5230\u8fbe\u67e5\u8be2\u9ad8\u8003\u6210\u7ee9\u65f6</li> <li>\u5f53\u4f60\u53cc\u5341\u4e00\u5348\u591c\u5341\u4e8c\u70b9\u4e0b\u5355\u65f6</li> </ol> <p>\u6240\u4ee5\u5199\u722c\u866b\u65f6\u5e94\u8be5\u5168\u529b\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff01</p> <p>\u7f51\u7edc\u6293\u5305\u57fa\u672c\u529f</p> <p>\u4e00\u7ebf\u4e3b\u64ad\u7684\u540d\u8a00</p> <p>\u6d4f\u89c8\u7f51\u9875\u7684\u672c\u8d28\u662f\u57fa\u4e8e HTTP \u534f\u8bae\u7684\u4e00\u6b21\u6216\u8005\u591a\u6b21\u7f51\u7edc\u8bf7\u6c42\uff0c\u8fd9\u4e9b\u8bf7\u6c42\u7528\u6237\u662f\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\u7684\uff0c\u6bd4\u5982\u6309\u4e0b F12 \u518d\u770b\u770b\u201c\u7f51\u7edc\u201d\u3002</p> <p>\u7f51\u7edc\u6293\u5305\u901a\u5e38\u6709\u5982\u4e0b\u7528\u9014\uff1a</p> <ol> <li>\u67e5\u770b\u771f\u6b63\u7684\u6570\u636e\u6765\u6e90\uff08\u5e38\u4e3a XHR\uff09</li> <li>\u67e5\u770b\u4e0b\u8f7d\u89c6\u9891\u7b49\u6570\u636e</li> <li>\u6a21\u62df\u8bf7\u6c42\u5b8c\u6210\u767b\u5f55</li> <li>\u6d4b\u8bd5\u7f51\u7ad9\u5b89\u5168\u6027</li> </ol> <p>\u5176\u5b9e\u5bf9\u4e8e\u5199\u722c\u866b\u6765\u8bf4\uff0c\u4e3b\u8981\u7528\u9014\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u662f\u627e\u5230\u6211\u4eec\u9700\u8981\u7684\u6570\u636e\u7684\u771f\u6b63\u6765\u6e90\uff08\u5f53\u7136\u5982\u679c\u4f7f\u7528 selenium \u7b49\u65b9\u6cd5\u52a0\u8f7d\u7f51\u9875\u5185\u5bb9\u53ef\u4ee5\u4e0d\u7528\u5206\u6790\u6570\u636e\u6765\u6e90\uff0c\u4f46\u662f\u8fd9\u6837\u663e\u7136\u6d88\u8017\u66f4\u591a\u8d44\u6e90\u4e14\u6162\uff09\uff0c\u7a0d\u540e\u6211\u4eec\u5c06\u4f1a\u770b\u5230\u8fd9\u4e00\u70b9\u3002</p>"},{"location":"languages/python/crawler/#_4","title":"\u722c\u866b\u521d\u6b65","text":"<p>\u4f55\u4e3a\u722c &amp; \u4e3a\u4f55\u722c</p> <p>\u8fd9\u4e2a\u60f3\u5fc5\u5927\u5bb6\u90fd\u662f\u61c2\u7684\uff0c\u5199\u722c\u866b\u5f52\u6839\u7ed3\u5e95\u8fd8\u662f\u4e3a\u4e86\u66ff\u4ee3\u4eba\u5de5\u8fdb\u884c\u91cd\u590d\u5927\u91cf\u7684\u64cd\u4f5c\uff0c\u5982\u679c\u975e\u5e38\u4e0d\u719f\u6089\u722c\u866b\u8fd9\u79cd\u7a0b\u5e8f\u53ef\u4ee5\u53bb\u770b rls \u7684\u8bfe\u3002</p> <p>\u5b70\u53ef\u722c</p> <p>\u8fd9\u90e8\u5206\u662f\u6211\u4eec\u6700\u91cd\u8981\u7684\u80cc\u666f\u77e5\u8bc6\uff0c\u722c\u7f51\u7ad9\u4e4b\u524d\u8bf7\u52a1\u5fc5\u5173\u6ce8 <code>robots.txt</code>\uff08\u5373\u57df\u540d\u540e\u63a5 <code>/robots.txt</code>\uff0c\u8981\u6ce8\u610f\u5b50\u57df\u540d\u7684\u8981\u6c42\u672a\u5fc5\u548c\u4e3b\u57df\u540d\u4e00\u6837\uff0c\u5207\u4e0d\u53ef\u770b\u5230\u4e3b\u57df\u540d\u53ef\u4ee5\u722c\u5c31\u968f\u4fbf\u641e\uff09\uff0c\u8fd9\u662f\u7f51\u7ad9\u4e0e\u722c\u866b\u4e4b\u95f4\u7684\u201c\u541b\u5b50\u534f\u8bae\u201d\uff0c\u6b64\u5904\u89c4\u5b9a\u4e86\u4ec0\u4e48\u53ef\u722c\u4ec0\u4e48\u4e0d\u53ef\u722c\uff0c\u4e0b\u9762\u662f\u51e0\u4e2a\u4f8b\u5b50\u3002</p> <ul> <li>\u767e\u5ea6</li> </ul> <pre><code>User-agent: Baiduspider\nDisallow: /baidu\nDisallow: /s?\nDisallow: /ulink?\nDisallow: /link?\nDisallow: /home/news/data/\nDisallow: /bh\n\nUser-agent: Googlebot\nDisallow: /baidu\nDisallow: /s?\nDisallow: /shifen/\nDisallow: /homepage/\nDisallow: /cpro\nDisallow: /ulink?\nDisallow: /link?\nDisallow: /home/news/data/\nDisallow: /bh\n\n# \u4e2d\u95f4\u7565\u53bb\u82e5\u5e72\u5185\u5bb9\n\nUser-agent: *\nDisallow: /\n</code></pre> <p>\u89e3\u8bfb\uff1a\u9664\u4e86\u6211\u94a6\u70b9\u7684\u722c\u866b\u4e4b\u5916\uff0c\u5176\u4ed6\u62d2\u4e0d\u63a5\u5f85\u3002</p> <ul> <li>\u6dd8\u5b9d / \u5929\u732b</li> </ul> <pre><code>User-agent: *\nDisallow: /\n</code></pre> <p>\u89e3\u8bfb\uff1a\u83ab\u6328\u8001\u5b50\u3002</p> <ul> <li>\u864e\u6251</li> </ul> <p>\u6ce8\u610f\u8fd9\u91cc\u5c31\u51fa\u73b0\u4e86\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u8fc7\u7684\u95ee\u9898\uff0chttps://www.hupu.com/robots.txt \u5982\u4e0b\uff1a</p> <pre><code>User-agent: *\nAllow: /\n\nSitemap: https://bbs.hupu.com/sitemap_index.xml\nSitemap: https://bbs.hupu.com/sitemap/sitemap_boards.xml\nSitemap: https://voice.hupu.com/sitemap_index.xml\nSitemap: https://nba.hupu.com/players/index.xml\n</code></pre> <p>\u89e3\u8bfb\uff1a\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u4efb\u610f\u722c\uff0c\u8fd8\u63d0\u4f9b\u4e86\u7ad9\u70b9\u5730\u56fe\u4f9b\u53c2\u8003\u3002</p> <p>\u4f46\u662f https://bbs.hupu.com/robots.txt \u5219\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>User-agent: *\nRequest-rate: 50/1\nDisallow: /api/\nDisallow: /ajax/\nDisallow: /profile.php?*\nDisallow: /hack/\nDisallow: /template/\nDisallow: /attachment/\nDisallow: /gearfeedback/\nDisallow: /*_*.html$\n\nSitemap: https://bbs.hupu.com/sitemap_index.xml\nSitemap: https://bbs.hupu.com/sitemap/sitemap_boards.xml\n</code></pre> <p>\u89e3\u8bfb\uff1a\u6cd5\u65e0\u7981\u6b62\u7686\u53ef\u4e3a\uff0c\u4f46\u662f\u901f\u5ea6\u4e0d\u8d85\u8fc7 50 \u6b21\u6bcf\u79d2\uff08\u6ce8\u610f\u4e0d\u540c\u7684\u722c\u866b\u5176\u5b9e\u5bf9\u4e8e\u4e00\u6b21\u722c\u53d6\u7684\u7406\u89e3\u662f\u4e0d\u540c\u7684\uff0c\u4f46\u662f\u8fd9\u662f\u541b\u5b50\u534f\u8bae\uff0c\u6240\u4ee5\u5bf9\u4e8e\u6211\u4eec\u81ea\u5df1\u5199\u7684\u722c\u866b\u4e5f\u6ca1\u6709\u5fc5\u8981\u90a3\u4e48\u7ea0\u7ed3\uff0c\u5982\u679c\u8981\u4ed4\u7ec6\u8003\u8651\u7684\u8bdd\uff0c\u53ef\u4ee5\u7814\u7a76\u4e00\u4e0b\u4e0d\u540c\u641c\u7d22\u5f15\u64ce\u7684\u722c\u866b\u5bf9\u4e8e\u8fd9\u4e00\u95ee\u9898\u7684\u7406\u89e3\uff0c\u53ef\u4ee5\u53c2\u8003 \u77e5\u4e4e\u7684 robots.txt \u4ee5\u53ca \u76f8\u5173\u63d0\u95ee\uff09\u3002</p> <p>\u867d\u7136\u864e\u6251\u793e\u533a\u6bd4\u4e3b\u7ad9\u591a\u4e86\u4e00\u4e9b\u9650\u5236\uff0c\u4f46\u662f\u6211\u4eec\u770b\u5230\u8fd9\u4ecd\u7136\u662f\u9650\u5236\u6700\u5c11\u7684\uff08\u867d\u7136\u9650\u5236 <code>*_*.html$</code> \u4f46\u662f\u65b0\u95fb\u9875\u5e76\u4e0d\u662f\u8fd9\u6837\uff0c\u800c\u4e14 50 \u6b21\u6bcf\u79d2\u5176\u5b9e\u4e5f\u4e0d\u5c11\uff09\uff0c\u52a0\u4e0a \u4f17\u6240\u5468\u77e5\u7684\u539f\u56e0 \u864e\u6251\u524d\u4e24\u5929\u5f88\u51fa\u5708\uff08\u81f3\u5c11\u5728\u6211\u5199\u6587\u6863\u7684\u65f6\u5019\u662f\u8fd9\u6837\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u4e3b\u8981\u722c\u53d6\u864e\u6251\u7684\u4f53\u80b2\u65b0\u95fb\u4f5c\u4e3a\u6f14\u793a\u3002</p> <p>\u5982\u4f55\u722c</p> <p>\u7406\u60f3\u4e2d\u7684\u9ad8\u6027\u80fd\u722c\u866b\u67b6\u6784\uff1a</p> <p></p> <p>\u672c\u6587\u7528\u7684\u5165\u95e8\u7248\u722c\u866b\u67b6\u6784\uff1a</p> <p></p>"},{"location":"languages/python/crawler/#_5","title":"\u722c\u866b\u5b9e\u6218","text":"<p>\u81ea\u5b66\u5185\u5bb9</p> <p>\u73af\u5883\u914d\u7f6e\u4e2d\u5199\u4e86\u6700\u91cd\u8981\u7684\u5de5\u5177\uff0c\u4e0b\u9762\u8fd8\u6709\u4e9b\u53ef\u80fd\u4f1a\u7528\u5230\u7684\u81ea\u5b66\u5185\u5bb9\uff1a</p> <ul> <li>js2py\uff1a\u5728 Python \u4e2d\u6267\u884c JavaScript \u811a\u672c</li> <li>pyppeteer\uff1a\u901a\u8fc7 headless \u7684\u65b9\u6cd5\u76f4\u63a5\u6e32\u67d3\u7f51\u9875</li> <li>selenium\uff1a\u63a7\u5236\u6d4f\u89c8\u5668\u8fdb\u884c\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u5de5\u5177</li> <li>requests.Session\uff1a\u4fdd\u5b58\u4f1a\u8bdd\uff0c\u9002\u7528\u4e8e\u9700\u8981 Cookie \u7684\u573a\u666f</li> <li>requests \u6dfb\u52a0\u4ee3\u7406 IP</li> <li>scrapy\uff1a\u771f\u6b63\u7684\u9ad8\u6027\u80fd\u722c\u866b\u6846\u67b6</li> </ul> <p>\u722c\u53d6\u6f14\u793a</p> <p>\u4ee5\u722c\u53d6 \u864e\u6251\u67d0\u677f\u5757\u65b0\u95fb\u5217\u8868 \u4e3a\u4f8b\uff1a</p> <ul> <li>\u5f15\u5165\u5fc5\u8981\u7684\u5e93</li> </ul> <pre><code>from requests import get, post\nfrom bs4 import BeautifulSoup\nfrom fake_useragent import UserAgent\nfrom urllib.request import urljoin\nfrom json import dump\nfrom time import sleep # \u5982\u679c\u7f51\u7ad9\u8981\u6c42\u4ee5\u5f88\u4f4e\u7684\u9891\u7387\u722c\uff0c\u90a3\u4e48\u5927\u6982\u7387\u4f1a\u9700\u8981 sleep\n</code></pre> <ul> <li>Cookie?</li> </ul> <p>\u5982\u679c\u4f60\u70b9\u5f00\u4e86\u524d\u9762\u90a3\u4e2a\u94fe\u63a5\uff08\u800c\u4e14\u4f60\u6700\u8fd1\u6ca1\u6709\u770b\u8fc7\u864e\u6251\u7684\u8bdd\uff09\uff0c\u4f60\u5927\u6982\u7387\u4f1a\u53d1\u73b0\u62a5\u4e86\u4e2a\u9519\uff0c\u4e0d\u8981\u6000\u7591\uff0c\u6211\u6ca1\u6709\u5199\u9519 URL\uff0c\u9020\u6210\u8fd9\u6837\u95ee\u9898\u7684\u539f\u56e0\u5927\u6982\u662f\u864e\u6251\u5728\u5207\u6362\u65b0\u65e7\u7248\u9762\uff0c\u76f4\u63a5\u70b9\u8fdb\u53bb\u4f1a\u83ab\u540d\u88ab\u8f6c\u5165\u65e7\u7248\u7684\u9875\u9762\uff0c\u800c\u65e7\u7248\u9875\u9762\u7684 URL \u5927\u6982\u4e0d\u662f\u8fd9\u6837\u5199\u7684\u3002</p> <p>\u90a3\u4e48\u8fd9\u5c31\u8981\u63d0\u5230\u4e4b\u524d\u7684\u4e00\u4e2a\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u201c\u4f60\u662f\u8c01\u201d\u7684\u95ee\u9898\uff0c\u864e\u6251\u4f1a\u6839\u636e Cookie \u6765\u5224\u65ad\u4f60\u662f\u5426\u5df2\u7ecf\u8fdb\u5165\u4e86\u65b0\u7248\u9875\u9762\uff0c\u800c\u8fd9\u4e2a Cookie \u663e\u7136\u662f\u5728\u9996\u9875\u88ab\u8bbe\u7f6e\u7684\uff0c\u56e0\u6b64\u76f4\u63a5\u8bbf\u95ee\u8fd9\u4e00\u677f\u5757\u662f\u884c\u4e0d\u901a\u7684\u3002</p> <p>\u4ece\u6d4f\u89c8\u5668\u4e2d\u83b7\u53d6 Cookie \u4fe1\u606f\u5982\u4e0b\uff08\u56e0\u4e3a\u5185\u5bb9\u592a\u957f\u6240\u4ee5\u6211\u4eec\u76f4\u63a5\u4fdd\u5b58\u5728 Python \u53d8\u91cf\u4e2d\uff09\uff1a</p> <pre><code>Cookie = 'smidV2=20210720104859f6c99288e1bccb891e9ca9ce9d7bb6fe0055f24f4e677eec0; csrfToken=iGeSrk669wqQBcY5fKk2Diue; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217ac1d102691c24-05465c49cc1a3d8-3e62684b-1296000-17ac1d1026a2685%22%2C%22%24device_id%22%3A%2217ac1d102691c24-05465c49cc1a3d8-3e62684b-1296000-17ac1d1026a2685%22%2C%22props%22%3A%7B%22%24latest_referrer%22%3A%22%22%2C%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%7D%7D; acw_tc=2f624a6816268527794733860e071fa5c73b1f702b456ad494e04ecfb5dc53; bbs_2020=1'\n</code></pre> <ul> <li>\u83b7\u53d6\u5e76\u89e3\u6790\u65b0\u95fb\u5217\u8868\u9875</li> </ul> <p>\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u864e\u6251\u7684\u65b0\u95fb\u5217\u8868\u9875 URL \u5927\u81f4\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> <pre><code>https://bbs.hupu.com/502-{PAGE}\n</code></pre> <p>\u6ce8\u610f\u5230\u5176\u4e2d\u6bcf\u4e00\u9879\u7684\u683c\u5f0f\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>&lt;a href=\"/44314069.html\" target=\"_blank\" class=\"p-title\"&gt;[\u6d41\u8a00\u677f]\u5b57\u6bcd\u54e5\uff1a\u8981\u76f8\u4fe1\uff01\u6211\u66fe\u7ecf\u4e0a\u987f\u4e0d\u63a5\u4e0b\u987f\uff0c\u5982\u4eca\u6211\u662f\u51a0\u519b&lt;/a&gt;\n</code></pre> <p>\u90a3\u4e48\u5047\u5982\u6211\u4eec\u83b7\u53d6\u524d 10 \u9875\u7684\u65b0\u95fb\u8be6\u60c5\u94fe\u63a5\uff1a</p> <pre><code>url = 'https://bbs.hupu.com/'\nnews_list = []\n\nfor i in range(1, 11):\n    response = get(f'https://bbs.hupu.com/502-{i}', headers={'Cookie': Cookie})\n    soup = BeautifulSoup(response.content.decode('utf-8'), 'lxml')\n    news = soup.find_all('a', class_='p-title')\n    for n in news:\n        news_list.append(urljoin(url, n.get('href')))\n    sleep(0.02) # \u6309\u7167 robots.txt \u8981\u6c42\u4f11\u606f 1/50 \u79d2\n</code></pre> <ul> <li>\u83b7\u53d6\u5e76\u89e3\u6790\u65b0\u95fb\u8be6\u60c5</li> </ul> <p>\u66f4\u597d\u7684\u505a\u6cd5\u662f\u8fd9\u91cc\u5199\u4e00\u4e2a\u7c7b\uff0c\u4f46\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u5199\u5165\u6587\u4ef6\u53c8\u6d89\u53ca\u5230\u8bb8\u591a\u95ee\u9898\uff0c\u6240\u4ee5\u6211\u4eec\u7b80\u5355\u7684\u7528\u5b57\u5178\u8868\u793a\uff0c\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u83b7\u53d6\u5e76\u89e3\u6790\u7f51\u9875\uff1a</p> <pre><code>news_content = []\n\nfor news_url in news_list:\n    response = get(news_url, headers={'Cookie': Cookie})\n    soup = BeautifulSoup(response.content.decode('utf-8'), 'lxml')\n    title = soup.find('h1', class_='name').text.strip()\n    content = soup.find('div', class_='thread-content-detail').text.strip().replace('\\r', '\\n')\n    news_content.append({\n        'url': news_url,\n        'title': title,\n        'content': content\n    })\n    sleep(0.02)\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u83b7\u53d6\u7684\u5185\u5bb9\u4fdd\u5b58\u4e3a JSON\uff1a</p> <pre><code>dump(news_content, open('./hupu.json', 'w'), ensure_ascii=False)\n</code></pre> <p>\u5173\u4e8e\u53cd\u722c</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u6f14\u793a\u4e00\u4e2a\u7cdf\u7cd5\u7684\u53cd\u722c\u793a\u4f8b\uff0c\u5317\u4eac\u536b\u5065\u59d4 \u7f51\u7ad9\u3002</p> <p>\u5982\u679c\u6211\u4eec\u76f4\u63a5\u6267\u884c\uff1a</p> <pre><code>response = get('http://wjw.beijing.gov.cn/')\n</code></pre> <p>\u6211\u4eec\u4f1a\u53d1\u73b0 <code>response.text</code> \u5f88\u4e0d\u5bf9\u52b2\uff0c\u800c\u4e14\u5176\u4e2d\u6bd4\u8f83\u660e\u663e\u80fd\u770b\u5230\u7684\u662f\uff08\u5f53\u7136\u6211\u7ecf\u8fc7\u4e86\u683c\u5f0f\u5316\uff09\uff1a</p> <pre><code>&lt;div id='notice-jiasule'&gt;\n  &lt;p&gt;\u5f53\u524d\u7f51\u5740\uff1a&lt;%- url %&gt;&lt;/p&gt;\n  &lt;p&gt;\u5ba2\u6237\u7aef\u7279\u5f81\uff1a&lt;%- user_agent %&gt;&lt;/p&gt;\n  &lt;p&gt;\u62e6\u622a\u65f6\u95f4\uff1a&lt;%- now %&gt;&amp;nbsp;&amp;nbsp;\u672c\u6b21\u4e8b\u4ef6ID&amp;nbsp;&lt;%- rule_id %&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre> <p>\u8fd8\u6709\u4e0b\u9762\u7684\uff1a</p> <pre><code>var content = _.template(document.getElementById('content_tpl').innerHTML)({\n    error_403: '' || '\u5f53\u524d\u8bbf\u95ee\u7591\u4f3c\u9ed1\u5ba2\u653b\u51fb\uff0c\u5df2\u88ab\u7f51\u7ad9\u7ba1\u7406\u5458\u8bbe\u7f6e\u4e3a\u62e6\u622a',\n    url: document.URL.replace(/\\&lt;/g,\"%3C\").replace(/\\&gt;/g,\"%3E\"),\n    user_agent: navigator.userAgent,\n    now: new Date(new Date() - -8 * 3600000).toISOString().substr(0, 19).replace('T', ' '),\n    rule_id: parseInt('[80001]'.replace(/\\[|\\]/g, '')) || '',\n    from: encodeURIComponent(document.referrer.substr(0, 1024)),\n    client_ip: '59.66.16.88',\n    ref: encodeURIComponent(document.URL.substr(0, 1024))\n});\n</code></pre> <p>\u4e0d\u96be\u53d1\u73b0\u8fd9\u4e2a\u7f51\u7ad9\u6240\u6258\u7ba1\u7684\u201c\u521b\u5b87\u4e91\u9632\u5fa1\u201d\u5c4f\u853d\u4e86\u6211\u4eec\u7684\u8bbf\u95ee\uff0c\u800c\u5f15\u8d77\u8fd9\u4e00\u95ee\u9898\u7684\u539f\u56e0\uff0c\u6211\u4eec\u53ef\u4ee5\u67e5\u770b\uff1a</p> <pre><code>&gt;&gt;&gt; response.request.headers\n{'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}\n</code></pre> <p>\u5176\u4e2d\u663e\u7136\u6709\u4e00\u6761 <code>'User-Agent': 'python-requests/2.25.1'</code>\uff0c\u4e0d\u6253\u81ea\u62db\u7684\u722c\u866b\u884c\u4e3a\uff0c\u88ab\u5c4f\u853d\u4e5f\u5e76\u4e0d\u5947\u602a\uff08\u9898\u5916\u8bdd\uff0c\u8fd9\u4e2a\u7f51\u7ad9\u5e76\u6ca1\u6709\u8bbe\u7f6e <code>robots.txt</code>\uff0c\u56e0\u6b64\u53cc\u65b9\u90fd\u5f88\u96be\u8bf4\u8c01\u5bf9\u8c01\u9519\uff09\u3002\u597d\u5728\u73b0\u5728\u8fd9\u4e2a\u7f51\u7ad9\u4e0d\u50cf\u53bb\u5e74\u4e00\u6837\u4f1a\u5c01 IP \u5730\u5740\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u6f14\u793a\u9519\u8bef\u793a\u4f8b\u3002</p> <p>\u6211\u4eec\u5f53\u7136\u53ef\u4ee5\u6a21\u4eff\u524d\u9762\u7684\u505a\u6cd5\uff0c\u4ece\u6d4f\u89c8\u5668\u4e2d\u6284\u4e00\u4e2a User-Agent \u8fc7\u6765\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u5feb\u901f\u722c\u5f88\u591a\u4e1c\u897f\uff0c\u6700\u597d\u8fd8\u662f\u6bcf\u6b21\u6362\u4e00\u4e2a\u65b0\u7684 User-Agent \u51cf\u5c11\u88ab\u5f53\u4f5c\u540c\u4e00\u4e2a\u7528\u6237\u7684\u6982\u7387\uff0c\u56e0\u6b64\u6211\u4eec\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\uff1a</p> <pre><code>ua = UserAgent(path='./fake_useragent.json')\nresponse = get('http://wjw.beijing.gov.cn/', headers={'User-Agent': ua.random})\n# \u6ca1\u9519\uff0cua.random \u867d\u7136\u662f\u6210\u5458\u53d8\u91cf\uff0c\u4f46\u662f\u6bcf\u6b21\u4f7f\u7528\u7684\u65f6\u5019\u4f1a\u6539\u53d8\u81ea\u5df1\uff0c\u800c\u4e0d\u662f\u7528\u6237\u8c03\u7528\u4e00\u4e2a\u7c7b\u4f3c\u4e8e ua.random() \u7684\u51fd\u6570\u624d\u4f1a\u6539\u53d8\n</code></pre> <p>\u9664\u6b64\u4e4b\u5916\u53ef\u80fd\u8fd8\u4f1a\u9700\u8981\u4f7f\u7528\u4ee3\u7406 IP\uff0c\u5982\u4f55\u83b7\u53d6\u4ee3\u7406\u5730\u5740\u8bf7\u81ea\u5b66\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>proxies = {\n    \"http\": \"http://10.10.1.10:3128\",\n    \"https\": \"http://10.10.1.10:1080\",\n}\nrequests.get(\"http://example.org\", proxies=proxies)\n</code></pre> <p>\u4f7f\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u5f88\u591a\u53cd\u722c\u7684\u7cfb\u7edf\uff08\u5f53\u7136\u5982\u679c\u68c0\u67e5 Cookie \u5927\u6982\u4f1a\u5f88\u7cdf\u7cd5\uff0c\u53ef\u80fd\u9700\u8981\u4f7f\u7528 Session \u6765\u89e3\u51b3\uff0c\u50cf\u4e0a\u8ff0\u76f4\u63a5\u8bbe\u7f6e Cookie \u5b9e\u9645\u4e0a\u5e76\u4e0d\u5f88\u901a\u7528\uff0c\u5728\u6b64\u4e0d\u505a\u5f88\u5177\u4f53\u7684\u8bf4\u660e\uff09\uff0c\u4f46\u662f\u8fd8\u6709\u66f4\u591a\u7684\u60c5\u51b5\u53ef\u80fd\u771f\u5b9e\u7684\u6570\u636e\u5e76\u4e0d\u80fd\u8f7b\u6613\u83b7\u53d6\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u8981\u5584\u7528\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u5de5\u5177\u5ba1\u67e5\u6240\u6709\u7684\u7f51\u7edc\u8bf7\u6c42\u3002</p>"},{"location":"languages/python/crawler/#_6","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>2021 \u79d1\u534f\u6691\u57f9 https://www.xuetangx.com/course/THUSAST08091234567890/8571842?channel=i.area.manual_search</li> </ul>"},{"location":"languages/python/pip/","title":"Python \u5305\u7ba1\u7406","text":""},{"location":"languages/python/pip/#python","title":"Python \u5305\u7ba1\u7406","text":""},{"location":"languages/python/pip/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u4f60\u6240\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u5e38\u7528\u547d\u4ee4\u884c\u64cd\u4f5c</li> <li>\u77e5\u9053 Python \u662f\u4ec0\u4e48\uff0c\u4ee5\u53ca Python \u5982\u4f55\u542f\u52a8</li> <li>\u77e5\u9053 Python \u53ef\u4ee5\u5b89\u88c5\u4e0d\u540c\u7684\u7b2c\u4e09\u65b9\u5e93</li> </ul>"},{"location":"languages/python/pip/#_2","title":"\u5b89\u88c5\u5305\u7ba1\u7406\u5de5\u5177","text":"<p>pip</p> <p>pip \u662f\u7528\u4e8e\u7ba1\u7406 Python \u5e93\u7684\u5de5\u5177\uff0c\u4f46\u662f\u5b89\u88c5 Python \u65f6\u4e00\u822c\u5e76\u4e0d\u4f1a\u81ea\u52a8\u5b89\u88c5 pip\uff0c\u56e0\u6b64\u4f60\u770b\u9700\u8981\u624b\u52a8\u5b89\u88c5\u3002</p> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528\u5305\u7ba1\u7406\u5668\u5b89\u88c5 <code>python3-pip</code> \u6765\u5b89\u88c5 pip\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b98\u65b9\u811a\u672c\uff1a</p> <pre><code>curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\npython3 get-pip.py # \u6ce8\u610f\u8fd9\u4e2a\u5730\u65b9\u4f7f\u7528\u4ec0\u4e48\u7248\u672c\u7684 Python \u5c31\u4f1a\u5b89\u88c5\u4ec0\u4e48\u7248\u672c\u7684 pip\n</code></pre> <p>Conda</p> <p>\u5c3d\u7ba1\u5728\u524d\u6587\u4e2d\u6211\u4eec\u5df2\u7ecf\u8bb2\u8fc7\u5982\u4f55\u5b89\u88c5 Python \u89e3\u91ca\u5668\uff0c\u4f46\u662f\u5728\u9700\u8981\u590d\u6742\u7684\u73af\u5883\u7ba1\u7406\uff08\u6216\u8005\u60f3\u8981\u66f4\u7b80\u5355\u5730\u5b89\u88c5\uff09\u65f6\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u7528\u5230 Anaconda \u6216\u7cbe\u7b80\u7248 Miniconda\u3002Anaconda \u672c\u2f9d\u2f83\u5e26\u4e86 UI \u4ee5\u53ca\u2f00\u5806\u5305\uff0c\u4f53\u79ef\u5e9e\u2f24\uff0c\u5982\u679c\u4f60\u6709\u5174\u8da3\u53ef\u4ee5\u9009\u62e9\u5b89\u88c5\u5b83\uff0c\u6b64\u5904\u6211\u8981\u8bb2\u7684\u662f\u5b83\u7684\u7cbe\u7b80\u7248 Miniconda\uff0c\u5220\u6389\u4e86\u2f24\u91cf\u9884\u88c5\u5305\uff0c\u7559\u4e0b\u4e86\u5c11\u6570\u5305\u4e0e\u7ba1\u7406\u90e8\u5206\u3002\u4e0b\u2faf\u7684\u6559\u7a0b\u9488\u5bf9 Miniconda \u800c\u2f94\uff0c\u5982\u679c\u4f60\u9009\u62e9\u5b89\u88c5 Anaconda \u540c\u6837\u53ef\u4ee5\u53c2\u8003\u4e0b\u2faf\u7684\u6559\u7a0b\uff0c\u56e0\u4e3a Miniconda \u7684\u529f\u80fd\u662f\u5b83\u7684\u2f26\u96c6\uff0c\u5c11\u4e86\u56fe\u5f62\u754c\u2faf\u4e0e\u2f00\u4e9b\u9884\u88c5\u5305\u3002</p> <p>\u4e0b\u8f7d\u6211\u63a8\u8350\u2f64 TUNA \u6e90\uff0c\u2fbc\u6548\u4fbf\u5229\uff1a</p> <ul> <li>Miniconda3-py39_4.9.2-Windows-x86_64.exe\uff1aMiniconda for Windows</li> <li>Miniconda3-py39_4.9.2-MacOSX-x86_64.sh\uff1aMiniconda for Mac</li> <li>Miniconda3-py39_4.9.2-Linux-x86_64.sh\uff1aMiniconda for Linux</li> <li>Anaconda3-2021.05-Windows-x86_64.exe\uff1aAnaconda for Windows</li> <li>Anaconda3-2021.05-MacOSX-x86_64.sh\uff1aAnaconda for Mac</li> <li>Anaconda3-2021.05-Linux-x86_64.sh\uff1aAnaconda for Linux</li> </ul> <p>\u6ce8\u610f\u8fd9\u91cc\u7684 Mac \u53ea\u6709 x86_64 \u7248\u672c\uff0c\u4f7f\u7528 M1 Mac \u7684\u540c\u5b66\u6682\u65f6\u65e0\u6cd5\u5b89\u88c5 Conda\u3002</p>"},{"location":"languages/python/pip/#_3","title":"\u6362\u6e90","text":"<p>\u5982\u679c\u7528\u8fc7\u5176\u4ed6\u4efb\u4f55\u4e00\u79cd\u5305\u7ba1\u7406\u5668\u7684\u8bdd\uff0c\u60f3\u5fc5\u5df2\u7ecf\u719f\u6089\u4e86\u6362\u6e90\u8fd9\u4e2a\u8bdd\u9898\uff0c\u5373\u4f7f\u6ca1\u6709\u53d7\u5230 \u4f17\u6240\u5468\u77e5 \u795e\u79d8\u539f\u56e0\u5f71\u54cd\u7684\u6e90\u670d\u52a1\u5668\uff0c\u4ecd\u7136\u53d7\u5230\u8ddd\u79bb\u539f\u56e0\u7684\u5f71\u54cd\uff0c\u6548\u679c\u6ca1\u6709\u90a3\u4e48\u7406\u60f3\u3002\u8fd9\u91cc\u5efa\u8bae\u4f7f\u7528\u7531 TUNA \u534f\u4f1a\u7ef4\u62a4\u7684 TUNA \u6e90\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u952e\u914d\u7f6e\u811a\u672c oh-my-tuna \uff1a</p> <pre><code>wget https://tuna.moe/oh-my-tuna/oh-my-tuna.py\npython3 oh-my-tuna.py\n</code></pre> <p>\u987a\u5229\u7684\u8bdd\uff0c\u4f60\u5c06\u770b\u5230\u7c7b\u4f3c\u5982\u4e0b\u7684\u8f93\u51fa\uff1a</p> <pre><code>[pypi]: Activating...\n[pypi]: Mirror has been activated\n[Anaconda]: Activating...\n[Anaconda]: Mirror has been activated\n</code></pre> <p>\u518d\u6267\u2f8f\uff08\u5982\u679c\u4f7f\u7528 pip\uff09\uff1a</p> <pre><code>pip config list\n</code></pre> <p>\u8fd9\u5c06\u5f97\u5230\uff08\u6216\u5305\u542b\uff09\u5982\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>global.index-url='https://pypi.tuna.tsinghua.edu.cn/simple'\n</code></pre> <p>\u6216\u8005\u518d\u6267\u2f8f\uff08\u5982\u679c\u4f7f\u7528 Conda\uff09\uff1a</p> <pre><code>conda config --show-sources\n</code></pre> <p>\u8fd9\u5c06\u5f97\u5230\uff08\u6216\u5305\u542b\uff09\u5982\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>channels:\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n- defaults\n</code></pre> <p>\u8fd9\u5206\u522b\u8868\u660e\u4f60\u7684 pip \u548c Conda \u5df2\u7ecf\u6210\u529f\u8bbe\u7f6e\u6210\u4e86 TUNA \u6e90\u3002</p> <p>\u5982\u679c\u5728 Windows \u4e0a\u8fd0\u884c\u9047\u5230\u95ee\u9898</p> <p>\u622a\u6b62\u5199\u8fd9\u53e5\u8bdd\u7684\u65f6\u5019 oh-my-tuna \u8fd8\u6709\u4e2a\u5c0f\u95ee\u9898\u6ca1\u6709\u4fee\uff0c\u5728 Windows \u4e0a\u5c1d\u8bd5\u5224\u65ad\u7cfb\u7edf\u7c7b\u578b\u7684\u65f6\u5019\u53ef\u80fd\u5f15\u53d1\u4e00\u4e2a\u672a\u88ab\u5904\u7406\u7684 exception\uff0c\u4ece\u800c\u5bfc\u81f4\u811a\u672c\u9000\u51fa\uff0c\u4f5c\u4e3a\u4e00\u79cd\u4e34\u65f6\u7684\u4fee\u8865\u65b9\u6848\uff0c\u4f60\u53ef\u4ee5\u5c06 622 \u884c\u6539\u4e3a <code>if uname is None or any(map(lambda x: x in uname, no_suffix_list)):</code> \u540e\u91cd\u65b0\u8fd0\u884c\u8be5\u811a\u672c\u3002</p>"},{"location":"languages/python/pip/#_4","title":"\u5b89\u88c5\u548c\u5378\u8f7d\u7b2c\u4e09\u65b9\u5e93","text":"<p>\u4f7f\u7528 pip \u6216 Conda \u53ef\u4ee5\u8f7b\u677e\u5730\u7ba1\u7406\u672c\u5730\u7684 Python \u5305\uff0c\u4f8b\u5982\u5b89\u88c5\u722c\u866b\u5e38\u7528\u7684 BeautifulSoup4 \u5e93\u5982\u4e0b\uff1a</p> <pre><code>pip install BeautifulSoup4\nconda install BeautifulSoup4\n</code></pre> <p>\u800c\u5378\u8f7d\u53ea\u9700\uff1a</p> <pre><code>pip uninstall BeautifulSoup4\nconda remove BeautifulSoup4\n</code></pre> <p>\u4f7f\u7528 IPython</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u65e0\u5173\u7d27\u8981\u4f46\u662f\u4f1a\u8ba9\u4f60\u5f88\u723d\u7684\u5efa\u8bae\uff0c\u5728\u4f7f\u7528\u4ea4\u4e92\u5f0f\u7a97\u53e3\u65f6\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 IPython \u4ee3\u66ff\u539f\u751f\u7684 Python \u89e3\u91ca\u5668\u3002\u76f8\u8f83\u4e8e\u672c\u5730\u7684 Python Shell\uff0cIPython \u63d0\u4f9b\u4e86\u66f4\u4e3a\u5f3a\u5927\u7684\u7f16\u8f91\u548c\u4ea4\u4e92\u529f\u80fd\uff08\u5982\u679c\u4f60\u7528 Pycharm \u7684\u8bdd\u4f1a\u5f97\u5230\u66f4\u597d\u7684\u4f53\u9a8c\uff09\uff0c\u6211\u4eec\u4f7f\u7528 pip \u6765\u5b89\u88c5 IPython\uff1a</p> <pre><code>pip install ipython\nconda install ipython\n</code></pre> <p>\u7136\u540e\u6267\u884c\uff1a</p> <pre><code>ipython\n</code></pre> <p>\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u66f4\u53cb\u597d\u7684 Python \u4ea4\u4e92\u5f0f\u7a97\u53e3\uff0c\u540c\u65f6 IPython \u652f\u6301\u4e00\u4e9b Shell \u547d\u4ee4\uff0c\u5982 <code>cd</code>\u3001<code>ls</code> \u7b49\uff08\u975e\u5185\u7f6e\u7684 Shell \u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7\u524d\u9762\u52a0 <code>!</code> \u8f6c\u4e49\uff0c IPython \u5c06\u4f1a\u4f7f\u7528\u539f\u751f\u7684 Shell \u6267\u884c\u8fd9\u4e00\u884c\u547d\u4ee4\uff09\uff0c\u8fd9\u76f8\u6bd4\u4e8e\u901a\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528 <code>os.listdir()</code> \u663e\u7136\u4f1a\u65b9\u4fbf\u4e00\u4e9b\uff0c\u800c\u9000\u51fa IPython \u4e5f\u53ea\u9700\u8981 <code>exit</code> \uff08\u800c\u4e0d\u662f <code>exit()</code> \uff09\u3002</p>"},{"location":"languages/python/pip/#_5","title":"\u865a\u62df\u73af\u5883","text":"<p>\u6709\u4e9b\u65f6\u5019\u6211\u4eec\u53ef\u80fd\u5728\u4e0d\u540c\u7684\u573a\u5408\u9700\u8981\u4e0d\u540c\u7684\u4e00\u4e9b\u5e93\uff0c\u800c\u8fd9\u4e9b\u5e93\u4e4b\u95f4\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u517c\u5bb9\u6027\uff0c\u6216\u8005\u6709\u4e9b\u65f6\u5019\u6211\u4eec\u4f1a \u9700\u8981\u4f7f\u7528\u65e7\u7248\u7684\u7279\u6027 \u6ca1\u6709\u9002\u914d\u65b0\u7248\u672c\u7684 Python\uff0c\u79cd\u79cd\u539f\u56e0\u53ef\u80fd\u5bfc\u81f4\u9700\u8981\u540c\u65f6\u5b89\u88c5\u591a\u4e2a\u4e0d\u540c\u7248\u672c\u7684 Python \u5e76\u4f7f\u7528\u597d\u51e0\u5957\u4e92\u65a5\u7684\u5e93\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981 \u53cd\u590d\u5b89\u88c5\u5378\u8f7d \u5bf9\u8fd9\u4e9b\u73af\u5883\u505a\u51fa\u9694\u79bb\uff0c\u53ef\u4ee5\u901a\u8fc7 Conda \u6765\u7ba1\u7406\u4e0d\u540c\u7684\u865a\u62df\u73af\u5883\u3002\u5b89\u88c5\u597d Conda \u540e\u53ef\u4ee5\u770b\u5230\u547d\u4ee4\u884c\u4e2d\u591a\u4e86\u4e00\u4e2a <code>(base)</code>\uff0c\u8fd9\u8868\u660e\u76ee\u524d Conda \u542f\u7528\u7684\u662f\u9ed8\u8ba4\u7684\u73af\u5883\u3002</p>"},{"location":"languages/python/pip/#_6","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>2020 / 2021 \u6691\u57f9 Python \u73af\u5883\u914d\u7f6e\u6587\u6863</li> <li>Pip Docs: http://pip.pypa.io/</li> <li>Conda Docs: https://docs.conda.io</li> </ul>"},{"location":"languages/rust/","title":"Rust\u8bed\u8a00\u57fa\u7840","text":""},{"location":"languages/rust/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li> <p>\u5177\u6709 C/C++ \u8bed\u8a00\u57fa\u7840\uff0c\u80fd\u591f\u7f16\u5199\u57fa\u672c\u7684 C/C++ \u4ee3\u7801</p> </li> <li> <p>\u5177\u6709\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u57fa\u7840 \uff08\u5982\u679c\u4f60\u5df2\u7ecf\u719f\u6089 C++ \u7684\u9762\u5411\u5bf9\u8c61\u6a21\u578b\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u9700\u8981\u82b1\u4e00\u70b9\u65f6\u95f4\u6765\u9002\u5e94 Rust\uff09</p> </li> </ul>"},{"location":"languages/rust/#_2","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>\u76f4\u5230\u73b0\u5728\uff0cRust \u4ecd\u7136\u662f\u4e00\u95e8\u4e3b\u8981\u7531\u7231\u597d\u8005\u4f7f\u7528\u800c\u975e\u5de5\u4e1a\u4f7f\u7528\u7684\u8bed\u8a00\u3002\u5c3d\u7ba1\u5982\u6b64\uff0cRust \u5df2\u7ecf\u5728\u8bb8\u591a\u9886\u57df\u5d2d\u9732\u5934\u89d2\uff1aFirefox \u6d4f\u89c8\u5668\u3001Linux \u7cfb\u7edf\u7b49\u5927\u578b\u5de5\u7a0b\u4e2d\u90fd\u6709Rust \u7684\u53c2\u4e0e\u3002</p> <p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u8fd9\u95e8\u8bfe\u7a0b\u4e2d\uff0c\u540c\u5b66\u4eec\u53ef\u4ee5\u91c7\u7528 Rust\u6846\u67b6 \u6765\u8fdb\u884c\u5b9e\u9a8c\u3002</p>"},{"location":"languages/rust/#_3","title":"\u6ce8\u610f","text":"<p>\u4e0d\u540c\u4e8e JavaScript \u548c Python \u7b49\u8bed\u8a00\uff0cRust \u8bed\u8a00\u4e0a\u624b\u76f8\u5bf9\u8f83\u4e3a\u56f0\u96be\u3002\u56e0\u6b64\uff0c\u7f16\u5199\u672c\u6587\u6863\u7684\u76ee\u7684\u66f4\u7c7b\u4f3c\u4e8e\u5728\u5047\u5b9a\u8bfb\u8005\u62e5\u6709\u4e00\u5b9a C++ \u57fa\u7840\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u8bfb\u8005\u63d0\u4f9b\u4e00\u4e9b\u5b66\u4e60 Rust \u7684\u5bf9\u7167\u6027\u5e2e\u52a9\uff0c\u800c\u975e\u4e00\u4e2a Rust \u5165\u95e8\u6559\u7a0b\u3002\u5982\u679c\u5e0c\u671b\u83b7\u5f97\u4e00\u4efd Rust \u5165\u95e8\u6559\u7a0b\uff0c\u8bf7\u53c2\u9605\u4e0b\u65b9\u8d44\u6e90\u94fe\u63a5\u4e2d\u7684 The Book\u3002</p> <p>\u672c\u6587\u6863\u8986\u76d6\u4e86 The Book \u7684 \u7b2c3\uff08\u5e38\u89c1\u7f16\u7a0b\u6982\u5ff5\uff09\u30015\uff08\u7ed3\u6784\u4f53\uff09\u30016\uff08\u679a\u4e3e\u548c\u6a21\u5f0f\u5339\u914d\uff09\u7ae0\u7684\u4e3b\u8981\u5185\u5bb9\uff0c\u4ecb\u7ecd\u4e86\u6700\u4e3a\u57fa\u672c\u7684\u8bed\u6cd5\u3002\u5728\u6587\u6863\u7684\u5f00\u5934\uff0c\u5c06\u7b80\u8981\u4ecb\u7ecd Rust \u4e2d\u7684\u6240\u6709\u6743\u3002\u751f\u547d\u5468\u671f\u3001\u4e0d\u5b89\u5168\u4ee3\u7801\u3001\u81ea\u52a8\u6d4b\u8bd5\u7b49\u9ad8\u7ea7\u6982\u5ff5\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u8ff0\u8d44\u6e90\u94fe\u63a5\u81ea\u884c\u5b66\u4e60\u3002</p>"},{"location":"languages/rust/#_4","title":"\u8d44\u6e90\u94fe\u63a5","text":""},{"location":"languages/rust/#_5","title":"\u5b98\u65b9\u53c2\u8003\u8d44\u6599","text":"<ul> <li> <p>The Rust Programming Language\uff08\u4e5f\u88ab\u79f0\u4e3a The Book\uff09\uff1aRust \u5b98\u65b9\u7f51\u7ad9\u63a8\u8350\u7684 Rust \u8bed\u8a00\u5165\u95e8\u4e66\u7c4d https://doc.rust-lang.org/book/</p> <ul> <li>The Book \u7684\u4e2d\u6587\u793e\u533a\u7ffb\u8bd1\u7248\uff0c\u66f4\u65b0\u5f88\u53ca\u65f6 https://kaisery.github.io/trpl-zh-cn/</li> </ul> </li> <li> <p>Rustlings\uff1aRust \u5b98\u65b9\u63a8\u8350\u7684\u53e6\u4e00\u79cd\u5165\u95e8\u65b9\u5f0f\uff0c\u9002\u5408\u559c\u6b22\u8fb9\u5b66\u8fb9\u505a\u7684\u540c\u5b66 https://github.com/rust-lang/rustlings/</p> </li> </ul>"},{"location":"languages/rust/#_6","title":"\u5165\u95e8\u6559\u7a0b","text":"<ul> <li> <p>Rust \u5b98\u65b9\u6587\u6863\u4e2d\u6587\u6559\u7a0b\u3002https://rustwiki.org</p> </li> <li> <p>RUNOOB.COM \u7684 Rust \u6559\u7a0b\uff1a\u7b80\u660e\u7684\u5165\u95e8\u6559\u7a0b\uff0c\u53ef\u4f5c\u4e3a\u7b2c\u4e00\u4efd\u5b66\u4e60\u8d44\u6599\u3002https://www.runoob.com/rust/rust-tutorial.html</p> </li> </ul>"},{"location":"languages/rust/#_7","title":"\u9605\u8bfb\u6750\u6599","text":"<ul> <li>Effective Rust\uff1aRust \u8fdb\u9636\u6559\u7a0b\uff0c\u6bd4\u8f83\u8be6\u7ec6\u5730\u4ecb\u7ecd\u4e86 Rust \u4e2d\u7c7b\u578b\uff08Types\uff09\u3001\u7279\u578b\uff08Trait\uff09\u53ca Rust \u8bed\u8a00\u7684\u8bbe\u8ba1\u7406\u5ff5\u548c\u4f7f\u7528\u65b9\u6cd5\u3002 https://www.lurklurk.org/effective-rust/</li> </ul>"},{"location":"languages/rust/#_8","title":"\u8bfe\u7a0b\u6750\u6599","text":"<ul> <li> <p>CIS 198: Rust Programming\uff1a\u5bbe\u5915\u6cd5\u5c3c\u4e9a\u5927\u5b66\u7684 Rust \u8bfe\u7a0b\u3002https://cis198-2016s.github.io</p> </li> <li> <p>\u6e05\u534e\u5927\u5b66\u7a0b\u5e8f\u8bbe\u8ba1\u8bad\u7ec3\uff08Rust\uff09\u6587\u6863\u3002https://lab.cs.tsinghua.edu.cn/rust/</p> </li> </ul>"},{"location":"languages/rust/control/","title":"Rust \u4e2d\u7684\u6d41\u7a0b\u63a7\u5236","text":""},{"location":"languages/rust/control/#_1","title":"\u6761\u4ef6\u8868\u8fbe\u5f0f","text":"<p>Rust \u4e2d\u7684\u6761\u4ef6\u8bed\u53e5\u7c7b\u4f3c C/C++\uff0c\u90fd\u662f\u901a\u8fc7 <code>if</code> \u548c <code>else</code> \u6765\u63a7\u5236\u3002</p> <p><code>if</code> \u540e\u9762\u7684\u6761\u4ef6\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\uff0c\u7f16\u8bd1\u5668\u4e5f\u63a8\u8350\u8fd9\u6837\u505a\u3002</p> <pre><code>let age = 17;\nif age &lt; 18 {\n    println!(\"\u60a8\u672a\u6210\u5e74\");\n} else {\n    println!(\"\u60a8\u6210\u5e74\u4e86\");\n}\n</code></pre> <p>\u6ce8\u610f\uff0c<code>if</code> \u5b9e\u9645\u4e0a\u662f\u8868\u8fbe\u5f0f\u800c\u975e\u8bed\u53e5\uff0c\u56e0\u6b64\u53ef\u4ee5\u62e5\u6709\u503c\u3002</p> <pre><code>let age = 17;\nlet adulthood = if age &lt; 18 {\n    false\n} else {\n    true\n};\n</code></pre> <p>Rust \u662f\u4e00\u95e8\u57fa\u4e8e\u8868\u8fbe\u5f0f\u7684\u8bed\u8a00\uff0c\u8fd9\u4ec5\u4ec5\u662f\u51b0\u5c71\u4e00\u89d2\u3002\u8bfb\u8005\u5728\u5b9e\u9645\u91c7\u7528 Rust \u7f16\u7a0b\u65f6\u5c06\u4f1a\u5bf9\u8fd9\u4e00\u8bbe\u8ba1\u6709\u66f4\u6df1\u523b\u7684\u7406\u89e3\u3002</p> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>Rust \u4e2d\u6ca1\u6709 C/C++ \u4e2d\u5e38\u89c1\u7684\u4e09\u5143\u8868\u8fbe\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u7528 <code>if-else</code> \u8868\u8fbe\u5f0f\u6765\u5b9e\u73b0\u76f8\u540c\u7684\u529f\u80fd\u3002</p>"},{"location":"languages/rust/control/#_2","title":"\u5faa\u73af\u8bed\u53e5","text":""},{"location":"languages/rust/control/#for","title":"<code>for</code> \u5faa\u73af","text":"<p><code>for</code> \u5faa\u73af\u7528\u4e8e\u904d\u5386\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd9\u4e0e C \u98ce\u683c\u7684 <code>for</code> \u5faa\u73af\u5927\u4e3a\u4e0d\u540c\uff0c\u800c\u4e0e Python \u66f4\u52a0\u7c7b\u4f3c\u3002</p> <pre><code>let mut sum = 0;\nfor i in (1 .. 10) { // (a .. b) \u521b\u5efa\u4e86\u4e00\u4e2a\u6570\u5b57\u5e8f\u5217 Range\uff0c\u8868\u793a\u534a\u5f00\u534a\u95ed\u533a\u95f4 [a, b) \u4e2d\u7684\u6240\u6709\u6574\u6570\u3002\n    sum += i;\n}\n// \u5b9e\u9645\u4e0a\u8fd9\u91cc\u7684\u6c42\u548c\u53ef\u4ee5\u901a\u8fc7\u8fed\u4ee3\u5668\u7528\u66f4\u4f18\u96c5\u548c\u5feb\u901f\u7684\u65b9\u6cd5\u91cd\u5199\uff0c\u6b64\u5904\u4ec5\u4ec5\u4f5c\u4e3a\u6f14\u793a\u3002\nlet word: &amp;str = \"World\";\n    for letter in word.chars() { // \u5c06 &amp;str \u7c7b\u578b\u8f6c\u5316\u4e3a\u8fed\u4ee3\u5668\n        println!(\"{}\", letter);\n}\n// \u8fed\u4ee3\u5668\u7684\u7b80\u5355\u793a\u4f8b\n</code></pre>"},{"location":"languages/rust/control/#while","title":"<code>while</code> \u5faa\u73af","text":"<p><code>while</code> \u5faa\u73af\u4e0e C/C++ \u8f83\u4e3a\u7c7b\u4f3c\uff0c\u4ec5\u4ec5\u7ed9\u51fa\u4ee3\u7801\u6837\u4f8b\u3002</p> <pre><code>let mut sum = 0;\nlet mut a = 1;\nwhile a &lt; 10 {\n    sum += a;\n    a += 1;\n}\n</code></pre>"},{"location":"languages/rust/control/#loop","title":"<code>loop</code> \u5faa\u73af","text":"<p><code>loop</code> \u5faa\u73af\u662f\u663e\u5f0f\u7684\u6b7b\u5faa\u73af\uff0c\u4f1a\u4e00\u76f4\u91cd\u590d\u6267\u884c\u76f4\u5230\u663e\u5f0f <code>break</code> \u4e3a\u6b62\u3002</p> <pre><code>let mut sum = 0;\nlet mut a = 1;\nloop {\n    sum += a;\n    a += 1;\n    if a == 10 {\n        break;\n    }\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u4ee5\u4e0a\u7684\u4e09\u79cd\u5faa\u73af\u4e5f\u90fd\u662f\u8868\u8fbe\u5f0f\uff0c\u800c\u4e14 <code>loop</code> \u4e2d\u7684 <code>break</code> \u53ef\u4ee5\u8fd4\u56de\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a <code>3n + 1</code> \u95ee\u9898\u7684\u4ee3\u7801\u6765\u5c55\u793a\u5b83\u7684\u8868\u8fbe\u5f0f\u672c\u8d28\uff1a</p> <pre><code>let mut a = 19112021; // \u53ef\u4ee5\u662f\u8981\u9a8c\u8bc1\u7684\u4efb\u610f\u5927\u6574\u6570\uff0c\u53ea\u8981\u4e0d\u8d8a\u754c\u5373\u53ef\nlet must_be_one = loop {\n    if a == 1 {\n        break a;\n    } else if a % 2 == 1 {\n        a = 3 * a + 1;\n    } else {\n        a = a / 2;\n    }\n}; // must_be_one \u7684\u503c\u5e94\u5f53\u4e3a 1\n// \u5982\u679c\u4f60\u53d1\u73b0\u7a0b\u5e8f\u6ca1\u6709\u7ed3\u675f\uff0c\u8bf7\u591a\u7b49\u4e00\u4f1a\n</code></pre>"},{"location":"languages/rust/control/#_3","title":"\u5faa\u73af\u6807\u7b7e","text":"<p>\u5982\u679c\u5b58\u5728\u5d4c\u5957\u5faa\u73af\uff0c<code>break</code>\u3001<code>continue</code> \u90fd\u53ea\u4f5c\u7528\u4e8e\u6b64\u65f6\u6700\u5185\u5c42\u7684\u5faa\u73af\u3002\u5728Rust\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4e3a\u7279\u5b9a\u5faa\u73af\u6307\u5b9a \u5faa\u73af\u6807\u7b7e\uff08loop label\uff09\uff0c\u7136\u540e\u5c06\u6807\u7b7e\u4e0e break \u6216 continue \u4e00\u8d77\u4f7f\u7528\uff0c\u4f7f\u8fd9\u4e9b\u5173\u952e\u5b57\u4f5c\u7528\u4e8e\u6240\u6807\u8bb0\u7684\u5faa\u73af\uff0c\u5b9e\u73b0\u8df3\u51fa\u591a\u91cd\u5faa\u73af\u7684\u76ee\u7684\u3002</p> <p>\u5728\u6709\u8fd9\u4e2a\u7279\u6027\u4e4b\u524d\uff0c\u300c\u8df3\u51fa\u591a\u91cd\u5faa\u73af\u300d\u5176\u5b9e\u9887\u4e3a\u68d8\u624b\u2014\u2014\u56e0\u4e3a\u6700\u4f18\u96c5\u7684\u65b9\u5f0f\u662f\u58f0\u540d\u72fc\u85c9\u7684\"goto\"\u3002\u867d\u7136\u300c\u628a\u5faa\u73af\u5c01\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u7528return\u8df3\u51fa\u300d\u662f\u4e2a\u597d\u529e\u6cd5\uff0c\u4f46\u5e76\u4e0d\u603b\u9002\u5408\u8fd9\u6837\u505a\u3002</p> <pre><code>let matrix = vec![\n    vec![1, 2, 3],\n    vec![4, 5, 6],\n    vec![7, 8, 9]\n];\n\nlet target = 5;\nlet mut found = false;\n\n'outer: for row in &amp;matrix { // \u5c06\u5faa\u73af\u6807\u7b7e\u653e\u5728\u5faa\u73af\u524d\u9762. \u683c\u5f0f\u4e3a 'label\n    for &amp;num in row {\n        if num == target {\n            found = true;\n            break 'outer;  // \u4f7f\u7528\u5faa\u73af\u6807\u7b7e\u76f4\u63a5\u8df3\u51fa\u5916\u5c42\u5faa\u73af\n        }\n    }\n}\n\nif found {\n    println!(\"\u627e\u5230\u4e86\u76ee\u6807\u5143\u7d20\uff01\");\n} else {\n    println!(\"\u672a\u627e\u5230\u76ee\u6807\u5143\u7d20\u3002\");\n}\n</code></pre>"},{"location":"languages/rust/function/","title":"Rust \u4e2d\u7684\u51fd\u6570","text":""},{"location":"languages/rust/function/#_1","title":"\u51fd\u6570\u58f0\u660e","text":"<p>Rust \u4e2d\u901a\u8fc7 <code>fn</code> \u5173\u952e\u5b57\u58f0\u660e\u51fd\u6570\uff0c\u5728\u51fd\u6570\u540d\u540e\u7684\u62ec\u53f7\u5185\u58f0\u660e\u53c2\u6570\uff08\u5fc5\u987b\u6307\u5b9a\u7c7b\u578b\uff09\uff0c\u5728 <code>-&gt;</code> \u540e\u9762\u6307\u5b9a\u8fd4\u56de\u7c7b\u578b\uff08\u5982\u679c\u6ca1\u6709\uff0c\u53ef\u4ee5\u4e0d\u52a0\uff09\u3002</p> <pre><code>fn func_1() {\n    println!(\"Hello\");\n} // \u65e0\u53c2\u6570\uff0c\u65e0\u8fd4\u56de\u503c\u7684\u51fd\u6570\n// \u65e0\u8fd4\u56de\u503c\u7684\u51fd\u6570\uff0c\u4f1a\u9ed8\u8ba4\u8fd4\u56de \u5355\u4f4d\u5143 ()\n\nfn func_with_param(i: u32, j: u32) {\n    println!(\"I love you {} times\", i + j);\n} // \u6709\u53c2\u6570\u7684\u51fd\u6570\n\nfn func_with_return_value(i: i32, j: i32) -&gt; i32 {\n    return i + j;\n} // \u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\n\nfn func_with_return_value_mod(i: i32, j: i32) -&gt; i32 {\n    i + j\n}\n// \u5728\u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\u4e2d\uff0creturn \u8bed\u53e5\u5e76\u4e0d\u662f\u5fc5\u9700\u7684\u3002\u5728\u8fd9\u91cc\n// \u7531\u5927\u62ec\u53f7\u5305\u88f9\u7684\u4ee3\u7801\u5757\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0ci + j \u5c31\u662f\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\n// \u540c\u6837\u4e5f\u5c31\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>\u5728 C/C++ \u4e2d\uff0c\u51fd\u6570\u7684\u58f0\u660e\u7684\u7c7b\u578b\u5728\u524d\uff0c\u6ca1\u6709\u989d\u5916\u5173\u952e\u5b57\u3002\u8bfb\u8005\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u6765\u9002\u5e94 Rust \u7684\u8bed\u6cd5\u3002</p> <p>\u51fd\u6570\u8fd4\u56de\u503c</p> <p>\u65e0\u8fd4\u56de\u503c\u7684\u51fd\u6570\u4f1a\u9ed8\u8ba4\u8fd4\u56de \u5355\u4f4d\u5143 <code>()</code>\uff0c\u5e76\u975e\u771f\u5b9e\u8bed\u4e49\u4e0b\u7684\u201c\u65e0\u8fd4\u56de\u503c\u201d\u3002</p> <p>Rust \u7f16\u8bd1\u5668\u5177\u6709\u4e25\u683c\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u5982\u679c\u51fd\u6570\u6307\u5b9a\u4e86\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u4f46\u6ca1\u6709\u7ed9\u51fa\u8fd4\u56de\u503c\u6216 return \u8bed\u53e5\uff0c\u7f16\u8bd1\u5668\u5c06\u7ed9\u51fa <code>mismatched types</code> \u62a5\u9519\u3002</p> <p>\u7c7b\u4f3c\u7684\uff0c\u5982\u679c\u6ca1\u7ed9\u5b9a\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u4f46\u8fd4\u56de\u4e86 \u975e\u5355\u4f4d\u5143 \u7c7b\u578b\u7684\u503c\uff0c\u7f16\u8bd1\u5668\u4e5f\u4f1a\u7ed9\u51fa <code>mismatched types</code> \u62a5\u9519\u3002</p>"},{"location":"languages/rust/function/#_2","title":"\u51fd\u6570\u8c03\u7528","text":"<p>Rust \u7684\u51fd\u6570\u8c03\u7528\u8bed\u6cd5\u4e0e C/C++ \u6ca1\u6709\u592a\u5927\u533a\u522b\u3002</p> <pre><code>let a = 1;\nlet b = 2;\nlet c = func_with_return_value(a, b);\n</code></pre>"},{"location":"languages/rust/generics/","title":"Rust \u7684\u6cdb\u578b","text":"<p>Rust \u4e2d\u7684\u6cdb\u578b\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u5b9e\u73b0\uff1a</p>"},{"location":"languages/rust/generics/#_1","title":"\u6cdb\u578b\u51fd\u6570","text":"<pre><code>fn foo&lt;T, U&gt;(x: T, y: U) {\n}\n</code></pre>"},{"location":"languages/rust/generics/#_2","title":"\u6cdb\u578b\u679a\u4e3e","text":"<pre><code>enum Result&lt;T, E&gt; {\n    Ok(T),\n    Err(E), \n}\n</code></pre>"},{"location":"languages/rust/generics/#_3","title":"\u6cdb\u578b\u7ed3\u6784\u4f53","text":"<pre><code>struct Point&lt;T&gt; {\n    x: T,\n    y: T, \n}\n\nimpl&lt;T&gt; Point&lt;T&gt; // \u5728 impl \u4ee3\u7801\u6bb5\u5f00\u5934\u58f0\u660e\u6cdb\u578b\nwhere\n    T: std::ops::Add&lt;Output = T&gt; + std::ops::Mul&lt;Output = T&gt; + Copy,\n{\n    fn distance_from_origin(&amp;self) -&gt; T {\n        self.x * self.x + self.y * self.y\n    }\n}\n</code></pre>"},{"location":"languages/rust/generics/#option-result","title":"Option \u548c Result \u7c7b\u578b","text":"<p>Rust \u63d0\u4f9b\u4e86\u4e24\u4e2a\u975e\u5e38\u65b9\u4fbf\u7684\u679a\u4e3e\u7c7b\u578b\uff1a<code>Option</code> \u548c <code>Result</code>\u3002 <pre><code>enum Option&lt;T&gt; { \n    None,\n    Some(T), \n}\n\nenum Result&lt;T,E&gt; {\n    Ok(T),\n    Err(E),\n}\n</code></pre> \u5408\u7406\u5730\u8fd0\u7528\u8fd9\u4e24\u4e2a\u679a\u4e3e\u7c7b\u578b\uff0c\u53ef\u4ee5\u4fbf\u6377\u5730\u4f20\u9012\u53c2\u6570\u3001\u6355\u83b7\u9519\u8bef\u3002</p> <pre><code>fn eat(food: Option&lt;String&gt;) {\n    match food {\n        Some(c) =&gt; println!(\"Nice {}! I'm full.\",c),\n        None =&gt; println!(\"Nothing to eat. I'm hungry!\"),\n    }\n}\n\nfn divide(a: i32, b: i32) -&gt; Result&lt;i32, String&gt;{\n    if b == 0 {\n        return Err(String::from(\"Division by zero\"));\n    }\n\n    Ok(a / b)\n}\n</code></pre> <p>Option \u4e0e Result \u7684\u6570\u636e\u83b7\u53d6</p> <p>Rust \u4e3a <code>Option</code> \u548c <code>Result</code> \u7c7b\u578b\u63d0\u4f9b\u4e86 <code>unwrap()</code> \u548c <code>expect()</code> \u7b49\u65b9\u6cd5\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u83b7\u53d6\uff0c\u53ef\u4ee5\u7ed5\u5f00\u5197\u4f59\u7684\u6a21\u5f0f\u5339\u914d\u3002\u4f46\u7a0b\u5e8f\u5458\u9700\u8981\u81ea\u5df1\u786e\u4fdd <code>Option</code> \u5bf9\u5e94\u7684\u7c7b\u578b\u4e3a <code>Some(_)</code>\uff08<code>Result</code> \u4e3a <code>Ok(_)</code>\uff09\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7a0b\u5e8f<code>panic</code>\u9000\u51fa\u3002</p> <pre><code>fn main() {\n    let a:Option&lt;String&gt; = Some(\"hello\".to_string());\n    let b: Result&lt;_,&amp;str&gt; = Err(\"world\");\n    let content = a.unwrap() + \" \" + b.expect(\"Empty content\"); // If a is None or b is Err, this will panic.\n    // a is None: thread 'main' panicked at ...:\n    // called `Option::unwrap()` on a `None` value\n    // b is Err:thread 'main' panicked at ...:\n    // Empty content: \"world\"\n    println!(\"{}\",content);\n}\n</code></pre>"},{"location":"languages/rust/matching/","title":"Rust \u7684\u679a\u4e3e\u548c\u5339\u914d","text":""},{"location":"languages/rust/matching/#_1","title":"\u679a\u4e3e\u7c7b\u578b","text":"<p>Rust \u7684\u679a\u4e3e\u901a\u8fc7\u5173\u952e\u5b57 <code>enum</code> \u5b9a\u4e49\u3002</p> <pre><code>enum CoinType {\n    Dime, // \u4e00\u89d2\n    Half, // \u4e94\u89d2\n    Yuan, // \u4e00\u5143\n} // \u8fd9\u4e2a\u679a\u4e3e\u91cf\u4ec5\u4ec5\u6807\u5b9a\u4e86\u786c\u5e01\u7684\u7c7b\u578b\n\nstruct Coin {\n    kind: CoinType,\n    value: u32\n} // \u8fd9\u4e2a\u7ed3\u6784\u4f53\u8bb0\u5f55\u4e86\u786c\u5e01\u7684\u7c7b\u578b\u548c\u5bf9\u5e94\u7684\u9762\u503c\n\nlet coin = Coin {\n    kind: CoinType::Dime,\n    value: 10\n};\n</code></pre> <p>\u679a\u4e3e\u7684\u6bcf\u79cd\u53d8\u4f53 (variant) \u53ef\u4ee5:</p> <ul> <li>\u6ca1\u6709\u6570\u636e(\u5355\u4f4d\u5143\u53d8\u4f53)</li> <li>\u6709\u547d\u540d\u7684\u6570\u636e\u57df(\u7ed3\u6784\u4f53\u53d8\u4f53)</li> <li>\u6709\u4e0d\u547d\u540d\u7684\u6709\u5e8f\u6570\u636e\u57df(\u5143\u7ec4\u53d8\u4f53)</li> </ul> <pre><code>enum Resultish { \n    Ok,\n    Warning { code: i32, message: String },\n    Err(String)\n}\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>C/C++ \u7684\u679a\u4e3e\u7c7b\u578b\u5e95\u5c42\u662f\u6574\u6570\uff0c\u4e0d\u80fd\u62e5\u6709\u6570\u636e\u6210\u5458\u3002\u8fd9\u662f Rust \u548c C/C++ \u7684\u4e00\u4e2a\u5f88\u5927\u7684\u533a\u522b\u3002 \u679a\u4e3e\u7c7b\u578b\u662f Rust \u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u6709\u529b\u6b66\u5668\u3002\u5584\u7528\u679a\u4e3e\u7c7b\uff0c\u53ef\u4ee5\u4fbf\u6377\u5730\u4f20\u9012\u5f88\u591a\u6570\u636e\u3002</p>"},{"location":"languages/rust/matching/#_2","title":"\u5339\u914d","text":""},{"location":"languages/rust/matching/#match","title":"<code>match</code> \u8868\u8fbe\u5f0f","text":"<p><code>match</code> \u8868\u8fbe\u5f0f\u53ef\u4ee5\u5bf9\u679a\u4e3e\u91cf\u8fdb\u884c\u5339\u914d\u3002</p> <pre><code>enum Operator {\n    Add(i32, i32),\n    Sub(i32, i32),\n    Mul(i32, i32),\n    Div(i32, i32),\n    Rem(i32, i32)\n}\n\nlet op = Operator::Add(10, 5);\n\nlet value = match op {\n    Operator::Add(a, b) =&gt; a + b,\n    Operator::Sub(a, b) =&gt; a - b,\n    Operator::Mul(a, b) =&gt; a * b,\n    Operator::Div(a, b) =&gt; a / b,\n    _ =&gt; a % b // _ \u5339\u914d\u4efb\u610f\u503c\uff0c\u7c7b\u4f3c default\n};\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p><code>match</code> \u8868\u8fbe\u5f0f\u4e0e C/C++ \u7684 <code>switch-case</code> \u6709\u7c7b\u4f3c\u4e4b\u5904\uff0c\u4f46\u8fdc\u6bd4\u540e\u8005\u5f3a\u5927\u3002\u8bfb\u8005\u53ef\u80fd\u9700\u8981\u82b1\u4e00\u70b9\u65f6\u95f4\u6765\u9002\u5e94 Rust \u7684 <code>enum</code> \u548c <code>match</code> \u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4eab\u53d7\u5b83\u7f8e\u5999\u7684\u6a21\u5f0f\u5339\u914d\u8bed\u6cd5\u4e86\u3002</p>"},{"location":"languages/rust/matching/#if-let","title":"<code>if-let</code> \u8868\u8fbe\u5f0f","text":"<p><code>if-let</code> \u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5316\u7684\u6a21\u5f0f\u5339\u914d\u673a\u5236\u3002</p> <pre><code>let op = Operator::Add(10, 5);\n\nlet value = if let Operator::Add(a, b) = op {\n    a + b\n} else {\n    -1\n};\n</code></pre>"},{"location":"languages/rust/ownership/","title":"Rust \u4e2d\u7684\u6240\u6709\u6743","text":"<p>\u4e3a\u4e86\u517c\u987e\u5185\u5b58\u4f7f\u7528\u7684\u5b89\u5168\u548c\u6027\u80fd\uff0cRust \u5728\u8bbe\u8ba1\u4e4b\u521d\u5c31\u91c7\u7528\u4e86\u4e0e C++ \u5b8c\u5168\u4e0d\u540c\u7684\u5185\u5b58\u7ba1\u7406\u3002</p> <p>Rust \u5f15\u5165\u4e86\u6240\u6709\u6743\uff08ownership\uff09\u7684\u6982\u5ff5\uff1a</p> <ul> <li>Rust \u4e2d\u7684\u6bcf\u4e2a\u503c\u90fd\u6709\u6240\u6709\u8005 (owner)\u3002</li> <li>\u540c\u4e00\u65f6\u523b\u6bcf\u4e2a\u503c\u53ea\u6709\u4e00\u4e2a\u6240\u6709\u8005\u3002</li> <li>\u5f53\u6240\u6709\u8005\u5931\u6548\uff0c\u503c\u4e5f\u5c06\u88ab\u4e22\u5f03\u3002</li> </ul>"},{"location":"languages/rust/ownership/#_1","title":"\u53d8\u91cf\u7ed1\u5b9a","text":"<p>\u53d8\u91cf\u901a\u8fc7\u7ed1\u5b9a\u7684\u65b9\u5f0f\uff0c\u83b7\u5f97\u5bf9\u6570\u636e\u7684\u6240\u6709\u6743\u3002\u5982\u679c\u4e00\u4e2a\u7ed1\u5b9a\u8d85\u51fa\u4f5c\u7528\u57df\uff0c\u5176\u7ed1\u5b9a\u7684\u6570\u636e\u5c06\u88ab\u81ea\u52a8\u91ca\u653e\u3002</p> <pre><code>let a = 1;\n</code></pre> <p>\u53d8\u91cf\u4e4b\u95f4\u7684\u8d4b\u503c\u884c\u4e3a\uff0c\u5c06\u4f1a\u76f4\u63a5\u5bfc\u81f4\u7ed1\u5b9a\u5173\u7cfb\u7684\u53d8\u5316\uff0c\u8fd9\u4e00\u8bed\u4e49\u88ab\u79f0\u4e3a\u79fb\u52a8\u6240\u6709\u6743\uff0c\u4ea6\u5373\u63a9\u76d6 (shadowing)\u3002</p> <pre><code>let s1 = String::from(\"hello\");\nlet s2 = s1; // \u5b57\u7b26\u4e32 \"hello\" \u5df2\u7ecf\u88ab s2 \u7ed1\u5b9a\uff0cs1 \u60ac\u7f6e\u3002\n\nprintln!(\"{s1}, world!\");\n// \u6b64\u65f6\u5c06\u53d1\u751f\u7f16\u8bd1\u9519\u8bef error: borrow of moved value: `s1`\n</code></pre> <p>\u79fb\u52a8\u6240\u6709\u6743</p> <ul> <li>\u79fb\u52a8\u6240\u6709\u6743\u662f\u7f16\u8bd1\u65f6\u7684\u8bed\u4e49\uff0c\u4e0d\u6d89\u53ca\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u6570\u636e\u79fb\u52a8\uff0c\u6570\u636e\u5bf9\u5e94\u7684\u5185\u5b58\u533a\u57df\u5e76\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u662f\u66f4\u6539\u4e86\u5bf9\u5e94\u7684\u53d8\u91cf\u540d\uff08\u7c7b\u4f3cC++\u7684\u6307\u9488\uff09\u3002</li> <li>\u79fb\u52a8\u662f\u9ed8\u8ba4\u884c\u4e3a(\u901a\u8fc7\u7ed1\u5b9a\u6216\u8d4b\u503c)\uff0c\u4e0d\u9700\u8981\u50cf C++ \u90a3\u6837\u7528 std::move \u6765\u663e\u5f0f\u6307\u5b9a\u3002</li> </ul>"},{"location":"languages/rust/ownership/#_2","title":"\u501f\u7528","text":"<p>\u4f46\u5e76\u975e\u6240\u6709\u8bed\u5883\u4e0b\u7684\u53d8\u91cf\u8d4b\u503c\u90fd\u5e0c\u671b\u79fb\u4ea4\u6240\u6709\u6743\uff0c\u8fd9\u4e2a\u65f6\u5019\u5e94\u8be5\u91c7\u7528 Rust \u4e2d\u7684\u501f\u7528\uff08borrow\uff09\u6982\u5ff5\u3002</p>"},{"location":"languages/rust/ownership/#_3","title":"\u501f\u7528\u89c4\u5219","text":"<pre><code>let v = vec![1, 2, 3];\nlet v_ref = &amp;v; // v_ref is a reference to v.\n</code></pre> <p>\u501f\u7528\u89c4\u5219</p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7\u5bf9\u53d8\u91cf\u53d6\u5f15\u7528\u6765\u501f\u7528\u53d8\u91cf\u4e2d\u7684\u6570\u636e\u7684\u6240\u6709\u6743\uff0c\u6b64\u65f6\u6240\u6709\u6743\u672c\u8eab\u5e76\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002<ul> <li>\u5f53\u5f15\u7528\u8d85\u8fc7\u4f5c\u7528\u57df\uff0c\u501f\u7528\u4e5f\u968f\u4e4b\u7ed3\u675f\u3002</li> <li>\u539f\u6765\u7684\u53d8\u91cf\u4f9d\u7136\u62e5\u6709\u5bf9\u6570\u636e\u7684\u6240\u6709\u6743\u3002</li> </ul> </li> </ul> <pre><code>let v = vec![1, 2, 3];\n// v_ref is a reference to v.\nlet v_ref = &amp;v;\n// use v_ref to access the data in the vector v.\nassert_eq!(v[1], v_ref[1]);\n</code></pre> <ul> <li>\u5f53\u501f\u7528\u53d1\u751f\u65f6\uff0c\u4f1a\u5bf9\u539f\u6765\u7684\u53d8\u91cf\u589e\u52a0\u9650\u5236\uff1a<ul> <li>\u5f53\u4e00\u4e2a\u53d8\u91cf\u6709\u5f15\u7528\u5b58\u5728\u65f6\uff0c\u4e0d\u80fd\u79fb\u4ea4\u5b83\u6240\u7ed1\u5b9a\u7684\u6570\u636e\u7684\u6240\u6709\u6743\u3002</li> </ul> </li> </ul> <pre><code>let v = vec![1, 2, 3];\nlet v_ref = &amp;v; \nlet v_new = v;\n// Moving ownership to v_new would invalidate v_ref.\n// error: cannot move out of `v` because it is borrowed \n</code></pre>"},{"location":"languages/rust/ownership/#_4","title":"\u53ef\u53d8\u501f\u7528\u4e0e\u4e0d\u53ef\u53d8\u501f\u7528","text":"<p>Rust \u7c7b\u578b\u7cfb\u7edf\u4e2d\uff0c\u53d8\u91cf\u88ab\u5206\u4e3a\u53ef\u53d8\u4e0e\u4e0d\u53ef\u53d8\u3002\u5728\u501f\u7528\u4e2d\uff0c\u540c\u7406\u53ef\u5206\u4e3a\u53ef\u53d8\u501f\u7528 <code>&amp;mut</code> \u548c\u4e0d\u53ef\u53d8\u501f\u7528 <code>&amp;</code>\u3002 <pre><code>fn main() {\n    let mut vector: Vec&lt;i32&gt; = vec![];\n    let vector_ref: &amp;mut Vec&lt;i32&gt; = &amp;mut vector; \n    push(vector_ref, 4);\n}\n</code></pre></p> <p>\u501f\u7528\u89c4\u5219</p> <ul> <li>\u4e0d\u80fd\u5728\u67d0\u4e2a\u5bf9\u8c61\u4e0d\u5b58\u5728\u540e\u7ee7\u7eed\u4fdd\u7559\u5bf9\u5b83\u7684\u5f15\u7528\u3002\u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5<ul> <li>\u540c\u65f6\u5b58\u5728\u591a\u4e2a\u4e0d\u53ef\u53d8\u5f15\u7528(&amp;T)\u3002</li> <li>\u6216\u8005\u4ec5\u6709\u4e00\u4e2a\u53ef\u53d8\u5f15\u7528(&amp;mut T)\u3002 </li> </ul> </li> <li>\u4ee5\u4e0a\u4e24\u8005\u4e0d\u80fd\u540c\u65f6\u5b58\u5728\u3002</li> </ul>"},{"location":"languages/rust/ownership/#_5","title":"\u51fd\u6570\u53c2\u6570\u4e2d\u7684\u501f\u7528","text":"<p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51fd\u6570\u7684\u53c2\u6570\u4f20\u9012\u65f6\uff0c\u91c7\u7528\u7684\u662f\u4e0e\u53d8\u91cf\u8d4b\u503c\u548c\u501f\u7528\u76f8\u540c\u7684\u8bed\u6cd5\u89c4\u5219\u3002\u5982\u679c\u4e0d\u6307\u5b9a <code>&amp;</code> \u6216 <code>&amp;mut</code>,\u53d8\u91cf\u4f1a\u76f4\u63a5\u53d1\u751f\u79fb\u52a8\u3002 <pre><code>fn hello_move(s: String) {\n    println!(\"Message by moving: {}\", S);\n}\n\nfn hello_borrow(s: &amp;String) {\n    println!(\"Message by borrowing: {}\", S);\n}\n\nfn main() {\n    let x: String  = String::from(\"hello\");\n    let y: String  = String::from(\"hello\");\n\n    hello_move(x);\n    hello_borrow(&amp;y);\n\n    println!(\"x:{}\",x); // error[E0382]: borrow of moved value: `x`\n    println!(\"y:{}\",y); // This runs normally. \n}\n</code></pre></p> <p>\u53d8\u91cf\u7684\u62f7\u8d1d</p> <p>\u5982\u679c\u60f3\u8981\u76f4\u63a5\u83b7\u5f97\u4e00\u4efd\u53d8\u91cf\u7684\u526f\u672c\uff0c\u53ef\u4ee5\u4f7f\u7528 Rust \u7684 Copy \u7279\u578b\u3002</p> <ul> <li>\u5927\u591a\u6570\u57fa\u672c\u7c7b\u578b\u662f Copy \u7c7b\u578b(i32\u3001f64\u3001char\u3001bool \u7b49\u7b49)\u3002<ul> <li>\u57fa\u672c\u7c7b\u578b\u53d1\u751f\u8d4b\u503c\u65f6\uff0c\u4f1a\u53d1\u751f\u62f7\u8d1d\u800c\u975e\u79fb\u52a8\u3002</li> </ul> </li> </ul> <pre><code>let x: i32 = 12;\nlet y = x; // `i32` is `Copy`, so it's not moved :D \nprintln!(\"x still works: {}, and so does y: {}\", x, y);\n</code></pre> <ul> <li>\u53ef\u4ee5\u901a\u8fc7 <code>impl Copy for ...</code> \u6216 <code>#[derive(Copy)]</code> \u5b8f\u4e3a\u53d8\u91cf\u5b9e\u73b0 Copy \u7279\u578b\u3002<ul> <li>\u975e\u57fa\u672c\u7c7b\u578b\u5728\u5b9e\u73b0\u4e86 Copy \u7279\u578b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>clone()</code> \u7b49\u65b9\u6cd5\u8fdb\u884c\u62f7\u8d1d\u3002</li> </ul> </li> </ul> <pre><code>let x: String  = String::from(\"hello\");\nlet y = x.clone(); // here copy an 'x' to y\nprintln!(\"x still works: {}, and so does y: {}\", x, y);\n</code></pre> <p>\u6240\u6709\u6743\u7684\u601d\u60f3\u8d2f\u7a7f\u4e86 Rust \u7f16\u7a0b\u7684\u5168\u8fc7\u7a0b\uff0c\u5728\u540e\u7eed\u7684 \u53d8\u91cf\u3001\u51fd\u6570\u3001\u7ed3\u6784\u4f53 \u7b49\u7ae0\u8282\u4e2d\uff0c\u4f60\u8fd8\u4f1a\u591a\u6b21\u9047\u5230\u6240\u6709\u6743\u7684\u8f6c\u79fb\u4e0e\u501f\u7528\u95ee\u9898\u3002</p>"},{"location":"languages/rust/reference/","title":"Rust \u4e2d\u7684\u5f15\u7528","text":""},{"location":"languages/rust/reference/#_1","title":"\u53ef\u53d8\u4e0e\u4e0d\u53ef\u53d8\u5f15\u7528","text":"<p>Rust \u7528 <code>&amp;</code> \u8fd0\u7b97\u7b26\u6765\u521b\u5efa\u53d8\u91cf\u7684\u5f15\u7528\uff0c\u7528 <code>*</code> \u8fd0\u7b97\u7b26\u6765\u89e3\u5f15\u7528\u3002</p> <pre><code>let a = 1; // a: i32\nlet b = &amp;a; // b: &amp;i32\nprintln!(\"{}\", *b); // 1\n</code></pre> <p>\u4e0e\u58f0\u660e\u53d8\u91cf\u7c7b\u4f3c\uff0c\u5f15\u7528\u9ed8\u8ba4\u4e5f\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u7528 <code>&amp;mut</code> \u6765\u521b\u5efa\u53ef\u53d8\u5f15\u7528\u3002</p> <p><pre><code>let mut a = 1; // a: i32\nlet b = &amp;a; // b: &amp;i32\n*b = 1; // b \u662f\u4e0d\u53ef\u53d8\u5f15\u7528\uff0c\u7f16\u8bd1\u4e0d\u901a\u8fc7\n</code></pre> <pre><code>let mut a = 1;\nlet b = &amp;mut a; // b: &amp;mut i32\n*b = 2; // b \u662f\u53ef\u53d8\u5f15\u7528\uff0c\u7f16\u8bd1\u901a\u8fc7\n</code></pre></p>"},{"location":"languages/rust/start/","title":"Rust \u5feb\u901f\u5165\u95e8","text":""},{"location":"languages/rust/start/#rust_1","title":"Rust \u73af\u5883\u5b89\u88c5","text":""},{"location":"languages/rust/start/#_1","title":"\u5f00\u53d1\u73af\u5883","text":"<p>\u4f60\u53ef\u4ee5\u4ece\u9009\u62e9\u4ee5\u4e0b\u4efb\u610f\u4e00\u6761\u8def\u5f84\uff0c\u642d\u5efa Rust \u5f00\u53d1\u73af\u5883\u3002</p> <ul> <li> <p>Visual Studio + Rust Analyzer: \u9700\u8981\u5728\u672c\u5730\u5b89\u88c5\u597d <code>rustup</code>\uff0cRust Analyzer\u63d2\u4ef6\u80fd\u591f\u5728\u672a\u7f16\u8bd1\u7684\u9636\u6bb5\u63d0\u4f9b\u4ee3\u7801\u62a5\u9519\u4e0e\u8865\u5168\u3002</p> </li> <li> <p>JetBrains RustRover: JetBrains \u63d0\u4f9b\u73b0\u6210\u7684 Rust \u7f16\u7a0b\u73af\u5883\uff0c\u5185\u7f6e Cargo\uff0c\u63d0\u4f9b\u4fbf\u6377\u7684\u4ee3\u7801\u8865\u5168\u4e0e\u7f16\u8bd1\u8fd0\u884c\u3002</p> </li> <li> <p>Rust Playground: \u5728\u7ebf Rust \u7f16\u7a0b\u73af\u5883\u3002</p> </li> </ul>"},{"location":"languages/rust/start/#_2","title":"\u7f16\u8bd1\u5de5\u5177\u94fe\u914d\u7f6e","text":""},{"location":"languages/rust/start/#rustup","title":"\u5b89\u88c5 rustup","text":"<p>\u5728 Linux \u6216\u8005 macOS \u547d\u4ee4\u884c\u73af\u5883\u4e0b\u8fd0\u884c\u4e0b\u8ff0\u547d\u4ee4\uff1a</p> <pre><code>$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n</code></pre> <p>\u5982\u679c\u663e\u793a\u9519\u8bef <code>Commmand 'curl' not found</code>\uff0c\u8fd0\u884c\u4e0b\u8ff0\u547d\u4ee4\uff1a</p> <p><pre><code>$ sudo apt update\n$ sudo apt install -y curl\n</code></pre> \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u91cd\u65b0\u8fd0\u884c\u4e0a\u9762\u7684 rustup \u5b89\u88c5\u547d\u4ee4\u3002</p> <p>\u5982\u679c\u7f51\u7edc\u6b63\u5e38\uff0crustup \u5b89\u88c5\u547d\u4ee4\u4f1a\u63d0\u793a\u4e0b\u8ff0\u4fe1\u606f\uff1a</p> <pre><code>Current installation options:\n\n\n   default host triple: aarch64-apple-darwin\n     default toolchain: stable (default)\n               profile: default\n  modify PATH variable: yes\n\n1) Proceed with installation (default)\n2) Customize installation\n3) Cancel installation\n&gt;\n</code></pre> <p>\u56de\u8f66\u4ee5\u540e\uff0c\u5b83\u5c31\u4f1a\u5b89\u88c5 Rust \u6240\u9700\u8981\u7684\u7f16\u8bd1\u5668\uff08rustc\uff09\u3001\u6807\u51c6\u5e93\uff08rust-std\uff09\u7b49\u7b49\u3002</p> <p>Windows \u5b89\u88c5 rustup</p> <p>\u524d\u5f80 https://forge.rust-lang.org/infra/other-installation-methods.html\uff0c\u5728 Other ways to install rustup \u4e2d\uff0c\u627e\u5230\uff1a</p> <ul> <li>On Windows, download and run rustup-init.exe.</li> </ul> <p>\u4e0b\u8f7d\u5e76\u8fd0\u884c rustup-init.exe\u3002</p>"},{"location":"languages/rust/start/#rust_2","title":"\u6d4b\u8bd5 rust \u5de5\u5177\u94fe","text":"<p>\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u547d\u4ee4\u884c\u4f1a\u63d0\u793a\u4e0b\u8ff0\u4fe1\u606f\uff1a</p> <pre><code>Rust is installed now. Great!\n\nTo get started you may need to restart your current shell.\nThis would reload your PATH environment variable to include\nCargo's bin directory ($HOME/.cargo/bin).\n\nTo configure your current shell, run:\nsource $HOME/.cargo/env\n</code></pre> <p>\u6b64\u65f6 shell \u914d\u7f6e\u5df2\u66f4\u65b0\u3002\u91cd\u542f\u7ec8\u7aef\uff0cPATH \u73af\u5883\u53d8\u91cf\u5c31\u4f1a\u5305\u62ec rustup \u5b89\u88c5\u8def\u5f84\u3002\u5982\u679c\u60f3\u8981\u5728\u5f53\u524d\u7ec8\u7aef\u4f7f\u7528 rust \u7f16\u8bd1\u5668\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff1a</p> <pre><code>$ source $HOME/.cargo/env\n</code></pre> <p>\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u8ff0\u68c0\u67e5 <code>rustc</code> \u662f\u5426\u6210\u529f\u5b89\u88c5\uff1a</p> <pre><code>$ rustc --version\n</code></pre> <p>\u5982\u679c\u6b63\u5e38\u8f93\u51fa<code>rustc</code>\u7248\u672c\u4fe1\u606f\uff0c\u8bf4\u660e\u5b89\u88c5\u6210\u529f\u4e86\u3002</p>"},{"location":"languages/rust/start/#hello-world","title":"Hello World\uff01","text":""},{"location":"languages/rust/start/#rustc","title":"\u76f4\u63a5\u4f7f\u7528 rustc \u7f16\u8bd1","text":"<p>\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u901a\u8fc7\u4e0b\u8ff0\u547d\u4ee4\u521b\u5efa\u9879\u76ee\u3002</p> <pre><code>$ touch hello.rs\n</code></pre> <p>\u5728 <code>hello.rs</code> \u4e2d\uff0c\u5199\u5165\u5982\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>fn main() {\n    println!(\"Hello world!\");\n}\n</code></pre> <p>\u4f7f\u7528 <code>rustc</code> \u7f16\u8bd1\uff0c\u8fd0\u884c <code>hello</code> \u53ef\u6267\u884c\u7a0b\u5e8f\u5e76\u5f97\u5230\u4e0b\u8ff0\u7ed3\u679c\u3002</p> <pre><code>$ rustc hello.rs\n$ ./hello\nHello world!\n</code></pre>"},{"location":"languages/rust/start/#cargo","title":"\u4f7f\u7528 Cargo \u5305\u7ba1\u7406\u5668","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 Cargo \u5305\u7ba1\u7406\u5668\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\u3002</p> <pre><code>$ Cargo new hello\n</code></pre> <p>\u6b64\u65f6 Cargo \u4f1a\u5728\u4f60\u7684\u5f53\u524d\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a <code>hello</code> \u6587\u4ef6\u5939\uff0c\u8fdb\u5165\u6587\u4ef6\u5939\uff0c\u901a\u8fc7 <code>tree</code> \u53ef\u4ee5\u67e5\u770b\u9879\u76ee\u7ed3\u6784\u3002</p> <pre><code>$ cd hello\n$ tree\n.\n\u251c\u2500\u2500 Cargo.toml\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 main.rs\n</code></pre> <p>\u5176\u4e2d <code>Cargo.toml</code> \u4e3a\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5b58\u653e\u4e86\u9879\u76ee\u7684\u76f8\u5173\u4fe1\u606f\u3001\u4f9d\u8d56\u9879\u7b49\u4fe1\u606f\u3002</p> <p>\u7531 Cargo \u751f\u6210\u7684 <code>main.rs</code> \u4f1a\u9ed8\u8ba4\u751f\u6210\u4e0a\u8ff0 <code>Hello world!</code> \u7a0b\u5e8f\uff0c\u76f4\u63a5\u7f16\u8bd1\u8fd0\u884c\u5373\u53ef\u3002</p> <pre><code>$ cargo run\n   Compiling hello v0.1.0 (/.../hello)\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.46s\n     Running `target/debug/hello`\nHello, world!\n</code></pre>"},{"location":"languages/rust/start/#rust_3","title":"Rust \u9879\u76ee\u7ed3\u6784","text":"<p>Rust \u91c7\u7528\u6a21\u5757\u5316\u7684\u9879\u76ee\u7ed3\u6784\uff0c\u6bcf\u4e2a\u6587\u4ef6/\u6587\u4ef6\u5939\u90fd\u88ab\u89c6\u4e3a\u4e00\u4e2a\u6a21\u5757\uff0c\u6587\u4ef6\u5185\u90e8\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a/\u591a\u91cd\u6a21\u5757\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>use</code> \u6765\u8bbf\u95ee\u6a21\u5757\u3002</p> <pre><code>// Consume that your src directory has main.rs and calendar.rs\nmod calendar;\nuse calendar::get_day;\n\nmod body {\n    pub mod mouth {\n        pub fn use_mouth() {}\n    }\n}\n\nmod language {\n    pub mod Chinese{\n        pub fn speak() {\n            use crate::body;\n            body::mouth::use_mouth();\n        }\n    }\n}\n\nfn main() {\n    get_day();\n    language::Chinese::speak();\n}\n</code></pre> <p>Rust \u4ee5\u5305\uff08packages\uff09\u4e3a\u9879\u76ee\u5355\u4f4d\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5305\u6784\u5efa\u3001\u6d4b\u8bd5\u3001\u5206\u4eab\u7bb1\uff08crates\uff09\uff08\u4e5f\u6210\u5355\u5143\u5305\uff0c\u5bf9\u5e94\u4e00\u4e2a\u5e93\u6216\u53ef\u6267\u884c\u6587\u4ef6\uff09\u3002\u7528\u6237\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u81ea\u5df1\u7684\u7bb1\uff0c\u901a\u8fc7\u5728 <code>Cargo.toml</code> \u7684 <code>[dependencies]</code> \u4e2d\u914d\u7f6e\u7bb1\u7684\u5bf9\u5e94\u8def\u5f84\uff0c\u5373\u53ef\u5728\u7a0b\u5e8f\u4e2d\u901a\u8fc7 <code>use</code> \u4f7f\u7528\u81ea\u5df1\u7684\u7bb1\u3002</p>"},{"location":"languages/rust/start/#cargo_1","title":"Cargo \u5305\u7ba1\u7406\u5668","text":"<p>Cargo \u662f Rust \u7684\u4e00\u4e2a\u975e\u5e38\u4fbf\u6377\u597d\u7528\u7684\u5305\u7ba1\u7406\u5668\uff08package manager\uff09\uff0c\u8bb8\u591a Rust \u7a0b\u5e8f\u5458\u90fd\u5728\u4f7f\u7528 Cargo \u6765\u7ba1\u7406\u4ed6\u4eec\u7684 Rust \u9879\u76ee\u3002Cargo \u80fd\u591f\u4e3a\u4f60\u5904\u7406\u5f88\u591a\u4efb\u52a1\uff0c\u6bd4\u5982\u6784\u5efa\u4ee3\u7801\u3001\u4e0b\u8f7d\u4ee3\u7801\u6240\u4f9d\u8d56\u7684\u5e93\uff0c\u4ee5\u53ca\u6784\u5efa\u8fd9\u4e9b\u5e93\u3002\uff08\u4ee3\u7801\u6240\u9700\u8981\u7684\u5e93\u901a\u5e38\u88ab\u79f0\u4e3a\u4f9d\u8d56\u9879\uff09</p>"},{"location":"languages/rust/start/#_3","title":"\u521b\u5efa\u9879\u76ee","text":"<pre><code>$ cargo new &lt;your-project-name&gt;\n</code></pre>"},{"location":"languages/rust/start/#_4","title":"\u7f16\u8bd1\u9879\u76ee","text":"<pre><code>$ cargo run # \u7f16\u8bd1\u5e76\u8fd0\u884c\u9879\u76ee\n$ cargo build # \u4ec5\u7f16\u8bd1\uff0c\u4e0d\u8fd0\u884c\n$ cargo check #\u4e0d\u7f16\u8bd1\uff0c\u68c0\u67e5\u9519\u8bef\n</code></pre> <p>\u5982\u679c\u5e0c\u671b\u53d1\u5e03\u9879\u76ee\uff0c\u8bf7\u4f7f\u7528 <code>cargo build --release</code> \u5bf9\u5176\u8fdb\u884c\u9879\u76ee\u4f18\u5316\u3002\uff08\u6b64\u547d\u4ee4\u5c06\u5728 target/release \u800c\u4e0d\u662f target/debug \u4e2d\u521b\u5efa\u53ef\u6267\u884c\u6587\u4ef6\uff09</p>"},{"location":"languages/rust/start/#_5","title":"\u6dfb\u52a0\u4f9d\u8d56","text":"<pre><code>$ cargo add &lt;crate&gt;\n</code></pre> <p>\u901a\u8fc7\u8be5\u547d\u4ee4\u6dfb\u52a0\u7684\u4f9d\u8d56\u5c06\u4f1a\u540c\u6b65\u81f3 <code>Cargo.toml</code>\u4e2d\u3002</p> <p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728 <code>Cargo.toml</code> \u4e2d\u5199\u5165\u4f9d\u8d56\uff0c\u968f\u540e\u901a\u8fc7 <code>cargo check</code> \u6216 <code>cargo build</code> \u76f4\u63a5\u6784\u5efa\u3002</p>"},{"location":"languages/rust/start/#_6","title":"\u81ea\u52a8\u683c\u5f0f\u5316","text":"<pre><code>$ cargo fmt\n</code></pre> <p>Cargo \u63d0\u4f9b\u4e86\u4ee3\u7801\u98ce\u683c\u7684\u81ea\u52a8\u7edf\u4e00\uff0c\u901a\u8fc7\u4e0a\u8ff0\u6307\u4ee4\u53ef\u5feb\u901f\u5b9e\u73b0\u7f29\u8fdb\u548c\u6362\u884c\u7684\u81ea\u52a8\u5bf9\u9f50\u3002</p>"},{"location":"languages/rust/start/#_7","title":"\u8fd0\u884c\u6d4b\u8bd5","text":"<p>Cargo \u53ef\u4ee5\u901a\u8fc7 <code>#[test]</code> \u6807\u6ce8\u6d4b\u8bd5\u51fd\u6570\uff0c\u901a\u8fc7 <code>cargo test</code> \u547d\u4ee4\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u3002</p> <pre><code>fn multiple(x: i32, y: i32) -&gt; i32 {\n        x * y\n}\n\n#[test]\nfn multiple_test() {\n        assert_eq!(2, multiple(1, 2));\n}\n\nfn main() {}\n</code></pre> <p>\u8fd0\u884c <code>cargo test</code> \u5e76\u67e5\u770b\u7ed3\u679c\u3002</p> <pre><code>$ cargo test\n   Compiling Test v0.1.0 (/.../my_project)\n    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.45s\n     Running unittests src/main.rs (target/debug/deps/my_project-5ab9f918a19e3cb1)\n\nrunning 1 test\ntest multiple_test ... ok\n\ntest result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7 <code>cargo test -- &lt;test-name&gt; --test-threads=1</code> \u6765\u6307\u5b9a\u6d4b\u8bd5\u548c\u540c\u65f6\u8fd0\u884c\u7684\u6d4b\u8bd5\u6570\u3002</p> <p>Tips</p> <p>\u901a\u8fc7 <code>#[cfg(test)]</code> \u53ef\u4ee5\u5b9e\u73b0\u6d4b\u8bd5\u4ee3\u7801\u4ec5\u5728\u6d4b\u8bd5\u6a21\u5f0f\u4e0b\u7f16\u8bd1\u3002</p> <p>\u66f4\u591a Cargo \u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003 Cargo \u7684\u5b98\u65b9\u6587\u6863</p> <p>\u7b2c\u4e09\u65b9\u5305\u53ef\u4ee5\u901a\u8fc7\u8be5\u94fe\u63a5\u67e5\u9605\uff1ahttps://crates.io</p>"},{"location":"languages/rust/struct/","title":"Rust \u7684\u7ed3\u6784\u4f53","text":""},{"location":"languages/rust/struct/#_1","title":"\u7ed3\u6784\u4f53\u7c7b\u578b","text":"<p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>C++ \u7684 <code>struct</code> \u672c\u8d28\u4e0a\u662f\u9ed8\u8ba4 <code>public</code> \u7684 <code>class</code>\uff0c\u56e0\u6b64\u6211\u4eec\u63a5\u4e0b\u6765\u4ec5\u8ba8\u8bba Rust <code>struct</code> \u548c C++ <code>class</code> \u7684\u533a\u522b\u3002</p> <p>Rust \u4e2d\u6ca1\u6709\u201c\u7c7b\u201d\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u4fdd\u7559\u4e86\u7ed3\u6784\u4f53\u3002</p> <pre><code>struct Person {\n    age: u32,\n    name: String\n}\n\nlet alice = Person {\n    age: 20,\n    name: String::from(\"Alice\")\n}\n</code></pre>"},{"location":"languages/rust/struct/#_2","title":"\u7ed3\u6784\u4f53\u65b9\u6cd5","text":"<p>\u7ed3\u6784\u4f53\u53ef\u4ee5\u6709\u65b9\u6cd5\u548c\u5173\u8054\u51fd\u6570\uff0c\u5728 <code>impl</code> \u5757\u4e2d\u5b9e\u73b0\u3002\u5305\u542b <code>self</code>\u3001<code>&amp;self</code> \u6216 <code>&amp;mut self</code> \u7684\u51fd\u6570\u4e3a\u65b9\u6cd5\uff0c\u7531 <code>\u7ed3\u6784\u4f53.\u65b9\u6cd5\u540d()</code> \u8c03\u7528\uff1b\u4e0d\u5305\u542b\u7684\u4e3a\u5173\u8054\u51fd\u6570\uff0c\u7528 <code>\u7ed3\u6784\u4f53\u540d::\u5173\u8054\u51fd\u6570\u540d()</code> \u7684\u65b9\u5f0f\u8c03\u7528\u3002</p> <pre><code>impl Person {\n    fn new(age: u32, name: String) -&gt; Self {\n        Self {\n            age: age,\n            name: name\n        }\n    }\n    fn hello(&amp;self) {\n        println!(\"Hello! My name is {}.\", name);\n    }\n}\n\nlet bob = Person::new(19, String::from(\"Bob\"));\nbob.hello();\n</code></pre> <p>\u6267\u884c\u4ee5\u4e0a\u4ee3\u7801\u5c06\u8f93\u51fa\uff1a</p> <pre><code>Hello! My name is Bob.\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>\u4e0a\u6587\u6240\u8ff0\u7684\u65b9\u6cd5\u548c\u5173\u8054\u51fd\u6570\u5206\u522b\u7c7b\u4f3c C++ \u4e2d\u7684\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\uff08\u5373\u5728\u7c7b\u4e2d\u7531 <code>static</code> \u4fee\u9970\u7684\u51fd\u6570\uff0c\u4e0d\u5173\u8054\u5b9e\u4f8b\u5bf9\u8c61\u800c\u5173\u8054\u7c7b\u672c\u8eab\uff09\u3002</p> <p>\u5728\u6784\u9020\u548c\u6790\u6784\u65b9\u9762\uff0c\u7531\u4e8e C++ \u91c7\u7528 RAII \u8fdb\u884c\u5185\u5b58\u7ba1\u7406\uff0c\u6bcf\u4e00\u4e2a\u7c7b\u90fd\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u6784\u9020\u51fd\u6570\u4ee5\u53ca\u4e00\u4e2a\u6790\u6784\u51fd\u6570\u3002Rust \u6ca1\u6709\u6784\u9020\u51fd\u6570\uff0c\u4f46\u6211\u4eec\u5e38\u7528\u4e00\u4e2a\u5173\u8054\u51fd\u6570\u6765\u8fdb\u884c\u7ed3\u6784\u4f53\u5bf9\u8c61\u7684\u6784\u5efa\uff08\u5982\u4e0a\u6587\u7684 <code>Person::new</code>\uff09\u3002Rust \u91c7\u7528 <code>Drop</code> trait \u6765\u7ba1\u7406\u5bf9\u8c61\u7684\u9500\u6bc1\uff0c\u5173\u4e8e trait \u7684\u8ba8\u8bba\u5c06\u5728\u540e\u7eed\u5c55\u5f00\u3002 </p>"},{"location":"languages/rust/trait/","title":"Rust \u7684\u7279\u578b","text":"<p>Rust \u5177\u6709\u4e0e C++ \u5b8c\u5168\u4e0d\u540c\u7684\u9762\u5411\u5bf9\u8c61\uff0cRust \u4e2d\u6ca1\u6709\u7ee7\u627f\u7684\u673a\u5236\uff0c\u5bf9\u4e8e\u201c\u4e0d\u540c\u7c7b\u5171\u4eab\u76f8\u540c\u7684\u884c\u4e3a\u201d\u8fd9\u6837\u7684\u8981\u6c42\uff0cRust \u4f7f\u7528\u4e00\u4e2a\u53eb\u505a <code>trait</code> \u7684\u673a\u5236\u6765\u5b9e\u73b0\u3002</p> <p>\u7ec4\u5408\u4f18\u5148\u4e8e\u7ee7\u627f</p> <p>Rust \u7279\u578b\u673a\u5236\u7684\u6838\u5fc3\u601d\u60f3\u5728\u4e8e\u201c\u7ec4\u5408\u4f18\u5148\u4e8e\u7ee7\u627f\u201d\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u7406\u5ff5\u4f7f\u5f97\u76f8\u6bd4\u8f83\u4e8e C++ \u66f4\u5173\u6ce8\u4e8e\u62bd\u8c61\u7684\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\uff0cRust \u66f4\u5173\u6ce8\u6bcf\u4e2a\u5bf9\u8c61\u7684\u7279\u6027\uff0c\u901a\u8fc7\u7279\u6027\u7684\u7ec4\u5408\u6765\u5b9a\u4e49\u4e00\u4e2a\u5b8c\u6574\u7684\u5bf9\u8c61\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u60f3\u8981\u5b9a\u4e49\u4e00\u4e2a\u9e1f\u7c7b\uff0c\u6211\u4eec\u5728\u9e1f\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u975e\u5e38\u591a\u7684\u7279\u6027\u3002\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u60f3\u628a\u4f01\u9e45\u4e5f\u52a0\u5165\u5230\u6211\u4eec\u7684\u7cfb\u7edf\u4e2d\uff0c\u4f01\u9e45\u4e5f\u662f\u9e1f\uff0c\u4f46\u662f\u4f01\u9e45\u4e0d\u4f1a\u98de\u3002\u90a3\u8fd9\u600e\u4e48\u89e3\u51b3\u5462\uff1f\u6211\u4eec\u4e0d\u5f97\u4e0d\u91cd\u6784\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u6bd4\u5982\u518d\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a\u4f1a\u98de\u7684\u9e1f\u548c\u4e0d\u4f1a\u98de\u7684\u9e1f\uff0c\u7136\u540e\u5171\u540c\u7ee7\u627f\u81ea\u62bd\u8c61\u9e1f\u3002\u7136\u540e\u6211\u4eec\u8fd8\u5f97\u628a\u8981\u6c42\u8f93\u5165\u53c2\u6570\u4e3a\u9e1f\u7684\u51fd\u6570\u90fd\u7ed9\u6309\u7167\u5b9e\u9645\u60c5\u51b5\u6539\u6210\u62bd\u8c61\u9e1f\u6216\u8005\u4f1a\u98de\u7684\u9e1f\u3002\u8fc7\u4e86\u4e00\u4f1a\uff0c\u8759\u8760\u53c8\u8981\u52a0\u5165\u3002\u8759\u8760\u5728\u98de\u884c\u65b9\u9762\u548c\u9e1f\u5f88\u50cf\uff0c\u4f46\u786e\u662f\u54fa\u4e73\u52a8\u7269\uff0c\u7ee7\u7eed\u91cd\u6784\u3002\u4e0d\u77e5\u4e0d\u89c9\u4e2d\u6211\u4eec\u7684\u4ee3\u7801\u4e5f\u8d8a\u6765\u8d8a\u62bd\u8c61\u4e86\u3002</p> <p>\u90a3\u5982\u679c\u7528\u7ec4\u5408\u8be5\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u6211\u4eec\u4e0d\u5fc5\u628a\u6240\u6709\u9e1f\u7c7b\u5171\u6027\u90fd\u653e\u5230\u9e1f\u7c7b\u91cc\u9762\uff0c\u800c\u662f\u53ef\u4ee5\u628a\u6bcf\u4e00\u4e2a\u5171\u6027\u5355\u72ec\u5b9a\u4e49\u6210\u4e00\u4e2aTrait\uff0c\u7136\u540e\u6211\u60f3\u8981\u80fd\u98de\u80fd\u5403\u996d\u4e14\u751f\u7269\u5b66\u4e0a\u662f\u9e1f\u7c7b\u7684\u751f\u7269\u7684\u65f6\u5019\u53ef\u4ee5\u628a\u53c2\u6570\u7ea6\u675f\u6210Fly+Eat+BiologicallyBird \uff0c\u53ea\u60f3\u8981\u98de\u800c\u4e0d\u5173\u5fc3\u662f\u4e0d\u662f\u9e1f\u7684\u65f6\u5019\u53ef\u4ee5\u7ea6\u675f\u6210Fly\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u7ec4\u5408\u51fa\u6211\u4eec\u60f3\u8981\u7684\u751f\u7269\u4e86\u3002</p> <p>\uff08\u53c2\u8003\u81eazhc7\u76842024\u6691\u57f9\u8bb2\u4e49\uff09</p> <p>Rust \u7684 <code>trait</code> \u673a\u5236\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\u5b9e\u73b0\uff1a</p> <pre><code>struct Cat {}\n\nstruct Dog {}\n\ntrait CanMakeSound {\n    fn make_sound(&amp;self) -&gt; String;\n}\n</code></pre> <p>\u4e0a\u6587\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53eb\u505a <code>CanMakeSound</code> \u7684 <code>trait</code>\uff0c\u5728\u5176\u4e2d\u58f0\u660e\u4e86 <code>make_sound</code> \u65b9\u6cd5\u800c\u6ca1\u6709\u5b9e\u73b0\u3002\u5982\u679c\u8981\u4e3a\u4e00\u4e2a\u7c7b\u578b\u5b9e\u73b0 <code>trait</code>\uff0c\u5219\u9700\u8981\u5b9e\u73b0\u8be5 <code>trait</code> \u7684\u6240\u6709\u65b9\u6cd5\u3002\u5b9e\u73b0 <code>trait</code> \u7684\u8bed\u6cd5\u5f62\u5982 <code>impl \u7279\u6027\u540d for \u7c7b\u578b\u540d</code>\u3002</p> <pre><code>impl CanMakeSound for Cat {\n    fn make_sound(&amp;self) -&gt; String {\n        String::from(\"Meow\")\n    }\n}\n\nimpl CanMakeSound for Dog {\n    fn make_sound(&amp;self) -&gt; String {\n        String::from(\"Woof\")\n    }\n}\n</code></pre> <p>\u5728\u4e00\u4e2a\u7c7b\u578b\u5b9e\u73b0\u8be5 <code>trait</code> \u540e\uff0c\u8fd9\u4e2a\u7c7b\u578b\u7684\u53d8\u91cf\u5c31\u53ef\u4ee5\u4f7f\u7528\u5176\u65b9\u6cd5\u3002</p> <p><pre><code>let cat = Cat {};\nlet dog = Dog {};\n\nprintln!(\"{}\\n{}\", cat.make_sound(), dog.make_sound());\n</code></pre> <code>trait</code> \u53ef\u4ee5\u62e5\u6709\u9ed8\u8ba4\u5b9e\u73b0\u3002</p> <pre><code>pub trait Fly {\n    fn fly(&amp;self) {\n        println!(\"Taking off!\");\n    }\n}\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u591a\u91cd <code>trait</code>\u3002</p> <pre><code>pub trait HaveWings() {\n    fn flap(&amp;self);\n}\n\npub trait HaveLegs() {\n    fn walk(&amp;self);\n}\n\npub trait CanFly(): HaveWings + HaveLegs {\n    fn fly(&amp;self);\n    fn land(&amp;self);\n}\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>\u5728 C++ \u4e2d\uff0c\u4e0d\u540c\u7c7b\u8981\u60f3\u5171\u4eab\u884c\u4e3a\uff0c\u5219\u9700\u8981\u58f0\u660e\u4e00\u4e2a\u57fa\u7c7b\uff0c\u5c06\u5e0c\u671b\u5171\u4eab\u7684\u884c\u4e3a\u58f0\u660e\u4e3a\u57fa\u7c7b\u4e2d\u7684\u865a\u51fd\u6570\uff0c\u7136\u540e\u5206\u522b\u7ee7\u627f\u8be5\u57fa\u7c7b\u5e76\u91cd\u8f7d\u5e0c\u671b\u5171\u4eab\u7684\u51fd\u6570\u3002\u4f8b\u5982\uff0c\u5bf9\u4e0a\u6587\u7684 <code>Cat</code> \u548c <code>Dog</code>\uff0c\u5728 C++ \u4e2d\u4f1a\u8fd9\u6837\u5b9e\u73b0\uff1a</p> <pre><code>class CanMakeSound {\n    virtual std::string make_sound() = 0;\n};\nclass Cat : public CanMakeSound {\n    std::string make_sound() override {\n        return \"Meow\";\n    }\n};\nclass Dog : public CanMakeSound {\n    std::string make_sound() override {\n        return \"Woof\";\n    }\n};\n</code></pre> <p>\u5982\u679c\u4ec5\u4ec5\u662f\u76f4\u63a5\u8fdb\u884c\u65b9\u6cd5\u8c03\u7528\uff0c\u90a3\u4e48\u4f7f\u7528\u6216\u4e0d\u4f7f\u7528 <code>trait</code> \u770b\u8d77\u6765\u5e76\u65e0\u592a\u5927\u533a\u522b\u3002\u4f46 <code>trait</code> \u8fd8\u53ef\u4ee5\u7528\u4e8e\u51fd\u6570\u53c2\u6570\u7684\u58f0\u660e\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5bf9\u53c2\u6570\u7c7b\u578b\u52a0\u4ee5\u9650\u5b9a\u800c\u4e0d\u9700\u8981\u5b8c\u5168\u786e\u5b9a\u7c7b\u578b\uff1a</p> <pre><code>fn animal_make_sound(animal: impl CanMakeSound) -&gt; String {\n    animal.make_sound()\n}\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u662f <code>Trait Bound</code> \u8bed\u6cd5\u7684\u4e00\u4e2a\u8bed\u6cd5\u7cd6\u3002\u5982\u679c\u5c55\u5f00\u5199\u5219\u5f62\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>fn animal_make_sound&lt;T: CanMakeSound&gt;(animal: T) -&gt; String {\n    animal.make_sound()\n}\n</code></pre> <p><code>Trait Bound</code> \u4e5f\u53ef\u4ee5\u4e0d\u4ec5\u5305\u542b\u4e00\u4e2a <code>trait</code>\u3002</p> <pre><code>fn some_function&lt;T: Display + Clone, U: Clone + Debug&gt;(t: T, u: U) -&gt; i32;\n// \u6b64\u5904\u7684 Display\u3001Clone \u548c Debug \u90fd\u662f rust \u8bed\u8a00\u63d0\u4f9b\u7684 trait\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u91c7\u7528 <code>where</code> \u4ece\u53e5\u6765\u7b80\u5316\u8fc7\u957f\u7684 <code>Trait Bound</code>\u3002</p> <pre><code>fn some_function&lt;T, U&gt;(t: T, u: U) -&gt; i32\n    where T: Display + Clone, U: Clone + Debug;\n</code></pre> <p>Rust \u63d0\u4f9b\u7684 traits</p> <p>\u4e8b\u5b9e\u4e0a\uff0cRust \u7684\u6807\u51c6\u5e93 <code>std</code> \u63d0\u4f9b\u4e86\u975e\u5e38\u591a\u597d\u7528\u7684 <code>trait</code>\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 <code>#[derive()]</code> \u7684\u65b9\u5f0f\uff0c\u5feb\u6377\u5730\u4e3a\u4f60\u7684\u7ed3\u6784\u4f53\u5b9e\u73b0\u6307\u5b9a <code>trait</code>\u3002 \u8fd9\u91cc\u7ed9\u51fa\u4e00\u4e9b\u5e38\u7528\u7684 trait\uff1a</p> <p><code>Debug</code>: \u53ef\u4ee5\u7528 <code>println!(\"{:?}\", my_struct)</code> \u6765\u6253\u5370\u7ed3\u6784\u4f53\u7684\u8c03\u8bd5\u4fe1\u606f\u3002</p> <p><code>Clone</code>: \u53ef\u4ee5\u4f7f\u7528 <code>my_struct.clone()</code> \u521b\u5efa\u7ed3\u6784\u4f53\u7684\u526f\u672c\u3002</p> <p><code>PartialEq</code>: \u53ef\u4ee5\u4f7f\u7528 <code>==</code> \u548c <code>!=</code> \u8fdb\u884c\u7ed3\u6784\u4f53\u5bf9\u8c61\u4e4b\u95f4\u7684\u90e8\u5206\u76f8\u7b49\u6027\u6bd4\u8f83\u3002\u5982\u679c\u8981\u5b9e\u73b0\u5b8c\u5168\u76f8\u7b49\u6027\u6bd4\u8f83\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>Eq</code>\u3002</p> <p><code>PartialOrd</code>: \u53ef\u4ee5\u4f7f\u7528 <code>&lt;</code>\u3001<code>&lt;=</code>\u3001<code>&gt;</code>\u3001<code>&gt;=</code> \u8fdb\u884c\u6bd4\u8f83\u3002</p> <p>\u66f4\u591a <code>trait</code> \u53ef\u4ee5\u53c2\u8003 Rust std \u5b98\u65b9\u6587\u6863</p>"},{"location":"languages/rust/variable/","title":"Rust \u7684\u53d8\u91cf\u4e0e\u7c7b\u578b","text":""},{"location":"languages/rust/variable/#_1","title":"\u53d8\u91cf\u58f0\u660e","text":"<p>Rust \u8bed\u8a00\u4e2d\u901a\u8fc7 <code>let</code> \u5173\u952e\u5b57\u6765\u58f0\u660e\u53d8\u91cf\u3002Rust \u662f\u4e00\u95e8\u9759\u6001\u5f3a\u7c7b\u578b\u8bed\u8a00\uff0c\u56e0\u6b64\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u3001\u4e0d\u53ef\u53d8\u7684\u7c7b\u578b\u3002\u5982\u679c\u5728\u58f0\u660e\u540c\u65f6\u521d\u59cb\u5316\uff0c\u5219\u53ef\u4ee5\u4f9d\u9760\u7f16\u8bd1\u5668\u7684\u7c7b\u578b\u63a8\u65ad\u6765\u5f97\u5230\u53d8\u91cf\u7c7b\u578b\uff0c\u4e0d\u4e00\u5b9a\u9700\u8981\u663e\u5f0f\u6307\u5b9a\u7c7b\u578b\u3002</p> <pre><code>let a: i32 = 1; // \u5b8c\u6574\u7684\u53d8\u91cf\u58f0\u660e\u548c\u521d\u59cb\u5316\nlet b: i32; // \u663e\u5f0f\u58f0\u660e\u7c7b\u578b\uff0c\u672a\u521d\u59cb\u5316\nlet c = 1; // \u58f0\u660e\u540c\u65f6\u521d\u59cb\u5316\uff0c\u7c7b\u578b\u7531\u7f16\u8bd1\u5668\u63a8\u65ad\u4e3a i32\n// let d; // \u65e2\u6ca1\u6709\u521d\u59cb\u5316\u53c8\u6ca1\u6709\u6807\u6ce8\u7c7b\u578b\uff0c\u7f16\u8bd1\u5668\u65e0\u4ece\u5f97\u77e5\u7c7b\u578b\uff0c\u7f16\u8bd1\u65e0\u6cd5\u901a\u8fc7\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>Rust \u7684 <code>let</code> \u5173\u952e\u5b57\u4e0e C++11 \u4e2d\u5f15\u5165\u7684 <code>auto</code> \u5173\u952e\u5b57\u6709\u4e00\u4e9b\u7c7b\u4f3c\u4e4b\u5904\uff0c\u4f8b\u5982\u5728\u58f0\u660e\u65f6\u521d\u59cb\u5316\u7684\u53d8\u91cf\u53ef\u4ee5\u81ea\u884c\u63a8\u65ad\u7c7b\u578b\u3002</p>"},{"location":"languages/rust/variable/#_2","title":"\u53ef\u53d8\u6027\u4e0e\u4e0d\u53ef\u53d8\u6027","text":"<p>Rust \u8bed\u8a00\u4e0e\u8bb8\u591a\u5176\u4ed6\u8bed\u8a00\u4e0d\u540c\u7684\u4e00\u70b9\u5728\u4e8e\u53d8\u91cf\u7684\u9ed8\u8ba4\u4e0d\u53ef\u53d8\u6027\uff0c\u5373\u53d8\u91cf\u7684\u503c\u9ed8\u8ba4\u662f\u4e0d\u53ef\u4fee\u6539\u7684\u3002</p> <pre><code>let a = 1;\n// a = 2; // \u53d8\u91cf a \u9ed8\u8ba4\u4e0d\u53ef\u53d8\uff0c\u7f16\u8bd1\u65e0\u6cd5\u901a\u8fc7\n</code></pre> <p>\u8981\u58f0\u660e\u4e00\u4e2a\u53ef\u53d8\u7684\u53d8\u91cf\uff0c\u9700\u8981\u52a0\u4e0a <code>mut</code> \u5173\u952e\u5b57\u3002</p> <pre><code>let mut a = 1;\na = 2; // \u53d8\u91cf a \u53ef\u53d8\uff0cOK \n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>\u7b80\u5355\u5730\u770b\uff0c<code>let</code> \u58f0\u660e\u7684\u53d8\u91cf\u66f4\u7c7b\u4f3c\u4e8e C++ \u4e2d\u7528 <code>const</code> \u58f0\u660e\u7684\u5e38\u91cf\uff0c\u800c <code>let mut</code> \u58f0\u660e\u7684\u53d8\u91cf\u66f4\u7c7b\u4f3c\u4e8e\u201c\u666e\u901a\u201d\u7684 C++ \u53d8\u91cf\u3002</p> <p>\u8fd9\u79cd\u8bf4\u6cd5\u662f\u4e0d\u4e25\u683c\u7684\uff0c\u4f46\u662f\u8fd9\u6837\u601d\u8003\u53ef\u4ee5\u5feb\u901f\u4e0a\u624b\u3002</p> <p>Rust \u7684\u8fd9\u79cd\u8bbe\u8ba1\u770b\u4f3c\u5947\u602a\uff0c\u5176\u5b9e\u4e5f\u6709\u5176\u7528\u610f\u3002\u4e00\u822c\u5927\u90e8\u5206\u53d8\u91cf\u7684\u503c\u5b9e\u9645\u4e0a\u90fd\u4e0d\u9700\u8981\u4fee\u6539\uff0c\u9ed8\u8ba4\u4e0d\u53ef\u53d8\u53ef\u4ee5\u5f3a\u5236\u7a0b\u5e8f\u5458\u601d\u8003\u53d8\u91cf\u662f\u5426\u9700\u8981\u4fee\u6539\uff0c\u4ece\u800c\u907f\u514d\u4e86\u4e00\u4e9b\u6f5c\u5728\u7684\u9519\u8bef\u3002\u800c\u5728 C++ \u4e2d\u60f3\u8fbe\u5230\u76f8\u540c\u7684\u6548\u679c\uff0c\u5219\u9700\u8981\u4e3b\u52a8\u4f7f\u7528\u5927\u91cf <code>const</code> \u5173\u952e\u5b57\uff0c\u5176\u7e41\u7410\u4f1a\u8ba9\u5927\u90e8\u5206\u7a0b\u5e8f\u5458\u4e0d\u613f\u610f\u8fd9\u4e48\u505a\u3002</p> <p>\u5982\u4f55\u6253\u5370\u4e00\u4e2a\u53d8\u91cf</p> <pre><code>let a: i32 = 1;\nprintln!(\"{}\", a);\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>println!</code> \u662f\u4e00\u4e2a\u5b8f\uff0c\u4f46\u4f7f\u7528\u8d77\u6765\u4e0e\u51fd\u6570\u5f88\u76f8\u4f3c\u3002</p>"},{"location":"languages/rust/variable/#_3","title":"\u5e38\u91cf","text":"<p>Rust \u4e2d\u7684\u5e38\u91cf\u4f7f\u7528 <code>const</code> \u5173\u952e\u5b57\u58f0\u660e\uff0c\u5e38\u91cf\u7684\u503c\u5fc5\u987b\u5728\u7f16\u8bd1\u671f\u95f4\u786e\u5b9a\u3002\u5e38\u91cf\u7684\u7c7b\u578b\u5fc5\u987b\u663e\u5f0f\u6307\u5b9a\u3002</p> <pre><code>const SECONDS_PER_DAY: i32 = 24 * 60 * 60; // \u5e38\u91cf\u7684\u503c\u5fc5\u987b\u5728\u7f16\u8bd1\u671f\u95f4\u786e\u5b9a. \u80fd\u591f\u901a\u8fc7\u7f16\u8bd1\n// const B = 1; // \u5e38\u91cf\u5fc5\u987b\u663e\u5f0f\u6307\u5b9a\u7c7b\u578b\uff0c\u7f16\u8bd1\u65e0\u6cd5\u901a\u8fc7\nconst c: i32 = 1; // \u80fd\u591f\u901a\u8fc7\u7f16\u8bd1\uff0c\u4f46\u4f1a\u88ab\u7f16\u8bd1\u5668\u8b66\u544a\uff0c\u56e0\u4e3a\u5e38\u91cf\u540d\u7684\u89c4\u8303\u662f \u5927\u5199\u5b57\u6bcd+\u4e0b\u5212\u7ebf\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>Rust \u7684 <code>const</code> \u5728\u5b9a\u4f4d\u4e0a\u548c C++ \u7684 <code>constexpr</code> \u57fa\u672c\u662f\u4e00\u81f4\u7684\u3002</p> <p>C++ \u4e2d\uff0c\u4e00\u822c\u628a <code>const</code> \u4e0e <code>constexpr</code> \u6240\u5b9a\u4e49\u7684\u91cf\u90fd\u7b3c\u7edf\u5730\u79f0\u4e3a\u201c\u5e38\u91cf\u201d\u3002\u4f46\u4ece Rust \u7684\u89c6\u89d2\u770b\uff0c\u53ea\u6709\u7f16\u8bd1\u671f\u5e38\u91cf\u624d\u662f\u771f\u6b63\u7684\u201c\u5e38\u91cf\u201d\uff0c\u800c C++ \u4e2d\u7528 <code>const</code> \u58f0\u660e\u7684\u6240\u8c13\u201c\u5e38\u91cf\u201d\u5728\u8bed\u4e49\u4e0a\u53ea\u662f\u4e00\u4e2a\u201c\u4e0d\u53ef\u53d8\u91cf\u201d\uff08readonly\uff0c\u53ea\u8bfb\uff09\uff0c\u5176\u5b9e\u53cd\u800c\u66f4\u63a5\u8fd1 \u53d8\u91cf \u800c\u4e0d\u662f \u5e38\u91cf\u3002</p> <p>\u4e5f\u8bb8\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a\u5e38\u91cf\u662f\u4e00\u4e2a\u300c\u503c\u300d\uff1b\u800c\u53d8\u91cf\u662f\u4e00\u4e2a\u300c\u5bf9\u8c61\u300d\u3001\u5176\u503c\u53ef\u80fd\u8981\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u786e\u5b9a\uff0c\u800c\u8fd9\u4e2a\u53d8\u91cf\u662f\u5426\u53ef\u53d8\u5219\u662f\u53e6\u4e00\u4e2a\u56de\u4e8b\u3002</p> <p>\u4f8b\u5982\uff0c\u5b9a\u4e49\u6570\u7ec4\u8981\u6c42\u6570\u7ec4\u7684\u957f\u5ea6\u5fc5\u987b\u662f\u5e38\u91cf\u8868\u8fbe\u5f0f\u3002\u4f46 C++ \u4e2d <code>const</code> \u58f0\u660e\u7684\u6240\u8c13\u201c\u5e38\u91cf\u201d\u5e76\u4e0d\u4e00\u5b9a\u80fd\u6ee1\u8db3\u8fd9\u70b9\uff1b\u800c C++ \u4e2d\u7684 <code>constexpr</code> \u4e0e Rust \u4e2d\u7684 <code>const</code> \u5219\u90fd\u80fd\u6ee1\u8db3\u3002</p>"},{"location":"languages/rust/variable/#_4","title":"\u53d8\u91cf\u906e\u853d","text":"<p>\u5176\u82f1\u6587\u4e3a <code>shadowing</code>\uff0c\u53ef\u88ab\u8bd1\u4e3a\u201c\u906e\u853d\u201d\u3001\u201c\u91cd\u5f71\u201d\uff0c\u662f Rust \u7684\u4e00\u79cd\u7279\u6b8a\u8bed\u6cd5\uff0c\u5141\u8bb8\u5728\u540c\u4e00\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u4e00\u4e2a\u4e0e\u4e4b\u524d\u53d8\u91cf\u540c\u540d\u7684\u65b0\u53d8\u91cf\uff0c\u4ece\u800c\u906e\u853d\u4e4b\u524d\u7684\u53d8\u91cf\u3002</p> <p>\u8fd9\u76f8\u5f53\u4e8e\u628a\u53d8\u91cf\u540d\u7ed1\u5b9a\u5230\u4e86\u4e00\u4e2a\u65b0\u7684\u503c\u4e0a\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u4e86\u539f\u6765\u7684\u503c\u3002\u8fd9\u79cd\u7279\u6027\u5728\u4e00\u4e9b\u573a\u666f\u4e0b\u5f88\u6709\u7528\uff0c\u53ef\u4ee5\u51cf\u5c11\u53d8\u91cf\u7684\u6570\u91cf\u3001\u51cf\u8f7b\u7ed9\u53d8\u91cf\u53d6\u540d\u5b57\u7684\u8d1f\u62c5\u3002</p> <pre><code>let spaces = \"   \"; // spaces \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\nlet spaces = spaces.len(); // spaces \u53d8\u6210\u4e86\u4e00\u4e2a\u6570\u5b57\n\nlet mut spaces = \"   \"; // spaces \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\n// spaces = spaces.len(); // \u7f16\u8bd1\u65e0\u6cd5\u901a\u8fc7\uff0c\u56e0\u4e3a spaces \u5df2\u7ecf\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4e0d\u80fd\u518d\u8d4b\u503c\u4e3a\u6570\u5b57\uff0c\u7c7b\u578b\u4e0d\u5339\u914d\n\nlet mut num = 1;\nnum *= 2; // OK\n</code></pre> <p>\u53d8\u91cf\u906e\u853d\u7684\u539f\u7406</p> <p>Rust \u4e2d\u53d8\u91cf\u906e\u853d\u7684\u672c\u8d28\u5176\u5b9e\u662f Rust \u7684\u6240\u6709\u6743\u7cfb\u7edf\u3002Rust \u7684\u53d8\u91cf\u66f4\u63a5\u8fd1\u4e8e C++ \u7684\u6307\u9488\uff0c\u8868\u793a\u5bf9\u5185\u5b58\u7684\u5f15\u7528\u3002</p>"},{"location":"languages/rust/variable/#_5","title":"\u53d8\u91cf\u7c7b\u578b","text":""},{"location":"languages/rust/variable/#_6","title":"\u57fa\u672c\u7c7b\u578b","text":"<p>\u6574\u6570</p> <p>Rust \u4e2d\u7684\u6574\u6570\u6709\u8bb8\u591a\u79cd\uff0c\u6309\u7167\u957f\u5ea6\u4e0d\u540c\u3001\u6709\u65e0\u7b26\u53f7\u8fdb\u884c\u533a\u5206\u3002</p> <p>Rust\u7684\u591a\u6570\u6574\u6570\u547d\u540d\u9075\u5faa\u201c\u5b57\u6bcd + \u6570\u5b57\u201d\u8fd9\u4e00\u7ed3\u6784\u3002\u5176\u4e2d\uff0c\u4ee5\u5b57\u6bcd <code>i</code> \u5f00\u5934\u7684\u7c7b\u578b\u8868\u793a\u5b83\u662f\u6709\u7b26\u53f7\u6574\u6570\uff0c\u800c\u4ee5\u5b57\u6bcd <code>u</code> \u5f00\u5934\u7684\u7c7b\u578b\u8868\u793a\u5b83\u662f\u65e0\u7b26\u53f7\u6574\u6570\uff0c\u5b57\u6bcd\u540e\u9762\u7684\u6570\u5b57\u5219\u8868\u793a\u8fd9\u4e00\u7c7b\u578b\u7684\u957f\u5ea6\uff0c\u4ece\u6700\u77ed\u7684 8 \u5b57\u8282\u5230\u6700\u957f\u7684 128 \u5b57\u8282\uff0c\u6709 <code>i8, u8, i16, u16, i32, u32, i64, u64, i128, u128</code> \u8fd9\u4e00\u7cfb\u5217\u7c7b\u578b\u3002</p> <p>\u7f16\u8bd1\u5668\u5c06\u6574\u5f62\u5b57\u9762\u91cf\u9ed8\u8ba4\u7c7b\u578b\u63a8\u5bfc\u4e3a <code>i32</code>\u3002</p> <pre><code>let a = 1; // a \u7684\u7c7b\u578b\u4e3a\uff08\u9690\u5f0f\u63a8\u5bfc\u4e3a\uff09i32\nlet b: u32 = 1; // b \u7684\u7c7b\u578b\uff08\u663e\u5f0f\u58f0\u660e\u4e3a\uff09u32\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>C/C++ \u6570\u636e\u6a21\u578b \u5e76\u6ca1\u6709\u7ed9\u6574\u5f62\u89c4\u5b9a\u5177\u4f53\u957f\u5ea6\uff0c\u53ea\u89c4\u5b9a\u4e86\u4e0d\u540c\u6574\u5f62\u4e4b\u95f4\u957f\u5ea6\u7684\u6bd4\u8f83\u5173\u7cfb\u548c\u6700\u5c0f\u957f\u5ea6\u3002\u5728\u5e38\u89c1\u7684 64 \u4f4d\u673a\u5668\u4e0a\uff0c<code>char, short, int, long long</code> \u5206\u522b\u8868\u793a 8\u300116\u300132 \u548c 64 \u4f4d\u5e26\u7b26\u53f7\u6574\u6570\uff0c\u5206\u522b\u53ef\u4ee5\u5bf9\u5e94 Rust \u7684 <code>i8, i16, i32, i64</code>\uff0c\u65e0\u7b26\u53f7\u6574\u6570\u7c7b\u4f3c\u3002</p> <p>\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u5982\u679c\u9700\u8981\u786e\u5b9a\u957f\u5ea6\u7684\u6574\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>cstdlib</code> \u4e2d\u7684 <code>int32_t</code> \u7b49\u7c7b\u578b\uff0c\u5b83\u4eec\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u6709\u4e0d\u540c\u7684 <code>typedef</code>\uff0c\u5bf9\u5e94\u4e0d\u540c\u7684\u5177\u4f53\u7c7b\u578b\u3002</p> <p>C/C++ \u6ca1\u6709\u7edf\u4e00\u7684 128 \u4f4d\u6574\u6570\u6807\u51c6\u3002</p> <p>\u540c\u65f6\uff0cRust \u8fd8\u63d0\u4f9b\u4e86\u4e24\u4e2a\u7279\u6b8a\u7684\u7c7b\u578b <code>isize</code> \u548c <code>usize</code>\uff0c\u8fd9\u4e24\u4e2a\u7c7b\u578b\u7684\u957f\u5ea6\u7531\u5e73\u53f0\u51b3\u5b9a\uff0c\u5728 32 \u4f4d\u5e73\u53f0\u4e0a\u662f 32 \u4f4d\uff0c\u5728 64 \u4f4d\u5e73\u53f0\u4e0a\u662f 64 \u4f4d\u3002\u8fd9\u4e00\u8bbe\u8ba1\u65b9\u4fbf\u4e86\u5185\u5b58\u4e2d\u7684\u5bfb\u5740\uff0c\u5982\u6570\u7ec4\u4e0b\u6807\u5c31\u63a5\u53d7 <code>usize</code> \u800c\u4e0d\u662f <code>u32</code> \u7c7b\u578b\u3002</p> <p>\u6d6e\u70b9\u6570</p> <p>\u7c7b\u4f3c\u6574\u5f62\uff0cRust \u4e2d\u7684\u6d6e\u70b9\u578b\u4ee5\u5b57\u6bcd <code>f</code> \u5f00\u5934\uff0c\u540e\u9762\u662f\u5bf9\u5e94\u7684\u957f\u5ea6\uff0c\u4f46\u53ea\u6709 <code>f32</code> \u548c <code>f64</code> \u4e24\u79cd\u7c7b\u578b\u3002</p> <p>\u7f16\u8bd1\u5668\u5c06\u6d6e\u70b9\u5b57\u9762\u91cf\u9ed8\u8ba4\u7c7b\u578b\u63a8\u5bfc\u4e3a <code>f64</code>\u3002</p> <pre><code>let f: f32 = 1.0;\nlet g = 2.0; // \u7c7b\u578b\u9ed8\u8ba4\u63a8\u5bfc\u4e3a f64\n</code></pre> <p>\u5e03\u5c14\u503c</p> <p>Rust \u4e2d\u7684\u5e03\u5c14\u578b\u4e3a <code>bool</code>\uff0c\u6709\u4e14\u4ec5\u6709\u4e24\u4e2a\u503c <code>true</code> \u548c <code>false</code>\u3002</p> <p>\u5b57\u7b26\u7c7b\u578b</p> <p>Rust \u4e2d\u4e00\u4e2a\u5b57\u7b26\u7531\u5355\u5f15\u53f7\u5305\u88f9\uff0c\u8868\u793a\u4e00\u4e2a Unicode \u5b57\u7b26\u800c\u975e\u4e00\u4e2a ASCII \u5b57\u7b26\u6216\u5b57\u8282\u3002</p> <pre><code>let ascii_char_z = 'z';\nlet heart_eyed_cat = '\ud83d\ude3b';\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>Rust \u5728\u8bbe\u8ba1\u65f6\u5c31\u8003\u8651\u5230\u4e86\u591a\u8bed\u8a00\u652f\u6301\uff0c\u56e0\u6b64\u91c7\u53d6\u4e86\u8fd9\u6837\u7684\u8bbe\u8ba1\u3002\u5982\u679c\u5e0c\u671b\u4e0e C/C++ \u4e2d\u7684 <code>unsigned char</code> \u5bf9\u5e94\uff0c\u5373\u8868\u793a\u4e00\u4e2a\u5b57\u8282\uff0c\u5e94\u5f53\u4f7f\u7528 Rust \u4e2d\u7684 <code>u8</code> \u7c7b\u578b\u3002</p>"},{"location":"languages/rust/variable/#_7","title":"\u590d\u5408\u7c7b\u578b","text":"<p>\u5143\u7ec4</p> <p>\u5143\u7ec4\u5c06\u51e0\u4e2a\u76f8\u540c\u6216\u4e0d\u540c\u7684\u7c7b\u578b\u7ec4\u5408\u4e3a\u4e00\u4e2a\u590d\u5408\u7c7b\u578b\u3002</p> <pre><code>let tuple_1: (i32, f64, bool) = (1, 2.0, false); // \u663e\u5f0f\u58f0\u660e\u7c7b\u578b\nlet tuple_2 = (3, 1.0, true); // \u9690\u5f0f\u63a8\u65ad\u7c7b\u578b\n</code></pre> <p>\u5143\u7ec4\u652f\u6301\u901a\u8fc7\u6a21\u5f0f\u5339\u914d\u6765\u89e3\u6784\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u70b9 <code>.</code> \u6765\u8bbf\u95ee\u5176\u5143\u7d20\u3002</p> <pre><code>let tuple = (1, 2.0, false);\nlet (x, y, z) = tuple;\n// \u4e0a\u9762\u7684 let \u8bed\u53e5\u521b\u5efa\u4e86 i32 \u7c7b\u578b\u7684\u53d8\u91cf x\u3001f64 \u7c7b\u578b\u7684\u53d8\u91cf y \u548c bool \u7c7b\u578b\u7684\u53d8\u91cf z\nlet xx = tuple.0;\nlet yy = tuple.1;\nlet zz = tuple.2;\n// xx, yy, zz \u5206\u522b\u5bf9\u5e94 x, y, z\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>C++ \u8bed\u8a00\u6807\u51c6\u4e2d\u5e76\u6ca1\u6709\u5143\u7ec4\u7c7b\u578b\uff0c\u4f46\u6807\u51c6\u5e93\u4e2d\u63d0\u4f9b\u4e86\u529f\u80fd\u548c\u8bed\u4e49\u90fd\u76f8\u540c\u7684 <code>std::tuple</code>\u3002\u4f46\u603b\u7684\u6765\u8bf4\uff0cC++ \u7684\u5143\u7ec4\u4f7f\u7528\u8f83\u4e3a\u7e41\u7410\uff0c\u4e0d\u5982 Rust \u4e2d\u4f5c\u4e3a\u57fa\u672c\u7c7b\u578b\u7684\u5143\u7ec4\u65b9\u4fbf\u3002</p> <p>\u6570\u7ec4</p> <p>Rust\u7684\u6570\u7ec4\u5c06\u56fa\u5b9a\u6570\u76ee\u7684\u540c\u7c7b\u578b\u53d8\u91cf\u50a8\u5b58\u5728\u4e00\u8d77\u3002</p> <pre><code>let arr_1: [i32; 5] = [1, 2, 3, 4, 5];\n// [i32; 5] \u8868\u793a\u5305\u542b5\u4e2a i32 \u7684\u6570\u7ec4\nlet arr_2 = [1.0, 2.0, 3.0, 4.0];\n// arr_2 \u7684\u7c7b\u578b\u88ab\u9690\u5f0f\u63a8\u65ad\u4e3a [f64; 4]\nlet arr_long: [i32; 100] = [0; 100];\n// arr_long \u7684\u7c7b\u578b\u4e3a [i32; 100]\uff0c\u800c\u4e14\u8fd9 100 \u4e2a\u5143\u7d20\u90fd\u662f 0\n</code></pre> <p>\u5982\u679c\u9700\u8981\u4e00\u4e2a\u53ef\u53d8\u957f\u7684\u6570\u7ec4\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 <code>Vec</code>\u3002</p> <pre><code>let arr_vec: Vec&lt;i32&gt; = Vec::new();\n// Vec::new() \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 Vec&lt;i32&gt; \u7ed3\u6784\u4f53\n</code></pre> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>Rust \u7684\u6570\u7ec4\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\uff0c\u8fd9\u4e00\u70b9\u4e0e C/C++ \u4e0d\u540c\uff08C++ \u4e2d\u7684 <code>std::tuple</code> \u4e0e Rust \u7684\u6570\u7ec4\u66f4\u52a0\u7c7b\u4f3c\uff09\u3002\u8fd9\u662f\u56e0\u4e3a Rust \u7684\u6570\u7ec4\u662f\u5728\u6808\u4e0a\u5206\u914d\u7684\u3002\u4e0e C/C++ \u7c7b\u4f3c\u7684\u662f\uff0c\u6570\u7ec4\u7684\u957f\u5ea6\u90fd\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u53d8\u957f\u7684\u7ebf\u6027\u5bb9\u5668\u5728\u4e24\u95e8\u8bed\u8a00\u4e2d\u5206\u522b\u53eb\u505a <code>std::Vec</code> \u548c <code>std::vector</code>\u3002 </p> <p>Rust \u7684\u4e0b\u6807\u8bbf\u95ee\u81ea\u5e26\u8d8a\u754c\u68c0\u67e5\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u5728\u7f16\u8bd1\u65f6\u62a5\u9519\uff1a</p> <pre><code>let arr = [1, 2, 3];\nlet element = arr[3]; // \u7f16\u8bd1\u5668\u62a5\u9519\uff1aindex out of bounds: the length is 3 but the index is 3\n</code></pre> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u80fd\u591f\u901a\u8fc7\u7f16\u8bd1\uff0c\u4f46\u5f53\u8f93\u5165\u7684\u4e0b\u6807\u8d85\u51fa\u6570\u7ec4\u957f\u5ea6\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u7acb\u5373\u9000\u51fa\u800c\u4e0d\u5141\u8bb8\u8bbf\u95ee\u8d8a\u754c\u7684\u5185\u5b58\uff1a</p> <pre><code>use std::io;\n\nlet arr = [1, 2, 3];\nlet mut index = String::new();\nio::stdin().read_line(&amp;mut index).expect(\"Failed to read line\"); // \u82e5\u8f93\u516510...\nlet index: usize = index.trim().parse().expect(\"Index must be a number\");\nlet element = arr[index]; // ...\u7a0b\u5e8f\u4ea7\u751f\u8fd0\u884c\u65f6\u9519\u8bef\u5e76\u9000\u51fa\nprintln!(\"The value of element is: {}\", element); // \u8be5\u884c\u4e0d\u4f1a\u88ab\u6267\u884c\n</code></pre>"},{"location":"languages/rust/variable/#_8","title":"\u5355\u5143\u7c7b\u578b","text":"<p>Rust \u4e2d\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5355\u5143\u7c7b\u578b \uff08Unit Type\uff09\uff0c\u4ea6\u79f0 \u5355\u4f4d\u5143\uff0c\u5b83\u7684\u7c7b\u578b\u662f <code>()</code>\uff0c\u800c\u4e14\u5b83\u552f\u4e00\u7684\u503c\u4e5f\u662f <code>()</code>\u3002\u4f8b\u5982\uff0c\u5f53\u4e00\u4e2a\u8868\u8fbe\u5f0f\u6216\u51fd\u6570\u4ec0\u4e48\u4e5f\u4e0d\u8fd4\u56de\u65f6\uff0c\u5b83\u7684\u8fd4\u56de\u7c7b\u578b\u548c\u8fd4\u56de\u503c\u5c31\u90fd\u662f <code>()</code>\u3002</p> <pre><code>fn some_func() {\n    return 0;\n}\n</code></pre> <p>\u5c1d\u8bd5\u7f16\u8bd1\u4e0a\u9762\u7684\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u5c06\u62a5\u544a\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u671f\u671b\u5f97\u5230 <code>()</code> \u800c\u5f97\u5230\u4e86\u6574\u6570\u3002\u8fd9\u8868\u660e\u65e0\u8fd4\u56de\u503c\u7684\u51fd\u6570\u5b9e\u8d28\u4e0a\u8fd4\u56de\u4e86 <code>()</code>\u3002</p> <p>\u4e0e C++ \u7684\u5bf9\u7167</p> <p>Rust \u7684 <code>()</code> \u7c7b\u4f3c C/C++ \u7684 <code>void</code>\uff0c\u4f46\u4e0e\u4e4b\u4e0d\u5b8c\u5168\u76f8\u540c\u3002\u5728\u5f00\u59cb\u7406\u89e3\u65f6\uff0c\u53ef\u4ee5\u8fd9\u6837\u5bf9\u7167\uff1b\u4f46\u8bf7\u5728\u8ba4\u771f\u63a2\u7a76 <code>()</code> \u7c7b\u578b\u7684\u8bbe\u8ba1\u65f6\u6beb\u4e0d\u7559\u60c5\u5730\u5c06\u6709\u5173 C/C++ \u4e2d\u7684 <code>void</code> \u7684\u5370\u8c61\u5168\u90e8\u629b\u5f03\u3002</p> <p>\u5173\u4e8e Unit Type</p> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4e0d\u89e3\u91ca Unit Type \u4e3a\u4f55\u8bbe\u8ba1\u6210\u5982\u6b64\uff0c\u4e5f\u4e0d\u6df1\u7a76\u5b83\u5728 Rust \u7684\u5176\u4ed6\u5730\u65b9\u6709\u54ea\u4e9b\u7528\u5904\u3002\u5982\u679c\u5bf9 Unit Type \u7684\u7ec6\u8282\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u53c2\u8003 Rust \u5b98\u65b9\u6587\u6863\u6216\u8005\u67e5\u770b \u8fd9\u4e2a StackOverFlow \u95ee\u9898\u3002</p>"},{"location":"languages/rust/whyrust/","title":"\u7ed9\u5165\u95e8 Rust \u4eba\u7684\u4e00\u70b9\u7ecf\u9a8c","text":"<p>Warning</p> <p>\u672c\u8282\u5185\u5bb9\u5b8c\u5168\u662f\u4f5c\u8005\u7684\u4e2a\u4eba\u7ecf\u9a8c\uff0c\u8bf7\u8c28\u614e\u53c2\u8003\u3002</p>"},{"location":"languages/rust/whyrust/#_1","title":"\u597d\u7684\u7f16\u7a0b\u73af\u5883\u5f88\u91cd\u8981","text":"<p>Visual Studio Code + Rust Analyzer \u53ef\u4ee5\u6784\u5efa\u8d77\u5f88\u597d\u7684 Rust \u7f16\u7a0b\u73af\u5883\u3002\u5982\u679c\u4f60\u6709 JetBrains License\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9 CLion + Rust \u63d2\u4ef6\u3002\u7406\u60f3\u7684\u60c5\u51b5\u4e0b\uff0c\u9759\u6001\u68c0\u67e5\u5de5\u5177\u53ef\u4ee5\u5b9e\u65f6\u63d0\u793a\u51fa\u4ee3\u7801\u91cc\u6240\u6709\u6ca1\u6709\u663e\u5f0f\u6807\u5b9a\u7c7b\u578b\u7684\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u6781\u5927\u63d0\u5347\u7f16\u7a0b\u4f53\u9a8c\u548c\u6548\u7387\u3002</p>"},{"location":"languages/rust/whyrust/#_2","title":"\u591a\u7ec3\u4e60","text":"<p>Rust Playground \u63d0\u4f9b\u4e86\u5728\u7ebf\u7684 Rust \u7f16\u7a0b\u73af\u5883\uff0c\u8bf7\u4e0d\u8981\u541d\u60dc\u65f6\u95f4\uff0c\u591a\u5199\u591a\u5c1d\u8bd5\uff01</p>"},{"location":"languages/rust/whyrust/#_3","title":"\u4e0d\u8981\u5bb3\u6015\u7f16\u8bd1\u9519\u8bef","text":"<p><code>rustc</code> \u662f\u4e00\u4e2a\u6781\u4e3a\u5f3a\u5927\u7684\u7f16\u8bd1\u5668\uff0c\u53ef\u4ee5\u5728\u7f16\u8bd1\u671f\u68c0\u67e5\u548c\u63d0\u793a\u51fa\u8bb8\u591a\u5176\u4ed6\u8bed\u8a00\u5728\u8fd0\u884c\u65f6\u624d\u4f1a\u53d1\u73b0\u7684\u9519\u8bef\u3002\u7136\u800c\uff0c\u8fd9\u4e5f\u4f7f\u5f97\u65b0\u624b\u5728\u7f16\u5199 Rust \u4ee3\u7801\u65f6\u66f4\u5bb9\u6613\u9047\u5230\u6d77\u91cf\u7684\u7f16\u8bd1\u9519\u8bef\u3002\u4e0d\u8981\u5bb3\u6015\uff0cRust \u7684\u7f16\u8bd1\u5668\u63d0\u793a\u6bd4 GCC \u8981\u53cb\u597d\u5f97\u591a\uff0c\u5b83\u751a\u81f3\u4f1a\u63d0\u51fa\u4e00\u4e9b\u4fee\u6539\u5efa\u8bae\uff08\u5c3d\u7ba1\u5e76\u4e0d\u4e00\u5b9a\u5bf9\uff09\uff01\u6700\u5f00\u59cb\u7684\u65f6\u5019\u4f60\u53ef\u80fd\u4f1a\u89c9\u5f97\u81ea\u5df1\u5728\u88ab\u7f16\u8bd1\u5668\u66b4\u6253\uff0c\u4f46\u968f\u7740\u7ecf\u9a8c\u589e\u52a0\uff0c\u4f60\u9010\u6e10\u5f00\u59cb\u548c\u7f16\u8bd1\u5668\u201c\u548c\u5e73\u5171\u5904\u201d\u7684\u65f6\u5019\uff0c\u4e5f\u5c31\u662f\u4f60\u5f00\u59cb\u9002\u5e94 Rust \u7684\u65f6\u5019\u3002</p>"},{"location":"languages/rust/whyrust/#_4","title":"\u770b\u6587\u6863","text":"<p>\u6807\u51c6\u5e93\u6587\u6863 \u53ef\u4ee5\u89e3\u51b3\u5f88\u591a\u7f16\u7a0b\u65f6\u9047\u5230\u7684\u56f0\u96be\u3002\u800c\u4e14\u5373\u4f7f\u662f\u5728\u65ad\u7f51\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6267\u884c <code>rustup doc</code> \u6765\u6253\u5f00\u5b8c\u6574\u7684\u672c\u5730 Rust \u6587\u6863\u3002\u67e5\u9605\u6587\u6863\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u5bf9\u4e8e Rust \u80fd\u529b\u7684\u63d0\u5347\u4e5f\u5f88\u6709\u76ca\uff01</p>"},{"location":"languages/rust/whyrust/#_5","title":"\u4f60\u7684\u6587\u6863\u8fd9\u91cc\u5199\u7684\u592a\u7b80\u7565\u4e86\uff01\u6211\u770b\u4e0d\u61c2\u600e\u4e48\u529e\uff01","text":"<p>Rust \u662f\u4e00\u95e8\u590d\u6742\u5e9e\u5927\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u7f16\u5199\u4e00\u672c\u5408\u9002\u7684 Rust \u5165\u95e8\u4e66\u7c4d\u8fdc\u8fdc\u8d85\u51fa\u6211\u7684\u80fd\u529b\uff0c\u800c\u4e14\u793e\u533a\u4e5f\u6709\u4e86\u66f4\u597d\u7684\u5165\u95e8\u65b9\u6848\u3002\u56e0\u6b64\uff0c\u8fd9\u4efd\u6587\u6863\u4ec5\u4ec5\u7ed9\u51fa\u6700\u7b80\u7565\u7684\u4ecb\u7ecd\uff0c\u540c\u65f6\u63d0\u4f9b\u4e0e C/C++ \u7684\u5bf9\u7167\u3002\u5982\u679c\u6709\u4efb\u4f55\u5730\u65b9\u770b\u4e0d\u61c2\uff0c\u8bf7\u53c2\u8003 The Book \u4e2d\u7684\u5bf9\u5e94\u7ae0\u8282\u3002</p>"},{"location":"languages/swift/","title":"Swift \u8bed\u8a00\u57fa\u7840","text":"<p>Swift \u8bed\u8a00\u662f\u82f9\u679c\u4e3b\u5bfc\u7684 \u5f00\u6e90 \u7f16\u7a0b\u8bed\u8a00\uff0c\u4e8e 2014 \u5e74\u53d1\u5e03\uff0c\u4e3b\u8981\u4f5c\u4e3a Objective-C \u7684\u66ff\u4ee3\u7528\u4e8e iOS\u3001macOS \u7b49\u5e73\u53f0\u8f6f\u4ef6\u7684\u5f00\u53d1\u3002Swift \u8bed\u6cd5\u7b80\u6d01\u7075\u6d3b\uff0c\u6027\u80fd\u63a5\u8fd1\u4e8e C \u8bed\u8a00\uff0c\u7c7b\u578b\u7cfb\u7edf\u4e25\u683c\uff0c\u5728\u63d0\u9ad8\u7f16\u7a0b\u6548\u7387\u7684\u540c\u65f6\u5927\u5927\u964d\u4f4e\u51fa\u73b0\u7f16\u7a0b\u9519\u8bef\u7684\u53ef\u80fd\uff0c\u76ee\u524d\u5df2\u6210\u4e3a\u82f9\u679c\u5e73\u53f0\u5f00\u53d1\u7684\u4e3b\u6d41\u8bed\u8a00\u3002</p> <p>Info</p> <p>\u540e\u7eed\u5185\u5bb9\u9002\u7528\u4e8e Swift 5 \u4ee5\u4e0a\u7248\u672c\u3002\u90e8\u5206\u5185\u5bb9\u4f7f\u7528\u4e86 Swift \u6807\u51c6\u5e93\u4e4b\u5916\u7684 <code>Foundation</code> \u6846\u67b6\uff0c\u5728\u4ee3\u7801\u4e2d\u9700\u8981\u52a0\u4e0a <code>import Foundation</code>\u3002</p>"},{"location":"languages/swift/#_1","title":"\u7f16\u7a0b\u73af\u5883","text":"<p>\u63a8\u8350\u4f7f\u7528 macOS \u6216 iPadOS \u8fdb\u884c Swift \u5b66\u4e60\uff1a</p> <ul> <li>macOS<ul> <li>\u547d\u4ee4\u884c\uff1a\u8f93\u5165 <code>swift</code> \u8fdb\u5165\u4ea4\u4e92\u5f0f\u7a97\u53e3</li> <li>\u6700\u65b0\u7248 Xcode\uff1aFile - New - Playground... - Blank\uff0c\u70b9\u51fb\u5de6\u4fa7\u884c\u53f7\u7f16\u8bd1\u8fd0\u884c</li> </ul> </li> <li>iPadOS<ul> <li>Swift Playgrounds\uff1a\u65b0\u5efa Playground\uff0c\u70b9\u51fb\u8fd0\u884c</li> </ul> </li> </ul>"},{"location":"languages/swift/#_2","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<p>\u65e0\u969c\u788d\u9605\u8bfb\u672c\u6587\u9700\u8981\uff1a</p> <ul> <li>\u6709\u4e00\u5b9a\u7684 C++ \u8bed\u8a00\u57fa\u7840</li> <li>\u4e86\u89e3\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u601d\u60f3\u548c\u65b9\u6cd5</li> </ul>"},{"location":"languages/swift/#_3","title":"\u8d44\u6e90\u94fe\u63a5","text":"<ul> <li>Swift \u5b98\u65b9\u6559\u7a0b</li> <li>\u82f9\u679c\u5f00\u53d1\u8005\u6587\u6863</li> </ul>"},{"location":"languages/swift/basic/","title":"\u57fa\u7840\u77e5\u8bc6","text":"<p>\u4e3a\u4e86\u66f4\u597d\u5730\u7406\u89e3\u6b63\u6587\uff0c\u6211\u4eec\u5728\u8fd9\u91cc\u5217\u4e3e\u4e00\u4e9b\u4e0e\u6b63\u6587\u6709\u5173\u7684\u57fa\u7840\u6982\u5ff5/\u77e5\u8bc6\uff1a</p>"},{"location":"languages/swift/basic/#_1","title":"\u6982\u5ff5","text":"<ul> <li>Swift \u662f\u5f3a\u7c7b\u578b\u9759\u6001\u8bed\u8a00\uff0c\u4efb\u4f55\u53d8\u91cf\u90fd\u6709\u5728\u7f16\u8bd1\u671f\u786e\u5b9a\u7684\u3001\u4e0d\u53ef\u66f4\u6539\u7684\u7c7b\u578b</li> <li>Swift \u7c7b\u578b\u7cfb\u7edf\u5728\u660e\u786e\u7684\u4e0a\u4e0b\u6587\u4e2d\u53ef\u4ee5\u81ea\u52a8\u63a8\u65ad\u7c7b\u578b</li> <li>Swift \u4e0d\u5efa\u8bae\u624b\u52a8\u7ba1\u7406\u5185\u5b58\uff0c\u6ca1\u6709\u6307\u9488</li> <li>Swift \u6ca1\u6709\u5934\u6587\u4ef6\uff0c\u5b9a\u4e49\u548c\u5b9e\u73b0\u5728\u540c\u4e00\u4e2a\u5730\u65b9</li> </ul>"},{"location":"languages/swift/basic/#_2","title":"\u57fa\u672c\u8bed\u6cd5","text":"<ul> <li>Swift \u4f7f\u7528\u6362\u884c\u5206\u9694\u4e0d\u540c\u7684\u8bed\u53e5\uff0c\u4f7f\u7528 <code>;</code> \u5206\u9694\u5904\u5728\u540c\u4e00\u884c\u7684\u4e0d\u540c\u8bed\u53e5\uff08\u4e0d\u5efa\u8bae\u4f7f\u7528\uff09</li> <li>Swift \u4e2d\u4f7f\u7528 <code>//</code> \u6216 <code>/* */</code> \u8fdb\u884c\u6ce8\u91ca</li> <li>Swift \u4e2d\u4f7f\u7528 <code>///</code> \u8fdb\u884c\u6587\u6863\u7684\u6ce8\u91ca</li> </ul>"},{"location":"languages/swift/basic/#_3","title":"\u4ee3\u7801\u89c4\u8303","text":"<ul> <li>\u4f7f\u7528\u9a7c\u5cf0\u5f0f\u547d\u540d\uff0c\u53d8\u91cf\u548c\u51fd\u6570\u5c0f\u5199\u5f00\u5934\uff0c\u5982 <code>myVariable</code>\uff0c\u7c7b\u578b\u540d\u79f0\u5927\u5199\u5f00\u5934\uff0c\u5982 <code>MyStructure</code></li> <li>\u5c3d\u91cf\u4f7f\u7528\u5355\u8bcd\u7684\u5168\u79f0\u800c\u975e\u7f29\u5199\u547d\u540d\uff0c\u65e0\u8bba\u540d\u79f0\u6709\u591a\u957f\uff0c\u5982 UIKit \u4e2d\u7684 <code>UIAdaptivePresentationControllerDelegate</code></li> </ul>"},{"location":"languages/swift/control-flow/","title":"\u6d41\u7a0b\u63a7\u5236","text":""},{"location":"languages/swift/control-flow/#if","title":"<code>if</code> \u8bed\u53e5","text":"<p>\u4f7f\u7528 <code>if</code> \u8fdb\u884c\u6761\u4ef6\u5224\u65ad\uff0c\u4e0d\u9700\u8981\u52a0\u62ec\u53f7\uff0c\u503c\u5fc5\u987b\u4e3a <code>Bool</code> \u7c7b\u578b\uff1a</p> <pre><code>if condition {\n    // statements\n} else if condition2 {\n    // statements\n} else {\n    // statements\n}\n</code></pre> <p>\u591a\u4e2a\u9700\u8981\u540c\u65f6\u6ee1\u8db3\u7684\u6761\u4ef6\u53ef\u4ee5\u7528 <code>,</code> \u9694\u5f00\uff0c\u4e0e <code>&amp;&amp;</code> \u6548\u679c\u76f8\u540c\uff1a</p> <pre><code>if condition1, condition2 {\n    // executed only if condition1 and condition2 are true\n}\n</code></pre> <p>\u4e00\u4e2a\u6216\u591a\u4e2a <code>if let</code> \u53ef\u4ee5\u548c\u6761\u4ef6\u8bed\u53e5\u5229\u7528 <code>,</code> \u7ed3\u5408\uff0c\u53ea\u9700\u8981\u5199\u4e00\u4e2a <code>if</code>\uff1a</p> <pre><code>if let data = optionalData,\n   let string = String(data: data, encoding: .utf8),\n   !string.isEmpty {\n    print(string)\n}\n</code></pre> <p>\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>if let data = optionalData {\n    if let string = String(data: data, encoding: .utf8) {\n        if !string.isEmpty {\n            print(string)\n        }\n    }\n}\n</code></pre> <p>\u5982\u679c\u6210\u5458\u662f Optional\uff0c\u53ef\u4ee5\u5229\u7528\u4e00\u79cd\u53eb\u505a optional chaining \u7684\u8bed\u6cd5\u8fdb\u884c\u89e3\u5305\uff1a</p> <pre><code>class A {\n    var foo: String?\n}\n\nclass B {\n    var a: A?\n}\n\n// b \u662f B \u7c7b\u578b\nif let stringCount = b.a?.foo?.count {\n    print(stringCount)\n}\n</code></pre> <p>\u5728\u4e00\u6761\u201c\u94fe\u201d <code>b.a?.foo?.count</code> \u4e2d\uff0c<code>a</code> \u548c <code>foo</code> \u90fd\u6709\u53ef\u80fd\u4e3a\u7a7a\uff0c\u5f53\u5176\u4e2d\u4e4b\u4e00\u4e3a\u7a7a\u65f6\uff0c<code>stringCount</code> \u4e3a <code>nil</code>\uff1b\u5f53\u5747\u4e0d\u4e3a\u7a7a\u65f6\uff0c<code>stringCount</code> \u975e\u7a7a\u3002</p>"},{"location":"languages/swift/control-flow/#guard","title":"<code>guard</code> \u8bed\u53e5","text":"<p>\u4f7f\u7528 <code>guard...else</code> \u6765\u5904\u7406\u9700\u8981\u8df3\u51fa\u5f53\u524d\u4f5c\u7528\u57df\u7684\u60c5\u5f62\u3002<code>guard</code> \u540e\u53ef\u4ee5\u662f\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e0e <code>if let</code> \u7c7b\u4f3c\u7684\u5bf9 Optional \u7684\u89e3\u5305\uff1a</p> <pre><code>func iterate(_ array: [Int]?) {\n    guard let array = array else { return }\n    // Proceed with a non-nil array\n    for element in array {\n        print(element)\n    }\n}\n</code></pre> <p><code>guard</code> \u540e\u5fc5\u987b\u6709 <code>else</code> \u8bed\u53e5\uff0c\u8868\u793a\u6761\u4ef6\u4e0d\u6210\u7acb\uff08<code>guard let</code> \u8bed\u53e5\u4e2d\u662f\u503c\u4e3a <code>nil</code>\uff09\u65f6\u5982\u4f55\u5904\u7406\u5e76\u9000\u51fa\u3002\u6ce8\u610f\uff0c<code>else</code> \u8bed\u53e5\u4e2d\u5fc5\u987b\u9000\u51fa\u5f53\u524d\u51fd\u6570\uff08<code>return</code>\uff09\u3001\u629b\u51fa\u5f02\u5e38\u6216\u89e6\u53d1\u4e25\u91cd\u9519\u8bef\uff08<code>fatalError()</code>\uff09\u3002\u603b\u4e4b\uff0c\u4e0d\u6210\u7acb\u65f6\uff0c\u51fd\u6570\u4e0d\u80fd\u591f\u7ee7\u7eed\u6267\u884c\u3002</p> <p>\u4f55\u65f6\u4f7f\u7528 <code>guard</code></p> <p><code>guard</code> \u8bed\u53e5\u5176\u5b9e\u53ef\u4ee5\u7528 <code>if</code> \u8bed\u53e5\u66ff\u4ee3\uff1a</p> <pre><code>func iterate(_ array: [Int]?) {\n    if array == nil { return }\n    for element in array! {\n        // ...\n    }\n}\n</code></pre> <p>\u90a3\u4e48\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981 <code>guard</code> \u8bed\u53e5\u5462\uff1f</p> <p><code>guard</code> \u8bed\u53e5\u8981\u6c42\u4e0d\u6ee1\u8db3\u7684\u60c5\u51b5\u4e0d\u80fd\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\uff0c\u5728\u7f16\u8bd1\u671f\u907f\u514d\u4e86\u9700\u8981\u7acb\u5373\u8fd4\u56de\u4f46\u6ca1\u6709\u8fd4\u56de\u7684\u60c5\u51b5\uff0c\u5982\uff1a</p> <pre><code>func unlockPaidItem() {\n    let userSubscribed = getSubscriptionStatus()\n    guard userSubscribed else {\n        showAlert(\"You have not subscribed yet!\")\n        // Forget to return here!\n    }\n    paidItem.unlock()\n}\n// error: 'guard' body must not fall through,\n// consider using a 'return' or 'throw' to exit the scope\n</code></pre> <p>\u5982\u679c\u4f7f\u7528 <code>if</code>\uff0c\u4e0a\u9762\u7684\u60c5\u51b5\u4e0d\u4f1a\u4ea7\u751f\u7f16\u8bd1\u9519\u8bef\uff0c\u53ef\u80fd\u8981\u5230\u8fd0\u884c\u671f\u95f4\u51fa\u73b0\u95ee\u9898\u624d\u80fd\u53d1\u73b0\u9519\u8bef\u3002</p>"},{"location":"languages/swift/control-flow/#for","title":"<code>for</code> \u5faa\u73af\u8bed\u53e5","text":"<p>\u5728 Swift 3 \u4e2d\uff0cC \u98ce\u683c for \u5faa\u73af\u88ab\u5220\u9664\uff0c\u4ece\u6b64 Swift \u53ea\u652f\u6301 <code>for ... in ...</code> \u7c7b\u578b\u7684 <code>for</code> \u5faa\u73af\u3002</p> <p>Swift \u4e2d\u8303\u56f4\u53ef\u4ee5\u7528 <code>...</code> \u548c <code>..&lt;</code> \u8868\u793a\uff0c\u524d\u8005\u8868\u793a\u95ed\u533a\u95f4\uff0c\u540e\u8005\u8868\u793a\u524d\u95ed\u540e\u5f00\u533a\u95f4\uff1b\u4f7f\u7528 <code>stride(from:to:by:)</code> \u4ee5\u7279\u5b9a\u6b65\u957f\u8fdb\u884c\u904d\u5386\uff1a</p> <pre><code>for i in 0...10 {\n    // Iterate through 1, 2, ..., 10\n}\n\nfor i in 0..&lt;10 {\n    // Iterate through 1, 2, ..., 9\n}\n\nfor tickMark in stride(from: 0, to: 60, by: 5) {\n    // render the tick mark every 5 minutes (0, 5, 10, 15 ... 45, 50, 55)\n}\n</code></pre> <p>\u53e6\u5916\uff0c\u6570\u7ec4\u7b49\u4e5f\u53ef\u4f7f\u7528 <code>for</code> \u5faa\u73af\u8fdb\u884c\u904d\u5386\uff1a</p> <pre><code>for value in [1, 2, 3] {\n    print(value)\n}\n</code></pre>"},{"location":"languages/swift/control-flow/#while-repeat-while","title":"<code>while</code> \u548c <code>repeat-while</code> \u8bed\u53e5","text":"<p><code>while</code> \u5faa\u73af\u548c C/C++ \u76f8\u540c\uff0c<code>repeat-while</code> \u5faa\u73af\u5bf9\u5e94 <code>do-while</code> \u5faa\u73af\uff1a</p> <pre><code>while condition {\n    // statements\n}\n\nrepeat {\n    // statements\n} while condition\n</code></pre>"},{"location":"languages/swift/control-flow/#switch","title":"<code>switch</code> \u8bed\u53e5","text":"<p><code>switch</code> \u8bed\u53e5\u7528\u4e8e\u5339\u914d\u503c\uff0c\u53ef\u4ee5\u7528\u8303\u56f4\u8868\u8fbe\u5f0f\u8fdb\u884c\u8303\u56f4\u5339\u914d\u3002</p> <p>\u4e0e C/C++ \u4e0d\u540c\uff0c\u5339\u914d\u540e\u8df3\u51fa <code>switch</code> \u4e0d\u9700\u8981 <code>break</code> \u8bed\u53e5\uff0c\u5982\u679c\u9700\u8981\u8df3\u5230\u4e0b\u4e00\u4e2a <code>case</code>\uff0c\u4f7f\u7528 <code>fallthrough</code>\u3002</p> <pre><code>let age = 21\nswitch age {\ncase 0:\n    print(\"New born\")\ncase 1..&lt;10:\n    print(\"Child\")\ncase 1..&lt;25:\n    print(\"Young people\")\ndefault:\n    print(\"I don't care about it right now\")\n}\n\n// Young People\n</code></pre> <p>Info</p> <p>Swift \u4e2d\u7684 <code>switch</code> \u8bed\u53e5\u6709\u975e\u5e38\u591a\u7528\u6cd5\uff0c\u8be6\u89c1 \u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"languages/swift/control-flow/#_1","title":"\u63a7\u5236\u8f6c\u79fb","text":"<p>\u5728\u5faa\u73af\u4e2d\uff0c\u4f7f\u7528 <code>continue</code> \u8f6c\u5230\u4e0b\u4e00\u6b21\u5faa\u73af\uff1a</p> <pre><code>var characters = \"\"\nfor character in \"Swift Programming Language\" {\n    if character == \" \" {\n        continue\n    }\n    characters.append(character)\n}\n</code></pre> <p>\u4f7f\u7528 <code>break</code> \u9000\u51fa\u5faa\u73af\uff1a</p> <pre><code>for character in \"Swift Programming Language\" {\n    if character == \" \" {\n        print(\"Blank character exists!\")\n        break\n    }\n}\n</code></pre> <p>\u4f7f\u7528\u6807\u7b7e\u8de8\u8d8a\u591a\u5c42\u5faa\u73af\u8fdb\u884c\u63a7\u5236\uff1a</p> <pre><code>let words = [\"Swift\", \"\u70eb\", \"Programming\", \"Language\"]\nouterLoop: for word in words {\n    // A stupid switch just to demostrate\n    switch word.first {\n    case \"S\": print(\"Swift\")\n    case \"P\": print(\"Programming\")\n    case \"L\": print(\"Language\")\n    default:\n        print(\"Invalid word!\")\n        break outerLoop\n    }\n}\n\n// Swift\n// Invalid word!\n</code></pre>"},{"location":"languages/swift/extensions/","title":"\u540e\u7eed\u62d3\u5c55","text":""},{"location":"languages/swift/extensions/#_1","title":"\u8bed\u8a00\u8bbe\u8ba1\u76f8\u5173","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4e0e Swift \u8bed\u8a00\u8bbe\u8ba1\u7684\u53d1\u5c55\u53ca\u5176\u4e2d\u7684\u601d\u60f3\u76f8\u5173\u7684\u5185\u5bb9\uff1a</p> <ul> <li>Swift \u4e2d\u7684\u9762\u5411\u534f\u8bae\u7f16\u7a0b\uff1aWWDC \u4e2d\u5b98\u65b9\u5bf9\u4e8e Swift \u4e2d POP \u601d\u60f3\u7684\u4ecb\u7ecd</li> <li>Swift \u8bed\u8a00\u8fdb\u5316\u6587\u6863\uff1a\u8bb0\u5f55\u4e86 Swift \u53d1\u5c55\u8fc7\u7a0b\u4e2d\u7684\u63d0\u8bae\u53ca\u5176\u80cc\u540e\u7684\u60f3\u6cd5</li> </ul>"},{"location":"languages/swift/extensions/#_2","title":"\u66f4\u591a\u8bed\u6cd5\u77e5\u8bc6","text":"<p>\u524d\u9762\u4ecb\u7ecd\u7684\u662f Swift \u7684\u4e3b\u8981\u8bed\u6cd5\u77e5\u8bc6\u3002\u4e0d\u8fc7\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u6216\u8005\u9700\u8981\u4f7f\u7528\u66f4\u52a0\u9ad8\u7ea7\u7684\u8bed\u6cd5\uff0c\u9650\u4e8e\u7bc7\u5e45\u65e0\u6cd5\u5c55\u5f00\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u8d44\u6e90\u8fdb\u884c\u5b66\u4e60\uff1a</p> <ul> <li>\u9519\u8bef\u5904\u7406</li> <li>\u5e76\u53d1</li> <li>\u4e0b\u6807\u91cd\u8f7d</li> <li>\u5f15\u7528\u8ba1\u6570</li> <li>\u5185\u5b58\u5b89\u5168</li> <li>\u9ad8\u7ea7\u8fd0\u7b97\u7b26</li> </ul> <p>\u4ee5\u4e0b\u8bed\u6cd5\u77e5\u8bc6\u5728 SwiftUI \u4e2d\u975e\u5e38\u91cd\u8981\uff08\u57fa\u672c\u4e0a\u5c31\u662f\u4e3a\u4e86 SwiftUI \u800c\u8bbe\u8ba1\u7684\uff09\uff1a</p> <ul> <li>Property Wrapper</li> <li>Opaque Types</li> <li>Result Builder</li> </ul> <p>\u4ee5\u4e0a\u5185\u5bb9\u5747\u6765\u81ea\u4e8e Swift \u5b98\u65b9\u6559\u7a0b\u3002</p> <p>\u4f5c\u4e3a\u4e3b\u8981\u7528\u4e8e iOS \u7b49\u5e73\u53f0\u5e94\u7528\u5f00\u53d1\u7684\u8bed\u8a00\uff0cSwift \u7684\u5f88\u591a\u8bed\u6cd5\u90fd\u662f\u4e3a\u4e86\u89e3\u51b3\u5f00\u53d1\u7684\u95ee\u9898\u800c\u8bbe\u8ba1\u7684\u3002\u56e0\u6b64\uff0c\u53ea\u6709\u771f\u6b63\u4e0a\u624b\u5e94\u7528\u5f00\u53d1\uff0c\u5728\u5f00\u53d1\u4e2d\u4e0d\u65ad\u9047\u5230\u95ee\u9898\u3001\u89e3\u51b3\u95ee\u9898\uff0c\u624d\u80fd\u771f\u6b63\u638c\u63e1 Swift \u8bed\u8a00\u3002</p>"},{"location":"languages/swift/generics/","title":"\u6cdb\u578b","text":"<p>\u6cdb\u578b\u5bf9\u5e94 C++ \u4e2d\u6a21\u7248\u7684\u6982\u5ff5\uff0c\u51fd\u6570\u3001\u7c7b\u578b\u548c\u534f\u8bae\u5747\u53ef\u8fdb\u884c\u6cdb\u578b\u7f16\u7a0b\uff1a</p> <pre><code>func swapTwoValues&lt;T&gt;(_ a: inout T, _ b: inout T)\nstruct Array&lt;Element&gt; {...}\nprotocol View {\n    associatedtype Body: View\n}\n</code></pre>"},{"location":"languages/swift/generics/#_1","title":"\u51fd\u6570\u6cdb\u578b","text":"<p>\u5728\u51fd\u6570\u540d\u540e\u52a0\u4e0a <code>&lt;\u7c7b\u578b\u53c2\u6570&gt;</code>\uff0c\u53c2\u6570\u53ef\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\uff1a</p> <pre><code>func swapTwoValues&lt;T&gt;(_ a: inout T, _ b: inout T) {\n    let temporaryA = a\n    a = b\n    b = temporaryA\n}\n</code></pre> <p>Info</p> <p><code>inout</code> \u5173\u952e\u5b57\u7528\u4e8e\u51fd\u6570\u53c2\u6570\uff0c\u8868\u793a\u4f20\u9012\u5f15\u7528\u800c\u975e\u503c\uff0c\u8be6\u89c1 \u5b98\u65b9\u6559\u7a0b\u3002</p> <p>\u8c03\u7528\u65f6\uff0c\u7531\u4e8e Swift \u6709\u81ea\u52a8\u7c7b\u578b\u63a8\u65ad\uff0c\u4e0d\u9700\u8981\u663e\u5f0f\u5199\u51fa\u7c7b\u578b\uff1a</p> <pre><code>var a = 1\nvar b = 2\nswapTwoValues(&amp;a, &amp;b)\n</code></pre>"},{"location":"languages/swift/generics/#_2","title":"\u7c7b\u578b\u6cdb\u578b","text":"<p>\u5728\u7c7b\u578b\u540d\u540e\u52a0\u4e0a <code>&lt;\u7c7b\u578b\u53c2\u6570&gt;</code>\uff0c\u5982\u4e4b\u524d\u4ecb\u7ecd\u7684 <code>Optional</code>\uff1a</p> <pre><code>enum Optional&lt;Wrapped&gt; {\n    case some(Wrapped)\n    case none\n}\n</code></pre> <p>\u518d\u5982\uff0c<code>Array</code> \u7b49\u5185\u7f6e\u7c7b\u578b\uff1a</p> <pre><code>struct Array&lt;Element&gt; {\n    ...\n}\n</code></pre>"},{"location":"languages/swift/generics/#_3","title":"\u534f\u8bae\u6cdb\u578b","text":"<p>\u534f\u8bae\u7684\u6cdb\u578b\u4e0e\u524d\u4e24\u7c7b\u6709\u6240\u4e0d\u540c\uff0c\u9700\u8981\u5728\u534f\u8bae\u4f53\u5185\u7528 <code>associatedtype</code> \u58f0\u660e\uff1a</p> <pre><code>protocol Sequence {\n    associatedtype Element\n}\n</code></pre> <p>\u67d0\u4e2a\u7c7b\u578b\u9075\u5faa\u534f\u8bae\u65f6\uff0c\u7c7b\u578b\u58f0\u660e\u4e2d\u9700\u8981\u8bf4\u660e\u534f\u8bae\u5185\u6240\u6709 <code>associatedtype</code> \u7684\u771f\u5b9e\u7c7b\u578b\uff1a</p> <pre><code>struct MyIntArray: Sequence {\n    typealias Element = Int\n}\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4f7f\u7528 <code>typealias</code> \u6307\u51fa\u4e86 <code>Sequence</code> \u4e2d <code>Element</code> \u7684\u7c7b\u578b\u4e3a <code>Int</code>\u3002</p> <p><code>typealias</code></p> <p><code>typealias</code> \u5173\u952e\u5b57\u7528\u6765\u7ed9\u7c7b\u578b\u8d4b\u4e88\u522b\u540d\uff0c\u7c7b\u4f3c\u4e8e C \u4e2d\u7684 <code>typedef</code> \u548c C++ \u4e2d\u7684 <code>using</code>\u3002</p>"},{"location":"languages/swift/generics/#_4","title":"\u7c7b\u578b\u7ea6\u675f","text":"<p>\u5b9a\u4e49\u6cdb\u578b\u65f6\uff0c\u53ef\u4ee5\u5bf9\u7c7b\u578b\u4f5c\u4e00\u5b9a\u7ea6\u675f\uff0c\u4f7f\u5f97\u6211\u4eec\u80fd\u591f\u83b7\u5f97\u5173\u4e8e\u6a21\u7248\u7c7b\u578b\u7684\u66f4\u591a\u4fe1\u606f\u3002\u6bd4\u5982\u4e4b\u524d\u63d0\u5230\u7684 <code>Equatable</code>\uff1a</p> <pre><code>func isEqual&lt;T: Equatable&gt;(lhs: T, rhs: T) -&gt; Bool {\n    return lhs == rhs // equatable\n}\n\nstruct EquatableArray&lt;Element&gt; where Element: Equatable {...}\nstruct EquatableArray&lt;Element: Equatable&gt; {...}\n\nprotocol EquatableSequence {\n    typealias Element: Equatable\n}\n</code></pre> <p>\u901a\u8fc7\u9650\u5236 <code>T</code> \u7684\u7c7b\u578b\u4e3a <code>Equatable</code>\uff0c\u6211\u4eec\u7684 <code>isEqual</code> \u5f97\u4ee5\u8c03\u7528 <code>==</code> \u8fd0\u7b97\u7b26\u5224\u65ad\u662f\u5426\u76f8\u7b49\u3002</p>"},{"location":"languages/swift/internal-types/","title":"\u90e8\u5206\u5185\u7f6e\u7c7b\u578b","text":""},{"location":"languages/swift/internal-types/#_1","title":"\u8fd0\u7b97\u76f8\u5173","text":"<ul> <li><code>Int</code>\u3002\u6574\u578b\uff0c\u5728 32 / 64 \u4f4d\u673a\u5668\u4e0a\u5206\u522b\u4e3a 32 / 64 \u4f4d\uff0c\u5982\u65e0\u7279\u6b8a\u9700\u6c42\u76f4\u63a5\u4f7f\u7528 <code>Int</code> \u5373\u53ef</li> <li><code>Double</code>\u3002\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570</li> <li><code>Float</code>\u3002\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570</li> </ul> <p>\u8fd9\u4e9b\u7c7b\u578b\u5747\u4e3a <code>struct</code>\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u4eec\u662f\u503c\u7c7b\u578b\uff0c\u4f20\u9012\u526f\u672c\u3002</p> <p><code>Int</code> \u548c <code>Double</code> \u90fd\u6709\u5bf9\u5e94\u7684\u5b57\u9762\u503c\uff0c\u5b57\u9762\u503c\u4e0e\u53d8\u91cf\u662f\u7b49\u6548\u7684\uff0c\u53ef\u4ee5\u8c03\u7528\u7c7b\u578b\u7684\u65b9\u6cd5\uff1a</p> <pre><code>print(12.negate())            // Int, -12\nprint(1.2.isEqual(to: 1.2))   // Double, true\n</code></pre> <p>Swift \u6ca1\u6709 <code>++</code> \u8fd0\u7b97\u7b26\uff0c\u4f7f\u7528 <code>+= 1</code> \u4ee3\u66ff\u3002</p>"},{"location":"languages/swift/internal-types/#_2","title":"\u5b57\u7b26\u4e32","text":""},{"location":"languages/swift/internal-types/#_3","title":"\u5b57\u7b26\u4e32\u4e0e\u5b57\u7b26\u4e32\u5b57\u9762\u503c","text":"<p>Swift \u4e2d\uff0c\u5b57\u7b26\u4e32\u7c7b\u578b\u4e3a <code>String</code>\uff0c\u4e5f\u662f <code>struct</code>\u3002</p> <p>\u5b57\u7b26\u4e32\u5b57\u9762\u503c\u3001\u5b57\u7b26\u5e38\u91cf\u5747\u4f7f\u7528\u4e24\u4e2a\u53cc\u5f15\u53f7\u8868\u793a\uff1a</p> <pre><code>let greeting = \"Hello, World!\"      // String\nlet myCharacter: Character = \"H\"    // Character\n</code></pre> <p>\u591a\u884c\u5b57\u7b26\u4e32\u4f7f\u7528\u524d\u540e\u4e09\u4e2a\u5f15\u53f7\u5305\u56f4\uff1a</p> <pre><code>let softWrappedQuotation = \"\"\"\nThe White Rabbit put on his spectacles.  \"Where shall I begin, \\\nplease your Majesty?\" he asked.\n\n\"Begin at the beginning,\" the King said gravely, \"and go on \\\ntill you come to the end; then stop.\"\n\"\"\"\n</code></pre> <p>\u4ece\u884c\u5f00\u5934\u5230\u4e0e\u672b\u5c3e <code>\"\"\"</code> \u7684\u7b2c\u4e00\u4e2a\u5f15\u53f7\u4e4b\u95f4\u7684\u7a7a\u767d\u5b57\u7b26\u5c06\u88ab\u5ffd\u7565\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u539f\u59cb\u5b57\u7b26\u4e32\uff08raw string\uff09\u7528 <code>#\" \"#</code> \u6216 <code>#\"\"\" \"\"\"#</code> \u5305\u56f4\uff1a</p> <pre><code>let regex = #\"\\d{1,7}\"#\n</code></pre> <p>\u5b57\u7b26\u4e32\u53d8\u91cf\u662f\u53ef\u4ee5\u66f4\u6539\u7684\uff1a</p> <pre><code>var myString = \"Swift\"\nmyString += \" Programming Language\"\n</code></pre>"},{"location":"languages/swift/internal-types/#_4","title":"\u5b57\u7b26\u4e32\u683c\u5f0f\u5316","text":"<p>Swift \u5b57\u7b26\u4e32\u6709\u4e00\u79cd\u4e0e Python \u4e2d\u7684 <code>fstring</code> \u7c7b\u4f3c\u7684\u5c06\u4efb\u610f\u7c7b\u578b\u53d8\u91cf\u63d2\u5165\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5\uff1a</p> <pre><code>let name = \"Jack\"\nprint(\"Hello, \\(name)!\")\n</code></pre> <p><code>String</code> \u8fd8\u63d0\u4f9b\u4e86 C \u98ce\u683c\u7684\u683c\u5f0f\u5316\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u5176\u5360\u4f4d\u7b26\u4e0e C \u6709\u4e0d\u540c\uff1a</p> <pre><code>let name = \"Jack\"\nprint(String(format: \"Hello, %@\", name))\n</code></pre>"},{"location":"languages/swift/internal-types/#_5","title":"\u96c6\u5408\u7c7b\u578b","text":""},{"location":"languages/swift/internal-types/#array","title":"\u53ef\u53d8\u6570\u7ec4 <code>Array</code>","text":"<p>\u53ef\u53d8\u6570\u7ec4\uff0c\u76f8\u5f53\u4e8e <code>std::vector</code>\uff0c\u4e3a\u503c\u7c7b\u578b\u3002</p> <p><code>Array</code> \u7c7b\u578b\u6709\u4e24\u79cd\u7b49\u4ef7\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u4e00\u822c\u4f7f\u7528\u7b2c\u4e00\u79cd\uff1a</p> <pre><code>var rectangles: [Rectangle]\nvar rectangles: Array&lt;Rectangle&gt;\n</code></pre> <p><code>Array</code> \u6709\u4ee5\u4e0b\u51e0\u79cd\u5e38\u89c1\u7684\u6784\u9020\u65b9\u6cd5\uff1a</p> <pre><code>let values = [Int]()    // \u7a7a\u6570\u7ec4\nlet values = [1, 2, 3]\nlet values = [Int](repeating: 0, count: 3)  // [0, 0, 0]\n</code></pre> <p>\u4f7f\u7528 <code>append</code>\u3001\u52a0\u6cd5\u8fd0\u7b97\u7b26\u589e\u52a0\u5143\u7d20\uff1a</p> <pre><code>var values = [Int]()\nvalues.append(1)    // [1]\nvalues += values    // [1, 1]\n</code></pre> <p>\u4f7f\u7528 <code>remove(at:)</code> \u5220\u9664\u5143\u7d20\uff1a</p> <pre><code>var values = [1, 2, 3]\nlet removedValue = values.remove(at: 0) // [2, 3], removedValue == 1\n</code></pre> <p>\u4f7f\u7528\u4e0b\u6807\u3001<code>first</code>\u3001<code>last</code> \u7b49\u6765\u7d22\u5f15\uff0c\u901a\u8fc7 <code>count</code> \u83b7\u53d6\u6570\u91cf\uff1a</p> <pre><code>let values = [1, 2, 3]\nprint(values[1])    // 2\nprint(values.first) // Optional(1)\nprint(values.last)  // Optional(3)\nprint(values.count) // 3\n</code></pre> <p>\u4e00\u4e9b\u5e38\u7528\u7684\u5bf9\u6570\u7ec4\u8fdb\u884c\u904d\u5386\u6216\u8005\u8f6c\u6362\u7684\u51fd\u6570\uff1a</p> <pre><code>let values = [1, 2, 3]\n// \u904d\u5386\nvalues.forEach { print($0) }              // prints 1, 2, 3\n// \u904d\u5386\uff0c\u5c06\u5176\u5143\u7d20\u4f9d\u6b21\u8f6c\u6362\nlet strings = values.map { String($0) }   // [\"1\", \"2\", \"3\"]\n// \u901a\u8fc7\u89c4\u5219\u8fc7\u6ee4\nlet filteredValues = values.filter { $0 &gt; 1 } // [2, 3]\n// \u904d\u5386\uff0c\u5c06\u7ed3\u679c\u7d2f\u79ef\nlet sum = values.reduce(0, { $0 + $1 })   // 0 + 1 + 2 + 3 = 6\n</code></pre> <p>\u5f53\u7136\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>for</code> \u5faa\u73af\u8fdb\u884c\u904d\u5386\uff1a</p> <pre><code>for value in values {\n    print(value)\n}\n\nfor index in values.indices {\n    print(\"value at index \\(index) is \\(values[index])\")\n}\n</code></pre>"},{"location":"languages/swift/internal-types/#dictionary","title":"\u952e\u503c\u5bf9 <code>Dictionary</code>","text":"<p>\u952e\u503c\u5bf9\uff0c\u5bf9\u5e94 <code>std::map</code>\uff0c\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u76f8\u540c\u3002</p> <p><code>Dictionary</code> \u4e3a\u503c\u7c7b\u578b\uff0c\u4f20\u9012\u526f\u672c\u3002</p> <p>\u4e24\u79cd\u7b49\u4ef7\u7684\u8868\u793a\u65b9\u6cd5\uff1a</p> <pre><code>var grades: [String: Double]\nvar grades: Dictionary&lt;String, Double&gt;\n</code></pre> <p>\u4e00\u4e9b\u5e38\u7528\u7684\u6784\u9020\u65b9\u6cd5\uff1a</p> <pre><code>let grades: [String: Double] = [:]  // \u7a7a\nlet grades = [String: Double]()     // \u7a7a\nlet grades = [\"Alice\": 4.0, \"Bob\": 3.9]\n</code></pre> <p>\u901a\u8fc7\u952e\u83b7\u53d6\u5143\u7d20\uff0c\u7c7b\u578b\u4e3a Optional\uff1a</p> <pre><code>let grades = [\"Alice\": 4.0, \"Bob\": 3.9]\ngrades[\"Carol\"] // nil\ngrades[\"Alice\"] // Optional(4.0)\n</code></pre> <p>\u901a\u8fc7\u952e\u589e\u52a0\u6216\u66f4\u6539\u5143\u7d20\uff1a</p> <pre><code>var grades = [\"Alice\": 4.0, \"Bob\": 3.9]\ngrades[\"Carol\"] = 3.8\ngrades[\"Alice\"] = 3.99\n</code></pre> <p>\u4f7f\u7528 <code>for</code> \u5faa\u73af\u8fdb\u884c\u904d\u5386\uff1a</p> <pre><code>for (name, grade) in grades {\n    print(\"\\(name)'s grade is \\(grade)\")\n}\n</code></pre>"},{"location":"languages/swift/types/","title":"\u7c7b\u578b","text":"<p>Swift \u4e00\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\u662f\u7c7b\u578b\u3002\u7c7b\u578b\u662f Swift \u4e2d\u5b9e\u73b0\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08object-oriented programming\uff09\u3001\u9762\u5411\u534f\u8bae\u7f16\u7a0b\uff08protocol-oriented programming\uff09\u4ee5\u53ca\u6cdb\u578b\u7f16\u7a0b\uff08generic programming\uff09\u7684\u57fa\u7840\u3002</p> <p>\u5728 Swift \u4e2d\uff0c\u6240\u6709\u53d8\u91cf\u7684\u7c7b\u578b\u8981\u4e48\u5c5e\u4e8e\uff1a</p> <ul> <li><code>class</code></li> <li><code>struct</code></li> <li><code>enum</code></li> <li><code>protocol</code>\uff08\u4e00\u5b9a\u6761\u4ef6\u4e0b\uff09</li> </ul> <p>\u8981\u4e48\u5c5e\u4e8e\uff1a</p> <ul> <li><code>tuple</code></li> <li>\u51fd\u6570</li> </ul> <p>\u6211\u4eec\u5206\u522b\u4ecb\u7ecd\u4e0a\u9762\u7684\u51e0\u79cd\u7c7b\u578b\uff0c\u5728\u5176\u4e2d\u4f1a\u8ba8\u8bba\u5b83\u4eec\u4e4b\u95f4\u7684\u8054\u7cfb\u4e0e\u533a\u522b\u3002</p>"},{"location":"languages/swift/types/#class","title":"\u7c7b <code>class</code>","text":"<p>Swift \u4e2d\u7684 <code>class</code> \u4e0e C++ \u7c7b\u4f3c\u3002</p> <pre><code>class Counter {\n    private(set) var count = 0\n    func increment() {\n        count += 1\n    }\n    func increment(by amount: Int) {\n        count += amount\n    }\n    func reset() {\n        count = 0\n    }\n}\n</code></pre>"},{"location":"languages/swift/types/#_1","title":"\u6210\u5458\u51fd\u6570\u3001\u6210\u5458\u53d8\u91cf\u53ca\u5176\u8bbf\u95ee\u63a7\u5236","text":"<p>Swift \u4e2d\u6210\u5458\u51fd\u6570\u548c\u6210\u5458\u53d8\u91cf\u7684\u6982\u5ff5\u4e0e C++ \u57fa\u672c\u4e00\u81f4\uff0c\u4e00\u4e2a\u7c7b\u5bf9\u8c61\u62e5\u6709\u72ec\u7acb\u7684\u6210\u5458\u53d8\u91cf\uff0c\u6210\u5458\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u6240\u6709\u7684\u6210\u5458\u53d8\u91cf\u3002</p> <p><code>class</code> \u7684\u8bbf\u95ee\u63a7\u5236\u901a\u8fc7\u5728\u6210\u5458\u58f0\u660e\u524d\u52a0\u4e0a\u4fee\u9970\u7b26\u5b9e\u73b0\uff0c\u5305\u62ec\uff1a</p> <ul> <li><code>public</code>\uff1a\u9ed8\u8ba4\uff0c\u5916\u754c\u53ef\u8bbf\u95ee\uff0c\u53ef\u5199</li> <li><code>private</code>\uff1a\u5916\u754c\u4e0d\u53ef\u8bbf\u95ee</li> <li><code>private(set)</code>\uff08\u6210\u5458\u53d8\u91cf\uff09\uff1a\u5916\u754c\u53ef\u8bbf\u95ee\uff0c\u4e0d\u53ef\u5199</li> </ul> <p>\u5728\u7c7b\u4e2d\u901a\u8fc7 <code>self</code> \u5f15\u7528\u81ea\u8eab\uff0c\u5982\u679c\u4e0d\u4f1a\u4ea7\u751f\u6b67\u4e49\uff0c\u53ef\u4ee5\u7701\u7565 <code>self</code>\u3002</p> <p>\u5728\u7c7b\u4e2d\u65f6\u5e38\u4f1a\u7528\u5230\u4e00\u79cd\u7279\u6b8a\u7684\u53d8\u91cf\uff1a\u8ba1\u7b97\u53d8\u91cf\u3002\u8ba1\u7b97\u53d8\u91cf\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6ca1\u6709\u53c2\u6570\u7684\u51fd\u6570\uff0c\u6bcf\u6b21\u83b7\u53d6\u5176\u503c\u7684\u65f6\u5019\u90fd\u8981\u901a\u8fc7\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u6765\u8ba1\u7b97\uff1a</p> <pre><code>class Rectangle {\n    var width: Double\n    var height: Double\n\n    var area: Double {\n        return width * height\n    }\n    ...\n}\n\nlet rectangle = Rectangle(...)\nprint(rectangle.area)\n</code></pre> <p>\u8ba1\u7b97\u53d8\u91cf\u662f\u53ea\u8bfb\u7684\uff0c\u800c\u4e14\u4e0d\u4f1a\u5360\u7528\u50a8\u5b58\u7a7a\u95f4\u3002\u5982\u679c\u8ba1\u7b97\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u8d85\u8fc7 O(1)\uff0c\u90a3\u4e48\u5e94\u8be5\u4f7f\u7528\u666e\u901a\u7684\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u8ba1\u7b97\u53d8\u91cf\u3002</p>"},{"location":"languages/swift/types/#_2","title":"\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570","text":"<p>\u6784\u9020\u51fd\u6570\u4f7f\u7528\u5173\u952e\u5b57 <code>init</code> \u58f0\u660e\u3002\u7531\u4e8e Swift \u6ca1\u6709\u96f6\u503c\u521d\u59cb\u5316\uff0c\u6240\u6709\u6210\u5458\u53d8\u91cf\u90fd\u8981\u6709\u521d\u503c\uff0c\u8981\u4e48\u76f4\u63a5\u5728\u53d8\u91cf\u540e\u663e\u5f0f\u6307\u51fa\uff0c\u8981\u4e48\u5728\u6784\u9020\u51fd\u6570\u4e2d\u8bbe\u5b9a\u3002\u6784\u9020\u51fd\u6570\u7ed3\u675f\u65f6\uff0c\u6240\u6709\u6210\u5458\u53d8\u91cf\u90fd\u8981\u6709\u521d\u503c\uff0c\u5426\u5219\u4ea7\u751f\u7f16\u8bd1\u9519\u8bef\u3002</p> <pre><code>class A {\n    var bar: Int\n    var foo = \"Hello\"\n\n    init(bar: Int) {\n        self.bar = bar\n    }\n}\nlet a = A(bar: 1)\n</code></pre> <p>\u5982\u679c\u7c7b\u7684\u6bcf\u4e2a\u6210\u5458\u53d8\u91cf\u90fd\u6709\u9ed8\u8ba4\u503c\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>class B {\n    var bar = 1\n    var foo = \"Hello\"\n}\nlet b = B()\n</code></pre> <p>\u6790\u6784\u51fd\u6570\u4f7f\u7528\u5173\u952e\u5b57 <code>deinit</code> \u58f0\u660e\uff0c\u4e0d\u8fc7\u5728\u4e00\u822c\u7684\u5f00\u53d1\u4e2d\u5f88\u5c11\u7528\u5230\uff1a</p> <pre><code>deinit {\n    ...\n}\n</code></pre>"},{"location":"languages/swift/types/#_3","title":"\u9759\u6001\u53d8\u91cf\u3001\u9759\u6001\u65b9\u6cd5","text":"<p>\u4f7f\u7528 <code>static</code> \u5b9a\u4e49\u9759\u6001\u53d8\u91cf\u548c\u65b9\u6cd5\uff1a</p> <pre><code>class A {\n    static let shared = A()\n    static func foo() {...}\n}\n\nlet a = A.shared\nA.foo()\n</code></pre>"},{"location":"languages/swift/types/#_4","title":"\u7c7b\u662f\u5f15\u7528\u7c7b\u578b","text":"<p>Swift \u4e2d\u7684\u7c7b\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u4f20\u9012\u5f15\u7528\u800c\u975e\u526f\u672c\uff0c\u76f8\u5f53\u4e8e\u6307\u9488\u3002\u6bd4\u5982\uff1a</p> <pre><code>class Counter {\n    var count = 0\n}\n\nlet a = Counter()\nlet b = a   // b is a reference of a\n\nb.count += 1\nprint(a.count)  // 1\n</code></pre> <p>Swift \u4e2d\u5bf9\u7c7b\u7684\u5b9e\u4f8b\u7684\u7ba1\u7406\u4f7f\u7528\u7c7b\u4f3c\u4e8e\u667a\u80fd\u6307\u9488\u7684\u65b9\u6cd5\uff0c\u5f53\u5f15\u7528\u8ba1\u6570\u4e3a 0 \u65f6\uff0c\u5b9e\u4f8b\u88ab\u9500\u6bc1\u3002\u53e6\u5916\uff0c\u53ef\u4ee5\u5728 <code>var</code> \u524d\u52a0\u4e0a <code>weak</code> \u58f0\u660e\u4e0d\u53c2\u4e0e\u8ba1\u6570\u7684 weak \u53d8\u91cf\u3002</p>"},{"location":"languages/swift/types/#_5","title":"\u7ee7\u627f","text":"<p>Swift \u652f\u6301\u7c7b\u7684\u7ee7\u627f\uff0c\u4f46\u4e0d\u652f\u6301\u591a\u91cd\u7ee7\u627f\u3002\u4e0e C++ \u4e0d\u540c\uff0cSwift \u7684\u7ee7\u627f\u6ca1\u6709 <code>private</code>\u3001<code>protected</code> \u548c <code>public</code> \u4e4b\u5206\uff0c\u6240\u6709\u7ee7\u627f\u90fd\u76f8\u5f53\u4e8e C++ \u4e2d\u7684 <code>public</code>\u3002</p> <p>\u53e6\u5916\uff0cSwift \u4e2d\u6240\u6709\u7684\u51fd\u6570\u90fd\u76f8\u5f53\u4e8e C++ \u4e2d\u7684\u865a\u51fd\u6570\uff0c\u5728\u6d3e\u751f\u7c7b\u4e2d\u4f7f\u7528 <code>override</code> \u5373\u53ef\u91cd\u5199\u57fa\u7c7b\u7684\u65b9\u6cd5\uff1b\u4f7f\u7528 <code>super</code> \u8c03\u7528\u57fa\u7c7b\u7684\u65b9\u6cd5\uff1a</p> <pre><code>class Base {\n    func foo() {\n        print(\"Base\")\n    }\n}\n\nclass Derived: Base {\n    override func foo() {\n        super.foo() // prints \"Base\"\n        print(\"Derived\")\n    }\n}\n\nlet derived = Derived()\nderived.foo() // \"Base Derived\"\n</code></pre> <p>\u4f7f\u7528 <code>as</code> \u5411\u4e0b\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u4f7f\u7528 <code>as?</code> \u5411\u4e0a\u8fdb\u884c\u52a8\u6001\u7c7b\u578b\u8f6c\u6362\uff0c\u4f7f\u7528 <code>as!</code> \u8fdb\u884c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff1a</p> <pre><code>var a: Base = Derived()\nlet b = a as? Derived // \u7c7b\u578b\u4e3a Optional&lt;Derived&gt;\n// \u6216 if let b = a as? Derived {...}\n\nlet c = a as! Derived // \u7c7b\u578b\u4e3a Derived\uff0c\u82e5\u8f6c\u6362\u5931\u8d25\u5219\u5bfc\u81f4\u5d29\u6e83\nlet d = c as Base     // \u7c7b\u578b\u4e3a Base\uff0c\u5411\u4e0b\u8f6c\u6362\u5fc5\u7136\u6210\u529f\n</code></pre>"},{"location":"languages/swift/types/#struct","title":"\u7ed3\u6784\u4f53 <code>struct</code>","text":"<p>\u4e0e C++ \u4e0d\u540c\uff0cSwift \u4e2d\u7684 <code>struct</code> \u548c <code>class</code> \u6709\u5171\u540c\u4e4b\u5904\uff0c\u4f46\u5e76\u4e0d\u80fd\u7b49\u540c\u3002</p> <p><code>struct</code> \u4e0e <code>class</code> \u7c7b\u4f3c\uff0c\u53ef\u4ee5\u5b9a\u4e49\u6210\u5458\u53d8\u91cf\u3001\u6210\u5458\u51fd\u6570\u3001\u9759\u6001\u6210\u5458\u3001\u6784\u9020\u51fd\u6570\uff0c\u8bbf\u95ee\u63a7\u5236\u4e0e\u7c7b\u76f8\u540c\u3002</p> <p>\u5b83\u4eec\u4e4b\u95f4\u7684\u4e0d\u540c\u70b9\u6709\uff1a</p> <ul> <li><code>struct</code> \u662f\u503c\u7c7b\u578b\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f20\u9012\u7684\u662f\u539f\u6709\u5b9e\u4f8b\u7684\u526f\u672c\uff0c\u800c\u975e\u5f15\u7528</li> <li><code>struct</code> \u6ca1\u6709\u7ee7\u627f</li> <li><code>struct</code> \u4e0d\u80fd\u5b9a\u4e49\u6790\u6784\u51fd\u6570</li> </ul> <p>\u4e0e <code>class</code> \u8fdb\u884c\u5bf9\u7167</p> <p>\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>struct Counter {\n    var count = 0\n}\n\nvar a = Counter()\nvar b = a   // b is a copy of a\n\nb.count += 1    // b.count == 1\nprint(a.count)  // 0\n</code></pre> <p><code>struct</code> \u7531\u4e8e\u6ca1\u6709\u7ee7\u627f\uff0c\u56e0\u6b64\u5bf9\u6210\u5458\u7684\u6784\u9020\u51fd\u6570\uff08\u82f1\u8bed\uff1aMemberwise initializer\uff09\u80fd\u591f\u81ea\u52a8\u751f\u6210\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u9700\u624b\u52a8\u5199\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>struct A {\n    var foo: Int\n    var bar: String\n}\n\nlet a = A(foo: 1, bar: \"Hello\")\n</code></pre> <p>\u53e6\u5916\uff0c<code>struct</code> \u7684\u6210\u5458\u51fd\u6570\u9ed8\u8ba4\u4e0d\u53ef\u66f4\u6539\u6210\u5458\u53d8\u91cf\uff0c\u5982\u679c\u9700\u8981\u66f4\u6539\uff0c\u5219\u9700\u8981\u5728\u51fd\u6570\u524d\u52a0\u4e0a <code>mutating</code>\uff1a</p> <pre><code>struct Counter {\n    var count = 0\n    mutating func increase() {\n        count += 1\n    }\n}\n</code></pre> <p>\u5173\u4e8e <code>struct</code> \u548c <code>class</code> \u7684\u4f7f\u7528</p> <p>\u770b\u4e0a\u53bb <code>struct</code> \u6bd4 <code>class</code> \u529f\u80fd\u5f31\u4e86\u4e0d\u5c11\uff0c\u4f46 <code>struct</code> \u901a\u8fc7\u9075\u5faa\u534f\u8bae\uff08\u82f1\u8bed\uff1aprotocol\uff0c\u5728\u4e0b\u9762\u4ecb\u7ecd\uff09\u53ef\u4ee5\u5b9e\u73b0\u7ee7\u627f\u7684\u6548\u679c\uff0c\u540c\u65f6\u7531\u4e8e\u4f20\u9012\u7684\u4e0d\u662f\u5f15\u7528\uff0c\u56e0\u6b64\u5927\u5927\u964d\u4f4e\u4e86\u610f\u6599\u4e4b\u5916\u7684\u5bf9\u67d0\u4e2a\u5b9e\u4f8b\u66f4\u6539\u7684\u6982\u7387\u3002\u800c\u4e14\uff0c<code>struct</code> \u91c7\u7528 copy-on-write \u7684\u7b56\u7565\uff0c\u53ea\u6709\u5728\u66f4\u6539\u65f6\u624d\u4f1a\u771f\u6b63\u8fdb\u884c\u590d\u5236\uff0c\u56e0\u6b64\u6027\u80fd\u4e0a\u5e76\u6ca1\u6709\u592a\u591a\u7684\u635f\u5931\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u73b0\u4ee3\u7684 Swift \u6846\u67b6\uff0c\u5982 SwiftUI\u3001Combine\uff0c\u5df2\u7ecf\u51e0\u4e4e\u5168\u90e8\u4f7f\u7528 <code>struct</code> \u8fdb\u884c\u9762\u5411\u5bf9\u8c61/\u9762\u5411\u534f\u8bae\u7684\u7f16\u7a0b\u3002\u5b98\u65b9\u7684\u5efa\u8bae\u662f\uff1a\u9664\u975e\u53ea\u80fd\u7528 <code>class</code>\uff0c\u6bd4\u5982\u8981\u5728\u591a\u4e2a\u5730\u65b9\u5f15\u7528\u540c\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5426\u5219\u4f18\u5148\u4f7f\u7528 <code>struct</code>\u3002</p>"},{"location":"languages/swift/types/#enum","title":"\u679a\u4e3e <code>enum</code>","text":"<p>Swift \u7684 <code>enum</code> \u63d0\u4f9b\u4e86\u4e00\u79cd\u7c7b\u578b\u5b89\u5168\u7684\u679a\u4e3e\u65b9\u6cd5\u3002</p> <pre><code>enum CompassPoint {\n    case north, south, east, west\n}\n\nvar directionToHead = CompassPoint.north\n</code></pre> <p><code>enum</code> \u53ef\u4ee5\u4f7f\u7528 <code>switch</code> \u8bed\u53e5\u6765\u5339\u914d\uff1a</p> <pre><code>directionToHead = .south\nswitch directionToHead {\ncase .north:\n    print(\"Lots of planets have a north\")\ncase .south:\n    print(\"Watch out for penguins\")\ncase .east:\n    print(\"Where the sun rises\")\ncase .west:\n    print(\"Where the skies are blue\")\n}\n</code></pre> <p>\u6216\u8005\u7528 <code>==</code> \u5224\u65ad\uff1a</p> <pre><code>if directionToHead == .north {\n    print(\"\u6211\u98d8\u5411\u5317\u65b9\")\n}\n</code></pre> <p>\u7c7b\u578b\u7701\u7565\u5199\u6cd5</p> <p>\u4e0a\u9762 <code>directionToHead</code> \u7684\u7c7b\u578b\u5df2\u7ecf\u660e\u786e\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06 <code>CompassPoint.south</code> \u7f29\u5199\u4e3a <code>.south</code>\u3002\u8fd9\u79cd\u5199\u6cd5\u5bf9\u4e8e <code>class</code> \u548c <code>struct</code> \u7684\u9759\u6001\u6210\u5458\u548c\u65b9\u6cd5\u540c\u6837\u9002\u7528\u3002\u5982\uff1a</p> <pre><code>struct Color {\n    static let yellow = Color(...)\n}\n\nlet color: Color = .yellow\n</code></pre>"},{"location":"languages/swift/types/#_6","title":"\u8fed\u4ee3","text":"<p>\u53ef\u4ee5\u5728 <code>enum</code> \u540e\u9762\u52a0\u4e0a <code>CaseIterable</code> \u4f7f\u5f97\u53ef\u4ee5\u6309\u7167\u58f0\u660e\u987a\u5e8f\u679a\u4e3e\u6240\u6709\u7684\u7c7b\u578b\uff1a</p> <pre><code>enum CompassPoint: CaseIterable {\n    case north, south, east, west\n}\n\nfor point in CompassPoint.allCases {\n    ...\n}\n</code></pre>"},{"location":"languages/swift/types/#_7","title":"\u539f\u59cb\u503c","text":"<p><code>enum</code> \u53ef\u4ee5\u6709\u4e00\u4e2a\u539f\u59cb\u503c\uff08raw value\uff09\u7c7b\u578b\uff0c\u53ef\u4ee5\u662f <code>Int</code>\uff0c<code>String</code> \u7b49\u7b49\uff0c\u53ef\u4ee5\u7528\u6765\u521d\u59cb\u5316 <code>enum</code> \u7c7b\u578b\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u503c\uff0c\u7f16\u8bd1\u671f\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u5bf9\u5e94\u7684\u503c\uff0c\u5982 <code>Int</code> \u662f\u4ece 0 \u5f00\u59cb\u8d4b\u503c\u5e76\u4f9d\u6b21\u9012\u589e\uff0c\u800c <code>String</code> \u5bf9\u5e94\u5404\u4e2a <code>case</code> \u7684\u540d\u79f0\u3002</p> <pre><code>enum Status: Int {\n    case onVacation     // 0\n    case atSchool = 10\n    case quit           // 11\n}\n\nprint(Status.onVacation.rawValue)   // 0\nlet status = Status(rawValue: 5)    // nil\nlet status = Status(rawValue: 10)   // Optional(Status.atSchool)\n</code></pre>"},{"location":"languages/swift/types/#_8","title":"\u5173\u8054\u503c","text":"<p><code>enum</code> \u7684\u6bcf\u4e2a case \u53ef\u4ee5\u50a8\u5b58\u4e00\u4e2a\u6216\u591a\u4e2a\u5173\u8054\u503c\uff08associated value\uff09\u3002\u9700\u8981\u6ce8\u610f\uff0c\u4e00\u65e6\u50a8\u5b58\u4e86\u5173\u8054\u503c\uff0c\u5c31\u4e0d\u80fd\u591f\u6307\u5b9a raw value\uff0c\u4e5f\u4e0d\u80fd\u591f\u901a\u8fc7 <code>==</code> \u5224\u65ad\u662f\u5426\u76f8\u7b49\uff1a</p> <pre><code>enum Food {\n    case hamburger(calories: Double)\n    case juice(amount: Double)\n}\n\n\nlet breakfast = Food.hamburger(calories: 294.9)\n\nswitch breakfast {\ncase .hamburger(let calories):\n    print(\"I ate a hamburger with \\(calories) calories\")\ndefault:\n    break\n}\n\n// or\nif case .hamburger(let calories) = breakfast {\n    print(\"I ate a hamburger with \\(calories) calories\")\n}\n</code></pre> <p>\u4f7f\u7528\u5173\u8054\u503c\u5904\u7406\u4e92\u65a5\u60c5\u51b5</p> <p><code>enum</code> \u5173\u8054\u503c\u7684\u4e00\u4e2a\u91cd\u8981\u7684\u4f5c\u7528\u662f\u5904\u7406\u82e5\u5e72\u4e92\u65a5\u60c5\u51b5\u3002</p> <p>\u6bd4\u5982\uff0c<code>Optional</code> \u7c7b\u578b\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u5e26\u6709 associated value \u7684 <code>enum</code>\uff08\u6cdb\u578b\u7a0d\u540e\u4ecb\u7ecd\uff09\uff1a</p> <pre><code>enum Optional&lt;Wrapped&gt; {\n    case .some(Wrapped)     // has value\n    case .none              // nil\n}\n</code></pre> <p>\u518d\u5982\uff0c\u5305\u88c5\u7ed3\u679c\u548c\u9519\u8bef\u7684 <code>Result</code>\uff1a</p> <pre><code>enum Result&lt;Success, Failure&gt; where Failure : Error {\n    case success(Success)\n    case failure(Failure)\n}\n</code></pre> <p>\u4e00\u4e2a\u8bf7\u6c42\u8981\u4e48\u6210\u529f\uff08\u6b64\u65f6\u8fd4\u56de\u6709\u6548\u7684\u7ed3\u679c\uff09\uff0c\u8981\u4e48\u5931\u8d25\uff08\u6b64\u65f6\u8fd4\u56de\u9519\u8bef\uff09\u3002\u4f7f\u7528 <code>enum</code> \u5c31\u53ef\u4ee5\u5728\u4e0d\u4f7f\u7528 <code>Optional</code> \u7684\u60c5\u51b5\u4e0b\u4ee5\u7c7b\u578b\u5b89\u5168\u7684\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u552f\u4e00\u7684\u7ed3\u679c\uff1a</p> <pre><code>switch result {\ncase .success(let data):\n    print(\"Request succeeded with data: \\(data)\")\ncase .failure(let error):\n    print(\"Request failed with error: \\(error)\")\n}\n</code></pre>"},{"location":"languages/swift/types/#_9","title":"\u51fd\u6570\u3001\u6784\u9020\u51fd\u6570\u548c\u53d8\u91cf","text":"<p><code>enum</code> \u662f Swift \u7684\u4e00\u7b49\u7c7b\u578b\uff0c\u5b83\u53ef\u4ee5\u6709\u6210\u5458\u51fd\u6570\u3001\u6784\u9020\u51fd\u6570\u3001\u8ba1\u7b97\u53d8\u91cf\u3001\u9759\u6001\u51fd\u6570\u3001\u9759\u6001\u53d8\u91cf\uff0c\u4f46\u4e0d\u80fd\u50a8\u5b58\u503c\uff0c\u5373\u4e0d\u80fd\u62e5\u6709\u6210\u5458\u53d8\u91cf\u3002</p> <p>\u80fd\u591f\u7ed9 <code>enum</code> \u6dfb\u52a0\u51fd\u6570\u7b49\u7ed9\u7f16\u7a0b\u5e26\u6765\u4e86\u6781\u5927\u7684\u4fbf\u5229\uff1a</p> <pre><code>enum HTTPError: Int {\n    case unknown\n    case badRequest = 400\n    case notFound = 404\n    case forbidden = 403\n\n    init(code: Int) {\n        if let error = HTTPError(rawValue: code) {\n            self = error\n        } else {\n            self = .unknown\n        }\n    }\n\n    var description: String {\n        switch self {\n        case .badRequest: return \"Bad Request\"\n        case .notFound: return \"Not Found\"\n        ...\n        }\n    }\n}\n\nlet error = HTTPError(code: 404)\nprint(error.description)            // \"Not Found\"\n</code></pre> <p>\u53e6\u5916\uff0c\u4e00\u822c\u4f7f\u7528 <code>enum</code> \u52a0\u4e0a\u9759\u6001\u53d8\u91cf\u6765\u9650\u5b9a\u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>enum Constant {\n    static let accentColor = Color.blue\n    static let backgroundColor = Color.white\n}\n\nlet color = Constant.accentColor\n</code></pre>"},{"location":"languages/swift/types/#protocol","title":"\u534f\u8bae <code>protocol</code>","text":"<p>Swift \u4e2d\u7684 <code>protocol</code>\uff08\u534f\u8bae\uff09\u4e0e C++ \u7684\u62bd\u8c61\u7c7b\u6982\u5ff5\u5bf9\u5e94\uff0c\u5176\u4f5c\u7528\u662f\u5b9a\u4e49\u4e00\u7ec4\u9700\u8981\u5b9e\u73b0\u7684\u63a5\u53e3\u3002\u6bd4\u5982\uff0cSwift \u4e2d\u7684 <code>Equatable</code>\uff0c\u5176\u4f5c\u7528\u662f\u4e00\u4e2a\u5224\u7b49\u5668\uff1a</p> <pre><code>protocol Equatable {\n    static func == (lhs: Self, rhs: Self) -&gt; Bool\n}\n</code></pre> <p>\u6ee1\u8db3\u534f\u8bae\u8981\u6c42\u7684\u7c7b\u578b\u79f0\u4e3a\u9075\u5faa\uff08conform to\uff09\u6b64\u534f\u8bae\u3002\u5982\u679c\u4e00\u4e2a\u7c7b\u578b\u60f3\u8981\u9075\u5faa <code>Equatable</code>\uff0c\u9700\u8981\uff1a</p> <ol> <li>\u5728\u7c7b\u578b\u540d\u79f0\u540e\u9762\u52a0\u4e0a <code>Equatable</code></li> <li>\u5b9e\u73b0 <code>==</code> \u65b9\u6cd5</li> </ol> <p>\u6bd4\u5982\uff1a</p> <pre><code>struct Rectangle: Equatable {\n    var width: Double\n    var height: Double\n\n    static func == (lhs: Rectangle, rhs: Rectangle) -&gt; Bool {\n        return lhs.width == rhs.width &amp;&amp; lhs.height == rhs.height\n    }\n}\n\nlet r1 = Rectangle(width: 1, height: 3)\nlet r2 = Rectangle(width: 1, height: 2)\nprint(r1 == r2)     // false\n\nlet rectangles = [r1, r2]   // An array of rectangles\nprint(rectangles.contains(Rectangle(width: 1, height: 2)))  // true\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c<code>Array</code> \u672c\u8eab\u5e76\u4e0d\u77e5\u9053\u5982\u4f55\u5224\u65ad\u5b83\u5176\u4e2d\u662f\u5426\u6709\u5143\u7d20\u4e0e\u63d0\u4f9b\u7684 <code>Rectangle</code> \u76f8\u7b49\uff0c\u4f46\u7531\u4e8e <code>Rectangle</code> \u9075\u5faa\u4e86 <code>Equatable</code> \u534f\u8bae\uff0c\u4f7f\u5f97 <code>Array</code> \u53ef\u4ee5\u8c03\u7528 <code>Equatable</code> \u89c4\u5b9a\u7684\u5224\u7b49\u63a5\u53e3\u6765\u5b9e\u73b0\u5224\u65ad\u3002</p> <p>Note</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u63a5\u53e3\u7684\u89c4\u5b9a\u662f\u4e25\u683c\u7684\u3002<code>Array</code> \u7684 <code>contains</code> \u65b9\u6cd5\u5f53\u4e14\u4ec5\u5f53\u5176\u5143\u7d20\u7c7b\u578b <code>Element</code> \u4e3a <code>Equatable</code> \u65f6\u624d\u5b58\u5728\uff1a</p> <pre><code>extension Array where Element: Equatable {\n    func contains(_ element: Element) -&gt; Bool {...}\n}\n</code></pre> <p>\u6709\u5173\u6cdb\u578b\u548c <code>extension</code>\uff0c\u6211\u4eec\u5728\u540e\u9762\u4ecb\u7ecd\u3002</p>"},{"location":"languages/swift/types/#_10","title":"\u63a5\u53e3\u7684\u89c4\u5b9a\u65b9\u6cd5","text":"<p><code>protocol</code> \u53ef\u4ee5\u89c4\u5b9a\u51e0\u7c7b\u63a5\u53e3\uff1a</p> <ul> <li>\u6210\u5458\u51fd\u6570</li> <li>\u6210\u5458\u53d8\u91cf</li> <li>\u9759\u6001\u51fd\u6570</li> <li>\u9759\u6001\u53d8\u91cf</li> <li>\u6784\u9020\u51fd\u6570</li> </ul> <pre><code>protocol SomeProtocol {\n    var foo: Int { get set }\n    var bar: Int { get }\n    static var staticMember: Int { get }\n\n    func someMethod(a: Int) -&gt; Int\n    static func staticMethod() -&gt; Bool\n    init(code: Int)\n}\n</code></pre> <p>\u5176\u4e2d\uff0c\u89c4\u5b9a\u53d8\u91cf\u7684\u63a5\u53e3\u65f6\uff0c\u53ea\u80fd\u7528 <code>var</code>\uff0c\u800c\u4e14\u9700\u8981\u5728\u7c7b\u578b\u540d\u540e\u52a0\u4e0a <code>{ get }</code> \u6216 <code>{ get set }</code> \u4ee5\u6307\u5b9a\u9700\u8981\u6ee1\u8db3\u7684\u6700\u5c0f\u6743\u9650\u8981\u6c42\u3002\u6bd4\u5982\uff0c\u67d0\u4e2a\u7c7b\u578b\u9075\u5faa <code>SomeProtocol</code> \u65f6\uff0c\u5b83\u7684 <code>foo</code> \u53d8\u91cf\u9700\u8981\u53ef\u8bfb\u5199\uff0c\u800c <code>bar</code> \u53d8\u91cf\u81f3\u5c11\u53ef\u4ee5\u8bfb\uff0c\u4f46\u4e0d\u80fd\u9650\u5236\u5176\u662f\u5426\u53ef\u5199\u3002</p>"},{"location":"languages/swift/types/#_11","title":"\u534f\u8bae\u4f5c\u4e3a\u7c7b\u578b","text":"<p>\u5f53\u6ca1\u6709 associated type\uff08\u7a0d\u540e\u4ecb\u7ecd\uff09\u65f6\uff0c\u534f\u8bae\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u578b\uff0c\u5e76\u4e14\u5176\u771f\u6b63\u7684\u7c7b\u578b\u53ef\u4ee5\u6539\u53d8\uff0c\u5982 Swift \u4e2d\u5185\u7f6e\u7684 <code>Encodable</code>\uff1a</p> <pre><code>var someEncodable: Encodable = 1\nsomeEncodable = \"Hello\"\n</code></pre>"},{"location":"languages/swift/types/#_12","title":"\u534f\u8bae\u65b9\u6cd5\u7684\u9ed8\u8ba4\u5b9e\u73b0","text":"<p>\u5728\u89c4\u5b9a\u4e86\u534f\u8bae\u7684\u63a5\u53e3\u540e\uff0c\u53ef\u4ee5\u5728 <code>extension</code> \u4e2d\u5bf9\u9664\u4e86 <code>init</code> \u4ee5\u5916\u7684\u63a5\u53e3\u8fdb\u884c\u9ed8\u8ba4\u5b9e\u73b0\uff0c\u4f46\u4e0d\u80fd\u5728 <code>extension</code> \u4e2d\u5b9e\u73b0\u50a8\u5b58\u53d8\u91cf\uff1a</p> <pre><code>extension SomeProtocol {\n    var bar: Int {\n        return 1\n    }\n    func someMethod(a: Int) -&gt; Int {\n        return a\n    }\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u5f53\u67d0\u4e2a\u7c7b\u578b\u9075\u5faa <code>SomeProtocol</code> \u65f6\uff0c\u53ef\u4ee5\u4e0d\u7528\u5b9e\u73b0\u8fd9\u4e9b\u5df2\u7ecf\u8fdb\u884c\u9ed8\u8ba4\u5b9e\u73b0\u7684\u63a5\u53e3\u3002</p>"},{"location":"languages/swift/types/#_13","title":"\u534f\u8bae\u7684\u7ec4\u5408\u4e0e\u7ee7\u627f","text":"<p>\u4e00\u4e2a\u7c7b\u578b\u53ef\u4ee5\u9075\u5faa\u591a\u4e2a\u534f\u8bae\uff0c\u9700\u8981\u5b9e\u73b0\u6240\u6709\u534f\u8bae\u89c4\u5b9a\u7684\u63a5\u53e3\uff1a</p> <pre><code>protocol A {\n    var foo: Int { get }\n}\nprotocol B {\n    func bar()\n}\n\nstruct: SomeStructure: A, B {\n    var foo: Int\n    func bar() {...}\n}\n</code></pre> <p>\u4e00\u4e2a\u534f\u8bae\u53ef\u4ee5\u7ee7\u627f\u591a\u4e2a\u534f\u8bae\uff0c\u5176\u4f5c\u7528\u4e3a\u6dfb\u52a0\u8fd9\u4e9b\u534f\u8bae\u7684\u89c4\u5b9a\u7684\u63a5\u53e3\u4f5c\u4e3a\u81ea\u8eab\u7684\u9650\u5236\u6761\u4ef6\uff0c\u9700\u8981\u5b9e\u73b0\u6240\u6709\u7684\u63a5\u53e3\uff1a</p> <pre><code>protocol A {\n    var foo: Int { get }\n}\nprotocol B: A {\n    func bar()\n}\n\nstruct: SomeStructure: B {\n    var foo: Int\n    func bar() {...}\n}\n</code></pre> <p>Potocol-oriented Programming</p> <p>\u901a\u8fc7\u9075\u5faa\u534f\u8bae\u3001\u5bf9\u534f\u8bae\u8fdb\u884c\u9ed8\u8ba4\u7684\u5b9e\u73b0\u3001\u534f\u8bae\u7684\u7ee7\u627f\uff0c\u4f7f\u5f97 <code>struct</code> \u548c <code>enum</code> \u8fd9\u4e9b\u6ca1\u6709\u7ee7\u627f\u529f\u80fd\u7684\u7c7b\u578b\u53ef\u4ee5\u56e0\u6b64\u5b9e\u73b0\u7c7b\u4f3c\u4e8e\u7ee7\u627f\u7684\u6548\u679c\u3002</p> <p>\u73b0\u4ee3 Swift \u6846\u67b6\u5927\u91cf\u4f7f\u7528 <code>protocol</code> \u8fdb\u884c\u9762\u5411\u534f\u8bae\u7684\u7f16\u7a0b\uff08potocol-oriented programming\uff09\u3002\u5176\u601d\u60f3\u7c7b\u4f3c\u4e8e OOP\uff0c\u4f46\u5728\u67d0\u4e9b\u95ee\u9898\u7684\u5904\u7406\u4e0a\u6bd4\u7c7b\u7ee7\u627f\u8981\u66f4\u52a0\u7b80\u6d01\uff0c\u4e14\u4e0d\u6613\u51fa\u9519\u3002</p>"},{"location":"languages/swift/types/#extension","title":"extension","text":"<p><code>class</code>\u3001<code>struct</code>\u3001<code>enum</code> \u548c <code>protocol</code> \u53ef\u4ee5\u901a\u8fc7 <code>extension</code> \u6dfb\u52a0\u65b9\u6cd5\uff08\u8ba1\u7b97\u53d8\u91cf\u6216\u51fd\u6570\uff09\uff0c\u5305\u62ec\u6240\u6709\u7684\u5185\u7f6e\u7c7b\u578b\uff1a</p> <pre><code>extension Int {\n    var string: String {\n        return \"\\(self)\"\n    }\n}\n\nprint(1.string)\n</code></pre> <p>\u4f7f\u7528 <code>extension</code> \u53ef\u4ee5\u4ee5\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u5f0f\u7ed9\u4efb\u4f55\u7c7b\u578b\u6dfb\u52a0\u65b9\u6cd5\u3002</p> <p>\u53e6\u5916\uff0c\u4e00\u822c\u4e3a\u4e86\u533a\u5206\u4e0d\u540c\u7684 <code>protocol</code> \u7684\u63a5\u53e3\uff0c\u5728\u9075\u5faa\u4e0d\u540c\u7684\u534f\u8bae\u65f6\uff0c\u5f80\u5f80\u5c06\u5404\u4e2a\u534f\u8bae\u89c4\u5b9a\u7684\u63a5\u53e3\u5b9e\u73b0\u5728\u4e0d\u540c\u7684 <code>extension</code> \u4e2d\uff1a</p> <pre><code>struct A {\n    // Original members\n}\nextension A: ProtocolA {\n    // Implementation of ProtocolA\n}\nextension A: ProtocolB {\n    // Implementation of ProtocolB\n}\n</code></pre>"},{"location":"languages/swift/types/#_14","title":"\u5143\u7ec4","text":"<p>\u5143\u7ec4\uff08tuple\uff09\u7528\u4e8e\u4f20\u9012\u590d\u5408\u503c\uff0c\u7528\u62ec\u53f7\u7ec4\u7ec7\uff0c\u53ef\u4ee5\u5e26\u6807\u7b7e\uff0c\u7528\u6807\u7b7e\u6216\u8005\u6210\u5458\uff08\u800c\u975e\u4e0b\u6807\uff090\u30011\u30012 \u7b49\u53d6\u51fa\u5176\u4e2d\u7684\u503c\uff1a</p> <pre><code>func getCurrentTime() -&gt; (hour: Int, minute: Int, second: Int) {\n    return (18, 20, 36)\n}\n\nlet time = getCurrentTime()\nprint(time.hour)\n// or\nprint(time.0) // hour\n</code></pre> <p>\u5143\u7ec4\u7684\u5143\u7d20\u6570\u91cf\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u5b58\u5728\u8d8a\u754c\u7684\u60c5\u51b5\u3002</p>"},{"location":"languages/swift/types/#_15","title":"\u51fd\u6570","text":"<p>Swift \u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u50a8\u5b58\u5728\u53d8\u91cf\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570/\u8fd4\u56de\u503c\u53c2\u4e0e\u53e6\u4e00\u4e2a\u51fd\u6570\u3002\u51fd\u6570\u7c7b\u578b\u7684\u58f0\u660e\u4e3a <code>(\u53c2\u6570\u5217\u8868) -&gt; \u8fd4\u56de\u7c7b\u578b</code>\uff1a</p> <pre><code>var someHandler: (Int, Int) -&gt; Void\nvar optionalHandler: ((Int, Int) -&gt; Void)? // Optional\n</code></pre> <p>\u4f7f\u7528\u5927\u62ec\u53f7\u6765\u751f\u6210\u533f\u540d\u51fd\u6570\uff08\u95ed\u5305\uff0cclosure\uff09\uff0c\u5728\u62ec\u53f7\u5185\u4f7f\u7528 <code>\u53c2\u6570\u5217\u8868 -&gt; \u8fd4\u56de\u7c7b\u578b in</code> \u7ed9\u4f20\u5165\u7684\u5404\u4e2a\u53c2\u6570\u547d\u540d\uff1a</p> <pre><code>let incrementer: (Int) -&gt; Int = { value -&gt; Int in\n    return value + 1\n}\n</code></pre> <p>\u8c03\u7528\u65b9\u6cd5\u4e0e\u51fd\u6570\u76f8\u540c\uff1a</p> <pre><code>let result = incrementer(1) // 2\n</code></pre> <p>\u4e0a\u4e0b\u6587\u660e\u786e\u65f6\uff0c\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\u5185\u7684 <code>-&gt; Int</code>\uff1a</p> <pre><code>let incrementer: (Int) -&gt; Int = { value in\n    return value + 1\n}\n</code></pre> <p>\u53e6\u5916\uff0c\u53ef\u4ee5\u7701\u7565\u53c2\u6570\u5217\u8868\uff0c\u7528 <code>$0</code>\u3001<code>$1</code> \u7b49\u6307\u4ee3\u7b2c\u4e00\u3001\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff1a</p> <pre><code>let incrementer: (Int) -&gt; Int = {\n    return $0 + 1\n}\n\n[1, 2, 3].removeAll(where: { $0 &lt; 2 })  // [2, 3]\n</code></pre> <p>Note</p> <p>\u95ed\u5305\u7684\u4e00\u4e2a\u5178\u578b\u5e94\u7528\u573a\u666f\u662f\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u51fd\u6570\u4e2d\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u3002\u5982\uff0c\u8fdb\u884c\u7f51\u7edc\u8bf7\u6c42\uff0c\u5f53\u8bf7\u6c42\u5b8c\u6210\u65f6\uff0c\u8c03\u7528\u4f20\u5165\u7684\u56de\u8c03\u51fd\u6570\u6765\u8fdb\u884c\u7ed3\u679c\u7684\u5904\u7406\uff1a</p> <pre><code>let task = session.dataTask(with: url) { data, response, error in\n    if let data = data {\n        let string = String(data: data, encoding: .utf8)!\n        print(string)\n    }\n}\ntask.resume()\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4f7f\u7528\u4e86\u4e00\u79cd\u53eb\u505a trailing closures \u7684\u8bed\u6cd5\uff0c\u4f7f\u5f97\u56de\u8c03\u51fd\u6570\u7684\u51fd\u6570\u4f53\u53ef\u4ee5\u5199\u5728\u51fd\u6570\u7684\u201c\u5916\u9762\u201d\uff0c\u8be6\u89c1 Swift \u5b98\u65b9\u6559\u7a0b\u3002</p>"},{"location":"languages/swift/variable-function/","title":"\u53d8\u91cf\u548c\u51fd\u6570","text":""},{"location":"languages/swift/variable-function/#_1","title":"\u53d8\u91cf","text":"<p>\u7528 <code>var</code> \u58f0\u660e\u53ef\u66f4\u6539\u7684\u53d8\u91cf\uff0c<code>let</code> \u58f0\u660e\u4e0d\u53ef\u66f4\u6539\u7684\u53d8\u91cf\uff08\u5e38\u91cf\uff09\u3002</p> <p>\u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u5728\u53d8\u91cf\u540d\u540e\u7528 <code>: Type</code> \u58f0\u660e\u7c7b\u578b\uff1a</p> <pre><code>var myVariable: Int = 42\nmyVariable = 50\nlet myConstant: Int = 42\n</code></pre> <p>\u5982\u679c\u4e0a\u4e0b\u6587\u660e\u786e\uff0c\u7f16\u8bd1\u5668\u80fd\u591f\u81ea\u52a8\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u90a3\u4e48\u7c7b\u578b\u58f0\u660e\u53ef\u4ee5\u7701\u7565\uff08\u6bd4\u5982\uff0c<code>42</code> \u662f\u6574\u6570\u5b57\u9762\u503c\uff0c\u81ea\u52a8\u63a8\u65ad\u4e3a <code>Int</code> \u7c7b\u578b\uff09\uff1a</p> <pre><code>let myInt = 42 // Int\nlet myString = \"Hello\" + \", World!\" // String\nlet myDouble = 42.0 + 1 // Double\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cSwift \u4e0d\u5141\u8bb8\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u53ea\u80fd\u901a\u8fc7\u76ee\u6807\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\u8fdb\u884c\uff1a</p> <pre><code>let intValue = 12 // \u7c7b\u578b\u4e3a Int\nlet uint64Value = UInt64(intValue)  // \u7c7b\u578b\u4e3a UInt64\n\n// let uint64Value: UInt64 = intValue\n// error: cannot convert value of type 'Int' to specified type 'UInt64'\n</code></pre> <p><code>var</code> \u548c <code>let</code> \u58f0\u660e\u7684\u53d8\u91cf\u5728\u4f7f\u7528\u4e4b\u524d\u5fc5\u987b\u521d\u59cb\u5316\uff0c\u5426\u5219\u7f16\u8bd1\u4e0d\u901a\u8fc7\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c<code>var</code> \u53ef\u4ee5\u591a\u6b21\u8d4b\u503c\uff0c\u800c <code>let</code> \u53ea\u80fd\u8d4b\u503c\u4e00\u6b21\u3002</p> <p>Swift \u652f\u6301\u7a7a\u503c\uff08Optional\uff09\uff0c\u8868\u793a\u53d8\u91cf\u7684\u503c\u201c\u4e0d\u5b58\u5728\u201d\u3002\u5728\u7c7b\u578b\u540e\u52a0\u4e0a <code>?</code> \u58f0\u660e\u53ef\u7a7a\u7684\u53d8\u91cf\uff0c\u5173\u952e\u5b57 <code>nil</code> \u8868\u793a\u503c\u4e3a\u7a7a\uff1a</p> <pre><code>var result: Int? = nil\nprint(result) // nil\n\nresult = 1\nprint(result) // Optional(1)\n</code></pre> <p>\u6ce8\u610f\u5230\uff0c\u5373\u4f7f Optional \u503c\u4e0d\u4e3a\u7a7a\uff0cOptional \u4e0e\u539f\u6765\u7684\u7c7b\u578b\u662f\u4e0d\u540c\u7684\u4e24\u4e2a\u7c7b\u578b\uff0c\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6\u5176\u503c\u3002</p> <p>Optional \u7684\u503c\u6709\u4e24\u79cd\u8bfb\u53d6\u65b9\u6cd5\u3002\u7b2c\u4e00\u79cd\u662f\u5f53\u786e\u4fdd Optional \u4e0d\u4e3a\u7a7a\u65f6\uff0c\u5728\u53d8\u91cf\u540d\u540e\u52a0\u4e0a <code>!</code> \u8868\u793a\u5f3a\u5236\u89e3\u9664\u5305\u88c5\u83b7\u53d6\u503c\u3002\u5f53\u503c\u4e3a\u7a7a\u65f6\uff0c\u4f7f\u7528 <code>!</code> \u4f1a\u5bfc\u81f4\u8fd0\u884c\u9519\u8bef\uff0c\u7a0b\u5e8f\u76f4\u63a5\u5d29\u6e83\uff1a</p> <pre><code>if result != nil {\n    print(result!)\n}\n\nresult = nil\nprint(result!)\n// Fatal error: Unexpectedly found nil while unwrapping an Optional value\n</code></pre> <p>\u53e6\u4e00\u79cd\u662f\u5efa\u8bae\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u901a\u8fc7 Swift \u7684\u4e00\u4e2a\u8bed\u6cd5\u7cd6 <code>if let</code>\uff08\u6216 <code>if var</code>\uff09\u5b9e\u73b0\uff1a</p> <pre><code>if let realResult = result {\n    // \u6b64\u65f6 realResult \u7c7b\u578b\u4e3a Int\uff0c\u4e0d\u662f Optional&lt;Int&gt;\n    print(realResult)\n}\n</code></pre> <p>\u76f8\u5f53\u4e8e</p> <pre><code>if result != nil {\n    let realResult = result!\n    print(realResult)\n}\n</code></pre> <p>\u5982\u679c <code>if let</code> \u5927\u62ec\u53f7\u5185\u4e0d\u9700\u8981\u518d\u5f15\u7528\u539f\u6765\u7684 Optional\uff0c\u4e00\u822c <code>if let</code> \u8bed\u53e5 <code>let</code> \u540e\u9762\u65b0\u7684\u53d8\u91cf\u540d\u76f4\u63a5\u4f7f\u7528\u539f\u6709\u7684\u53d8\u91cf\u540d\uff0c\u7701\u53bb\u91cd\u590d\u547d\u540d\u7684\u56f0\u6270\uff1a</p> <pre><code>if let result = result {\n    // \u6b64\u65f6 result \u7c7b\u578b\u4e3a Int\uff0c\u5b58\u5728\u4e8e\u62ec\u53f7\u4f5c\u7528\u57df\u4e2d\n    print(result)\n}\n</code></pre> <p>\u53e6\u5916\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>??</code> \u7ed9 Optional \u63d0\u4f9b\u9ed8\u8ba4\u503c\uff0c\u5f53\u503c\u4e3a\u7a7a\u65f6\uff0c\u4f7f\u7528\u9ed8\u8ba4\u503c\uff1a</p> <pre><code>print(result ?? 0)\n</code></pre> <p>\u4e0e Optional \u6709\u5173\u7684\u66f4\u591a\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u5c06\u5728\u540e\u9762\u4ecb\u7ecd\u3002</p>"},{"location":"languages/swift/variable-function/#_2","title":"\u51fd\u6570","text":"<p>\u4f7f\u7528\u5173\u952e\u5b57 <code>func</code> \u58f0\u660e\u51fd\u6570\u3002\u51fd\u6570\u53c2\u6570\u7684\u58f0\u660e\u4e0e\u53d8\u91cf\u58f0\u660e\u7c7b\u4f3c\uff0c\u9700\u8981\u663e\u5f0f\u6307\u51fa\u7c7b\u578b\uff1b\u8fd4\u56de\u503c\u7528 <code>-&gt; Type</code> \u663e\u5f0f\u6307\u51fa\uff1b\u53ef\u4ee5\u4e3a\u53c2\u6570\u6307\u5b9a\u9ed8\u8ba4\u503c\uff1a</p> <pre><code>func add(a: Int, b: Int = 2) -&gt; Int {\n    return a + b\n}\n</code></pre> <p>\u5982\u679c\u51fd\u6570\u4f53\u53ea\u6709\u4e00\u884c\uff0c\u53ef\u4ee5\u7701\u7565 <code>return</code>\uff1a</p> <pre><code>func add(a: Int, b: Int = 2) -&gt; Int {\n    a + b\n}\n</code></pre> <p>\u8c03\u7528\u65f6\uff0c\u9700\u8981\u5199\u51fa\u6807\u7b7e\uff1a</p> <pre><code>add(a: 1, b: 1)\n</code></pre> <p>Swift \u51fd\u6570\u58f0\u660e\u7684\u7279\u70b9\u662f\uff0c\u5176\u53c2\u6570\u6709\u4e24\u4e2a\u201c\u540d\u79f0\u201d\uff1a\u53c2\u6570\u540d\uff08\u51fd\u6570\u4f53\u5185\u90e8\u4f7f\u7528\uff09\u548c\u6807\u7b7e\uff08\u8c03\u7528\u65f6\u6307\u51fa\uff09\uff0c\u6309\u7167 <code>\u6807\u7b7e \u53c2\u6570\u540d: \u7c7b\u578b</code> \u7684\u5f62\u5f0f\u58f0\u660e\u3002\u5982\u679c\u4e0d\u533a\u5206\u6807\u7b7e\u548c\u51fd\u6570\u540d\uff0c\u5219\u4f7f\u7528 <code>\u53c2\u6570\u540d: \u7c7b\u578b</code> \u58f0\u660e\u3002</p> <p>\u5bf9\u4e8e\u4e0a\u9762\u7684 <code>add</code>\uff0c\u53c2\u6570\u53ea\u6709\u540d\u79f0\uff0c<code>a</code> \u548c <code>b</code> \u65e2\u4f5c\u4e3a\u53c2\u6570\u540d\u79f0\uff0c\u53c8\u4f5c\u4e3a\u6807\u7b7e\u3002\u4e0e\u4e4b\u5bf9\u5e94\uff0c\u6709\u65f6\u5019\u6211\u4eec\u5c06\u6807\u7b7e\u548c\u53c2\u6570\u540d\u5206\u79bb\uff0c\u5982 <code>Array</code> \u7684 <code>remove</code> \u65b9\u6cd5\uff1a</p> <pre><code>func remove(at index: Int) -&gt; Element {...}\nmyArray.remove(at: 0)   // at \u4e3a\u6807\u7b7e\uff0c\u8c03\u7528\u65f6\u4f7f\u7528\n</code></pre> <p>\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u5199\u51fa\u6807\u7b7e\uff0c\u56e0\u6b64\u4e0a\u9762\u7684\u8c03\u7528\u4e0d\u80fd\u5199\u6210 <code>add(1, 1)</code>\u3002\u5982\u679c\u9700\u8981\u7701\u7565\u6807\u7b7e\uff0c\u5728\u6807\u7b7e\u7684\u4f4d\u7f6e\u4f7f\u7528\u4e0b\u5212\u7ebf <code>_</code> \u66ff\u4ee3\uff1a</p> <pre><code>func add(_ a: Int, _ b: Int) -&gt; Int {...}\nadd(1, 2)\n</code></pre> <p>Note</p> <p>Swift \u7684\u6807\u7b7e\u548c\u53c2\u6570\u540d\u7684\u8bbe\u8ba1\u6709\u4ee5\u4e0b\u51e0\u70b9\u597d\u5904\uff1a</p> <p>1. \u9700\u8981\u660e\u786e\u5199\u51fa\u6807\u7b7e\uff0c\u4f7f\u5f97\u8c03\u7528\u65f6\u8bed\u4e49\u66f4\u52a0\u660e\u786e\u3002</p> <p>C \u98ce\u683c\u51fd\u6570\u8c03\u7528\u65f6\u6ca1\u6709\u6807\u7b7e\uff0c\u5404\u53c2\u6570\u7684\u987a\u5e8f\u53ef\u80fd\u4f1a\u9020\u6210\u56f0\u6270\uff0c\u6bd4\u5982 <code>memcpy(buf1, buf2)</code>\uff0c\u7a76\u7adf\u54ea\u4e2a\u662f <code>src</code>\uff0c\u54ea\u4e2a\u662f <code>dest</code>\uff1f</p> <p>\u800c Swift \u4e2d\u53ef\u4ee5\u5229\u7528\u6807\u7b7e\u6765\u660e\u786e\uff1a</p> <pre><code>copyMemory(source: buffer1, dest: buffer2)\n</code></pre> <p>2. \u6807\u7b7e\u589e\u5f3a\u4ee3\u7801\u53ef\u8bfb\u6027\uff0c\u540c\u65f6\u53c2\u6570\u540d\u4fdd\u6301\u5e94\u6709\u7684\u542b\u4e49</p> <p>\u8fd8\u662f\u4e0a\u9762\u7684\u4f8b\u5b50\u3002\u6211\u4eec\u53ef\u4ee5\u5c06 <code>copyMemory</code> \u7684\u6807\u7b7e\u548c\u53c2\u6570\u540d\u5206\u79bb\uff1a</p> <pre><code>func copyMemory(from source: SomeType, to dest: SomeType) {\n    print(\"Copying from \\(source) to \\(dest)\")\n    ...\n}\n\ncopyMemory(from: buffer1, to: buffer2)\n</code></pre> <p>\u8fd9\u6837\u8c03\u6574\u4e4b\u540e\uff0c\u51fd\u6570\u8c03\u7528 <code>copyMemory(from: buffer1, to: buffer2)</code> \u5c31\u53ef\u4ee5\u7528\u82f1\u6587\u4ece\u5de6\u5f80\u53f3\u8bfb\u51fa\u6765\uff1a\u201cCopy memory from buffer 1 to buffer 2\u201d\u3002\u8fd9\u662f Swift \u7684 \u4e09\u4e2a\u7279\u70b9 \u4e4b\u4e00\uff1aexpressive\u3002</p> <p>\u540c\u65f6\uff0c\u51fd\u6570\u4f53\u5185\u90e8\u5f15\u7528\u4e24\u4e2a\u53c2\u6570\u65f6\u4ecd\u7136\u4fdd\u6301 <code>source</code> \u548c <code>dest</code> \u7684\u8bed\u4e49\uff0c\u907f\u514d\u4e86 <code>print(\"Copying from \\(from) to \\(to)\")</code> \u8fd9\u6837\u7684\u60c5\u5f62\u3002</p> <p>\u5173\u4e8e\u6807\u7b7e\u548c\u53c2\u6570\u540d\u7684\u4f7f\u7528\u89c4\u8303\uff0c\u8be6\u89c1 Swift \u7684 API Design Guidelines\u3002</p>"},{"location":"languages/typescript/","title":"TypeScript \u8bed\u8a00\u57fa\u7840","text":""},{"location":"languages/typescript/#_1","title":"\u524d\u7f6e\u77e5\u8bc6","text":"<ul> <li>\u5177\u6709 JavaScript \u8bed\u8a00\u57fa\u7840\uff0c\u80fd\u591f\u7f16\u5199\u7b80\u5355\u7684 JavaScript \u8bed\u8a00\u7a0b\u5e8f</li> <li>\u5177\u6709\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u57fa\u7840\uff0c\u80fd\u591f\u7406\u89e3\u7c7b\u5c01\u88c5\u548c\u65b9\u6cd5\u91cd\u5199\uff08\u8bed\u8a00\u6700\u597d\u662f C++\uff09</li> </ul>"},{"location":"languages/typescript/#_2","title":"\u5f00\u53d1\u73af\u5883","text":"<p>JavaScript \u662f\u4e00\u79cd\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\uff0c\u5176\u6807\u51c6\u7531 ECMA \u5236\u5b9a\uff0c\u5373 ECMAScript \uff08\u7528\u4e8e\u7248\u672c\u79f0\u547c\u65f6\u5e38\u7b80\u79f0\u4e3a ES\uff0c\u5982 ES 6\u3001ES 2020 \u7b49\uff09\u3002\u901a\u5e38\u800c\u8a00 JavaScript \u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\uff0c\u7531\u4e8e ECMA \u53ea\u89c4\u5b9a\u4e86 ECMAScript \u7684\u8bed\u8a00\u89c4\u8303\uff0c\u5e76\u6ca1\u6709\u5728\u5177\u4f53\u5b9e\u73b0\u4e0a\u4f5c\u51fa\u7ea6\u675f\uff0c\u56e0\u800c\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u5185\u6838\u4e2d\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\uff0c\u5982 Google Chrome \u4e2d\u4f7f\u7528 V8 \u5f15\u64ce\uff0c\u800c Safari \u5219\u4f7f\u7528 JavaScriptCore\u3002</p> <p>\u5728 V8 \u5f15\u64ce\u7684\u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u7cfb\u7edf\u5e93\u548c\u4e00\u7cfb\u5217\u76f8\u5173\u7684\u652f\u6301\uff0c\u5c31\u5f97\u5230\u4e86\u53ef\u4ee5\u8131\u79bb\u6d4f\u89c8\u5668\u73af\u5883\u4f7f\u7528\u7684 JavaScript \u8fd0\u884c\u65f6\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5f00\u53d1\u65f6\u4e3b\u8981\u4f9d\u8d56\u7684\u73af\u5883 Node.js\u3002</p> <p>Node.js \u6709\u81ea\u5df1\u7684\u5305\u7ba1\u7406\u5de5\u5177 npm\uff08\u5373 Node.js package manager\uff09\uff0c\u4f46\u5728\u65e5\u5e38\u4f7f\u7528\u4e2d\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u7b2c\u4e09\u65b9\u5305\u7ba1\u7406\u5668 Yarn\u3002</p>"},{"location":"languages/typescript/#_3","title":"\u8bfe\u524d\u51c6\u5907","text":"<p>\u73af\u5883\u914d\u7f6e\u4e3b\u8981\u5305\u62ec\u5b89\u88c5 Node.js \u548c\u5305\u7ba1\u7406\u5668\uff0c\u5173\u4e8e\u5305\u7ba1\u7406\u7684\u5177\u4f53\u65b9\u5f0f\u548c\u4e0d\u540c\u5305\u7ba1\u7406\u5668\u7684\u533a\u522b\u53ef\u4ee5\u53c2\u8003 Node.js \u5305\u7ba1\u7406\uff0c\u4ee5\u4e0b\u5185\u5bb9\u5c06\u4e0d\u6d89\u53ca\u8fd9\u4e9b\u7ec6\u8282\u3002</p> <p>\u6b64\u5916\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5c55\u793a\u5173\u4e8e JavaScript \u5bf9\u8c61\u7684\u66f4\u591a\u7ec6\u8282\uff0c\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528 Chrome \u6d4f\u89c8\u5668\u8fd0\u884c\u90e8\u5206\u4ee3\u7801\uff0c\u8bf7\u786e\u4fdd\u4f60\u5b89\u88c5\u4e86\u8db3\u591f\u65b0\u7248\u672c\u7684 Chrome \u6d4f\u89c8\u5668\uff0c\u5e76\u5c1d\u8bd5\u6309 F12 \u6253\u5f00\u6d4f\u89c8\u5668\u8c03\u8bd5\u5de5\u5177\u3002</p>"},{"location":"languages/typescript/#windows","title":"Windows","text":"<p>\u8bbf\u95ee Node.js \u5b98\u7f51 \u4e0b\u8f7d\u6700\u65b0 LTS \u7248\u672c\u5b89\u88c5\u5305\u5e76\u6253\u5f00\u6839\u636e\u63d0\u793a\u5b89\u88c5\u3002</p>"},{"location":"languages/typescript/#macos","title":"macOS","text":"<p>\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5\u8fc7 Homebrew\uff0c\u8bf7\u53c2\u8003 TUNA \u7684\u8bf4\u660e\u5b89\u88c5\u3002</p> <p>\u4f7f\u7528 Homebrew \u5b89\u88c5 Node.js \u548c npm\uff1a</p> <pre><code>brew install node\n</code></pre>"},{"location":"languages/typescript/#linux","title":"Linux","text":"<p>\u5efa\u8bae\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u5b89\u88c5 Node.js\uff0c\u53c2\u8003\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u65b9\u5f0f\u5b89\u88c5 Node.js\uff0c\u4ee5\u4e0b\u4e3a\u5e38\u89c1\u53d1\u884c\u7248\u5b89\u88c5\u65b9\u6cd5\uff1a</p>"},{"location":"languages/typescript/#archlinux","title":"ArchLinux","text":"<pre><code>sudo pacman -S nodejs npm\n</code></pre>"},{"location":"languages/typescript/#debian","title":"Debian","text":"<pre><code># as root\ncurl -fsSL https://deb.nodesource.com/setup_16.x | bash -\napt-get install -y nodejs\n</code></pre>"},{"location":"languages/typescript/#ubuntu","title":"Ubuntu","text":"<pre><code>curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -\nsudo apt-get install -y nodejs\n</code></pre>"},{"location":"languages/typescript/#yarn","title":"\u5b89\u88c5 Yarn","text":"<p>\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\u5e94\u8be5\u53ef\u4ee5\u5728\u73af\u5883\u4e2d\u627e\u5230 <code>node</code> \u548c <code>npm</code>\uff0c\u8fd0\u884c\uff1a</p> <pre><code>npm i -g yarn\n</code></pre>"},{"location":"languages/typescript/#_4","title":"\u5f00\u53d1\u73af\u5883","text":"<p>\u5efa\u8bae\u4f7f\u7528 VSCode \u5e76\u5b89\u88c5\u6765\u81ea Microsoft \u7684\u63d2\u4ef6 JavaScript and TypeScript Nightly\uff0c\u53ef\u4ee5\u63d0\u4f9b\u8f83\u597d\u7684 TypeScript \u8bed\u6cd5\u68c0\u67e5\u3002</p>"},{"location":"languages/typescript/#why-typescript","title":"Why TypeScript?","text":"<p>\u540c\u5b66\u4eec\u53ef\u80fd\u6ce8\u610f\u5230\uff0c\u5728\u4e0a\u6587\u4e2d\u6211\u4eec\u4e00\u76f4\u5728\u8bb2 JavaScript \u548c\u5b83\u7684\u5f00\u53d1\u73af\u5883\uff0c\u800c\u6211\u4eec\u8981\u8bb2\u7684\u4e3b\u8981\u5185\u5bb9\u662f TypeScript\u3002 TypeScript \u662f JavaScript \u7684\u8d85\u96c6\uff0c\u4e3a JavaScript \u63d0\u4f9b\u4e86\u7f3a\u5931\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u5199\u51fa\u66f4\u52a0\u53ef\u9760\u7684\u4ee3\u7801\uff0c\u540c\u65f6\u8282\u7701\u5f00\u53d1\u8005\u7684\u8c03\u8bd5\u65f6\u95f4\u3002</p> <p>\u7531\u4e8e TypeScript \u5e76\u6ca1\u6709\u666e\u53ca\u7684\u8fd0\u884c\u65f6\uff08\u4f8b\u5982 ts-node\u3001deno \u7b49\u53ef\u4ee5\u652f\u6301\u76f4\u63a5\u8fd0\u884c TypeScript \u4ee3\u7801\uff0c\u4f46\u4f7f\u7528\u76f8\u5bf9\u8f83\u5c11\uff0c\u4e14\u6ca1\u6709\u5728\u6d4f\u89c8\u5668\u4e2d\u5b9e\u73b0\uff09\uff0c\u6211\u4eec\u9700\u8981\u5728 Node.js \u73af\u5883\u4e0b\u5f00\u53d1\uff0c\u5e76\u5c06 TS \u4ee3\u7801\u7b49\u4ef7\u5730\u7f16\u8bd1\u6210 JS \u4ee3\u7801\u8fd0\u884c\u3002</p> <p>\u65b0\u5efa\u9879\u76ee\u5e76\u6dfb\u52a0 TS \u652f\u6301\uff1a</p> <pre><code>mkdir ts-learning\ncd ts-learning\nyarn init\nyarn add -D typescript\n</code></pre> <p>\u521b\u5efa\u6587\u4ef6 <code>tsconfig.json</code> \u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"esModuleInterop\": true,\n        \"strictNullChecks\": true,\n        \"target\": \"ES2020\",\n        \"moduleResolution\": \"node\",\n        \"outDir\": \"dist\",\n        \"rootDir\": \"src\"\n    }\n}\n</code></pre> <p>\u8fd9\u6837\u5f53\u6267\u884c <code>yarn tsc</code> \u65f6\uff0c<code>tsc</code> \u4f1a\u6839\u636e\u4e0a\u8ff0\u914d\u7f6e\u7f16\u8bd1\u6211\u4eec\u7684 TS \u4ee3\u7801\u3002 \u5728 <code>package.json</code> \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\u65b9\u4fbf\u8fd0\u884c\uff1a</p> <pre><code>{\n    \"main\": \"dist/index.js\",\n    \"scripts\": {\n        \"build\": \"tsc\",\n        \"start\": \"node .\"\n    }\n}\n</code></pre> <p>\u4ee5\u4e0a\u914d\u7f6e\u7684\u542b\u4e49\u53ef\u53c2\u8003 Node.js \u5305\u7ba1\u7406 \u4e2d\u7684 TypeScript \u76f8\u5173\u90e8\u5206\u3002</p>"},{"location":"languages/typescript/#typescript-vs-javascript","title":"TypeScript vs JavaScript","text":"<p>\u4e0a\u6587\u63d0\u5230 TS \u662f JS \u7684\u8d85\u96c6\uff0c\u56e0\u6b64\u4efb\u4f55\u6709\u6548\u7684 JS \u4ee3\u7801\u4e5f\u662f\u6709\u6548\u7684 TS \u4ee3\u7801\uff08\u5982\u679c\u544a\u8bc9\u7f16\u8bd1\u5668\u5ffd\u7565\u7c7b\u578b\u7f3a\u5931\uff09\uff0c\u800c TS \u4ee3\u7801\u53bb\u6389\u6240\u6709\u7684\u7c7b\u578b\u6807\u6ce8\u540e\u5c31\u662f\u5408\u6cd5\u7684 JS \u4ee3\u7801\uff08\u4f46\u7f16\u8bd1\u5668\u4f1a\u4e3a\u6211\u4eec\u505a\u66f4\u591a\uff0c\u5c24\u5176\u662f\u4f7f\u7528 Babel \u7b49\u5de5\u5177\u65f6\uff0c\u4f1a\u5c06\u4ee3\u7801\u8f6c\u6362\u4e3a\u66f4\u4f4e\u7ea7\u7684\u8bed\u6cd5\uff09\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u8bb2\u8ff0 TypeScript \u7684\u8bed\u6cd5\uff0c\u5982\u679c\u9700\u8981\u76f4\u63a5\u7f16\u5199 JS \u4ee3\u7801\uff08\u5982\u5728\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u6267\u884c\uff09\uff0c\u53ea\u9700\u7565\u53bb\u6240\u6709\u7c7b\u578b\u5373\u53ef\uff0c\u4f46\u8bf7\u52a1\u5fc5\u8c28\u614e\u5224\u65ad\u53d8\u91cf\u7c7b\u578b\u3002</p>"},{"location":"languages/typescript/#hello-world","title":"Hello World","text":"<p>\u6839\u636e\u524d\u9762\u5199\u7684\u914d\u7f6e\uff0c<code>tsc</code> \u4f1a\u7f16\u8bd1 <code>src</code> \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5e76\u8f93\u51fa\u5230 <code>dist</code> \u76ee\u5f55\u4e0b\uff0c\u56e0\u6b64\u6211\u4eec\u521b\u5efa\u6587\u4ef6 <code>src/index.ts</code> \u5e76\u7f16\u5199\u5982\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>console.log('Hello, world!');\n</code></pre> <p>\u7f16\u8bd1\u5e76\u8fd0\u884c\uff1a</p> <pre><code>yarn build\nyarn start\n</code></pre> <p>\u770b\u5230\u7ec8\u7aef\u4e2d\u8f93\u51fa <code>Hello, world!</code> \u65f6\uff0c\u4f60\u5df2\u7ecf\u7f16\u5199\u5e76\u8fd0\u884c\u4e86\u4f60\u7684\u7b2c\u4e00\u4e2a TypeScript \u7a0b\u5e8f\u3002</p> <p>\u8fd9\u91cc <code>console</code> \u662f\u5185\u7f6e\u7684\u63a7\u5236\u53f0\u5bf9\u8c61\uff0c<code>console.log</code> \u662f\u5411\u63a7\u5236\u53f0\uff08\u7ec8\u7aef\uff09\u8f93\u51fa\u5185\u5bb9\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u63a5\u6536\u4efb\u610f\u591a\u7684\u53c2\u6570\u3002</p>"},{"location":"languages/typescript/#_5","title":"\u540e\u7eed\u62d3\u5c55","text":"<p>TypeScript \u4f5c\u4e3a\u76ee\u524d\u8f83\u4e3a\u70ed\u95e8\u7684 JavaScript \u8bed\u8a00\u201c\u8865\u4e01\u201d\uff0c\u53ef\u4ee5\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd Web \u524d\u7aef\u6846\u67b6\u6216\u8005\u79fb\u52a8\u7aef\u6846\u67b6\u3002\u76ee\u524d\u7c7b\u4f3c React\u3001React Native\u3001Vue \u7b49\u5e38\u7528\u524d\u7aef\u6846\u67b6\u5747\u63d0\u4f9b\u4e86 TypeScript \u8bed\u8a00\u652f\u6301\u3002</p> <p>\u53ef\u4ee5\u5e94\u7528 TypeScript \u8bed\u8a00\u76f8\u5173\u77e5\u8bc6\u7684\u8bfe\u7a0b\uff1a</p> <ul> <li>\u8f6f\u4ef6\u5de5\u7a0b</li> </ul>"},{"location":"languages/typescript/#_6","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>TypeScript Documentation</li> <li>JavaScript\uff08\u4e2d\u6587\u7ffb\u8bd1\u76f8\u5f53\u5b8c\u5584\uff09</li> <li>Node.js API Reference\uff08\u4e2d\u6587\u7ffb\u8bd1\u76f8\u5f53\u5b8c\u5584\uff0c\u4f46\u6536\u8d39 \u00a5199/\u5e74\uff09</li> <li>ESLint</li> <li>Babel</li> <li>Webpack</li> </ul>"},{"location":"languages/typescript/function/","title":"TypeScript \u7684\u51fd\u6570","text":""},{"location":"languages/typescript/function/#_1","title":"\u51fd\u6570\u58f0\u660e\u548c\u8c03\u7528","text":"<p>\u6211\u4eec\u4e00\u822c\u628a TypeScript \u7684\u51fd\u6570\u4e5f\u8ba4\u4e3a\u662f\u4e00\u79cd\u53d8\u91cf\uff0c\u56e0\u4e3a\u5728 TypeScript \u4e4b\u4e2d\uff0c\u51fd\u6570\u7684\u884c\u4e3a\u5f88\u5927\u7a0b\u5ea6\u4e0a\u548c\u53d8\u91cf\u7c7b\u4f3c\u3002</p> <p>TypeScript \u8bed\u8a00\u4e4b\u4e2d\u58f0\u660e\u4e00\u4e2a\u51fd\u6570\u7684\u8bed\u6cd5\u4e3a\uff1a</p> <pre><code>function sum(x: number, y: number): number {\n    return x + y;\n}\n</code></pre> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c1d\u8bd5\u63a8\u65ad\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u4f46\u4e0d\u4f1a\u5c1d\u8bd5\u4ece\u51fd\u6570\u5b9e\u73b0\u4e2d\u63a8\u65ad\u53c2\u6570\u7c7b\u578b\uff0c\u56e0\u6b64\u53c2\u6570\u5217\u8868\u7684\u7c7b\u578b\u6807\u6ce8\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002</p> <p>\u4e5f\u53ef\u4ee5\u6309\u7167\u58f0\u660e\u53d8\u91cf\u7684\u65b9\u5f0f\uff1a</p> <pre><code>let sum = function (x: number, y: number): number {\n    return x + y;\n}\n</code></pre> <p>\u8fd9\u91cc <code>sum</code> \u4f5c\u4e3a\u4e00\u4e2a\u53d8\u91cf\uff0c\u5b83\u7684\u7c7b\u578b\u5e76\u975e\u524d\u6587\u6240\u63d0\u8fc7\u7684\u539f\u59cb\u503c\uff0c\u56e0\u6b64\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u7684\u6784\u9020\u51fd\u6570\u662f <code>Function</code>\uff0c\u800c\u5b83\u7684\u7c7b\u578b\u53ef\u4ee5\u6807\u6ce8\u4e3a\uff1a</p> <pre><code>let sum: (x: number, y: number) =&gt; number = function (x, y) {\n    return x + y;\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u8fd9\u79cd\u5199\u6cd5\u53ef\u4ee5\u4f7f\u7f16\u8bd1\u5668\u63a8\u65ad\u51fa\u53c2\u6570\u5217\u8868\u548c\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u3002</p> <p>\u51fd\u6570\u8c03\u7528\u7684\u8bed\u6cd5\u548c\u5927\u591a\u6570\u8bed\u8a00\u76f8\u540c\uff1a</p> <pre><code>console.log(sum(1, 2)); // =&gt; 3\n</code></pre>"},{"location":"languages/typescript/function/#typescript_1","title":"TypeScript \u51fd\u6570\u7684\u53c2\u6570\u5217\u8868","text":"<p>\u5b9e\u9645\u4e0a TypeScript \u5728\u8fd0\u884c\u65f6\u4e0d\u4f1a\u68c0\u67e5\u4f60\u51fd\u6570\u8c03\u7528\u662f\u4e0d\u662f\u7b26\u5408\u53c2\u6570\u5217\u8868\uff08\u5c3d\u7ba1\u5728\u7f16\u8bd1\u5668\u4f1a\u5c1d\u8bd5\u8fdb\u884c\u9759\u6001\u68c0\u67e5\uff0c\u4f46\u662f\u5982\u679c\u4f60\u4f7f\u7528 <code>any</code> \u6216\u5176\u4ed6\u4e00\u4e9b\u65b9\u6cd5\u4f20\u5165\u5176\u4ed6\u7c7b\u578b\u53c2\u6570\uff0c\u4ecd\u7136\u4f1a\u7ee7\u7eed\u8fd0\u884c\uff09\uff0c\u5b9e\u9645\u4e0a JavaScript \u8fd8\u4e0d\u68c0\u67e5\u4f60\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\uff08\u4f46 TypeScript \u4f1a\u963b\u6b62\u4f20\u5165\u4e2a\u6570\u9519\u8bef\u7684\u53c2\u6570\uff09\u3002</p> <p>\u5728 TypeScript \u4e2d\u53ef\u4ee5\u901a\u8fc7\u5c06\u53c2\u6570\u6807\u4e3a\u53ef\u9009\u6216\u63d0\u4f9b\u9ed8\u8ba4\u503c\u6765\u5141\u8bb8\u4e0d\u540c\u957f\u5ea6\u7684\u4f20\u5165\u53c2\u6570\uff1a</p> <pre><code>function sum(x: number, y: number = 1, z?: number): number {\n    return x + y + (z ?? 0);  // \u8fd9\u91cc y \u4e0d\u53ef\u80fd\u4e3a\u7a7a\u503c\uff0c\u4f46 z \u53ef\u80fd\n}\n\nconsole.log(sum(1));        // =&gt; 1 + 1 + (undefined ?? 0) = 2\nconsole.log(sum(1, 0));     // =&gt; 1 + 0 + (undefined ?? 0) = 1\nconsole.log(sum(1, 2, 3));  // =&gt; 1 + 2 + (3 ?? 0) = 6\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\u53ef\u9009\u53c2\u6570\u6216\u63d0\u4f9b\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\u5fc5\u987b\u4f4d\u4e8e\u5176\u4ed6\u53c2\u6570\u4e4b\u540e\uff0c\u8003\u8651\u5230 TypeScript \u5b9e\u9645\u4e0a\u4e0d\u4f1a\u68c0\u67e5\u4f20\u5165\u53c2\u6570\u7684\u7c7b\u578b\uff0c\u4e3a\u4e86\u4e0d\u4ea7\u751f\u6df7\u6dc6\uff0c\u8fd9\u79cd\u9650\u5236\u662f\u5fc5\u8981\u7684\u3002</p>"},{"location":"languages/typescript/function/#_2","title":"\u7bad\u5934\u51fd\u6570","text":"<p>\u4e00\u79cd\u66f4\u7b80\u6d01\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u8bb0\u53f7\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>// \u4ee5\u4e0b\u51e0\u79cd\u5199\u6cd5\u7684\u7ed3\u679c\u76f8\u540c\nconst sum = (x: number, y: number) =&gt; x + y;\nconst sum = (x: number, y: number) =&gt; {\n    return x + y;\n};\nfunction sum(x: number, y: number) {\n    return x + y;\n}\n</code></pre> <p>\u5f53\u51fd\u6570\u4f53\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u8bed\u53e5\u65f6\uff0c\u53ef\u4ee5\u7701\u7565\u5916\u5c42\u7684\u62ec\u53f7\u548c <code>return</code> \u5173\u952e\u5b57\uff0c\u82e5\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff08\u4e14\u7f16\u8bd1\u5668\u80fd\u591f\u63a8\u65ad\u7c7b\u578b\u65f6\uff09\uff0c\u53ef\u4ee5\u7701\u7565\u53c2\u6570\u5217\u8868\u7684\u5c0f\u62ec\u53f7\uff1a</p> <pre><code>const plusOne = x =&gt; x + 1;\n</code></pre>"},{"location":"languages/typescript/oop/","title":"TypeScript \u7684\u9762\u5411\u5bf9\u8c61","text":""},{"location":"languages/typescript/oop/#_1","title":"\u7c7b\u8bed\u6cd5","text":"<p>\u4e00\u822c\u800c\u8a00\uff0c\u4f7f\u7528\u7c7b\u8bed\u6cd5\u8db3\u4ee5\u5e94\u5bf9\u5e38\u89c1\u7684\u5404\u79cd\u9700\u6c42\uff0c\u8fd9\u79cd\u5199\u6cd5\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u4e0e C++ \u662f\u7c7b\u4f3c\u7684\u3002TypeScript \u8bed\u8a00\u4e4b\u4e2d\u7684\u7c7b\u5141\u8bb8\u58f0\u660e\u7c7b\u6210\u5458\u548c\u65b9\u6cd5\u7684\u8bbf\u95ee\u6743\u9650\u3002\u8fd9\u91cc\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u7b80\u6613\u7684\u590d\u6570\u7c7b\u4f5c\u4e3a\u6f14\u793a\uff0c\u5185\u90e8\u5df2\u7ecf\u5305\u542b\u4e86\u6784\u9020\u51fd\u6570\u3001\u5b9a\u4e49\u6210\u5458\u65b9\u6cd5\u548c\u9759\u6001\u65b9\u6cd5\u7b49\uff1a</p> <pre><code>class Complex {\n    // \u8fd9\u90e8\u5206\u5728 JavaScript \u4e2d\u662f\u4e0d\u5b58\u5728\u7684\uff0cJavaScript \u53ea\u8981\u4efb\u610f\u8bbf\u95ee this.propertyName \u5373\u53ef\n    private real: number;\n    private imaginary: number;\n\n    constructor(_real: number, _imaginary: number) {\n        this.real = _real;\n        this.imaginary = _imaginary; // Declare members &amp; initialize\n    }\n\n    print() {\n        console.log(`${this.real} ${this.imaginary &gt;= 0 ? \"+\" : \"-\"} ${Math.abs(this.imaginary)} i`);\n    }\n\n    static printInfo() {\n        console.log(\"This is a complex class.\");\n    }\n}\n\nlet com = new Complex(1, 2);\ncom.print(); // \"1 + 2 i\"\nComplex.printInfo(); // \"This is a complex class.\"\n</code></pre> <p>\u6709\u4e00\u4e9b\u7ec6\u8282\u9700\u8981\u6ce8\u610f\uff1a</p> <ul> <li>\u7c7b\u65b9\u6cd5\u5185\u4f7f\u7528\u7c7b\u6210\u5458\u7684\u65f6\u5019\u5fc5\u987b\u4f7f\u7528 <code>this</code> \u8c03\u7528\uff1b</li> <li>JavaScript \u7684\u6240\u6709\u7c7b\u6210\u5458\u548c\u7c7b\u65b9\u6cd5\u5747\u662f\u516c\u6709\u7684\uff0cJavaScript \u4e0d\u5177\u6709\u8bbf\u95ee\u6743\u9650\u4fee\u9970\u7b26\uff0c\u5c3d\u7ba1\u4f60\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u4f7f\u7528 TypeScript \u65f6\u6807\u6ce8\u4e86 <code>private</code> \u5c5e\u6027\uff0c\u4f46\u8fd9\u53ea\u662f\u5728\u7f16\u8bd1\u65f6\u68c0\u67e5\u4f60\u7684\u4ee3\u7801\u6709\u6ca1\u6709\u4e0d\u9002\u5f53\u7684\u8bbf\u95ee\uff0c\u7f16\u8bd1\u540e\u5982\u679c\u4f60\u7528 JavaScript \u8c03\u7528\uff0c\u4ecd\u7136\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u8fd9\u4e9b\u5c5e\u6027\u3002</li> </ul> <p>\u7c7b\u7ee7\u627f\u4f7f\u7528\u5173\u952e\u5b57 <code>extends</code>\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\u5fc5\u987b\u624b\u52a8\u4f7f\u7528 <code>super</code> \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff08\u5426\u5219\u65e0\u6cd5\u4f7f\u7528 <code>this</code> \u53d8\u91cf\uff09\uff0c\u5bf9\u4e8e\u5df2\u7ecf\u88ab\u91cd\u5199\u7684\u7236\u7c7b\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>super</code> \u5173\u952e\u5b57\u8c03\u7528\uff1a</p> <pre><code>class Animal {\n    private name: string;\n\n    constructor(_name: string) { this.name = _name; }\n    public move(): void { console.log(\"Animal moves\"); }\n}\n\nclass Cat extends Animal {\n    private furColor: string;\n\n    constructor(_name: string, _color: string) {\n        super(_name); // Must call super() here!\n        this.furColor = _color;\n    }\n\n    public move(): void { console.log(\"Cat runs\"); }\n\n    public baseMove(): void { super.move(); }\n}\n\nlet tom: Cat = new Cat(\"tom\", \"blue\");\ntom.move();\ntom.baseMove();\n</code></pre>"},{"location":"languages/typescript/oop/#_2","title":"\u7c7b\u4e0e\u63a5\u53e3","text":"<p>\u5728 TypeScript \u4e2d\u53ef\u4ee5\u76f4\u63a5\u5c06\u7c7b\u540d\u4f5c\u4e3a\u7c7b\u578b\u6807\u6ce8\uff1a</p> <pre><code>class Complex {\n    real: number;\n    imaginary: number\n\n    constructor(_real: number, _imaginary: number) {\n        this.real = _real;\n        this.imaginary = _imaginary; // Declare members &amp; initialize\n    }\n}\n\nlet com: Complex = new Complex(1, 2);\n</code></pre> <p>\u66f4\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ea\u5728\u610f\u4e00\u4e2a\u5bf9\u8c61\u7684\u90e8\u5206\u5c5e\u6027\uff0c\u800c\u4e0d\u5728\u610f\u5176\u4ed6\u90e8\u5206\u3002\u62bd\u8c61\u7c7b\u4f9d\u7136\u662f\u5b58\u5728\u7684\uff0c\u4f46\u5728\u5b9e\u9645\u5de5\u7a0b\u4e2d\u66f4\u5e38\u7528\u7684\u662f\u63a5\u53e3\u3002</p> <p>\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3</p> <p>\u6211\u4eec\u56de\u60f3\u5728 C++ \u8bed\u8a00\u4e4b\u4e2d\u7684\u62bd\u8c61\u7c7b\uff1a</p> <pre><code>class Base {\nprotected:\n    int val;\n\npublic:\n    virtual void print() = 0;\n};\n\nclass Derive: public Base {\npublic:\n    virtual void print() override {\n        std::cout &lt;&lt; this-&gt;val &lt;&lt; std::endl;\n    }\n};\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c<code>Base</code> \u7c7b\u7684\u4f5c\u7528\u5c31\u662f\u7ea6\u675f\u5b50\u7c7b\u5fc5\u987b\u5177\u6709 <code>val</code> \u6210\u5458\u548c\u7ea6\u675f\u5b50\u7c7b\u5fc5\u987b\u91cd\u5199 <code>print</code> \u865a\u65b9\u6cd5\uff0c\u524d\u8005\u89c4\u5b9a\u4e86\u5b50\u7c7b\u5fc5\u987b\u5177\u6709\u7684\u6210\u5458\uff0c\u540e\u8005\u89c4\u5b9a\u4e86\u5b50\u7c7b\u9700\u8981\u8bbe\u8ba1\u7684\u63a5\u53e3\u683c\u5f0f\uff08\u63a5\u53e3\u53c2\u6570\u5217\u8868\u548c\u8fd4\u56de\u503c\u7c7b\u578b\uff09\u3002 \u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u62bd\u8c61\u7236\u7c7b\u7684\u4f5c\u7528\u662f\u7ea6\u675f\u5b50\u7c7b\u5e94\u5f53\u5177\u6709\u7684\u6210\u5458\u548c\u5bf9\u5916\u5f00\u653e\u7684\u63a5\u53e3\u683c\u5f0f\u3002 \u5728\u8fd9\u4e2a\u610f\u4e49\u4e0a\uff0c\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3\u662f\u4e00\u81f4\u7684\u3002</p> <pre><code>interface Complex {\n    real: number;\n    imag: number;\n}\n</code></pre> <p>\u8fd9\u91cc\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3a <code>Complex</code> \u7684\u63a5\u53e3\uff0c\u5b83\u8981\u6c42\u5bf9\u8c61\u5305\u542b\u7c7b\u578b\u4e3a <code>number</code> \u7684\u5c5e\u6027 <code>real</code> \u548c <code>imag</code>\uff0c\u56e0\u6b64\u5982\u679c\u6211\u4eec\u5199\u8fd9\u6837\u7684\u51fd\u6570\uff1a</p> <pre><code>function printComplex(com: Complex) {\n    console.log(\n        `${com.real} ${com.imag &gt;= 0 ? \"+\" : \"-\"} ${Math.abs(this.imag)} i`\n    );\n}\n</code></pre> <p>\u5c31\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u5305\u542b <code>real</code> \u548c <code>imag</code> \u5c5e\u6027\u7684\u53c2\u6570\uff0c\u800c\u4e0d\u5fc5\u8981\u50cf\u7c7b\u90a3\u6837\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6765\u6784\u9020\u3002</p> <p>\u7c7b\u5c31\u5fc5\u987b\u5177\u6709\u63a5\u53e3\u7684\u6210\u5458\u5e76\u5b9e\u73b0\u63a5\u53e3\u7684\u65b9\u6cd5\uff1a</p> <pre><code>interface Point { x: number; y: number; print: () =&gt; void; }\n\nclass Point3D implements Point {\n    x: number;  y: number;  z: number;\n    ...\n    print(): void {\n        console.log(`(${this.x}, ${this.y}, ${this.z})`);\n    }\n    ...\n}\n</code></pre> <p>\u63a5\u53e3\u652f\u6301\u53ef\u9009\u53c2\u6570\u548c\u53ea\u8bfb\u53c2\u6570\u3002\u53ef\u9009\u53c2\u6570\u4ee3\u8868\u8be5\u53c2\u6570\u53ef\u5177\u6709\u53ef\u4e0d\u5177\u6709\uff1a</p> <pre><code>interface Point { x: number; y: number; z?: number; }\nlet twoDimensionPoint: Point = { x: 1, y: 2 }; // OK\n</code></pre> <p>\u53ea\u8bfb\u53c2\u6570\u4ee3\u8868\u8be5\u53c2\u6570\u53ea\u53ef\u8bfb\u53d6\u4e0d\u53ef\u4fee\u6539\uff1a</p> <pre><code>interface User { name: string; readonly password: string; }\nlet holder: User = { name: \"holder\", password: \"111111\" };\nholder.password = \"222222\"; // Error!\n</code></pre>"},{"location":"languages/typescript/type/","title":"TypeScript \u7684\u590d\u6742\u7c7b\u578b","text":""},{"location":"languages/typescript/type/#_1","title":"\u6cdb\u578b","text":"<p>\u4e0e\u5176\u4ed6\u4e00\u4e9b\u652f\u6301\u6cdb\u578b\u7684\u8bed\u8a00\u4e0d\u540c\uff0cTypeScript \u7684\u6cdb\u578b\u5e76\u4e0d\u4f1a\u4e3a\u6bcf\u4e00\u79cd\u7c7b\u578b\u751f\u6210\u4e00\u4efd\u4ee3\u7801\uff0c\u53ea\u662f\u68c0\u67e5\u662f\u5426\u6bcf\u4e00\u79cd\u53ef\u80fd\u7684\u7c7b\u578b\u90fd\u53ef\u4ee5\u517c\u5bb9\uff0c\u5728\u8fd0\u884c\u4e2d\u4ecd\u7136\u4f7f\u7528\u540c\u4e00\u4efd\u4ee3\u7801\u3002</p> <p>\u53ef\u4ee5\u5728\u58f0\u660e\u51fd\u6570\u3001\u7c7b\u3001\u63a5\u53e3\u548c\u7c7b\u578b\u65f6\u58f0\u660e\u6cdb\u578b\uff1a</p> <pre><code>function identity&lt;Type&gt;(arg: Type): Type {\n    return arg;\n}\n\nconst identity = &lt;Type&gt;(arg: Type): Type =&gt; arg;\n\nclass GenericNumber&lt;NumType&gt; {\n    zeroValue: NumType;\n    add: (x: NumType, y: NumType) =&gt; NumType;\n}\n\ninterface Request&lt;ReqBody, ResBody&gt; {\n    request: ReqBody;\n    response: ResBody;\n}\n\ntype MaybeArray&lt;Value&gt; = Value | Value[];\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u4f7f\u7528\u524d\u9762\u5b9a\u4e49\u7684\u6cdb\u578b\uff1a</p> <pre><code>identity&lt;number&gt;(1);\n\nconst num = new GenericNumber&lt;number&gt;();\n\nconst req: Request&lt;{ action: string }, { result: string }&gt; = {\n    request: {\n        action: 'update system',\n    },\n    response: {\n        result: 'succeeded',\n    },\n};\n\nlet nums: MaybeArray&lt;number&gt; = 0;\nnums = [0, 1, 2];\n</code></pre> <p>\u53ef\u4ee5\u4e3a\u6cdb\u578b\u6dfb\u52a0\u9650\u5236\u548c\u9ed8\u8ba4\u503c\uff0c\u4e5f\u53ef\u4ee5\u7531\u7f16\u8bd1\u5668\u63a8\u65ad\u6cdb\u578b\u7c7b\u578b\uff1a</p> <pre><code>function identity&lt;Type = number&gt;(arg: Type): Type {\n    return arg;\n}\n\nidentity(1);\n\nfunction identity&lt;Type extends { data: string }&gt;(arg: Type): string {\n    return arg.data;\n}\n\nidentity({ data: '' });  // inferred Type = { data: string }\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\u6cdb\u578b\u53ea\u80fd\u4f7f\u7528\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\uff0c\u5982\u679c\u9700\u8981\u67d0\u4e2a\u503c\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>typeof</code>\u3002</p>"},{"location":"languages/typescript/type/#keyof-typeof","title":"<code>keyof</code> \u548c <code>typeof</code> \u5173\u952e\u5b57","text":"<p><code>typeof</code> \u9664\u4e86\u53ef\u4ee5\u4f5c\u4e3a\u8fd0\u7b97\u7b26\u83b7\u53d6\u53d8\u91cf\u7c7b\u578b\u4ee5\u5916\uff0c\u7528\u4f5c\u7c7b\u578b\u6807\u6ce8\u65f6\uff0c\u53ef\u4ee5\u83b7\u53d6\u53d8\u91cf\u7684\u5177\u4f53\u7c7b\u578b\uff08\u800c\u975e\u4f5c\u4e3a\u8fd0\u7b97\u7b26\u65f6\u7684\u6709\u9650\u79cd\u7c7b\uff09\uff1a</p> <pre><code>const someObj = {\n    foo: 1,\n    bar: '2',\n};\n\n// inferred arg: { foo: number; bar: string }\nfunction f(arg: typeof someObj) {\n    /* do something */\n}\n</code></pre> <p>\u800c <code>keyof</code> \u53ef\u4ee5\u83b7\u53d6\u7c7b\u578b\u7684\u952e\u7684\u7c7b\u578b\uff08\u4f5c\u4e3a\u679a\u4e3e\uff09\uff1a</p> <pre><code>const someObj = {\n    foo: 1,\n    bar: '2',\n};\n\n// inferred arg: 'foo' | 'bar'\nfunction f(arg: keyof typeof someObj) {\n    /* do something */\n}\n</code></pre> <p>\u4f46 TypeScript \u7684\u4e00\u4e2a\u7f3a\u9677\u662f\uff0c\u4f7f\u7528 <code>for...in</code> \u8bed\u6cd5\u65f6\u5e76\u4e0d\u4f1a\u81ea\u52a8\u63a8\u65ad\u4e3a <code>keyof</code>\uff0c\u4f8b\u5982\uff1a</p> <pre><code>const someObj = {\n    foo: 1,\n    bar: '2',\n};\n\nfor (const key in someObj) {\n    // inferred key: string, value: any\n    const value = someObj[key];\n}\n</code></pre>"},{"location":"languages/typescript/type/#_2","title":"\u8bbf\u95ee\u7c7b\u578b\u5185\u90e8","text":"<p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u4e00\u4e2a\u7c7b\u578b\u4e2d\u7684\u90e8\u5206\u5185\u5bb9\uff1a</p> <pre><code>interface SomeComplexType {\n    foo: {\n        bar: string;\n    }[];\n}\n\ntype Foo = SomeComplexType['foo']; // Foo = { bar: string }[]\n// \u4ee5\u4e0b\u4e24\u79cd\u7b49\u4ef7\ntype Bar = Foo[number];            // Bar = { bar: string }\ntype Bar = Foo[0];                 // Bar = { bar: string }\n</code></pre>"},{"location":"languages/typescript/type/#_3","title":"\u6761\u4ef6\u7c7b\u578b","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4e09\u76ee\u8fd0\u7b97\u7b26\u7684\u8bed\u6cd5\u6765\u7f16\u5199\u6761\u4ef6\u7c7b\u578b\uff1a</p> <pre><code>interface Animal {\n    live(): void;\n}\n\ninterface Dog extends Animal {\n    woof(): void;\n}\n\ntype Example1 = Dog extends Animal ? number : string;    // Example1 = number\n\ntype Example2 = RegExp extends Animal ? number : string; // Example2 = string\n</code></pre> <p>\u8fd9\u79cd\u8bed\u6cd5\u4e0e\u6cdb\u578b\u7ed3\u5408\u5c24\u4e3a\u6709\u7528\uff1a</p> <pre><code>type MessageOf&lt;T&gt; = T extends { message: any } ? T['message'] : unknown;\n\ninterface Email {\n    message: string;\n}\n\ninterface Dog {\n    bark(): void;\n}\n\ntype EmailMessageContents = MessageOf&lt;Email&gt;;  // EmailMessageContents = string\n\ntype DogMessageContents = MessageOf&lt;Dog&gt;;      // DogMessageContents = unknown\n</code></pre>"},{"location":"languages/typescript/type/#_4","title":"\u53ea\u8bfb\u3001\u53ef\u9009","text":"<p>\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6807\u8bb0\u67d0\u4e00\u5c5e\u6027\u4e3a\u53ea\u8bfb\u6216\u53ef\u9009\uff1a</p> <pre><code>interface SomeType {\n    readonly readonlyProperty: string;\n    optionalProperty?: string;\n}\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e9b\u4fee\u9970\u53ea\u4f1a\u5728\u7f16\u8bd1\u65f6\u68c0\u67e5\u662f\u5426\u8fdd\u53cd\uff0c\u5728\u7f16\u8bd1\u540e\u8fd0\u884c\u65f6\u4f60\u4ecd\u7136\u53ef\u80fd\u6253\u7834\u8fd9\u4e9b\u9650\u5236\uff0c\u5728\u4f7f\u7528 JavaScript \u8c03\u7528 TypeScript \u5e93\u65f6\u5c24\u5176\u53ef\u80fd\u5b58\u5728\u3002</p>"},{"location":"languages/typescript/type/#_5","title":"\u5b9e\u7528\u5185\u7f6e\u7c7b\u578b","text":"<p>TypeScript \u5185\u7f6e\u4e86\u591a\u79cd\u5b9e\u7528\u7c7b\u578b\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u7b80\u6d01\u5730\u6807\u6ce8\u4e00\u4e9b\u590d\u6742\u7c7b\u578b\uff0c\u4ee5\u4e0b\u4ec5\u505a\u90e8\u5206\u5c55\u793a\uff1a</p> <pre><code>interface Data {\n    key1?: string;\n    key2: string;\n}\n\n// \u4ee5\u4e0b\u76f8\u540c\u540d\u79f0\u7684\u7c7b\u578b\u5185\u5bb9\u76f8\u540c\n\n// \u5168\u90e8\u5c5e\u6027\u53d8\u4e3a\u53ef\u9009\ntype PartialData = Partial&lt;Data&gt;;\ntype PartialData = {\n    key1?: string;\n    key2?: string;\n};\n\n// \u5168\u90e8\u5c5e\u6027\u53d8\u4e3a\u5fc5\u9009\ntype FullData = Required&lt;PartialData&gt;;\ntype FullData = {\n    key1: string;\n    key2: string;\n};\n\n// \u5168\u90e8\u5c5e\u6027\u53d8\u4e3a\u53ea\u8bfb\ntype ReadonlyData = Readonly&lt;Data&gt;;\ntype ReadonlyData = {\n    readonly key1?: string;\n    readonly key2: string;\n};\n\n// \u7279\u5b9a\u7c7b\u578b\u4e4b\u95f4\u7684\u6620\u5c04\ntype DataDict = Record&lt;string, Data&gt;;\ntype DataDict = {\n    // \u8fd9\u79cd\u8bed\u6cd5\u8868\u793a\u4efb\u610f string \u7684\u503c key \u90fd\u53ef\u4ee5\u4f5c\u4e3a\u952e\n    [key: string]: Data;\n};\n\n// \u9009\u62e9\u90e8\u5206\u5c5e\u6027\ntype DataKey1 = Pick&lt;Data, 'key1'&gt;;\n// \u5ffd\u7565\u90e8\u5206\u5c5e\u6027\ntype DataKey1 = Omit&lt;Data, 'key2'&gt;;\ntype DataKey1 = {\n    key1?: string;\n};\n\nfunction f(a: number, b: string, c: number[]): number {\n    return 0;\n}\n// \u83b7\u53d6\u53c2\u6570\u5217\u8868\ntype Args = Parameters&lt;typeof f&gt;;\ntype Args = [a: number, b: string, c: number[]];\n\ntype Ret = ReturnType&lt;typeof f&gt;;\ntype Ret = number;\n</code></pre>"},{"location":"languages/typescript/variable/","title":"TypeScript \u7684\u53d8\u91cf\u4e0e\u53d8\u91cf\u7c7b\u578b","text":"<p>TypeScript \u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u5f15\u5165\u4e86\u7c7b\u578b\u7cfb\u7edf\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u7f16\u8bd1\u4e3a JavaScript \u4ee3\u7801\u4e4b\u524d\u7531\u7f16\u8bd1\u5668\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u5728\u8fd9\u6837\u7684\u6761\u4ef6\u4e0b\uff0cTypeScript \u4e2d\u7684\u53d8\u91cf\u5728\u58f0\u660e\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u6307\u5b9a\u7c7b\u578b\uff0c\u7f16\u8bd1\u5668\u5728\u5c06 TypeScript \u4ee3\u7801\u7f16\u8bd1\u4e3a JavaScript \u4ee3\u7801\u7684\u65f6\u5019\u4f1a\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u82e5\u6709\u4e0d\u7b26\u5408\u7c7b\u578b\u58f0\u660e\u7684\u60c5\u51b5\u5219\u4f1a\u62a5\u9519\uff1a</p> <pre><code>const foo = (name: string): void =&gt; {\n    console.log(\"Hello, \" + name);\n}\n\nfoo(2); // Error!\n</code></pre>"},{"location":"languages/typescript/variable/#_1","title":"\u53d8\u91cf\u7c7b\u578b","text":"<p>\u7531\u4e8e TypeScript \u662f JavaScript \u7684\u8d85\u96c6\uff0c\u6240\u4ee5\u5176\u57fa\u7840\u53d8\u91cf\u7c7b\u578b\u4f9d\u7136\u548c JavaScript \u4e00\u81f4\u3002</p> <p>\u58f0\u660e\u53d8\u91cf\u65f6\u53ef\u4ee5\u5728\u53d8\u91cf\u540e\u9762\u6807\u6ce8\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u521d\u59cb\u503c\u81ea\u52a8\u63a8\u65ad\uff0c\u4f46\u5982\u679c\u58f0\u660e\u53d8\u91cf\u65f6\u4e0d\u8d4b\u521d\u59cb\u503c\uff0c\u5219\u5fc5\u987b\u6dfb\u52a0\u7c7b\u578b\u6807\u6ce8\uff0c\u5426\u5219\u5728\u4f7f\u7528\u65f6\u4f1a\u62a5\u9519\uff08\u5373\u81ea\u52a8\u63a8\u65ad\u8be5\u53d8\u91cf\u4e3a <code>undefined</code> \u7684\u7c7b\u578b\uff0c\u56e0\u6b64\u4e0d\u80fd\u8d4b\u5176\u4ed6\u503c\uff09\u3002</p> <p>\u5e38\u7528\u7684\u57fa\u7840\u7c7b\u578b\u5305\u62ec\uff1a</p> <pre><code>let isDone: boolean = false;\nlet clickCnt: number = 6;\nlet greeting: string = \"Hello!\";\n</code></pre>"},{"location":"languages/typescript/variable/#_2","title":"\u539f\u59cb\u503c","text":"<ol> <li> <p>\u5e03\u5c14\u7c7b\u578b\uff08<code>boolean</code>\uff09\uff1a</p> <pre><code>let sast_yyds: boolean = true;\n</code></pre> </li> <li> <p><code>null</code> \u7c7b\u578b\uff1a</p> <pre><code>let null_value: null = null;\n</code></pre> </li> <li> <p><code>undefined</code> \u7c7b\u578b\uff1a</p> <pre><code>let undefined_value: undefined = undefined;\n</code></pre> </li> <li> <p>\u6570\u5b57\u7c7b\u578b\uff08<code>number</code>\uff09\uff1a</p> <pre><code>let sast_rank: number = 1;\n</code></pre> </li> <li> <p><code>bigint</code> \u7c7b\u578b\uff08ES 2020 \u65b0\u589e\uff09\uff1a</p> <pre><code>let a: bigint = 9007199254740991n;\n</code></pre> </li> <li> <p>\u5b57\u7b26\u4e32\u7c7b\u578b\uff08<code>string</code>\uff09\uff1a</p> <pre><code>let course: string = 'TypeScript introduction';\n</code></pre> </li> <li> <p>\u7b26\u53f7\u7c7b\u578b\uff08<code>symbol</code>\uff0cES 6 \u65b0\u589e\uff09\uff1a</p> <pre><code>let sym: symbol = Symbol('SAST');\n</code></pre> </li> <li> <p>\u5c3d\u7ba1 TypeScript \u4f1a\u5c1d\u8bd5\u963b\u6b62\u4f60\u8fd9\u4e48\u505a\uff0c\u4f46 JavaScript \u662f\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u53d8\u91cf\u8d4b\u4e3a\u5176\u4ed6\u7c7b\u578b\u503c\u3002</p> </li> <li> <p>\u5c3d\u7ba1 TypeScript \u66f4\u52a0\u4f1a\u5c1d\u8bd5\u963b\u6b62\u4f60\uff0c\u4f46 JavaScript \u662f\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u8981\u5c0f\u5fc3\u968f\u5904\u53ef\u80fd\u5b58\u5728\u7684\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f15\u8d77\u5f88\u96be\u7406\u89e3\u7684\u884c\u4e3a\uff0c\u5173\u4e8e\u8fd9\u4e00\u73b0\u8c61\u7684\u8be6\u7ec6\u89e3\u91ca\u53ef\u4ee5\u53c2\u8003 JavaScript \u7684\u53d8\u91cf\u4e0e\u53d8\u91cf\u7c7b\u578b\u4e2d\u7684\u201cJavaScript \u7684\u9b54\u6cd5\u201d\u4e00\u8282\u3002</p> <pre><code>console.log(1 + null);      // =&gt; 1\nconsole.log(1 + undefined); // =&gt; NaN\n</code></pre> </li> </ol>"},{"location":"languages/typescript/variable/#_3","title":"\u7c7b\u578b\u6807\u6ce8","text":""},{"location":"languages/typescript/variable/#_4","title":"\u7b80\u5355\u7c7b\u578b\u6807\u6ce8","text":"<p>\u4e0a\u6587\u5df2\u7ecf\u63d0\u5230\u539f\u59cb\u503c\u7684\u7c7b\u578b\u6807\u6ce8\u65b9\u5f0f\uff0c\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f TypeScript \u5141\u8bb8\u4f7f\u7528\u5b57\u9762\u91cf\u4f5c\u4e3a\u7c7b\u578b\u6807\u6ce8\uff0c\u5982\uff1a</p> <pre><code>let one: 1 = 1;\none = 2;   // Error!\n</code></pre> <p>\u8fd9\u91cc\u53d8\u91cf <code>one</code> \u7684\u7c7b\u578b\u88ab\u9650\u5b9a\u4e3a\u5b57\u9762\u91cf <code>1</code> \u800c\u4e0d\u662f\u6240\u6709\u7684 <code>number</code>\uff0c\u8fd9\u79cd\u6807\u6ce8\u7684\u4f5c\u7528\u5728\u4e0b\u9762\u4f1a\u5c55\u793a\u3002</p> <p>\u5f53\u4f60\u4e0d\u77e5\u9053\u8be5\u6807\u8bb0\u4ec0\u4e48\u7c7b\u578b\uff0c\u6216\u8005\u4f60\u5e0c\u671b\u53ef\u4ee5\u5199\u4efb\u4f55\u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u8c28\u614e\u4f7f\u7528 <code>any</code>\uff0c\u7f16\u8bd1\u5668\u5c06\u4e0d\u4f1a\u5c1d\u8bd5\u5bf9 <code>any</code> \u7c7b\u578b\u7684\u53d8\u91cf\u505a\u4efb\u4f55\u7684\u5206\u6790\u3002</p> <pre><code>let a: any = 'whatever you like';\na = 12345; // OK\n\nlet notSure: any = 1;\nnotSure = \"Maybe it is a string\"; // OK\n</code></pre> <p>\u6ce8\u610f\u53ef\u80fd\u7684 <code>any</code> \u7c7b\u578b\u6ee5\u7528</p> <p><code>any</code> \u7c7b\u578b\u662f\u76ee\u524d TypeScript \u8bed\u8a00\u4e4b\u4e2d\u5177\u6709\u8f83\u5927\u4e89\u8bae\u7684\u4e00\u4e2a\u8bbe\u8ba1\uff0c\u56e0\u4e3a\u7406\u8bba\u4e0a\u6211\u4eec\u53ef\u4ee5\u5c06\u6240\u6709\u7684\u53d8\u91cf\u58f0\u660e\u4e3a <code>any</code> \u4ece\u800c\u7ed5\u8fc7\u7c7b\u578b\u68c0\u67e5\uff0c\u8fd9\u4e2a\u65f6\u5019 TypeScript \u5b9e\u9645\u4e0a\u9000\u5316\u4e3a JavaScript\u3002</p> <p>\u4f46\u662f\u8003\u8651\u5230\u76ee\u524d Web \u524d\u7aef\u9879\u76ee\u4f1a\u5f15\u7528\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u5f00\u53d1\u8005\u5f88\u591a\u65f6\u5019\u65e0\u6cd5\u5b8c\u5168\u628a\u63e1\u67d0\u4e9b\u53d8\u91cf\u7684\u4fe1\u606f\uff0c\u6240\u4ee5 <code>any</code> \u7c7b\u578b\u662f\u5fc5\u8981\u7684\u3002\u4e0d\u8fc7\u6211\u4eec\u9700\u8981\u6ce8\u610f\u5176\u4f7f\u7528\uff0c\u5bf9\u4e8e\u80fd\u591f\u7ed9\u5b9a\u7c7b\u578b\u7684\u53d8\u91cf\u5219\u5c3d\u91cf\u4e0d\u6807\u8bb0\u4e3a <code>any</code>\u3002</p> <p>\u9488\u5bf9\u8fd9\u4e00\u70b9\uff0c\u90e8\u5206\u4ee3\u7801\u68c0\u67e5\u5de5\u5177\u5df2\u7ecf\u5b9e\u88c5\u4e86\u68c0\u67e5\u201c\u53ef\u7591 <code>any</code>\u201d\u7684\u529f\u80fd\u3002</p>"},{"location":"languages/typescript/variable/#_5","title":"\u7c7b\u578b\u522b\u540d","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>type</code> \u5173\u952e\u8bcd\u5b9a\u4e49\u7c7b\u578b\u522b\u540d\uff0c\u5728\u9700\u8981\u5b9e\u73b0\u590d\u6742\u7684\uff08\u5c24\u5176\u662f\u5d4c\u5957\u7684\uff09\u7c7b\u578b\u65f6\u975e\u5e38\u6709\u7528\uff1a</p> <pre><code>type NumberOne = 1;\nlet one: NumberOne = 1;\none = 2; // Error!\n</code></pre>"},{"location":"languages/typescript/variable/#_6","title":"\u5bf9\u8c61\u548c\u6570\u7ec4\u7684\u7c7b\u578b","text":"<p>\u5bf9\u8c61\u548c\u6570\u7ec4\u7684\u7c7b\u578b\u5e94\u5f53\u8fd9\u6837\u6807\u6ce8\uff1a</p> <pre><code>// Detailed object\nlet obj: {\n    name: string,\n    age: number,\n    address: string\n} = {\n    name: \"qiubao\",\n    age: 57,\n    address: \"Tsinghua\"\n};\n\nlet sast_summer: {\n    frontend: string;\n    backend: string;\n} = {\n    frontend: 'react',\n    backend: 'gin',\n};\n</code></pre> <pre><code>let sast_summer_frontend: string[] = ['Java/Android', 'JS/TS/React'];\n\nsast_summer.frontend = 'Java/Android'; // success\nsast_summer.frontend = ['Java', 'JS']; // Error! \u4e0d\u80fd\u5c06 string[] \u503c\u5206\u914d\u7ed9 string \u7c7b\u578b\u7684\u53d8\u91cf\n</code></pre> <p>\u5bf9\u4e8e\u56fa\u5b9a\u957f\u5ea6\u548c\u7c7b\u578b\u7684\u6570\u7ec4\uff08\u8fd9\u5b9e\u9645\u4e0a\u66f4\u63a5\u8fd1\u4e8e\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684\u5143\u7ec4\uff09\uff0c\u53ef\u4ee5\u8fd9\u6837\u6807\u6ce8\uff1a</p> <pre><code>let arr: [number, boolean] = [1, false];\n</code></pre>"},{"location":"languages/typescript/variable/#_7","title":"\u8054\u5408\u7c7b\u578b\u548c\u7c7b\u578b\u6536\u7a84","text":"<p>TypeScript \u652f\u6301\u5c06\u53d8\u91cf\u58f0\u660e\u4e3a\u82e5\u5e72\u4e2a\u7c7b\u578b\u4e4b\u4e2d\u7684\u4e00\u79cd\uff0c\u8fd9\u4e00\u822c\u79f0\u4e3a\u8054\u5408\u7c7b\u578b\uff08Union Type\uff09\u3002 \u58f0\u660e\u8054\u5408\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u591a\u4e2a\u7c7b\u578b\u4e4b\u95f4\u4f7f\u7528 <code>|</code> \u9694\u5f00\uff1a</p> <pre><code>let union: number | string = 7;\nunion = \"string\"; // OK\n</code></pre> <p>\u8054\u5408\u7c7b\u578b\u6700\u5e38\u7528\u7684\u5730\u65b9\u662f\u6807\u6ce8\u51fd\u6570\u53c2\u6570\uff0c\u8fd9\u6837\u5c31\u5141\u8bb8\u4e86\u51fd\u6570\u63a5\u53d7\u591a\u79cd\u7c7b\u578b\u7684\u53c2\u6570\uff1a</p> <pre><code>const addPrefix = (x: number | string): void =&gt; {\n    console.log(\"Prefix \" + x);\n};\n\naddPrefix(1); // OK\naddPrefix(\"String\"); // OK\n</code></pre> <p>\u5bf9\u4e8e\u4e0a\u9762\u63d0\u5230\u7684\u9519\u8bef\uff0c\u53ef\u4ee5\u8fd9\u6837\u89e3\u51b3\uff1a</p> <pre><code>let sast_summer: {\n    frontend: string | string[];\n    backend: string;\n} = {\n    frontend: 'react',\n    backend: 'gin',\n};\n\nsast_summer.frontend = ['Java', 'JS']; // Success\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u58f0\u660e <code>frontend</code> \u53ef\u80fd\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5373 <code>string</code> \u548c <code>string[]</code>\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06 <code>frontend</code> \u4efb\u610f\u8d4b\u503c\u4e3a\u5176\u4e2d\u7684\u4e00\u79cd\uff0c\u4f46\u8fd9\u5c31\u5bfc\u81f4\u6211\u4eec\u5728\u4f7f\u7528\u8fd9\u4e00\u503c\u65f6\uff0c\u4e0d\u80fd\u7cbe\u786e\u5224\u65ad\u4e0a\u9762\u5305\u542b\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u6211\u4eec\u5c1d\u8bd5\u6267\u884c\uff1a</p> <pre><code>sast_summer.frontend.match(/react/);\n</code></pre> <p>\u7f16\u8bd1\u5668\u4f1a\u544a\u8bc9\u6211\u4eec\u7c7b\u578b\u201cstring[]\u201d\u4e0a\u4e0d\u5b58\u5728\u5c5e\u6027\u201cmatch\u201d\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u65e0\u6cd5\u786e\u5b9a\u8fd9\u884c\u4ee3\u7801\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5982\u679c\u6211\u4eec\u7684\u4ee3\u7801\u8db3\u4ee5\u4f7f\u7f16\u8bd1\u5668\u63a8\u65ad\u51fa\u5177\u4f53\u7c7b\u578b\uff0c\u5982\uff1a</p> <pre><code>if (typeof sast_summer.frontend === 'string') {\n    console.log(sast_summer.frontend.match(/react/));\n} else {\n    // sast_summer.frontend as string[]\n}\n</code></pre> <p>\u7f16\u8bd1\u5668\u5c31\u4f1a\u660e\u767d\u5728\u4e24\u4e2a\u5206\u652f\u4e0a\u5206\u522b\u662f\u4e24\u79cd\u7c7b\u578b\uff0c\u5e76\u5141\u8bb8\u8c03\u7528\u76f8\u5e94\u7684\u65b9\u6cd5\uff0c\u8fd9\u79cd\u884c\u4e3a\u88ab\u79f0\u4e3a\u7c7b\u578b\u6536\u7a84\u3002</p>"},{"location":"languages/typescript/variable/#_8","title":"\u8054\u5408\u7c7b\u578b\u5b9e\u73b0\u679a\u4e3e\u7c7b\u578b","text":"<p>\u4e0a\u6587\u63d0\u5230\u5b57\u9762\u91cf\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u578b\u6807\u6ce8\uff0c\u90a3\u4e48\u4f7f\u7528\u8054\u5408\u7c7b\u578b\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u679a\u4e3e\u884c\u4e3a\uff1a</p> <pre><code>type TwoPowers = 1 | 2 | 4 | 8 | 16;\nlet a: TwoPowers = 2; // OK\nlet b: TwoPowers = 5; // Error!\n</code></pre>"},{"location":"languages/typescript/variable/#_9","title":"\u7c7b\u578b\u65ad\u8a00","text":"<p>\u5f53\u4f60\u786e\u4fe1\u4f60\u6bd4\u7f16\u8bd1\u5668\u62e5\u6709\u5173\u4e8e\u67d0\u4e00\u53d8\u91cf\u7c7b\u578b\u7684\u66f4\u591a\u77e5\u8bc6\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u544a\u8bc9\u7f16\u8bd1\u5668\u670d\u4ece\u4f60\u7684\u65ad\u8a00\uff1a</p> <pre><code>let val: any = \"A string\";\nlet stringLen: number = (val as string).length;\n\nlet sast_summer: {\n    frontend: string | string[];\n    backend: string;\n} = {\n    frontend: 'react',\n    backend: 'gin',\n};\n\nconsole.log((sast_summer.frontend as string).match(/react/));\n</code></pre> <p>\u5176\u4e2d <code>as</code> \u5173\u952e\u8bcd\u8868\u793a\u7c7b\u578b\u65ad\u8a00\uff0c\u4f46\u4f60\u4e0d\u80fd\u65ad\u8a00\u4e00\u4e2a\u53d8\u91cf\u4e3a\u660e\u663e\u51b2\u7a81\u7684\u7c7b\u578b\uff0c\u5982\uff1a</p> <pre><code>console.log(sast_summer.frontend as number);  // Error!\n</code></pre> <p>\u9664\u975e\u4f60\u6709\u7edd\u5bf9\u7684\u4fe1\u5fc3\u65f6\uff0c\u53ef\u4ee5\u5148\u5c06\u7c7b\u578b\u65ad\u8a00\u4e3a <code>unknown</code> \u518d\u65ad\u8a00\u4e3a\u4efb\u610f\u5176\u4ed6\u7c7b\u578b\uff1a</p> <pre><code>console.log(sast_summer.frontend as unknown as number);  // OK\n</code></pre>"},{"location":"languages/typescript/variable/#never","title":"<code>never</code> \u7c7b\u578b\u4e0e\u8017\u5c3d\u68c0\u67e5","text":"<p>TypeScript \u652f\u6301\u4e00\u79cd\u7279\u6b8a\u7684\u7c7b\u578b\uff0c\u5373 <code>never</code> \u7c7b\u578b\u3002\u8fd9\u79cd\u7c7b\u578b\u5e38\u88ab\u7528\u4e8e\u6807\u6ce8\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u4ee3\u8868\u8fd9\u4e2a\u51fd\u6570\u6c38\u8fdc\u4e0d\u4f1a\u7ec8\u7ed3\u6216\u8005\u4f1a\u629b\u51fa\u5f02\u5e38\uff1a</p> <pre><code>const neverEnd = (): never =&gt; {\n    while (true) {}\n};\n</code></pre> <p>\u8fd9\u79cd\u7c7b\u578b\u7684\u503c\u6c38\u8fdc\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316\uff0c\u4e5f\u5373\u5c1d\u8bd5\u58f0\u660e\u548c\u4f7f\u7528 <code>never</code> \u7c7b\u578b\u7684\u503c\u5c06\u4f1a\u603b\u662f\u51fa\u73b0\u9519\u8bef\uff0c\u5229\u7528\u4e2a\u7279\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u68c0\u6d4b\u7a0b\u5e8f\u662f\u5426\u8003\u8651\u4e86\u6240\u6709\u7684\u60c5\u51b5\uff0c\u8fd9\u88ab\u79f0\u4e3a\u8017\u5c3d\u68c0\u67e5\uff08Exhaustive check\uff09\u3002</p> <p>\u4f8b\u5982\u6211\u4eec\u9700\u8981\u7f16\u5199\u51fd\u6570\u5904\u7406\u8054\u5408\u7c7b\u578b <code>number | string | boolean</code>\uff0c\u5176\u4ee3\u7801\u53ef\u80fd\u4e3a\uff1a</p> <pre><code>type All = number | string | boolean;\n// \u5173\u4e8e\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u66f4\u591a\u7ec6\u8282\u5c06\u5728\u7a0d\u540e\u8bb2\u89e3\n// switch \u8bed\u53e5\u7528\u6cd5\u4e0e C/C++ \u4e00\u81f4\nconst handler = (value: All) =&gt; {\n    switch (typeof value) {\n        case 'number':\n            // do something\n            break;\n        case 'string':\n            // do something\n            break;\n        case 'boolean':\n            // do something\n            break;\n        default:\n            let exhaustiveCheck: never = value;\n    }\n}\n</code></pre> <p>\u6839\u636e <code>never</code> \u7684\u7279\u70b9\uff0c<code>default</code> \u5206\u652f\u7684\u4ee3\u7801\u6267\u884c\u5fc5\u7136\u4f1a\u4ea7\u751f\u9519\u8bef\uff0c\u56e0\u6b64\u5982\u679c\u8be5 <code>switch</code> \u8bed\u53e5\u672a\u80fd\u7a77\u5c3d <code>typeof value</code> \u7684\u53ef\u80fd\u53d6\u503c\uff08\u800c\u4f7f\u5f97\u4ee3\u7801\u843d\u5165 <code>default</code> \u5206\u652f\uff09\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u5668\u62a5\u9519\u3002</p> <p>\u5982\u679c\u4fee\u6539\u7c7b\u578b <code>All</code> \u4e3a <code>number | string | boolean | undefined</code>\uff0c\u7f16\u8bd1\u5668\u4f1a\u544a\u8bc9\u6211\u4eec\u4e0d\u80fd\u5c06\u7c7b\u578b\u201cundefined\u201d\u5206\u914d\u7ed9\u7c7b\u578b\u201cnever\u201d\uff0c\u8fd9\u5c31\u662f\u56e0\u4e3a\u5f53 <code>value === undefined</code> \u65f6\uff0c\u4f1a\u5c1d\u8bd5\u5c06 <code>undefined</code> \u8d4b\u7ed9 <code>never</code> \u7c7b\u578b\u7684\u53d8\u91cf\u3002 \u8fd9\u6837\uff0c<code>handler</code> \u51fd\u6570\u5c31\u4f1a\u56e0\u4e3a\u6ca1\u6709\u8017\u5c3d\u6240\u6709\u53ef\u80fd\u800c\u62a5\u9519\uff0c\u63d0\u9192\u5f00\u53d1\u8005\u9700\u8981\u66f4\u65b0\u8fd9\u4e2a\u51fd\u6570\u3002 \u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\u7c7b\u4f3c\u4e8e C++ \u7a0b\u5e8f\u5728\u4e0d\u53ef\u80fd\u7684\u5206\u652f\u4e0a\u52a0\u5165 <code>assert(false)</code> \u8fdb\u884c\u68c0\u6d4b\u3002</p>"},{"location":"notes/editor/","title":"\u7f16\u8f91\u8005\u987b\u77e5\uff08\u8349\u6848\uff09","text":""},{"location":"notes/editor/#_2","title":"\u8d21\u732e\u65b9\u5f0f","text":"<p>\u6587\u6863\u76ee\u524d\u5b58\u50a8\u4e8e GitHub Repo \u4e0a\uff0c\u4f7f\u7528 GitHub Pages \u90e8\u7f72\u6210\u4e86\u76ee\u524d\u7684\u6280\u80fd\u5f15\u5bfc\u6587\u6863\u7f51\u7ad9\u3002\u5982\u679c\u60a8\u6709\u610f\u8d21\u732e\u5230\u672c\u9879\u76ee\uff0c\u8bf7\u60a8\uff1a</p> <ul> <li>\u68c0\u67e5\u81ea\u5df1\u60f3\u8981\u8d21\u732e\u7684\u90e8\u5206\u662f\u5426\u5728 Repo \u7684 Issue \u4e2d\u5df2\u7ecf\u63d0\u51fa\uff0c\u82e5\u5df2\u7ecf\u63d0\u51fa\u5219\u4e0d\u5fc5\u91cd\u590d PR\u3002</li> <li>\u786e\u8ba4\u81ea\u5df1\u60f3\u8981\u8d21\u732e\u7684\u90e8\u5206\u6682\u672a\u5728 Issue \u4e2d\u63d0\u51fa\u65f6\uff0c\u63d0\u51fa Issue \u8868\u660e\u9700\u8981\u8d21\u732e\u54ea\u4e00\u90e8\u5206\u5185\u5bb9\u3002</li> <li>\u4ed4\u7ec6\u9605\u8bfb\u672c\u7f16\u8f91\u8005\u987b\u77e5\u4e0b\u7684\u7f16\u8f91\u8981\u6c42\uff0c\u4e0d\u7b26\u5408\u4e0b\u8ff0\u7f16\u8f91\u8981\u6c42\u7684\u8d21\u732e\uff0c\u5ba1\u6838\u56e2\u961f\u53ef\u80fd\u4f1a\u62d2\u7edd\u5408\u5e76\u5e76\u8981\u6c42\u60a8\u4fee\u6539\u3002</li> <li>\u5c06\u6587\u6863\u4ed3\u5e93 Fork \u5230\u4e2a\u4eba\u8d26\u6237\u3002</li> <li>\u5728\u672c\u5730\u5bf9\u4e2a\u4eba\u4ed3\u5e93\u7684\u6587\u6863\u8fdb\u884c\u4fee\u6539\u540e\u8fdb\u884c Commit\u3002</li> <li>\u63d0\u8bf7 Pull Request\uff0c\u5ba1\u6838\u56e2\u961f\u4f1a\u5c3d\u5feb\u5ba1\u6838\u60a8\u7684\u8d21\u732e\u5185\u5bb9\uff0c\u5ba1\u6838\u5b8c\u6bd5\u540e\u4f1a\u5173\u95ed\u60a8\u63d0\u51fa\u7684 Issue\u3002</li> </ul>"},{"location":"notes/editor/#_3","title":"\u672c\u5730\u6784\u5efa","text":"<p>\u5728\u63d0\u8bf7 PR \u4e4b\u524d\uff0c\u60a8\u53ef\u4ee5\u9996\u5148\u5728\u672c\u5730\u6784\u5efa\u6587\u6863\u5e76\u5728\u6d4f\u89c8\u5668\u4e2d\u6d4f\u89c8\uff0c\u4ee5\u786e\u5b9a\u81ea\u5df1\u7684\u6587\u6863\u6e32\u67d3\u6b63\u786e\u4e14\u7b26\u5408\u683c\u5f0f\u8981\u6c42\u3002</p> <p>\u6784\u5efa\u4e4b\u524d\uff0c\u9996\u5148\u901a\u8fc7\u4e0b\u8ff0\u547d\u4ee4\u786e\u4fdd\u60a8\u7684\u73af\u5883\u5177\u6709 Python \u548c pip\uff1a</p> <pre><code>python --version\npip --version\n</code></pre> <p>\u968f\u540e\u8fdb\u5165 Clone \u5230\u672c\u5730\u7684\u4ed3\u5e93\u7684\u6839\u76ee\u5f55\uff0c\u5b89\u88c5 Python \u4f9d\u8d56\uff1a</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>\u968f\u540e\u8fd0\u884c\uff1a</p> <pre><code>mkdocs serve\n</code></pre> <p>\u5e94\u5f53\u53ef\u4ee5\u770b\u5230\u7c7b\u4f3c\u8f93\u51fa\u4fe1\u606f\uff1a</p> <pre><code>INFO     -  Building documentation...\nINFO     -  Cleaning site directory\nINFO     -  Documentation built in 8.75 seconds\nINFO     -  [17:16:02] Serving on http://127.0.0.1:8000/\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://127.0.0.1:8000/</code> \u67e5\u770b\u672c\u5730\u6784\u5efa\u7684\u6587\u6863\u4e86\u3002</p>"},{"location":"notes/editor/#_4","title":"\u51c6\u786e\u6027","text":"<p>\u8bf7\u8bb0\u4f4f\uff0c\u7f16\u5199\u8005\u6709\u4e49\u52a1\u786e\u4fdd\u8d21\u732e\u7684\u6587\u6863\u6ca1\u6709\u4e8b\u5b9e\u9519\u8bef\u3002</p> <p>\u5982\u679c\u65b0\u8d21\u732e\u7684\u6587\u6863\u8d85\u51fa\u4e86\u5ba1\u6838\u56e2\u961f\u7684\u4e13\u4e1a\u77e5\u8bc6\u8303\u56f4\uff0c\u5ba1\u6838\u56e2\u961f\u9700\u8981\u5bfb\u6c42\u5176\u4ed6\u4e13\u4e1a\u4eba\u5458\u7684\u5e2e\u52a9\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5ba1\u6838\u5468\u671f\u5ef6\u957f\u3002</p>"},{"location":"notes/editor/#_5","title":"\u6587\u7ae0\u7acb\u573a","text":"<p>\u6211\u4eec\u5e0c\u671b\u7f16\u8f91\u8005\u5c3d\u91cf\u7ad9\u5728\u5ba2\u89c2\u7684\u89d2\u5ea6\u3001\u4ee5\u521d\u5b66\u8005\u7684\u89c6\u89d2\u7f16\u5199\u5f15\u5bfc\u6587\u6863\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981\u9605\u8bfb\u8005\u5177\u6709\u4e86\u6587\u6863\u4e4b\u4e2d\u8981\u6c42\u7684\u524d\u7f6e\u77e5\u8bc6\uff0c\u5c31\u5e94\u5f53\u80fd\u591f\u65e0\u969c\u788d\u9605\u8bfb\u5b66\u4e60\u6587\u6863\u5185\u5bb9\u3002</p> <p>\u793a\u4f8b</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u524d\u7f6e\u77e5\u8bc6\u4e2d\u5df2\u7ed9\u51fa\uff0c\u800c\u4e0d\u9700\u8981\u8be6\u7ec6\u8bb2\u89e3\u7684\u77e5\u8bc6\uff0c\u53ef\u4ee5\u5728\u524d\u7f6e\u77e5\u8bc6\u90e8\u5206\u58f0\u660e\u4e4b\u540e\u4f7f\u7528\u7c7b\u4f3c\u5982\u4e0b\u7684\u8868\u8ff0\uff1a</p> <p>TypeScript \u8bed\u8a00\u4e4b\u4e2d\u7684\u7c7b\u7c7b\u4f3c\u4e8e ES6 \u6807\u51c6\u4e2d JavaScript \u8bed\u8a00\u4e4b\u4e2d\u7684\u7c7b\uff0c\u6545\u6b64\u5904\u4ec5\u7ed9\u51fa\u6837\u4f8b\u7a0b\u5e8f\u800c\u4e0d\u8fdb\u884c\u8be6\u7ec6\u8bb2\u89e3\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTypeScript \u8bed\u8a00\u4e4b\u4e2d\u7684\u7c7b\u5141\u8bb8\u58f0\u660e\u7c7b\u6210\u5458\u548c\u65b9\u6cd5\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> <p>\u5bf9\u4e8e\u5176\u4ed6\u6587\u6863\u4e2d\u5df2\u7ed9\u51fa\uff0c\u800c\u4e0d\u9700\u8981\u8be6\u7ec6\u8bb2\u89e3\u7684\u77e5\u8bc6\uff0c\u4e5f\u53ef\u4ee5\u91c7\u7528\u8fd9\u7c7b\u8868\u8ff0\uff0c\u7136\u540e\u5728\u5bf9\u5e94\u524d\u7f6e\u77e5\u8bc6\u7684\u4f4d\u7f6e\u8fdb\u884c\u660e\u663e\u6807\u6ce8\uff0c\u5e76\u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u7f16\u8f91\u8005\u91c7\u7528\u7c7b\u4f3c\u5982\u4e0b\u7684\u8868\u8ff0\uff1a</p> <p>\u8bfb\u8005\u5e94\u5f53\u5df2\u7ecf\u5728\u300a\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u4e4b\u4e2d\u5b66\u4e60\u8fc7\u7c7b\u4f3c\u77e5\u8bc6\uff0c\u8fd9\u91cc\u4e0d\u8fdb\u884c\u8868\u8ff0\u3002</p> <p>\u8fd9\u7c7b\u8868\u8ff0\u95ee\u9898\u5728\u4e8e\u5176\u5f15\u7528\u7684\u8d44\u6e90\uff08\u8bfe\u7a0b\u8d44\u6e90\uff09\u5e76\u4e0d\u80fd\u81ea\u7531\u83b7\u53d6\uff0c\u8fd9\u7c7b\u8868\u8ff0\u53ef\u80fd\u9020\u6210\u8bfb\u8005\u5b66\u4e60\u7684\u969c\u788d\u3002\u89e3\u51b3\u65b9\u5f0f\u662f\u7f16\u8f91\u8005\u5728\u6587\u6863\u4e2d\u505a\u51fa\u8be6\u7ec6\u89e3\u91ca\u6216\u5728\u8d44\u6e90\u94fe\u63a5\u90e8\u5206\u7ed9\u51fa\u76f8\u5173\u8d44\u6599\u3002</p> <p>\u540c\u65f6\uff0c\u4f5c\u4e3a\u8ba1\u7b97\u673a\u7cfb\u5b66\u751f\u79d1\u534f\u7684\u4e00\u4efd\u6280\u80fd\u5f15\u5bfc\u6587\u6863\uff0c\u6211\u4eec\u4e0e\u7f51\u7edc\u4e0a\u7684\u5404\u79cd\u6280\u80fd\u6559\u7a0b\u6700\u5927\u7684\u533a\u522b\u5728\u4e8e\uff0c\u6211\u4eec\u7684\u76ee\u6807\u8bfb\u8005\u662f\u8ba1\u7b97\u673a\u7c7b\u4e0e\u8ba1\u7b97\u673a\u7cfb\u7684\u540c\u5b66\u3002\u7f16\u8f91\u8005\u53ef\u4ee5\u5c1d\u8bd5\u4ece\u81ea\u8eab\u7684\u5b66\u4e60\u7ecf\u5386\u51fa\u53d1\uff0c\u7701\u7565\u90e8\u5206\u5728\u8bfe\u7a0b\u6559\u6388\u4e2d\u57fa\u7840\u800c\u4e0d\u5fc5\u8981\u7684\u4ecb\u7ecd\uff08\u4f7f\u7528\u76f8\u5173\u7f51\u7edc\u8d44\u6599\u94fe\u63a5\u66ff\u4ee3\uff09\uff0c\u5e76\u544a\u77e5\u8bfb\u8005\u5982\u4f55\u5728\u8bfe\u7a0b\u4e2d\uff0c\u5728\u79d1\u7814\u4e2d\uff0c\u5728\u5b9e\u4e60\u4e2d\u5c06\u5c55\u793a\u7684\u77e5\u8bc6\u5e94\u7528\u5230\u5b9e\u8df5\u5f53\u4e2d\u3002</p>"},{"location":"notes/editor/#_6","title":"\u6587\u7ae0\u67b6\u6784","text":"<p>\u4e00\u4efd\u5b8c\u6574\u7684\u6280\u80fd\u5f15\u5bfc\u6587\u6863\u81f3\u5c11\u5e94\u5f53\u5305\u542b\u4ee5\u4e0b\u90e8\u5206\uff1a</p> <ul> <li> <p>\u524d\u7f6e\u77e5\u8bc6\u90e8\u5206\u3002\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u7f16\u8f91\u8005\u9700\u8981\u6307\u660e\u9605\u8bfb\u8fd9\u4e00\u4efd\u6587\u6863\u6240\u9700\u8981\u7684\u6240\u6709\u524d\u7f6e\u77e5\u8bc6\u3002\u6240\u6709\u7684\u524d\u7f6e\u77e5\u8bc6\u4f7f\u7528\u65e0\u5e8f\u5217\u8868\u7ed9\u51fa\u3002</p> </li> <li> <p>\u5b66\u4e60\u8def\u5f84\u90e8\u5206\u3002\u8be5\u90e8\u5206\u53ef\u9009\uff0c\u63a8\u8350\u6d89\u53ca\u8f83\u5e7f\u77e5\u8bc6\u9762\u7684\u6587\u6863\u5305\u542b\u8fd9\u4e00\u90e8\u5206\u3002\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u7f16\u8f91\u8005\u9700\u8981\u8bf4\u660e\u6709\u4e0d\u540c\u77e5\u8bc6\u9700\u6c42\u7684\u8bfb\u8005\u672c\u6587\u6863\u5e94\u8be5\u6309\u7167\u4f55\u79cd\u987a\u5e8f\u9605\u8bfb\u3001\u5b66\u4e60\u3002</p> </li> <li> <p>\u77e5\u8bc6\u8bb2\u89e3\u90e8\u5206\u3002\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u7f16\u8f91\u8005\u9700\u8981\u5bf9\u77e5\u8bc6\u70b9\u6709\u6761\u7406\u5730\u8fdb\u884c\u8bb2\u89e3\uff0c\u5e76\u4e14\u9002\u5f53\u5730\u5f15\u7528\u5916\u90e8\u8d44\u6e90\u4f5c\u4e3a\u8f85\u52a9\u3002</p> </li> <li> <p>\u540e\u7eed\u62d3\u5c55\u90e8\u5206\u3002\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u7f16\u8f91\u8005\u53ef\u4ee5\u6307\u51fa\u5b66\u4e60\u5b8c\u8fd9\u4e00\u90e8\u5206\u77e5\u8bc6\u540e\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5b66\u4e60\u7684\u9886\u57df\uff0c\u6216\u8005\u53ef\u4ee5\u5e94\u7528\u8fd9\u4e9b\u77e5\u8bc6\u7684\u8bfe\u7a0b\u3002\u6240\u6709\u7684\u540e\u7eed\u62d3\u5c55\u5b66\u4e60\u5185\u5bb9\u4f7f\u7528\u65e0\u5e8f\u5217\u8868\u7ed9\u51fa\u3002</p> </li> <li> <p>\u8d44\u6e90\u94fe\u63a5\u90e8\u5206\u3002\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u7f16\u8f91\u8005\u9700\u8981\u5c06\u6587\u6863\u4e2d\u6240\u5f15\u7528\u7684\u8d44\u6e90\u5217\u51fa\uff0c\u7f16\u8f91\u8005\u6709\u8d23\u4efb\u4fdd\u8bc1\u8d44\u6e90\u6709\u6548\u3001\u53ef\u8bbf\u95ee\u3002\u90e8\u5206\u7528\u4e8e\u77e5\u8bc6\u62d3\u5c55\u7684\u8d44\u6e90\u4e5f\u53ef\u4ee5\u653e\u7f6e\u5728\u8fd9\u4e00\u90e8\u5206\u3002\u6b64\u90e8\u5206\u5728\u7f57\u5217\u94fe\u63a5\u4e4b\u5916\uff0c\u5e94\u5f53\u5177\u4f53\u8bf4\u660e\u6bcf\u4e2a\u94fe\u63a5\u4e2d\u5927\u81f4\u6709\u4ec0\u4e48\u5185\u5bb9\u3002</p> </li> </ul>"},{"location":"notes/editor/#_7","title":"\u6587\u6863\u5b58\u50a8","text":"<ul> <li>\u6587\u4ef6\u540d\u8bf7\u5168\u90e8\u4f7f\u7528\u5c0f\u5199\uff0c\u5206\u9694\u7b26\u8bf7\u4f7f\u7528 <code>-</code>\u3002</li> <li>\u6587\u4ef6\u5e94\u89c6\u4e3b\u9898\uff0c\u653e\u4e8e\u5bf9\u5e94\u7684\u5206\u7c7b\u76ee\u5f55\u4e0b\u3002\u65b0\u5efa\u7684\u6587\u4ef6\u9700\u8981\u5728 <code>mkdocs.yml</code> \u4e2d\u58f0\u660e\uff0c\u4ee5\u8c03\u6574\u6587\u6863\u7684\u5c42\u7ea7\u7ed3\u6784\u3002<ul> <li>\u82e5\u591a\u4e2a\u6587\u6863\u540c\u65f6\u5f52\u5c5e\u67d0\u4e2a\u5927\u4e3b\u9898\uff0c\u5219\u53ef\u4e3a\u8be5\u5927\u4e3b\u9898\u65b0\u5efa\u6587\u4ef6\u5939\u5b58\u50a8\u3002</li> </ul> </li> <li>\u5173\u4e8e\u6587\u6863\u4e2d\u9700\u8981\u5c55\u793a\u7684\u56fe\u7247\uff0c\u8bf7\u5b58\u50a8\u5230 <code>/static</code> \u4e0b\u4e0e\u6587\u6863\u76f8\u5bf9 <code>/docs</code> \u76ee\u5f55\u540c\u540d\u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u5e76\u547d\u540d\u4e3a <code>\u5185\u5bb9\u6982\u8981.\u6587\u4ef6\u6269\u5c55\u540d</code>\u3002\u5982 <code>/docs/basic/git.md</code> \u7684\u56fe\u7247\u6587\u4ef6\u8bf7\u5b58\u50a8\u4e3a <code>/static/basic/git/logo.png</code>\u3002</li> </ul>"},{"location":"notes/editor/#_8","title":"\u6587\u7ae0\u683c\u5f0f","text":"<p>\u6362\u884c\u7b26</p> <p>\u6362\u884c\u7b26\u7684\u95ee\u9898\u5c24\u5176\u91cd\u8981\uff0c\u4ee5\u81f3\u4e8e\u9700\u8981\u5728\u6587\u7ae0\u683c\u5f0f\u90e8\u5206\u7684\u4e00\u5f00\u59cb\u5c31\u6307\u51fa\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u672c\u6587\u6863\u7684\u81ea\u52a8\u5316\u8d21\u732e\u8ba1\u7b97\u63d2\u4ef6\u57fa\u4e8e Git \u7684 Commit \u884c\u6570\uff0c\u800c\u4fee\u6539\u6362\u884c\u7b26\u4e5f\u4f1a\u8ba1\u7b97\u5230 Commit \u4fee\u6539\u4e4b\u4e2d\uff0c\u6240\u4ee5\u6362\u884c\u7b26\u4f1a\u5f71\u54cd\u5230\u6587\u6863\u6700\u540e\u7684\u8d21\u732e\u5ea6 Credit\u3002</p> <p>\u5bf9\u4e8e\u5df2\u5b58\u5728\u7684\u6587\u7ae0\uff0c\u4e0d\u80fd\u66f4\u6539\u5176\u672a\u4fee\u6539\u7684\u884c\u7684\u6362\u884c\u7b26\uff0c\u5426\u5219 Pull Request \u5c06\u4f1a\u88ab\u76f4\u63a5\u5173\u95ed\uff1b</p> <p>\u5bf9\u4e8e\u65b0\u5efa\u7acb\u7684\u6587\u6863\uff0c\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u6362\u884c\u7b26\u3002</p>"},{"location":"notes/editor/#_9","title":"\u6807\u9898\u4e0e\u5c0f\u6807\u9898","text":"<ul> <li>\u6587\u7ae0\u4e2d\u5e94\u4ec5\u5b58\u5728\u4e00\u4e2a\u4e00\u7ea7\u6807\u9898\uff0c\u4ee5\u6982\u62ec\u6587\u7ae0\u7684\u4e3b\u9898\u3002</li> <li>\u6587\u7ae0\u91c7\u7528\u4e8c\u7ea7\u6807\u9898\u4f5c\u4e3a\u5206\u8282\u7b26\uff0c\u5982\u3010\u524d\u7f6e\u77e5\u8bc6\u3011\u3010\u540e\u7eed\u62d3\u5c55\u3011\u3010\u8d44\u6e90\u94fe\u63a5\u3011\u5747\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u5c0f\u8282\u3002\u6587\u7ae0\u7684\u4e3b\u9898\u5185\u5bb9\u5e94\u5206\u4e3a\u591a\u4e2a\u5c0f\u8282\u3002</li> <li>\u4e09\u7ea7\u6807\u9898\u5e94\u8d77\u5230\u5728\u4e00\u4e2a\u5c0f\u8282\u4e2d\u5206\u9694\u4e0d\u540c\u8ba8\u8bba\u5185\u5bb9\u7684\u4f5c\u7528\u3002\u5982\u4e8c\u7ea7\u6807\u9898 <code>JavaScript \u7684\u51fd\u6570</code> \u4e0b\uff0c\u4e09\u7ea7\u6807\u9898\u53ef\u4ee5\u5305\u542b <code>\u51fd\u6570\u58f0\u660e\u4e0e\u8c03\u7528</code>\u3001<code>\u56de\u8c03\u6a21\u5f0f</code>\u3001<code>\u95ed\u5305</code> \u7b49\u7b49\u6574\u4f53\u4e0a\u4e0d\u76f8\u4ea4\u7684\u5185\u5bb9\u3002</li> <li>\u4e0d\u8981\u6ee5\u7528\u6807\u9898\uff0c\u6211\u4eec\u63a8\u8350\u81f3\u591a\u4f7f\u7528\u81f3\u4e09\u7ea7\u6807\u9898\uff0c\u56db\u7ea7\u53ca\u4ee5\u4e0a\u6807\u9898\u53ef\u4ee5\u4f7f\u7528\u52a0\u7c97\u3001\u65e0\u5e8f\u5217\u8868\u4ee3\u66ff\u3002\u6ee5\u7528\u6807\u9898\u4f1a\u4f7f\u5f97\u6587\u7ae0\u7684\u76ee\u5f55\u7ed3\u6784\u53d8\u590d\u6742\uff0c\u4e5f\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u8bfb\u8005\u5bf9\u6240\u5b66\u4e60\u77e5\u8bc6\u7684\u7ed3\u6784\u7684\u6574\u4f53\u6027\u628a\u63e1\u3002\u5982\u679c\u60f3\u5f3a\u8c03\u5185\u5bb9\uff0c\u4f7f\u7528 <code>**\u5f3a\u8c03\u5185\u5bb9**</code>\u3002</li> <li>\u6807\u9898\u4e2d\u5e94\u5f53\u5c3d\u91cf\u4e0d\u51fa\u73b0\u4ee3\u7801\u5757\u3002</li> </ul>"},{"location":"notes/editor/#_10","title":"\u6392\u7248\u8981\u6c42","text":"<p>\u6211\u4eec\u5e76\u4e0d\u4e25\u683c\u8981\u6c42\u6587\u6863\u7684\u6392\u7248\u98ce\u683c\uff0c\u4f46\u7f16\u8f91\u8005\u5e94\u5f53\u5c3d\u53ef\u80fd\u9075\u5b88\u4ee5\u4e0b\u57fa\u672c\u7684\u6587\u6863\u884c\u6587\u8981\u6c42\u3002</p> <p>\u6b63\u786e\u4f7f\u7528\u6807\u70b9\u7b26\u53f7</p> <ul> <li>\u6b63\u786e\u4f7f\u7528\u5168\u89d2\u6807\u70b9\u7b26\u53f7\u4e0e\u534a\u89d2\u6807\u70b9\u7b26\u53f7\u3002\u6c49\u8bed\u8bf7\u4f7f\u7528\u5168\u89d2\u7b26\u53f7\uff0c\u82f1\u8bed\u8bf7\u4f7f\u7528\u534a\u89d2\u7b26\u53f7\u3002</li> <li>\u8bf7\u5728\u6bcf\u53e5\u8bdd\u7684\u672b\u5c3e\u6dfb\u52a0\u53e5\u53f7\u3002</li> <li>\u6b63\u786e\u4f7f\u7528\u62ec\u53f7\u3002\u62ec\u53f7\u5728\u53e5\u4e2d\u8868\u793a\u5bf9\u53e5\u4e2d\u524d\u4e00\u4e2a\u5143\u7d20\u7684\u89e3\u91ca\u8bf4\u660e\uff0c\u5982 <code>\u8bed\u6cd5\u7cd6\uff08\u82f1\u8bed\uff1aSyntactic sugar\uff09</code>\u3002\u62ec\u53f7\u5728\u53e5\u5916\u8868\u793a\u5bf9\u524d\u9762\u6574\u4e2a\u53e5\u5b50\u7684\u89e3\u91ca\u8bf4\u660e\u3002</li> <li>\u6b63\u786e\u4f7f\u7528\u5206\u53f7\uff0c\u53ef\u4ee5\u4f7f\u5f97\u884c\u6587\u7ed3\u6784\u66f4\u52a0\u6e05\u6670\u3002</li> </ul> <p>\u6b63\u786e\u8fdb\u884c\u4e2d\u6587\u6392\u7248</p> <ul> <li>\u4e2d\u82f1\u6587\u4e4b\u95f4\u3001\u4e2d\u6587\u548c\u6570\u5b57\u4e4b\u95f4\u9700\u8981\u589e\u52a0\u7a7a\u683c\uff0c\u6570\u5b57\u548c\u5355\u4f4d\u4e4b\u95f4\u4e0d\u9700\u8981\u589e\u52a0\u7a7a\u683c\u3002</li> <li>\u884c\u6587\u4e2d\u6b63\u6587\u4e0e\u8d85\u94fe\u63a5\u4e4b\u95f4\u9700\u8981\u589e\u52a0\u7a7a\u683c\u3002</li> <li>\u5168\u89d2\u5b57\u7b26\u548c\u5176\u4ed6\u5b57\u7b26\u4e4b\u95f4\u4e0d\u52a0\u7a7a\u683c\u3002</li> <li>\u4e13\u6709\u540d\u8bcd\u4f7f\u7528\u6b63\u786e\u7684\u5927\u5c0f\u5199\u3002\u5982\u4f7f\u7528\u7f29\u5199\uff0c\u5219\u8be5\u7f29\u5199\u5e94\u5df2\u6210\u4e3a\u4e1a\u754c\u6807\u51c6\u3002</li> </ul>"},{"location":"notes/editor/#_11","title":"\u4f7f\u7528\u56fe\u7247","text":"<p>\u56fe\u7247\u662f\u91cd\u8981\u7684\u8f85\u52a9\u8bf4\u660e\u7684\u5de5\u5177\uff0c\u4f46\u662f\u7531\u4e8e Markdown \u7684\u56fe\u7247\u5de5\u5177\u5e76\u4e0d\u5b8c\u5584\uff0c\u6240\u4ee5\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u8981\u6c42\u3002</p> <p>Markdown \u7684\u56fe\u7247\u5c3a\u5bf8\u95ee\u9898</p> <p>Markdown \u6ca1\u6709\u63a7\u5236\u56fe\u7247\u5c3a\u5bf8\u7684\u547d\u4ee4\uff0c\u5176\u9ed8\u8ba4\u7f29\u653e\u56fe\u7247\u4ee5\u586b\u6ee1\u5bbd\u5ea6\u3002\u4e3a\u4e86\u4fdd\u8bc1\u7f8e\u89c2\u6027\u548c\u9605\u8bfb\u4f53\u9a8c\uff0c\u7c7b\u4f3c Logo \u7b49\u5e76\u4e0d\u9700\u8981\u5360\u6ee1\u5bbd\u5ea6\u7684\u56fe\u7247\uff0c\u8bf7\u4f7f\u7528 HTML \u6807\u7b7e\u63a7\u5236\u5176\u5c3a\u5bf8\u3002\u4f8b\u5982\uff1a</p> <pre><code>&lt;center&gt;\n    &lt;img src=\"https://i.loli.net/2021/10/10/NHZOsPCBmazyWjh.png\" height=\"20%\" width=\"20%\"&gt;\n&lt;/center&gt;\n</code></pre> <p>\u5e26\u4e0b\u6807\u7684\u56fe\u7247</p> <p>Markdown \u5e76\u4e0d\u652f\u6301\u5e26\u4e0b\u6807\u7684\u56fe\u7247\uff0c\u6240\u4ee5\u8bf7\u4f7f\u7528 HTML \u6807\u7b7e\u3002\u63a8\u8350\u4f7f\u7528\uff1a</p> <pre><code>&lt;center&gt;\n    &lt;img src=\"https://i.loli.net/2021/09/28/Ti2VR4DtbgcdlkM.png\" /&gt;\n    &lt;img src=\"https://i.loli.net/2021/09/28/Dvpkbd7KjLTH2yl.png\" /&gt;\n    &lt;p style=\"text-align: center; margin-top: 0px; color: gray; padding: 0px\"&gt;\u811a\u672c\u6587\u4ef6\u7684\u4f8b\u5b50&lt;/p&gt;\n&lt;/center&gt;\n</code></pre>"},{"location":"notes/editor/#_12","title":"\u4f7f\u7528\u6298\u53e0\u6846","text":"<p>\u6b63\u6587\u7684\u8bed\u8a00\u98ce\u683c\u5c3d\u91cf\u6b63\u5f0f\uff0c\u611f\u609f\u3001\u601d\u8003\u3001\u542f\u53d1\u3001\u524d\u8a00\u3001\u8865\u5145\u6027\u5185\u5bb9\u3001Checkpoint \u7b49\u975e\u6b63\u6587\u5185\u5bb9\u5c3d\u91cf\u7eb3\u5165\u6298\u53e0\u6846\u4e4b\u4e2d\u3002</p> <p>\u9644\uff1a\u6298\u53e0\u6846\u4f7f\u7528\u6559\u7a0b</p>"},{"location":"notes/editor/#_13","title":"\u4f7f\u7528\u516c\u5f0f","text":"<p>\u5f53\u884c\u6587\u9047\u5230\u6570\u5b66\u516c\u5f0f\u65f6\uff0c\u4f7f\u7528\u884c\u5185\u516c\u5f0f <code>$a \\times b$</code> \u548c\u884c\u95f4\u516c\u5f0f <code>$$ ... $$</code> \u6765\u8fdb\u884c\u6570\u5b66\u5f62\u5f0f\u7684\u8bb2\u89e3\uff0c\u800c\u4e0d\u8981\u4f7f\u7528 x^2 \u8fd9\u79cd\u5f71\u54cd\u9605\u8bfb\u7f8e\u89c2\u7a0b\u5ea6\u7684\u5199\u6cd5\u3002\u6b63\u786e\u793a\u4f8b\uff1ax^2\u3002</p> <p>\u9644\uff1aMathjax \u4ee3\u7801\u6559\u7a0b</p> <p>\u4f7f\u7528\u6570\u5b66\u516c\u5f0f\u7684\u6ce8\u610f\u4e8b\u9879</p> <ul> <li>\u90e8\u5206\u5e38\u7528\u51fd\u6570\uff0c\u5982\u4e09\u89d2\u51fd\u6570\u3001\u5bf9\u6570\u51fd\u6570\u7b49\u7684 Roman \u4f53\u7b26\u53f7\u5df2\u7ecf\u5185\u7f6e\u4e8e LaTeX \u4e2d\u3002\u5982\u4f59\u5f26\u51fd\u6570\u5e94\u5f53\u4f7f\u7528 <code>$\\cos$</code> \u8868\u793a\uff0c\u6e32\u67d3\u4e3a \\cos\u3002\u800c\u4e0d\u5e94\u5f53\u4f7f\u7528 <code>$cos$</code> \u8868\u793a\uff0c\u6e32\u67d3\u4e3a cos\u3002</li> <li>\u6e32\u67d3 Roman \u4f53\uff08\u6b63\u4f53\uff09\u7c97\u4f53\u8bf7\u4f7f\u7528 <code>$\\mathbf{}$</code>\uff0c\u5982 \\mathbf{a}\u3002\u6e32\u67d3 Italic \u4f53\uff08\u659c\u4f53\uff09\u7c97\u4f53\u8bf7\u4f7f\u7528 <code>$\\boldsymbol{a}$</code>\uff0c\u5982 \\boldsymbol{a}\u3002\u8bf7\u4e0d\u8981\u6df7\u6dc6\u4e24\u8005\u3002</li> <li>\u884c\u5185\u516c\u5f0f\u6e32\u67d3\u5206\u6570\u65f6\uff0c\u8bf7\u4f7f\u7528 <code>$\\dfrac{}{}$</code>\uff0c\u5982 \\dfrac{1}{2}\u3002\u800c\u4e0d\u5e94\u4f7f\u7528 <code>$\\frac{}{}$</code>\uff0c\u5982 \\frac{1}{2}\u3002</li> <li>\u884c\u5185\u516c\u5f0f\u5e94\u5c3d\u529b\u907f\u514d\u6c42\u548c\u3001\u6c42\u79ef\u3001\u79ef\u5206\u7b49\u5de8\u8fd0\u7b97\u7b26\uff0c\u5373 \\sum\u3001\\int \u7b49\u8fd0\u7b97\u7b26\u3002</li> <li>\u7701\u7565\u53f7\u8bf7\u4f7f\u7528 <code>$\\cdots$</code>\uff0c\u5982 a_1, a_2, \\cdots, a_n\u3002\u800c\u4e0d\u5e94\u4f7f\u7528 <code>$...$</code>\uff0c\u5982 a_1, a_2, ..., a_n\u3002</li> <li>\u6ce8\u610f\u533a\u5206\u6570\u5b66\u8bed\u8a00\u4e0e\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u3002\u8bf7\u4e0d\u8981\u5728\u516c\u5f0f\u5757\u5185\u4f7f\u7528\u53cc\u7b49\u53f7 == \u4e43\u81f3\u4e09\u7b49\u53f7 === \u8868\u793a\u4e24\u4e2a\u91cf\u76f8\u7b49\uff0c\u8bf7\u4f7f\u7528\u6570\u5b66\u8bed\u8a00\u4e2d\u7684\u5355\u7b49\u53f7 =\uff0c\u5982 a = b\u3002\u6b64\u5916\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u4e2d\u62ec\u53f7\u8fde\u7f00\u8868\u8fbe\u9ad8\u7ef4\u6570\u7ec4\uff0c\u5982 a[i][j][k]\uff0c\u8bf7\u4f7f\u7528\u51fd\u6570\u8868\u793a\uff0c\u5982 f(i, j, k)\u3002</li> <li>\u7279\u6b8a\u96c6\u5408\uff08\u5982\u81ea\u7136\u6570\u96c6\u3001\u5b9e\u6570\u96c6\uff09\u7684\u5b57\u4f53\u8bf7\u4f7f\u7528 <code>$\\mathbb{}$</code>\uff0c\u5982 \\mathbb{R}\u3001\\mathbb{N}\u3002</li> <li>\u62ec\u53f7\u5185\u4e3a\u5206\u5f0f\u7b49\u5185\u5bb9\u65f6\uff0c\u8bf7\u4f7f\u7528\u81ea\u9002\u5e94\u9ad8\u5ea6\u62ec\u53f7 <code>$\\left(\\right)$</code>\uff0c\u5982 \\left(\\dfrac{1}{2}\\right)^n\u3002\u8bf7\u4e0d\u8981\u76f4\u63a5\u4f7f\u7528 <code>$()$</code>\uff0c\u5982 (\\dfrac{1}{2})^n\u3002</li> <li>\u516c\u5f0f\u5185\u8bf7\u4e0d\u8981\u51fa\u73b0\u6c49\u5b57\uff0c\u51fa\u73b0\u82f1\u6587\u5355\u8bcd\u65f6\u8bf7\u4f7f\u7528\u6b63\u4f53\u3002</li> </ul>"},{"location":"notes/editor/#_14","title":"\u4f7f\u7528\u4ee3\u7801\u5757","text":"<p>\u4ee3\u7801\u5757\u5728\u672c\u6280\u80fd\u5f15\u5bfc\u6587\u6863\u4e2d\u8d77\u5230\u4e86\u4e3e\u8db3\u8f7b\u91cd\u7684\u5730\u4f4d\u3002</p> <p>\u6211\u4eec\u7edf\u4e00\u89c4\u5b9a\uff0c\u884c\u5185\u4ee3\u7801\u4f7f\u7528 <code>`</code> \u5305\u88f9\u3002\u884c\u95f4\u4ee3\u7801\u4f7f\u7528 <code>```</code> \u5305\u88f9\u5e76\u5728\u8d77\u59cb\u7684\u4e09\u4e2a\u53cd\u5f15\u53f7\u540e\u6807\u8bb0\u4ee3\u7801\u7684\u8bed\u8a00\uff0c\u4f8b\u5982\uff1a</p> <pre><code>```cpp\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    cout &lt;&lt; \"Hello World\";\n    return 0;\n}\n```\n</code></pre> <p>\u884c\u5185\u4ee3\u7801\u548c\u6b63\u6587\u7684\u533a\u5206</p> <ul> <li>\u63a8\u8350\u5c06\u6587\u4ef6\u540d\u3001\u6587\u4ef6\u8def\u5f84\u7b49\u4f7f\u7528\u884c\u5185\u4ee3\u7801\u8868\u793a\u3002</li> </ul> <p>\u63a8\u8350\u7684\u4ee3\u7801\u98ce\u683c</p> <ul> <li>\u53d8\u91cf\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\u3001\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\u7b49\u5747\u53ef\uff0c\u4f46\u9700\u8981\u5c3d\u91cf\u4fdd\u8bc1\u540c\u4e00\u7bc7\u6587\u6863\u5185\u547d\u540d\u98ce\u683c\u7edf\u4e00\u3002</li> <li>\u4e0b\u5217\u4ee3\u7801\u98ce\u683c\u60ef\u4f8b\u4ee5 C++ \u8bed\u8a00\u4e3a\u4f8b\uff1a<ul> <li>\u5927\u62ec\u53f7\u6362\u884c\u4e0e\u4e0d\u6362\u884c\u5747\u53ef\uff0c\u4f46\u9700\u8981\u4fdd\u8bc1\u540c\u4e00\u7bc7\u6587\u6863\u5185\u683c\u5f0f\u7edf\u4e00\u3002\u4e0d\u6362\u884c\u65f6\uff0c\u5176\u4e0e\u5de6\u4fa7\u7684\u53f3\u62ec\u53f7\u4e4b\u95f4\u5e94\u5f53\u6709\u4e00\u4e2a\u7a7a\u683c\u3002</li> <li>\u5173\u952e\u5b57 <code>if</code>\u3001<code>for</code> \u7b49\u4e0e\u540e\u7eed\u5de6\u62ec\u53f7\u4e4b\u95f4\u5e94\u5f53\u6709\u4e00\u4e2a\u7a7a\u683c\u3002</li> <li>\u8fd0\u7b97\u7b26 <code>+</code>\u3001<code>-</code> \u7b49\u4e0e\u5de6\u53f3\u64cd\u4f5c\u6570\u4e4b\u95f4\u5e94\u5f53\u5404\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c\u8fd0\u7b97\u7b26 <code>.</code>\u3001<code>-&gt;</code> \u4e24\u4fa7\u5747\u4e0d\u5e94\u5f53\u6709\u7a7a\u683c\uff0c\u9017\u53f7 <code>,</code> \u5de6\u4fa7\u4e0d\u5e94\u5f53\u6709\u7a7a\u683c\u800c\u53f3\u4fa7\u5e94\u5f53\u6709\u7a7a\u683c\u3002</li> <li>\u884c\u5185\u6ce8\u91ca\u8d77\u59cb\u6807\u8bb0 <code>//</code> \u4e0e\u6ce8\u91ca\u6587\u5b57\u95f4\u5e94\u5f53\u6709\u4e00\u4e2a\u7a7a\u683c\u3002</li> <li>\u4f7f\u7528 2 \u4e2a\u7a7a\u683c\u6216\u8005 4 \u4e2a\u7a7a\u683c\u8fdb\u884c\u7f29\u8fdb\u5747\u53ef\uff0c\u4f46\u9700\u8981\u4fdd\u8bc1\u540c\u4e00\u7bc7\u6587\u6863\u5185\u7edf\u4e00\u3002</li> </ul> </li> </ul>"},{"location":"notes/reader/","title":"\u8bfb\u8005\u987b\u77e5","text":""},{"location":"notes/reader/#_2","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u6587\u6863\u5c31\u662f\u6587\u6863</p> <p>\u5982\u4f55\u4f7f\u7528\u8fd9\u4e00\u4efd\u6587\u6863\uff0c\u5176\u5b9e\u6ca1\u6709\u90a3\u4e48\u591a\u6761\u6761\u6846\u6846\u3002</p> <p>\u6587\u6863\u7ef4\u62a4\u8005\u3001\u7f16\u5199\u8005\u4f1a\u5c3d\u529b\u4fdd\u8bc1\u6bcf\u4e00\u7bc7\u6587\u6863\u5177\u6709\u5b8c\u6574\u7684\u903b\u8f91\u94fe\u6761\uff0c\u5c3d\u529b\u4fdd\u8bc1\u8bfb\u8005\u53ef\u4ee5\u505a\u5230\u4ece\u5934\u5230\u5c3e\u901a\u8bfb\u3002\u6240\u4ee5\u5982\u679c\u60a8\u662f\u67d0\u4e2a\u9886\u57df\u3001\u6846\u67b6\u3001\u8bed\u8a00\u7684\u521d\u5b66\u8005\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u7740\u4ece\u6587\u6863\u7684\u6700\u5f00\u5934\u5f00\u59cb\uff0c\u8ddf\u968f\u7740\u6587\u6863\u7684\u903b\u8f91\u5b66\u4e60\u3002</p> <p>\u6bcf\u7bc7\u6587\u6863\u90fd\u4f1a\u6709\u524d\u7f6e\u77e5\u8bc6\u90e8\u5206\uff08\u4f4d\u4e8e\u4f53\u91cf\u8f83\u5c0f\u7684\u6587\u6863\u7684\u5f00\u5934\u6216\u8005\u4f53\u91cf\u8f83\u5927\u7684\u6587\u6863\u7684 Index \u9875\u9762\uff09\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u5728\u901a\u8bfb\u6587\u6863\u4e4b\u524d\uff0c\u5148\u786e\u8ba4\u81ea\u5df1\u5df2\u7ecf\u638c\u63e1\u4e86\u8fd9\u4e00\u90e8\u5206\u8981\u6c42\u7684\u524d\u7f6e\u77e5\u8bc6\u3002</p> <p>\u6bcf\u7bc7\u6587\u6863\u8fd8\u4f1a\u6709\u540e\u7eed\u62d3\u5c55\u6216\u8005\u8d44\u6e90\u94fe\u63a5\u90e8\u5206\uff08\u4f4d\u4e8e\u4f53\u91cf\u8f83\u5c0f\u7684\u6587\u6863\u7684\u672b\u5c3e\u6216\u8005\u4f53\u91cf\u8f83\u5927\u7684\u6587\u6863\u7684 Index \u9875\u9762\uff09\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u5728\u901a\u8bfb\u6587\u6863\u4e4b\u540e\uff0c\u6839\u636e\u81ea\u5df1\u7684\u77e5\u8bc6\u9700\u6c42\u7ee7\u7eed\u5b66\u4e60\u8fd9\u4e9b\u90e8\u5206\u7ed9\u51fa\u6765\u7684\u8d44\u6599\u3002</p> <p>\u60a8\u4e5f\u53ef\u4ee5\u5c06\u8be5\u6587\u6863\u4f5c\u4e3a\u5de5\u5177\u4e66\uff0c\u5728\u9700\u8981\u7684\u65f6\u5019\u6839\u636e\u76ee\u5f55\u67e5\u8be2\u60f3\u8981\u4e86\u89e3\u7684\u77e5\u8bc6\u3002</p>"},{"location":"notes/reader/#_3","title":"\u8bfe\u7a0b\u6307\u5f15\u4e0e\u8d44\u6e90\u94fe\u63a5","text":"<p>\u5982\u679c\u60a8\u662f\u7531\u4e8e\u8bfe\u7a0b\u8981\u6c42\u9700\u8981\u5b66\u4e60\u65b0\u7684\u8bed\u8a00\u3001\u6846\u67b6\u7b49\u7b49\uff0c\u53ef\u4ee5\u5148\u8fdb\u5165\u8bfe\u7a0b\u6307\u5f15\u90e8\u5206\uff0c\u6839\u636e\u8bfe\u7a0b\u540d\u67e5\u627e\u53ef\u4ee5\u53c2\u8003\u7684\u6587\u6863\u5217\u8868\u3002</p> <p>\u8d44\u6e90\u94fe\u63a5\u90e8\u5206\u5219\u5217\u4e3e\u51fa\u4e86\u53ef\u4f9b\u5927\u5bb6\u8bfe\u5916\u5b66\u4e60\u7684\u4e00\u4e9b\u7f51\u7ad9\u548c\u4e66\u76ee\u3002</p>"},{"location":"notes/reader/#_4","title":"\u5982\u4f55\u5411\u6211\u4eec\u53cd\u9988","text":"<p>\u672c\u6587\u6863\u4f9d\u7136\u662f\u4e00\u4efd\u8fd8\u4e0d\u6210\u719f\u7684\u6587\u6863\uff0c\u5185\u5bb9\u53ef\u80fd\u8fd8\u4e0d\u5b8c\u5907\uff0c\u4e00\u4e9b\u529f\u80fd\u53ef\u80fd\u4e5f\u5e76\u6ca1\u6709\u90a3\u4e48\u7a33\u5b9a\u3002\u6240\u4ee5\uff0c\u5982\u679c\u60a8\u5728\u9605\u8bfb\u4e2d\u9047\u5230\u4e86\u95ee\u9898\uff0c\u65e0\u8bba\u662f\u94fe\u63a5\u5931\u6548\u3001\u9875\u9762\u7f3a\u5931\u8fd9\u4e9b\u529f\u80fd\u95ee\u9898\uff0c\u8fd8\u662f\u6587\u4e0d\u5bf9\u9898\u3001\u8bb2\u89e3\u6a21\u7cca\u3001\u5185\u5bb9\u77db\u76fe\u8fd9\u4e9b\u5185\u5bb9\u95ee\u9898\uff0c\u90fd\u53ef\u4ee5\u5411\u6211\u4eec\u63d0\u51fa\uff0c\u6211\u4eec\u4f1a\u5c3d\u5feb\u7b54\u590d\u3002\u53e6\u5916\uff0c\u6240\u6709\u7684\u6539\u8fdb\u610f\u89c1\u3001\u4fee\u6539\u5efa\u8bae\u4e5f\u90fd\u53ef\u4ee5\u5411\u6211\u4eec\u63d0\u51fa\u3002</p> <p>\u76ee\u524d\u6211\u4eec\u63a5\u53d7\u53cd\u9988\u7684\u65b9\u5f0f\u4e3a GitHub Issue\uff0c\u4e3a\u6b64\uff0c\u60a8\u9700\u8981\u6ce8\u518c\u4e00\u4e2a GitHub \u8d26\u53f7\u3002</p> <p>\u9700\u8981\u53cd\u9988\u65f6\uff0c\u70b9\u51fb\u9875\u9762\u53f3\u4e0a\u65b9\u7684\u201cSAST skill docs\u201d\u8fdb\u5165\u6211\u4eec\u7684 GitHub Repo\uff0c\u70b9\u51fb Issue \u680f\u76ee\u540e\u70b9\u51fb\u53f3\u4fa7\u7684 New issue \u6309\u94ae\uff0c\u5728\u8f93\u5165\u6846\u5185\u8f93\u5165\u60a8\u60f3\u8981\u53cd\u9988\u7684\u95ee\u9898\u6216\u8005\u610f\u89c1\u5efa\u8bae\u540e\uff0c\u70b9\u51fb Submit new issue \u5373\u53ef\u3002</p> <ul> <li> <p>\u5982\u679c\u60a8\u60f3\u8981\u53cd\u9988\u529f\u80fd\u95ee\u9898\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u80fd\u591f\u5728 Issue \u4e2d\u8bf4\u660e\u8be5\u95ee\u9898\u7684\u5177\u4f53\u8868\u73b0\u3001\u5982\u4f55\u590d\u73b0\u8fd9\u4e00\u529f\u80fd\u95ee\u9898\u4ee5\u53ca\u8be5\u95ee\u9898\u662f\u5426\u53ef\u4ee5\u7a33\u5b9a\u51fa\u73b0\u3002</p> </li> <li> <p>\u5982\u679c\u60a8\u60f3\u8981\u53cd\u9988\u5185\u5bb9\u95ee\u9898\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u80fd\u591f\u8bf4\u660e\u662f\u54ea\u4e00\u7bc7\u6587\u6863\u7684\u54ea\u4e00\u6bb5\u843d\u7684\u5185\u5bb9\u4e0d\u9002\u5f53\uff0c\u5982\u679c\u80fd\u591f\u63d0\u51fa\u4fee\u6539\u610f\u89c1\u5219\u66f4\u597d\u3002\u6211\u4eec\u4f1a\u5c3d\u5feb\u548c\u8fd9\u7bc7\u6587\u6863\u7684\u4e3b\u7f16\u5199\u8005\u8ba8\u8bba\u4fee\u6539\u3002</p> </li> <li> <p>\u5982\u679c\u60a8\u60f3\u8981\u53cd\u9988\u6539\u8fdb\u610f\u89c1\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u80fd\u591f\u8bf4\u660e\u5982\u4f55\u6539\u8fdb\u4ee5\u53ca\u8fd9\u6837\u6539\u8fdb\u80fd\u5e26\u6765\u7684\u597d\u5904\u3002</p> </li> <li> <p>\u5982\u679c\u4e0a\u8ff0\u53cd\u9988\u7c7b\u578b\u5747\u4e0d\u7b26\u5408\uff0c\u53ea\u9700\u8981\u5c06\u60a8\u60f3\u8981\u53cd\u9988\u7684\u5185\u5bb9\u5199\u660e\u767d\u5373\u53ef\u3002</p> </li> </ul> <p>\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u7f16\u5199\u8005\u3001\u8bfb\u8005\u3001\u7ef4\u62a4\u8005\u7684\u5171\u540c\u52aa\u529b\uff0c\u6253\u9020\u597d\u8fd9\u4e00\u4efd\u6280\u80fd\u5f15\u5bfc\u6587\u6863\uff0c\u5c06\u5927\u5bb6\u7684\u7ecf\u9a8c\u548c\u77e5\u8bc6\u4f20\u9012\u4e0b\u53bb\uff0c\u4e3a\u6253\u9020 user-friendly \u7684\u8ba1\u7b97\u673a\u7cfb\u800c\u52aa\u529b\u3002</p>"},{"location":"source/","title":"\u8d44\u6e90\u94fe\u63a5","text":"<p>\u672c\u90e8\u5206\u6536\u96c6\u4e86\u82e5\u5e72\u7684\u8d44\u6e90\u94fe\u63a5\u3002</p> <p>\u4e92\u8054\u7f51\u7684\u5b9d\u85cf</p> <p>\u6211\u4eec\u5e0c\u671b\u8bfb\u8005\u80fd\u4e3a\u6211\u4eec\u63d0\u4f9b\u9690\u85cf\u5728\u4e92\u8054\u7f51\u5404\u4e2a\u89d2\u843d\u7684\u4f18\u8d28\u8d44\u6e90\uff0c\u5206\u4eab\u7ed9\u5927\u5bb6\u5b66\u4e60\u3002</p>"},{"location":"source/basic-tutorial/","title":"\u57fa\u7840\u6280\u80fd\u57f9\u8bad","text":"<p>\u672c\u9875\u9762\u63d0\u4f9b\u8fd1\u5e74\u7684\u57fa\u7840\u6280\u80fd\u57f9\u8bad\u4e3b\u9875\u94fe\u63a5\u3002</p> <p>Info</p> <p>\u6e05\u534e\u5927\u5b66\u8ba1\u7b97\u673a\u7cfb\u5b66\u751f\u79d1\u534f\u7ec4\u7ec7\u7684\u57fa\u7840\u6280\u80fd\u57f9\u8bad\u4e3b\u8981\u9762\u5411\u8ba1\u7b97\u673a\u7cfb\u7684\u5927\u4e00\u65b0\u751f\uff0c\u65e8\u5728\u5e2e\u52a9\u4ed6\u4eec\u5b66\u4e60\u4e00\u4e9b\u8f85\u52a9\u6027\u57fa\u7840\u77e5\u8bc6\uff0c\u4e3a\u4e13\u4e1a\u8bfe\u7a0b\u7684\u5b66\u4e60\u94fa\u5e73\u9053\u8def\u3002</p> <ul> <li>2023 \u5e74\u57fa\u7840\u6280\u80fd\u57f9\u8bad</li> </ul>"},{"location":"source/book/","title":"\u4e66\u76ee\u63a8\u8350","text":"<p>\u672c\u9875\u9762\u5c06\u6839\u636e\u6e05\u534e\u5927\u5b66\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u7cfb\u57f9\u517b\u65b9\u6848\u4e2d\u7684\u8bfe\u7a0b\u9700\u8981\u53ca\u5bf9\u4e0d\u540c\u9636\u6bb5\u6240\u9700\u8865\u5145\u77e5\u8bc6\u7684\u8c03\u7814\uff0c\u6307\u51fa\u5404\u4e2a\u8bfe\u7a0b\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u8865\u5145\u5b66\u4e60\u7684\u7406\u8bba\u4e66\u7c4d\u3002</p>"},{"location":"source/book/#_2","title":"\u5927\u4e00\u5b66\u5e74","text":"<p>\u300a\u8ba1\u7b97\u673a\u79d1\u5b66\u6982\u8bba\uff08Computer Science: An Overview\uff09\u300b</p> <ul> <li>\u63a8\u8350\u7406\u7531\uff1a\u5bf9\u4e8e CS \u4e13\u4e1a\u8bbe\u8ba1\u7684\u6700\u57fa\u672c\u7684\u51e0\u4e2a\u65b9\u9762\u4ecb\u7ecd\u7684\u5341\u5206\u900f\u5f7b\uff0c\u6709\u52a9\u4e8e\u8bfb\u8005\u8fc5\u901f\u6784\u5efa\u8d77\u5bf9\u6574\u4e2a CS \u4e13\u4e1a\u7684\u8ba4\u77e5\u3002</li> </ul> <p>\u300aC++ Primer\u300b</p> <ul> <li>\u63a8\u8350\u7406\u7531\uff1a\u300a\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840\u300b\u8bfe\u7a0b\u53c2\u8003\u4e66\u76ee\uff0c\u5bf9\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u601d\u60f3\u4ecb\u7ecd\u7684\u5341\u5206\u8be6\u7ec6\u3002</li> </ul>"},{"location":"source/book/#_3","title":"\u5927\u4e8c\u5b66\u5e74","text":"<p>\u300a\u6df1\u5165\u7406\u89e3\u8ba1\u7b97\u673a\u7cfb\u7edf\uff08CSAPP\uff09\u300b\uff08\u82f1\u6587\uff1aComputer Systems: A Programmer's Perspective\uff09</p> <ul> <li>\u63a8\u8350\u7406\u7531\uff1a\u300a\u6c47\u7f16\u8bed\u8a00\u7a0b\u5e8f\u8bbe\u8ba1\u300b\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\u53c2\u8003\u4e66\u76ee\u3002\u4e3b\u8981\u4ecb\u7ecd\u4e86\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u5305\u62ec\u6700\u5e95\u5c42\u7684\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8868\u793a\u3001\u6d41\u6c34\u7ebf\u6307\u4ee4\u7684\u6784\u6210\u3001\u865a\u62df\u5b58\u50a8\u5668\u3001\u7f16\u8bd1\u7cfb\u7edf\u3001\u52a8\u6001\u52a0\u8f7d\u5e93\u4ee5\u53ca\u7528\u6237\u5e94\u7528\u7b49\u3002\u4e66\u4e2d\u63d0\u4f9b\u4e86\u5927\u91cf\u5b9e\u9645\u64cd\u4f5c\uff0c\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u66f4\u597d\u5730\u7406\u89e3\u7a0b\u5e8f\u6267\u884c\u7684\u65b9\u5f0f\uff0c\u6539\u8fdb\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\u3002</li> </ul>"},{"location":"source/lecture/","title":"AAIA \u8bb2\u5ea7","text":"<p>\u672c\u9875\u9762\u63d0\u4f9b\u6e05\u534e\u5927\u5b66\u5b66\u751f\u4eba\u5de5\u667a\u80fd\u57fa\u7840\u67b6\u6784\u534f\u4f1a\uff08Tsinghua University Student Association of AI Architecture\uff0cTHAAIA\uff09\u6240\u7ec4\u7ec7\u8bb2\u5ea7\u7684\u76f8\u5173\u94fe\u63a5\uff0c\u5e0c\u671b\u5bf9\u4eba\u5de5\u667a\u80fd\u611f\u5174\u8da3\u7684\u540c\u5b66\u6709\u6240\u5e2e\u52a9\u3002</p>"},{"location":"source/lecture/#_1","title":"\u3010\u6253\u5f00\u4eba\u5de5\u667a\u80fd\u7684\u9ed1\u7bb1\u3011\u7cfb\u5217\u8bb2\u5ea7","text":"<ul> <li> <p>\u7b2c\u4e00\u8bb2 \u8d70\u8fdb\u673a\u5668\u5b66\u4e60</p> <p>\u63a8\u9001</p> <p>\u8bb2\u4e49</p> <p>\u56de\u653e \uff08\u5bc6\u7801\uff1aazhG \uff09</p> </li> <li> <p>\u7b2c\u4e8c\u8bb2 \u8d70\u5411 AIGC \u6269\u6563\u6a21\u578b\u7684\u539f\u7406\u548c\u5e94\u7528</p> <p>\u63a8\u9001</p> <p>\u8bb2\u4e49</p> <p>\u56de\u653e</p> </li> </ul>"},{"location":"source/source/","title":"\u5916\u90e8\u94fe\u63a5","text":"<p>\u4e3a\u4e86\u8ba9\u8bfb\u8005\u66f4\u597d\u5730\u5b66\u4e60\u76f8\u5173\u77e5\u8bc6\uff0c\u672c\u9875\u9762\u63d0\u4f9b\u90e8\u5206\u5916\u90e8\u8d44\u6e90\u7684\u94fe\u63a5\uff0c\u8bfb\u8005\u53ef\u4ee5\u89c6\u81ea\u8eab\u60c5\u51b5\u4f7f\u7528\u3002</p> <ul> <li>OI-Wiki https://oi-wiki.org</li> </ul> <p>\u7b97\u6cd5\u7ade\u8d5b\u4e0e\u8bfe\u7a0b</p> <p>OI-wiki \u4e3b\u8981\u9762\u5411\u7b97\u6cd5\u7ade\u8d5b\u53c2\u8d5b\u8005\uff0c\u800c\u7b97\u6cd5\u7ade\u8d5b\u4e2d\u90e8\u5206\u7b97\u6cd5\u7684\u5b9e\u73b0\u4e0e\u8bfe\u5185\u5b9e\u73b0\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\uff0c\u8bf7\u52a1\u5fc5\u6ce8\u610f\u3002</p> <ul> <li>CS \u81ea\u5b66\u6307\u5357 https://csdiy.wiki</li> </ul> <p>CS \u81ea\u5b66\u6307\u5357</p> <p>\u4ece 0 \u5f00\u59cb\u7684 CS \u81ea\u5b66 Roadmap\uff0c\u6309\u77e5\u8bc6\u7c7b\u522b\u6574\u7406\u4e86\u76f8\u5f53\u591a\u7684\u4f18\u8d28\u8bfe\u7a0b\uff0c\u53ef\u4ee5\u5728\u81ea\u5b66\u65f6\u53c2\u8003\u3002</p>"}]}